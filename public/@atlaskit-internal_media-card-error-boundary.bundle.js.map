{"version":3,"sources":["webpack:///./node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsErrorBoundary.js","webpack:///./node_modules/@atlaskit/media-common/dist/esm/analytics/constants.js","webpack:///./node_modules/@atlaskit/media-card/dist/esm/root/media-card-analytics-error-boundary.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","BaseAnalyticsErrorBoundary","_Component","_super","props","_this","analyticsErrorPayload","_this$props","createAnalyticsEvent","channel","data","action","eventType","attributes","browserInfo","window","navigator","userAgent","fire","state","hasError","value","error","info","onError","payload","fireAnalytics","setState","_this$props2","children","ErrorComponent","createElement","AnalyticsErrorBoundary","ANALYTICS_MEDIA_CHANNEL","MediaCardAnalyticsErrorBoundary","_React$Component","_this$props$data","Component"],"mappings":"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","file":"@atlaskit-internal_media-card-error-boundary.bundle.js","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport withAnalyticsEvents from '../hocs/withAnalyticsEvents';\nimport AnalyticsContext from './AnalyticsContext/LegacyAnalyticsContext';\n// eslint-disable-next-line @repo/internal/react/no-class-components\nexport var BaseAnalyticsErrorBoundary = /*#__PURE__*/function (_Component) {\n  _inherits(BaseAnalyticsErrorBoundary, _Component);\n\n  var _super = _createSuper(BaseAnalyticsErrorBoundary);\n\n  function BaseAnalyticsErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, BaseAnalyticsErrorBoundary);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fireAnalytics\", function (analyticsErrorPayload) {\n      var _this$props = _this.props,\n          createAnalyticsEvent = _this$props.createAnalyticsEvent,\n          channel = _this$props.channel,\n          data = _this$props.data;\n      createAnalyticsEvent({\n        action: 'UnhandledError',\n        eventType: 'ui',\n        attributes: _objectSpread(_objectSpread({\n          browserInfo: window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : 'unknown'\n        }, data), analyticsErrorPayload)\n      }).fire(channel);\n    });\n\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  _createClass(BaseAnalyticsErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      var onError = this.props.onError;\n      var payload = {\n        error: error,\n        info: info\n      };\n      this.fireAnalytics(payload);\n      onError && onError(error, info);\n      this.setState({\n        hasError: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          data = _this$props2.data,\n          children = _this$props2.children,\n          ErrorComponent = _this$props2.ErrorComponent;\n      var hasError = this.state.hasError;\n\n      if (hasError && ErrorComponent) {\n        return /*#__PURE__*/React.createElement(AnalyticsContext, {\n          data: data\n        }, /*#__PURE__*/React.createElement(ErrorComponent, null));\n      }\n\n      return /*#__PURE__*/React.createElement(AnalyticsContext, {\n        data: data\n      }, children);\n    }\n  }]);\n\n  return BaseAnalyticsErrorBoundary;\n}(Component);\nvar AnalyticsErrorBoundary = withAnalyticsEvents()(BaseAnalyticsErrorBoundary);\nexport default AnalyticsErrorBoundary;","export var ANALYTICS_MEDIA_CHANNEL = 'media';","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { ANALYTICS_MEDIA_CHANNEL } from '@atlaskit/media-common';\nimport AnalyticsErrorBoundary from '@atlaskit/analytics-next/AnalyticsErrorBoundary';\n\nvar MediaCardAnalyticsErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(MediaCardAnalyticsErrorBoundary, _React$Component);\n\n  var _super = _createSuper(MediaCardAnalyticsErrorBoundary);\n\n  function MediaCardAnalyticsErrorBoundary() {\n    _classCallCheck(this, MediaCardAnalyticsErrorBoundary);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MediaCardAnalyticsErrorBoundary, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          _this$props$data = _this$props.data,\n          data = _this$props$data === void 0 ? {} : _this$props$data,\n          children = _this$props.children;\n      return /*#__PURE__*/React.createElement(AnalyticsErrorBoundary, {\n        channel: ANALYTICS_MEDIA_CHANNEL,\n        data: data\n      }, children);\n    }\n  }]);\n\n  return MediaCardAnalyticsErrorBoundary;\n}(React.Component);\n\n_defineProperty(MediaCardAnalyticsErrorBoundary, \"displayName\", 'MediaCardAnalyticsErrorBoundary');\n\nexport { MediaCardAnalyticsErrorBoundary as default };"],"sourceRoot":""}