(window.webpackJsonp=window.webpackJsonp||[]).push([[66,0,1,2,3,13,26,138],{1238:function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return q}));var r,i=n(8),a=n.n(i),o=n(9),c=n.n(o),s=n(13),l=n.n(s),u=n(15),d=n.n(u),f=n(6),p=n.n(f),v=n(1),h=n.n(v),m=n(7),b=n.n(m),g=n(0),y=n.n(g),O=n(48),w=n(1274),j=n.n(w),x=n(1275),k=n.n(x),R=n(1276),P=n.n(R),I=n(1277),C=n.n(I),E=n(1278),S=n.n(E),B=n(1279),M=n.n(B),z=n(338),N=n.n(z),T=n(339),A=n.n(T),D=n(265),F=n.n(D),L=n(496),_=n.n(L),U=n(309),V=n.n(U),H=n(745),W=n.n(H);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var X=O.a.div(r||(r=b()(["\n  display: inline-flex;\n  ","\n"])),(function(e){return"large"===e.size?"padding: 4px;":""}));X.displayName="IconWrapper";var Y={image:j.a,audio:k.a,video:P.a,doc:C.a,archive:S.a,unknown:M.a},K={image:N.a,audio:A.a,video:F.a,doc:_.a,archive:V.a,unknown:W.a},q=function(e){l()(n,e);var t=G(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.testId,i="large"===n?Y:K,a=i[t||"unknown"]||i.unknown;return y.a.createElement(X,{"data-testid":r,"data-type":t,size:n},y.a.createElement(a,{label:"media-type"}))}}]),n}(y.a.Component);h()(q,"defaultProps",{type:"unknown",testId:"file-type-icon",size:"large"})},1255:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,i=n(0),a=n.n(i),o=n(155),c=n(139),s=n(1),l=n.n(s),u=n(503),d=(r={},l()(r,u.b,"next"),l()(r,u.e,"prev"),l()(r,u.d,"first"),l()(r,u.c,"last"),r);var f=Object(i.createContext)({menuItemRefs:[],registerRef:c.a});t.b=function(e){var t=e.children,n=Object(i.useRef)([]),r=Object(i.useCallback)((function(e){e&&!n.current.includes(e)&&n.current.push(e)}),[]);Object(i.useEffect)((function(){return Object(o.bind)(window,{type:"keydown",listener:(e=n.current,function(t){var n=e.findIndex((function(e){var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));switch(d[t.key]){case"next":n<e.length-1&&(t.preventDefault(),e[n+1].focus());break;case"prev":n>0&&(t.preventDefault(),e[n-1].focus());break;case"first":t.preventDefault(),e[0].focus();break;case"last":t.preventDefault(),e[e.length-1].focus();break;default:return}})});var e}));var c={menuItemRefs:n.current,registerRef:r};return a.a.createElement(f.Provider,{value:c},t)}},1260:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="mvng-hide-controls"},1261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0112 4a4 4 0 014 4.002V10a2 2 0 012 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 016 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0012 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e));o.displayName="LockFilledIcon";var c=o;t.default=c},1272:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),i=n.n(r),a=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return e},n=void 0!==e,r=Object(a.useState)(t),o=i()(r,2),c=o[0],s=o[1],l=Object(a.useRef)(n);Object(a.useEffect)((function(){l.current=n}),[n]);var u=n?e:c,d=Object(a.useCallback)((function(e){l.current||s(e)}),[]);return[u,d]}},1273:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),i=n.n(r),a=n(1229),o=n(1238),c=function(e){var t=e.mediaType,n=void 0===t?"unknown":t,r=e.mimeType,c=void 0===r?"unknown":r,s=e.name,l=void 0===s?"unknown":s,u=e.testId,d=e.size,f=void 0===d?"large":d,p=Object(a.d)(c,l);if(p){var v=p.icon;return i.a.createElement(o.a,{"data-testid":u,"data-type":p.label,size:f},i.a.createElement(v,{label:p.label}))}return i.a.createElement(o.b,{testId:u,type:n,size:f})}},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm7 17l-1.293-1.293a1 1 0 00-1.414 0L4 19h16v-3.6l-3.295-3.624a1 1 0 00-1.447-.034L10 17zm-3.333-6.667a2.667 2.667 0 100-5.333 2.667 2.667 0 000 5.333z"/></svg>'},e,{size:"medium"}));o.displayName="Image24Icon";var c=o;t.default=c},1275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm16 6.673V5.619c0-.38-.322-.656-.72-.615l-8.56.886c-.41.043-.72.383-.72.764v6.462A2.8 2.8 0 008.2 13h-.4A2.8 2.8 0 005 15.8v.4A2.8 2.8 0 007.8 19h.4a2.8 2.8 0 002.8-2.8V8.863l6-.62v3.873a2.8 2.8 0 00-.8-.116h-.4a2.8 2.8 0 00-2.8 2.8v.4a2.8 2.8 0 002.8 2.8h.4a2.8 2.8 0 002.8-2.8V6.673z"/></svg>'},e,{size:"medium"}));o.displayName="Audio24Icon";var c=o;t.default=c},1276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 7.995v8.01c0 .54.446.995.995.995h8.01c.54 0 .995-.446.995-.995v-8.01c0-.54-.446-.995-.995-.995h-8.01C4.455 7 4 7.446 4 7.995zm15.16 7.943c.38.185.84-.066.84-.457V8.52c0-.39-.46-.642-.84-.457L16 9.592v4.817l3.16 1.53z"/></svg>'},e,{size:"medium"}));o.displayName="Video24Icon";var c=o;t.default=c},1277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 18c0 .556.446 1 .995 1h8.01c.54 0 .995-.448.995-1 0-.556-.446-1-.995-1h-8.01c-.54 0-.995.448-.995 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1z"/></svg>'},e,{size:"medium"}));o.displayName="Document24Icon";var c=o;t.default=c},1278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm6 3v3h3V3H9zm3 3v3h3V6h-3zM9 9v3h3V9H9zm3 3v3h3v-3h-3zm-3 3v3h3v-3H9zm3 3v3h3v-3h-3z"/></svg>'},e,{size:"medium"}));o.displayName="Archive24Icon";var c=o;t.default=c},1279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M12 4H8a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2v-6.995h-2V18H8V6h4v2a2 2 0 002 2h3.5a.5.5 0 00.5-.5V8.213a.5.5 0 00-.145-.352L14.61 4.59A2 2 0 0013.19 4H12zM3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3z"/></svg>'},e,{size:"medium"}));o.displayName="Generic24Icon";var c=o;t.default=c},1300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e));o.displayName="MoreIcon";var c=o;t.default=c},1301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e));o.displayName="CheckIcon";var c=o;t.default=c},1355:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(22),i=n.n(r),a=n(1),o=n.n(a),c=n(34),s=n.n(c),l=n(45),u=n.n(l),d=n(0),f=n.n(d),p=n(1208),v=n(3),h=["appearance","buttonRef"],m=["buttonStyles"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={default:{background:{default:{light:"transparent"},hover:{light:v.DN60},active:{light:v.B75}},boxShadowColor:{focus:{light:v.B75}},color:{default:{light:v.DN400},hover:{light:v.DN400},active:{light:v.B400},disabled:{light:v.DN100}}},primary:{background:{default:{light:v.B100},hover:{light:v.B75},active:{light:v.B200},disabled:{light:v.DN70}},boxShadowColor:{focus:{light:v.B75}},color:{default:{light:v.DN30}}}};function O(e,t){var n=t.appearance,r=t.state,i=t.mode;if(e[n]){var a=e[n];return Object.keys(a).reduce((function(e,t){var n=a;return[t,r,i].forEach((function(r){n[r]&&("object"===u()(n[r])?n=n[r]:e[t]=n[r])})),e}),{})}}function w(e){var t=e.appearance,n=void 0===t?"default":t,r=e.buttonRef,a=s()(e,h);return f.a.createElement(p.a,i()({},a,{ref:r,appearance:n,theme:function(e,t){var r=e(t),i=r.buttonStyles,a=s()(r,m);return g({buttonStyles:g(g({},i),O(y,g(g({},t),{},{appearance:n})))},a)}}))}},1356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M11.359 15V9.004h-1.5v2.352H7.504V9.004H6V15h1.504v-2.418h2.355V15h1.5zm1.393-6v6h2.483C17.013 15 18 13.911 18 11.942 18 10.068 16.996 9 15.235 9h-2.483zm1.503 1.226h.71c.946 0 1.503.627 1.503 1.745 0 1.188-.529 1.803-1.504 1.803h-.709v-3.548z" fill="inherit"/></g></svg>'},e));o.displayName="VidHdCircleIcon";var c=o;t.default=c},1361:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return c(e,t);return null},e.exports.format=c,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,i=/(?:\.0*|(\.[^0]+)0+)$/,a={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function c(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),o=t&&t.thousandsSeparator||"",c=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&a[u.toLowerCase()]||(u=n>=a.pb?"PB":n>=a.tb?"TB":n>=a.gb?"GB":n>=a.mb?"MB":n>=a.kb?"KB":"B");var d=(e/a[u.toLowerCase()]).toFixed(s);return l||(d=d.replace(i,"$1")),o&&(d=d.split(".").map((function(e,t){return 0===t?e.replace(r,o):e})).join(".")),d+c+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=o.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),isNaN(t)?null:Math.floor(a[r]*t)}},1362:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(744),i={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},a=function(e){var t=e.day,n=e.month,r=e.year,i=e.hour,a=e.minute,o=e.dayPeriod,c=(void 0===o?"":o).replace(/\./g,"").replace(/\s/g,"");return"".concat(t," ").concat(n," ").concat(r,", ").concat(i,":").concat(a," ").concat(c)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Object(r.a)(t,i);return a(n.formatToParts(e))}},1383:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return A}));var r,i,a=n(19),o=n.n(a),c=n(10),s=n.n(c);!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(r||(r={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(i||(i={}));var l,u={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},d=n(1),f=n.n(d),p=n(45),v=n.n(p),h=i.XResolution,m=i.YResolution;function b(e){return new Promise(function(){var t=o()(s.a.mark((function t(r,i){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=5;break}return t.next=3,n.e(161).then(n.t.bind(null,1988,7));case 3:a=t.sent,l=a.default||a;case 5:l.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"!==v()(n)||e!==h&&e!==m||!("numerator"in n)||(t[e]=n.numerator),"number"==typeof t[e]&&(t[e]="".concat(t[e]))})),r(t)}catch(e){i(e)}}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}var g,y=n(1229);function O(e){return w.apply(this,arguments)}function w(){return(w=o()(s.a.mark((function e(t){var r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return e.next=3,n.e(166).then(n.t.bind(null,1987,7));case 3:r=e.sent,g=r.default||r;case 5:return e.next=7,Object(y.a)(t);case 7:return i=e.sent,a=g(i),e.next=11,j(a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return(x=o()(s.a.mark((function e(t){var n,r,i,a,o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",r={},i=0;case 3:if(!(i<t.length)){e.next=12;break}if("IEND"!==(a=t[i]).name){e.next=7;break}return e.abrupt("break",12);case 7:"iTXt"===a.name&&(n=String.fromCharCode.apply(null,Array.from(a.data))),"pHYs"===a.name&&(o=new DataView(a.data.buffer),1===o.getUint8(8)&&(c=o.getUint32(0),l=o.getUint32(4),r={PixelPerUnitX:c,PixelPerUnitY:l}));case 9:++i,e.next=3;break;case 12:return e.abrupt("return",{iTXt:n,pHYs:r});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var r=n[2];t[r]=n[3]}})),t}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){return C.apply(this,arguments)}function C(){return(C=o()(s.a.mark((function e(t){var n,i,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,n!==r.PNG){e.next=12;break}return e.next=5,O(t);case 5:return i=e.sent,a=i.iTXt,o=i.pHYs,c=P(P({},k(a)),o),e.abrupt("return",c);case 12:if(t.type!==r.JPEG){e.next=16;break}return e.next=15,b(t);case 15:return e.abrupt("return",e.sent);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}var E=n(1230),S=i.Orientation,B=i.XResolution;function M(e){return z.apply(this,arguments)}function z(){return(z=o()(s.a.mark((function e(t){var n,r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=n.width,i=n.height,a=n.tags,o=N(t.file,a),e.abrupt("return",{scaleFactor:o,width:r,height:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(e){}return null}(e);return null!==n?n:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:F(t,B,72)/72:1}var T=function(e){if(e&&e[S]){var t=e[S];if(t){var n=parseInt(t,10);return isNaN(n)?u[t]:n}}return 1};function A(e){return D.apply(this,arguments)}function D(){return(D=o()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return n=e.sent,e.abrupt("return",T(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){try{var r=parseFloat("".concat(e[t]));if(!isNaN(r))return r}catch(e){}return n}function L(e){return _.apply(this,arguments)}function _(){return(_=o()(s.a.mark((function e(t){var n,r,i,a,o,c,l,u,d,f,p,v,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.src,i=n.type,a=0,o=0,e.next=6,I(n);case 6:if((c=e.sent)&&c.PixelXDimension&&(a=F(c,"PixelXDimension",0)),c&&c.PixelXDimension&&(o=F(c,"PixelYDimension",0)),l=T(c),u=Object(E.b)(l),d={type:i,width:a,height:o,naturalWidth:a,naturalHeight:o,tags:c},!(u||0===a&&0===o)){e.next=27;break}return e.prev=13,e.next=16,Object(y.e)(r);case 16:f=e.sent,p=Object(y.f)(f),v=p.width,h=p.height,d.width=v,d.height=h,d.naturalWidth=f.naturalWidth,d.naturalHeight=f.naturalHeight,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(13),e.abrupt("return",null);case 27:return e.abrupt("return",d);case 28:case"end":return e.stop()}}),e,null,[[13,24]])})))).apply(this,arguments)}},1415:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O}));var r=n(8),i=n.n(r),a=n(9),o=n.n(a),c=n(5),s=n.n(c),l=n(13),u=n.n(l),d=n(15),f=n.n(d),p=n(6),v=n.n(p),h=n(1),m=n.n(h),b=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var y={space:"Space",m:"KeyM",rightArrow:"ArrowRight",leftArrow:"ArrowLeft"},O=function(e){u()(n,e);var t=g(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),m()(s()(e),"keyHandler",(function(t){var n=e.props,r=n.handler,i=n.code,a=n.keyCode;void 0!==a&&t.keyCode===a&&r(),void 0!==i&&t.code===i&&r()})),m()(s()(e),"init",(function(){document.addEventListener("keydown",e.keyHandler)})),m()(s()(e),"release",(function(){document.removeEventListener("keydown",e.keyHandler)})),e}return o()(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"render",value:function(){return null}}]),n}(b.Component)},1789:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1361);function i(e){var t=parseInt("".concat(e),10),n=t<1<<20?0:1;return r.format(t,{unitSeparator:" ",decimalPlaces:n}).toUpperCase()}},1790:function(e,t,n){"use strict";var r=n(1214);t.a=r.a},1791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0119.005 21H4.995A1.995 1.995 0 013 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="ImageIcon";var c=o;t.default=c},1792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19 6.673V15.2a2.8 2.8 0 01-2.8 2.8h-.4a2.8 2.8 0 01-2.8-2.8v-.4a2.8 2.8 0 012.8-2.8h.4c.278 0 .547.04.8.116V8.242l-6 .621V16.2A2.8 2.8 0 018.2 19h-.4A2.8 2.8 0 015 16.2v-.4A2.8 2.8 0 017.8 13h.4c.278 0 .547.04.8.116V6.654c0-.38.31-.721.72-.764l8.56-.886c.398-.041.72.235.72.615v1.054z" fill="currentColor"/></svg>'},e));o.displayName="AudioIcon";var c=o;t.default=c},1793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16.37 14.954L14 13.807v-3.613l2.37-1.148c.285-.138.63.05.63.343v5.222c0 .293-.345.481-.63.343" fill="inherit"/><rect fill="inherit" x="7" y="9" width="6" height="6" rx="1"/></g></svg>'},e));o.displayName="MediaServicesVideoIcon";var c=o;t.default=c},1794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="DocumentIcon";var c=o;t.default=c},1795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><rect x="8" y="6" width="8" height="2" rx="1"/><rect x="8" y="9" width="8" height="2" rx="1"/><rect x="8" y="12" width="4" height="2" rx="1"/><path d="M7 4v16h10V4H7zm-2-.01C5 2.892 5.897 2 7.006 2h9.988C18.102 2 19 2.898 19 3.99v16.02c0 1.099-.897 1.99-2.006 1.99H7.006A2.003 2.003 0 015 20.01V3.99z" fill-rule="nonzero"/></g></svg>'},e));o.displayName="PageIcon";var c=o;t.default=c},1796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M9 6.999C9 6.447 9.443 6 9.999 6H12v3H9.999A.996.996 0 019 8.001V6.999zM12 9h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12V9zm-3 3.999c0-.552.443-.999.999-.999H12v3H9.999A.996.996 0 019 14.001v-1.002zM12 15h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12v-3z" fill="inherit"/></g></svg>'},e));o.displayName="MediaServicesZipIcon";var c=o;t.default=c},1907:function(e,t,n){"use strict";var r=n(22),i=n.n(r),a=n(1),o=n.n(a),c=n(34),s=n.n(c),l=n(21),u=n.n(l),d=n(0),f=n.n(d),p=n(12),v=n(155),h=n(1183),m=n(503),b=n(139),g=n(1272);var y=n(141),O=n.n(y),w=n(515),j=n(738),x=n(16),k=n(1414),R=n(1255),P=n(675);var I=["onClose","setInitialFocusRef"],C=function(e){var t=e.onClose,n=e.setInitialFocusRef,r=s()(e,I),a=Object(d.useContext)(R.a).menuItemRefs;return n&&n(a[0]),f.a.createElement(P.a,i()({role:"menu",onClick:function(e){a.some((function(t){var n,r="checkbox"===(n=t.getAttribute("role"))||"menuitemcheckbox"===n||function(e){var t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!r}))&&t&&t()}},r))},E=Object(d.createContext)({setItemState:b.a,getItemState:function(){},setGroupState:b.a,getGroupState:function(){return{}}}),S=function(e){var t=e.children,n=Object(d.useRef)({}),r=Object(d.useMemo)((function(){return{setItemState:function(e,t,r){n.current[e]||(n.current[e]={}),n.current[e][t]=r},getItemState:function(e,t){if(n.current[e])return n.current[e][t]},setGroupState:function(e,t){n.current[e]=t},getGroupState:function(e){return n.current[e]||{}}}}),[]);return f.a.createElement(E.Provider,{value:r},t)};function B(){return Object(d.useRef)("".concat("ds--dropdown--").concat(Math.random().toString(16).substr(2,8))).current}var M=["ref"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=Object(x.i)(),A=Object(p.c)({display:"flex",minWidth:"".concat(20*T,"px"),padding:"".concat(2.5*T,"px"),justifyContent:"center"}),D="calc(100vh - ".concat(2*T,"px)"),F=["bottom","bottom-end","right-start","left-start","auto"];t.a=function(e){var t=e.defaultOpen,n=void 0!==t&&t,r=e.isOpen,a=e.onOpenChange,o=void 0===a?b.a:a,c=e.children,l=e.placement,f=void 0===l?"bottom-start":l,y=e.trigger,P=e.shouldFlip,I=void 0===P||P,E=e.isLoading,z=void 0!==E&&E,T=e.autoFocus,L=void 0!==T&&T,_=e.testId,U=e.statusLabel,V=void 0===U?"Loading":U,H=e.zIndex,W=void 0===H?x.j.modal():H,G=Object(g.a)(r,(function(){return n})),X=u()(G,2),Y=X[0],K=X[1],q=Object(d.useState)(!1),$=u()(q,2),J=$[0],Z=$[1],Q=Object(d.useCallback)((function(e){var t=!Y,n=e.clientX,r=e.clientY;"keydown"===e.type?Z(!0):0!==n&&0!==r||Z(!0),K(t),o({isOpen:t,event:e})}),[o,Y,K]),ee=Object(d.useCallback)((function(){K(!1),o({isOpen:!1})}),[o,K]),te=function(){var e=Object(d.useState)(!1),t=u()(e,2),n=t[0],r=t[1],i=Object(d.useRef)({onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}});return Object(d.useEffect)((function(){return function(){return r(!1)}}),[]),{isFocused:n,bindFocus:i.current}}(),ne=te.isFocused,re=te.bindFocus;Object(d.useEffect)((function(){return ne?Y?b.a:Object(v.bind)(window,{type:"keydown",listener:function(e){e.key===m.b&&(e.preventDefault(),Q(e))}}):b.a}),[ne,Y,Q]);var ie=B();return Object(p.d)(S,null,Object(p.d)(w.a,{id:Y?ie:void 0,shouldFlip:I,isOpen:Y,onClose:ee,zIndex:W,placement:f,fallbackPlacements:F,testId:_&&"".concat(_,"--content"),shouldUseCaptureOnOutsideClick:!0,trigger:function(e){if("function"==typeof y){var t=e.ref,n=s()(e,M);return y(N(N(N({},n),re),{},{triggerRef:t,isSelected:Y,onClick:Q,testId:_&&"".concat(_,"--trigger")}))}return Object(p.d)(h.a,i()({},re,{ref:e.ref,"aria-controls":e["aria-controls"],"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],isSelected:Y,iconAfter:Object(p.d)(O.a,{size:"medium",label:"expand"}),onClick:Q,testId:_&&"".concat(_,"--trigger")}),y)},content:function(e){var t=e.setInitialFocusRef;return Object(p.d)(R.b,null,Object(p.d)(C,{maxHeight:D,maxWidth:800,onClose:ee,setInitialFocusRef:J||L?t:void 0},z?Object(p.d)("div",{css:A},Object(p.d)(j.a,{size:"small"}),Object(p.d)(k.a,{role:"status"},V)):c))}}))}},1909:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,i=n(8),a=n.n(i),o=n(9),c=n.n(o),s=n(5),l=n.n(s),u=n(13),d=n.n(u),f=n(15),p=n.n(f),v=n(6),h=n.n(v),m=n(1),b=n.n(m),g=n(0),y=n.n(g),O=n(1260),w=n(1229),j=n(7),x=n.n(j),k=n(48).a.div(r||(r=x()(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex: 1;\n  overflow: visible;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n\n  ."," {\n    ",";\n  }\n"])),O.a,(function(e){var t=e.controlsAreVisible;return"\n  transition: opacity .3s;\n  opacity: ".concat(t?"1":"0",";\n")}));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}k.displayName="InactivityDetectorWrapper";var P=function(e){d()(n,e);var t=R(n);function n(){var e;a()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),b()(l()(e),"contentWrapperElement",y.a.createRef()),b()(l()(e),"state",{controlsAreVisible:!0}),b()(l()(e),"clearTimeout",(function(){e.checkActivityTimeout&&window.clearTimeout(e.checkActivityTimeout)})),b()(l()(e),"hideControls",(function(t){return function(){t?Object(w.b)(t,O.a,e.contentWrapperElement.current||void 0)||e.setState({controlsAreVisible:!1}):e.setState({controlsAreVisible:!1})}})),b()(l()(e),"checkMouseMovement",(function(t){var n=e.state.controlsAreVisible;e.clearTimeout(),n||e.setState({controlsAreVisible:!0}),e.checkActivityTimeout=window.setTimeout(e.hideControls(t&&t.target),2e3)})),e}return c()(n,[{key:"componentDidMount",value:function(){this.checkMouseMovement()}},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"render",value:function(){var e=this,t=this.state.controlsAreVisible,n=this.props.children;return y.a.createElement(k,{ref:this.contentWrapperElement,controlsAreVisible:t,onMouseMove:this.checkMouseMovement,onMouseOut:function(){return e.checkMouseMovement()},onClick:this.checkMouseMovement},n(this.checkMouseMovement))}}]),n}(g.Component)},1912:function(e,t,n){"use strict";var r=n(22),i=n.n(r),a=n(34),o=n.n(a),c=n(0),s=n.n(c),l=n(1055),u=n(1182),d=n(1181),f=n(1255);var p=function(){var e=Object(c.useContext)(f.a).registerRef,t=Object(c.useRef)(null);return Object(c.useEffect)((function(){null!==t.current&&e(t.current)}),[e]),t},v=["component","elemBefore","elemAfter","shouldTitleWrap","shouldDescriptionWrap"];t.a=function(e){var t=e.component,n=e.elemBefore,r=e.elemAfter,a=e.shouldTitleWrap,c=void 0===a||a,f=e.shouldDescriptionWrap,h=void 0===f||f,m=o()(e,v),b=p();return t?s.a.createElement(u.a,i()({component:t,iconBefore:n,iconAfter:r,shouldTitleWrap:c,shouldDescriptionWrap:h},m)):e.href?s.a.createElement(d.a,i()({href:e.href,iconBefore:n,iconAfter:r,role:"menuitem",ref:b,shouldTitleWrap:c,shouldDescriptionWrap:h},m)):s.a.createElement(l.a,i()({role:"menuitem",iconBefore:n,iconAfter:r,ref:b,shouldTitleWrap:c,shouldDescriptionWrap:h},m))}},2069:function(e,t,n){"use strict";n.r(t),n.d(t,"CardBase",(function(){return _o})),n.d(t,"Card",(function(){return Uo}));var r=n(20),i=n.n(r),a=n(19),o=n.n(a),c=n(8),s=n.n(c),l=n(9),u=n.n(l),d=n(5),f=n.n(d),p=n(13),v=n.n(p),h=n(15),m=n.n(h),b=n(6),g=n.n(b),y=n(1),O=n.n(y),w=n(10),j=n.n(w),x=n(0),k=n.n(x),R=n(68),P=n.n(R),I=n(316),C=n(1963),E=n(427),S=n.n(E),B=n(1404),M=n(166),z=n(1299),N=n(157),T=n(532),A=n(1196),D=n(376),F=n(231),L=n(2),_=n(1062),U=n(1273),V=n(738),H=n(1078),W=n(1789),G=n(1077),X=n(114),Y=n(428),K=n(22),q=n.n(K),$=n(34),J=n.n($),Z=["style","imageRef"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={position:"absolute",left:"50%",top:"50%",objectFit:"contain",imageOrientation:"none"},ne=function(e){var t=e.style,n=e.imageRef,r=J()(e,Z);return k.a.createElement("img",q()({},r,{ref:n,style:ee(ee({},te),t)}))},re=n(1230);function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var ae=function(e){v()(n,e);var t=ie(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(f()(r),"onImageLoad",(function(e){if(r.imageRef&&r.imageRef.current){var t=r.props.onImageLoad;r.setState({isImageLoaded:!0,imgWidth:r.imageRef.current.naturalWidth,imgHeight:r.imageRef.current.naturalHeight}),t&&t(e.currentTarget)}})),r.imageRef=k.a.createRef(),r.state={isImageLoaded:!1,imgWidth:0,imgHeight:0,parentWidth:1/0,parentHeight:1/0},r}return u()(n,[{key:"componentDidMount",value:function(){var e=P.a.findDOMNode(this).parentElement;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({parentWidth:n,parentHeight:r})}}},{key:"render",value:function(){var e=this.props,t=e.crop,n=e.stretch,r=e.dataURI,i=e.previewOrientation,a=e.crossOrigin,o=e.onImageError,c=e.alt,s=void 0===c?"":c,l=e.loading,u=e.forceSyncDisplay,d=this.state,f=d.parentWidth,p=d.parentHeight,v=d.imgWidth,h=d.imgHeight,m=d.isImageLoaded,b=f/p,g=v/h,y="100%",O=t,w=!t,j=Object(re.b)(i||1);j&&(g=1/g,y="".concat(Math.ceil(100*g),"%"));var x=g>b;j&&v>h&&(w||x||O&&!x)&&(y="".concat(Math.ceil(1/g*100),"%"));var R=u||m||w&&!j,P={transform:"translate(-50%, -50%)"};if(n?w&&x?P.width=y:w&&!x||O&&x?P.height=y:O&&!x&&(P.width=y):w?(P.maxWidth=y,P.maxHeight=y):O&&x?P.maxHeight=y:O&&!x&&(P.maxWidth=y),R||(P.display="none"),i&&i>1){var I=Object(re.a)(i);P.transform+=" ".concat(I)}return k.a.createElement(ne,{loading:l,"data-testid":"media-image",draggable:!1,alt:s,style:P,onLoad:this.onImageLoad,onError:o,imageRef:this.imageRef,src:r,crossOrigin:a})}}]),n}(x.Component);O()(ae,"defaultProps",{crop:!0,stretch:!1,forceSyncDisplay:!1});var oe,ce=n(7),se=n.n(ce),le=n(48),ue=n(349),de=le.a.div(oe||(oe=se()(["\n  ",";\n"])),(function(e){return e.inline?"display: inline;":""}));de.displayName="Ellipsify";var fe,pe=function(e){var t=e.text,n=e.lines,r=e.endLength,i=e.inline,a=e.testId,o=Object(x.useRef)(null);return Object(x.useEffect)((function(){o.current&&ve(o.current,{lines:n,endLength:r})}),[o,n,r]),k.a.createElement(de,{className:"ellipsed-text",ref:o,"aria-label":t,inline:i,"data-testid":a},t)},ve=function(e,t){var n=t.lines,r=e.getBoundingClientRect().height,i=e.textContent;e.textContent="a";var a=e.getBoundingClientRect().height,o=r/a,c=a*n;if(o<=n)e.textContent=i;else{var s=i,l="number"==typeof t.endLength&&t.endLength>=0?t.endLength:8,u=i.substr(0,i.length*n/o-l),d=i.substr(i.length-l,l);if(e.textContent=s="".concat(u,"...").concat(d),e.getBoundingClientRect().height>c){var f=u.substr(0,u.length-u.length/n*.25);s="".concat(f,"...").concat(d)}he((function(){return e.textContent=s}))}},he=ue.canUseDOM&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,1)},me=n(1360),be=n.n(me),ge=n(103),ye=n.n(ge),Oe=n(1301),we=n.n(Oe),je=n(1791),xe=n.n(je),ke=n(1792),Re=n.n(ke),Pe=n(1796),Ie=n.n(Pe),Ce=n(1793),Ee=n.n(Ce),Se=n(1794),Be=n.n(Se),Me=n(1795),ze=n.n(Me),Ne=n(3),Te={image:Ne.Y200,audio:Ne.P200,video:"#ff7143",doc:Ne.B300,unknown:"#3dc7dc",archive:""},Ae=function(e){return Object(L.c)(fe||(fe=se()(["\n  display: inline-flex;\n  color: ",";\n"])),(t=e.type,Te[t]||Te.unknown));var t},De=function(e){return Object(L.d)("div",{id:"iconWrapper",css:Ae(e)},e.children)};function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Le,_e={image:xe.a,audio:Re.a,video:Ee.a,doc:Be.a,unknown:ze.a,archive:Ie.a},Ue=function(e){v()(n,e);var t=Fe(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0===n?"small":n,i=e.className,a=t&&_e[t]||_e.unknown;return k.a.createElement(De,{type:t||"unknown"},k.a.createElement(a,{label:"media-type",size:r,className:i}))}}]),n}(k.a.Component),Ve=n(335),He=Object(L.c)(Le||(Le=se()(["\n  float: left;\n  margin-right: 6px;\n  position: relative;\n  top: 1px;\n  img {\n    ",";\n  }\n"])),Object(Ve.f)("12px !important"));function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Ge,Xe=function(e){v()(n,e);var t=We(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.mediaType,n=e.iconUrl,r=e.style,i=t||"unknown",a=Object(L.d)(Ue,{type:t,size:"small",className:"file-type-icon"}),o=n?Object(L.d)("img",{src:n,className:"custom-icon",alt:i}):a;return Object(L.d)("div",{css:He,style:r,className:"file-type-icon"},o)}}]),n}(x.Component),Ye=n(536),Ke=n.n(Ye),qe=Object(L.c)(Ge||(Ge=se()(["\n  display: flex;\n  color: #ff991f;\n"])));function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Je=function(e){v()(n,e);var t=$e(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.size;return Object(L.d)("div",{css:qe},Object(L.d)(Ke.a,{label:"Error",size:e}))}}]),n}(x.Component);O()(Je,"defaultProps",{size:"small"});var Ze,Qe,et,tt,nt=n(16),rt=function(){return Object(L.c)(Ze||(Ze=se()(["\n  box-sizing: border-box;\n  font-family: ",";\n\n  * {\n    box-sizing: border-box;\n  }\n"])),Object(nt.f)())},it=Object(L.c)(Qe||(Qe=se()(["\n  ","\n  display: flex;\n  position: relative;\n  line-height: 0;\n"])),rt());!function(e){e.default="default",e.filled="filled"}(tt||(tt={}));var at=function(e){var t=e.variant;return Object(L.c)(et||(et=se()(["\n  ","\n  ","\n    ","\n    color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"])),Ve.c,Ve.b,Object(Ve.f)(26),Ne.N500,function(e){return"filled"===e?"\n    background: ".concat(Ne.N0,";\n    margin-right: 8px;\n    opacity: 0.8;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "):"\n    &:hover {\n      background-color: rgba(9, 30, 66, 0.06);\n    }\n  "}(t))},ot=function(e){return Object(L.d)("div",{id:"cardActionButton","data-testid":"media-card-primary-action",css:at(e),style:e.style,onClick:e.onClick,onMouseDown:e.onMouseDown},e.children)};function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var st=function(e){v()(n,e);var t=ct(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"onMouseDown",(function(e){e.preventDefault()})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.triggerColor,r=e.onClick,i=e.variant;return k.a.createElement(ot,{onClick:r,onMouseDown:this.onMouseDown,style:{color:n},variant:i},t)}}]),n}(x.Component),lt=n(1300),ut=n.n(lt),dt=n(1912),ft=n(1907),pt=n(1790),vt=n(540),ht=n(134),mt=n(1413),bt=n(495),gt=n(345);function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Ot=function(e){v()(n,e);var t=yt(n);function n(e,r){var i;return s()(this,n),(i=t.call(this,e)).primaryReason=e,i.secondaryError=r,Object.setPrototypeOf(f()(i),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace(f()(i),this instanceof n?this.constructor:void 0),i}return u()(n)}(n.n(gt)()(Error)),wt=function(e){v()(n,e);var t=yt(n);function n(e,r){var i;return s()(this,n),(i=t.call(this,e,r)).primaryReason=e,i.secondaryError=r,i}return u()(n)}(Ot),jt=function(e){v()(n,e);var t=yt(n);function n(e,r){var i;return s()(this,n),(i=t.call(this,e,r)).primaryReason=e,i.secondaryError=r,i}return u()(n)}(Ot),xt=function(e){v()(n,e);var t=yt(n);function n(e,r){var i;return s()(this,n),(i=t.call(this,e,r)).primaryReason=e,i.secondaryError=r,i}return u()(n)}(Ot),kt=function(e){v()(n,e);var t=yt(n);function n(e){return s()(this,n),t.call(this,function(e){switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}}(e))}return u()(n)}(Ot);function Rt(e){return e instanceof Ot}var Pt=function(e){return Rt(e)&&"local-preview-unsupported"===e.primaryReason};var It=function(e){return e&&"upload"===e.primaryReason};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,mediaUploadApiV2:!0},Bt=Object(_.b)(St),Mt=Object(_.a)(St),zt=function(e){return Rt(e)?e.primaryReason:"nativeError"},Nt=function(e){if(Rt(e)&&e.secondaryError){var t=Object(vt.a)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},Tt=function(e){return Rt(e)&&e.secondaryError?e.secondaryError.message:e.message},At=function(e){if(Rt(e)&&e.secondaryError&&Object(ht.b)(e.secondaryError))return e.secondaryError.metadata},Dt=function(e){return{failReason:zt(e),error:Nt(e),errorDetail:Tt(e)}};function Ft(e,t){t&&t(e).fire(mt.a)}var Lt=function(e){return Object(bt.a)(mt.a)(e)},_t=["triggerRef"];function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Vt=Object(I.a)({onClick:Lt({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenu",attributes:{}})})((function(e){return k.a.createElement(ot,e)})),Ht=function(e){return k.a.createElement(dt.a,q()({"data-testid":"media-card-actions-menu-item"},e))},Wt=function(e,t){var n=e.label,r=e.handler,i=Object(I.a)({onClick:Lt({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenuItem",attributes:{label:n}})})(Ht);return k.a.createElement(i,{key:t,onClick:r},n)},Gt=function(e){v()(n,e);var t=Ut(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.triggerColor,r=e.onOpenChange,i=e.triggerVariant;return t.length>0?k.a.createElement(ft.a,{testId:"media-card-actions-menu",onOpenChange:r,trigger:function(e){var t=e.triggerRef,r=J()(e,_t);return k.a.createElement(Vt,q()({variant:i,style:{color:n},ref:t},r),k.a.createElement(ut.a,{label:"more"}))}},k.a.createElement(pt.a,null,t.map(Wt))):null}}]),n}(x.Component);function Xt(e){var t=e.children;return k.a.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault()}},t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Kt=function(e){return Object(L.d)(st,e)},qt=function(e){v()(n,e);var t=Yt(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.actions;if(!e.length)return null;var t=e.find($t),n=e.filter(Jt(t));return Object(L.d)(Xt,null,Object(L.d)("div",{css:it},t?this.renderActionIconButton(t,!0):null,this.renderOtherActionButtons(n)))}},{key:"renderActionIconButton",value:function(e,t){var n=this.props,r=n.triggerColor,i=n.variant,a=e.icon,o=e.handler,c=e.label,s=t?"mediaCardPrimaryActionButton":"mediaCardSecondaryActionButton",l=Object(I.a)({onClick:Lt({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:s,attributes:{label:c}})})(Kt);return Object(L.d)(l,{icon:a,triggerColor:r,onClick:function(){return o()},variant:i})}},{key:"renderOtherActionButtons",value:function(e){if(0===e.length)return null;var t=this.props,n=t.triggerColor,r=t.onToggle,i=t.variant,a=e.find($t),o=e.filter(Jt(a));return a&&0===o.length?this.renderActionIconButton(a,!1):Object(L.d)(Gt,{actions:e,triggerColor:n,onOpenChange:r,triggerVariant:i})}}]),n}(x.Component);function $t(e){return!!e.icon}function Jt(e){return function(t){return t!==e}}var Zt,Qt,en,tn,nn,rn,an,on,cn,sn,ln,un,dn=n(64),fn=("\n  border-top-left-radius: ".concat(Object(nt.d)(),";\n  border-bottom-left-radius: ").concat(Object(nt.d)(),";\n"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"\n  transition: ".concat(e," ").concat(".3s",";\n")}),pn=function(e,t){return"rgba(".concat(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),",").concat(parseInt(t[2],16),",").concat(parseInt(t[3],16)):null}(e),", ").concat(t,")")},vn=Object(L.c)(Zt||(Zt=se()(["\n  ","\n  ","\n  background-color: ",';\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border-radius: 20px;\n  color: #798599; /* TODO FIL-3884: Align color with new design */\n  display: flex;\n  opacity: 0;\n\n  &.selected {\n    opacity: 1;\n    color: white;\n    background-color: #0052cc; /* TODO FIL-3884: Align with tickbox icons */\n  }\n\n  /* Enforce dimensions of "tick" icon */\n  svg {\n    position: absolute;\n    width: 14px;\n  }\n'])),Object(Ve.f)(14),fn(),pn("#ffffff",.5)),hn=function(e){return Object(L.c)(Qt||(Qt=se()(["\n  ","\n  ","\n  "," display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  background: transparent;\n  transition: 0.3s background ",", 0.3s border-color;\n  padding: 16px;\n\n  ","\n  &:not(.persistent):hover, &.active {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n\n    .bottom-row {\n      .delete-btn {\n        display: flex;\n      }\n    }\n  }\n\n  &.noHover:hover {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n  }\n\n  .file-type-icon {\n    display: block;\n  }\n\n  &:not(.persistent) {\n    &:not(.error, .noHover):hover {\n      background-color: ",";\n    }\n\n    &.selectable {\n      &.selected {\n        background-color: ",";\n\n        &:hover {\n          /* TODO FIL-3884 add new overlay with rgba(colors.N900, 0.16) */\n        }\n\n        .title,\n        .bottom-row,\n        .file-size,\n        .more-btn {\n          color: ",";\n        }\n      }\n    }\n  }\n\n  &.persistent {\n    &:not(.active) {\n      overflow: hidden;\n    }\n\n    .top-row {\n      .title {\n        transition: opacity 0.3s;\n        opacity: 0;\n        color: white;\n        visibility: hidden;\n      }\n    }\n\n    .bottom-row {\n      opacity: 0;\n      transition: transform 0.2s, opacity 0.5s;\n      /* This is the height of the overlay footer, needs to be present now since the parent uses flex and 100% doesn't look right anymore */\n      transform: translateY(35px);\n\n      .file-type-icon {\n        display: none;\n      }\n\n      .file-size {\n        color: white;\n        display: none;\n      }\n\n      .more-btn {\n        color: ",";\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n\n      .delete-btn {\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n    }\n\n    &:hover,\n    &.active {\n      background-color: ",";\n\n      .title {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .file-type-icon,\n      .file-size {\n        display: block;\n      }\n\n      .more-btn {\n        "," color: ",";\n      }\n\n      .delete-btn {\n        display: flex;\n      }\n\n      .bottom-row {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    /* Selectable */\n    &.selectable {\n      &:hover {\n        .tickbox {\n          opacity: 1;\n        }\n      }\n\n      &.selected {\n        .tickbox {\n          background-color: "," !important;\n          border-color: "," !important;\n          color: white;\n        }\n      }\n    }\n  }\n\n  &.error {\n    .top-row {\n      overflow: visible;\n    }\n    &:hover,\n    &.active {\n      .top-row {\n        .title {\n          color: ",";\n        }\n      }\n    }\n  }\n"])),Object(Ve.f)(),Object(Ve.a)(),Ve.b,"cubic-bezier(0.215, 0.61, 0.355, 1)",function(e){var t=e.hasError,n=e.noHover;if(t||n)return"\n        cursor: default;\n\n        &:hover {\n          background: transparent;\n        }\n      "}(e),Ne.B400,Ne.N800,pn(Ne.N900,.06),Ne.B200,Ne.N0,Ne.N0,pn(Ne.N900,.5),"\n  display: flex;\n  justify-content: center;\n",Ne.N0,Ne.B200,Ne.B200,Ne.N800)},mn=Object(L.c)(en||(en=se()(["\n  height: 24px;\n  display: flex;\n  align-items: center;\n"]))),bn=Object(L.c)(tn||(tn=se()(["\n  width: 100%;\n  position: relative;\n  box-sizing: border-box;\n  vertical-align: middle;\n"]))),gn=Object(L.c)(nn||(nn=se()([""]))),yn=Object(L.c)(rn||(rn=se()(["\n  display: flex;\n  align-items: center;\n  height: 16px;\n"]))),On=Object(L.c)(an||(an=se()([""]))),wn=Object(L.c)(on||(on=se()(["\n  "," display: inline-block;\n  vertical-align: middle;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  max-width: 'calc(100% - 24px)';\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: auto 3px;\n"])),"\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n",Ne.N70),jn=Object(L.c)(cn||(cn=se()(["\n  ","\n  font-weight: normal;\n"])),wn),xn=function(e){return Object(L.c)(sn||(sn=se()(["\n  box-sizing: border-box;\n  word-wrap: break-word;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"])),Object(dn.a)({light:Ne.N800,dark:Ne.DN900})({theme:e}))},kn=Object(L.c)(ln||(ln=se()(["\n  "," font-size: 12px;\n  color: #5e6c84;\n"])),Object(Ve.d)("100px")),Rn=Object(L.c)(un||(un=se()(["\n  display: flex;\n  align-items: center;\n"]))),Pn=n(281),In=function(e){var t=e.hasError,n=e.noHover,r=e.className;return Object(L.d)("div",{css:hn({hasError:t,noHover:n}),className:r},e.children)},Cn=function(e){return Object(L.d)("div",{css:wn},e.children)},En=function(e){return Object(L.d)("div",{css:jn},e.children)},Sn=function(e){var t=Object(Pn.b)();return Object(L.d)("div",{css:xn(t),className:"title"},e.children)},Bn=function(e){return Object(L.d)("div",{css:Rn,className:e.className},e.children)};function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var zn=function(e){v()(n,e);var t=Mn(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(f()(r),"onMenuToggle",(function(e){r.setState({isMenuExpanded:e.isOpen})})),r.state={isMenuExpanded:!1},r}return u()(n,[{key:"wrapperClassNames",get:function(){var e=this.props,t=e.error,n=e.noHover,r=e.selectable,i=e.selected,a=e.mediaType,o=e.persistent,c=this.state.isMenuExpanded;return t?ye()("overlay",{error:t,active:c}):ye()("overlay",a,{active:c,selectable:r,selected:i,persistent:!o,noHover:n})}},{key:"render",value:function(){var e=this.props,t=e.cardStatus,n=e.error,r=e.noHover,i=e.mediaName,a=e.persistent,o=e.selected,c=e.actions,s=function(e,t,n,r){return n||!t||"uploading"===e&&!r?"":t}(t,i,n,o),l=a?void 0:"white";return Object(L.d)(In,{hasError:!!n,noHover:r,className:this.wrapperClassNames},Object(L.d)("div",{css:gn,className:"top-row"},this.errorLine(),Object(L.d)(Sn,null,s?Object(L.d)(pe,{testId:"media-card-file-name",text:s,lines:2}):null),this.tickBox()),Object(L.d)("div",{css:yn,className:"bottom-row"},Object(L.d)("div",{css:bn},this.bottomLeftColumn()),Object(L.d)("div",{css:On},c?Object(L.d)(qt,{actions:c,onToggle:this.onMenuToggle,triggerColor:l}):null)))}},{key:"errorLine",value:function(){var e=this.props,t=e.error,n=e.alt;return t&&Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{css:mn},Object(L.d)(Je,null),Object(L.d)(Cn,null,t)),n&&Object(L.d)("div",{css:mn},Object(L.d)(En,null,n)))}},{key:"tickBox",value:function(){var e=this.props,t=e.selected,n=e.selectable,r=Object(L.d)(we.a,{label:"tick"}),i=ye()("tickbox",{selected:t});return n&&Object(L.d)("div",{css:vn,className:i},r)}},{key:"bottomLeftColumn",value:function(){if(!this.props.error){var e=this.props,t=e.mediaType,n=e.subtitle,r=e.icon,i=ye()("metadata"),a=t||r?Object(L.d)(Xe,{mediaType:t,iconUrl:r}):null,o=n?Object(L.d)("div",{css:kn,className:"file-size"},n):null;return Object(L.d)("div",null,Object(L.d)(Bn,{className:i},a,o))}}},{key:"removeBtnClick",value:function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}}}]),n}(x.Component);O()(zn,"defaultProps",{actions:[],mediaName:""});var Nn,Tn,An,Dn,Fn,Ln,_n,Un,Vn,Hn,Wn=n(610),Gn=function(e){return Object(L.c)(Nn||(Nn=se()(["\n  ","\n  ","\n  ","\n  ","\n\n  line-height: normal;\n  position: relative;\n\n  ","\n\n  "," .wrapper {\n    ",";\n    display: block;\n    height: inherit;\n    position: relative;\n\n    .img-wrapper {\n      position: relative;\n      width: inherit;\n      height: inherit;\n      overflow: hidden;\n      display: block;\n      ","\n    }\n  }\n"])),rt(),function(e){return e.disableOverlay?"":"\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);\n"}(e),Ve.b,function(e){var t=e.mediaType;return"background: ".concat("image"===t?"transparent":Object(dn.a)({light:Ne.N20,dark:Ne.DN50})(e),";")}(e),Object(Wn.a)(e),Object(Ve.f)(),Ve.b,Ve.b)},Xn=Object(L.c)(Tn||(Tn=se()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  /* we want to override default icon size and hover state */\n  &:hover > * {\n    width: 64px;\n    height: 64px;\n  }\n"]))),Yn=Object(L.c)(An||(An=se()(["\n  background: rgba(23, 43, 77, 0.7);\n  border-radius: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  width: 56px;\n  height: 56px;\n"]))),Kn=Object(L.c)(Dn||(Dn=se()(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]))),qn=Object(L.c)(Fn||(Fn=se()(["\n  ","\n  ","\n  border-radius: inherit;\n  background-color: rgba(9, 30, 66, 0.5);\n"])),Object(Ve.a)(),Object(Ve.f)()),$n=Object(L.c)(Ln||(Ln=se()(["\n  "," width: 100%;\n  padding: 8px;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n  word-wrap: break-word;\n"])),Object(Ve.a)(),Ne.N0),Jn=Object(L.c)(_n||(_n=se()(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 8px;\n  color: ",";\n"])),Ne.N0),Zn=Object(L.c)(Un||(Un=se()(["\n  flex-grow: 1;\n\n  /*\n    force the height to always be 20px (the height of the cancel icon),\n    so that the height of the progress bar doesn't jump when cards with\n    and without a cancel icon are rendered side-by-side.\n  */\n  height: ","px;\n\n  /*\n    vertically center the progress bar within the 20px, keeping the progress bar full width\n  */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),26),Qn=Object(L.c)(Vn||(Vn=se()(["\n  margin-left: 4px;\n  /*\n    button must appear above overlay\n   */\n  z-index: 2;\n"]))),er=n(1079),tr=n(225),nr=function(e,t,n,r,i){return!("doc"===r||!i&&"file"===t)&&(!!n&&("external-image"===t||i&&Object(tr.isMimeTypeSupportedByBrowser)(i)||"complete"===e||"loading-preview"===e))},rr=Object(L.c)(Hn||(Hn=se()(["\n  "," z-index: 30;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  .progressBar {\n    width: 0%;\n    height: 3px;\n    transition: width 0.25s ease-in;\n    background-color: white;\n  }\n"])),Ve.b);function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var ar=function(e){v()(n,e);var t=ir(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){if("number"!=typeof this.props.progress)return null;var e=Math.min(1,Math.max(0,this.props.progress)),t={width:"".concat(100*e,"%")};return Object(L.d)("div",{css:rr},Object(L.d)("div",{className:"progressBar",style:t}))}}]),n}(x.Component),or=n(1081),cr=function(e){var t=e.disableOverlay,n=e.selectable,r=e.selected,i=e.mediaType,a=e.mediaName,o=e.status,c=e.progress,s=Object(Pn.b)();return Object(L.d)("div",{id:"cardImageViewWrapper","data-testid":"media-file-card-view","data-test-media-name":a,"data-test-status":o,"data-test-progress":c,"data-test-selected":!!r||void 0,css:Gn({theme:s,disableOverlay:t,selectable:n,selected:r,mediaType:i}),className:"".concat(or.b," ").concat(r?or.a:"")},e.children)},sr=function(e){return Object(L.d)("div",{css:Xn},e.children)},lr=function(e){return Object(L.d)("div",{css:Kn},e.children)};function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var dr=function(e){v()(n,e);var t=ur(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"wasThumbnailDisplayed",!1),O()(f()(e),"renderCardContents",(function(){var t=e.props,n=t.status,r=t.mediaType,i=t.fileSize;if("error"===n)return e.renderErrorContents();if("failed-processing"===n)return e.renderFailedContents();var a=""===i&&["processing","loading-preview"].includes(n);return"video"===r||e.isFileCardImageReadyForDisplay||a?e.renderSuccessCardContents():e.renderLoadingContents()})),O()(f()(e),"renderLoadingContents",(function(){return Object(L.d)("div",{className:"wrapper"},Object(L.d)("div",{className:"img-wrapper"},Object(L.d)(er.a,null)))})),O()(f()(e),"renderErrorContents",(function(){var t=e.props,n=t.status,r=t.error,i=t.alt,a=t.mediaName,o=t.mediaType,c=t.actions,s=t.fileSize;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{className:"wrapper"}),Object(L.d)(zn,{cardStatus:n,error:r,persistent:!0,mediaName:a,mediaType:o,alt:i,subtitle:s,actions:c}))})),O()(f()(e),"renderFailedContents",(function(){var t=e.props,n=t.status,r=t.mediaName,i=t.mediaType,a=t.actions,o=t.fileSize;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{className:"wrapper"}),Object(L.d)(zn,{cardStatus:n,noHover:!0,persistent:!0,mediaName:r,mediaType:i,subtitle:o,actions:a}))})),O()(f()(e),"renderUploadingCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,i=t.mediaType,a=t.dataURI,o=t.selectable,c=t.selected,s="doc"===i||!a;return Object(L.d)(zn,{cardStatus:n,persistent:s,mediaName:r,selectable:o,selected:c})})),O()(f()(e),"renderPlayButton",(function(){var t=e.props,n=t.status,r=t.mediaItemType,i=t.mediaType,a=t.mimeType,o=t.selectable,c=t.dataURI;return"video"!==i||o&&!nr(n,r,c,i,a)?null:Object(L.d)(sr,null,Object(L.d)("div",{css:Yn},Object(L.d)(be.a,{testId:"media-card-play-button",label:"play",size:"large"})))})),O()(f()(e),"onImageLoad",(function(){var t=e.props,n=t.onImageLoad,r=t.cardPreview;n&&n(r)})),O()(f()(e),"onImageError",(function(){var t=e.props,n=t.onImageError,r=t.cardPreview;n&&n(r)})),O()(f()(e),"renderMediaImage",(function(){var t=e.props,n=t.status,r=t.mediaItemType,i=t.dataURI,a=t.mediaType,o=t.mimeType,c=t.previewOrientation,s=t.onDisplayImage,l=t.alt;return nr(n,r,i,a,o)?(!e.wasThumbnailDisplayed&&s&&"image"===a&&(s(),e.wasThumbnailDisplayed=!0),Object(L.d)(ae,{dataURI:i,alt:l,crop:e.isCropped,stretch:e.isStretched,previewOrientation:c,onImageLoad:e.onImageLoad,onImageError:e.onImageError})):null})),O()(f()(e),"renderProgressBar",(function(){var t=e.props,n=t.mediaName,r=t.progress,i=t.actions;return"uploading"!==t.status?null:Object(L.d)(lr,null,Object(L.d)("div",{css:qn},Object(L.d)("div",{css:$n},Object(L.d)(pe,{testId:"media-card-file-name",text:n||"",lines:2})),Object(L.d)("div",{css:Jn},Object(L.d)("div",{css:Zn},Object(L.d)(ar,{progress:r})),Object(L.d)("div",{css:Qn},i?Object(L.d)(qt,{actions:i,triggerColor:"white"}):null))))})),O()(f()(e),"renderSuccessCardContents",(function(){var t=e.props,n=t.disableOverlay,r=t.selectable,i=t.status,a=null;return n||("uploading"===i?r&&(a=e.renderUploadingCardOverlay()):a=e.renderSuccessCardOverlay()),Object(L.d)("div",{className:"wrapper"},Object(L.d)("div",{className:"img-wrapper"},e.renderMediaImage(),e.renderProgressBar(),e.renderPlayButton()),a)})),O()(f()(e),"renderSuccessCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,i=t.mediaType,a=t.fileSize,o=t.dataURI,c=t.selectable,s=t.selected,l=t.actions,u="doc"===i||!o;return Object(L.d)(zn,{cardStatus:n,persistent:u,mediaName:r,mediaType:i,selectable:c,selected:s,subtitle:a,actions:l})})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.disableOverlay,n=e.selectable,r=e.selected,i=e.mediaType,a=e.progress,o=e.status,c=e.mediaName;return Object(L.d)(cr,{mediaName:c,status:o,progress:a,disableOverlay:t,selectable:n,selected:r,mediaType:i},this.renderCardContents())}},{key:"isFileCardImageReadyForDisplay",get:function(){var e=this.props,t=e.dataURI,n=e.status;return!!t||!["loading","processing","loading-preview"].includes(n)}},{key:"isCropped",get:function(){return"crop"===this.props.resizeMode}},{key:"isStretched",get:function(){return"stretchy-fit"===this.props.resizeMode}}]),n}(x.Component);O()(dr,"defaultProps",{resizeMode:"crop",disableOverlay:!1});var fr=n(609),pr=n(1072),vr=function(e){var t="".concat(e);return"%"===t[t.length-1]&&!isNaN(+t.slice(0,-1))},hr=n(456),mr=function(e,t){var n=e.getBoundingClientRect()[t];return Math.round(n)};function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t){return e.map((function(e){return gr(gr({},e),{},{handler:function(){e.handler({type:"file",details:t})}})}))}var Or,wr,jr,xr=n(472),kr=function(e){return"error"===e&&k.a.createElement(xr.a,G.a.failed_to_load)},Rr=n(21),Pr=n.n(Rr),Ir=n(73),Cr="\n  background-color: ".concat(Ne.N0,";\n  color: ").concat(Ne.N100,";\n"),Er=function(e){return Object(L.c)(Or||(Or=se()(["\n  ",'\n  font-size: 14px;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  border-radius: 20px;\n  color: transparent;\n  /* Enforce dimensions and position of "tick" icon */\n  span {\n    display: block;\n    svg {\n      height: 14px;\n    }\n  }\n  ',"\n"])),fn(),function(e){return e?"background-color: ".concat(Ne.B200,";\n      color: white;"):""}(e))};Er.displayName="TickBoxWrapper";var Sr,Br,Mr="\n  .".concat("play-icon-background"," {\n    width: ").concat(56,"px;\n    height: ").concat(56,"px;\n  }\n"),zr=Object(L.c)(wr||(wr=se()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  span {\n    position: absolute;\n  }\n"])),Ne.N0),Nr=Object(L.c)(jr||(jr=se()(["\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border-radius: 100%;\n"])),48,48,Ne.N90A);!function(e){e.SMALL="small",e.LARGE="large"}(Br||(Br={}));var Tr,Ar=(Sr={},O()(Sr,Br.SMALL,{fontSize:11,lineHeight:14,titleBox:{verticalPadding:4,horizontalPadding:8}}),O()(Sr,Br.LARGE,{fontSize:14,lineHeight:22,titleBox:{verticalPadding:8,horizontalPadding:12}}),Sr),Dr=function(e){return 2*(Ar[e].lineHeight+Ar[e].titleBox.verticalPadding)},Fr=[[Br.SMALL,599],[Br.LARGE,1/0]],Lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Fr.find((function(t){var n=Pr()(t,2),r=(n[0],n[1]);return e<=r}))||[Br.SMALL],n=Pr()(t,1),r=n[0];return r},_r=Object(L.c)(Tr||(Tr=se()(["\n  display: flex;\n  position: relative;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  ","\n"])),Ve.b);var Ur,Vr,Hr,Wr,Gr,Xr,Yr,Kr=function(e){var t=e.cardPreview,n=e.alt,r=e.resizeMode,i=e.onImageLoad,a=e.onImageError,o=e.onDisplayImage,c=e.mediaType,s=e.nativeLazyLoad,l=e.forceSyncDisplay;Object(x.useEffect)((function(){"image"===c&&o&&o()}),[c,o]);return k.a.createElement(ae,q()({dataURI:t.dataURI,alt:n,previewOrientation:t.orientation,onImageLoad:function(){i&&i(t)},onImageError:function(){a&&a(t)},loading:s?"lazy":void 0,forceSyncDisplay:l},function(e){return{crop:"crop"===e,stretch:"stretchy-fit"===e}}(r)))},qr=n(1261),$r=n.n(qr),Jr="\n  display: inline-block;\n  vertical-align: bottom;\n  white-space: nowrap;\n  overflow: hidden;\n",Zr=le.a.span(Ur||(Ur=se()(["\n  ","\n  max-width: calc(100% - ","em);\n  min-width: ",";\n  text-overflow: ellipsis;\n"])),Jr,(function(e){var t=e.fontSizePX,n=e.endFixedChars;return ei(t)*n+1}),(function(e){var t=e.fontSizePX,n=e.startFixedChars;return ei(t)*n})),Qr=le.a.span(Vr||(Vr=se()(["\n  ","\n  max-width: calc(100% - ",");\n  position: relative;\n"])),Jr,(function(e){var t=e.fontSizePX,n=e.startFixedChars;return ei(t)*n})),ei=function(e){return e/11*.46},ti=function(e){var t=e.text,n=e.fontSizePX,r=void 0===n?11:n,i=e.startFixedChars,a=void 0===i?4:i,o=e.endFixedChars,c=void 0===o?7:o,s=function(e,t,n){var r=n+t;if(e.length<=r)return{left:e,right:e};var i=e.length-n;return{left:e.substr(0,i),right:e.substr(i)}}(t,a,c),l=s.left,u=s.right;return l===u?k.a.createElement(k.a.Fragment,null,t):k.a.createElement(k.a.Fragment,null,k.a.createElement(Zr,{fontSizePX:r,startFixedChars:a,endFixedChars:c},l),k.a.createElement(Qr,{fontSizePX:r,startFixedChars:a,endFixedChars:c},u))},ni=n(1362),ri=/^#[0-9A-F]{6}$/i,ii=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(L.c)(Hr||(Hr=se()(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background-color: ",";\n  color: inherit;\n  cursor: inherit;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ","\n"])),pn(n&&ri.test(n)?n:Ne.N0,.8),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br.SMALL,t=Ar[e],n=t.titleBox.verticalPadding,r=t.titleBox.horizontalPadding,i=Dr(e);return"height: ".concat(i,"px;\n    padding: ").concat(n,"px ").concat(r,"px;")}(t))};ii.displayName="TitleBoxWrapper";var ai="white-space: nowrap;\n  overflow: hidden;",oi=function(e){var t=e.hasIconOverlap;return Object(L.c)(Wr||(Wr=se()(["\n  font-weight: 600;\n  ","\n  ","\n"])),ai,t&&"padding-right: 10px;")};oi.displayName="FailedTitleBoxHeader";var ci=function(e){var t=e.hasIconOverlap;return Object(L.c)(Gr||(Gr=se()(["\n  text-overflow: ellipsis;\n  ","\n  ","\n"])),ai,t&&"padding-right: 10px;")};ci.displayName="TitleBoxFooter";var si,li=Object(L.c)(Xr||(Xr=se()(["\n  position: absolute;\n  right: 4px;\n  bottom: 0px;\n"]))),ui=Object(L.c)(Yr||(Yr=se()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  span {\n    vertical-align: middle;\n    :nth-child(2) {\n      margin-left: 4px;\n      margin-right: 4px;\n    }\n  }\n"]))),di=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(L.d)("div",{id:"titleBoxWrapper",css:ii({breakpoint:t,titleBoxBgColor:n})},e.children)},fi=function(e){var t=e.hasIconOverlap;return Object(L.d)("div",{id:"titleBoxHeader",css:oi({hasIconOverlap:t})},e.children)},pi=function(e){var t=e.hasIconOverlap;return Object(L.d)("div",{id:"titleBoxFooter",css:ci({hasIconOverlap:t})},e.children)},vi=function(e){return Object(L.d)("div",{id:"titleBoxIcon",css:li},e.children)},hi=function(e){return Object(L.d)("div",{css:ui},e.children)},mi=Object(F.c)((function(e){var t=e.timestamp,n=(e.intl||{locale:"en"}).locale,r=void 0===n?"en":n;return k.a.createElement(k.a.Fragment,null,Object(ni.a)(t,r))})),bi=function(e){var t=e.name,n=e.createdAt,r=e.breakpoint,i=e.titleBoxBgColor,a=e.titleBoxIcon;return k.a.createElement(di,{breakpoint:r,titleBoxBgColor:i},k.a.createElement(fi,{hasIconOverlap:!!a&&!n},k.a.createElement(ti,{text:t})),n?k.a.createElement(pi,{hasIconOverlap:!!a},k.a.createElement(mi,{timestamp:n})):null,"LockFilledIcon"===a&&k.a.createElement(vi,null,k.a.createElement($r.a,{label:"",size:"small"})))},gi=function(e){var t=e.breakpoint,n=e.customMessage,r=void 0===n?G.a.failed_to_load:n;return k.a.createElement(di,{breakpoint:t},k.a.createElement(hi,null,k.a.createElement(Ke.a,{label:"Warning",size:"small",primaryColor:Ne.R300}),k.a.createElement("span",null,k.a.createElement(xr.a,r))))},yi={marginBottom:4},Oi={marginBottom:12};var wi=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,i=e.showOnTop;return"\n".concat(Ve.b,"\noverflow: hidden;\nposition: absolute;\nwidth: ").concat(95,"%;\nleft: ").concat(2.5,"%;\nbackground-color: ").concat(pn(Ne.N0,.8),";\nheight: ").concat(5,"px;\npadding: ").concat(1,"px;\nbox-sizing: border-box;\n\n::before {\n  content: '';\n  width: ").concat(t,"%;\n  height: 100%;\n  background-color: ").concat(Ne.N400,";\n  ").concat(Ve.b,"\n  display: block;\n}\n").concat(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=e===Br.SMALL?yi:Oi,a=Ar[e].titleBox.verticalPadding,o=i.marginBottom*r+(t?a:Dr(e));return"\n    ".concat(n?"top":"bottom",": ").concat(o,"px\n  ")}(n,r,i),"\n")},ji=function(e){return Object(L.c)(si||(si=se()(["\n    ","\n  "])),wi(e))};ji.displayName="StyledProgressBar";var xi,ki=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,i=e.showOnTop;return Object(L.d)("div",{id:"styledBar",css:ji({progress:t,breakpoint:n,positionBottom:r,showOnTop:i})})},Ri=function(e){return 100*Math.min(1,Math.max(0,e||0))},Pi=function(e){var t=e.progress,n=e.breakpoint,r=void 0===n?Br.SMALL:n,i=e.positionBottom,a=void 0!==i&&i,o=e.showOnTop,c=void 0!==o&&o;return k.a.createElement(ki,{progress:Ri(t),breakpoint:r,positionBottom:a,showOnTop:c})},Ii=function(e){return Object(L.d)("div",{css:zr,className:"media-card-play-button"},e.children)},Ci=function(){return Object(L.d)("div",{css:Nr,className:"play-icon-background"})},Ei=function(){return k.a.createElement(Ii,null,k.a.createElement(Ci,null),k.a.createElement(be.a,{label:"play",size:"large"}))},Si=function(e){return Object(L.d)("div",{id:"tickBoxWrapper",css:Er(e.selected),className:"media-card-tickbox"},e.children)},Bi=function(e){var t=e.selected;return k.a.createElement(Si,{selected:t},k.a.createElement(we.a,{label:"tick"}))},Mi="background-color: ".concat(Ne.N90A,";"),zi=function(e){return Object(L.c)(xi||(xi=se()(["\n  ","\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n  left: 0;\n  top: 0;\n  ","\n"])),fn(),e?Mi:"")};zi.displayName="Blanket";var Ni,Ti=function(e){var t=e.isFixed;return Object(L.d)("div",{css:zi(t),className:"media-card-blanket"})},Ai=function(e){return Object(L.c)(Ni||(Ni=se()(["\n  ","\n  ","\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n"])),e?"opacity: 1;":"opacity: 0;",fn())};Ai.displayName="ActionsBarWrapper";var Di=function(e){return Object(L.d)("div",{id:"actionsBarWrapper",css:Ai(e.isFixed),className:"media-card-actions-bar"},e.children)};function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Li,_i=function(e){v()(n,e);var t=Fi(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.actions;return 0===n.length?null:k.a.createElement(Di,{isFixed:t},k.a.createElement(qt,{actions:n,variant:tt.filled}))}}]),n}(k.a.Component);var Ui=function(e){var t=e.hasTitleBox,n=e.breakpoint;return Object(L.c)(Li||(Li=se()(["\n  position: absolute;\n  width: 100%;\n  height: calc(100% - ",");\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),function(e,t){if(!e)return"0px";var n=Dr(t);return"".concat(n,"px")}(t,n))};Ui.displayName="MediaIconWrapper";var Vi,Hi,Wi,Gi,Xi=function(e){var t=e.breakpoint,n=e.hasTitleBox;return Object(L.d)("div",{id:"iconWrapper",css:Ui({breakpoint:t,hasTitleBox:n})},e.children)},Yi=Object(L.e)(Vi||(Vi=se()(["\n 0% { opacity: 1}\n 50% { opacity: 0.3 }\n 100% { opacity: 1; }"]))),Ki=Object(L.c)(Hi||(Hi=se()(["\n  animation-name: ",";\n  animation-duration: 3.5s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n"])),Yi),qi=function(e){return Object(L.c)(Gi||(Gi=se()(["\n  ","\n"])),(n=(t=e).animated,r=t.reducedFont,Object(L.c)(Wi||(Wi=se()(["\n  overflow: hidden;\n  opacity: 1;\n  font-weight: 450;\n  ","\n  color: ",";\n  text-align: center;\n  ","\n  margin-bottom: -1em;\n  padding: 3px 10px;\n"])),r?"font-size: 0.7em;":"",Ne.N300,n?Ki:"")));var t,n,r};qi.displayName="IconMessageWrapper";var $i,Ji=function(e){var t=e.animated,n=e.reducedFont;return Object(L.d)("div",{id:"iconMessageWrapper",css:qi({animated:t,reducedFont:n})},e.children)},Zi=function(e){var t=e.messageDescriptor,n=e.animated,r=void 0!==n&&n,i=e.reducedFont,a=void 0!==i&&i;return k.a.createElement(Ji,{animated:r,reducedFont:a},k.a.createElement("span",null,k.a.createElement(xr.a,t)))},Qi=function(e){var t=e.disableAnimation;return k.a.createElement(Zi,{messageDescriptor:G.a.creating_preview,animated:!t})},ea=function(e){return k.a.createElement(Zi,q()({},e,{messageDescriptor:G.a.preview_unavailable}))},ta=function(e){return k.a.createElement(Zi,q()({},e,{messageDescriptor:G.a.failed_to_load}))},na=function(e){return k.a.createElement(Zi,q()({},e,{messageDescriptor:G.a.failed_to_upload}))},ra=function(e){return k.a.createElement(Zi,q()({},e,{messageDescriptor:G.a.preview_currently_unavailable,reducedFont:!0}))},ia=n(1082),aa=n(741),oa=function(e){var t,n=e.breakpoint,r=e.dimensions,i=e.appearance,a=e.disableOverlay,o=e.displayBackground,c=e.selected,s=e.isPlayButtonClickable,l=e.isTickBoxSelectable,u=e.shouldDisplayTooltip,d=e.mediaCardCursor;return Object(L.c)($i||($i=se()(["\n  ","\n  box-sizing: border-box;\n  * {\n    box-sizing: border-box;\n  }\n  position: relative;\n  font-family: ",";\n  ","\n  ","\n    ","\n    ","\n    ","\n  ",";\n  ","\n\n  /* We use classnames from here exceptionally to be able to handle styles when the Card is on hover */\n    ","\n    ","\n    &:hover ."," {\n    ","\n  }\n  &:hover ."," {\n    ","\n  }\n\n  /* Tooltip does not support percentage dimensions. We enforce them here */\n  ","\n"])),fn(),Object(nt.f)(),function(e,t){var n=e||{},r=n.width,i=n.height,a=Object(pr.b)(t),o=a.width,c=a.height;return"\n    width: ".concat(Object(hr.a)(r||o),";\n    max-width: 100%;\n    height: ").concat(Object(hr.a)(i||c),";\n    max-height: 100%;\n  ")}(r,i),o?"background-color: ".concat(Ne.N20,";"):"",Ve.b,(t=d)?"cursor: ".concat(t,";"):"",function(e,t){var n=e?"":"0 1px 1px ".concat(Ne.N60A,", 0 0 1px 0 ").concat(Ne.N60A),r=[t?Ir.G:"",n].filter(Boolean).join(", ");return r?"box-shadow: ".concat(r,";"):""}(a,c),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br.SMALL,t=Ar[e];return"\n    font-size: ".concat(t.fontSize,"px;\n    line-height: ").concat(t.lineHeight,"px;\n  ")}(n),aa.b,function(e){return e?"\n    &:hover .".concat("media-card-play-button"," {\n      ").concat(Mr,"\n    }\n  "):""}(s),function(e){return e?"\n    &:hover .".concat("media-card-tickbox"," {\n      ").concat(Cr,"\n    }\n  "):""}(l),"media-card-blanket",Mi,"media-card-actions-bar","opacity: 1;",u?"> div { width: 100%; height: 100% }":"")};oa.displayName="NewFileExperienceWrapper";var ca=function(e){var t=e.testId,n=e.dimensions,r=e.appearance,i=e.onClick,a=e.onMouseEnter,o=e.innerRef,c=e.breakpoint,s=e.mediaCardCursor,l=e.disableOverlay,u=e.selected,d=e.displayBackground,f=e.isPlayButtonClickable,p=e.isTickBoxSelectable,v=e.shouldDisplayTooltip;return Object(L.d)("div",{id:"newFileExperienceWrapper",className:ia.a,"data-testid":t,css:oa({breakpoint:c,dimensions:n,appearance:r,disableOverlay:l,displayBackground:d,selected:u,isPlayButtonClickable:f,isTickBoxSelectable:p,shouldDisplayTooltip:v,mediaCardCursor:s}),ref:o,onClick:i,onMouseEnter:a},e.children)},sa=n(1076),la=function(e){var t=e.testId,n=e.shouldUsePointerCursor,r=e.breakpointSize,i=e.dimensions,a=e.onClick,o=e.onMouseEnter,c=e.innerRef;return Object(L.d)("div",{id:"cardViewWrapper","data-testid":t,css:Object(sa.c)({shouldUsePointerCursor:n,breakpointSize:r,dimensions:i}),onClick:a,onMouseEnter:o,ref:c},e.children)};function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var pa=function(e){v()(n,e);var t=fa(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"state",{didImageRender:!1}),O()(f()(e),"divRef",k.a.createRef()),O()(f()(e),"onImageLoad",(function(t){var n=e.props,r=n.onImageLoad,i=n.cardPreview;t.dataURI===(null==i?void 0:i.dataURI)&&(e.setState({didImageRender:!0}),r&&r(i))})),O()(f()(e),"onImageError",(function(t){var n=e.props.onImageError;e.setState({didImageRender:!1}),n&&n(t)})),O()(f()(e),"saveElementWidth",(function(){var t=e.props.dimensions;if(t){var n=t.width;if(n&&vr(n)&&e.divRef.current){var r=mr(e.divRef.current,"width");e.setState({elementWidth:r})}}})),O()(f()(e),"renderFileNewExperience",(function(){var t=e.props,n=t.dimensions,r=t.appearance,i=t.onClick,a=t.onMouseEnter,o=t.testId,c=t.metadata,s=t.status,l=t.selected,u=t.selectable,d=t.disableOverlay,f=t.cardPreview,p=t.mediaCardCursor,v=(c||{}).name,h=!f||!d||"error"===s||"failed-processing"===s,m=!(!e.shouldRenderPlayButton()||!d),b=!d&&!!u&&!l,g=!d;return Object(L.d)(ca,{testId:o||"media-card-view",dimensions:n,appearance:r,onClick:i,onMouseEnter:a,innerRef:e.divRef,breakpoint:e.breakpoint,mediaCardCursor:p,disableOverlay:!!d,selected:!!l,displayBackground:h,isPlayButtonClickable:m,isTickBoxSelectable:b,shouldDisplayTooltip:g},g?Object(L.d)(H.a,{content:v,position:"bottom",tag:"div"},e.renderNewExperienceCard()):e.renderNewExperienceCard())})),O()(f()(e),"renderFile",(function(){var t=e.props,n=t.cardPreview,r=t.status,i=t.mediaItemType,a=t.metadata,o=t.progress,c=t.resizeMode,s=t.dimensions,l=t.selectable,u=t.selected,d=t.disableOverlay,f=t.alt,p=t.onDisplayImage,v=t.actions,h=n||{},m=h.dataURI,b=h.orientation,g=a||{},y=g.name,O=g.mediaType,w=g.mimeType,j=g.size,x=a&&v?yr(v,a):[],k=kr(r),R=j?Object(W.a)(j):"";return Object(L.d)(dr,{error:k,dimensions:s,selectable:l,selected:u,dataURI:m,mediaName:y,mediaType:O,mimeType:w,fileSize:R,status:r,mediaItemType:i,progress:o,resizeMode:c,onDisplayImage:p,actions:x,disableOverlay:d,previewOrientation:b,alt:f,onImageLoad:e.onImageLoad,onImageError:e.onImageError,cardPreview:n})})),O()(f()(e),"getRenderConfigByStatus",(function(){var t=e.props,n=t.cardPreview,r=t.status,i=t.metadata,a=t.disableOverlay,o=t.error,c=t.selectable,s=t.disableAnimation,l=i||{},u=l.name,d=l.mediaType,f=e.state.didImageRender,p=!(!i||0!==i.size),v={renderTypeIcon:!f,renderImageRenderer:!!n,renderPlayButton:!!n&&"video"===d,renderBlanket:!a,renderTitleBox:!a&&!!u,renderTickBox:!a&&!!c};switch(r){case"uploading":return da(da({},v),{},{renderBlanket:!a||"video"!==d,isFixedBlanket:!0,renderProgressBar:!0});case"processing":return da(da({},v),{},{iconMessage:f||p?void 0:Object(L.d)(Qi,{disableAnimation:s})});case"complete":return v;case"error":case"failed-processing":var h,m,b=da(da({},v),{},{renderTypeIcon:!0,renderImageRenderer:!1,renderTitleBox:!1,renderPlayButton:!1}),g=(o||{}).secondaryError;if(Object(X.g)(g)||Object(Y.b)(g)?h=Object(L.d)(ra,null):It(o)?(h=Object(L.d)(na,null),m=G.a.failed_to_upload):h=i?Object(L.d)(ea,null):Object(L.d)(ta,null),!a){var y=!u||!!m;return da(da({},b),{},{renderTitleBox:!!u&&!m,renderFailedTitleBox:y,iconMessage:y?void 0:h,customTitleMessage:m})}return da(da({},b),{},{iconMessage:h});case"loading-preview":case"loading":default:return da(da({},v),{},{renderPlayButton:!1,renderTypeIcon:!1,renderSpinner:!f})}})),O()(f()(e),"renderNewExperienceCard",(function(){var t=e.getRenderConfigByStatus(),n=t.renderTypeIcon,r=t.iconMessage,i=t.renderImageRenderer,a=t.renderSpinner,o=t.renderPlayButton,c=t.renderBlanket,s=t.renderProgressBar,l=t.renderTitleBox,u=t.renderFailedTitleBox,d=t.renderTickBox,f=t.isFixedBlanket,p=t.customTitleMessage,v=e.props,h=v.progress,m=v.selected,b=v.status,g=(v.metadata||{}).name,y=!!l||!!u;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{css:_r,className:"media-file-card-view","data-testid":"media-file-card-view","data-test-media-name":g,"data-test-status":b,"data-test-progress":h,"data-test-selected":!!m||void 0},n&&e.renderMediaTypeIcon(y,r),a&&e.renderSpinner(y),i&&e.renderImageRenderer(),o&&e.renderPlayButton(y),c&&e.renderBlanket(!!f),l&&e.renderTitleBox(),u&&e.renderFailedTitleBox(p),s&&e.renderProgressBar(!y),d&&e.renderTickBox()),e.renderActionsBar())})),e}return u()(n,[{key:"componentDidMount",value:function(){this.saveElementWidth();var e=this.props.innerRef;e&&this.divRef.current&&e(this.divRef.current)}},{key:"componentDidUpdate",value:function(e){var t=e.cardPreview,n=this.props.cardPreview;t&&!n&&this.setState({didImageRender:!1})}},{key:"width",get:function(){var e=this.state.elementWidth;if(e)return e;var t=(this.props.dimensions||{width:void 0}).width;return t?Object(hr.a)(t):pr.a.width}},{key:"breakpoint",get:function(){var e=this.state.elementWidth||(this.props.dimensions?this.props.dimensions.width:"")||pr.a.width;return Lr(parseInt("".concat(e),10))}},{key:"render",value:function(){var e=this.props.featureFlags;if(Object(_.c)("newCardExperience",e))return this.renderFileNewExperience();var t=this.props,n=t.dimensions,r=t.appearance,i=t.onClick,a=t.onMouseEnter,o=t.testId,c=n||Object(pr.b)(r);return Object(L.d)(la,{testId:o||"media-card-view",shouldUsePointerCursor:!0,breakpointSize:Object(fr.a)(this.width),dimensions:c,onClick:i,onMouseEnter:a,innerRef:this.divRef},this.renderFile())}},{key:"renderSpinner",value:function(e){return Object(L.d)(Xi,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(V.a,null))}},{key:"shouldRenderPlayButton",value:function(){var e=this.props,t=e.metadata,n=e.cardPreview;return!("video"!==(t||{}).mediaType||!n)}},{key:"renderPlayButton",value:function(e){return Object(L.d)(Xi,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(Ei,null))}},{key:"renderBlanket",value:function(e){return Object(L.d)(Ti,{isFixed:e})}},{key:"renderTitleBox",value:function(){var e=this.props,t=e.metadata,n=e.titleBoxBgColor,r=e.titleBoxIcon,i=t||{},a=i.name,o=i.createdAt;return!!a&&Object(L.d)(bi,{name:a,createdAt:o,breakpoint:this.breakpoint,titleBoxIcon:r,titleBoxBgColor:n})}},{key:"renderFailedTitleBox",value:function(e){return Object(L.d)(gi,{breakpoint:this.breakpoint,customMessage:e})}},{key:"renderProgressBar",value:function(e){var t=this.props.progress;return Object(L.d)(Pi,{progress:t,breakpoint:this.breakpoint,positionBottom:e})}},{key:"renderImageRenderer",value:function(){var e=this.props,t=e.cardPreview,n=e.metadata,r=(n=void 0===n?{}:n).mediaType,i=void 0===r?"unknown":r,a=e.alt,o=e.resizeMode,c=e.onDisplayImage,s=e.nativeLazyLoad,l=e.forceSyncDisplay;return!!t&&Object(L.d)(Kr,{cardPreview:t,mediaType:i,alt:a,resizeMode:o,onDisplayImage:c,onImageLoad:this.onImageLoad,onImageError:this.onImageError,nativeLazyLoad:s,forceSyncDisplay:l})}},{key:"renderTickBox",value:function(){var e=this.props.selected;return Object(L.d)(Bi,{selected:e})}},{key:"renderMediaTypeIcon",value:function(e,t){var n=this.props.metadata||{},r=n.mediaType,i=n.mimeType,a=n.name;return Object(L.d)(Xi,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(U.a,{testId:"media-card-file-type-icon",mediaType:r,mimeType:i,name:a}),t)}},{key:"renderActionsBar",value:function(){var e=this.props,t=e.disableOverlay,n=e.actions,r=e.metadata,i=r&&n?yr(n,r):[];return t||!n||0===n.length?null:Object(L.d)(_i,{actions:i})}}]),n}(k.a.Component);O()(pa,"defaultProps",{appearance:"auto"});var va=Object(I.a)({onClick:Lt({eventType:"ui",action:"clicked",actionSubject:"mediaCard",attributes:{}})})(pa);function ha(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba=Object(x.forwardRef)((function(e,t){return"undefined"==typeof IntersectionObserver?null:k.a.createElement("div",{ref:t,className:"media-card-viewport-anchor",style:{position:"absolute",top:"".concat(e.offsetTop,"px"),maxHeight:0,pointerEvents:"none"}})})),ga=function(e){var t=e.onVisible,n=e.cardEl,r=e.children,i=e.preAnchorRef,a=e.postAnchorRef;return Object(x.useEffect)((function(){var e=new IntersectionObserver(function(e){return function(t,n){var r,i=ha(t);try{for(i.s();!(r=i.n()).done;){if(r.value.isIntersecting){e(),n.disconnect();break}}}catch(e){i.e(e)}finally{i.f()}}}(t));return(null==i?void 0:i.current)&&e.observe(i.current),(null==a?void 0:a.current)&&e.observe(a.current),n&&e.observe(n),function(){e.disconnect()}}),[n,i,a,t]),k.a.createElement(k.a.Fragment,null,r)},ya=function(e){var t=e.cardEl,n=e.preAnchorRef,r=e.postAnchorRef,i=e.onVisible,a=e.children;return"undefined"==typeof IntersectionObserver?k.a.createElement(k.a.Fragment,null,a):k.a.createElement(ga,{cardEl:t,preAnchorRef:n,postAnchorRef:r,onVisible:i},a)};var Oa=function(e){return"px"===e.substr(-2)&&!isNaN(+e.slice(0,-2))},wa=function(e,t){var n=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?2:1,r=t.dimensions&&t.dimensions[e]||"";return vr(r)&&t.element?mr(t.element,e)*n:"number"==typeof r?r*n:Oa("".concat(r))?parseInt("".concat(r),10)*n:pr.a[e]*n},ja=n(1067),xa=n(170),ka=n(101),Ra=n.n(ka),Pa=n(511),Ia=n(351);function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Ea=function(e){v()(n,e);var t=Ca(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).eventEmitter=new Ia.EventEmitter2,r}return u()(n,[{key:"shift",value:function(){var e=Ra()(g()(n.prototype),"shift",this).call(this);return this.eventEmitter.emit("shift",e),e}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}}]),n}(Pa.LRUCache),Sa=function(){function e(t){s()(this,e),this.cache=new Ea(t),this.cache.on("shift",(function(e){e&&e.value.dataURI&&URL.revokeObjectURL(e.value.dataURI)}))}return u()(e,[{key:"has",value:function(e){return!!this.cache.find(e)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"remove",value:function(e){var t=this.cache.remove(e);t&&URL.revokeObjectURL(t.dataURI)}}]),e}(),Ba=function(e,t){return[e,t||"crop"].join("-")},Ma=new(u()((function e(t){var n=this;s()(this,e),O()(this,"get",(function(e,t){var r=Ba(e,t);return n.previewCache.get(r)})),O()(this,"set",(function(e,t,r){var i=Ba(e,t);n.previewCache.set(i,r)})),O()(this,"remove",(function(e,t){var r=Ba(e,t);n.previewCache.remove(r)})),this.previewCache=t})))(new Sa(50)),za=n(652),Na=function(){var e=o()(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new za.a(t),e.next=3,n.takeSnapshot();case 3:return r=e.sent,n.end(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ta=n(280),Aa=n(1383),Da=function(){var e=o()(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Aa.b)(t);case 3:return n=e.sent,r=URL.createObjectURL(t),e.abrupt("return",{dataURI:r,orientation:n,source:"local"});case 8:throw e.prev=8,e.t0=e.catch(0),new wt("local-preview-image",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=o()(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Na(t);case 3:return n=e.sent,e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 7:throw e.prev=7,e.t0=e.catch(0),new wt("local-preview-video",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),La=function(){var e=o()(j.a.mark((function e(t){var n,r,i,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:r=e.sent,n=r.value,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new wt("local-preview-rejected",e.t0);case 10:if("string"!=typeof n){e.next=14;break}return e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 14:if(!(n instanceof Blob)){e.next=22;break}i=n.type,a=Object(Ta.a)(i),e.t1=a,e.next="image"===e.t1?20:"video"===e.t1?21:22;break;case 20:return e.abrupt("return",Da(n));case 21:return e.abrupt("return",Fa(n));case 22:throw new wt("local-preview-unsupported");case 23:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_a=function(){var e=o()(j.a.mark((function e(t,n,r){var i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getImage(n,r);case 3:return i=e.sent,e.abrupt("return",{dataURI:URL.createObjectURL(i),orientation:1,source:"remote"});case 7:throw e.prev=7,e.t0=e.catch(0),new jt("remote-preview-fetch",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Ua=function(e){return"number"==typeof e||Oa("".concat(e))},Va=function(e,t){if(!e||!t)return!1;var n=Ua(e)&&Ua(t),r=vr(e)&&vr(t);return n||r},Ha=function(e,t){if(e&&t&&Va(e.width,t.width)&&Va(e.height,t.height)){var n=parseInt("".concat(e.width),10)<parseInt("".concat(t.width),10),r=parseInt("".concat(e.height),10)<parseInt("".concat(t.height),10);return n||r}return!1},Wa=n(161),Ga=function(e,t,n){var r="size"in e&&!!e.size,i=("mediaType"in e&&e||{}).mediaType,a=("mimeType"in e&&e||{}).mimeType,o=!!i&&Object(Wa.c)(i,n),c=!t&&Object(M.d)(e)&&function(e){return"image"===e||"video"===e}(i)&&!!a&&Object(xa.d)(a),s=Object(M.c)(e);return{hasFilesize:r,isPreviewable:o,hasPreview:c||s,isSupportedByBrowser:!!a&&Object(xa.d)(a)}};function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ka=Ma.get,qa=Ma.remove,$a=function(e){return"mimeType"in e&&Object(xa.d)(e.mimeType)&&Object(M.d)(e)?e.preview:void 0},Ja=function(e,t,n,r){var i;switch(n.source){case"local":i="cache-local";break;case"remote":i="cache-remote";break;case"ssr-server":i="cache-ssr-server";break;case"ssr-client":i="cache-ssr-client";break;default:i=n.source}var a=r?Object(ja.a)(n.dataURI,r):n.dataURI;return Ma.set(e,t,Ya(Ya({},n),{},{source:i,dataURI:a})),Ya(Ya({},n),{},{dataURI:a})},Za=function(){var e=o()(j.a.mark((function e(t){var n,r,i,a,o,c,s,l,u,d,f,p,v;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mediaClient,r=t.id,i=t.dimensions,a=void 0===i?{}:i,o=t.filePreview,c=t.onLocalPreviewError,s=t.isRemotePreviewReady,l=t.imageUrlParams,u=t.mediaBlobUrlAttrs,d=l.mode,f=Ma.get(r,d),p=Ha(null==f?void 0:f.dimensions,a),!f||p){e.next=6;break}return e.abrupt("return",f);case 6:if(e.prev=6,!o){e.next=12;break}return e.next=10,La(o);case 10:return v=e.sent,e.abrupt("return",Ja(r,d,Ya(Ya({},v),{},{dimensions:a}),u));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(6),(!Pt(e.t0)||Pt(e.t0)&&!s)&&c&&c(e.t0),s){e.next=19;break}throw e.t0;case 19:if(s){e.next=21;break}throw new Ot("remote-preview-not-ready");case 21:return e.abrupt("return",no(n,r,a,l,u));case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Qa=function(e){return["ssr-server","cache-ssr-server"].includes(e.source)},eo=function(e){return["ssr-client","cache-ssr-client"].includes(e.source)},to=function(e){return"ssr-data"===e.source},no=function(){var e=o()(j.a.mark((function e(t,n,r,i,a){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(t,n,i);case 2:return o=e.sent,e.abrupt("return",Ja(n,i.mode,Ya(Ya({},o),{},{dimensions:r}),a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),ro=function(e){switch(e){case"processed":return"succeeded";case"processing":return"running";case"failed-processing":return"failed"}},io=function(e,t){return Object(z.c)(e)?t&&!Object(M.a)(t)?{id:(n=t).id,name:n.name,size:n.size,mimeType:n.mimeType,createdAt:n.createdAt,mediaType:n.mediaType,processingStatus:ro(n.status)}:{id:e.id}:{id:e.mediaItemType,name:e.name||e.dataURI,mediaType:"image"};var n},ao=n(1909),oo=n(2071),co=function(e){var t=e.testId,n=e.selected,r=e.dimensions,i=e.onClick,a=e.innerRef;return Object(L.d)("div",{id:"inlinePlayerWrapper","data-testid":t,className:sa.a,css:Object(sa.b)({selected:n,dimensions:r}),onClick:i,ref:a},e.children)};function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var lo=function(e){if("processed"===e.status||"processing"===e.status){var t=e.artifacts;if(!t)return;return t["video_1280.mp4"]?"video_1280.mp4":t["video_640.mp4"]?"video_640.mp4":void 0}},uo=function(e){v()(n,e);var t=so(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),O()(f()(e),"state",{}),O()(f()(e),"divRef",k.a.createRef()),O()(f()(e),"setFileSrc",(function(t){e.setState({fileSrc:t})})),O()(f()(e),"setBinaryURL",o()(j.a.mark((function t(){var n,r,i,a,o,c,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.mediaClient,i=n.identifier,a=n.onError,o=i.id,c=i.collectionName,t.prev=2,t.next=5,r.file.getFileBinaryURL(o,c);case 5:s=t.sent,e.setFileSrc(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a&&a(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),O()(f()(e),"unsubscribe",(function(){e.subscription&&e.subscription.unsubscribe()})),O()(f()(e),"revoke",(function(){var t=e.state.fileSrc;t&&URL.revokeObjectURL(t)})),O()(f()(e),"onDownloadClick",(function(){var t=e.props,n=t.mediaClient,r=t.identifier,i=r.id,a=r.collectionName;n.file.downloadBinary(i,void 0,a)})),O()(f()(e),"onFirstPlay",(function(){var t=e.props.identifier;T.a.emit("media-viewed",{fileId:t.id,viewingLevel:"full"})})),O()(f()(e),"saveElementWidth",(function(){var t=e.props.dimensions;if(t){var n=t.width;if(n&&vr(n)&&e.divRef.current){var r=mr(e.divRef.current,"width");e.setState({elementWidth:r})}}})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this;this.saveElementWidth();var t,n=this.props,r=n.mediaClient,i=n.identifier,a=i.id,c=i.collectionName;this.revoke(),this.unsubscribe(),this.subscription=r.file.getFileState(a,{collectionName:c}).subscribe({next:(t=o()(j.a.mark((function t(n){var i,a,o,s,l,u,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("uploading"===n.status?e.setState({isUploading:!0,progress:n.progress}):e.setState({isUploading:!1}),!e.state.fileSrc){t.next=4;break}return t.abrupt("return");case 4:if("error"===n.status||!n.preview){t.next=13;break}return t.next=7,n.preview;case 7:if(i=t.sent,!((a=i.value)instanceof Blob&&0===a.type.indexOf("video/"))){t.next=13;break}return o=URL.createObjectURL(a),e.setFileSrc(o),t.abrupt("return");case 13:if("processed"!==n.status&&"processing"!==n.status){t.next=30;break}if(s=lo(n),l=n.artifacts,s&&l){t.next=19;break}return e.setBinaryURL(),t.abrupt("return");case 19:return t.prev=19,t.next=22,r.file.getArtifactURL(l,s,c);case 22:u=t.sent,e.setFileSrc(u),t.next=30;break;case 26:t.prev=26,t.t0=t.catch(19),(d=e.props.onError)&&d(t.t0);case 30:case"end":return t.stop()}}),t,null,[[19,26]])}))),function(e){return t.apply(this,arguments)})})}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.revoke()}},{key:"breakpoint",get:function(){var e=this.state.elementWidth||(this.props.dimensions?this.props.dimensions.width:"")||pr.a.width;return Lr(parseInt("".concat(e),10))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,r=t.dimensions,i=t.originalDimensions,a=t.selected,o=t.testId,c=t.identifier,s=t.forwardRef,l=t.autoplay,u=t.cardPreview,d=t.onFullscreenChange,f=this.state,p=f.fileSrc,v=f.isUploading,h=f.progress;return p?k.a.createElement(co,{testId:o||"media-card-inline-player",selected:{selected:a},onClick:n,innerRef:s||void 0,dimensions:r},k.a.createElement(ao.a,null,(function(t){return k.a.createElement(oo.a,{type:"video",src:p,onFullscreenChange:d,fileId:c.id,isAutoPlay:l,isHDAvailable:!1,onDownloadClick:e.onDownloadClick,onFirstPlay:e.onFirstPlay,lastWatchTimeConfig:{contentId:c.id},originalDimensions:i,showControls:t,poster:null==u?void 0:u.dataURI})})),v?k.a.createElement(Pi,{progress:h,breakpoint:this.breakpoint,positionBottom:!0,showOnTop:!0}):null):k.a.createElement(er.a,{testId:o,dimensions:r})}}]),n}(x.Component);O()(uo,"defaultProps",{dimensions:pr.a});var fo=k.a.forwardRef((function(e,t){return k.a.createElement(uo,q()({},e,{forwardRef:t}))})),po=function(e,t,n,r,i,a){var o=function(t){return Ft(t,e)};switch(t){case"complete":o(function(e,t,n){return{eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:n}}}(n,r,i));break;case"failed-processing":o(function(e,t,n){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:n}}}(n,r,i));break;case"error":a&&o(function(e,t,n,r){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:Et(Et({fileAttributes:e,performanceAttributes:t,status:"fail"},Dt(n)),{},{request:At(n),ssrReliability:r})}}(n,r,a,i))}},vo=function(){return document},ho=n(45),mo=n.n(ho),bo=function(e){return e.map((function(e){return"string"==typeof(t=e)?"'".concat(t,"'"):"object"===mo()(t)?JSON.stringify(t):void 0===t?"undefined":t;var t})).join(",")};function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t="__MEDIA_INTERNAL";return e[t]||(e[t]={}),e[t]}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=go(e),n="mediaCardSsr";return t[n]||(t[n]={}),t[n]}var Oo=function(e){return e?"-".concat(e):""},wo=function(e){var t=e.id,n=e.collectionName,r=e.occurrenceKey;return"".concat(t).concat(Oo(n)).concat(Oo(r))},jo=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,a=yo(i);a[e]={dataURI:t,dimensions:n,error:r}},xo=function(e,t,n,r){var i,a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"(".concat(e.toString(),")(").concat(bo(n),");")}(jo,wo(e),t,n,r);return i=[yo.toString(),go.toString(),a],"(function(){\n  ".concat(i.join(";"),"\n})();\n")},ko=function(e){var t=e.dataURI,n=e.identifier,r=e.dimensions,i=e.error;return k.a.createElement("script",{dangerouslySetInnerHTML:{__html:xo(n,t,r,i)}})};function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Io;!function(e){e.Action="pointer",e.NotReady="wait"}(Io||(Io={}));var Co=n(153),Eo=n(336),So=n(346);function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zo,No=function(e){if(!zo){var t={platform:{component:"media-card"},type:Co.b.Experience,performanceType:Co.a.InlineResult,featureFlags:Mt};zo=new Eo.a("media-card-render",t)}return zo.getInstance(e)},To=function(e,t){No(e).success({metadata:Mo(Mo({},t),{},{packageName:"@atlaskit/media-card",packageVersion:"74.0.0",mediaEnvironment:Object(So.b)(),mediaRegion:Object(So.c)()})})},Ao=function(e,t){No(e).failure({metadata:Mo(Mo({},t),{},{packageName:"@atlaskit/media-card",packageVersion:"74.0.0",mediaEnvironment:Object(So.b)(),mediaRegion:Object(So.c)()})})};function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var _o=function(e){v()(n,e);var t=Lo(n);function n(e){var r;s()(this,n),r=t.call(this,e),O()(f()(r),"internalOccurrenceKey",(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,"")),O()(f()(r),"hasBeenMounted",!1),O()(f()(r),"fileStateFlags",{wasStatusUploading:!1,wasStatusProcessing:!1}),O()(f()(r),"viewportPreAnchorRef",Object(x.createRef)()),O()(f()(r),"viewportPostAnchorRef",Object(x.createRef)()),O()(f()(r),"ssrReliability",{server:{status:"unknown"},client:{status:"unknown"}}),O()(f()(r),"timeElapsedTillCommenced",performance.now()),O()(f()(r),"getImageURLParams",(function(e){return Fo(Fo({collection:e.collectionName,mode:Object(B.a)(r.props.resizeMode)},r.requestedDimensions),{},{allowAnimated:!0})})),O()(f()(r),"getMediaBlobUrlAttrs",(function(e,t){var n=e.id,i=e.collectionName,a=r.props,o=a.originalDimensions,c=a.contextId,s=a.alt,l=io(e,t),u=l.mimeType,d=l.name,f=l.size;return c?Fo(Fo({id:n,collection:i,contextId:c,mimeType:u,name:d,size:f},o||r.requestedDimensions),{},{alt:s}):void 0})),O()(f()(r),"getCardPreviewParams",(function(e,t){var n=r.state.isBannedLocalPreview,i=e.id,a=r.props,o=a.dimensions,c=void 0===o?{}:o;return{mediaClient:a.mediaClient,id:i,dimensions:c,onLocalPreviewError:r.fireLocalPreviewErrorEvent,filePreview:n?void 0:$a(t),isRemotePreviewReady:Object(M.c)(t),imageUrlParams:r.getImageURLParams(e),mediaBlobUrlAttrs:r.getMediaBlobUrlAttrs(e,t)}})),O()(f()(r),"setCacheSSRPreview",(function(e){var t=r.props,n=t.mediaClient,i=t.dimensions,a=void 0===i?{}:i;no(n,e.id,a,r.getImageURLParams(e),r.getMediaBlobUrlAttrs(e)).catch((function(){}))})),O()(f()(r),"refetchSSRPreview",function(){var e=o()(j.a.mark((function e(t){var n,i,a,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,i=n.mediaClient,a=n.dimensions,o=void 0===a?{}:a,e.prev=1,e.next=4,no(i,t.id,o,r.getImageURLParams(t),r.getMediaBlobUrlAttrs(t));case 4:c=e.sent,r.safeSetState({cardPreview:c}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),O()(f()(r),"resolvePreview",function(){var e=o()(j.a.mark((function e(t,n){var i,a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r.getCardPreviewParams(t,n),e.next=4,Za(i);case 4:a=e.sent,r.safeSetState({cardPreview:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c="preview-fetch",s=e.t0,o=Rt(s)?s:new Ot(c,s),o instanceof wt?r.safeSetState({isBannedLocalPreview:!0}):r.safeSetState({status:"error",error:o});case 12:case"end":return e.stop()}var c,s}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),O()(f()(r),"getPerformanceAttributes",(function(){var e=f()(r).timeElapsedTillCommenced,t=performance.now();return{overall:{durationSincePageStart:t,durationSinceCommenced:e&&t-e}}})),O()(f()(r),"logSSRImageError",(function(e){if(e){var t=Fo({status:"fail"},Dt(new kt(e.source)));eo(e)&&(r.ssrReliability.client=t),to(e)&&(r.ssrReliability.server=t,r.ssrReliability.client=t)}})),O()(f()(r),"onImageError",(function(e){r.logSSRImageError(e);var t=r.state.cardPreview;if((null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)){var n=new kt(null==e?void 0:e.source),i=e&&["local","cache-local"].includes(e.source),a=e&&(eo(e)||to(e));if(i||a){var o={cardPreview:void 0};i&&(o.isBannedLocalPreview=!0,r.fireLocalPreviewErrorEvent(n));var c=r.props,s=c.identifier,l=c.resizeMode,u=Object(B.a)(l);Object(z.c)(s)&&qa(s.id,u),r.safeSetState(o)}else r.safeSetState({status:"error",error:n})}})),O()(f()(r),"onImageLoad",(function(e){e&&(eo(e)&&"unknown"===r.ssrReliability.client.status&&(r.ssrReliability.client={status:"success"}),to(e)&&"unknown"===r.ssrReliability.server.status&&(r.ssrReliability.server={status:"success"},r.ssrReliability.client={status:"success"}));var t=r.state.cardPreview;(null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)&&r.safeSetState({previewDidRender:!0})})),O()(f()(r),"fireCopiedEvent",(function(){var e=r.props.createAnalyticsEvent,t=r.state.cardRef;t&&e&&function(e,t,n){if("function"==typeof window.getSelection){var r,i=window.getSelection();null!=i&&null!==(r=i.containsNode)&&void 0!==r&&r.call(i,n,!0)&&Ft(function(e){return{eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}}}(t),e)}}(e,r.metadata.id,t)})),O()(f()(r),"fireScreenEvent",(function(){var e=r.props.createAnalyticsEvent;e&&function(e,t){Ft(function(e){return{eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}}(t),e)}(e,r.fileAttributes)})),O()(f()(r),"fireLocalPreviewErrorEvent",(function(e){})),O()(f()(r),"safeSetState",(function(e){if(r.hasBeenMounted){var t=e.status?(n=e,function(e){return t=e.status,["complete","error","failed-processing"].includes(t)&&"complete"!==n.status?e:Po(Po({},e),n);var t}):e;r.setState(t)}var n})),O()(f()(r),"unsubscribe",(function(){r.subscription&&r.subscription.unsubscribe(),r.hasBeenMounted&&r.setState({isBannedLocalPreview:!1})})),O()(f()(r),"onCardViewClick",(function(e,t){var n=r.props,i=n.identifier,a=n.useInlinePlayer,o=n.shouldOpenMediaViewer,c=r.state.cardPreview,s=f()(r).metadata;if(r.onClick(e,t),s){var l=s&&"video"===s.mediaType;if(a&&l&&c)r.setState({isPlayingFile:!0,shouldAutoplay:!0});else if(o){var u;u=Object(z.c)(i)?{id:i.id,mediaItemType:"file",collectionName:i.collectionName,occurrenceKey:i.occurrenceKey}:{mediaItemType:"external-image",dataURI:i.dataURI,name:i.name},r.setState({mediaViewerSelectedItem:u})}}})),O()(f()(r),"onInlinePlayerError",(function(){r.setState({isPlayingFile:!1})})),O()(f()(r),"setRef",(function(e){e&&r.setState({cardRef:e})})),O()(f()(r),"renderInlinePlayer",(function(){var e=r.props,t=e.identifier,n=e.mediaClient,i=e.dimensions,a=e.selected,o=e.testId,c=e.originalDimensions,s=e.onFullscreenChange,l=r.state,u=l.shouldAutoplay,d=l.cardPreview;return k.a.createElement(fo,{mediaClient:n,dimensions:i,originalDimensions:c,identifier:t,autoplay:!!u,onFullscreenChange:s,onError:r.onInlinePlayerError,onClick:r.onClick,selected:a,ref:r.setRef,testId:o,cardPreview:d})})),O()(f()(r),"onMediaViewerClose",(function(){r.setState({mediaViewerSelectedItem:void 0})})),O()(f()(r),"onDisplayImage",(function(){var e,t=r.props.identifier;e=Object(z.c)(t)?{fileId:t.id,isUserCollection:t.collectionName===N.f}:{fileId:t.dataURI,isUserCollection:!1},T.a.emit("media-viewed",Fo({viewingLevel:"minimal"},e))})),O()(f()(r),"renderMediaViewer",(function(){var e=r.state.mediaViewerSelectedItem,t=r.props,n=t.mediaClient,i=t.identifier,a=t.mediaViewerDataSource,o=t.contextId,c=t.featureFlags;if(e){var s=Object(z.c)(i)&&i.collectionName||"",l=a||{list:[]};return P.a.createPortal(k.a.createElement(A.a,{collectionName:s,dataSource:l,mediaClientConfig:n.config,selectedItem:e,onClose:r.onMediaViewerClose,contextId:o,featureFlags:c}),document.body)}})),O()(f()(r),"renderCard",(function(){var e=r.props,t=e.identifier,n=e.isLazy,i=e.appearance,a=e.resizeMode,o=e.dimensions,c=e.selectable,s=e.selected,l=e.disableOverlay,u=e.alt,d=e.testId,p=e.featureFlags,v=e.titleBoxBgColor,h=e.titleBoxIcon,m=e.ssr,b=e.useInlinePlayer,g=e.shouldOpenMediaViewer,y=t.mediaItemType,O=r.state,w=O.status,j=O.progress,x=O.cardPreview,R=O.error,P=O.cardRef,I=O.isCardVisible,C=f()(r).metadata,E=f()(r),S=E.onCardViewClick,B=E.onDisplayImage,M=E.actions,z=E.onMouseEnter,N=n&&!I,T=!!m,A=function(e,t,n,r,i){if(!n&&(e||t))return!i&&(e||e&&t)?Io.NotReady:"video"===i&&r&&e||t?Io.Action:void 0}(!!b,!!g,"error"===w||"failed-processing"===w,!!r.state.cardPreview,C.mediaType),D=k.a.createElement(va,{status:w,error:R,mediaItemType:y,metadata:C,cardPreview:x,alt:u,appearance:i,resizeMode:a,dimensions:o,actions:M,selectable:c,selected:s,onClick:S,onMouseEnter:z,disableOverlay:l,progress:j,onDisplayImage:B,innerRef:r.setRef,testId:d,featureFlags:p,titleBoxBgColor:v,titleBoxIcon:h,onImageError:r.onImageError,onImageLoad:r.onImageLoad,nativeLazyLoad:N,forceSyncDisplay:T,mediaCardCursor:A});return n?k.a.createElement(ya,{cardEl:P,preAnchorRef:r.viewportPreAnchorRef,postAnchorRef:r.viewportPostAnchorRef,onVisible:r.onCardInViewport},k.a.createElement(ba,{ref:r.viewportPreAnchorRef,offsetTop:-900}),D,k.a.createElement(ba,{ref:r.viewportPostAnchorRef,offsetTop:900})):D})),O()(f()(r),"storeSSRData",(function(){var e,t=r.props,n=t.ssr,i=t.identifier,a=r.state.cardPreview,o=(a=void 0===a?{}:a).dataURI;return Object(z.c)(i)&&"server"===n&&k.a.createElement(ko,{identifier:i,dataURI:o,dimensions:r.requestedDimensions,error:"fail"===(null===(e=r.ssrReliability.server)||void 0===e?void 0:e.status)?r.ssrReliability.server:void 0})})),O()(f()(r),"onCardInViewport",(function(){r.setState({isCardVisible:!0})})),O()(f()(r),"onClick",(function(e,t){var n=r.props.onClick,i=f()(r).metadata;n&&n({event:e,mediaItemDetails:i},t)})),O()(f()(r),"onMouseEnter",(function(e){var t=r.props.onMouseEnter,n=f()(r).metadata;t&&t({event:e,mediaItemDetails:n})}));var i,a="loading",c=r.props,l=c.identifier,u=c.resizeMode,d=c.ssr,p=c.mediaClient;if(Object(z.c)(l)){var v,h,m=l.id,b=Object(B.a)(u);if(!(i=Ka(m,b))&&d)if(r.ssrData=function(e){var t=yo();if(t)return t[wo(e)]}(l),null!==(v=r.ssrData)&&void 0!==v&&v.error&&(r.ssrReliability.server=Fo({status:"fail"},r.ssrData.error)),null!==(h=r.ssrData)&&void 0!==h&&h.dataURI)i={dataURI:r.ssrData.dataURI,source:"ssr-data"};else try{i=function(e,t,n,r,i){try{var a=t.getImageUrlSync(n,r);return{dataURI:i?Object(ja.a)(a,i):a,source:"client"===e?"ssr-client":"ssr-server",orientation:1}}catch(t){throw new xt("server"===e?"ssr-server-uri":"ssr-client-uri",t)}}(d,p,l.id,r.getImageURLParams(l),r.getMediaBlobUrlAttrs(l))}catch(e){r.ssrReliability[d]=Fo({status:"fail"},Dt(e))}}else if(Object(z.b)(l)){r.fireCommencedEvent(),a="loading-preview",i={dataURI:l.dataURI,orientation:1,source:"external"}}var g,y=!r.props.isLazy||!!i&&!(eo(g=i)||Qa(g));return r.state={status:a,isCardVisible:y,isPlayingFile:!1,shouldAutoplay:!1,cardPreview:i,cardRef:null,isBannedLocalPreview:!1,previewDidRender:!1,error:void 0},r}return u()(n,[{key:"componentDidMount",value:function(){this.hasBeenMounted=!0;var e,t=this.state,n=t.isCardVisible,r=t.cardPreview,i=this.props,a=i.identifier,o=i.ssr,c=i.dimensions;(n&&Object(z.c)(a)&&this.updateStateForIdentifier(a),n&&o&&r&&Object(z.c)(a))&&(eo(r)&&this.setCacheSSRPreview(a),to(r)&&Ha(null===(e=this.ssrData)||void 0===e?void 0:e.dimensions,c)&&this.refetchSSRPreview(a));vo().addEventListener("copy",this.fireCopiedEvent)}},{key:"componentDidUpdate",value:function(e,t){var n=e.mediaClient,r=e.identifier,i=t.isCardVisible,a=this.props,o=a.mediaClient,c=a.identifier,s=a.dimensions,l=a.featureFlags,u=a.useInlinePlayer,d=a.disableOverlay,f=a.resizeMode,p=this.state,v=p.isCardVisible,h=p.cardPreview,m=p.status,b=p.fileState,g=p.isBannedLocalPreview,y=p.previewDidRender,O=p.isPlayingFile,w=Object(z.a)(r,c),j=!i&&v,x=n!==o,k=Object(B.a)(f);if(this.updateFileStateFlag(b),Object(z.b)(c)&&w){this.fireCommencedEvent();var R=c.dataURI;this.setState({status:"loading-preview",cardPreview:{dataURI:R,orientation:1,source:"external"},isCardVisible:!0})}Object(z.c)(c)&&(j||this.subscription&&(x||w))&&this.updateStateForIdentifier(c),this.state.status!==t.status&&(this.fireOperationalEvent(),("complete"===this.state.status||"video"===this.fileAttributes.fileMediatype&&h&&"processing"===this.state.status)&&this.fireScreenEvent()),Object(z.c)(c)&&b&&function(e){var t=e.status,n=e.fileState,r=e.dimensions,i=e.identifier,a=e.fileImageMode,o=e.hasCardPreview,c=e.isBannedLocalPreview,s=e.featureFlags,l=function(e,t){var n=t.isPreviewable,r=t.hasPreview,i=t.isSupportedByBrowser;return r&&n&&("complete"===e||"loading-preview"===e||"uploading"===e||"processing"===e&&i)}(t,Ga(n,c,s)),u=Ma.get(i.id,a),d=Ha(null==u?void 0:u.dimensions,r);return l&&(!o||d)}({status:m,fileState:b,dimensions:s,identifier:c,fileImageMode:k,featureFlags:l,hasCardPreview:!!h,isBannedLocalPreview:g})&&this.resolvePreview(c,b),j&&this.props.ssr&&h&&eo(h)&&Object(z.c)(c)&&this.setCacheSSRPreview(c),y&&["loading-preview","processing"].includes(m)&&(this.safeSetState({status:"complete"}),this.unsubscribe());var P="video"===this.fileAttributes.fileMediatype,I=b&&Object(M.e)(b);P&&!O&&d&&u&&I&&Object(_.c)("timestampOnVideo",this.props.featureFlags)&&this.setState({isPlayingFile:!0})}},{key:"componentWillUnmount",value:function(){this.hasBeenMounted=!1,this.unsubscribe(),vo().removeEventListener("copy",this.fireCopiedEvent)}},{key:"updateStateForIdentifier",value:function(e){this.fireCommencedEvent(),this.subscribeInternalFile(e)}},{key:"updateFileStateFlag",value:function(e){if(e){var t=e.status;"processing"===t?this.fileStateFlags.wasStatusProcessing=!0:"uploading"===t&&(this.fileStateFlags.wasStatusUploading=!0)}}},{key:"subscribeInternalFile",value:function(e){var t=this,n=this.props.mediaClient,r=this.state.isBannedLocalPreview,i=e.id,a=e.collectionName,o=e.occurrenceKey;this.unsubscribe(),this.subscription=n.file.getFileState(i,{collectionName:a,occurrenceKey:o}).subscribe({next:function(e){var n=t.props.featureFlags,i=function(e,t,n){var r=function(e,t){var n=t.hasFilesize,r=t.isPreviewable,i=t.hasPreview;switch(e){case"uploading":case"failed-processing":case"error":return e;case"processing":return n?r?"processing":"complete":"processing";case"processed":return r&&i?"loading-preview":"complete";default:return"loading"}}(e.status,Ga(e,t,n)),i="error"===r&&Object(M.a)(e)?new Ot("error-file-state",new Error(e.message)):void 0;return{fileState:e,status:r,progress:"uploading"===r&&"uploading"===e.status?e.progress:1,error:i}}(e,r,n);t.safeSetState(i)},error:function(e){var n="uploading"===t.state.status?"upload":"metadata-fetch",r=new Ot(n,e);t.safeSetState({error:r,status:"error"})}})}},{key:"requestedDimensions",get:function(){var e,t=this.props.dimensions,n=(this.state||{}).cardRef;return{width:wa("width",e={dimensions:t,element:n}),height:wa("height",e)}}},{key:"metadata",get:function(){var e;return io(this.props.identifier,null===(e=this.state)||void 0===e?void 0:e.fileState)}},{key:"fileAttributes",get:function(){var e,t,n,r;return n=this.metadata,r=null===(e=this.state)||void 0===e||null===(t=e.fileState)||void 0===t?void 0:t.status,{fileMediatype:n.mediaType,fileMimetype:n.mimeType,fileId:n.id,fileSize:n.size,fileStatus:r}}},{key:"fireOperationalEvent",value:function(){var e=this.state,t=e.status,n=e.error,r=this.props.createAnalyticsEvent;r&&po(r,t,this.fileAttributes,this.getPerformanceAttributes(),this.ssrReliability,n),function(e,t,n,r,i,a){switch(t){case"complete":To(e,{fileAttributes:n,ssrReliability:i,fileStateFlags:r});break;case"failed-processing":Ao(e,{fileAttributes:n,failReason:"failed-processing",ssrReliability:i,fileStateFlags:r});break;case"error":a&&Ao(e,Mo(Mo({fileAttributes:n},Dt(a)),{},{request:At(a),ssrReliability:i,fileStateFlags:r}))}}(this.internalOccurrenceKey,t,this.fileAttributes,this.fileStateFlags,this.ssrReliability,n)}},{key:"fireCommencedEvent",value:function(){this.timeElapsedTillCommenced=performance.now();var e,t=this.props.createAnalyticsEvent;t&&function(e,t,n){Ft(function(e,t){return{eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t}}}(t,n),e)}(t,this.fileAttributes,{overall:{durationSincePageStart:this.timeElapsedTillCommenced}}),e=this.internalOccurrenceKey,No(e).start()}},{key:"actions",get:function(){var e=this,t=this.props,n=t.actions,r=void 0===n?[]:n,a=t.identifier,o=t.shouldEnableDownloadButton,c=this.state.status,s=this.metadata;return Object(z.c)(a)&&("failed-processing"===c||o)?[{label:"Download",icon:k.a.createElement(S.a,{label:"Download"}),handler:function(){return e.props.mediaClient.file.downloadBinary(a.id,s.name,a.collectionName)}}].concat(i()(r)):r}},{key:"render",value:function(){var e=this.state,t=e.isPlayingFile,n=e.mediaViewerSelectedItem,r=k.a.createElement(k.a.Fragment,null,t?this.renderInlinePlayer():this.renderCard(),n?this.renderMediaViewer():null,this.storeSSRData());return this.props.intl?r:k.a.createElement(D.b,{locale:"en"},r)}}]),n}(x.Component);O()(_o,"defaultProps",{appearance:"auto",resizeMode:"crop",isLazy:!0,disableOverlay:!1,featureFlags:{}});var Uo=Object(C.a)({packageVersion:"74.0.0",packageName:"@atlaskit/media-card",componentName:"mediaCard",component:"mediaCard"},{filterFeatureFlags:Bt})(Object(I.a)()(Object(F.c)(_o,{enforceContext:!1})))},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11.37 10.954c.285.138.63-.05.63-.343V5.39c0-.293-.345-.481-.63-.343L11 6.194v3.613l2.37 1.147zM2 5.99v4.018c0 .54.449.991 1.003.991h4.994A.99.99 0 009 10.01V5.99C9 5.452 8.551 5 7.997 5H3.003A.99.99 0 002 5.99z"/></svg>'},e,{size:"small"}));o.displayName="Video16Icon";var c=o;t.default=c},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4 3v2h2V3H6zm2 2v2h2V5H8zM6 7v2h2V7H6zm2 2v2h2V9H8zm-2.307 2v2h2v-2h-2z"/></svg>'},e,{size:"small"}));o.displayName="Archive16Icon";var c=o;t.default=c},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4.75 11.75l-.543-.543a1 1 0 00-1.414 0L3 13h10v-2.25l-1.795-1.974a1 1 0 00-1.447-.034L6.75 11.75zM4.667 6.333a1.667 1.667 0 100-3.333 1.667 1.667 0 000 3.333z"/></svg>'},e,{size:"small"}));o.displayName="Image16Icon";var c=o;t.default=c},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11 4.195v-.753c0-.271-.23-.468-.514-.44l-6.115.634a.565.565 0 00-.514.545v4.616a2 2 0 00-.571-.083H5a2 2 0 00-2 2V11a2 2 0 002 2h.286a2 2 0 002-2V5.76l4.285-.444v2.767A2 2 0 0011 8h-.286a2 2 0 00-2 2v.286a2 2 0 002 2H11a2 2 0 002-2V4.195z"/></svg>'},e,{size:"small"}));o.displayName="Audio16Icon";var c=o;t.default=c},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));o.displayName="Document16Icon";var c=o;t.default=c},745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},a=n(36);const o=e=>i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M8 3H5.333C4.597 3 4 3.617 4 4.378v7.244C4 12.382 4.597 13 5.333 13h5.334c.736 0 1.333-.617 1.333-1.378V8h-1.333v3.622H5.333V4.378H8v1.414c0 .736.597 1.333 1.333 1.333h2.334c.184 0 .333-.15.333-.333v-.903a.333.333 0 00-.093-.231l-2.164-2.25A1.333 1.333 0 008.782 3H8zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994z"/></svg>'},e,{size:"small"}));o.displayName="Generic16Icon";var c=o;t.default=c}}]);
//# sourceMappingURL=@atlaskit-internal_media-card.bundle.js.map