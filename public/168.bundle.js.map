{"version":3,"sources":["webpack:///./node_modules/@atlaskit/media-viewer/dist/esm/viewers/base-viewer.js","webpack:///./node_modules/@atlaskit/media-viewer/dist/esm/utils/getObjectUrlFromFileState.js","webpack:///./node_modules/@atlaskit/media-viewer/dist/esm/viewers/doc/index.js"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","BaseViewer","_React$Component","_super","_this","_len","length","args","Array","_key","concat","getInitialState","item","props","emit","fileId","id","viewingLevel","key","value","init","release","nextProps","needsReset","setState","initialState","prevProps","_this2","state","content","match","pending","createElement","successful","renderSuccessful","failed","error","fileState","supressAnalytics","try_downloading_file","renderDownloadButton","_this$props","mediaClient","collectionName","propsA","propsB","Component","getObjectUrlFromFileState","_ref","mark","_callee","preview","wrap","_context","prev","next","t0","URL","t1","sent","abrupt","createObjectURL","t2","undefined","stop","_x","componentLoader","then","module","PDFRenderer","DocViewer","_BaseViewer","_loadDocViewer","_init","get","onError","src","_src","docError","PDFComponent","loadDocViewer","status","file","getArtifactURL","artifacts","onMediaDisplayed","_callee2","_context2","forceUpdate","data","revokeObjectURL","_this$props2","onClose","onSuccess"],"mappings":"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","file":"168.bundle.js","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl-next';\nimport { messages } from '@atlaskit/media-ui';\nimport deepEqual from 'deep-equal';\nimport { globalMediaEventEmitter } from '@atlaskit/media-client';\nimport ErrorMessage from '../errorMessage';\nimport { Spinner } from '../loading';\nimport { ErrorViewDownloadButton } from '../download';\nexport var BaseViewer = /*#__PURE__*/function (_React$Component) {\n  _inherits(BaseViewer, _React$Component);\n\n  var _super = _createSuper(BaseViewer);\n\n  function BaseViewer() {\n    var _this;\n\n    _classCallCheck(this, BaseViewer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", _this.getInitialState());\n\n    _defineProperty(_assertThisInitialized(_this), \"onMediaDisplayed\", function () {\n      var item = _this.props.item;\n      globalMediaEventEmitter.emit('media-viewed', {\n        fileId: item.id,\n        viewingLevel: 'full'\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(BaseViewer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.release();\n    } // NOTE: We've moved parts of the logic to reset a component into this method\n    // to optimise the performance. Resetting the state before the `componentDidUpdate`\n    // lifecycle event allows us avoid one additional render cycle.\n    // However, this lifecycle method might eventually be deprecated, so be careful\n    // when working with it.\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (this.needsReset(nextProps, this.props)) {\n        this.release();\n        this.setState(this.initialState);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.needsReset(prevProps, this.props)) {\n        this.init();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return this.state.content.match({\n        pending: function pending() {\n          return /*#__PURE__*/React.createElement(Spinner, null);\n        },\n        successful: function successful(content) {\n          return _this2.renderSuccessful(content);\n        },\n        failed: function failed(error) {\n          var item = _this2.props.item;\n          return /*#__PURE__*/React.createElement(ErrorMessage, {\n            fileId: item.id,\n            fileState: item,\n            error: error,\n            supressAnalytics: true // item-viewer.tsx will send\n\n          }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(FormattedMessage, messages.try_downloading_file)), _this2.renderDownloadButton(error));\n        }\n      });\n    } // Accessing abstract getters in a constructor is not allowed\n\n  }, {\n    key: \"getInitialState\",\n    value: function getInitialState() {\n      return this.initialState;\n    }\n  }, {\n    key: \"renderDownloadButton\",\n    value: function renderDownloadButton(error) {\n      var _this$props = this.props,\n          item = _this$props.item,\n          mediaClient = _this$props.mediaClient,\n          collectionName = _this$props.collectionName;\n      return /*#__PURE__*/React.createElement(ErrorViewDownloadButton, {\n        fileState: item,\n        mediaClient: mediaClient,\n        error: error,\n        collectionName: collectionName\n      });\n    }\n  }, {\n    key: \"needsReset\",\n    value: function needsReset(propsA, propsB) {\n      return !deepEqual(propsA.item, propsB.item) || propsA.mediaClient !== propsB.mediaClient || propsA.collectionName !== propsB.collectionName;\n    }\n  }]);\n\n  return BaseViewer;\n}(React.Component);","import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { isErrorFileState } from '@atlaskit/media-client';\nexport var getObjectUrlFromFileState = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(state) {\n    var preview;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (isErrorFileState(state)) {\n              _context.next = 14;\n              break;\n            }\n\n            preview = state.preview;\n\n            if (!preview) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.prev = 3;\n            _context.t0 = URL;\n            _context.next = 7;\n            return preview;\n\n          case 7:\n            _context.t1 = _context.sent.value;\n            return _context.abrupt(\"return\", _context.t0.createObjectURL.call(_context.t0, _context.t1));\n\n          case 11:\n            _context.prev = 11;\n            _context.t2 = _context[\"catch\"](3);\n            return _context.abrupt(\"return\", undefined);\n\n          case 14:\n            return _context.abrupt(\"return\", undefined);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 11]]);\n  }));\n\n  return function getObjectUrlFromFileState(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { isPreviewableFileState } from '@atlaskit/media-client';\nimport { Outcome } from '../../domain';\nimport { MediaViewerError } from '../../errors';\nimport { Spinner } from '../../loading';\nimport { BaseViewer } from '../base-viewer';\nimport { getObjectUrlFromFileState } from '../../utils/getObjectUrlFromFileState';\n\nvar moduleLoader = function moduleLoader() {\n  return import(\n  /* webpackChunkName: \"@atlaskit-internal_media-pdf-viewer\" */\n  './pdfRenderer');\n};\n\nvar componentLoader = function componentLoader() {\n  return moduleLoader().then(function (module) {\n    return module.PDFRenderer;\n  });\n};\n\nexport var DocViewer = /*#__PURE__*/function (_BaseViewer) {\n  _inherits(DocViewer, _BaseViewer);\n\n  var _super = _createSuper(DocViewer);\n\n  function DocViewer() {\n    _classCallCheck(this, DocViewer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DocViewer, [{\n    key: \"initialState\",\n    get: function get() {\n      return {\n        content: Outcome.pending()\n      };\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this$props, item, mediaClient, collectionName, onError, src, _src, docError;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (DocViewer.PDFComponent) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.loadDocViewer();\n\n              case 3:\n                _this$props = this.props, item = _this$props.item, mediaClient = _this$props.mediaClient, collectionName = _this$props.collectionName, onError = _this$props.onError;\n\n                if (!isPreviewableFileState(item)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.next = 7;\n                return getObjectUrlFromFileState(item);\n\n              case 7:\n                src = _context.sent;\n\n                if (src) {\n                  _context.next = 11;\n                  break;\n                }\n\n                this.setState({\n                  content: Outcome.pending()\n                });\n                return _context.abrupt(\"return\");\n\n              case 11:\n                this.setState({\n                  content: Outcome.successful(src)\n                });\n                _context.next = 28;\n                break;\n\n              case 14:\n                if (!(item.status === 'processed')) {\n                  _context.next = 28;\n                  break;\n                }\n\n                _context.prev = 15;\n                _context.next = 18;\n                return mediaClient.file.getArtifactURL(item.artifacts, 'document.pdf', collectionName);\n\n              case 18:\n                _src = _context.sent;\n                this.onMediaDisplayed();\n                this.setState({\n                  content: Outcome.successful(_src)\n                });\n                _context.next = 28;\n                break;\n\n              case 23:\n                _context.prev = 23;\n                _context.t0 = _context[\"catch\"](15);\n                docError = new MediaViewerError('docviewer-fetch-url', _context.t0);\n                this.setState({\n                  content: Outcome.failed(docError)\n                });\n\n                if (onError) {\n                  onError(docError);\n                }\n\n              case 28:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[15, 23]]);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"loadDocViewer\",\n    value: function () {\n      var _loadDocViewer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return componentLoader();\n\n              case 2:\n                DocViewer.PDFComponent = _context2.sent;\n                this.forceUpdate();\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadDocViewer() {\n        return _loadDocViewer.apply(this, arguments);\n      }\n\n      return loadDocViewer;\n    }()\n  }, {\n    key: \"release\",\n    value: function release() {\n      var content = this.state.content;\n\n      if (!content.data) {\n        return;\n      }\n\n      URL.revokeObjectURL(content.data);\n    }\n  }, {\n    key: \"renderSuccessful\",\n    value: function renderSuccessful(content) {\n      var _this$props2 = this.props,\n          item = _this$props2.item,\n          onClose = _this$props2.onClose,\n          onSuccess = _this$props2.onSuccess,\n          onError = _this$props2.onError;\n      var PDFComponent = DocViewer.PDFComponent;\n\n      if (!PDFComponent) {\n        return /*#__PURE__*/React.createElement(Spinner, null);\n      }\n\n      return /*#__PURE__*/React.createElement(PDFComponent, {\n        item: item,\n        src: content,\n        onSuccess: onSuccess,\n        onError: onError,\n        onClose: onClose\n      });\n    }\n  }]);\n\n  return DocViewer;\n}(BaseViewer);"],"sourceRoot":""}