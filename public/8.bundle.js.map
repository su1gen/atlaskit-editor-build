{"version":3,"sources":["webpack:///./node_modules/react-node-resolver/lib/index.js","webpack:///./node_modules/react-node-resolver/lib/NodeResolver.js","webpack:///./node_modules/shallow-equal/objects/index.js","webpack:///./node_modules/@atlaskit/icon/glyph/vid-full-screen-off.js","webpack:///./node_modules/@atlaskit/icon/glyph/vid-full-screen-on.js","webpack:///./node_modules/@atlaskit/icon/glyph/hipchat/outgoing-sound.js","webpack:///./node_modules/@atlaskit/icon/glyph/vid-pause.js","webpack:///./node_modules/@atlaskit/select/dist/esm/PopupSelect/components.js","webpack:///./node_modules/@atlaskit/select/dist/esm/PopupSelect/PopupSelect.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/styled.js","webpack:///./node_modules/react-video-renderer/dist/es2015/text.js","webpack:///./node_modules/react-video-renderer/dist/es2015/utils.js","webpack:///./node_modules/react-video-renderer/dist/es2015/video.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/formatDuration.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/timeRange.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/utils/analytics.js","webpack:///./node_modules/@atlaskit/media-common/dist/esm/utils/helpers.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/utils/playbackAttributes.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/track/played.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/screen/customMediaPlayer.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/track/playCount.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/ui/mediaButtonClicked.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/ui/shortcutPressed.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/ui/playPauseBlanketClicked.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/ui/timeRangeNavigated.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/analytics/events/ui/playbackSpeedChanged.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/fullscreen.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/simultaneousPlayManager.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/timeSaver.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/playbackSpeedControls.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/playPauseBlanket.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/icons.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/index.js","webpack:///./node_modules/@atlaskit/media-ui/dist/esm/customMediaPlayer/getControlsWrapperClassName.js"],"names":["Object","defineProperty","exports","value","_NodeResolver","enumerable","get","obj","__esModule","default","_createClass","defineProperties","target","props","i","length","descriptor","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_reactDom","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","NodeResolver","_Component","this","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","innerRef","findDOMNode","children","Component","module","objA","objB","aKeys","keys","bKeys","len","hasOwnProperty","_base","VidFullScreenOffIcon","createElement","Icon","assign","dangerouslySetGlyph","displayName","_default","VidFullScreenOnIcon","HipchatOutgoingSoundIcon","VidPauseIcon","_excluded","_excluded2","_ref","maxWidth","minWidth","id","style","css","backgroundColor","borderRadius","boxShadow","concat","zIndex","modal","Control","defaultComponents","_ref2","innerProps","ref","padding","DropdownIndicator","marginRight","textAlign","width","label","Menu","_ref3","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","source","forEach","getOwnPropertyDescriptors","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","canUseDOM","window","document","defaultPopperProps","modifiers","name","options","offset","enabled","boundary","altAxis","altBoundary","placement","_PureComponent","PopupSelect","_super","_this$defaultOpenStat","_this","_len","args","Array","_key","validationState","isInvalid","spacing","groupHeading","provided","color","undefined","isOpen","isOpenControlled","defaultIsOpen","defaultOpenState","mergedComponents","mergedPopperProps","uid","event","close","handleKeyDown","state","Element","menuRef","contains","targetRef","open","actionMeta","_this$props","closeMenuOnSelect","onChange","action","onOpen","controlOverride","setState","selectRef","select","openMenu","unbindWindowKeydown","type","listener","capture","_this$unbindWindowKey","_this2","_this$props2","onClose","onMenuClose","focus","popperRef","current","count","groupOrOption","maxMenuHeight","showSearchControl","controlRef","offsetHeight","_this$props3","searchThreshold","isSearchable","getItemCount","_this$props4","footer","maxMenuWidth","minMenuWidth","_this$state","portalDestination","body","components","popper","Popper","resolveMenuRef","popperWrapperId","returnFocus","backspaceRemovesValue","controlShouldRenderValue","isClearable","tabSelectsValue","menuIsOpen","getSelectRef","styles","defaultStyles","getMaxHeight","handleSelectChange","strategy","unbindWindowClick","handleClick","_this$unbindWindowCli","_this$unbindWindowKey2","prevProps","_this3","Manager","Reference","resolveTargetRef","renderSelect","newState","popperProps","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","getVideoTextTrackId","kind","lang","requestFullScreen","element","methodName","find","getVolumeFromVideo","video","volume","isMuted","isSafari","navigator","test","userAgent","Video","previousVolume","previousTime","videoRef","audioRef","hasCanPlayTriggered","isLoading","buffered","currentTime","status","duration","onLoadedData","defaultTime","currentElement","onVolumeChange","_a","onTimeUpdate","onTimeChange","flooredTime","Math","floor","end","onCanPlay","onPlay","onPause","play","pause","navigate","time","setVolume","setPlaybackSpeed","playbackSpeed","playbackRate","requestFullscreen","sourceType","mute","unmute","toggleMute","videoState","onDurationChange","onError","error","onWaiting","renderTracks","_b","_c","textTracks","isArray","tracks","selectedIndex_1","selectedTrackIndex","map","index","src","srcLang","componentDidUpdate","currentActiveCues","getTrackById","activeCues","render","actions","poster","autoPlay","controls","preload","crossOrigin","defaultProps","CustomVideoWrapper","div","VideoWrapper","TimebarWrapper","VolumeWrapper","showSlider","TimeWrapper","CurrentTime","TimeLine","CurrentTimeLine","Thumb","BufferedTime","LeftControls","RightControls","ControlsWrapper","VolumeToggleWrapper","VolumeTimeRangeWrapper","MutedIndicator","CurrentTimeTooltip","isDragging","TimeRangeWrapper","showAsActive","SpinnerWrapper","pad","n","formatDuration","seconds","isNaN","Infinity","isInvalidInput","totalSeconds","parseInt","hours","remainingSeconds","minutes","prettyHoursWithSeparator","prettyMinutes","TimeRange","createRef","dragStartClientX","wrapperElement","wrapperElementWidth","getBoundingClientRect","stopPropagation","absolutePosition","clientX","isOutsideToLeft","newTimeWithBoundaries","onChanged","removeEventListener","onMouseUp","onMouseMove","preventDefault","setWrapperWidth","addEventListener","nativeEvent","x","offsetX","bufferedTime","disableThumbTooltip","isAlwaysActive","currentPosition","bufferedTimePercentage","onMouseDown","onThumbMouseDown","thumbElement","draggable","className","fireAnalyticsEvent","payload","createAnalyticsEvent","fire","isUndefined","createPlaybackAttributes","playbackState","predicate","isAutoPlay","isHDAvailable","isHDActive","playerSize","isFullScreenEnabled","durationInSec","absoluteTimeInSec","relativeTime","round","fromEntries","entries","_ref4","v","fileId","eventType","actionSubject","actionSubjectId","attributes","playbackAttributes","fileAttributes","browserPrefixes","findVendorSpecificProp","propNames","j","propName","capPropName","text","charAt","toUpperCase","slice","getFullscreenElement","toggleFullscreen","exitFullScreenProp","requestFullscreenProp","players","player","otherPlayer","indexOf","addPlayer","playerIndex","splice","removePlayer","getDefaultTimeLocalStorageKey","TimeSaver","config","localStorage","fileDefaultTime","getItem","contentId","JSON","parse","set","setItem","stringify","PlaybackSpeedControls","popupHeight","option","onPlaybackSpeedChange","parseFloat","messages","container","menuList","isFocused","isSelected","originalDimensions","aspectRatio","height","max","dispatchEvent","CustomEvent","intl","onClick","speedOptions","Fragment","WidthObserver","setWidth","onResize","theme","_theme","colors","primary25","closeMenuOnScroll","Tooltip","content","formatMessage","position","MediaButton","testId","buttonRef","popupCustomStyles","scroll","resize","injectIntl","PlayPauseBlanket","SkipTenBackwardGlyph","viewBox","fill","d","SkipTenBackwardIcon","glyph","SkipTenForwardGlyph","SkipTenForwardIcon","CustomMediaPlayerBase","lastWatchTimeConfig","videoWrapperRef","_this$props$onFullscr","currentFullScreenMode","onFullscreenChange","createAndFireUIEvent","timeSaver","onHDToggleClick","primaryColor","secondaryColor","getMediaButtonClickHandler","iconBefore","onVolumeChanged","icon","disable_fullscreen","enable_fullscreen","onFullScreenButtonClick","onDownloadClick","togglePlayPauseAction","skipBackward","skipForward","isShortcutEnabled","shortcuts","code","space","handler","getKeyboardShortcutHandler","m","leftArrow","rightArrow","isPlaying","toggleButtonIcon","pausePlayByButtonClick","startPlayByButtonClick","appearance","size","onFirstPlay","simultaneousPlayManager","wasPlayedOnce","buttonType","shortcutType","showControls","lastCurrentTime","clickToTogglePlayTimoutId","clearTimeout","resetPendingPlayPauseToggleTimer","setTimeout","togglePlayByBlanketClick","_this$props5","_this$state2","onFullScreenChange","_this$props$onFullscr2","_this$props6","analyticsEvent","_this$props7","_this$state3","createMediaButtonClickedEvent","createMediaShortcutPressedEvent","createPlayPauseBlanketClickedEvent","createTimeRangeNavigatedEvent","createPlaybackSpeedChangedEvent","_this$props8","onCurrentTimeChange","onViewed","setActions","isLargePlayer","isMediumPlayer","newTime","min","renderShortcuts","renderSpinner","onDoubleClick","doubleClickToFullscreen","pausePlayByBlanketClick","startPlayByBlanketClick","onTimeChanged","renderPlayPauseButton","renderSkipBackwardButton","renderSkipForwardButton","renderVolume","renderCurrentTime","renderHDButton","renderSpeedControls","renderFullScreenButton","renderDownloadButton","CustomMediaPlayer","withMediaAnalyticsContext","packageVersion","packageName","componentName","component","filterFeatureFlags","withAnalyticsEvents"],"mappings":"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","file":"8.bundle.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _NodeResolver = require('./NodeResolver');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_NodeResolver).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _reactDom = require('react-dom');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NodeResolver = function (_Component) {\n  _inherits(NodeResolver, _Component);\n\n  function NodeResolver() {\n    _classCallCheck(this, NodeResolver);\n\n    return _possibleConstructorReturn(this, (NodeResolver.__proto__ || Object.getPrototypeOf(NodeResolver)).apply(this, arguments));\n  }\n\n  _createClass(NodeResolver, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.innerRef((0, _reactDom.findDOMNode)(this));\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.props.innerRef(null);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return NodeResolver;\n}(_react.Component);\n\nexports.default = NodeResolver;","'use strict';\n\nfunction shallowEqualObjects(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (!objA || !objB) {\n    return false;\n  }\n\n  var aKeys = Object.keys(objA);\n  var bKeys = Object.keys(objB);\n  var len = aKeys.length;\n\n  if (bKeys.length !== len) {\n    return false;\n  }\n\n  for (var i = 0; i < len; i++) {\n    var key = aKeys[i];\n\n    if (objA[key] !== objB[key] || !Object.prototype.hasOwnProperty.call(objB, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = shallowEqualObjects;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _base = require(\"@atlaskit/icon/base\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst VidFullScreenOffIcon = props => /*#__PURE__*/_react.default.createElement(_base.Icon, Object.assign({\n  dangerouslySetGlyph: `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" role=\"presentation\"><g fill=\"currentColor\" fill-rule=\"evenodd\"><path d=\"M9 15.003v2.995a1 1 0 102 0v-3.896C11 13.494 10.507 13 9.9 13H6a1 1 0 000 2.003h3z\" fill-rule=\"nonzero\"/><path d=\"M3.74 20.294a.997.997 0 001.407.005l5.152-5.152a1 1 0 00-.005-1.407l-.034-.034a.997.997 0 00-1.407-.005l-5.152 5.152a1 1 0 00.005 1.407l.034.034z\" fill-rule=\"nonzero\"/><path d=\"M19.067 3.321L13.32 9.066a1.115 1.115 0 00.005 1.57l.036.037a1.112 1.112 0 001.571.005l5.747-5.744a1.116 1.116 0 00-.006-1.57l-.037-.037a1.117 1.117 0 00-1.57-.006z\"/><path d=\"M13 6.002v3.896c0 .608.493 1.102 1.1 1.102H18a1 1 0 000-2.003h-3V6.002a1 1 0 10-2 0z\"/></g></svg>`\n}, props));\n\nVidFullScreenOffIcon.displayName = 'VidFullScreenOffIcon';\nvar _default = VidFullScreenOffIcon;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _base = require(\"@atlaskit/icon/base\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst VidFullScreenOnIcon = props => /*#__PURE__*/_react.default.createElement(_base.Icon, Object.assign({\n  dangerouslySetGlyph: `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" role=\"presentation\"><path d=\"M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 012 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 110 2H6v3a1 1 0 11-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 010-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>`\n}, props));\n\nVidFullScreenOnIcon.displayName = 'VidFullScreenOnIcon';\nvar _default = VidFullScreenOnIcon;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _base = require(\"@atlaskit/icon/base\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst HipchatOutgoingSoundIcon = props => /*#__PURE__*/_react.default.createElement(_base.Icon, Object.assign({\n  dangerouslySetGlyph: `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" role=\"presentation\"><g fill=\"currentColor\" fill-rule=\"evenodd\"><path d=\"M17.229 7.652c.04.048.124.16.238.33.198.294.398.631.584 1.006 1.138 2.288 1.243 4.648-.316 6.864a7.86 7.86 0 01-.377.492 1 1 0 00.156 1.43 1.062 1.062 0 001.467-.152 9.55 9.55 0 00.475-.62c2.045-2.907 1.907-6.017.472-8.901-.392-.788-.788-1.376-1.07-1.72a1.062 1.062 0 00-1.466-.158 1 1 0 00-.163 1.429z\" fill-rule=\"nonzero\"/><path d=\"M14.214 9.619c.079.101.225.33.376.658.608 1.318.608 2.72-.404 4.141-.32.45-.217 1.074.23 1.395a.992.992 0 001.389-.231c1.476-2.073 1.476-4.226.591-6.146a5.494 5.494 0 00-.619-1.055.992.992 0 00-1.398-.166c-.431.341-.506.97-.165 1.404z\" fill-rule=\"nonzero\"/><path d=\"M7 15V9l4.74-3.892c.57-.323 1.26.116 1.26.8v12.184c0 .684-.69 1.123-1.26.8L7 15zM4 9h2v6H4a1 1 0 01-1-1v-4a1 1 0 011-1z\"/></g></svg>`\n}, props));\n\nHipchatOutgoingSoundIcon.displayName = 'HipchatOutgoingSoundIcon';\nvar _default = HipchatOutgoingSoundIcon;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _base = require(\"@atlaskit/icon/base\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst VidPauseIcon = props => /*#__PURE__*/_react.default.createElement(_base.Icon, Object.assign({\n  dangerouslySetGlyph: `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" role=\"presentation\"><path d=\"M6 4h2a1 1 0 011 1v14a1 1 0 01-1 1H6a1 1 0 01-1-1V5a1 1 0 011-1zm10 0h2a1 1 0 011 1v14a1 1 0 01-1 1h-2a1 1 0 01-1-1V5a1 1 0 011-1z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>`\n}, props));\n\nVidPauseIcon.displayName = 'VidPauseIcon';\nvar _default = VidPauseIcon;\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"innerRef\", \"innerProps\"],\n    _excluded2 = [\"children\", \"innerProps\"];\n\n/** @jsx jsx */\nimport { components } from 'react-select';\nimport { jsx } from '@emotion/react';\nimport VisuallyHidden from '@atlaskit/visually-hidden';\nimport SearchIcon from '@atlaskit/icon/glyph/editor/search';\nimport { layers } from '@atlaskit/theme/constants';\nimport { N40A } from '@atlaskit/theme/colors';\nexport var MenuDialog = function MenuDialog(_ref) {\n  var maxWidth = _ref.maxWidth,\n      minWidth = _ref.minWidth,\n      children = _ref.children,\n      id = _ref.id,\n      style = _ref.style;\n  return jsx(\"div\", {\n    css: {\n      backgroundColor: \"var(--ds-surface-overlay, white)\",\n      borderRadius: 4,\n      boxShadow: \"var(--ds-shadow-overlay, \".concat(\"0 0 0 1px \".concat(N40A, \", 0 4px 11px \").concat(N40A), \")\"),\n      maxWidth: maxWidth,\n      minWidth: minWidth,\n      zIndex: layers.modal()\n    },\n    style: style,\n    id: id\n  }, children);\n}; // ==============================\n// Custom Components\n// ==============================\n\nvar DropdownIndicator = function DropdownIndicator() {\n  return jsx(\"div\", {\n    css: {\n      marginRight: 2,\n      textAlign: 'center',\n      width: 32\n    }\n  }, jsx(SearchIcon, {\n    label: \"open\"\n  }));\n};\n\nvar Control = function Control(_ref2) {\n  var innerRef = _ref2.innerRef,\n      innerProps = _ref2.innerProps,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  return jsx(\"div\", {\n    ref: innerRef,\n    css: {\n      padding: '8px 8px 4px'\n    }\n  }, jsx(components.Control, _extends({}, props, {\n    innerProps: innerProps\n  })));\n};\n\nexport var DummyControl = function DummyControl(props) {\n  return jsx(VisuallyHidden, null, jsx(components.Control, props));\n}; // NOTE `props` intentionally omitted from `Fragment`\n// eslint-disable-next-line\n\nvar Menu = function Menu(_ref3) {\n  var children = _ref3.children,\n      innerProps = _ref3.innerProps,\n      props = _objectWithoutProperties(_ref3, _excluded2);\n\n  return jsx(\"div\", innerProps, children);\n};\n\nexport var defaultComponents = {\n  Control: Control,\n  DropdownIndicator: DropdownIndicator,\n  Menu: Menu\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"footer\", \"maxMenuWidth\", \"minMenuWidth\", \"target\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport FocusLock from 'react-focus-lock';\nimport Select, { mergeStyles } from 'react-select';\nimport { uid } from 'react-uid';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport NodeResolver from 'react-node-resolver';\nimport shallowEqualObjects from 'shallow-equal/objects';\nimport { N80 } from '@atlaskit/theme/colors';\nimport { MenuDialog, DummyControl, defaultComponents } from './components';\nimport baseStyles from '../styles';\nimport { bind } from 'bind-event-listener';\n\n/** Are we rendering on the client or server? */\nvar canUseDOM = function canUseDOM() {\n  return Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);\n}; // ==============================\n// Types\n// ==============================\n\n\n// ==============================\n// Class\n// ==============================\nvar modifiers = [{\n  name: 'offset',\n  options: {\n    offset: [0, 8]\n  }\n}, {\n  name: 'preventOverflow',\n  enabled: true,\n  options: {\n    padding: 5,\n    boundary: 'clippingParents',\n    altAxis: true,\n    altBoundary: true\n  }\n}];\nvar defaultPopperProps = {\n  modifiers: modifiers,\n  placement: 'bottom-start'\n};\n\nvar isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n\nvar PopupSelect = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PopupSelect, _PureComponent);\n\n  var _super = _createSuper(PopupSelect);\n\n  function PopupSelect() {\n    var _this$defaultOpenStat;\n\n    var _this;\n\n    _classCallCheck(this, PopupSelect);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"menuRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"selectRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"targetRef\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindWindowClick\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"unbindWindowKeydown\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"defaultStyles\", mergeStyles(baseStyles(_this.props.validationState || (_this.props.isInvalid ? 'error' : 'default'), _this.props.spacing === 'compact', 'default'), {\n      groupHeading: function groupHeading(provided) {\n        return _objectSpread(_objectSpread({}, provided), {}, {\n          color: \"var(--ds-text-subtlest, \".concat(N80, \")\")\n        });\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"isOpenControlled\", _this.props.isOpen !== undefined);\n\n    _defineProperty(_assertThisInitialized(_this), \"defaultOpenState\", _this.isOpenControlled ? _this.props.isOpen : _this.props.defaultIsOpen);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isOpen: (_this$defaultOpenStat = _this.defaultOpenState) !== null && _this$defaultOpenStat !== void 0 ? _this$defaultOpenStat : false,\n      mergedComponents: defaultComponents,\n      mergedPopperProps: defaultPopperProps\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"popperWrapperId\", \"\".concat(uid({\n      options: _this.props.options\n    }), \"-popup-select\"));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      switch (event.key) {\n        case 'Escape':\n        case 'Esc':\n          _this.close();\n\n          break;\n\n        default:\n      }\n\n      if (_this.props.handleKeyDown) {\n        _this.props.handleKeyDown(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (_ref) {\n      var target = _ref.target;\n      var isOpen = _this.state.isOpen; // appease flow\n\n      if (!(target instanceof Element)) {\n        return;\n      } // NOTE: Why not use the <Blanket /> component to close?\n      // We don't want to interupt the user's flow. Taking this approach allows\n      // user to click \"through\" to other elements and close the popout.\n\n\n      if (isOpen && _this.menuRef && !_this.menuRef.contains(target)) {\n        _this.close();\n      } // open on target click -- we can't trust consumers to spread the onClick\n      // property to the target\n\n\n      if (!isOpen && _this.targetRef && _this.targetRef.contains(target)) {\n        _this.open();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectChange\", function (value, actionMeta) {\n      var _this$props = _this.props,\n          closeMenuOnSelect = _this$props.closeMenuOnSelect,\n          onChange = _this$props.onChange;\n\n      if (closeMenuOnSelect && actionMeta.action !== 'clear') {\n        _this.close();\n      }\n\n      if (onChange) {\n        onChange(value, actionMeta);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"open\", function (options) {\n      var onOpen = _this.props.onOpen;\n\n      if (!(options !== null && options !== void 0 && options.controlOverride) && _this.isOpenControlled) {\n        // Prevent popup opening if it's open state is already being controlled\n        return;\n      }\n\n      if (onOpen) {\n        onOpen();\n      }\n\n      _this.setState({\n        isOpen: true\n      });\n\n      if (_this.selectRef) {\n        _this.selectRef.select.openMenu('first'); // HACK\n\n      }\n\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      _this.unbindWindowKeydown = bind(window, {\n        type: 'keydown',\n        listener: _this.handleKeyDown,\n        options: {\n          capture: true\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (options) {\n      var _this$unbindWindowKey, _this2;\n\n      var _this$props2 = _this.props,\n          onClose = _this$props2.onClose,\n          onMenuClose = _this$props2.onMenuClose;\n\n      if (!(options !== null && options !== void 0 && options.controlOverride) && _this.isOpenControlled) {\n        // Prevent popup closing if it's open state is already being controlled\n        return;\n      }\n\n      if (onClose) {\n        onClose();\n      }\n\n      if (onMenuClose) {\n        onMenuClose();\n      }\n\n      _this.setState({\n        isOpen: false\n      });\n\n      if (_this.targetRef != null) {\n        _this.targetRef.focus();\n      }\n\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      (_this$unbindWindowKey = (_this2 = _this).unbindWindowKeydown) === null || _this$unbindWindowKey === void 0 ? void 0 : _this$unbindWindowKey.call(_this2);\n      _this.unbindWindowKeydown = null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveTargetRef\", function (popperRef) {\n      return function (ref) {\n        // avoid thrashing fn calls\n        if (!_this.targetRef && popperRef && ref) {\n          _this.targetRef = ref;\n\n          if (typeof popperRef === 'function') {\n            popperRef(ref);\n          } else {\n            popperRef.current = ref;\n          }\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resolveMenuRef\", function (popperRef) {\n      return function (ref) {\n        _this.menuRef = ref;\n\n        if (typeof popperRef === 'function') {\n          popperRef(ref);\n        } else {\n          popperRef.current = ref;\n        }\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectRef\", function (ref) {\n      _this.selectRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemCount\", function () {\n      var options = _this.props.options;\n      var count = 0;\n      options.forEach(function (groupOrOption) {\n        if (groupOrOption.options) {\n          groupOrOption.options.forEach(function () {\n            return count++;\n          });\n        } else {\n          count++;\n        }\n      });\n      return count;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMaxHeight\", function () {\n      var maxMenuHeight = _this.props.maxMenuHeight;\n\n      if (!_this.selectRef) {\n        return maxMenuHeight;\n      } // subtract the control height to maintain consistency\n\n\n      var showSearchControl = _this.showSearchControl();\n\n      var controlRef = _this.selectRef.select.controlRef; // @ts-ignore React-select provides incomplete types for controlRef\n\n      var offsetHeight = showSearchControl ? controlRef.offsetHeight : 0;\n      var maxHeight = maxMenuHeight - offsetHeight;\n      return maxHeight;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showSearchControl\", function () {\n      var _this$props3 = _this.props,\n          searchThreshold = _this$props3.searchThreshold,\n          isSearchable = _this$props3.isSearchable;\n      return isSearchable && _this.getItemCount() > searchThreshold;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSelect\", function () {\n      var _this$props4 = _this.props,\n          footer = _this$props4.footer,\n          maxMenuWidth = _this$props4.maxMenuWidth,\n          minMenuWidth = _this$props4.minMenuWidth,\n          target = _this$props4.target,\n          props = _objectWithoutProperties(_this$props4, _excluded);\n\n      var _this$state = _this.state,\n          isOpen = _this$state.isOpen,\n          mergedComponents = _this$state.mergedComponents,\n          mergedPopperProps = _this$state.mergedPopperProps;\n\n      var showSearchControl = _this.showSearchControl();\n\n      var portalDestination = canUseDOM() ? document.body : null;\n\n      var components = _objectSpread(_objectSpread({}, mergedComponents), {}, {\n        Control: showSearchControl ? mergedComponents.Control : DummyControl\n      });\n\n      if (!portalDestination || !isOpen) {\n        return null;\n      }\n\n      var popper = /*#__PURE__*/React.createElement(Popper, mergedPopperProps, function (_ref2) {\n        var placement = _ref2.placement,\n            ref = _ref2.ref,\n            style = _ref2.style;\n        return /*#__PURE__*/React.createElement(NodeResolver, {\n          innerRef: _this.resolveMenuRef(ref)\n        }, /*#__PURE__*/React.createElement(MenuDialog, {\n          style: style,\n          \"data-placement\": placement,\n          minWidth: minMenuWidth,\n          maxWidth: maxMenuWidth,\n          id: _this.popperWrapperId\n        }, /*#__PURE__*/React.createElement(FocusLock, {\n          returnFocus: true\n        }, /*#__PURE__*/React.createElement(Select, _extends({\n          backspaceRemovesValue: false,\n          controlShouldRenderValue: false,\n          isClearable: false,\n          tabSelectsValue: false,\n          menuIsOpen: true,\n          ref: _this.getSelectRef\n        }, props, {\n          isSearchable: showSearchControl,\n          styles: _objectSpread(_objectSpread({}, _this.defaultStyles), props.styles),\n          maxMenuHeight: _this.getMaxHeight(),\n          components: components,\n          onChange: _this.handleSelectChange\n        })), footer)));\n      });\n      return mergedPopperProps.strategy === 'fixed' ? popper : /*#__PURE__*/createPortal(popper, portalDestination);\n    });\n\n    return _this;\n  }\n\n  _createClass(PopupSelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      this.unbindWindowClick = bind(window, {\n        type: 'click',\n        listener: this.handleClick,\n        options: {\n          capture: true\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$unbindWindowCli, _this$unbindWindowKey2;\n\n      if (typeof window === 'undefined') {\n        return;\n      }\n\n      (_this$unbindWindowCli = this.unbindWindowClick) === null || _this$unbindWindowCli === void 0 ? void 0 : _this$unbindWindowCli.call(this);\n      this.unbindWindowClick = null;\n      (_this$unbindWindowKey2 = this.unbindWindowKeydown) === null || _this$unbindWindowKey2 === void 0 ? void 0 : _this$unbindWindowKey2.call(this);\n      this.unbindWindowKeydown = null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var isOpen = this.props.isOpen;\n\n      if (prevProps.isOpen !== isOpen) {\n        if (isOpen === true) {\n          this.open({\n            controlOverride: true\n          });\n        } else if (isOpen === false) {\n          this.close({\n            controlOverride: true\n          });\n        }\n      }\n    } // Event Handlers\n    // ==============================\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var target = this.props.target;\n      var isOpen = this.state.isOpen;\n      return /*#__PURE__*/React.createElement(Manager, null, /*#__PURE__*/React.createElement(Reference, null, function (_ref3) {\n        var ref = _ref3.ref;\n        return target && target({\n          isOpen: isOpen,\n          ref: _this3.resolveTargetRef(ref),\n          'aria-haspopup': 'true',\n          'aria-expanded': isOpen,\n          'aria-controls': isOpen ? _this3.popperWrapperId : undefined\n        });\n      }), this.renderSelect());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var newState = {}; // Merge consumer and default popper props\n\n      var mergedPopperProps = _objectSpread(_objectSpread({}, defaultPopperProps), props.popperProps);\n\n      if (!shallowEqualObjects(mergedPopperProps, state.mergedPopperProps)) {\n        newState.mergedPopperProps = mergedPopperProps;\n      } // Merge consumer and default components\n\n\n      var mergedComponents = _objectSpread(_objectSpread({}, defaultComponents), props.components);\n\n      if (!shallowEqualObjects(mergedComponents, state.mergedComponents)) {\n        newState.mergedComponents = mergedComponents;\n      }\n\n      if (!isEmpty(newState)) {\n        return newState;\n      }\n\n      return null;\n    }\n  }]);\n\n  return PopupSelect;\n}(PureComponent);\n\n_defineProperty(PopupSelect, \"defaultProps\", {\n  closeMenuOnSelect: true,\n  components: {},\n  maxMenuHeight: 300,\n  maxMenuWidth: 440,\n  minMenuWidth: 220,\n  popperProps: {},\n  isSearchable: true,\n  searchThreshold: 5,\n  styles: {},\n  options: []\n});\n\nexport { PopupSelect as default };","import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18;\n\nimport styled from '@emotion/styled';\nimport { R300, N60 } from '@atlaskit/theme/colors';\nexport var CustomVideoWrapper = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  user-select: none;\\n\"])));\nexport var VideoWrapper = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\"])));\nexport var TimebarWrapper = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  color: white;\\n  position: absolute;\\n  width: 100%;\\n  bottom: 10px;\\n\"])));\nexport var VolumeWrapper = styled.div(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  width: 35px;\\n  overflow: hidden;\\n  transition: width 0.3s;\\n  align-items: center;\\n  bottom: 0px;\\n  left: 43px;\\n\\n  \", \"\\n\"])), function (props) {\n  return props.showSlider ? \"\\n    &:hover,\\n    &:active {\\n      width: 150px;\\n      transition: width 0.3s ease-out;\\n    }\\n  \" : '';\n});\nexport var TimeWrapper = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  margin: 0 20px 10px 20px;\\n  margin-bottom: 44px;\\n\"])));\nexport var CurrentTime = styled.div(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n  color: #a4b4cb;\\n  user-select: none;\\n  margin-right: 10px;\\n  white-space: nowrap;\\n\"])));\nexport var TimeLine = styled.div(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 2px;\\n  transition-delay: 1s;\\n  transition: all 0.1s;\\n  background-color: #5d646f;\\n  border-radius: 5px;\\n  position: relative;\\n\"])));\nexport var CurrentTimeLine = styled.div(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n  background-color: #3383ff;\\n  border-radius: inherit;\\n  height: inherit;\\n  position: absolute;\\n  top: 0;\\n  max-width: 100%;\\n\"])));\nexport var Thumb = styled.div(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n  pointer-events: none;\\n  width: 14px;\\n  height: 14px;\\n  border-radius: 100%;\\n  background-color: white;\\n  border: 1px solid #666;\\n  position: absolute;\\n  right: 0;\\n  top: 50%;\\n\\n  transform: translate(7px, -50%) scale(0);\\n  transition: all 0.1s;\\n  transition-delay: 1s;\\n\\n  &:hover .current-time-tooltip {\\n    opacity: 1;\\n  }\\n\"])));\nexport var BufferedTime = styled.div(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n  background-color: #aeb1b7;\\n  height: inherit;\\n  border-radius: inherit;\\n  width: 0;\\n\"])));\nexport var LeftControls = styled.div(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-left: 10px;\\n\"])));\nexport var RightControls = styled.div(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-right: 10px;\\n  color: \", \";\\n\"])), N60);\nexport var ControlsWrapper = styled.div(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  height: auto;\\n  background: linear-gradient(to top, #0e1624, rgba(14, 22, 36, 0));\\n  position: absolute;\\n\"])));\nexport var VolumeToggleWrapper = styled.div(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n  position: relative;\\n  margin-right: 13px;\\n\\n  button {\\n    width: 36px !important;\\n    color: \", \";\\n  }\\n\"])), function (_ref) {\n  var isMuted = _ref.isMuted;\n  return isMuted ? \"\".concat(R300, \" !important;\") : '';\n});\nexport var VolumeTimeRangeWrapper = styled.div(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  margin-right: 20px;\\n\"])));\nexport var MutedIndicator = styled.div(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n  width: 29px;\\n  height: 2px;\\n  position: absolute;\\n  top: 10px;\\n  left: 9px;\\n  z-index: 2;\\n  background: \", \";\\n  transform: rotate(32deg) translateY(10px);\\n  opacity: 0;\\n  pointer-events: none;\\n\\n  \", \";\\n\"])), R300, function (props) {\n  return props.isMuted ? \"\\n    opacity: 1;\\n  \" : '';\n});\nexport var CurrentTimeTooltip = styled.div(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  user-select: none;\\n  top: -28px;\\n  background-color: #182c4c;\\n  color: #eff1f3;\\n  font-size: 12px;\\n  padding: 3px 7px;\\n  border-radius: 3px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  opacity: \", \";\\n  transition: opacity 0.3s;\\n  word-break: keep-all;\\n\"])), function (props) {\n  return props.isDragging ? '1' : '0';\n});\nexport var TimeRangeWrapper = styled.div(function (_ref2) {\n  var showAsActive = _ref2.showAsActive;\n  return \"\\n  display: flex;\\n  align-items: center;\\n  height: 22px;\\n\\n  cursor: pointer;\\n  width: 100%;\\n\\n  &:hover \".concat(TimeLine, \" {\\n    height: 4px;\\n    transition: all 0.1s;\\n  }\\n\\n  &:hover \").concat(Thumb, \" {\\n    transition: all 0.1s;\\n    transform: translate(7px, -50%) scale(1);\\n  }\\n\\n  \").concat(TimeLine, \" {\\n    transition-delay: 1s;\\n    \").concat(showAsActive ? 'height: 4px;' : '', \"\\n  }\\n  \").concat(Thumb, \" {\\n    \").concat(showAsActive ? 'transform: translate(7px, -50%) scale(1);' : '', \"\\n  }\\n\");\n});\nexport var SpinnerWrapper = styled.div(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n\"])));","export var getVideoTextTrackId = function (kind, lang) { return kind + \"-\" + lang; };\n","export var requestFullScreen = function (element) {\n    var methods = ['requestFullscreen', 'webkitRequestFullscreen', 'mozRequestFullScreen', 'msRequestFullscreen'];\n    var methodName = methods.find(function (name) { return element[name]; });\n    element[methodName]();\n};\n","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { getVideoTextTrackId } from './text';\nimport { requestFullScreen } from './utils';\nvar getVolumeFromVideo = function (video) {\n    var volume = video.volume;\n    var isMuted = volume === 0;\n    return {\n        volume: volume,\n        isMuted: isMuted,\n    };\n};\nvar isSafari = typeof navigator !== 'undefined' ? /^((?!chrome|android).)*safari/i.test(navigator.userAgent) : false;\nvar Video = /** @class */ (function (_super) {\n    __extends(Video, _super);\n    function Video() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.previousVolume = 1;\n        _this.previousTime = -1;\n        _this.videoRef = React.createRef();\n        _this.audioRef = React.createRef();\n        _this.hasCanPlayTriggered = false;\n        _this.state = {\n            isLoading: true,\n            buffered: 0,\n            currentTime: 0,\n            volume: 1,\n            status: 'paused',\n            duration: 0,\n            isMuted: false,\n        };\n        _this.onLoadedData = function () {\n            var defaultTime = _this.props.defaultTime;\n            if (_this.currentElement) {\n                _this.currentElement.currentTime = defaultTime;\n            }\n        };\n        _this.onVolumeChange = function (event) {\n            var video = event.target;\n            var _a = getVolumeFromVideo(video), volume = _a.volume, isMuted = _a.isMuted;\n            _this.setState({\n                volume: volume,\n                isMuted: isMuted,\n            });\n        };\n        _this.onTimeUpdate = function (event) {\n            var video = event.target;\n            var onTimeChange = _this.props.onTimeChange;\n            var duration = _this.state.duration;\n            var flooredTime = Math.floor(video.currentTime);\n            if (onTimeChange && flooredTime !== _this.previousTime) {\n                onTimeChange(flooredTime, duration);\n                _this.previousTime = flooredTime;\n            }\n            _this.setState({\n                currentTime: video.currentTime,\n            });\n            if (video.buffered.length) {\n                var buffered = video.buffered.end(video.buffered.length - 1);\n                _this.setState({ buffered: buffered });\n            }\n        };\n        _this.onCanPlay = function (event) {\n            var onCanPlay = _this.props.onCanPlay;\n            var video = event.target;\n            var _a = getVolumeFromVideo(video), volume = _a.volume, isMuted = _a.isMuted;\n            _this.setState({\n                volume: volume,\n                isMuted: isMuted,\n                isLoading: false,\n                currentTime: video.currentTime,\n                duration: video.duration,\n            });\n            if (!_this.hasCanPlayTriggered) {\n                // protect against browser firing this event multiple times\n                _this.hasCanPlayTriggered = true;\n                onCanPlay && onCanPlay(event);\n            }\n        };\n        _this.onPlay = function () {\n            _this.setState({\n                status: 'playing',\n            });\n        };\n        _this.onPause = function () {\n            _this.setState({\n                status: 'paused',\n            });\n        };\n        _this.play = function () {\n            _this.currentElement && _this.currentElement.play();\n        };\n        _this.pause = function () {\n            _this.currentElement && _this.currentElement.pause();\n        };\n        _this.navigate = function (time) {\n            _this.setState({ currentTime: time });\n            _this.currentElement && (_this.currentElement.currentTime = time);\n        };\n        _this.setVolume = function (volume) {\n            _this.setState({ volume: volume });\n            _this.currentElement && (_this.currentElement.volume = volume);\n        };\n        _this.setPlaybackSpeed = function (playbackSpeed) {\n            _this.currentElement && (_this.currentElement.playbackRate = playbackSpeed);\n        };\n        _this.requestFullscreen = function () {\n            var sourceType = _this.props.sourceType;\n            if (sourceType === 'video') {\n                requestFullScreen(_this.currentElement);\n            }\n        };\n        _this.mute = function () {\n            var volume = _this.state.volume;\n            _this.previousVolume = volume;\n            _this.setVolume(0);\n        };\n        _this.unmute = function () {\n            _this.setVolume(_this.previousVolume);\n        };\n        _this.toggleMute = function () {\n            var volume = _this.videoState.volume;\n            if (volume > 0) {\n                _this.mute();\n            }\n            else {\n                _this.unmute();\n            }\n        };\n        _this.onDurationChange = function (event) {\n            var video = event.target;\n            _this.setState({\n                duration: video.duration,\n            });\n        };\n        _this.onError = function (event) {\n            var onError = _this.props.onError;\n            var video = event.target;\n            _this.setState({\n                isLoading: false,\n                status: 'errored',\n                error: video.error,\n            });\n            onError && onError(event);\n        };\n        _this.onWaiting = function () {\n            _this.setState({ isLoading: true });\n        };\n        _this.renderTracks = function (kind) {\n            var _a, _b, _c;\n            var textTracks = _this.props.textTracks;\n            if (textTracks && Array.isArray((_a = textTracks[kind]) === null || _a === void 0 ? void 0 : _a.tracks)) {\n                var tracks = (_b = textTracks[kind]) === null || _b === void 0 ? void 0 : _b.tracks;\n                var selectedIndex_1 = (_c = textTracks[kind]) === null || _c === void 0 ? void 0 : _c.selectedTrackIndex;\n                return (React.createElement(React.Fragment, null, tracks === null || tracks === void 0 ? void 0 : tracks.map(function (_a, index) {\n                    var src = _a.src, lang = _a.lang, label = _a.label;\n                    return (React.createElement(\"track\", { key: index, id: getVideoTextTrackId(kind, lang), kind: kind, src: src, srcLang: lang, label: label, default: index === selectedIndex_1 }));\n                })));\n            }\n            return null;\n        };\n        return _this;\n    }\n    Video.prototype.componentDidUpdate = function (prevProps) {\n        var src = this.props.src;\n        var _a = this.state, currentTime = _a.currentTime, status = _a.status;\n        var hasSrcChanged = prevProps.src !== src;\n        if (hasSrcChanged) {\n            this.hasCanPlayTriggered = false;\n            // TODO: add test to cover this case\n            if (status === 'playing') {\n                this.play();\n            }\n            this.navigate(currentTime);\n        }\n    };\n    Object.defineProperty(Video.prototype, \"videoState\", {\n        get: function () {\n            var _this = this;\n            var _a = this.state, currentTime = _a.currentTime, volume = _a.volume, status = _a.status, duration = _a.duration, buffered = _a.buffered, isMuted = _a.isMuted, isLoading = _a.isLoading, error = _a.error;\n            return {\n                currentTime: currentTime,\n                currentActiveCues: function (kind, lang) { var _a, _b; return (_b = (_a = _this.videoRef.current) === null || _a === void 0 ? void 0 : _a.textTracks.getTrackById(getVideoTextTrackId(kind, lang))) === null || _b === void 0 ? void 0 : _b.activeCues; },\n                volume: volume,\n                status: status,\n                duration: duration,\n                buffered: buffered,\n                isMuted: isMuted,\n                isLoading: isLoading,\n                error: error,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Video.prototype, \"currentElement\", {\n        get: function () {\n            var sourceType = this.props.sourceType;\n            if (sourceType === 'video' && this.videoRef.current) {\n                return this.videoRef.current;\n            }\n            else if (sourceType === 'audio' && this.audioRef.current) {\n                return this.audioRef.current;\n            }\n            else {\n                return undefined;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Video.prototype, \"actions\", {\n        get: function () {\n            var _a = this, play = _a.play, pause = _a.pause, navigate = _a.navigate, setVolume = _a.setVolume, setPlaybackSpeed = _a.setPlaybackSpeed, requestFullscreen = _a.requestFullscreen, mute = _a.mute, unmute = _a.unmute, toggleMute = _a.toggleMute;\n            return {\n                play: play,\n                pause: pause,\n                navigate: navigate,\n                setVolume: setVolume,\n                setPlaybackSpeed: setPlaybackSpeed,\n                requestFullscreen: requestFullscreen,\n                mute: mute,\n                unmute: unmute,\n                toggleMute: toggleMute,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Video.prototype.render = function () {\n        var _a = this, videoState = _a.videoState, actions = _a.actions;\n        var _b = this.props, sourceType = _b.sourceType, poster = _b.poster, src = _b.src, children = _b.children, autoPlay = _b.autoPlay, controls = _b.controls, preload = _b.preload, crossOrigin = _b.crossOrigin;\n        var props = {\n            src: src,\n            preload: preload,\n            controls: controls,\n            autoPlay: autoPlay,\n            onLoadedData: this.onLoadedData,\n            onPlay: this.onPlay,\n            onPause: this.onPause,\n            onVolumeChange: this.onVolumeChange,\n            onTimeUpdate: this.onTimeUpdate,\n            onCanPlay: this.onCanPlay,\n            onDurationChange: this.onDurationChange,\n            onError: this.onError,\n            onWaiting: this.onWaiting,\n            crossOrigin: crossOrigin,\n        };\n        if (sourceType === 'video') {\n            return children(React.createElement(\"video\", __assign({ ref: this.videoRef, poster: poster }, props),\n                this.renderTracks('subtitles'),\n                this.renderTracks('captions'),\n                this.renderTracks('descriptions'),\n                this.renderTracks('chapters'),\n                this.renderTracks('metadata')), videoState, actions, this.videoRef);\n        }\n        else {\n            return children(React.createElement(\"audio\", __assign({ ref: this.audioRef }, props)), videoState, actions, this.audioRef);\n        }\n    };\n    Video.defaultProps = {\n        defaultTime: 0,\n        sourceType: 'video',\n        autoPlay: false,\n        controls: false,\n        preload: isSafari ? 'auto' : 'metadata',\n    };\n    return Video;\n}(Component));\nexport { Video };\n","var pad = function pad(n) {\n  return n < 10 ? \"0\".concat(n) : n;\n};\n\nvar isInvalidInput = function isInvalidInput(seconds) {\n  return isNaN(seconds) || seconds === Infinity || seconds < 0;\n};\n\nexport var formatDuration = function formatDuration(seconds) {\n  if (isInvalidInput(seconds)) {\n    return '0:00';\n  }\n\n  var totalSeconds = parseInt(\"\".concat(seconds), 10);\n  var hours = Math.floor(totalSeconds / 3600);\n  var remainingSeconds = totalSeconds % 3600;\n  var minutes = Math.floor(remainingSeconds / 60);\n  remainingSeconds %= 60;\n  var prettyHoursWithSeparator = hours > 0 ? hours + ':' : '';\n  var prettyMinutes = prettyHoursWithSeparator ? pad(minutes) : minutes;\n  return \"\".concat(prettyHoursWithSeparator).concat(prettyMinutes, \":\").concat(pad(remainingSeconds));\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Component } from 'react';\nimport { TimeLine, CurrentTimeLine, Thumb, BufferedTime, CurrentTimeTooltip, TimeRangeWrapper } from './styled';\nimport { formatDuration } from '../formatDuration';\nexport var TimeRange = /*#__PURE__*/function (_Component) {\n  _inherits(TimeRange, _Component);\n\n  var _super = _createSuper(TimeRange);\n\n  function TimeRange() {\n    var _this;\n\n    _classCallCheck(this, TimeRange);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"thumbElement\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperElement\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperElementWidth\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isDragging: false,\n      dragStartClientX: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setWrapperWidth\", function () {\n      if (!_this.wrapperElement.current) {\n        return;\n      }\n\n      _this.wrapperElementWidth = _this.wrapperElement.current.getBoundingClientRect().width;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function (e) {\n      var _this$state = _this.state,\n          isDragging = _this$state.isDragging,\n          dragStartClientX = _this$state.dragStartClientX;\n\n      if (!isDragging) {\n        return;\n      }\n\n      e.stopPropagation();\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          duration = _this$props.duration,\n          currentTime = _this$props.currentTime;\n      var clientX = e.clientX;\n      var absolutePosition = clientX - dragStartClientX;\n      var isOutsideToRight = absolutePosition > _this.wrapperElementWidth;\n      var isOutsideToLeft = absolutePosition < 0; // Next to conditions take care of situation where user moves mouse very quickly out to the side\n      // left or right. It's very easy to leave thumb not at the end/beginning of a timeline.\n      // This will guarantee that in this case thumb will move to appropriate extreme.\n\n      if (isOutsideToRight) {\n        absolutePosition = _this.wrapperElementWidth;\n      }\n\n      if (isOutsideToLeft) {\n        absolutePosition = 0;\n      }\n\n      var newTimeWithBoundaries = absolutePosition * duration / _this.wrapperElementWidth;\n\n      if (currentTime !== newTimeWithBoundaries) {\n        // If value hasn't changed we don't want to call \"change\"\n        onChange(newTimeWithBoundaries);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function () {\n      var onChanged = _this.props.onChanged; // As soon as user finished dragging, we should clean up events.\n\n      document.removeEventListener('mouseup', _this.onMouseUp);\n      document.removeEventListener('mousemove', _this.onMouseMove);\n\n      if (onChanged) {\n        onChanged();\n      }\n\n      _this.setState({\n        isDragging: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onThumbMouseDown\", function (e) {\n      e.preventDefault(); // We need to recalculate every time, because width can change (thanks, editor ;-)\n\n      _this.setWrapperWidth(); // We are implementing drag and drop here. There is no reason to start listening for mouseUp or move\n      // before that. Also if we start listening for mouseup before that we could pick up someone else's event\n      // For example editors resizing of a inline video player.\n\n\n      document.addEventListener('mouseup', _this.onMouseUp);\n      document.addEventListener('mousemove', _this.onMouseMove);\n      var _this$props2 = _this.props,\n          duration = _this$props2.duration,\n          onChange = _this$props2.onChange;\n      var event = e.nativeEvent;\n      var x = event.offsetX;\n      var currentTime = x * duration / _this.wrapperElementWidth;\n\n      _this.setState({\n        isDragging: true,\n        dragStartClientX: event.clientX - x\n      }); // As soon as user clicks timeline we want to move thumb over to that place.\n\n\n      onChange(currentTime);\n    });\n\n    return _this;\n  }\n\n  _createClass(TimeRange, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', this.setWrapperWidth);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n      window.removeEventListener('resize', this.setWrapperWidth);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isDragging = this.state.isDragging;\n      var _this$props3 = this.props,\n          currentTime = _this$props3.currentTime,\n          duration = _this$props3.duration,\n          bufferedTime = _this$props3.bufferedTime,\n          disableThumbTooltip = _this$props3.disableThumbTooltip,\n          isAlwaysActive = _this$props3.isAlwaysActive;\n      var currentPosition = currentTime * 100 / duration;\n      var bufferedTimePercentage = bufferedTime * 100 / duration;\n      return /*#__PURE__*/React.createElement(TimeRangeWrapper, {\n        showAsActive: isAlwaysActive,\n        onMouseDown: this.onThumbMouseDown\n      }, /*#__PURE__*/React.createElement(TimeLine, {\n        ref: this.wrapperElement\n      }, /*#__PURE__*/React.createElement(BufferedTime, {\n        style: {\n          width: \"\".concat(bufferedTimePercentage, \"%\")\n        }\n      }), /*#__PURE__*/React.createElement(CurrentTimeLine, {\n        style: {\n          width: \"\".concat(currentPosition, \"%\")\n        }\n      }, /*#__PURE__*/React.createElement(Thumb, {\n        ref: this.thumbElement\n      }, disableThumbTooltip ? null : /*#__PURE__*/React.createElement(CurrentTimeTooltip, {\n        draggable: false,\n        isDragging: isDragging,\n        className: \"current-time-tooltip\"\n      }, formatDuration(currentTime))))));\n    }\n  }]);\n\n  return TimeRange;\n}(Component);\n\n_defineProperty(TimeRange, \"defaultProps\", {\n  disableThumbTooltip: false,\n  isAlwaysActive: false\n});","import { createAndFireEvent } from '@atlaskit/analytics-next';\nimport { ANALYTICS_MEDIA_CHANNEL } from '@atlaskit/media-common';\nexport var relevantFeatureFlagNames = []; // can be called in a component whose props extend WithAnalyticsEventsProps\n\nexport function fireAnalyticsEvent(payload, createAnalyticsEvent) {\n  if (createAnalyticsEvent) {\n    var event = createAnalyticsEvent(payload);\n    event.fire(ANALYTICS_MEDIA_CHANNEL);\n  }\n} // can be used inside withAnalyticsEvents() hook\n\nexport var createAndFireMediaCustomMediaPlayerEvent = function createAndFireMediaCustomMediaPlayerEvent(payload) {\n  return createAndFireEvent(ANALYTICS_MEDIA_CHANNEL)(payload);\n};","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nexport var isUndefined = function isUndefined(value) {\n  return value === undefined;\n};\nexport var pick = function pick(obj) {\n  var keys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (obj === undefined) {\n    return {};\n  }\n\n  return Object.fromEntries(Object.entries(obj).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        k = _ref2[0];\n\n    return keys.includes(k);\n  }));\n};\nexport var omitBy = function omitBy(obj, predicate) {\n  return Object.fromEntries(Object.entries(obj).filter(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        k = _ref4[0],\n        v = _ref4[1];\n\n    return !predicate(v);\n  }));\n};\nexport var debounce = function debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(void 0, args);\n    }, wait);\n  };\n};\nexport var matches = function matches(srcObj) {\n  return function (obj) {\n    var key;\n\n    for (key in srcObj) {\n      if (obj[key] === undefined || obj[key] !== srcObj[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n};","import { isUndefined, omitBy } from '@atlaskit/media-common';\nexport function createPlaybackAttributes(playbackState) {\n  var isAutoPlay = playbackState.isAutoPlay,\n      isHDAvailable = playbackState.isHDAvailable,\n      isHDActive = playbackState.isHDActive,\n      playerSize = playbackState.playerSize,\n      isFullScreenEnabled = playbackState.isFullScreenEnabled,\n      playbackSpeed = playbackState.playbackSpeed,\n      status = playbackState.status,\n      currentTime = playbackState.currentTime,\n      volume = playbackState.volume,\n      duration = playbackState.duration,\n      isMuted = playbackState.isMuted;\n  return omitBy({\n    isAutoPlay: isAutoPlay,\n    isHDAvailable: isHDAvailable,\n    isHDActive: isHDActive,\n    playbackSpeed: playbackSpeed,\n    playerSize: playerSize,\n    isFullScreenEnabled: isFullScreenEnabled,\n    durationInSec: duration && parseInt(\"\".concat(duration), 10),\n    absoluteTimeInSec: currentTime && parseInt(\"\".concat(currentTime), 10),\n    relativeTime: duration && currentTime && duration > 0 ? Math.round(currentTime / duration * 100) / 100 : undefined,\n    status: status,\n    volume: volume,\n    isMuted: isMuted\n  }, isUndefined);\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport var createPlayedTrackEvent = function createPlayedTrackEvent(type, playbackState, fileId) {\n  return {\n    eventType: 'track',\n    action: 'played',\n    actionSubject: 'customMediaPlayer',\n    actionSubjectId: fileId,\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport var createCustomMediaPlayerScreenEvent = function createCustomMediaPlayerScreenEvent(type, playbackState, fileId) {\n  return {\n    eventType: 'screen',\n    actionSubject: 'customMediaPlayerScreen',\n    actionSubjectId: fileId,\n    name: 'customMediaPlayerScreen',\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport var createFirstPlayedTrackEvent = function createFirstPlayedTrackEvent(type, playbackState, fileId) {\n  return {\n    eventType: 'track',\n    action: 'firstPlayed',\n    actionSubject: 'customMediaPlayer',\n    actionSubjectId: fileId,\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport function createMediaButtonClickedEvent(type, playbackState, buttonType, fileId) {\n  return {\n    eventType: 'ui',\n    action: 'clicked',\n    actionSubject: 'button',\n    actionSubjectId: buttonType,\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport function createMediaShortcutPressedEvent(type, playbackState, shortcutType, fileId) {\n  return {\n    eventType: 'ui',\n    action: 'pressed',\n    actionSubject: 'shortcut',\n    actionSubjectId: shortcutType,\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport function createPlayPauseBlanketClickedEvent(type, playbackState, fileId) {\n  return {\n    eventType: 'ui',\n    action: 'clicked',\n    actionSubject: 'playPauseBlanket',\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport function createTimeRangeNavigatedEvent(type, playbackState, actionSubjectId, fileId) {\n  return {\n    eventType: 'ui',\n    action: 'navigated',\n    actionSubject: 'timeRange',\n    actionSubjectId: actionSubjectId,\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createPlaybackAttributes } from '../../utils/playbackAttributes';\nexport function createPlaybackSpeedChangedEvent(type, playbackState, fileId) {\n  return {\n    eventType: 'ui',\n    action: 'changed',\n    actionSubject: 'playbackSpeed',\n    attributes: _objectSpread({\n      type: type,\n      playbackAttributes: createPlaybackAttributes(playbackState)\n    }, fileId && {\n      fileAttributes: {\n        fileId: fileId\n      }\n    })\n  };\n}","var capitalize = function capitalize(text) {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n};\n\nvar browserPrefixes = ['', 'moz', 'webkit', 'ms'];\nexport var findVendorSpecificProp = function findVendorSpecificProp(object, propNames) {\n  if (!Array.isArray(propNames)) {\n    propNames = [propNames];\n  }\n\n  for (var i = 0; i < propNames.length; i++) {\n    for (var j = 0; j < browserPrefixes.length; j++) {\n      var propName = browserPrefixes[j] + propNames[i];\n\n      if (object[propName]) {\n        return propName;\n      }\n\n      var capPropName = browserPrefixes[j] + capitalize(propNames[i]);\n\n      if (object[capPropName]) {\n        return capPropName;\n      }\n    }\n  }\n};\nexport var requestFullscreen = function requestFullscreen(element) {\n  var requestFullscreenProp = findVendorSpecificProp(element, [// The order here is important! Other way will make webkitRequestFullScreen to be picked up in chrome for example.\n  'requestFullscreen', 'requestFullScreen']);\n\n  if (element[requestFullscreenProp]) {\n    element[requestFullscreenProp]();\n  }\n};\nexport var exitFullscreen = function exitFullscreen() {\n  var exitFullScreenProp = findVendorSpecificProp(document, [// The order here is important! Other way will make webkitExitFullScreen to be picked up in chrome for example.\n  'exitFullscreen', 'exitFullScreen']);\n\n  if (document[exitFullScreenProp]) {\n    document[exitFullScreenProp]();\n  }\n};\nexport var getFullscreenElement = function getFullscreenElement() {\n  return findVendorSpecificProp(document, ['fullScreenElement', 'fullscreenElement']);\n};\nexport var toggleFullscreen = function toggleFullscreen(element) {\n  if (getFullscreenElement()) {\n    exitFullscreen();\n  } else if (element) {\n    requestFullscreen(element);\n  }\n};","var players = [];\n\nvar addPlayer = function addPlayer(player) {\n  return players.push(player);\n};\n\nvar removePlayer = function removePlayer(player) {\n  var playerIndex = players.indexOf(player);\n\n  if (playerIndex > -1) {\n    players.splice(playerIndex, 1);\n  }\n};\n\nexport default {\n  pauseOthers: function pauseOthers(player) {\n    players.forEach(function (otherPlayer) {\n      if (otherPlayer !== player) {\n        otherPlayer.pause();\n      }\n    });\n  },\n  subscribe: function subscribe(player) {\n    if (players.indexOf(player) === -1) {\n      addPlayer(player);\n    }\n  },\n  unsubscribe: function unsubscribe(player) {\n    removePlayer(player);\n  }\n};","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar getDefaultTimeLocalStorageKey = function getDefaultTimeLocalStorageKey(id) {\n  return \"time-saver-default-time-\".concat(id);\n};\n/**\n * Modules that stores watch time (a number) in local storage by unique identifier.\n * Used in Custom Media Player to enable the feature where a user would resume watching\n * from where they left off.\n */\n\n\nexport var TimeSaver = /*#__PURE__*/function () {\n  function TimeSaver(config) {\n    _classCallCheck(this, TimeSaver);\n\n    this.config = config;\n  }\n\n  _createClass(TimeSaver, [{\n    key: \"defaultTime\",\n    get: function get() {\n      if (this.config && localStorage) {\n        try {\n          var fileDefaultTime = localStorage.getItem(getDefaultTimeLocalStorageKey(this.config.contentId));\n\n          if (fileDefaultTime) {\n            return JSON.parse(fileDefaultTime);\n          }\n        } catch (e) {// Nothing to do, falling back to 0\n        }\n      }\n\n      return 0;\n    },\n    set: function set(time) {\n      if (this.config && localStorage) {\n        try {\n          localStorage.setItem(getDefaultTimeLocalStorageKey(this.config.contentId), JSON.stringify(time));\n        } catch (e) {// Nothing to do, storing hasn't happened.\n        }\n      }\n    }\n  }]);\n\n  return TimeSaver;\n}();","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Component } from 'react';\nimport { PopupSelect } from '@atlaskit/select';\nimport { B200, N900, N0, N600 } from '@atlaskit/theme/colors';\nimport { FormattedMessage, injectIntl } from 'react-intl-next';\nimport Tooltip from '@atlaskit/tooltip';\nimport MediaButton from '../MediaButton';\nimport { messages } from '../messages';\nimport { WidthObserver } from '@atlaskit/width-detector';\nexport var PlaybackSpeedControls = /*#__PURE__*/function (_Component) {\n  _inherits(PlaybackSpeedControls, _Component);\n\n  var _super = _createSuper(PlaybackSpeedControls);\n\n  function PlaybackSpeedControls() {\n    var _this;\n\n    _classCallCheck(this, PlaybackSpeedControls);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      popupHeight: 255\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlaybackSpeedChange\", function (option) {\n      var onPlaybackSpeedChange = _this.props.onPlaybackSpeedChange;\n\n      if (!option) {\n        return;\n      }\n\n      var playbackSpeed = parseFloat(\"\".concat(option.value));\n      onPlaybackSpeedChange(playbackSpeed);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"speedOptions\", function () {\n      return [{\n        label: /*#__PURE__*/React.createElement(FormattedMessage, messages.playbackSpeed),\n        options: [{\n          label: '0.75x',\n          value: 0.75\n        }, {\n          label: '1x',\n          value: 1\n        }, {\n          label: '1.25x',\n          value: 1.25\n        }, {\n          label: '1.5x',\n          value: 1.5\n        }, {\n          label: '2x',\n          value: 2\n        }]\n      }];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"popupCustomStyles\", {\n      container: function container(styles) {\n        return _objectSpread(_objectSpread({}, styles), {}, {\n          backgroundColor: N900\n        });\n      },\n      // added these overrides to keep the look of the current design\n      // however this does not benefit from the DS a11y changes\n      menuList: function menuList(styles) {\n        return _objectSpread(_objectSpread({}, styles), {}, {\n          padding: '4px 0px'\n        });\n      },\n      option: function option(styles, _ref) {\n        var isFocused = _ref.isFocused,\n            isSelected = _ref.isSelected;\n        return _objectSpread(_objectSpread({}, styles), {}, {\n          color: isSelected ? N0 : 'inherit',\n          backgroundColor: isSelected ? B200 : isFocused ? N600 : N900\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (width) {\n      var originalDimensions = _this.props.originalDimensions;\n\n      if (originalDimensions) {\n        var aspectRatio = originalDimensions.height / originalDimensions.width;\n        var controlsSize = 60;\n        var minimumHeight = 100;\n        var popupHeight = Math.max(aspectRatio * width - controlsSize, minimumHeight);\n\n        _this.setState({\n          popupHeight: popupHeight\n        });\n      } // This is a hacky solution. Please replace with a better one if you find one.\n      // There is something inside popper.js that recalc position on scroll.\n      // We enable this functionality with `eventListeners` modifier.\n      // Here we simulate scroll even to trick popper.js to recalc position.\n\n\n      window.dispatchEvent(new CustomEvent('scroll'));\n    });\n\n    return _this;\n  }\n\n  _createClass(PlaybackSpeedControls, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          playbackSpeed = _this$props.playbackSpeed,\n          intl = _this$props.intl,\n          onClick = _this$props.onClick;\n      var popupHeight = this.state.popupHeight;\n      var value = this.speedOptions()[0].options.find(function (option) {\n        return option.value === playbackSpeed;\n      });\n      var popperProps = {\n        strategy: 'fixed',\n        modifiers: [{\n          name: 'preventOverflow',\n          enabled: true\n        }, {\n          name: 'eventListeners',\n          options: {\n            scroll: true,\n            resize: true\n          }\n        }, {\n          name: 'offset',\n          enabled: true,\n          options: {\n            offset: [0, 10]\n          }\n        }],\n        placement: 'top'\n      };\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WidthObserver, {\n        setWidth: this.onResize\n      }), /*#__PURE__*/React.createElement(PopupSelect, {\n        minMenuWidth: 140,\n        maxMenuHeight: popupHeight,\n        options: this.speedOptions(),\n        value: value,\n        theme: function theme(_theme) {\n          return _objectSpread(_objectSpread({}, _theme), {}, {\n            colors: _objectSpread(_objectSpread({}, _theme.colors), {}, {\n              primary25: N600\n            })\n          });\n        },\n        closeMenuOnScroll: true,\n        onChange: this.onPlaybackSpeedChange,\n        target: function target(_ref2) {\n          var ref = _ref2.ref,\n              isOpen = _ref2.isOpen;\n          return /*#__PURE__*/React.createElement(Tooltip, {\n            content: intl.formatMessage(messages.playbackSpeed),\n            position: \"top\"\n          }, /*#__PURE__*/React.createElement(MediaButton, {\n            testId: \"custom-media-player-playback-speed-toggle-button\",\n            buttonRef: ref,\n            isSelected: isOpen,\n            onClick: onClick\n          }, playbackSpeed, \"x\"));\n        },\n        styles: this.popupCustomStyles,\n        popperProps: popperProps\n      }));\n    }\n  }]);\n\n  return PlaybackSpeedControls;\n}(Component);\nexport default injectIntl(PlaybackSpeedControls);","import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nvar _templateObject;\n\nimport styled from '@emotion/styled';\nexport var PlayPauseBlanket = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  cursor: pointer;\\n\"])));\nPlayPauseBlanket.displayName = 'PlayPauseBlanket';","import _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport Icon from '@atlaskit/icon';\n\nfunction SkipTenBackwardGlyph(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M5.414 6.95a1 1 0 001.414-1.414L6.293 5H12a7 7 0 11-7 7 1 1 0 10-2 0 9 9 0 109-9H6.536l.292-.293a1 1 0 10-1.414-1.414L3.293 3.414a1 1 0 000 1.414L5.414 6.95z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M10.494 9.15l-.02-.095a.75.75 0 00-.962-.516l-1.5.503-.094.039a.75.75 0 00-.379.91l.039.095c.163.331.55.5.91.378L9 10.293v4.457l.007.1a.75.75 0 001.493-.1v-5.5l-.006-.1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M14 15.5c1.15 0 1.788-.894 2.049-1.415.305-.611.451-1.35.451-2.085 0-.69-.11-1.429-.406-2.055C15.81 9.345 15.157 8.5 14 8.5c-1.15 0-1.788.894-2.049 1.415-.305.611-.451 1.35-.451 2.085 0 .735.146 1.474.451 2.085.26.521.899 1.415 2.049 1.415zm1-3.5c0 1.105-.448 2-1 2s-1-.895-1-2 .448-2 1-2c.633 0 1 .895 1 2z\"\n  }));\n}\n\nexport function SkipTenBackwardIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    glyph: SkipTenBackwardGlyph\n  }, props));\n}\n\nfunction SkipTenForwardGlyph(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M18.586 6.95a1 1 0 11-1.414-1.414L17.707 5H12a7 7 0 107 7 1 1 0 112 0 9 9 0 11-9-9h5.465l-.293-.293a1 1 0 111.414-1.414l2.121 2.121a1 1 0 010 1.414L18.586 6.95z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M10.475 9.055l.019.095.006.1v5.5a.75.75 0 01-1.493.1L9 14.75v-4.457l-.511.171a.75.75 0 01-.911-.378l-.039-.094a.75.75 0 01.379-.911l.094-.039 1.5-.503a.75.75 0 01.963.516z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M14 15.5c1.15 0 1.788-.894 2.049-1.415.305-.611.451-1.35.451-2.085 0-.69-.11-1.429-.406-2.055C15.81 9.345 15.157 8.5 14 8.5c-1.15 0-1.788.894-2.049 1.415-.305.611-.451 1.35-.451 2.085 0 .735.146 1.474.451 2.085.26.521.899 1.415 2.049 1.415zm1-3.5c0 1.105-.448 2-1 2s-1-.895-1-2 .448-2 1-2c.633 0 1 .895 1 2z\"\n  }));\n}\n\nexport function SkipTenForwardIcon(props) {\n  return /*#__PURE__*/React.createElement(Icon, _extends({\n    glyph: SkipTenForwardGlyph\n  }, props));\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Component } from 'react';\nimport { withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport PlayIcon from '@atlaskit/icon/glyph/vid-play';\nimport PauseIcon from '@atlaskit/icon/glyph/vid-pause';\nimport FullScreenIconOn from '@atlaskit/icon/glyph/vid-full-screen-on';\nimport FullScreenIconOff from '@atlaskit/icon/glyph/vid-full-screen-off';\nimport SoundIcon from '@atlaskit/icon/glyph/hipchat/outgoing-sound';\nimport HDIcon from '@atlaskit/icon/glyph/vid-hd-circle';\nimport DownloadIcon from '@atlaskit/icon/glyph/download';\nimport { withMediaAnalyticsContext } from '@atlaskit/media-common';\nimport MediaButton from '../MediaButton';\nimport Spinner from '@atlaskit/spinner';\nimport { WidthObserver } from '@atlaskit/width-detector';\nimport MediaPlayer from 'react-video-renderer';\nimport { B200, DN400, N0, DN60 } from '@atlaskit/theme/colors';\nimport { TimeRange } from './timeRange';\nimport { CurrentTime, VideoWrapper, CustomVideoWrapper, TimebarWrapper, VolumeWrapper, TimeWrapper, LeftControls, RightControls, ControlsWrapper, VolumeToggleWrapper, MutedIndicator, SpinnerWrapper, VolumeTimeRangeWrapper } from './styled';\nimport { fireAnalyticsEvent, relevantFeatureFlagNames, createCustomMediaPlayerScreenEvent, createMediaButtonClickedEvent, createMediaShortcutPressedEvent, createPlayPauseBlanketClickedEvent, createTimeRangeNavigatedEvent, createPlaybackSpeedChangedEvent, createFirstPlayedTrackEvent, createPlayedTrackEvent } from './analytics';\nimport { formatDuration } from '../formatDuration';\nimport { Shortcut, keyCodes } from '../shortcut';\nimport { toggleFullscreen, getFullscreenElement } from './fullscreen';\nimport { injectIntl } from 'react-intl-next';\nimport { messages } from '../messages';\nimport simultaneousPlayManager from './simultaneousPlayManager';\nimport { TimeSaver } from './timeSaver';\nimport PlaybackSpeedControls from './playbackSpeedControls';\nimport { PlayPauseBlanket } from './playPauseBlanket';\nimport Tooltip from '@atlaskit/tooltip';\nimport { SkipTenBackwardIcon, SkipTenForwardIcon } from './icons';\nimport { getControlsWrapperClassName } from './getControlsWrapperClassName';\nvar packageName = \"@atlaskit/media-ui\";\nvar packageVersion = \"22.1.2\";\nvar MEDIUM_VIDEO_MAX_WIDTH = 400;\nvar SMALL_VIDEO_MAX_WIDTH = 160;\nvar MINIMUM_DURATION_BEFORE_SAVING_TIME = 60;\nvar VIEWED_TRACKING_SECS = 2;\nexport var CustomMediaPlayerBase = /*#__PURE__*/function (_Component) {\n  _inherits(CustomMediaPlayerBase, _Component);\n\n  var _super = _createSuper(CustomMediaPlayerBase);\n\n  function CustomMediaPlayerBase() {\n    var _this;\n\n    _classCallCheck(this, CustomMediaPlayerBase);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"videoWrapperRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"videoState\", {\n      isLoading: true,\n      buffered: 0,\n      currentTime: 0,\n      volume: 1,\n      status: 'paused',\n      duration: 0,\n      isMuted: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wasPlayedOnce\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"lastCurrentTime\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"timeSaver\", new TimeSaver(_this.props.lastWatchTimeConfig));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFullScreenEnabled: false,\n      playerSize: 'large',\n      playbackSpeed: 1\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFullScreenChange\", function (e) {\n      if (e.target !== _this.videoWrapperRef.current) {\n        return;\n      }\n\n      var currentFullScreenMode = _this.state.isFullScreenEnabled;\n      var isFullScreenEnabled = !!getFullscreenElement();\n\n      if (currentFullScreenMode !== isFullScreenEnabled) {\n        var _this$props$onFullscr, _this$props;\n\n        (_this$props$onFullscr = (_this$props = _this.props).onFullscreenChange) === null || _this$props$onFullscr === void 0 ? void 0 : _this$props$onFullscr.call(_this$props, isFullScreenEnabled);\n\n        _this.setState({\n          isFullScreenEnabled: isFullScreenEnabled\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTimeChanged\", function () {\n      _this.createAndFireUIEvent('timeRangeNavigate', 'time');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChanged\", function () {\n      _this.createAndFireUIEvent('volumeRangeNavigate', 'volume');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCurrentTimeChange\", function (currentTime, duration) {\n      if (duration - currentTime > MINIMUM_DURATION_BEFORE_SAVING_TIME) {\n        _this.timeSaver.defaultTime = currentTime;\n      } else {\n        _this.timeSaver.defaultTime = 0;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderCurrentTime\", function (_ref) {\n      var currentTime = _ref.currentTime,\n          duration = _ref.duration;\n      return /*#__PURE__*/React.createElement(CurrentTime, {\n        draggable: false\n      }, formatDuration(currentTime), \" / \", formatDuration(duration));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHDButton\", function () {\n      var _this$props2 = _this.props,\n          type = _this$props2.type,\n          isHDAvailable = _this$props2.isHDAvailable,\n          isHDActive = _this$props2.isHDActive,\n          onHDToggleClick = _this$props2.onHDToggleClick;\n\n      if (type === 'audio' || !isHDAvailable) {\n        return;\n      }\n\n      var primaryColor = isHDActive ? B200 : DN400;\n      var secondaryColor = isHDActive ? N0 : DN60;\n      return /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-hd-button\",\n        onClick: !!onHDToggleClick ? _this.getMediaButtonClickHandler(onHDToggleClick, 'HDButton') : undefined,\n        iconBefore: /*#__PURE__*/React.createElement(HDIcon, {\n          primaryColor: primaryColor,\n          secondaryColor: secondaryColor,\n          label: \"hd\"\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPlaybackSpeedChange\", function (playbackSpeed) {\n      if (!_this.actions) {\n        return;\n      }\n\n      _this.actions.setPlaybackSpeed(playbackSpeed);\n\n      _this.setState({\n        playbackSpeed: playbackSpeed\n      });\n\n      _this.createAndFireUIEvent('playbackSpeedChange');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSpeedControls\", function () {\n      var playbackSpeed = _this.state.playbackSpeed;\n      var originalDimensions = _this.props.originalDimensions;\n      return /*#__PURE__*/React.createElement(PlaybackSpeedControls, {\n        originalDimensions: originalDimensions,\n        playbackSpeed: playbackSpeed,\n        onPlaybackSpeedChange: _this.onPlaybackSpeedChange,\n        onClick: function onClick() {\n          return _this.createAndFireUIEvent('mediaButtonClick', 'playbackSpeedButton');\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderVolume\", function (videoState, actions, showSlider) {\n      return /*#__PURE__*/React.createElement(VolumeWrapper, {\n        showSlider: showSlider\n      }, /*#__PURE__*/React.createElement(VolumeToggleWrapper, {\n        isMuted: videoState.isMuted\n      }, /*#__PURE__*/React.createElement(MutedIndicator, {\n        isMuted: videoState.isMuted\n      }), /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-volume-toggle-button\",\n        onClick: _this.getMediaButtonClickHandler(actions.toggleMute, 'muteButton'),\n        iconBefore: /*#__PURE__*/React.createElement(SoundIcon, {\n          label: \"volume\"\n        })\n      })), showSlider && /*#__PURE__*/React.createElement(VolumeTimeRangeWrapper, null, /*#__PURE__*/React.createElement(TimeRange, {\n        onChange: actions.setVolume,\n        duration: 1,\n        currentTime: videoState.volume,\n        bufferedTime: videoState.volume,\n        disableThumbTooltip: true,\n        isAlwaysActive: true,\n        onChanged: _this.onVolumeChanged\n      })));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleFullscreen\", function () {\n      return _this.videoWrapperRef.current && toggleFullscreen(_this.videoWrapperRef.current);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFullScreenButtonClick\", function () {\n      _this.toggleFullscreen();\n\n      _this.createAndFireUIEvent('mediaButtonClick', 'fullScreenButton');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (width) {\n      if (width > MEDIUM_VIDEO_MAX_WIDTH) {\n        _this.setState({\n          playerSize: 'large'\n        });\n      } else if (width > SMALL_VIDEO_MAX_WIDTH) {\n        _this.setState({\n          playerSize: 'medium'\n        });\n      } else {\n        _this.setState({\n          playerSize: 'small'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderFullScreenButton\", function () {\n      var _this$props3 = _this.props,\n          formatMessage = _this$props3.intl.formatMessage,\n          type = _this$props3.type;\n\n      if (type === 'audio') {\n        return;\n      }\n\n      var isFullScreenEnabled = _this.state.isFullScreenEnabled;\n      var icon = isFullScreenEnabled ? /*#__PURE__*/React.createElement(FullScreenIconOff, {\n        label: formatMessage(messages.disable_fullscreen)\n      }) : /*#__PURE__*/React.createElement(FullScreenIconOn, {\n        label: formatMessage(messages.enable_fullscreen)\n      });\n      return /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-fullscreen-button\",\n        onClick: _this.onFullScreenButtonClick,\n        iconBefore: icon\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDownloadButton\", function () {\n      var onDownloadClick = _this.props.onDownloadClick;\n\n      if (!onDownloadClick) {\n        return;\n      }\n\n      return /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-download-button\",\n        onClick: _this.getMediaButtonClickHandler(onDownloadClick, 'downloadButton'),\n        iconBefore: /*#__PURE__*/React.createElement(DownloadIcon, {\n          label: \"download\"\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderShortcuts\", function (_ref2) {\n      var togglePlayPauseAction = _ref2.togglePlayPauseAction,\n          toggleMute = _ref2.toggleMute,\n          skipBackward = _ref2.skipBackward,\n          skipForward = _ref2.skipForward;\n      var isShortcutEnabled = _this.props.isShortcutEnabled;\n      var isFullScreenEnabled = _this.state.isFullScreenEnabled;\n      var shortcuts = (isShortcutEnabled || isFullScreenEnabled) && [/*#__PURE__*/React.createElement(Shortcut, {\n        key: \"space-shortcut\",\n        code: keyCodes.space,\n        handler: _this.getKeyboardShortcutHandler(togglePlayPauseAction, 'space')\n      }), /*#__PURE__*/React.createElement(Shortcut, {\n        key: \"m-shortcut\",\n        code: keyCodes.m,\n        handler: _this.getKeyboardShortcutHandler(toggleMute, 'mute')\n      })];\n\n      if (shortcuts && isFullScreenEnabled) {\n        // Fullscreen shortcuts only. We don't want to override left/right keys in media-viewer settings\n        shortcuts.push( /*#__PURE__*/React.createElement(Shortcut, {\n          key: \"skip-backward-shortcut\",\n          code: keyCodes.leftArrow,\n          handler: _this.getKeyboardShortcutHandler(skipBackward, 'leftArrow')\n        }));\n        shortcuts.push( /*#__PURE__*/React.createElement(Shortcut, {\n          key: \"skip-forward-shortcut\",\n          code: keyCodes.rightArrow,\n          handler: _this.getKeyboardShortcutHandler(skipForward, 'rightArrow')\n        }));\n      }\n\n      return shortcuts;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayPauseButton\", function (isPlaying) {\n      var formatMessage = _this.props.intl.formatMessage;\n      var toggleButtonIcon = isPlaying ? /*#__PURE__*/React.createElement(PauseIcon, {\n        label: formatMessage(messages.pause)\n      }) : /*#__PURE__*/React.createElement(PlayIcon, {\n        label: formatMessage(messages.play)\n      });\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        content: formatMessage(isPlaying ? messages.pause : messages.play),\n        position: \"top\"\n      }, /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-play-toggle-button\",\n        \"data-test-is-playing\": isPlaying,\n        iconBefore: toggleButtonIcon,\n        onClick: isPlaying ? _this.pausePlayByButtonClick : _this.startPlayByButtonClick\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSkipBackwardButton\", function (skipBackward) {\n      var formatMessage = _this.props.intl.formatMessage;\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        content: formatMessage(messages.skipBackward),\n        position: \"top\"\n      }, /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-skip-backward-button\",\n        iconBefore: /*#__PURE__*/React.createElement(SkipTenBackwardIcon, {\n          label: formatMessage(messages.skipBackward)\n        }),\n        onClick: _this.getMediaButtonClickHandler(skipBackward, 'skipBackwardButton')\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSkipForwardButton\", function (skipForward) {\n      var formatMessage = _this.props.intl.formatMessage;\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        content: formatMessage(messages.skipForward),\n        position: \"top\"\n      }, /*#__PURE__*/React.createElement(MediaButton, {\n        testId: \"custom-media-player-skip-forward-button\",\n        iconBefore: /*#__PURE__*/React.createElement(SkipTenForwardIcon, {\n          label: formatMessage(messages.skipForward)\n        }),\n        onClick: _this.getMediaButtonClickHandler(skipForward, 'skipForwardButton')\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSpinner\", function () {\n      return /*#__PURE__*/React.createElement(SpinnerWrapper, null, /*#__PURE__*/React.createElement(Spinner, {\n        appearance: \"invert\",\n        size: \"large\"\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pause\", function () {\n      if (_this.actions) {\n        _this.actions.pause();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"play\", function () {\n      var onFirstPlay = _this.props.onFirstPlay;\n\n      if (_this.actions) {\n        _this.actions.play();\n      }\n\n      simultaneousPlayManager.pauseOthers(_assertThisInitialized(_this));\n\n      if (!_this.wasPlayedOnce && onFirstPlay) {\n        _this.wasPlayedOnce = true;\n        onFirstPlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMediaButtonClickHandler\", function (action, buttonType) {\n      return function () {\n        action();\n\n        _this.createAndFireUIEvent('mediaButtonClick', buttonType);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getKeyboardShortcutHandler\", function (action, shortcutType) {\n      return function () {\n        var showControls = _this.props.showControls;\n        action();\n\n        if (showControls) {\n          showControls();\n        }\n\n        _this.createAndFireUIEvent('shortcutPress', shortcutType);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onViewed\", function (videoState) {\n      var _this$props4 = _this.props,\n          createAnalyticsEvent = _this$props4.createAnalyticsEvent,\n          fileId = _this$props4.fileId,\n          isAutoPlay = _this$props4.isAutoPlay,\n          isHDAvailable = _this$props4.isHDAvailable,\n          isHDActive = _this$props4.isHDActive,\n          type = _this$props4.type;\n      var _this$state = _this.state,\n          isFullScreenEnabled = _this$state.isFullScreenEnabled,\n          playerSize = _this$state.playerSize,\n          playbackSpeed = _this$state.playbackSpeed;\n      var status = videoState.status,\n          currentTime = videoState.currentTime;\n\n      if (status === 'playing' && (currentTime < _this.lastCurrentTime || currentTime >= _this.lastCurrentTime + VIEWED_TRACKING_SECS)) {\n        fireAnalyticsEvent(createPlayedTrackEvent(type, _objectSpread(_objectSpread({}, videoState), {}, {\n          isAutoPlay: isAutoPlay,\n          isHDAvailable: isHDAvailable,\n          isHDActive: isHDActive,\n          isFullScreenEnabled: isFullScreenEnabled,\n          playerSize: playerSize,\n          playbackSpeed: playbackSpeed\n        }), fileId), createAnalyticsEvent);\n        _this.lastCurrentTime = currentTime;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetPendingPlayPauseToggleTimer\", function () {\n      if (_this.clickToTogglePlayTimoutId !== undefined) {\n        clearTimeout(_this.clickToTogglePlayTimoutId);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doubleClickToFullscreen\", function () {\n      _this.resetPendingPlayPauseToggleTimer();\n\n      _this.toggleFullscreen(); // TODO Add an event similar to \"playPauseBlanketClick\" but for fullscreen trigger\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayByBlanketClick\", function (action) {\n      _this.resetPendingPlayPauseToggleTimer();\n\n      _this.clickToTogglePlayTimoutId = setTimeout(function () {\n        action();\n\n        _this.createAndFireUIEvent('playPauseBlanketClick');\n      }, 200);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startPlayByBlanketClick\", function () {\n      _this.togglePlayByBlanketClick(_this.play);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pausePlayByBlanketClick\", function () {\n      _this.togglePlayByBlanketClick(_this.pause);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startPlayByButtonClick\", _this.getMediaButtonClickHandler(_this.play, 'playButton'));\n\n    _defineProperty(_assertThisInitialized(_this), \"pausePlayByButtonClick\", _this.getMediaButtonClickHandler(_this.pause, 'pauseButton'));\n\n    return _this;\n  }\n\n  _createClass(CustomMediaPlayerBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props5 = this.props,\n          type = _this$props5.type,\n          fileId = _this$props5.fileId,\n          isAutoPlay = _this$props5.isAutoPlay,\n          isHDAvailable = _this$props5.isHDAvailable,\n          isHDActive = _this$props5.isHDActive,\n          onFirstPlay = _this$props5.onFirstPlay,\n          createAnalyticsEvent = _this$props5.createAnalyticsEvent;\n      var _this$state2 = this.state,\n          isFullScreenEnabled = _this$state2.isFullScreenEnabled,\n          playerSize = _this$state2.playerSize,\n          playbackSpeed = _this$state2.playbackSpeed;\n      fireAnalyticsEvent(createCustomMediaPlayerScreenEvent(type, {\n        isAutoPlay: isAutoPlay,\n        isHDAvailable: isHDAvailable,\n        isHDActive: isHDActive,\n        isFullScreenEnabled: isFullScreenEnabled,\n        playerSize: playerSize,\n        playbackSpeed: playbackSpeed\n      }, fileId), createAnalyticsEvent);\n\n      if (this.videoWrapperRef.current) {\n        this.videoWrapperRef.current.addEventListener('fullscreenchange', this.onFullScreenChange);\n      }\n\n      simultaneousPlayManager.subscribe(this);\n\n      if (isAutoPlay) {\n        simultaneousPlayManager.pauseOthers(this);\n\n        if (onFirstPlay) {\n          fireAnalyticsEvent(createFirstPlayedTrackEvent(type, {\n            isAutoPlay: isAutoPlay,\n            isHDAvailable: isHDAvailable,\n            isHDActive: isHDActive,\n            isFullScreenEnabled: isFullScreenEnabled,\n            playerSize: playerSize,\n            playbackSpeed: playbackSpeed\n          }, fileId), createAnalyticsEvent);\n          this.wasPlayedOnce = true;\n          onFirstPlay();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.videoWrapperRef.current) {\n        this.videoWrapperRef.current.removeEventListener('fullscreenchange', this.onFullScreenChange);\n      }\n\n      if (this.state.isFullScreenEnabled) {\n        var _this$props$onFullscr2, _this$props6;\n\n        (_this$props$onFullscr2 = (_this$props6 = this.props).onFullscreenChange) === null || _this$props$onFullscr2 === void 0 ? void 0 : _this$props$onFullscr2.call(_this$props6, false);\n      }\n\n      simultaneousPlayManager.unsubscribe(this);\n    }\n  }, {\n    key: \"setActions\",\n    value: function setActions(actions) {\n      // Actions are being sent constantly while the video is playing,\n      // though play and pause functions are always the same objects\n      if (!this.actions) {\n        this.actions = actions;\n      }\n    }\n  }, {\n    key: \"createAndFireUIEvent\",\n    value: function createAndFireUIEvent(eventType, actionSubjectId) {\n      var _this$props7 = this.props,\n          type = _this$props7.type,\n          fileId = _this$props7.fileId,\n          isHDActive = _this$props7.isHDActive,\n          isHDAvailable = _this$props7.isHDAvailable,\n          isAutoPlay = _this$props7.isAutoPlay,\n          createAnalyticsEvent = _this$props7.createAnalyticsEvent;\n      var _this$state3 = this.state,\n          isFullScreenEnabled = _this$state3.isFullScreenEnabled,\n          playerSize = _this$state3.playerSize,\n          playbackSpeed = _this$state3.playbackSpeed;\n\n      var playbackState = _objectSpread(_objectSpread({}, this.videoState), {}, {\n        isAutoPlay: isAutoPlay,\n        isHDAvailable: isHDAvailable,\n        isHDActive: isHDActive,\n        isFullScreenEnabled: isFullScreenEnabled,\n        playerSize: playerSize,\n        playbackSpeed: playbackSpeed\n      });\n\n      var analyticsEvent;\n\n      switch (eventType) {\n        case 'mediaButtonClick':\n          analyticsEvent = createMediaButtonClickedEvent(type, playbackState, actionSubjectId, fileId);\n          break;\n\n        case 'shortcutPress':\n          analyticsEvent = createMediaShortcutPressedEvent(type, playbackState, actionSubjectId, fileId);\n          break;\n\n        case 'playPauseBlanketClick':\n          analyticsEvent = createPlayPauseBlanketClickedEvent(type, playbackState, fileId);\n          break;\n\n        case 'timeRangeNavigate':\n        case 'volumeRangeNavigate':\n          analyticsEvent = createTimeRangeNavigatedEvent(type, playbackState, actionSubjectId, fileId);\n          break;\n\n        case 'playbackSpeedChange':\n          analyticsEvent = createPlaybackSpeedChangedEvent(type, playbackState, fileId);\n          break;\n\n        default:\n          analyticsEvent = {\n            eventType: 'ui',\n            action: 'default',\n            actionSubject: 'customMediaPlayer',\n            attributes: {\n              type: type\n            }\n          };\n      }\n\n      fireAnalyticsEvent(analyticsEvent, createAnalyticsEvent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props8 = this.props,\n          type = _this$props8.type,\n          src = _this$props8.src,\n          isAutoPlay = _this$props8.isAutoPlay,\n          onCanPlay = _this$props8.onCanPlay,\n          onError = _this$props8.onError,\n          poster = _this$props8.poster;\n      return /*#__PURE__*/React.createElement(CustomVideoWrapper, {\n        ref: this.videoWrapperRef,\n        \"data-testid\": \"custom-media-player\"\n      }, /*#__PURE__*/React.createElement(MediaPlayer, {\n        sourceType: type,\n        src: src,\n        autoPlay: isAutoPlay,\n        onCanPlay: onCanPlay,\n        defaultTime: this.timeSaver.defaultTime,\n        onTimeChange: this.onCurrentTimeChange,\n        onError: onError,\n        poster: poster\n      }, function (video, videoState, actions) {\n        _this2.onViewed(videoState);\n\n        _this2.setActions(actions); //Video State(either prop or variable) is ReadOnly\n\n\n        _this2.videoState = videoState;\n        var status = videoState.status,\n            currentTime = videoState.currentTime,\n            buffered = videoState.buffered,\n            duration = videoState.duration,\n            isLoading = videoState.isLoading;\n        var playerSize = _this2.state.playerSize;\n        var isPlaying = status === 'playing';\n        var isLargePlayer = playerSize === 'large';\n        var isMediumPlayer = playerSize === 'medium';\n        var skipAmount = 10;\n\n        var skipBackward = function skipBackward() {\n          var newTime = videoState.currentTime - skipAmount;\n          actions.navigate(Math.max(newTime, 0));\n        };\n\n        var skipForward = function skipForward() {\n          var newTime = videoState.currentTime + skipAmount;\n          actions.navigate(Math.min(newTime, videoState.duration));\n        };\n\n        var shortcuts = _this2.renderShortcuts({\n          togglePlayPauseAction: isPlaying ? _this2.pause : _this2.play,\n          toggleMute: actions.toggleMute,\n          skipBackward: skipBackward,\n          skipForward: skipForward\n        });\n\n        return /*#__PURE__*/React.createElement(VideoWrapper, null, /*#__PURE__*/React.createElement(WidthObserver, {\n          setWidth: _this2.onResize\n        }), shortcuts, isLoading && _this2.renderSpinner(), /*#__PURE__*/React.createElement(PlayPauseBlanket, {\n          onDoubleClick: _this2.doubleClickToFullscreen,\n          onClick: isPlaying ? _this2.pausePlayByBlanketClick : _this2.startPlayByBlanketClick,\n          \"data-testid\": \"play-pause-blanket\"\n        }, video), /*#__PURE__*/React.createElement(ControlsWrapper, {\n          className: getControlsWrapperClassName(_this2.wasPlayedOnce)\n        }, /*#__PURE__*/React.createElement(TimeWrapper, null, /*#__PURE__*/React.createElement(TimeRange, {\n          currentTime: currentTime,\n          bufferedTime: buffered,\n          duration: duration,\n          onChange: actions.navigate,\n          onChanged: _this2.onTimeChanged\n        })), /*#__PURE__*/React.createElement(TimebarWrapper, null, /*#__PURE__*/React.createElement(LeftControls, null, _this2.renderPlayPauseButton(isPlaying), isLargePlayer && _this2.renderSkipBackwardButton(skipBackward), isLargePlayer && _this2.renderSkipForwardButton(skipForward), _this2.renderVolume(videoState, actions, isLargePlayer)), /*#__PURE__*/React.createElement(RightControls, null, (isMediumPlayer || isLargePlayer) && _this2.renderCurrentTime(videoState), isLargePlayer && _this2.renderHDButton(), isLargePlayer && _this2.renderSpeedControls(), _this2.renderFullScreenButton(), isLargePlayer && _this2.renderDownloadButton()))));\n      }));\n    }\n  }]);\n\n  return CustomMediaPlayerBase;\n}(Component);\nexport var CustomMediaPlayer = withMediaAnalyticsContext({\n  packageVersion: packageVersion,\n  packageName: packageName,\n  componentName: 'customMediaPlayer',\n  component: 'customMediaPlayer'\n}, {\n  filterFeatureFlags: relevantFeatureFlagNames\n})(withAnalyticsEvents()(injectIntl(CustomMediaPlayerBase)));","import { hideControlsClassName } from '../classNames';\nexport var getControlsWrapperClassName = function getControlsWrapperClassName(wasPlayedOnce) {\n  return !wasPlayedOnce ? '' : hideControlsClassName;\n};"],"sourceRoot":""}