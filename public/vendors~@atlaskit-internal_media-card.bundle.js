(window.webpackJsonp=window.webpackJsonp||[]).push([[151,0,1,2,3,10,23,136],{1277:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},a=function(e){return e>=5},i=function(e){return r[e]}},1287:function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return q}));var r,a=n(8),i=n.n(a),o=n(9),c=n.n(o),s=n(12),l=n.n(s),u=n(14),d=n.n(u),f=n(6),p=n.n(f),v=n(1),m=n.n(v),h=n(7),g=n.n(h),b=n(0),y=n.n(b),w=n(38),O=n(1321),x=n.n(O),j=n(1322),E=n.n(j),R=n(1323),I=n.n(R),k=n(1324),P=n.n(k),C=n(1325),S=n.n(C),B=n(1326),M=n.n(B),z=n(347),D=n.n(z),T=n(348),N=n.n(T),F=n(273),A=n.n(F),_=n(527),L=n.n(_),U=n(317),V=n.n(U),H=n(796),W=n.n(H);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var X=w.a.div(r||(r=g()(["\n  display: inline-flex;\n  ","\n"])),(function(e){return"large"===e.size?"padding: 4px;":""}));X.displayName="IconWrapper";var Y={image:x.a,audio:E.a,video:I.a,doc:P.a,archive:S.a,unknown:M.a},K={image:D.a,audio:N.a,video:A.a,doc:L.a,archive:V.a,unknown:W.a},q=function(e){l()(n,e);var t=G(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.testId,a="large"===n?Y:K,i=a[t||"unknown"]||a.unknown;return y.a.createElement(X,{"data-testid":r,"data-type":t,size:n},y.a.createElement(i,{label:"media-type"}))}}]),n}(y.a.Component);m()(q,"defaultProps",{type:"unknown",testId:"file-type-icon",size:"large"})},1306:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,a=n(0),i=n.n(a),o=n(1318),c=n(1),s=n.n(c),l=n(535),u=(r={},s()(r,l.b,"next"),s()(r,l.e,"prev"),s()(r,l.d,"first"),s()(r,l.c,"last"),r);var d=Object(a.createContext)({menuItemRefs:[],registerRef:function(e){}});t.b=function(e){var t,n=e.children,r=Object(a.useRef)([]),c=Object(a.useCallback)((function(e){e&&!r.current.includes(e)&&r.current.push(e)}),[]);Object(o.a)((t=r.current,function(e){var n=t.findIndex((function(e){var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));switch(u[e.key]){case"next":n<t.length-1&&(e.preventDefault(),t[n+1].focus());break;case"prev":n>0&&(e.preventDefault(),t[n-1].focus());break;case"first":e.preventDefault(),t[0].focus();break;case"last":e.preventDefault(),t[t.length-1].focus();break;default:return}}));var s={menuItemRefs:r.current,registerRef:c};return i.a.createElement(d.Provider,{value:s},n)}},1307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0112 4a4 4 0 014 4.002V10a2 2 0 012 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 016 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0012 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e));o.displayName="LockFilledIcon";var c=o;t.default=c},1318:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(r.useEffect)((function(){return t&&window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[e,t])}},1319:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),a=n.n(r),i=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return e},n=void 0!==e,r=Object(i.useState)(t),o=a()(r,2),c=o[0],s=o[1],l=Object(i.useRef)(n);Object(i.useEffect)((function(){l.current=n}),[n]);var u=n?e:c,d=Object(i.useCallback)((function(e){l.current||s(e)}),[]);return[u,d]}},1320:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),i=n(528),o=n(1287),c=function(e){var t=e.mediaType,n=void 0===t?"unknown":t,r=e.mimeType,c=void 0===r?"unknown":r,s=e.name,l=void 0===s?"unknown":s,u=e.testId,d=e.size,f=void 0===d?"large":d,p=Object(i.d)(c,l);if(p){var v=p.icon;return a.a.createElement(o.a,{"data-testid":u,"data-type":p.label,size:f},a.a.createElement(v,{label:p.label}))}return a.a.createElement(o.b,{testId:u,type:n,size:f})}},1321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm7 17l-1.293-1.293a1 1 0 00-1.414 0L4 19h16v-3.6l-3.295-3.624a1 1 0 00-1.447-.034L10 17zm-3.333-6.667a2.667 2.667 0 100-5.333 2.667 2.667 0 000 5.333z"/></svg>'},e,{size:"medium"}));o.displayName="Image24Icon";var c=o;t.default=c},1322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm16 6.673V5.619c0-.38-.322-.656-.72-.615l-8.56.886c-.41.043-.72.383-.72.764v6.462A2.8 2.8 0 008.2 13h-.4A2.8 2.8 0 005 15.8v.4A2.8 2.8 0 007.8 19h.4a2.8 2.8 0 002.8-2.8V8.863l6-.62v3.873a2.8 2.8 0 00-.8-.116h-.4a2.8 2.8 0 00-2.8 2.8v.4a2.8 2.8 0 002.8 2.8h.4a2.8 2.8 0 002.8-2.8V6.673z"/></svg>'},e,{size:"medium"}));o.displayName="Audio24Icon";var c=o;t.default=c},1323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 7.995v8.01c0 .54.446.995.995.995h8.01c.54 0 .995-.446.995-.995v-8.01c0-.54-.446-.995-.995-.995h-8.01C4.455 7 4 7.446 4 7.995zm15.16 7.943c.38.185.84-.066.84-.457V8.52c0-.39-.46-.642-.84-.457L16 9.592v4.817l3.16 1.53z"/></svg>'},e,{size:"medium"}));o.displayName="Video24Icon";var c=o;t.default=c},1324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 18c0 .556.446 1 .995 1h8.01c.54 0 .995-.448.995-1 0-.556-.446-1-.995-1h-8.01c-.54 0-.995.448-.995 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1z"/></svg>'},e,{size:"medium"}));o.displayName="Document24Icon";var c=o;t.default=c},1325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm6 3v3h3V3H9zm3 3v3h3V6h-3zM9 9v3h3V9H9zm3 3v3h3v-3h-3zm-3 3v3h3v-3H9zm3 3v3h3v-3h-3z"/></svg>'},e,{size:"medium"}));o.displayName="Archive24Icon";var c=o;t.default=c},1326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M12 4H8a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2v-6.995h-2V18H8V6h4v2a2 2 0 002 2h3.5a.5.5 0 00.5-.5V8.213a.5.5 0 00-.145-.352L14.61 4.59A2 2 0 0013.19 4H12zM3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3z"/></svg>'},e,{size:"medium"}));o.displayName="Generic24Icon";var c=o;t.default=c},1344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e));o.displayName="MoreIcon";var c=o;t.default=c},1345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e));o.displayName="CheckIcon";var c=o;t.default=c},1383:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return c(e,t);return null},e.exports.format=c,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,a=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function c(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),o=t&&t.thousandsSeparator||"",c=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&i[u.toLowerCase()]||(u=n>=i.pb?"PB":n>=i.tb?"TB":n>=i.gb?"GB":n>=i.mb?"MB":n>=i.kb?"KB":"B");var d=(e/i[u.toLowerCase()]).toFixed(s);return l||(d=d.replace(a,"$1")),o&&(d=d.split(".").map((function(e,t){return 0===t?e.replace(r,o):e})).join(".")),d+c+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=o.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),isNaN(t)?null:Math.floor(i[r]*t)}},1384:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="cubic-bezier(0.215, 0.61, 0.355, 1)"},1385:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(795),a={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},i=function(e){var t=e.day,n=e.month,r=e.year,a=e.hour,i=e.minute,o=e.dayPeriod,c=(void 0===o?"":o).replace(/\./g,"").replace(/\s/g,"");return"".concat(t," ").concat(n," ").concat(r,", ").concat(a,":").concat(i," ").concat(c)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Object(r.a)(t,a);return i(n.formatToParts(e))}},1405:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return N}));var r,a,i=n(11),o=n.n(i),c=n(19),s=n.n(c);!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(r||(r={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(a||(a={}));var l,u={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},d=n(1),f=n.n(d),p=n(46),v=n.n(p),m=a.XResolution,h=a.YResolution;function g(e){return new Promise(function(){var t=s()(o.a.mark((function t(r,a){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=5;break}return t.next=3,n.e(158).then(n.t.bind(null,2e3,7));case 3:i=t.sent,l=i.default||i;case 5:l.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"!==v()(n)||e!==m&&e!==h||!("numerator"in n)||(t[e]=n.numerator),"number"==typeof t[e]&&(t[e]="".concat(t[e]))})),r(t)}catch(e){a(e)}}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}var b,y=n(528);function w(e){return O.apply(this,arguments)}function O(){return(O=s()(o.a.mark((function e(t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=5;break}return e.next=3,n.e(163).then(n.t.bind(null,1999,7));case 3:r=e.sent,b=r.default||r;case 5:return e.next=7,Object(y.a)(t);case 7:return a=e.sent,i=b(a),e.next=11,x(i);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return j.apply(this,arguments)}function j(){return(j=s()(o.a.mark((function e(t){var n,r,a,i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",r={},a=0;case 3:if(!(a<t.length)){e.next=12;break}if("IEND"!==(i=t[a]).name){e.next=7;break}return e.abrupt("break",12);case 7:"iTXt"===i.name&&(n=String.fromCharCode.apply(null,Array.from(i.data))),"pHYs"===i.name&&(c=new DataView(i.data.buffer),1===c.getUint8(8)&&(s=c.getUint32(0),l=c.getUint32(4),r={PixelPerUnitX:s,PixelPerUnitY:l}));case 9:++a,e.next=3;break;case 12:return e.abrupt("return",{iTXt:n,pHYs:r});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var r=n[2];t[r]=n[3]}})),t}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return P.apply(this,arguments)}function P(){return(P=s()(o.a.mark((function e(t){var n,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,n!==r.PNG){e.next=12;break}return e.next=5,w(t);case 5:return a=e.sent,i=a.iTXt,c=a.pHYs,s=I(I({},E(i)),c),e.abrupt("return",s);case 12:if(t.type!==r.JPEG){e.next=16;break}return e.next=15,g(t);case 15:return e.abrupt("return",e.sent);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}var C=n(1277),S=a.Orientation,B=a.XResolution;function M(e){return z.apply(this,arguments)}function z(){return(z=s()(o.a.mark((function e(t){var n,r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=n.width,a=n.height,i=n.tags,c=D(t.file,i),e.abrupt("return",{scaleFactor:c,width:r,height:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(e){}return null}(e);return null!==n?n:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:A(t,B,72)/72:1}var T=function(e){if(e&&e[S]){var t=e[S];if(t){var n=parseInt(t,10);return isNaN(n)?u[t]:n}}return 1};function N(e){return F.apply(this,arguments)}function F(){return(F=s()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return n=e.sent,e.abrupt("return",T(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){try{var r=parseFloat("".concat(e[t]));if(!isNaN(r))return r}catch(e){}return n}function _(e){return L.apply(this,arguments)}function L(){return(L=s()(o.a.mark((function e(t){var n,r,a,i,c,s,l,u,d,f,p,v,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.src,a=n.type,i=0,c=0,e.next=6,k(n);case 6:if((s=e.sent)&&s.PixelXDimension&&(i=A(s,"PixelXDimension",0)),s&&s.PixelXDimension&&(c=A(s,"PixelYDimension",0)),l=T(s),u=Object(C.b)(l),d={type:a,width:i,height:c,naturalWidth:i,naturalHeight:c,tags:s},!(u||0===i&&0===c)){e.next=27;break}return e.prev=13,e.next=16,Object(y.e)(r);case 16:f=e.sent,p=Object(y.f)(f),v=p.width,m=p.height,d.width=v,d.height=m,d.naturalWidth=f.naturalWidth,d.naturalHeight=f.naturalHeight,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(13),e.abrupt("return",null);case 27:return e.abrupt("return",d);case 28:case"end":return e.stop()}}),e,null,[[13,24]])})))).apply(this,arguments)}},1433:function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-card","b":"73.7.0"}')},1811:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1383);function a(e){var t=parseInt("".concat(e),10),n=t<1<<20?0:1;return r.format(t,{unitSeparator:" ",decimalPlaces:n}).toUpperCase()}},1812:function(e,t,n){"use strict";var r=n(1270);t.a=r.a},1813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0119.005 21H4.995A1.995 1.995 0 013 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="ImageIcon";var c=o;t.default=c},1814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19 6.673V15.2a2.8 2.8 0 01-2.8 2.8h-.4a2.8 2.8 0 01-2.8-2.8v-.4a2.8 2.8 0 012.8-2.8h.4c.278 0 .547.04.8.116V8.242l-6 .621V16.2A2.8 2.8 0 018.2 19h-.4A2.8 2.8 0 015 16.2v-.4A2.8 2.8 0 017.8 13h.4c.278 0 .547.04.8.116V6.654c0-.38.31-.721.72-.764l8.56-.886c.398-.041.72.235.72.615v1.054z" fill="currentColor"/></svg>'},e));o.displayName="AudioIcon";var c=o;t.default=c},1815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16.37 14.954L14 13.807v-3.613l2.37-1.148c.285-.138.63.05.63.343v5.222c0 .293-.345.481-.63.343" fill="inherit"/><rect fill="inherit" x="7" y="9" width="6" height="6" rx="1"/></g></svg>'},e));o.displayName="MediaServicesVideoIcon";var c=o;t.default=c},1816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="DocumentIcon";var c=o;t.default=c},1817:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><rect x="8" y="6" width="8" height="2" rx="1"/><rect x="8" y="9" width="8" height="2" rx="1"/><rect x="8" y="12" width="4" height="2" rx="1"/><path d="M7 4v16h10V4H7zm-2-.01C5 2.892 5.897 2 7.006 2h9.988C18.102 2 19 2.898 19 3.99v16.02c0 1.099-.897 1.99-2.006 1.99H7.006A2.003 2.003 0 015 20.01V3.99z" fill-rule="nonzero"/></g></svg>'},e));o.displayName="PageIcon";var c=o;t.default=c},1818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M9 6.999C9 6.447 9.443 6 9.999 6H12v3H9.999A.996.996 0 019 8.001V6.999zM12 9h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12V9zm-3 3.999c0-.552.443-.999.999-.999H12v3H9.999A.996.996 0 019 14.001v-1.002zM12 15h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12v-3z" fill="inherit"/></g></svg>'},e));o.displayName="MediaServicesZipIcon";var c=o;t.default=c},1928:function(e,t,n){"use strict";var r=n(22),a=n.n(r),i=n(1),o=n.n(i),c=n(35),s=n.n(c),l=n(21),u=n.n(l),d=n(0),f=n.n(d),p=n(13),v=n(1233),m=n(535),h=n(155),g=n(1319);var b=n(1318),y=n(141),w=n.n(y),O=n(548),x=n(790),j=n(16),E=n(1252),R=n(1306),I=n(719);var k=["onClose","setInitialFocusRef"],P=function(e){var t=e.onClose,n=e.setInitialFocusRef,r=s()(e,k),i=Object(d.useContext)(R.a).menuItemRefs;return n&&n(i[0]),f.a.createElement(I.a,a()({role:"menu",onClick:function(e){i.some((function(t){var n,r="checkbox"===(n=t.getAttribute("role"))||"menuitemcheckbox"===n||function(e){var t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!r}))&&t&&t()}},r))},C=Object(d.createContext)({setItemState:h.a,getItemState:function(){},setGroupState:h.a,getGroupState:function(){return{}}}),S=function(e){var t=e.children,n=Object(d.useRef)({}),r=Object(d.useMemo)((function(){return{setItemState:function(e,t,r){n.current[e]||(n.current[e]={}),n.current[e][t]=r},getItemState:function(e,t){if(n.current[e])return n.current[e][t]},setGroupState:function(e,t){n.current[e]=t},getGroupState:function(e){return n.current[e]||{}}}}),[]);return f.a.createElement(C.Provider,{value:r},t)};function B(){return Object(d.useRef)("".concat("ds--dropdown--").concat(Math.random().toString(16).substr(2,8))).current}var M=["ref"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=Object(j.i)(),N=Object(p.c)({display:"flex",minWidth:"".concat(20*T,"px"),padding:"".concat(2.5*T,"px"),justifyContent:"center"}),F="calc(100vh - ".concat(2*T,"px)"),A=["bottom","bottom-end","right-start","left-start","auto"];t.a=function(e){var t=e.defaultOpen,n=void 0!==t&&t,r=e.isOpen,i=e.onOpenChange,o=void 0===i?h.a:i,c=e.children,l=e.placement,f=void 0===l?"bottom-start":l,y=e.trigger,I=e.shouldFlip,k=void 0===I||I,C=e.isLoading,z=void 0!==C&&C,T=e.autoFocus,_=void 0!==T&&T,L=e.testId,U=e.statusLabel,V=void 0===U?"Loading":U,H=e.zIndex,W=void 0===H?j.j.modal():H,G=Object(g.a)(r,(function(){return n})),X=u()(G,2),Y=X[0],K=X[1],q=Object(d.useState)(!1),J=u()(q,2),$=J[0],Z=J[1],Q=Object(d.useCallback)((function(e){var t=!Y,n=e.clientX,r=e.clientY;"keydown"===e.type?Z(!0):0!==n&&0!==r||Z(!0),K(t),o({isOpen:t,event:e})}),[o,Y,K]),ee=Object(d.useCallback)((function(){K(!1),o({isOpen:!1})}),[o,K]),te=function(){var e=Object(d.useState)(!1),t=u()(e,2),n=t[0],r=t[1],a=Object(d.useRef)({onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}});return Object(d.useEffect)((function(){return function(){return r(!1)}}),[]),{isFocused:n,bindFocus:a.current}}(),ne=te.isFocused,re=te.bindFocus;Object(b.a)((function(e){e.key===m.b&&(e.preventDefault(),Q(e))}),ne);var ae=B();return Object(p.d)(S,null,Object(p.d)(O.a,{id:Y?ae:void 0,shouldFlip:k,isOpen:Y,onClose:ee,zIndex:W,placement:f,fallbackPlacements:A,testId:L&&"".concat(L,"--content"),shouldUseCaptureOnOutsideClick:!0,trigger:function(e){if("function"==typeof y){var t=e.ref,n=s()(e,M);return y(D(D(D({},n),re),{},{triggerRef:t,isSelected:Y,onClick:Q,testId:L&&"".concat(L,"--trigger")}))}return Object(p.d)(v.a,a()({},re,{ref:e.ref,"aria-controls":e["aria-controls"],"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],isSelected:Y,iconAfter:Object(p.d)(w.a,{size:"medium",label:"expand"}),onClick:Q,testId:L&&"".concat(L,"--trigger")}),y)},content:function(e){var t=e.setInitialFocusRef;return Object(p.d)(R.b,null,Object(p.d)(P,{maxHeight:F,maxWidth:800,onClose:ee,setInitialFocusRef:$||_?t:void 0},z?Object(p.d)("div",{css:N},Object(p.d)(x.a,{size:"small"}),Object(p.d)(E.a,{role:"status"},V)):c))}}))}},1931:function(e,t,n){"use strict";var r=n(22),a=n.n(r),i=n(35),o=n.n(i),c=n(0),s=n.n(c),l=n(1251),u=n(1237),d=n(1250),f=n(1306);var p=function(){var e=Object(c.useContext)(f.a).registerRef,t=Object(c.useRef)(null);return Object(c.useEffect)((function(){null!==t.current&&e(t.current)}),[e]),t},v=["component","elemBefore","elemAfter","shouldTitleWrap","shouldDescriptionWrap"];t.a=function(e){var t=e.component,n=e.elemBefore,r=e.elemAfter,i=e.shouldTitleWrap,c=void 0===i||i,f=e.shouldDescriptionWrap,m=void 0===f||f,h=o()(e,v),g=p();return t?s.a.createElement(u.a,a()({component:t,iconBefore:n,iconAfter:r,shouldTitleWrap:c,shouldDescriptionWrap:m},h)):e.href?s.a.createElement(d.a,a()({href:e.href,iconBefore:n,iconAfter:r,role:"menuitem",ref:g,shouldTitleWrap:c,shouldDescriptionWrap:m},h)):s.a.createElement(l.a,a()({role:"menuitem",iconBefore:n,iconAfter:r,ref:g,shouldTitleWrap:c,shouldDescriptionWrap:m},h))}},2081:function(e,t,n){"use strict";n.r(t),n.d(t,"CardBase",(function(){return Bi})),n.d(t,"Card",(function(){return Mi}));var r=n(20),a=n.n(r),i=n(11),o=n.n(i),c=n(19),s=n.n(c),l=n(8),u=n.n(l),d=n(9),f=n.n(d),p=n(4),v=n.n(p),m=n(12),h=n.n(m),g=n(14),b=n.n(g),y=n(6),w=n.n(y),O=n(1),x=n.n(O),j=n(0),E=n.n(j),R=n(65),I=n.n(R),k=n(1433),P=n(327),C=n(1254),S=n(326),B=n.n(S),M=n(1423),z=n(163),D=n(1343),T=n(236),N=n(482),F=n(1244),A=n(387),_=n(237),L=n(1110),U=n(22),V=n.n(U),H=n(35),W=n.n(H),G=["style","imageRef"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={position:"absolute",left:"50%",top:"50%",objectFit:"contain",imageOrientation:"none"},q=function(e){var t=e.style,n=e.imageRef,r=W()(e,G);return E.a.createElement("img",V()({},r,{ref:n,style:Y(Y({},K),t)}))},J=n(1277);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Z=function(e){h()(n,e);var t=$(n);function n(e){var r;return u()(this,n),r=t.call(this,e),x()(v()(r),"onImageLoad",(function(e){if(r.imageRef&&r.imageRef.current){var t=r.props.onImageLoad;r.setState({isImageLoaded:!0,imgWidth:r.imageRef.current.naturalWidth,imgHeight:r.imageRef.current.naturalHeight}),t&&t(e.currentTarget)}})),r.imageRef=E.a.createRef(),r.state={isImageLoaded:!1,imgWidth:0,imgHeight:0,parentWidth:1/0,parentHeight:1/0},r}return f()(n,[{key:"componentDidMount",value:function(){var e=I.a.findDOMNode(this).parentElement;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({parentWidth:n,parentHeight:r})}}},{key:"render",value:function(){var e=this.props,t=e.crop,n=e.stretch,r=e.dataURI,a=e.previewOrientation,i=e.crossOrigin,o=e.onImageError,c=e.alt,s=void 0===c?"":c,l=e.loading,u=e.forceSyncDisplay,d=this.state,f=d.parentWidth,p=d.parentHeight,v=d.imgWidth,m=d.imgHeight,h=d.isImageLoaded,g=f/p,b=v/m,y="100%",w=t,O=!t,x=Object(J.b)(a||1);x&&(b=1/b,y="".concat(Math.ceil(100*b),"%"));var j=b>g;x&&v>m&&(O||j||w&&!j)&&(y="".concat(Math.ceil(1/b*100),"%"));var R=u||h||O&&!x,I={transform:"translate(-50%, -50%)"};if(n?O&&j?I.width=y:O&&!j||w&&j?I.height=y:w&&!j&&(I.width=y):O?(I.maxWidth=y,I.maxHeight=y):w&&j?I.maxHeight=y:w&&!j&&(I.maxWidth=y),R||(I.display="none"),a&&a>1){var k=Object(J.a)(a);I.transform+=" ".concat(k)}return E.a.createElement(q,{loading:l,"data-testid":"media-image",draggable:!1,alt:s,style:I,onLoad:this.onImageLoad,onError:o,imageRef:this.imageRef,src:r,crossOrigin:i})}}]),n}(j.Component);x()(Z,"defaultProps",{crop:!0,stretch:!1,forceSyncDisplay:!1});var Q,ee=n(7),te=n.n(ee),ne=n(38),re=n(358),ae=ne.a.div(Q||(Q=te()(["\n  ",";\n"])),(function(e){return e.inline?"display: inline;":""}));ae.displayName="Ellipsify";var ie,oe=function(e){var t=e.text,n=e.lines,r=e.endLength,a=e.inline,i=e.testId,o=Object(j.useRef)(null);return Object(j.useEffect)((function(){o.current&&ce(o.current,{lines:n,endLength:r})}),[o,n,r]),E.a.createElement(ae,{className:"ellipsed-text",ref:o,"aria-label":t,inline:a,"data-testid":i},t)},ce=function(e,t){var n=t.lines,r=e.getBoundingClientRect().height,a=e.textContent;e.textContent="a";var i=e.getBoundingClientRect().height,o=r/i,c=i*n;if(o<=n)e.textContent=a;else{var s=a,l="number"==typeof t.endLength&&t.endLength>=0?t.endLength:8,u=a.substr(0,a.length*n/o-l),d=a.substr(a.length-l,l);if(e.textContent=s="".concat(u,"...").concat(d),e.getBoundingClientRect().height>c){var f=u.substr(0,u.length-u.length/n*.25);s="".concat(f,"...").concat(d)}se((function(){return e.textContent=s}))}},se=re.canUseDOM&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,1)},le=n(572),ue=n.n(le),de=n(106),fe=n.n(de),pe=n(1345),ve=n.n(pe),me=n(1813),he=n.n(me),ge=n(1814),be=n.n(ge),ye=n(1818),we=n.n(ye),Oe=n(1815),xe=n.n(Oe),je=n(1816),Ee=n.n(je),Re=n(1817),Ie=n.n(Re),ke=n(36),Pe=n(2),Ce={image:Pe.Y200,audio:Pe.P200,video:"#ff7143",doc:Pe.B300,unknown:"#3dc7dc",archive:""},Se=ke.c.div(ie||(ie=te()(["\n  display: inline-flex;\n  color: ",";\n"])),(function(e){var t=e.type;return Ce[t]||Ce.unknown}));function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Me,ze={image:he.a,audio:be.a,video:xe.a,doc:Ee.a,unknown:Ie.a,archive:we.a},De=function(e){h()(n,e);var t=Be(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0===n?"small":n,a=e.className,i=t&&ze[t]||ze.unknown;return E.a.createElement(Se,{type:t||"unknown"},E.a.createElement(i,{label:"media-type",size:r,className:a}))}}]),n}(E.a.Component),Te=n(270),Ne=ke.c.div(Me||(Me=te()(["\n  float: left;\n  margin-right: 6px;\n  position: relative;\n  top: 1px;\n  img {\n    ",";\n  }\n"])),Object(Te.f)("12px !important"));function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Ae,_e=function(e){h()(n,e);var t=Fe(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.mediaType,n=e.iconUrl,r=e.style,a=t||"unknown",i=E.a.createElement(De,{type:t,size:"small",className:"file-type-icon"}),o=n?E.a.createElement("img",{src:n,className:"custom-icon",alt:a}):i;return E.a.createElement(Ne,{style:r,className:"file-type-icon"},o)}}]),n}(j.Component),Le=n(565),Ue=n.n(Le),Ve=ke.c.div(Ae||(Ae=te()(["\n  display: flex;\n  color: #ff991f;\n"])));function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var We=function(e){h()(n,e);var t=He(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props.size;return E.a.createElement(Ve,null,E.a.createElement(Ue.a,{label:"Error",size:e}))}}]),n}(j.Component);x()(We,"defaultProps",{size:"small"});var Ge,Xe,Ye,Ke=n(442),qe=Object(ke.c)(Ke.a)(Ge||(Ge=te()(["\n  display: flex;\n  position: relative;\n  line-height: 0;\n"])));!function(e){e.default="default",e.filled="filled"}(Ye||(Ye={}));var Je=ke.c.div(Xe||(Xe=te()(["\n  ","\n"])),(function(e){var t=e.variant;return"\n    ".concat(Te.c," ").concat(Te.b," ").concat(Object(Te.f)(26)," color: ").concat(Pe.N500,";\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    ").concat(function(e){return"filled"===e?"\n    background: ".concat(Pe.N0,";\n    margin-right: 8px;\n    opacity: 0.8;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "):"\n    &:hover {\n      background-color: rgba(9, 30, 66, 0.06);\n    }\n  "}(t),"\n  ")}));function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Ze=function(e){h()(n,e);var t=$e(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"onMouseDown",(function(e){e.preventDefault()})),e}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.triggerColor,r=e.onClick,a=e.variant;return E.a.createElement(Je,{"data-testid":"media-card-primary-action",onClick:r,onMouseDown:this.onMouseDown,style:{color:n},variant:a},t)}}]),n}(j.Component),Qe=n(1344),et=n.n(Qe),tt=n(1931),nt=n(1928),rt=n(1812),at=n(573),it=n(134),ot=n(1253),ct=n(525),st=n(354);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var ut=function(e){h()(n,e);var t=lt(n);function n(e,r){var a;return u()(this,n),(a=t.call(this,e)).primaryReason=e,a.secondaryError=r,Object.setPrototypeOf(v()(a),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace(v()(a),this instanceof n?this.constructor:void 0),a}return f()(n)}(n.n(st)()(Error)),dt=function(e){h()(n,e);var t=lt(n);function n(e,r){var a;return u()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return f()(n)}(ut),ft=function(e){h()(n,e);var t=lt(n);function n(e,r){var a;return u()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return f()(n)}(ut),pt=function(e){h()(n,e);var t=lt(n);function n(e,r){var a;return u()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return f()(n)}(ut),vt=function(e){h()(n,e);var t=lt(n);function n(e){return u()(this,n),t.call(this,function(e){switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}}(e))}return f()(n)}(ut);function mt(e){return e instanceof ut}var ht=function(e){return mt(e)&&"local-preview-unsupported"===e.primaryReason};var gt=function(e){return e&&"upload"===e.primaryReason};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,mediaUploadApiV2:!1},Ot=Object(L.b)(wt),xt=Object(L.a)(wt),jt=function(e){return mt(e)?e.primaryReason:"nativeError"},Et=function(e){if(mt(e)&&e.secondaryError){var t=Object(at.a)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},Rt=function(e){return mt(e)&&e.secondaryError?e.secondaryError.message:e.message},It=function(e){if(mt(e)&&e.secondaryError&&Object(it.b)(e.secondaryError))return e.secondaryError.metadata},kt=function(e){return{failReason:jt(e),error:Et(e),errorDetail:Rt(e)}};function Pt(e,t){t&&t(e).fire(ot.a)}var Ct=function(e){return Object(ct.a)(ot.a)(e)},St=["triggerRef"];function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Mt=Object(P.a)({onClick:Ct({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenu",attributes:{}})})((function(e){return E.a.createElement(Je,e)})),zt=function(e){return E.a.createElement(tt.a,V()({"data-testid":"media-card-actions-menu-item"},e))},Dt=function(e,t){var n=e.label,r=e.handler,a=Object(P.a)({onClick:Ct({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenuItem",attributes:{label:n}})})(zt);return E.a.createElement(a,{key:t,onClick:r},n)},Tt=function(e){h()(n,e);var t=Bt(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.triggerColor,r=e.onOpenChange,a=e.triggerVariant;return t.length>0?E.a.createElement(nt.a,{testId:"media-card-actions-menu",onOpenChange:r,trigger:function(e){var t=e.triggerRef,r=W()(e,St);return E.a.createElement(Mt,V()({variant:a,style:{color:n},ref:t},r),E.a.createElement(et.a,{label:"more"}))}},E.a.createElement(rt.a,null,t.map(Dt))):null}}]),n}(j.Component);function Nt(e){var t=e.children;return E.a.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault()}},t)}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var At=function(e){return E.a.createElement(Ze,e)},_t=function(e){h()(n,e);var t=Ft(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props.actions;if(!e.length)return null;var t=e.find(Lt),n=e.filter(Ut(t));return E.a.createElement(Nt,null,E.a.createElement(qe,null,t?this.renderActionIconButton(t,!0):null,this.renderOtherActionButtons(n)))}},{key:"renderActionIconButton",value:function(e,t){var n=this.props,r=n.triggerColor,a=n.variant,i=e.icon,o=e.handler,c=e.label,s=t?"mediaCardPrimaryActionButton":"mediaCardSecondaryActionButton",l=Object(P.a)({onClick:Ct({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:s,attributes:{label:c}})})(At);return E.a.createElement(l,{icon:i,triggerColor:r,onClick:function(){return o()},variant:a})}},{key:"renderOtherActionButtons",value:function(e){if(0===e.length)return null;var t=this.props,n=t.triggerColor,r=t.onToggle,a=t.variant,i=e.find(Lt),o=e.filter(Ut(i));return i&&0===o.length?this.renderActionIconButton(i,!1):E.a.createElement(Tt,{actions:e,triggerColor:n,onOpenChange:r,triggerVariant:a})}}]),n}(j.Component);function Lt(e){return!!e.icon}function Ut(e){return function(t){return t!==e}}var Vt,Ht,Wt,Gt,Xt,Yt,Kt,qt,Jt,$t,Zt,Qt,en=n(272),tn=n(1384),nn=n(66),rn=ke.c.div(Vt||(Vt=te()(["\n  "," "," background-color: ",';\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border-radius: 20px;\n  color: #798599; /* TODO FIL-3884: Align color with new design */\n  display: flex;\n  opacity: 0;\n\n  &.selected {\n    opacity: 1;\n    color: white;\n    background-color: #0052cc; /* TODO FIL-3884: Align with tickbox icons */\n  }\n\n  /* Enforce dimensions of "tick" icon */\n  svg {\n    position: absolute;\n    width: 14px;\n  }\n'])),Object(Te.f)(14),Object(en.d)(),Object(en.c)("#ffffff",.5)),an=ke.c.div(Ht||(Ht=te()(["\n  "," "," "," display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  background: transparent;\n  transition: 0.3s background ",", 0.3s border-color;\n  padding: 16px;\n\n  "," &:not(.persistent):hover, &.active {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n\n    .bottom-row {\n      .delete-btn {\n        display: flex;\n      }\n    }\n  }\n\n  &.noHover:hover {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n  }\n\n  .file-type-icon {\n    display: block;\n  }\n\n  &:not(.persistent) {\n    &:not(.error, .noHover):hover {\n      background-color: ",";\n    }\n\n    &.selectable {\n      &.selected {\n        background-color: ",";\n\n        &:hover {\n          /* TODO FIL-3884 add new overlay with rgba(colors.N900, 0.16) */\n        }\n\n        .title,\n        .bottom-row,\n        .file-size,\n        .more-btn {\n          color: ",";\n        }\n      }\n    }\n  }\n\n  &.persistent {\n    &:not(.active) {\n      overflow: hidden;\n    }\n\n    .top-row {\n      .title {\n        transition: opacity 0.3s;\n        opacity: 0;\n        color: white;\n        visibility: hidden;\n      }\n    }\n\n    .bottom-row {\n      opacity: 0;\n      transition: transform 0.2s, opacity 0.5s;\n      /* This is the height of the overlay footer, needs to be present now since the parent uses flex and 100% doesn't look right anymore */\n      transform: translateY(35px);\n\n      .file-type-icon {\n        display: none;\n      }\n\n      .file-size {\n        color: white;\n        display: none;\n      }\n\n      .more-btn {\n        color: ",";\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n\n      .delete-btn {\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n    }\n\n    &:hover,\n    &.active {\n      background-color: ",";\n\n      .title {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .file-type-icon,\n      .file-size {\n        display: block;\n      }\n\n      .more-btn {\n        "," color: ",";\n      }\n\n      .delete-btn {\n        display: flex;\n      }\n\n      .bottom-row {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    /* Selectable */\n    &.selectable {\n      &:hover {\n        .tickbox {\n          opacity: 1;\n        }\n      }\n\n      &.selected {\n        .tickbox {\n          background-color: "," !important;\n          border-color: "," !important;\n          color: white;\n        }\n      }\n    }\n  }\n\n  &.error {\n    .top-row {\n      overflow: visible;\n    }\n    &:hover,\n    &.active {\n      .top-row {\n        .title {\n          color: ",";\n        }\n      }\n    }\n  }\n"])),Object(Te.f)(),Object(Te.a)(),Te.b,tn.a,(function(e){var t=e.hasError,n=e.noHover;return t||n?"\n        cursor: default;\n\n        &:hover {\n          background: transparent;\n        }\n      ":""}),Pe.B400,Pe.N800,Object(en.c)(Pe.N900,.06),Pe.B200,Pe.N0,Pe.N0,Object(en.c)(Pe.N900,.5),en.b,Pe.N0,Pe.B200,Pe.B200,Pe.N800),on=ke.c.div(Wt||(Wt=te()(["\n  height: 24px;\n  display: flex;\n  align-items: center;\n"]))),cn=ke.c.div(Gt||(Gt=te()(["\n  width: 100%;\n  position: relative;\n  box-sizing: border-box;\n  vertical-align: middle;\n"]))),sn=ke.c.div(Xt||(Xt=te()([""]))),ln=ke.c.div(Yt||(Yt=te()(["\n  display: flex;\n  align-items: center;\n  height: 16px;\n"]))),un=ke.c.div(Kt||(Kt=te()([""]))),dn=ke.c.div(qt||(qt=te()(["\n  "," display: inline-block;\n  vertical-align: middle;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  max-width: ~'calc(100% - 24px)';\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: auto 3px;\n"])),en.a,Pe.N70),fn=Object(ke.c)(dn)(Jt||(Jt=te()(["\n  font-weight: normal;\n"]))),pn=ke.c.div($t||($t=te()(["\n  box-sizing: border-box;\n  word-wrap: break-word;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"])),Object(nn.a)({light:Pe.N800,dark:Pe.DN900})),vn=ke.c.div(Zt||(Zt=te()(["\n  "," font-size: 12px;\n  color: #5e6c84;\n"])),Object(Te.d)("100px")),mn=ke.c.div(Qt||(Qt=te()(["\n  display: flex;\n  align-items: center;\n"])));function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var gn=function(e){h()(n,e);var t=hn(n);function n(e){var r;return u()(this,n),r=t.call(this,e),x()(v()(r),"onMenuToggle",(function(e){r.setState({isMenuExpanded:e.isOpen})})),r.state={isMenuExpanded:!1},r}return f()(n,[{key:"wrapperClassNames",get:function(){var e=this.props,t=e.error,n=e.noHover,r=e.selectable,a=e.selected,i=e.mediaType,o=e.persistent,c=this.state.isMenuExpanded;return t?fe()("overlay",{error:t,active:c}):fe()("overlay",i,{active:c,selectable:r,selected:a,persistent:!o,noHover:n})}},{key:"render",value:function(){var e=this.props,t=e.cardStatus,n=e.error,r=e.noHover,a=e.mediaName,i=e.persistent,o=e.selected,c=e.actions,s=function(e,t,n,r){return n||!t||"uploading"===e&&!r?"":t}(t,a,n,o),l=i?void 0:"white";return E.a.createElement(an,{hasError:!!n,noHover:r,className:this.wrapperClassNames},E.a.createElement(sn,{className:"top-row"},this.errorLine(),E.a.createElement(pn,{className:"title"},s?E.a.createElement(oe,{testId:"media-card-file-name",text:s,lines:2}):null),this.tickBox()),E.a.createElement(ln,{className:"bottom-row"},E.a.createElement(cn,null,this.bottomLeftColumn()),E.a.createElement(un,null,c?E.a.createElement(_t,{actions:c,onToggle:this.onMenuToggle,triggerColor:l}):null)))}},{key:"errorLine",value:function(){var e=this.props,t=e.error,n=e.alt;return t&&E.a.createElement(E.a.Fragment,null,E.a.createElement(on,null,E.a.createElement(We,null),E.a.createElement(dn,null,t)),n&&E.a.createElement(on,null,E.a.createElement(fn,null,n)))}},{key:"tickBox",value:function(){var e=this.props,t=e.selected,n=e.selectable,r=E.a.createElement(ve.a,{label:"tick"}),a=fe()("tickbox",{selected:t});return n&&E.a.createElement(rn,{className:a}," ",r," ")}},{key:"bottomLeftColumn",value:function(){if(!this.props.error){var e=this.props,t=e.mediaType,n=e.subtitle,r=e.icon,a=fe()("metadata"),i=t||r?E.a.createElement(_e,{mediaType:t,iconUrl:r}):null,o=n?E.a.createElement(vn,{className:"file-size"},n):null;return E.a.createElement("div",null,E.a.createElement(mn,{className:a},i,o))}}},{key:"removeBtnClick",value:function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}}}]),n}(j.Component);x()(gn,"defaultProps",{actions:[],mediaName:""});var bn,yn,wn,On,xn,jn,En,Rn,In,kn,Pn=n(694),Cn=Object(ke.c)(Ke.a)(bn||(bn=te()(["\n  ","\n  ","\n  ","\n\n  line-height: normal;\n  position: relative;\n\n  ","\n\n  "," .wrapper {\n    ",";\n    display: block;\n    height: inherit;\n    position: relative;\n\n    .img-wrapper {\n      position: relative;\n      width: inherit;\n      height: inherit;\n      overflow: hidden;\n      display: block;\n      ","\n    }\n  }\n"])),(function(e){return e.disableOverlay?"":Ke.b}),Te.b,(function(e){var t=e.mediaType;return"background: ".concat("image"===t?"transparent":Object(nn.a)({light:Pe.N20,dark:Pe.DN50})(e),";")}),Pn.a,Object(Te.f)(),Te.b,Te.b),Sn=ke.c.div(yn||(yn=te()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  /* we want to override default icon size and hover state */\n  &:hover > * {\n    width: 64px;\n    height: 64px;\n  }\n"]))),Bn=ke.c.div(wn||(wn=te()(["\n  background: rgba(23, 43, 77, 0.7);\n  border-radius: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  width: 56px;\n  height: 56px;\n"]))),Mn=ke.c.div(On||(On=te()(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]))),zn=ke.c.div(xn||(xn=te()(["\n  ","\n  ","\n  border-radius: inherit;\n  background-color: rgba(9, 30, 66, 0.5);\n"])),Object(Te.a)(),Object(Te.f)()),Dn=ke.c.div(jn||(jn=te()(["\n  "," width: 100%;\n  padding: 8px;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n  word-wrap: break-word;\n"])),Object(Te.a)(),Pe.N0),Tn=ke.c.div(En||(En=te()(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 8px;\n  color: ",";\n"])),Pe.N0),Nn=ke.c.div(Rn||(Rn=te()(["\n  flex-grow: 1;\n\n  /*\n    force the height to always be 20px (the height of the cancel icon),\n    so that the height of the progress bar doesn't jump when cards with\n    and without a cancel icon are rendered side-by-side.\n  */\n  height: ","px;\n\n  /*\n    vertically center the progress bar within the 20px, keeping the progress bar full width\n  */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),26),Fn=ke.c.div(In||(In=te()(["\n  margin-left: 4px;\n  /*\n    button must appear above overlay\n   */\n  z-index: 2;\n"]))),An=n(697),_n=n(206),Ln=function(e,t,n,r,a){return!("doc"===r||!a&&"file"===t)&&(!!n&&("external-image"===t||a&&Object(_n.isMimeTypeSupportedByBrowser)(a)||"complete"===e||"loading-preview"===e))},Un=ke.c.div(kn||(kn=te()(["\n  "," z-index: 30;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  .progressBar {\n    width: 0%;\n    height: 3px;\n    transition: width 0.25s ease-in;\n    background-color: white;\n  }\n"])),Te.b);function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Hn=function(e){h()(n,e);var t=Vn(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){if("number"!=typeof this.props.progress)return null;var e=Math.min(1,Math.max(0,this.props.progress)),t={width:"".concat(100*e,"%")};return E.a.createElement(Un,null,E.a.createElement("div",{className:"progressBar",style:t}))}}]),n}(j.Component),Wn=n(1125);function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Xn=function(e){h()(n,e);var t=Gn(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"wasThumbnailDisplayed",!1),x()(v()(e),"renderCardContents",(function(){var t=e.props,n=t.status,r=t.mediaType,a=t.fileSize;if("error"===n)return e.renderErrorContents();if("failed-processing"===n)return e.renderFailedContents();var i=""===a&&["processing","loading-preview"].includes(n);return"video"===r||e.isFileCardImageReadyForDisplay||i?e.renderSuccessCardContents():e.renderLoadingContents()})),x()(v()(e),"renderLoadingContents",(function(){return E.a.createElement("div",{className:"wrapper"},E.a.createElement("div",{className:"img-wrapper"},E.a.createElement(An.a,null)))})),x()(v()(e),"renderErrorContents",(function(){var t=e.props,n=t.status,r=t.error,a=t.alt,i=t.mediaName,o=t.mediaType,c=t.actions,s=t.fileSize;return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"wrapper"}),E.a.createElement(gn,{cardStatus:n,error:r,persistent:!0,mediaName:i,mediaType:o,alt:a,subtitle:s,actions:c}))})),x()(v()(e),"renderFailedContents",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.actions,o=t.fileSize;return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"wrapper"}),E.a.createElement(gn,{cardStatus:n,noHover:!0,persistent:!0,mediaName:r,mediaType:a,subtitle:o,actions:i}))})),x()(v()(e),"renderUploadingCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.dataURI,o=t.selectable,c=t.selected,s="doc"===a||!i;return E.a.createElement(gn,{cardStatus:n,persistent:s,mediaName:r,selectable:o,selected:c})})),x()(v()(e),"renderPlayButton",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.mediaType,i=t.mimeType,o=t.selectable,c=t.dataURI;return"video"!==a||o&&!Ln(n,r,c,a,i)?null:E.a.createElement(Sn,null,E.a.createElement(Bn,null,E.a.createElement(ue.a,{testId:"media-card-play-button",label:"play",size:"large"})))})),x()(v()(e),"onImageLoad",(function(){var t=e.props,n=t.onImageLoad,r=t.cardPreview;n&&n(r)})),x()(v()(e),"onImageError",(function(){var t=e.props,n=t.onImageError,r=t.cardPreview;n&&n(r)})),x()(v()(e),"renderMediaImage",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.dataURI,i=t.mediaType,o=t.mimeType,c=t.previewOrientation,s=t.onDisplayImage,l=t.alt;return Ln(n,r,a,i,o)?(!e.wasThumbnailDisplayed&&s&&"image"===i&&(s(),e.wasThumbnailDisplayed=!0),E.a.createElement(Z,{dataURI:a,alt:l,crop:e.isCropped,stretch:e.isStretched,previewOrientation:c,onImageLoad:e.onImageLoad,onImageError:e.onImageError})):null})),x()(v()(e),"renderProgressBar",(function(){var t=e.props,n=t.mediaName,r=t.progress,a=t.actions;return"uploading"!==t.status?null:E.a.createElement(Mn,null,E.a.createElement(zn,null,E.a.createElement(Dn,null,E.a.createElement(oe,{testId:"media-card-file-name",text:n||"",lines:2})),E.a.createElement(Tn,null,E.a.createElement(Nn,null,E.a.createElement(Hn,{progress:r})),E.a.createElement(Fn,null,a?E.a.createElement(_t,{actions:a,triggerColor:"white"}):null))))})),x()(v()(e),"renderSuccessCardContents",(function(){var t=e.props,n=t.disableOverlay,r=t.selectable,a=t.status,i=null;return n||("uploading"===a?r&&(i=e.renderUploadingCardOverlay()):i=e.renderSuccessCardOverlay()),E.a.createElement("div",{className:"wrapper"},E.a.createElement("div",{className:"img-wrapper"},e.renderMediaImage(),e.renderProgressBar(),e.renderPlayButton()),i)})),x()(v()(e),"renderSuccessCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.fileSize,o=t.dataURI,c=t.selectable,s=t.selected,l=t.actions,u="doc"===a||!o;return E.a.createElement(gn,{cardStatus:n,persistent:u,mediaName:r,mediaType:a,selectable:c,selected:s,subtitle:i,actions:l})})),e}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.disableOverlay,n=e.selectable,r=e.selected,a=e.mediaType,i=e.progress,o=e.status,c=e.mediaName;return E.a.createElement(Cn,{"data-testid":"media-file-card-view","data-test-media-name":c,"data-test-status":o,"data-test-progress":i,"data-test-selected":!!r||void 0,disableOverlay:t,selectable:n,selected:r,mediaType:a,className:"".concat(Wn.b," ").concat(r?Wn.a:"")},this.renderCardContents())}},{key:"isFileCardImageReadyForDisplay",get:function(){var e=this.props,t=e.dataURI,n=e.status;return!!t||!["loading","processing","loading-preview"].includes(n)}},{key:"isCropped",get:function(){return"crop"===this.props.resizeMode}},{key:"isStretched",get:function(){return"stretchy-fit"===this.props.resizeMode}}]),n}(j.Component);x()(Xn,"defaultProps",{resizeMode:"crop",disableOverlay:!1});var Yn=n(693),Kn=n(382),qn=n(544),Jn=n(305),$n=n(569),Zn=n(545);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t){return e.map((function(e){return er(er({},e),{},{handler:function(){e.handler({type:"file",details:t})}})}))}var nr=n(491),rr=n(153),ar=function(e){return"error"===e&&E.a.createElement(nr.a,rr.a.failed_to_load)},ir=n(1811),or=n(692);var cr,sr,lr,ur,dr,fr=function(e){var t=e.cardPreview,n=e.alt,r=e.resizeMode,a=e.onImageLoad,i=e.onImageError,o=e.onDisplayImage,c=e.mediaType,s=e.nativeLazyLoad,l=e.forceSyncDisplay;Object(j.useEffect)((function(){"image"===c&&o&&o()}),[c,o]);return E.a.createElement(Z,V()({dataURI:t.dataURI,alt:n,previewOrientation:t.orientation,onImageLoad:function(){a&&a(t)},onImageError:function(){i&&i(t)},loading:s?"lazy":void 0,forceSyncDisplay:l},function(e){return{crop:"crop"===e,stretch:"stretchy-fit"===e}}(r)))},pr=n(1307),vr=n.n(pr),mr=n(172),hr=/^#[0-9A-F]{6}$/i,gr=ke.c.div(cr||(cr=te()(["\n  ","\n"])),(function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return"\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    background-color: ".concat(Object(en.c)(n&&hr.test(n)?n:Pe.N0,.8),";\n    color: inherit;\n    cursor: inherit;\n    pointer-events: none;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    ").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr.a.SMALL,t=mr.c[e],n=t.titleBox.verticalPadding,r=t.titleBox.horizontalPadding,a=Object(mr.b)(e);return"\n    height: ".concat(a,"px;\n    padding: ").concat(n,"px ").concat(r,"px;\n  ")}(t),"\n  ")}));gr.displayName="TitleBoxWrapper";var br="\n  white-space: nowrap;\n  overflow: hidden;\n",yr=ke.c.div(sr||(sr=te()(["\n  ","\n"])),(function(e){var t=e.hasIconOverlap;return"\n    font-weight: 600;\n    ".concat(br,"\n    ").concat(t&&"\n  padding-right: 10px;\n","\n  ")}));yr.displayName="FailedTitleBoxHeader";var wr=ke.c.div(lr||(lr=te()(["\n  ","\n"])),(function(e){var t=e.hasIconOverlap;return"\n    text-overflow: ellipsis;\n    ".concat(br,"\n    ").concat(t&&"\n  padding-right: 10px;\n","\n  ")}));wr.displayName="TitleBoxFooter";var Or=ke.c.div(ur||(ur=te()(["\n  position: absolute;\n  right: 4px;\n  bottom: 0px;\n"])));Or.displayName="TitleBoxIcon";var xr,jr,Er=ke.c.div(dr||(dr=te()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  span {\n    vertical-align: middle;\n    :nth-child(2) {\n      margin-left: 4px;\n      margin-right: 4px;\n    }\n  }\n"]))),Rr="\n  display: inline-block;\n  vertical-align: bottom;\n  white-space: nowrap;\n  overflow: hidden;\n",Ir=ne.a.span(xr||(xr=te()(["\n  ","\n  max-width: calc(100% - ","em);\n  min-width: ",";\n  text-overflow: ellipsis;\n"])),Rr,(function(e){var t=e.fontSizePX,n=e.endFixedChars;return Pr(t)*n+1}),(function(e){var t=e.fontSizePX,n=e.startFixedChars;return Pr(t)*n})),kr=ne.a.span(jr||(jr=te()(["\n  ","\n  max-width: calc(100% - ",");\n  position: relative;\n"])),Rr,(function(e){var t=e.fontSizePX,n=e.startFixedChars;return Pr(t)*n})),Pr=function(e){return e/11*.46},Cr=function(e){var t=e.text,n=e.fontSizePX,r=void 0===n?11:n,a=e.startFixedChars,i=void 0===a?4:a,o=e.endFixedChars,c=void 0===o?7:o,s=function(e,t,n){var r=n+t;if(e.length<=r)return{left:e,right:e};var a=e.length-n;return{left:e.substr(0,a),right:e.substr(a)}}(t,i,c),l=s.left,u=s.right;return l===u?E.a.createElement(E.a.Fragment,null,t):E.a.createElement(E.a.Fragment,null,E.a.createElement(Ir,{fontSizePX:r,startFixedChars:i,endFixedChars:c},l),E.a.createElement(kr,{fontSizePX:r,startFixedChars:i,endFixedChars:c},u))},Sr=n(1385),Br=Object(_.c)((function(e){var t=e.timestamp,n=(e.intl||{locale:"en"}).locale,r=void 0===n?"en":n;return E.a.createElement(E.a.Fragment,null,Object(Sr.a)(t,r))})),Mr=function(e){var t=e.name,n=e.createdAt,r=e.breakpoint,a=e.titleBoxBgColor,i=e.titleBoxIcon;return E.a.createElement(gr,{breakpoint:r,titleBoxBgColor:a},E.a.createElement(yr,{hasIconOverlap:!!i&&!n},E.a.createElement(Cr,{text:t})),n?E.a.createElement(wr,{hasIconOverlap:!!i},E.a.createElement(Br,{timestamp:n})):null,"LockFilledIcon"===i&&E.a.createElement(Or,null,E.a.createElement(vr.a,{label:"",size:"small"})))},zr=function(e){var t=e.breakpoint,n=e.customMessage,r=void 0===n?rr.a.failed_to_load:n;return E.a.createElement(gr,{breakpoint:t},E.a.createElement(Er,null,E.a.createElement(Ue.a,{label:"Warning",size:"small",primaryColor:Pe.R300}),E.a.createElement(Zn.a,null,E.a.createElement(nr.a,r))))},Dr=n(699),Tr=n(498),Nr=function(){return E.a.createElement(Tr.b,null,E.a.createElement(Tr.a,null),E.a.createElement(ue.a,{label:"play",size:"large"}))},Fr=n(499),Ar=function(e){var t=e.selected;return E.a.createElement(Fr.a,{selected:t},E.a.createElement(ve.a,{label:"tick"}))},_r=n(500),Lr=n(501);function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Vr,Hr=function(e){h()(n,e);var t=Ur(n);function n(){return u()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.actions;return 0===n.length?null:E.a.createElement(Lr.a,{isFixed:t},E.a.createElement(_t,{actions:n,variant:Ye.filled}))}}]),n}(E.a.Component),Wr=n(1124);var Gr=ke.c.div(Vr||(Vr=te()(["\n  ","\n"])),(function(e){var t=e.hasTitleBox,n=e.breakpoint;return"\n    position: absolute;\n    width: 100%;\n    height: calc(100% - ".concat(function(e,t){if(!e)return"0px";var n=Object(mr.b)(t);return"".concat(n,"px")}(t,n),");\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n")}));Gr.displayName="MediaIconWrapper";var Xr,Yr,Kr=n(1320),qr=n(790),Jr=Object(ke.e)(Xr||(Xr=te()(["\n 0% { opacity: 1}\n 50% { opacity: 0.3 }\n 100% { opacity: 1; }"]))),$r="\n  animation-name: ".concat(Jr,";\n  animation-duration: 3.5s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n"),Zr=ke.c.div(Yr||(Yr=te()(["\n  ","\n"])),(function(e){var t=e.animated,n=e.reducedFont;return"\n    overflow: hidden;\n    opacity: 1;\n    font-weight: 450;\n    ".concat(n?"font-size: 0.7em;":"","\n    color: ").concat(Pe.N300,";\n    text-align:center;\n    ").concat(t?$r:"","\n    margin-bottom: -1em;\n    padding: 3px 10px;\n")}));Zr.displayName="IconMessageWrapper";var Qr=function(e){var t=e.messageDescriptor,n=e.animated,r=void 0!==n&&n,a=e.reducedFont,i=void 0!==a&&a;return E.a.createElement(Zr,{animated:r,reducedFont:i},E.a.createElement(Zn.a,null,E.a.createElement(nr.a,t)))},ea=function(e){var t=e.disableAnimation;return E.a.createElement(Qr,{messageDescriptor:rr.a.creating_preview,animated:!t})},ta=function(e){return E.a.createElement(Qr,V()({},e,{messageDescriptor:rr.a.preview_unavailable}))},na=function(e){return E.a.createElement(Qr,V()({},e,{messageDescriptor:rr.a.failed_to_load}))},ra=function(e){return E.a.createElement(Qr,V()({},e,{messageDescriptor:rr.a.failed_to_upload}))},aa=function(e){return E.a.createElement(Qr,V()({},e,{messageDescriptor:rr.a.preview_currently_unavailable,reducedFont:!0}))},ia=n(118),oa=n(446),ca=n(1127);function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var da=function(e){h()(n,e);var t=ua(n);function n(){var e;u()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),x()(v()(e),"state",{didImageRender:!1}),x()(v()(e),"divRef",E.a.createRef()),x()(v()(e),"onImageLoad",(function(t){var n=e.props,r=n.onImageLoad,a=n.cardPreview;t.dataURI===(null==a?void 0:a.dataURI)&&(e.setState({didImageRender:!0}),r&&r(a))})),x()(v()(e),"onImageError",(function(t){var n=e.props.onImageError;e.setState({didImageRender:!1}),n&&n(t)})),x()(v()(e),"saveElementWidth",(function(){var t=e.props.dimensions;if(t){var n=t.width;if(n&&Object(qn.a)(n)&&e.divRef.current){var r=Object($n.a)(e.divRef.current,"width");e.setState({elementWidth:r})}}})),x()(v()(e),"renderFileNewExperience",(function(){var t=e.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=t.metadata,s=t.status,l=t.selected,u=t.selectable,d=t.disableOverlay,f=t.cardPreview,p=t.mediaCardCursor,v=(c||{}).name,m=!f||!d||"error"===s||"failed-processing"===s,h=!(!e.shouldRenderPlayButton()||!d),g=!d&&!!u&&!l,b=!d;return E.a.createElement(or.b,{className:ca.a,"data-testid":o||"media-card-view",dimensions:n,appearance:r,onClick:a,onMouseEnter:i,innerRef:e.divRef,breakpoint:e.breakpoint,mediaCardCursor:p,disableOverlay:!!d,selected:!!l,displayBackground:m,isPlayButtonClickable:h,isTickBoxSelectable:g,shouldDisplayTooltip:b},b?E.a.createElement(Wr.a,{content:v,position:"bottom",tag:"div"},e.renderNewExperienceCard()):e.renderNewExperienceCard())})),x()(v()(e),"renderFile",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.mediaItemType,i=t.metadata,o=t.progress,c=t.resizeMode,s=t.dimensions,l=t.selectable,u=t.selected,d=t.disableOverlay,f=t.alt,p=t.onDisplayImage,v=t.actions,m=n||{},h=m.dataURI,g=m.orientation,b=i||{},y=b.name,w=b.mediaType,O=b.mimeType,x=b.size,j=i&&v?tr(v,i):[],R=ar(r),I=x?Object(ir.a)(x):"";return E.a.createElement(Xn,{error:R,dimensions:s,selectable:l,selected:u,dataURI:h,mediaName:y,mediaType:w,mimeType:O,fileSize:I,status:r,mediaItemType:a,progress:o,resizeMode:c,onDisplayImage:p,actions:j,disableOverlay:d,previewOrientation:g,alt:f,onImageLoad:e.onImageLoad,onImageError:e.onImageError,cardPreview:n})})),x()(v()(e),"getRenderConfigByStatus",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.metadata,i=t.disableOverlay,o=t.error,c=t.selectable,s=t.disableAnimation,l=a||{},u=l.name,d=l.mediaType,f=e.state.didImageRender,p=!(!a||0!==a.size),v={renderTypeIcon:!f,renderImageRenderer:!!n,renderPlayButton:!!n&&"video"===d,renderBlanket:!i,renderTitleBox:!i&&!!u,renderTickBox:!i&&!!c};switch(r){case"uploading":return la(la({},v),{},{renderBlanket:!i||"video"!==d,isFixedBlanket:!0,renderProgressBar:!0});case"processing":return la(la({},v),{},{iconMessage:f||p?void 0:E.a.createElement(ea,{disableAnimation:s})});case"complete":return v;case"error":case"failed-processing":var m,h,g=la(la({},v),{},{renderTypeIcon:!0,renderImageRenderer:!1,renderTitleBox:!1,renderPlayButton:!1}),b=(o||{}).secondaryError;if(Object(ia.g)(b)||Object(oa.b)(b)?m=E.a.createElement(aa,null):gt(o)?(m=E.a.createElement(ra,null),h=rr.a.failed_to_upload):m=a?E.a.createElement(ta,null):E.a.createElement(na,null),!i){var y=!u||!!h;return la(la({},g),{},{renderTitleBox:!!u&&!h,renderFailedTitleBox:y,iconMessage:y?void 0:m,customTitleMessage:h})}return la(la({},g),{},{iconMessage:m});case"loading-preview":case"loading":default:return la(la({},v),{},{renderPlayButton:!1,renderTypeIcon:!1,renderSpinner:!f})}})),x()(v()(e),"renderNewExperienceCard",(function(){var t=e.getRenderConfigByStatus(),n=t.renderTypeIcon,r=t.iconMessage,a=t.renderImageRenderer,i=t.renderSpinner,o=t.renderPlayButton,c=t.renderBlanket,s=t.renderProgressBar,l=t.renderTitleBox,u=t.renderFailedTitleBox,d=t.renderTickBox,f=t.isFixedBlanket,p=t.customTitleMessage,v=e.props,m=v.progress,h=v.selected,g=v.status,b=(v.metadata||{}).name,y=!!l||!!u;return E.a.createElement(E.a.Fragment,null,E.a.createElement(or.a,{className:"media-file-card-view","data-testid":"media-file-card-view","data-test-media-name":b,"data-test-status":g,"data-test-progress":m,"data-test-selected":!!h||void 0},n&&e.renderMediaTypeIcon(y,r),i&&e.renderSpinner(y),a&&e.renderImageRenderer(),o&&e.renderPlayButton(y),c&&e.renderBlanket(!!f),l&&e.renderTitleBox(),u&&e.renderFailedTitleBox(p),s&&e.renderProgressBar(!y),d&&e.renderTickBox()),e.renderActionsBar())})),e}return f()(n,[{key:"componentDidMount",value:function(){this.saveElementWidth();var e=this.props.innerRef;e&&this.divRef.current&&e(this.divRef.current)}},{key:"componentDidUpdate",value:function(e){var t=e.cardPreview,n=this.props.cardPreview;t&&!n&&this.setState({didImageRender:!1})}},{key:"width",get:function(){var e=this.state.elementWidth;if(e)return e;var t=(this.props.dimensions||{width:void 0}).width;return t?Object(Jn.a)(t):Kn.a.width}},{key:"breakpoint",get:function(){var e=this.state.elementWidth||(this.props.dimensions?this.props.dimensions.width:"")||Kn.a.width;return Object(or.c)(parseInt("".concat(e),10))}},{key:"render",value:function(){var e=this.props.featureFlags;if(Object(L.c)("newCardExperience",e))return this.renderFileNewExperience();var t=this.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=n||Object(Kn.b)(r);return E.a.createElement(Zn.c,{"data-testid":o||"media-card-view",shouldUsePointerCursor:!0,breakpointSize:Object(Yn.a)(this.width),dimensions:c,onClick:a,onMouseEnter:i,innerRef:this.divRef},this.renderFile())}},{key:"renderSpinner",value:function(e){return E.a.createElement(Gr,{breakpoint:this.breakpoint,hasTitleBox:e},E.a.createElement(qr.a,null))}},{key:"shouldRenderPlayButton",value:function(){var e=this.props,t=e.metadata,n=e.cardPreview;return!("video"!==(t||{}).mediaType||!n)}},{key:"renderPlayButton",value:function(e){return E.a.createElement(Gr,{breakpoint:this.breakpoint,hasTitleBox:e},E.a.createElement(Nr,null),";")}},{key:"renderBlanket",value:function(e){return E.a.createElement(_r.a,{isFixed:e})}},{key:"renderTitleBox",value:function(){var e=this.props,t=e.metadata,n=e.titleBoxBgColor,r=e.titleBoxIcon,a=t||{},i=a.name,o=a.createdAt;return!!i&&E.a.createElement(Mr,{name:i,createdAt:o,breakpoint:this.breakpoint,titleBoxIcon:r,titleBoxBgColor:n})}},{key:"renderFailedTitleBox",value:function(e){return E.a.createElement(zr,{breakpoint:this.breakpoint,customMessage:e})}},{key:"renderProgressBar",value:function(e){var t=this.props.progress;return E.a.createElement(Dr.a,{progress:t,breakpoint:this.breakpoint,positionBottom:e})}},{key:"renderImageRenderer",value:function(){var e=this.props,t=e.cardPreview,n=e.metadata,r=(n=void 0===n?{}:n).mediaType,a=void 0===r?"unknown":r,i=e.alt,o=e.resizeMode,c=e.onDisplayImage,s=e.nativeLazyLoad,l=e.forceSyncDisplay;return!!t&&E.a.createElement(fr,{cardPreview:t,mediaType:a,alt:i,resizeMode:o,onDisplayImage:c,onImageLoad:this.onImageLoad,onImageError:this.onImageError,nativeLazyLoad:s,forceSyncDisplay:l})}},{key:"renderTickBox",value:function(){var e=this.props.selected;return E.a.createElement(Ar,{selected:e})}},{key:"renderMediaTypeIcon",value:function(e,t){var n=this.props.metadata||{},r=n.mediaType,a=n.mimeType,i=n.name;return E.a.createElement(Gr,{breakpoint:this.breakpoint,hasTitleBox:e},E.a.createElement(Kr.a,{testId:"media-card-file-type-icon",mediaType:r,mimeType:a,name:i}),t)}},{key:"renderActionsBar",value:function(){var e=this.props,t=e.disableOverlay,n=e.actions,r=e.metadata,a=r&&n?tr(n,r):[];return t||!n||0===n.length?null:E.a.createElement(Hr,{actions:a})}}]),n}(E.a.Component);x()(da,"defaultProps",{appearance:"auto"});var fa=Object(P.a)({onClick:Ct({eventType:"ui",action:"clicked",actionSubject:"mediaCard",attributes:{}})})(da);function pa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return va(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ma=Object(j.forwardRef)((function(e,t){return"undefined"==typeof IntersectionObserver?null:E.a.createElement("div",{ref:t,className:"media-card-viewport-anchor",style:{position:"absolute",top:"".concat(e.offsetTop,"px"),maxHeight:0,pointerEvents:"none"}})})),ha=function(e){var t=e.onVisible,n=e.cardEl,r=e.children,a=e.preAnchorRef,i=e.postAnchorRef;return Object(j.useEffect)((function(){var e=new IntersectionObserver(function(e){return function(t,n){var r,a=pa(t);try{for(a.s();!(r=a.n()).done;){if(r.value.isIntersecting){e(),n.disconnect();break}}}catch(e){a.e(e)}finally{a.f()}}}(t));return(null==a?void 0:a.current)&&e.observe(a.current),(null==i?void 0:i.current)&&e.observe(i.current),n&&e.observe(n),function(){e.disconnect()}}),[n,a,i,t]),E.a.createElement(E.a.Fragment,null,r)},ga=function(e){var t=e.cardEl,n=e.preAnchorRef,r=e.postAnchorRef,a=e.onVisible,i=e.children;return"undefined"==typeof IntersectionObserver?E.a.createElement(E.a.Fragment,null,i):E.a.createElement(ha,{cardEl:t,preAnchorRef:n,postAnchorRef:r,onVisible:a},i)};var ba=function(e){return"px"===e.substr(-2)&&!isNaN(+e.slice(0,-2))},ya=function(e,t){var n=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?2:1,r=t.dimensions&&t.dimensions[e]||"";return Object(qn.a)(r)&&t.element?Object($n.a)(t.element,e)*n:"number"==typeof r?r*n:ba("".concat(r))?parseInt("".concat(r),10)*n:Kn.a[e]*n},wa=n(1118),Oa=n(168),xa=n(103),ja=n.n(xa),Ea=n(541),Ra=n(359);function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var ka=function(e){h()(n,e);var t=Ia(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).eventEmitter=new Ra.EventEmitter2,r}return f()(n,[{key:"shift",value:function(){var e=ja()(w()(n.prototype),"shift",this).call(this);return this.eventEmitter.emit("shift",e),e}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}}]),n}(Ea.LRUCache),Pa=function(){function e(t){u()(this,e),this.cache=new ka(t),this.cache.on("shift",(function(e){e&&e.value.dataURI&&URL.revokeObjectURL(e.value.dataURI)}))}return f()(e,[{key:"has",value:function(e){return!!this.cache.find(e)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"remove",value:function(e){var t=this.cache.remove(e);t&&URL.revokeObjectURL(t.dataURI)}}]),e}(),Ca=function(e,t){return[e,t.height,t.width].join("-")},Sa=new(f()((function e(t){var n=this;u()(this,e),x()(this,"get",(function(e,t){var r=Ca(e,t);return n.previewCache.get(r)})),x()(this,"set",(function(e,t,r){var a=Ca(e,t);n.previewCache.set(a,r)})),x()(this,"remove",(function(e,t){var r=Ca(e,t);n.previewCache.remove(r)})),this.previewCache=t})))(new Pa(50)),Ba=n(682),Ma=function(){var e=s()(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Ba.a(t),e.next=3,n.takeSnapshot();case 3:return r=e.sent,n.end(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),za=n(288),Da=n(1405),Ta=function(){var e=s()(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Da.b)(t);case 3:return n=e.sent,r=URL.createObjectURL(t),e.abrupt("return",{dataURI:r,orientation:n,source:"local"});case 8:throw e.prev=8,e.t0=e.catch(0),new dt("local-preview-image",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Na=function(){var e=s()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ma(t);case 3:return n=e.sent,e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 7:throw e.prev=7,e.t0=e.catch(0),new dt("local-preview-video",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Fa=function(){var e=s()(o.a.mark((function e(t){var n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:r=e.sent,n=r.value,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new dt("local-preview-rejected",e.t0);case 10:if("string"!=typeof n){e.next=14;break}return e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 14:if(!(n instanceof Blob)){e.next=22;break}a=n.type,i=Object(za.a)(a),e.t1=i,e.next="image"===e.t1?20:"video"===e.t1?21:22;break;case 20:return e.abrupt("return",Ta(n));case 21:return e.abrupt("return",Na(n));case 22:throw new dt("local-preview-unsupported");case 23:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Aa=function(){var e=s()(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getImage(n,r);case 3:return a=e.sent,e.abrupt("return",{dataURI:URL.createObjectURL(a),orientation:1,source:"remote"});case 7:throw e.prev=7,e.t0=e.catch(0),new ft("remote-preview-fetch",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),_a=function(e){return"number"==typeof e||ba("".concat(e))},La=function(e,t){if(!e||!t)return!1;var n=_a(e)&&_a(t),r=Object(qn.a)(e)&&Object(qn.a)(t);return n||r},Ua=function(e,t){if(e&&t&&La(e.width,t.width)&&La(e.height,t.height)){var n=parseInt("".concat(e.width),10)<parseInt("".concat(t.width),10),r=parseInt("".concat(e.height),10)<parseInt("".concat(t.height),10);return n||r}return!1},Va=n(1382),Ha=function(e,t,n){var r="size"in e&&!!e.size,a=("mediaType"in e&&e||{}).mediaType,i=("mimeType"in e&&e||{}).mimeType,o=!!a&&Object(Va.b)(a,n),c=!t&&Object(z.d)(e)&&function(e){return"image"===e||"video"===e}(a)&&!!i&&Object(Oa.d)(i),s=Object(z.c)(e);return{hasFilesize:r,isPreviewable:o,hasPreview:c||s,isSupportedByBrowser:!!i&&Object(Oa.d)(i)}};function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xa=Sa.get,Ya=Sa.remove,Ka=function(e){return"mimeType"in e&&Object(Oa.d)(e.mimeType)&&Object(z.d)(e)?e.preview:void 0},qa=function(e,t,n,r){var a;switch(n.source){case"local":a="cache-local";break;case"remote":a="cache-remote";break;case"ssr-server":a="cache-ssr-server";break;case"ssr-client":a="cache-ssr-client";break;default:a=n.source}var i=r?Object(wa.a)(n.dataURI,r):n.dataURI;return Sa.set(e,t,Ga(Ga({},n),{},{source:a,dataURI:i})),Ga(Ga({},n),{},{dataURI:i})},Ja=function(){var e=s()(o.a.mark((function e(t){var n,r,a,i,c,s,l,u,d,f,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mediaClient,r=t.id,a=t.dimensions,i=void 0===a?{}:a,c=t.filePreview,s=t.onLocalPreviewError,l=t.isRemotePreviewReady,u=t.imageUrlParams,d=t.mediaBlobUrlAttrs,!(f=Sa.get(r,i))){e.next=4;break}return e.abrupt("return",f);case 4:if(e.prev=4,!c){e.next=10;break}return e.next=8,Fa(c);case 8:return p=e.sent,e.abrupt("return",qa(r,i,p,d));case 10:e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(4),(!ht(e.t0)||ht(e.t0)&&!l)&&s&&s(e.t0),l){e.next=17;break}throw e.t0;case 17:if(l){e.next=19;break}throw new ut("remote-preview-not-ready");case 19:return e.abrupt("return",ei(n,r,i,u,d));case 20:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),$a=function(e){return["ssr-server","cache-ssr-server"].includes(e.source)},Za=function(e){return["ssr-client","cache-ssr-client"].includes(e.source)},Qa=function(e){return"ssr-data"===e.source},ei=function(){var e=s()(o.a.mark((function e(t,n,r,a,i){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Aa(t,n,a);case 2:return c=e.sent,e.abrupt("return",qa(n,r,c,i));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),ti=function(e){switch(e){case"processed":return"succeeded";case"processing":return"running";case"failed-processing":return"failed"}},ni=function(e,t){return Object(D.c)(e)?t&&!Object(z.a)(t)?{id:(n=t).id,name:n.name,size:n.size,mimeType:n.mimeType,createdAt:n.createdAt,mediaType:n.mediaType,processingStatus:ti(n.status)}:{id:e.id}:{id:e.mediaItemType,name:e.name||e.dataURI,mediaType:"image"};var n},ri=n(1126),ai=function(e,t,n,r,a,i){var o=function(t){return Pt(t,e)};switch(t){case"complete":o(function(e,t,n){return{eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:n}}}(n,r,a));break;case"failed-processing":o(function(e,t,n){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:n}}}(n,r,a));break;case"error":i&&o(function(e,t,n,r){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:yt(yt({fileAttributes:e,performanceAttributes:t,status:"fail"},kt(n)),{},{request:It(n),ssrReliability:r})}}(n,r,i,a))}},ii=function(){return document},oi=n(46),ci=n.n(oi),si=function(e){return e.map((function(e){return"string"==typeof(t=e)?"'".concat(t,"'"):"object"===ci()(t)?JSON.stringify(t):void 0===t?"undefined":t;var t})).join(",")};function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t="__MEDIA_INTERNAL";return e[t]||(e[t]={}),e[t]}function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=li(e),n="mediaCardSsr";return t[n]||(t[n]={}),t[n]}var di=function(e){return e?"-".concat(e):""},fi=function(e){var t=e.id,n=e.collectionName,r=e.occurrenceKey;return"".concat(t).concat(di(n)).concat(di(r))},pi=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,i=ui(a);i[e]={dataURI:t,dimensions:n,error:r}},vi=function(e,t,n,r){var a,i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"(".concat(e.toString(),")(").concat(si(n),");")}(pi,fi(e),t,n,r);return a=[ui.toString(),li.toString(),i],"(function(){\n  ".concat(a.join(";"),"\n})();\n")},mi=function(e){var t=e.dataURI,n=e.identifier,r=e.dimensions,a=e.error;return E.a.createElement("script",{dangerouslySetInnerHTML:{__html:vi(n,t,r,a)}})};function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bi;!function(e){e.Action="pointer",e.NotReady="wait"}(bi||(bi={}));var yi,wi=n(152),Oi=n(345),xi=n(355);function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ri=function(e){if(!yi){var t={platform:{component:"media-card"},type:wi.b.Experience,performanceType:wi.a.InlineResult,featureFlags:xt};yi=new Oi.a("media-card-render",t)}return yi.getInstance(e)},Ii=function(e,t){Ri(e).success({metadata:Ei(Ei({},t),{},{packageName:k.a,packageVersion:k.b,mediaEnvironment:Object(xi.b)(),mediaRegion:Object(xi.c)()})})},ki=function(e,t){Ri(e).failure({metadata:Ei(Ei({},t),{},{packageName:k.a,packageVersion:k.b,mediaEnvironment:Object(xi.b)(),mediaRegion:Object(xi.c)()})})};function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var Bi=function(e){h()(n,e);var t=Si(n);function n(e){var r;u()(this,n),r=t.call(this,e),x()(v()(r),"internalOccurrenceKey",(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,"")),x()(v()(r),"hasBeenMounted",!1),x()(v()(r),"fileStateFlags",{wasStatusUploading:!1,wasStatusProcessing:!1}),x()(v()(r),"viewportPreAnchorRef",Object(j.createRef)()),x()(v()(r),"viewportPostAnchorRef",Object(j.createRef)()),x()(v()(r),"ssrReliability",{server:{status:"unknown"},client:{status:"unknown"}}),x()(v()(r),"timeElapsedTillCommenced",performance.now()),x()(v()(r),"getImageURLParams",(function(e){return Ci(Ci({collection:e.collectionName,mode:Object(M.a)(r.props.resizeMode)},r.requestedDimensions),{},{allowAnimated:!0})})),x()(v()(r),"getMediaBlobUrlAttrs",(function(e,t){var n=e.id,a=e.collectionName,i=r.props,o=i.originalDimensions,c=i.contextId,s=i.alt,l=ni(e,t),u=l.mimeType,d=l.name,f=l.size;return c?Ci(Ci({id:n,collection:a,contextId:c,mimeType:u,name:d,size:f},o||r.requestedDimensions),{},{alt:s}):void 0})),x()(v()(r),"getCardPreviewParams",(function(e,t){var n=r.state.isBannedLocalPreview,a=e.id,i=r.props,o=i.dimensions,c=void 0===o?{}:o;return{mediaClient:i.mediaClient,id:a,dimensions:c,onLocalPreviewError:r.fireLocalPreviewErrorEvent,filePreview:n?void 0:Ka(t),isRemotePreviewReady:Object(z.c)(t),imageUrlParams:r.getImageURLParams(e),mediaBlobUrlAttrs:r.getMediaBlobUrlAttrs(e,t)}})),x()(v()(r),"setCacheSSRPreview",(function(e){var t=r.props,n=t.mediaClient,a=t.dimensions,i=void 0===a?{}:a;ei(n,e.id,i,r.getImageURLParams(e),r.getMediaBlobUrlAttrs(e)).catch((function(){}))})),x()(v()(r),"refetchSSRPreview",function(){var e=s()(o.a.mark((function e(t){var n,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.mediaClient,i=n.dimensions,c=void 0===i?{}:i,e.prev=1,e.next=4,ei(a,t.id,c,r.getImageURLParams(t),r.getMediaBlobUrlAttrs(t));case 4:s=e.sent,r.safeSetState({cardPreview:s}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),x()(v()(r),"resolvePreview",function(){var e=s()(o.a.mark((function e(t,n){var a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=r.getCardPreviewParams(t,n),e.next=4,Ja(a);case 4:i=e.sent,r.safeSetState({cardPreview:i}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o="preview-fetch",s=e.t0,c=mt(s)?s:new ut(o,s),c instanceof dt?r.safeSetState({isBannedLocalPreview:!0}):r.safeSetState({status:"error",error:c});case 12:case"end":return e.stop()}var o,s}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),x()(v()(r),"getPerformanceAttributes",(function(){var e=v()(r).timeElapsedTillCommenced,t=performance.now();return{overall:{durationSincePageStart:t,durationSinceCommenced:e&&t-e}}})),x()(v()(r),"logSSRImageError",(function(e){if(e){var t=Ci({status:"fail"},kt(new vt(e.source)));Za(e)&&(r.ssrReliability.client=t),Qa(e)&&(r.ssrReliability.server=t,r.ssrReliability.client=t)}})),x()(v()(r),"onImageError",(function(e){r.logSSRImageError(e);var t=r.state.cardPreview;if((null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)){var n=new vt(null==e?void 0:e.source),a=e&&["local","cache-local"].includes(e.source),i=e&&(Za(e)||Qa(e));if(a||i){var o={cardPreview:void 0};a&&(o.isBannedLocalPreview=!0,r.fireLocalPreviewErrorEvent(n));var c=r.props,s=c.identifier,l=c.dimensions,u=void 0===l?{}:l;Object(D.c)(s)&&Ya(s.id,u),r.safeSetState(o)}else r.safeSetState({status:"error",error:n})}})),x()(v()(r),"onImageLoad",(function(e){e&&(Za(e)&&"unknown"===r.ssrReliability.client.status&&(r.ssrReliability.client={status:"success"}),Qa(e)&&"unknown"===r.ssrReliability.server.status&&(r.ssrReliability.server={status:"success"},r.ssrReliability.client={status:"success"}));var t=r.state.cardPreview;(null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)&&r.safeSetState({previewDidRender:!0})})),x()(v()(r),"fireCopiedEvent",(function(){var e=r.props.createAnalyticsEvent,t=r.state.cardRef;t&&e&&function(e,t,n){if("function"==typeof window.getSelection){var r,a=window.getSelection();null!=a&&null!==(r=a.containsNode)&&void 0!==r&&r.call(a,n,!0)&&Pt(function(e){return{eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}}}(t),e)}}(e,r.metadata.id,t)})),x()(v()(r),"fireScreenEvent",(function(){var e=r.props.createAnalyticsEvent;e&&function(e,t){Pt(function(e){return{eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}}(t),e)}(e,r.fileAttributes)})),x()(v()(r),"fireLocalPreviewErrorEvent",(function(e){})),x()(v()(r),"safeSetState",(function(e){if(r.hasBeenMounted){var t=e.status?(n=e,function(e){return t=e.status,["complete","error","failed-processing"].includes(t)&&"complete"!==n.status?e:gi(gi({},e),n);var t}):e;r.setState(t)}var n})),x()(v()(r),"unsubscribe",(function(){r.subscription&&r.subscription.unsubscribe(),r.hasBeenMounted&&r.setState({isBannedLocalPreview:!1})})),x()(v()(r),"onCardViewClick",(function(e,t){var n=r.props,a=n.identifier,i=n.useInlinePlayer,o=n.shouldOpenMediaViewer,c=r.state.cardPreview,s=v()(r).metadata;if(r.onClick(e,t),s){var l=s&&"video"===s.mediaType;if(i&&l&&c)r.setState({isPlayingFile:!0,shouldAutoplay:!0});else if(o){var u;u=Object(D.c)(a)?{id:a.id,mediaItemType:"file",collectionName:a.collectionName,occurrenceKey:a.occurrenceKey}:{mediaItemType:"external-image",dataURI:a.dataURI,name:a.name},r.setState({mediaViewerSelectedItem:u})}}})),x()(v()(r),"onInlinePlayerError",(function(){r.setState({isPlayingFile:!1})})),x()(v()(r),"setRef",(function(e){e&&r.setState({cardRef:e})})),x()(v()(r),"renderInlinePlayer",(function(){var e=r.props,t=e.identifier,n=e.mediaClient,a=e.dimensions,i=e.selected,o=e.testId,c=e.originalDimensions,s=e.onFullscreenChange,l=r.state,u=l.shouldAutoplay,d=l.cardPreview;return E.a.createElement(ri.a,{mediaClient:n,dimensions:a,originalDimensions:c,identifier:t,autoplay:!!u,onFullscreenChange:s,onError:r.onInlinePlayerError,onClick:r.onClick,selected:i,ref:r.setRef,testId:o,cardPreview:d})})),x()(v()(r),"onMediaViewerClose",(function(){r.setState({mediaViewerSelectedItem:void 0})})),x()(v()(r),"onDisplayImage",(function(){var e,t=r.props.identifier;e=Object(D.c)(t)?{fileId:t.id,isUserCollection:t.collectionName===T.c}:{fileId:t.dataURI,isUserCollection:!1},N.a.emit("media-viewed",Ci({viewingLevel:"minimal"},e))})),x()(v()(r),"renderMediaViewer",(function(){var e=r.state.mediaViewerSelectedItem,t=r.props,n=t.mediaClient,a=t.identifier,i=t.mediaViewerDataSource,o=t.contextId,c=t.featureFlags;if(e){var s=Object(D.c)(a)&&a.collectionName||"",l=i||{list:[]};return I.a.createPortal(E.a.createElement(F.a,{collectionName:s,dataSource:l,mediaClientConfig:n.config,selectedItem:e,onClose:r.onMediaViewerClose,contextId:o,featureFlags:c}),document.body)}})),x()(v()(r),"renderCard",(function(){var e=r.props,t=e.identifier,n=e.isLazy,a=e.appearance,i=e.resizeMode,o=e.dimensions,c=e.selectable,s=e.selected,l=e.disableOverlay,u=e.alt,d=e.testId,f=e.featureFlags,p=e.titleBoxBgColor,m=e.titleBoxIcon,h=e.ssr,g=e.useInlinePlayer,b=e.shouldOpenMediaViewer,y=t.mediaItemType,w=r.state,O=w.status,x=w.progress,j=w.cardPreview,R=w.error,I=w.cardRef,k=w.isCardVisible,P=v()(r).metadata,C=v()(r),S=C.onCardViewClick,B=C.onDisplayImage,M=C.actions,z=C.onMouseEnter,D=n&&!k,T=!!h,N=function(e,t,n,r,a){if(!n&&(e||t))return!a&&(e||e&&t)?bi.NotReady:"video"===a&&r&&e||t?bi.Action:void 0}(!!g,!!b,"error"===O||"failed-processing"===O,!!r.state.cardPreview,P.mediaType),F=E.a.createElement(fa,{status:O,error:R,mediaItemType:y,metadata:P,cardPreview:j,alt:u,appearance:a,resizeMode:i,dimensions:o,actions:M,selectable:c,selected:s,onClick:S,onMouseEnter:z,disableOverlay:l,progress:x,onDisplayImage:B,innerRef:r.setRef,testId:d,featureFlags:f,titleBoxBgColor:p,titleBoxIcon:m,onImageError:r.onImageError,onImageLoad:r.onImageLoad,nativeLazyLoad:D,forceSyncDisplay:T,mediaCardCursor:N});return n?E.a.createElement(ga,{cardEl:I,preAnchorRef:r.viewportPreAnchorRef,postAnchorRef:r.viewportPostAnchorRef,onVisible:r.onCardInViewport},E.a.createElement(ma,{ref:r.viewportPreAnchorRef,offsetTop:-900}),F,E.a.createElement(ma,{ref:r.viewportPostAnchorRef,offsetTop:900})):F})),x()(v()(r),"storeSSRData",(function(){var e,t=r.props,n=t.ssr,a=t.identifier,i=r.state.cardPreview,o=(i=void 0===i?{}:i).dataURI;return Object(D.c)(a)&&"server"===n&&E.a.createElement(mi,{identifier:a,dataURI:o,dimensions:r.requestedDimensions,error:"fail"===(null===(e=r.ssrReliability.server)||void 0===e?void 0:e.status)?r.ssrReliability.server:void 0})})),x()(v()(r),"onCardInViewport",(function(){r.setState({isCardVisible:!0})})),x()(v()(r),"onClick",(function(e,t){var n=r.props.onClick,a=v()(r).metadata;n&&n({event:e,mediaItemDetails:a},t)})),x()(v()(r),"onMouseEnter",(function(e){var t=r.props.onMouseEnter,n=v()(r).metadata;t&&t({event:e,mediaItemDetails:n})}));var a,i="loading",c=r.props,l=c.identifier,d=c.dimensions,f=void 0===d?{}:d,p=c.ssr,m=c.mediaClient;if(Object(D.c)(l)){var h,g,b=l.id;if(!(a=Xa(b,f))&&p)if(r.ssrData=function(e){var t=ui();if(t)return t[fi(e)]}(l),null!==(h=r.ssrData)&&void 0!==h&&h.error&&(r.ssrReliability.server=Ci({status:"fail"},r.ssrData.error)),null!==(g=r.ssrData)&&void 0!==g&&g.dataURI)a={dataURI:r.ssrData.dataURI,source:"ssr-data"};else try{a=function(e,t,n,r,a){try{var i=t.getImageUrlSync(n,r);return{dataURI:a?Object(wa.a)(i,a):i,source:"client"===e?"ssr-client":"ssr-server",orientation:1}}catch(t){throw new pt("server"===e?"ssr-server-uri":"ssr-client-uri",t)}}(p,m,l.id,r.getImageURLParams(l),r.getMediaBlobUrlAttrs(l))}catch(e){r.ssrReliability[p]=Ci({status:"fail"},kt(e))}}else if(Object(D.b)(l)){r.fireCommencedEvent(),i="loading-preview",a={dataURI:l.dataURI,orientation:1,source:"external"}}var y,w=!r.props.isLazy||!!a&&!(Za(y=a)||$a(y));return r.state={status:i,isCardVisible:w,isPlayingFile:!1,shouldAutoplay:!1,cardPreview:a,cardRef:null,isBannedLocalPreview:!1,previewDidRender:!1,error:void 0},r}return f()(n,[{key:"componentDidMount",value:function(){this.hasBeenMounted=!0;var e,t=this.state,n=t.isCardVisible,r=t.cardPreview,a=this.props,i=a.identifier,o=a.ssr,c=a.dimensions;(n&&Object(D.c)(i)&&this.updateStateForIdentifier(i),n&&o&&r&&Object(D.c)(i))&&(Za(r)&&this.setCacheSSRPreview(i),Qa(r)&&Ua(null===(e=this.ssrData)||void 0===e?void 0:e.dimensions,c)&&this.refetchSSRPreview(i));ii().addEventListener("copy",this.fireCopiedEvent)}},{key:"componentDidUpdate",value:function(e,t){var n=e.mediaClient,r=e.identifier,a=e.dimensions,i=t.isCardVisible,o=this.props,c=o.mediaClient,s=o.identifier,l=o.dimensions,u=o.featureFlags,d=o.useInlinePlayer,f=o.disableOverlay,p=this.state,v=p.isCardVisible,m=p.cardPreview,h=p.status,g=p.fileState,b=p.isBannedLocalPreview,y=p.previewDidRender,w=p.isPlayingFile,O=Object(D.a)(r,s),x=!i&&v,j=n!==c;if(this.updateFileStateFlag(g),Object(D.b)(s)&&O){this.fireCommencedEvent();var E=s.dataURI;this.setState({status:"loading-preview",cardPreview:{dataURI:E,orientation:1,source:"external"},isCardVisible:!0})}Object(D.c)(s)&&(x||this.subscription&&(j||O))&&this.updateStateForIdentifier(s),this.state.status!==t.status&&(this.fireOperationalEvent(),("complete"===this.state.status||"video"===this.fileAttributes.fileMediatype&&m&&"processing"===this.state.status)&&this.fireScreenEvent()),Object(D.c)(s)&&g&&function(e){var t=e.status,n=e.fileState,r=e.dimensions,a=e.prevDimensions,i=e.hasCardPreview,o=e.isBannedLocalPreview,c=e.featureFlags,s=function(e,t){var n=t.isPreviewable,r=t.hasPreview,a=t.isSupportedByBrowser;return r&&n&&("complete"===e||"loading-preview"===e||"uploading"===e||"processing"===e&&a)}(t,Ha(n,o,c)),l=Ua(a,r);return s&&(!i||l)}({status:h,fileState:g,dimensions:l,prevDimensions:a,featureFlags:u,hasCardPreview:!!m,isBannedLocalPreview:b})&&this.resolvePreview(s,g),x&&this.props.ssr&&m&&Za(m)&&Object(D.c)(s)&&this.setCacheSSRPreview(s),y&&["loading-preview","processing"].includes(h)&&(this.safeSetState({status:"complete"}),this.unsubscribe());var R="video"===this.fileAttributes.fileMediatype,I=g&&Object(z.e)(g);R&&!w&&f&&d&&I&&Object(L.c)("timestampOnVideo",this.props.featureFlags)&&this.setState({isPlayingFile:!0})}},{key:"componentWillUnmount",value:function(){this.hasBeenMounted=!1,this.unsubscribe(),ii().removeEventListener("copy",this.fireCopiedEvent)}},{key:"updateStateForIdentifier",value:function(e){this.fireCommencedEvent(),this.subscribeInternalFile(e)}},{key:"updateFileStateFlag",value:function(e){if(e){var t=e.status;"processing"===t?this.fileStateFlags.wasStatusProcessing=!0:"uploading"===t&&(this.fileStateFlags.wasStatusUploading=!0)}}},{key:"subscribeInternalFile",value:function(e){var t=this,n=this.props.mediaClient,r=this.state.isBannedLocalPreview,a=e.id,i=e.collectionName,o=e.occurrenceKey;this.unsubscribe(),this.subscription=n.file.getFileState(a,{collectionName:i,occurrenceKey:o}).subscribe({next:function(e){var n=t.props.featureFlags,a=function(e,t,n){var r=function(e,t){var n=t.hasFilesize,r=t.isPreviewable,a=t.hasPreview;switch(e){case"uploading":case"failed-processing":case"error":return e;case"processing":return n?r?"processing":"complete":"processing";case"processed":return r&&a?"loading-preview":"complete";default:return"loading"}}(e.status,Ha(e,t,n)),a="error"===r&&Object(z.a)(e)?new ut("error-file-state",new Error(e.message)):void 0;return{fileState:e,status:r,progress:"uploading"===r&&"uploading"===e.status?e.progress:1,error:a}}(e,r,n);t.safeSetState(a)},error:function(e){var n="uploading"===t.state.status?"upload":"metadata-fetch",r=new ut(n,e);t.safeSetState({error:r,status:"error"})}})}},{key:"requestedDimensions",get:function(){var e,t=this.props.dimensions,n=(this.state||{}).cardRef;return{width:ya("width",e={dimensions:t,element:n}),height:ya("height",e)}}},{key:"metadata",get:function(){var e;return ni(this.props.identifier,null===(e=this.state)||void 0===e?void 0:e.fileState)}},{key:"fileAttributes",get:function(){var e,t,n,r;return n=this.metadata,r=null===(e=this.state)||void 0===e||null===(t=e.fileState)||void 0===t?void 0:t.status,{fileMediatype:n.mediaType,fileMimetype:n.mimeType,fileId:n.id,fileSize:n.size,fileStatus:r}}},{key:"fireOperationalEvent",value:function(){var e=this.state,t=e.status,n=e.error,r=this.props.createAnalyticsEvent;r&&ai(r,t,this.fileAttributes,this.getPerformanceAttributes(),this.ssrReliability,n),function(e,t,n,r,a,i){switch(t){case"complete":Ii(e,{fileAttributes:n,ssrReliability:a,fileStateFlags:r});break;case"failed-processing":ki(e,{fileAttributes:n,failReason:"failed-processing",ssrReliability:a,fileStateFlags:r});break;case"error":i&&ki(e,Ei(Ei({fileAttributes:n},kt(i)),{},{request:It(i),ssrReliability:a,fileStateFlags:r}))}}(this.internalOccurrenceKey,t,this.fileAttributes,this.fileStateFlags,this.ssrReliability,n)}},{key:"fireCommencedEvent",value:function(){this.timeElapsedTillCommenced=performance.now();var e,t=this.props.createAnalyticsEvent;t&&function(e,t,n){Pt(function(e,t){return{eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t}}}(t,n),e)}(t,this.fileAttributes,{overall:{durationSincePageStart:this.timeElapsedTillCommenced}}),e=this.internalOccurrenceKey,Ri(e).start()}},{key:"actions",get:function(){var e=this,t=this.props,n=t.actions,r=void 0===n?[]:n,i=t.identifier,o=t.shouldEnableDownloadButton,c=this.state.status,s=this.metadata;return Object(D.c)(i)&&("failed-processing"===c||o)?[{label:"Download",icon:E.a.createElement(B.a,{label:"Download"}),handler:function(){return e.props.mediaClient.file.downloadBinary(i.id,s.name,i.collectionName)}}].concat(a()(r)):r}},{key:"render",value:function(){var e=this.state,t=e.isPlayingFile,n=e.mediaViewerSelectedItem,r=E.a.createElement(E.a.Fragment,null,t?this.renderInlinePlayer():this.renderCard(),n?this.renderMediaViewer():null,this.storeSSRData());return this.props.intl?r:E.a.createElement(A.b,{locale:"en"},r)}}]),n}(j.Component);x()(Bi,"defaultProps",{appearance:"auto",resizeMode:"crop",isLazy:!0,disableOverlay:!1,featureFlags:{}});var Mi=Object(C.a)({packageVersion:k.b,packageName:k.a,componentName:"mediaCard",component:"mediaCard"},{filterFeatureFlags:Ot})(Object(P.a)()(Object(_.c)(Bi,{enforceContext:!1})))},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11.37 10.954c.285.138.63-.05.63-.343V5.39c0-.293-.345-.481-.63-.343L11 6.194v3.613l2.37 1.147zM2 5.99v4.018c0 .54.449.991 1.003.991h4.994A.99.99 0 009 10.01V5.99C9 5.452 8.551 5 7.997 5H3.003A.99.99 0 002 5.99z"/></svg>'},e,{size:"small"}));o.displayName="Video16Icon";var c=o;t.default=c},317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4 3v2h2V3H6zm2 2v2h2V5H8zM6 7v2h2V7H6zm2 2v2h2V9H8zm-2.307 2v2h2v-2h-2z"/></svg>'},e,{size:"small"}));o.displayName="Archive16Icon";var c=o;t.default=c},347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4.75 11.75l-.543-.543a1 1 0 00-1.414 0L3 13h10v-2.25l-1.795-1.974a1 1 0 00-1.447-.034L6.75 11.75zM4.667 6.333a1.667 1.667 0 100-3.333 1.667 1.667 0 000 3.333z"/></svg>'},e,{size:"small"}));o.displayName="Image16Icon";var c=o;t.default=c},348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11 4.195v-.753c0-.271-.23-.468-.514-.44l-6.115.634a.565.565 0 00-.514.545v4.616a2 2 0 00-.571-.083H5a2 2 0 00-2 2V11a2 2 0 002 2h.286a2 2 0 002-2V5.76l4.285-.444v2.767A2 2 0 0011 8h-.286a2 2 0 00-2 2v.286a2 2 0 002 2H11a2 2 0 002-2V4.195z"/></svg>'},e,{size:"small"}));o.displayName="Audio16Icon";var c=o;t.default=c},442:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r,a,i=n(7),o=n.n(i),c=n(36),s=n(16),l=n(270),u=c.c.div(r||(r=o()(["\n  box-sizing: border-box;\n  font-family: ",";\n\n  * {\n    box-sizing: border-box;\n  }\n"])),Object(s.f)()),d="\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);\n";c.c.div(a||(a=o()(["\n  ",";\n"])),l.e)},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));o.displayName="Document16Icon";var c=o;t.default=c},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(30);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M8 3H5.333C4.597 3 4 3.617 4 4.378v7.244C4 12.382 4.597 13 5.333 13h5.334c.736 0 1.333-.617 1.333-1.378V8h-1.333v3.622H5.333V4.378H8v1.414c0 .736.597 1.333 1.333 1.333h2.334c.184 0 .333-.15.333-.333v-.903a.333.333 0 00-.093-.231l-2.164-2.25A1.333 1.333 0 008.782 3H8zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994z"/></svg>'},e,{size:"small"}));o.displayName="Generic16Icon";var c=o;t.default=c}}]);
//# sourceMappingURL=vendors~@atlaskit-internal_media-card.bundle.js.map