(window.webpackJsonp=window.webpackJsonp||[]).push([[156,0,1,2,3,14,28,139],{1283:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(17),a=n(1409),i="\n  display: flex;\n  justify-content: center;\n",o="\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n",c=("\n  border-top-left-radius: ".concat(Object(r.d)(),";\n  border-bottom-left-radius: ").concat(Object(r.d)(),";\n"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"\n  transition: ".concat(e," ").concat(a.a,";\n")}),s=function(e,t){return"rgba(".concat(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),",").concat(parseInt(t[2],16),",").concat(parseInt(t[3],16)):null}(e),", ").concat(t,")")}},1297:function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return q}));var r,a=n(8),i=n.n(a),o=n(9),c=n.n(o),s=n(13),l=n.n(s),u=n(15),d=n.n(u),f=n(6),p=n.n(f),v=n(1),h=n.n(v),m=n(7),b=n.n(m),g=n(0),y=n.n(g),O=n(48),w=n(1338),j=n.n(w),x=n(1339),k=n.n(x),I=n(1340),P=n.n(I),R=n(1341),C=n.n(R),E=n(1342),S=n.n(E),B=n(1343),M=n.n(B),z=n(341),N=n.n(z),T=n(342),D=n.n(T),F=n(264),A=n.n(F),L=n(505),_=n.n(L),U=n(312),V=n.n(U),H=n(769),W=n.n(H);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var X=O.a.div(r||(r=b()(["\n  display: inline-flex;\n  ","\n"])),(function(e){return"large"===e.size?"padding: 4px;":""}));X.displayName="IconWrapper";var Y={image:j.a,audio:k.a,video:P.a,doc:C.a,archive:S.a,unknown:M.a},K={image:N.a,audio:D.a,video:A.a,doc:_.a,archive:V.a,unknown:W.a},q=function(e){l()(n,e);var t=G(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=e.testId,a="large"===n?Y:K,i=a[t||"unknown"]||a.unknown;return y.a.createElement(X,{"data-testid":r,"data-type":t,size:n},y.a.createElement(i,{label:"media-type"}))}}]),n}(y.a.Component);h()(q,"defaultProps",{type:"unknown",testId:"file-type-icon",size:"large"})},1310:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r,a=n(7),i=n.n(a),o=n(2),c=n(17),s=(n(338),function(){return Object(o.c)(r||(r=i()(["\n  box-sizing: border-box;\n  font-family: ",";\n\n  * {\n    box-sizing: border-box;\n  }\n"])),Object(c.f)())}),l="\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);\n"},1316:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,a=n(0),i=n.n(a),o=n(155),c=n(93),s=n(1),l=n.n(s),u=n(513),d=(r={},l()(r,u.b,"next"),l()(r,u.e,"prev"),l()(r,u.d,"first"),l()(r,u.c,"last"),r);var f=Object(a.createContext)({menuItemRefs:[],registerRef:c.a});t.b=function(e){var t=e.children,n=Object(a.useRef)([]),r=Object(a.useCallback)((function(e){e&&!n.current.includes(e)&&n.current.push(e)}),[]);Object(a.useEffect)((function(){return Object(o.bind)(window,{type:"keydown",listener:(e=n.current,function(t){var n=e.findIndex((function(e){var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));switch(d[t.key]){case"next":n<e.length-1&&(t.preventDefault(),e[n+1].focus());break;case"prev":n>0&&(t.preventDefault(),e[n-1].focus());break;case"first":t.preventDefault(),e[0].focus();break;case"last":t.preventDefault(),e[e.length-1].focus();break;default:return}})});var e}));var c={menuItemRefs:n.current,registerRef:r};return i.a.createElement(f.Provider,{value:c},t)}},1321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.595 19.522C7.162 20.364 6 19.702 6 18.04V5.963C6 4.3 7.158 3.635 8.595 4.479l11.083 6.51c.951.559.958 1.46 0 2.023l-11.083 6.51z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="VidPlayIcon";var c=o;t.default=c},1322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0112 4a4 4 0 014 4.002V10a2 2 0 012 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 016 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0012 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e));o.displayName="LockFilledIcon";var c=o;t.default=c},1330:function(e,t,n){"use strict";var r=n(2),a=Object(r.c)({width:"1px",height:"1px",padding:"0",position:"absolute",border:"0",clip:"rect(1px, 1px, 1px, 1px)",overflow:"hidden",whiteSpace:"nowrap"});t.a=function(e){var t=e.children,n=e.testId,i=e.role,o=e.id;return Object(r.d)("span",{id:o,"data-testid":n,css:a,role:i},t)}},1335:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r,a,i=n(1),o=n.n(i);!function(e){e.SMALL="small",e.LARGE="large"}(a||(a={}));var c=(r={},o()(r,a.SMALL,{fontSize:11,lineHeight:14,titleBox:{verticalPadding:4,horizontalPadding:8}}),o()(r,a.LARGE,{fontSize:14,lineHeight:22,titleBox:{verticalPadding:8,horizontalPadding:12}}),r),s=function(e){return 2*(c[e].lineHeight+c[e].titleBox.verticalPadding)}},1336:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),a=n.n(r),i=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return e},n=void 0!==e,r=Object(i.useState)(t),o=a()(r,2),c=o[0],s=o[1],l=Object(i.useRef)(n);Object(i.useEffect)((function(){l.current=n}),[n]);var u=n?e:c,d=Object(i.useCallback)((function(e){l.current||s(e)}),[]);return[u,d]}},1337:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),a=n.n(r),i=n(1289),o=n(1297),c=function(e){var t=e.mediaType,n=void 0===t?"unknown":t,r=e.mimeType,c=void 0===r?"unknown":r,s=e.name,l=void 0===s?"unknown":s,u=e.testId,d=e.size,f=void 0===d?"large":d,p=Object(i.d)(c,l);if(p){var v=p.icon;return a.a.createElement(o.a,{"data-testid":u,"data-type":p.label,size:f},a.a.createElement(v,{label:p.label}))}return a.a.createElement(o.b,{testId:u,type:n,size:f})}},1338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm7 17l-1.293-1.293a1 1 0 00-1.414 0L4 19h16v-3.6l-3.295-3.624a1 1 0 00-1.447-.034L10 17zm-3.333-6.667a2.667 2.667 0 100-5.333 2.667 2.667 0 000 5.333z"/></svg>'},e,{size:"medium"}));o.displayName="Image24Icon";var c=o;t.default=c},1339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm16 6.673V5.619c0-.38-.322-.656-.72-.615l-8.56.886c-.41.043-.72.383-.72.764v6.462A2.8 2.8 0 008.2 13h-.4A2.8 2.8 0 005 15.8v.4A2.8 2.8 0 007.8 19h.4a2.8 2.8 0 002.8-2.8V8.863l6-.62v3.873a2.8 2.8 0 00-.8-.116h-.4a2.8 2.8 0 00-2.8 2.8v.4a2.8 2.8 0 002.8 2.8h.4a2.8 2.8 0 002.8-2.8V6.673z"/></svg>'},e,{size:"medium"}));o.displayName="Audio24Icon";var c=o;t.default=c},1340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 7.995v8.01c0 .54.446.995.995.995h8.01c.54 0 .995-.446.995-.995v-8.01c0-.54-.446-.995-.995-.995h-8.01C4.455 7 4 7.446 4 7.995zm15.16 7.943c.38.185.84-.066.84-.457V8.52c0-.39-.46-.642-.84-.457L16 9.592v4.817l3.16 1.53z"/></svg>'},e,{size:"medium"}));o.displayName="Video24Icon";var c=o;t.default=c},1341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1 18c0 .556.446 1 .995 1h8.01c.54 0 .995-.448.995-1 0-.556-.446-1-.995-1h-8.01c-.54 0-.995.448-.995 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1zm0-4c0 .556.448 1 1 1h14c.555 0 1-.448 1-1 0-.556-.448-1-1-1H5c-.555 0-1 .448-1 1z"/></svg>'},e,{size:"medium"}));o.displayName="Document24Icon";var c=o;t.default=c},1342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm6 3v3h3V3H9zm3 3v3h3V6h-3zM9 9v3h3V9H9zm3 3v3h3v-3h-3zm-3 3v3h3v-3H9zm3 3v3h3v-3h-3z"/></svg>'},e,{size:"medium"}));o.displayName="Archive24Icon";var c=o;t.default=c},1343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M12 4H8a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2v-6.995h-2V18H8V6h4v2a2 2 0 002 2h3.5a.5.5 0 00.5-.5V8.213a.5.5 0 00-.145-.352L14.61 4.59A2 2 0 0013.19 4H12zM3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3z"/></svg>'},e,{size:"medium"}));o.displayName="Generic24Icon";var c=o;t.default=c},1362:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t="".concat(e);return"%"===t[t.length-1]&&!isNaN(+t.slice(0,-1))}},1363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e));o.displayName="MoreIcon";var c=o;t.default=c},1364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e));o.displayName="CheckIcon";var c=o;t.default=c},1408:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=e.getBoundingClientRect()[t];return Math.round(n)}},1409:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=".3s"},1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return w})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return I}));var r,a=n(7),i=n.n(a),o=n(21),c=n.n(o),s=n(2),l=n(338),u=n(3),d=n(72),f=n(464),p=n(1125),v=n(1471),h=n(1411),m=n(1335),b=[[m.a.SMALL,599],[m.a.LARGE,1/0]],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=b.find((function(t){var n=c()(t,2),r=(n[0],n[1]);return e<=r}))||[m.a.SMALL],n=c()(t,1),r=n[0];return r},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a.SMALL,t=m.c[e];return"\n    font-size: ".concat(t.fontSize,"px;\n    line-height: ").concat(t.lineHeight,"px;\n  ")},O=function(e,t){var n=e||{},r=n.width,a=n.height,i=Object(p.b)(t),o=i.width,c=i.height;return"\n    width: ".concat(Object(f.a)(r||o),";\n    max-width: 100%;\n    height: ").concat(Object(f.a)(a||c),";\n    max-height: 100%;\n  ")},w=function(e,t){var n=e?"":"0 1px 1px ".concat(u.N60A,", 0 0 1px 0 ").concat(u.N60A),r=[t?d.G:"",n].filter(Boolean).join(", ");return r?"box-shadow: ".concat(r,";"):""},j=function(e){return e?"cursor: ".concat(e,";"):""},x=function(e){return e?"\n    &:hover .".concat(h.d," {\n      ").concat(h.c,"\n    }\n  "):""},k=function(e){return e?"\n    &:hover .".concat(v.a," {\n      ").concat(v.b,"\n    }\n  "):""},I=Object(s.c)(r||(r=i()(["\n  display: flex;\n  position: relative;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  ","\n"])),l.b)},1411:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return p}));var r,a,i=n(7),o=n.n(i),c=n(2),s=n(3),l="media-card-play-button",u="play-icon-background",d="\n  .".concat(u," {\n    width: ").concat(56,"px;\n    height: ").concat(56,"px;\n  }\n"),f=Object(c.c)(r||(r=o()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  span {\n    position: absolute;\n  }\n"])),s.N0),p=Object(c.c)(a||(a=o()(["\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border-radius: 100%;\n"])),48,48,s.N90A)},1412:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return c(e,t);return null},e.exports.format=c,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,a=/(?:\.0*|(\.[^0]+)0+)$/,i={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function c(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),o=t&&t.thousandsSeparator||"",c=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&i[u.toLowerCase()]||(u=n>=i.pb?"PB":n>=i.tb?"TB":n>=i.gb?"GB":n>=i.mb?"MB":n>=i.kb?"KB":"B");var d=(e/i[u.toLowerCase()]).toFixed(s);return l||(d=d.replace(a,"$1")),o&&(d=d.split(".").map((function(e,t){return 0===t?e.replace(r,o):e})).join(".")),d+c+u}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=o.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),isNaN(t)?null:Math.floor(i[r]*t)}},1413:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="cubic-bezier(0.215, 0.61, 0.355, 1)"},1414:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(768),a={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},i=function(e){var t=e.day,n=e.month,r=e.year,a=e.hour,i=e.minute,o=e.dayPeriod,c=(void 0===o?"":o).replace(/\./g,"").replace(/\s/g,"");return"".concat(t," ").concat(n," ").concat(r,", ").concat(a,":").concat(i," ").concat(c)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Object(r.a)(t,a);return i(n.formatToParts(e))}},1451:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return D}));var r,a,i=n(20),o=n.n(i),c=n(11),s=n.n(c);!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(r||(r={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(a||(a={}));var l,u={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},d=n(1),f=n.n(d),p=n(44),v=n.n(p),h=a.XResolution,m=a.YResolution;function b(e){return new Promise(function(){var t=o()(s.a.mark((function t(r,a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=5;break}return t.next=3,n.e(163).then(n.t.bind(null,2055,7));case 3:i=t.sent,l=i.default||i;case 5:l.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"!==v()(n)||e!==h&&e!==m||!("numerator"in n)||(t[e]=n.numerator),"number"==typeof t[e]&&(t[e]="".concat(t[e]))})),r(t)}catch(e){a(e)}}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}var g,y=n(1289);function O(e){return w.apply(this,arguments)}function w(){return(w=o()(s.a.mark((function e(t){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return e.next=3,n.e(169).then(n.t.bind(null,2054,7));case 3:r=e.sent,g=r.default||r;case 5:return e.next=7,Object(y.a)(t);case 7:return a=e.sent,i=g(a),e.next=11,j(i);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return(x=o()(s.a.mark((function e(t){var n,r,a,i,o,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",r={},a=0;case 3:if(!(a<t.length)){e.next=12;break}if("IEND"!==(i=t[a]).name){e.next=7;break}return e.abrupt("break",12);case 7:"iTXt"===i.name&&(n=String.fromCharCode.apply(null,Array.from(i.data))),"pHYs"===i.name&&(o=new DataView(i.data.buffer),1===o.getUint8(8)&&(c=o.getUint32(0),l=o.getUint32(4),r={PixelPerUnitX:c,PixelPerUnitY:l}));case 9:++a,e.next=3;break;case 12:return e.abrupt("return",{iTXt:n,pHYs:r});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var r=n[2];t[r]=n[3]}})),t}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return C.apply(this,arguments)}function C(){return(C=o()(s.a.mark((function e(t){var n,a,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,n!==r.PNG){e.next=12;break}return e.next=5,O(t);case 5:return a=e.sent,i=a.iTXt,o=a.pHYs,c=P(P({},k(i)),o),e.abrupt("return",c);case 12:if(t.type!==r.JPEG){e.next=16;break}return e.next=15,b(t);case 15:return e.abrupt("return",e.sent);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}var E=n(1290),S=a.Orientation,B=a.XResolution;function M(e){return z.apply(this,arguments)}function z(){return(z=o()(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=n.width,a=n.height,i=n.tags,o=N(t.file,i),e.abrupt("return",{scaleFactor:o,width:r,height:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(e){}return null}(e);return null!==n?n:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:A(t,B,72)/72:1}var T=function(e){if(e&&e[S]){var t=e[S];if(t){var n=parseInt(t,10);return isNaN(n)?u[t]:n}}return 1};function D(e){return F.apply(this,arguments)}function F(){return(F=o()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return n=e.sent,e.abrupt("return",T(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){try{var r=parseFloat("".concat(e[t]));if(!isNaN(r))return r}catch(e){}return n}function L(e){return _.apply(this,arguments)}function _(){return(_=o()(s.a.mark((function e(t){var n,r,a,i,o,c,l,u,d,f,p,v,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.src,a=n.type,i=0,o=0,e.next=6,R(n);case 6:if((c=e.sent)&&c.PixelXDimension&&(i=A(c,"PixelXDimension",0)),c&&c.PixelXDimension&&(o=A(c,"PixelYDimension",0)),l=T(c),u=Object(E.b)(l),d={type:a,width:i,height:o,naturalWidth:i,naturalHeight:o,tags:c},!(u||0===i&&0===o)){e.next=27;break}return e.prev=13,e.next=16,Object(y.e)(r);case 16:f=e.sent,p=Object(y.f)(f),v=p.width,h=p.height,d.width=v,d.height=h,d.naturalWidth=f.naturalWidth,d.naturalHeight=f.naturalHeight,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(13),e.abrupt("return",null);case 27:return e.abrupt("return",d);case 28:case"end":return e.stop()}}),e,null,[[13,24]])})))).apply(this,arguments)}},1471:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}));var r,a=n(7),i=n.n(a),o=n(2),c=n(1283),s=n(3),l="media-card-tickbox",u="\n  background-color: ".concat(s.N0,";\n  color: ").concat(s.N100,";\n"),d=function(e){return Object(o.c)(r||(r=i()(["\n  ",'\n  font-size: 14px;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  border-radius: 20px;\n  color: transparent;\n  /* Enforce dimensions and position of "tick" icon */\n  span {\n    display: block;\n    svg {\n      height: 14px;\n    }\n  }\n  ',"\n"])),Object(c.d)(),function(e){return e?"background-color: ".concat(s.B200,";\n      color: white;"):""}(e))};d.displayName="TickBoxWrapper"},1527:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,a=n(0),i=n.n(a),o=n(2),c=n(7),s=n.n(c),l=n(338),u=n(1283),d=n(3),f=n(1335),p={marginBottom:4},v={marginBottom:12};var h=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,a=e.showOnTop;return"\n".concat(l.b,"\noverflow: hidden;\nposition: absolute;\nwidth: ").concat(95,"%;\nleft: ").concat(2.5,"%;\nbackground-color: ").concat(Object(u.c)(d.N0,.8),";\nheight: ").concat(5,"px;\npadding: ").concat(1,"px;\nbox-sizing: border-box;\n\n::before {\n  content: '';\n  width: ").concat(t,"%;\n  height: 100%;\n  background-color: ").concat(d.N400,";\n  ").concat(l.b,"\n  display: block;\n}\n").concat(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=e===f.a.SMALL?p:v,i=f.c[e].titleBox.verticalPadding,o=a.marginBottom*r+(t?i:Object(f.b)(e));return"\n    ".concat(n?"top":"bottom",": ").concat(o,"px\n  ")}(n,r,a),"\n")},m=function(e){return Object(o.c)(r||(r=s()(["\n    ","\n  "])),h(e))};m.displayName="StyledProgressBar";var b=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,a=e.showOnTop;return Object(o.d)("div",{id:"styledBar",css:m({progress:t,breakpoint:n,positionBottom:r,showOnTop:a})})},g=function(e){return 100*Math.min(1,Math.max(0,e||0))},y=function(e){var t=e.progress,n=e.breakpoint,r=void 0===n?f.a.SMALL:n,a=e.positionBottom,o=void 0!==a&&a,c=e.showOnTop,s=void 0!==c&&c;return i.a.createElement(b,{progress:g(t),breakpoint:r,positionBottom:o,showOnTop:s})}},1583:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1412);function a(e){var t=parseInt("".concat(e),10),n=t<1<<20?0:1;return r.format(t,{unitSeparator:" ",decimalPlaces:n}).toUpperCase()}},1584:function(e,t,n){"use strict";var r=n(1273);t.a=r.a},1585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0119.005 21H4.995A1.995 1.995 0 013 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="ImageIcon";var c=o;t.default=c},1586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19 6.673V15.2a2.8 2.8 0 01-2.8 2.8h-.4a2.8 2.8 0 01-2.8-2.8v-.4a2.8 2.8 0 012.8-2.8h.4c.278 0 .547.04.8.116V8.242l-6 .621V16.2A2.8 2.8 0 018.2 19h-.4A2.8 2.8 0 015 16.2v-.4A2.8 2.8 0 017.8 13h.4c.278 0 .547.04.8.116V6.654c0-.38.31-.721.72-.764l8.56-.886c.398-.041.72.235.72.615v1.054z" fill="currentColor"/></svg>'},e));o.displayName="AudioIcon";var c=o;t.default=c},1587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16.37 14.954L14 13.807v-3.613l2.37-1.148c.285-.138.63.05.63.343v5.222c0 .293-.345.481-.63.343" fill="inherit"/><rect fill="inherit" x="7" y="9" width="6" height="6" rx="1"/></g></svg>'},e));o.displayName="MediaServicesVideoIcon";var c=o;t.default=c},1588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="DocumentIcon";var c=o;t.default=c},1589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><rect x="8" y="6" width="8" height="2" rx="1"/><rect x="8" y="9" width="8" height="2" rx="1"/><rect x="8" y="12" width="4" height="2" rx="1"/><path d="M7 4v16h10V4H7zm-2-.01C5 2.892 5.897 2 7.006 2h9.988C18.102 2 19 2.898 19 3.99v16.02c0 1.099-.897 1.99-2.006 1.99H7.006A2.003 2.003 0 015 20.01V3.99z" fill-rule="nonzero"/></g></svg>'},e));o.displayName="PageIcon";var c=o;t.default=c},1590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M9 6.999C9 6.447 9.443 6 9.999 6H12v3H9.999A.996.996 0 019 8.001V6.999zM12 9h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12V9zm-3 3.999c0-.552.443-.999.999-.999H12v3H9.999A.996.996 0 019 14.001v-1.002zM12 15h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12v-3z" fill="inherit"/></g></svg>'},e));o.displayName="MediaServicesZipIcon";var c=o;t.default=c},1978:function(e,t,n){"use strict";var r=n(22),a=n.n(r),i=n(1),o=n.n(i),c=n(34),s=n.n(c),l=n(21),u=n.n(l),d=n(0),f=n.n(d),p=n(2),v=n(155),h=n(1217),m=n(513),b=n(93),g=n(1336);var y=n(140),O=n.n(y),w=n(525),j=n(763),x=n(17),k=n(1330),I=n(1316),P=n(699);var R=["onClose","setInitialFocusRef"],C=function(e){var t=e.onClose,n=e.setInitialFocusRef,r=s()(e,R),i=Object(d.useContext)(I.a).menuItemRefs;return n&&n(i[0]),f.a.createElement(P.a,a()({role:"menu",onClick:function(e){i.some((function(t){var n,r="checkbox"===(n=t.getAttribute("role"))||"menuitemcheckbox"===n||function(e){var t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!r}))&&t&&t(e)}},r))},E=Object(d.createContext)({setItemState:b.a,getItemState:function(){},setGroupState:b.a,getGroupState:function(){return{}}}),S=function(e){var t=e.children,n=Object(d.useRef)({}),r=Object(d.useMemo)((function(){return{setItemState:function(e,t,r){n.current[e]||(n.current[e]={}),n.current[e][t]=r},getItemState:function(e,t){if(n.current[e])return n.current[e][t]},setGroupState:function(e,t){n.current[e]=t},getGroupState:function(e){return n.current[e]||{}}}}),[]);return f.a.createElement(E.Provider,{value:r},t)};function B(){return Object(d.useRef)("".concat("ds--dropdown--").concat(Math.random().toString(16).substr(2,8))).current}var M=["ref"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=Object(x.i)(),D=Object(p.c)({display:"flex",minWidth:"".concat(20*T,"px"),padding:"".concat(2.5*T,"px"),justifyContent:"center"}),F="calc(100vh - ".concat(2*T,"px)"),A={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"};t.a=function(e){var t=e.defaultOpen,n=void 0!==t&&t,r=e.isOpen,i=e.onOpenChange,o=void 0===i?b.a:i,c=e.children,l=e.placement,f=void 0===l?"bottom-start":l,y=e.trigger,P=e.shouldFlip,R=void 0===P||P,E=e.isLoading,z=void 0!==E&&E,T=e.autoFocus,L=void 0!==T&&T,_=e.testId,U=e.statusLabel,V=void 0===U?"Loading":U,H=e.zIndex,W=void 0===H?x.j.modal():H,G=Object(g.a)(r,(function(){return n})),X=u()(G,2),Y=X[0],K=X[1],q=Object(d.useState)(!1),$=u()(q,2),J=$[0],Z=$[1],Q=Object(d.useMemo)((function(){return function(e){var t=e.split("-"),n=t[0];if(["top","bottom"].includes(n)){if(2===t.length&&["start","end"].includes(t[1])){var r=t[1];return["".concat(n),"".concat(n,"-").concat(A[r]),"".concat(A[n],"-").concat(r),"".concat(A[n]),"".concat(A[n],"-").concat(A[r]),"auto"]}return["".concat(n,"-start"),"".concat(n,"-end"),"".concat(A[n]),"".concat(A[n],"-start"),"".concat(A[n],"-end"),"auto"]}}(f)}),[f]),ee=Object(d.useCallback)((function(e){var t=!Y,n=e.clientX,r=e.clientY;"keydown"===e.type?Z(!0):0!==n&&0!==r||Z(!0),K(t),o({isOpen:t,event:e})}),[o,Y,K]),te=Object(d.useCallback)((function(e){K(!1),o({isOpen:!1,event:e})}),[o,K]),ne=function(){var e=Object(d.useState)(!1),t=u()(e,2),n=t[0],r=t[1],a=Object(d.useRef)({onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}});return Object(d.useEffect)((function(){return function(){return r(!1)}}),[]),{isFocused:n,bindFocus:a.current}}(),re=ne.isFocused,ae=ne.bindFocus;Object(d.useEffect)((function(){return re?Y?b.a:Object(v.bind)(window,{type:"keydown",listener:function(e){e.key===m.b&&(e.preventDefault(),ee(e))}}):b.a}),[re,Y,ee]);var ie=B();return Object(p.d)(S,null,Object(p.d)(w.a,{id:Y?ie:void 0,shouldFlip:R,isOpen:Y,onClose:te,zIndex:W,placement:f,fallbackPlacements:Q,testId:_&&"".concat(_,"--content"),shouldUseCaptureOnOutsideClick:!0,trigger:function(e){if("function"==typeof y){var t=e.ref,n=s()(e,M);return y(N(N(N({},n),ae),{},{triggerRef:t,isSelected:Y,onClick:ee,testId:_&&"".concat(_,"--trigger")}))}return Object(p.d)(h.a,a()({},ae,{ref:e.ref,"aria-controls":e["aria-controls"],"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],isSelected:Y,iconAfter:Object(p.d)(O.a,{size:"medium",label:""}),onClick:ee,testId:_&&"".concat(_,"--trigger")}),y)},content:function(e){var t=e.setInitialFocusRef;return Object(p.d)(I.b,null,Object(p.d)(C,{maxHeight:F,maxWidth:800,onClose:te,setInitialFocusRef:J||L?t:void 0},z?Object(p.d)("div",{css:D},Object(p.d)(j.a,{size:"small"}),Object(p.d)(k.a,{role:"status"},V)):c))}}))}},1983:function(e,t,n){"use strict";var r=n(22),a=n.n(r),i=n(34),o=n.n(i),c=n(0),s=n.n(c),l=n(1110),u=n(1240),d=n(1239),f=n(1316);var p=function(){var e=Object(c.useContext)(f.a).registerRef,t=Object(c.useRef)(null);return Object(c.useEffect)((function(){null!==t.current&&e(t.current)}),[e]),t},v=["component","elemBefore","elemAfter","shouldTitleWrap","shouldDescriptionWrap"];t.a=function(e){var t=e.component,n=e.elemBefore,r=e.elemAfter,i=e.shouldTitleWrap,c=void 0===i||i,f=e.shouldDescriptionWrap,h=void 0===f||f,m=o()(e,v),b=p();return t?s.a.createElement(u.a,a()({component:t,iconBefore:n,iconAfter:r,shouldTitleWrap:c,shouldDescriptionWrap:h},m)):e.href?s.a.createElement(d.a,a()({href:e.href,iconBefore:n,iconAfter:r,role:"menuitem",ref:b,shouldTitleWrap:c,shouldDescriptionWrap:h},m)):s.a.createElement(l.a,a()({role:"menuitem",iconBefore:n,iconAfter:r,ref:b,shouldTitleWrap:c,shouldDescriptionWrap:h},m))}},2136:function(e,t,n){"use strict";n.r(t),n.d(t,"CardBase",(function(){return ho})),n.d(t,"Card",(function(){return mo}));var r=n(19),a=n.n(r),i=n(20),o=n.n(i),c=n(8),s=n.n(c),l=n(9),u=n.n(l),d=n(5),f=n.n(d),p=n(13),v=n.n(p),h=n(15),m=n.n(h),b=n(6),g=n.n(b),y=n(1),O=n.n(y),w=n(11),j=n.n(w),x=n(0),k=n.n(x),I=n(71),P=n.n(I),R=n(261),C=n(2030),E=n(437),S=n.n(E),B=n(1461),M=n(166),z=n(1361),N=n(157),T=n(542),D=n(1253),F=n(385),A=n(231),L=n(2),_=n(1115),U=n(1337),V=n(763),H=n(1131),W=n(1583),G=n(1130),X=n(116),Y=n(438),K=n(22),q=n.n(K),$=n(34),J=n.n($),Z=["style","imageRef"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={position:"absolute",left:"50%",top:"50%",objectFit:"contain",imageOrientation:"none"},ne=function(e){var t=e.style,n=e.imageRef,r=J()(e,Z);return k.a.createElement("img",q()({},r,{ref:n,style:ee(ee({},te),t)}))},re=n(1290);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ie=function(e){v()(n,e);var t=ae(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(f()(r),"onImageLoad",(function(e){if(r.imageRef&&r.imageRef.current){var t=r.props.onImageLoad;r.setState({isImageLoaded:!0,imgWidth:r.imageRef.current.naturalWidth,imgHeight:r.imageRef.current.naturalHeight}),t&&t(e.currentTarget)}})),r.imageRef=k.a.createRef(),r.state={isImageLoaded:!1,imgWidth:0,imgHeight:0,parentWidth:1/0,parentHeight:1/0},r}return u()(n,[{key:"componentDidMount",value:function(){var e=P.a.findDOMNode(this).parentElement;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({parentWidth:n,parentHeight:r})}}},{key:"render",value:function(){var e=this.props,t=e.crop,n=e.stretch,r=e.dataURI,a=e.previewOrientation,i=e.crossOrigin,o=e.onImageError,c=e.alt,s=void 0===c?"":c,l=e.loading,u=e.forceSyncDisplay,d=this.state,f=d.parentWidth,p=d.parentHeight,v=d.imgWidth,h=d.imgHeight,m=d.isImageLoaded,b=f/p,g=v/h,y="100%",O=t,w=!t,j=Object(re.b)(a||1);j&&(g=1/g,y="".concat(Math.ceil(100*g),"%"));var x=g>b;j&&v>h&&(w||x||O&&!x)&&(y="".concat(Math.ceil(1/g*100),"%"));var I=u||m||w&&!j,P={transform:"translate(-50%, -50%)"};if(n?w&&x?P.width=y:w&&!x||O&&x?P.height=y:O&&!x&&(P.width=y):w?(P.maxWidth=y,P.maxHeight=y):O&&x?P.maxHeight=y:O&&!x&&(P.maxWidth=y),I||(P.display="none"),a&&a>1){var R=Object(re.a)(a);P.transform+=" ".concat(R)}return k.a.createElement(ne,{loading:l,"data-testid":"media-image",draggable:!1,alt:s,style:P,onLoad:this.onImageLoad,onError:o,imageRef:this.imageRef,src:r,crossOrigin:i})}}]),n}(x.Component);O()(ie,"defaultProps",{crop:!0,stretch:!1,forceSyncDisplay:!1});var oe,ce=n(7),se=n.n(ce),le=n(48),ue=n(353),de=le.a.div(oe||(oe=se()(["\n  ",";\n"])),(function(e){return e.inline?"display: inline;":""}));de.displayName="Ellipsify";var fe,pe=function(e){var t=e.text,n=e.lines,r=e.endLength,a=e.inline,i=e.testId,o=Object(x.useRef)(null);return Object(x.useEffect)((function(){o.current&&ve(o.current,{lines:n,endLength:r})}),[o,n,r]),k.a.createElement(de,{className:"ellipsed-text",ref:o,"aria-label":t,inline:a,"data-testid":i},t)},ve=function(e,t){var n=t.lines,r=e.getBoundingClientRect().height,a=e.textContent;e.textContent="a";var i=e.getBoundingClientRect().height,o=r/i,c=i*n;if(o<=n)e.textContent=a;else{var s=a,l="number"==typeof t.endLength&&t.endLength>=0?t.endLength:8,u=a.substr(0,a.length*n/o-l),d=a.substr(a.length-l,l);if(e.textContent=s="".concat(u,"...").concat(d),e.getBoundingClientRect().height>c){var f=u.substr(0,u.length-u.length/n*.25);s="".concat(f,"...").concat(d)}he((function(){return e.textContent=s}))}},he=ue.canUseDOM&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,1)},me=n(1321),be=n.n(me),ge=n(104),ye=n.n(ge),Oe=n(1364),we=n.n(Oe),je=n(1585),xe=n.n(je),ke=n(1586),Ie=n.n(ke),Pe=n(1590),Re=n.n(Pe),Ce=n(1587),Ee=n.n(Ce),Se=n(1588),Be=n.n(Se),Me=n(1589),ze=n.n(Me),Ne=n(3),Te={image:Ne.Y200,audio:Ne.P200,video:"#ff7143",doc:Ne.B300,unknown:"#3dc7dc",archive:""},De=function(e){return Object(L.c)(fe||(fe=se()(["\n  display: inline-flex;\n  color: ",";\n"])),(t=e.type,Te[t]||Te.unknown));var t},Fe=function(e){return Object(L.d)("div",{id:"iconWrapper",css:De(e)},e.children)};function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Le,_e={image:xe.a,audio:Ie.a,video:Ee.a,doc:Be.a,unknown:ze.a,archive:Re.a},Ue=function(e){v()(n,e);var t=Ae(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0===n?"small":n,a=e.className,i=t&&_e[t]||_e.unknown;return k.a.createElement(Fe,{type:t||"unknown"},k.a.createElement(i,{label:"media-type",size:r,className:a}))}}]),n}(k.a.Component),Ve=n(338),He=Object(L.c)(Le||(Le=se()(["\n  float: left;\n  margin-right: 6px;\n  position: relative;\n  top: 1px;\n  img {\n    ",";\n  }\n"])),Object(Ve.f)("12px !important"));function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Ge,Xe=function(e){v()(n,e);var t=We(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.mediaType,n=e.iconUrl,r=e.style,a=t||"unknown",i=Object(L.d)(Ue,{type:t,size:"small",className:"file-type-icon"}),o=n?Object(L.d)("img",{src:n,className:"custom-icon",alt:a}):i;return Object(L.d)("div",{css:He,style:r,className:"file-type-icon"},o)}}]),n}(x.Component),Ye=n(546),Ke=n.n(Ye),qe=Object(L.c)(Ge||(Ge=se()(["\n  display: flex;\n  color: #ff991f;\n"])));function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Je=function(e){v()(n,e);var t=$e(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.size;return Object(L.d)("div",{css:qe},Object(L.d)(Ke.a,{label:"Error",size:e}))}}]),n}(x.Component);O()(Je,"defaultProps",{size:"small"});var Ze,Qe,et,tt=n(1310),nt=Object(L.c)(Ze||(Ze=se()(["\n  ","\n  display: flex;\n  position: relative;\n  line-height: 0;\n"])),Object(tt.b)());!function(e){e.default="default",e.filled="filled"}(et||(et={}));var rt=function(e){var t=e.variant;return Object(L.c)(Qe||(Qe=se()(["\n  ","\n  ","\n    ","\n    color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"])),Ve.c,Ve.b,Object(Ve.f)(26),Ne.N500,function(e){return"filled"===e?"\n    background: ".concat(Ne.N0,";\n    margin-right: 8px;\n    opacity: 0.8;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "):"\n    &:hover {\n      background-color: rgba(9, 30, 66, 0.06);\n    }\n  "}(t))},at=function(e){return Object(L.d)("div",{id:"cardActionButton","data-testid":"media-card-primary-action",css:rt(e),style:e.style,onClick:e.onClick,onMouseDown:e.onMouseDown},e.children)};function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ot=function(e){v()(n,e);var t=it(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(f()(e),"onMouseDown",(function(e){e.preventDefault()})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.triggerColor,r=e.onClick,a=e.variant;return k.a.createElement(at,{onClick:r,onMouseDown:this.onMouseDown,style:{color:n},variant:a},t)}}]),n}(x.Component),ct=n(1363),st=n.n(ct),lt=n(1983),ut=n(1978),dt=n(1584),ft=n(551),pt=n(134),vt=n(1470),ht=n(504),mt=n(344);function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var gt=function(e){v()(n,e);var t=bt(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e)).primaryReason=e,a.secondaryError=r,Object.setPrototypeOf(f()(a),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace(f()(a),this instanceof n?this.constructor:void 0),a}return u()(n)}(n.n(mt)()(Error)),yt=function(e){v()(n,e);var t=bt(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return u()(n)}(gt),Ot=function(e){v()(n,e);var t=bt(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return u()(n)}(gt),wt=function(e){v()(n,e);var t=bt(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return u()(n)}(gt),jt=function(e){v()(n,e);var t=bt(n);function n(e){return s()(this,n),t.call(this,function(e){switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}}(e))}return u()(n)}(gt);function xt(e){return e instanceof gt}var kt=function(e){return xt(e)&&"local-preview-unsupported"===e.primaryReason};var It=function(e){return e&&"upload"===e.primaryReason};function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,mediaUploadApiV2:!0,memoryCacheLogging:!0},Et=Object(_.b)(Ct),St=Object(_.a)(Ct),Bt=function(e,t,n){return{eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:n}}},Mt=function(e){return xt(e)?e.primaryReason:"nativeError"},zt=function(e){if(xt(e)&&e.secondaryError){var t=Object(ft.a)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},Nt=function(e){return xt(e)&&e.secondaryError?e.secondaryError.message:e.message},Tt=function(e){if(xt(e)&&e.secondaryError&&Object(pt.b)(e.secondaryError))return e.secondaryError.metadata},Dt=function(e){return{failReason:Mt(e),error:zt(e),errorDetail:Nt(e)}},Ft=function(e,t,n,r){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:Rt(Rt({fileAttributes:e,performanceAttributes:t,status:"fail"},Dt(n)),{},{request:Tt(n),ssrReliability:r})}},At=function(e,t,n){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:n}}};function Lt(e,t){t&&t(e).fire(vt.a)}var _t=function(e){return Object(ht.a)(vt.a)(e)},Ut=["triggerRef"];function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Ht=Object(R.a)({onClick:_t({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenu",attributes:{}})})((function(e){return k.a.createElement(at,e)})),Wt=function(e){return k.a.createElement(lt.a,q()({"data-testid":"media-card-actions-menu-item"},e))},Gt=function(e,t){var n=e.label,r=e.handler,a=Object(R.a)({onClick:_t({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenuItem",attributes:{label:n}})})(Wt);return k.a.createElement(a,{key:t,onClick:r},n)},Xt=function(e){v()(n,e);var t=Vt(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.triggerColor,r=e.onOpenChange,a=e.triggerVariant;return t.length>0?k.a.createElement(ut.a,{testId:"media-card-actions-menu",onOpenChange:r,trigger:function(e){var t=e.triggerRef,r=J()(e,Ut);return k.a.createElement(Ht,q()({variant:a,style:{color:n},ref:t},r),k.a.createElement(st.a,{label:"more"}))}},k.a.createElement(dt.a,null,t.map(Gt))):null}}]),n}(x.Component);function Yt(e){var t=e.children;return k.a.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault()}},t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var qt=function(e){return Object(L.d)(ot,e)},$t=function(e){v()(n,e);var t=Kt(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.actions;if(!e.length)return null;var t=e.find(Jt),n=e.filter(Zt(t));return Object(L.d)(Yt,null,Object(L.d)("div",{css:nt},t?this.renderActionIconButton(t,!0):null,this.renderOtherActionButtons(n)))}},{key:"renderActionIconButton",value:function(e,t){var n=this.props,r=n.triggerColor,a=n.variant,i=e.icon,o=e.handler,c=e.label,s=t?"mediaCardPrimaryActionButton":"mediaCardSecondaryActionButton",l=Object(R.a)({onClick:_t({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:s,attributes:{label:c}})})(qt);return Object(L.d)(l,{icon:i,triggerColor:r,onClick:function(){return o()},variant:a})}},{key:"renderOtherActionButtons",value:function(e){if(0===e.length)return null;var t=this.props,n=t.triggerColor,r=t.onToggle,a=t.variant,i=e.find(Jt),o=e.filter(Zt(i));return i&&0===o.length?this.renderActionIconButton(i,!1):Object(L.d)(Xt,{actions:e,triggerColor:n,onOpenChange:r,triggerVariant:a})}}]),n}(x.Component);function Jt(e){return!!e.icon}function Zt(e){return function(t){return t!==e}}var Qt,en,tn,nn,rn,an,on,cn,sn,ln,un,dn,fn=n(64),pn=n(1283),vn=n(1413),hn=Object(L.c)(Qt||(Qt=se()(["\n  ","\n  ","\n  background-color: ",';\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border-radius: 20px;\n  color: #798599; /* TODO FIL-3884: Align color with new design */\n  display: flex;\n  opacity: 0;\n\n  &.selected {\n    opacity: 1;\n    color: white;\n    background-color: #0052cc; /* TODO FIL-3884: Align with tickbox icons */\n  }\n\n  /* Enforce dimensions of "tick" icon */\n  svg {\n    position: absolute;\n    width: 14px;\n  }\n'])),Object(Ve.f)(14),Object(pn.d)(),Object(pn.c)("#ffffff",.5)),mn=function(e){return Object(L.c)(en||(en=se()(["\n  ","\n  ","\n  "," display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  background: transparent;\n  transition: 0.3s background ",", 0.3s border-color;\n  padding: 16px;\n\n  ","\n  &:not(.persistent):hover, &.active {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n\n    .bottom-row {\n      .delete-btn {\n        display: flex;\n      }\n    }\n  }\n\n  &.noHover:hover {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n  }\n\n  .file-type-icon {\n    display: block;\n  }\n\n  &:not(.persistent) {\n    &:not(.error, .noHover):hover {\n      background-color: ",";\n    }\n\n    &.selectable {\n      &.selected {\n        background-color: ",";\n\n        &:hover {\n          /* TODO FIL-3884 add new overlay with rgba(colors.N900, 0.16) */\n        }\n\n        .title,\n        .bottom-row,\n        .file-size,\n        .more-btn {\n          color: ",";\n        }\n      }\n    }\n  }\n\n  &.persistent {\n    &:not(.active) {\n      overflow: hidden;\n    }\n\n    .top-row {\n      .title {\n        transition: opacity 0.3s;\n        opacity: 0;\n        color: white;\n        visibility: hidden;\n      }\n    }\n\n    .bottom-row {\n      opacity: 0;\n      transition: transform 0.2s, opacity 0.5s;\n      /* This is the height of the overlay footer, needs to be present now since the parent uses flex and 100% doesn't look right anymore */\n      transform: translateY(35px);\n\n      .file-type-icon {\n        display: none;\n      }\n\n      .file-size {\n        color: white;\n        display: none;\n      }\n\n      .more-btn {\n        color: ",";\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n\n      .delete-btn {\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n    }\n\n    &:hover,\n    &.active {\n      background-color: ",";\n\n      .title {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .file-type-icon,\n      .file-size {\n        display: block;\n      }\n\n      .more-btn {\n        "," color: ",";\n      }\n\n      .delete-btn {\n        display: flex;\n      }\n\n      .bottom-row {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    /* Selectable */\n    &.selectable {\n      &:hover {\n        .tickbox {\n          opacity: 1;\n        }\n      }\n\n      &.selected {\n        .tickbox {\n          background-color: "," !important;\n          border-color: "," !important;\n          color: white;\n        }\n      }\n    }\n  }\n\n  &.error {\n    .top-row {\n      overflow: visible;\n    }\n    &:hover,\n    &.active {\n      .top-row {\n        .title {\n          color: ",";\n        }\n      }\n    }\n  }\n"])),Object(Ve.f)(),Object(Ve.a)(),Ve.b,vn.a,function(e){var t=e.hasError,n=e.noHover;if(t||n)return"\n        cursor: default;\n\n        &:hover {\n          background: transparent;\n        }\n      "}(e),Ne.B400,Ne.N800,Object(pn.c)(Ne.N900,.06),Ne.B200,Ne.N0,Ne.N0,Object(pn.c)(Ne.N900,.5),pn.b,Ne.N0,Ne.B200,Ne.B200,Ne.N800)},bn=Object(L.c)(tn||(tn=se()(["\n  height: 24px;\n  display: flex;\n  align-items: center;\n"]))),gn=Object(L.c)(nn||(nn=se()(["\n  width: 100%;\n  position: relative;\n  box-sizing: border-box;\n  vertical-align: middle;\n"]))),yn=Object(L.c)(rn||(rn=se()([""]))),On=Object(L.c)(an||(an=se()(["\n  display: flex;\n  align-items: center;\n  height: 16px;\n"]))),wn=Object(L.c)(on||(on=se()([""]))),jn=Object(L.c)(cn||(cn=se()(["\n  "," display: inline-block;\n  vertical-align: middle;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  max-width: 'calc(100% - 24px)';\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: auto 3px;\n"])),pn.a,Ne.N70),xn=Object(L.c)(sn||(sn=se()(["\n  ","\n  font-weight: normal;\n"])),jn),kn=function(e){return Object(L.c)(ln||(ln=se()(["\n  box-sizing: border-box;\n  word-wrap: break-word;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"])),Object(fn.a)({light:Ne.N800,dark:Ne.DN900})({theme:e}))},In=Object(L.c)(un||(un=se()(["\n  "," font-size: 12px;\n  color: #5e6c84;\n"])),Object(Ve.d)("100px")),Pn=Object(L.c)(dn||(dn=se()(["\n  display: flex;\n  align-items: center;\n"]))),Rn=n(281),Cn=function(e){var t=e.hasError,n=e.noHover,r=e.className;return Object(L.d)("div",{css:mn({hasError:t,noHover:n}),className:r},e.children)},En=function(e){return Object(L.d)("div",{css:jn},e.children)},Sn=function(e){return Object(L.d)("div",{css:xn},e.children)},Bn=function(e){var t=Object(Rn.b)();return Object(L.d)("div",{css:kn(t),className:"title"},e.children)},Mn=function(e){return Object(L.d)("div",{css:Pn,className:e.className},e.children)};function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Nn=function(e){v()(n,e);var t=zn(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(f()(r),"onMenuToggle",(function(e){r.setState({isMenuExpanded:e.isOpen})})),r.state={isMenuExpanded:!1},r}return u()(n,[{key:"wrapperClassNames",get:function(){var e=this.props,t=e.error,n=e.noHover,r=e.selectable,a=e.selected,i=e.mediaType,o=e.persistent,c=this.state.isMenuExpanded;return t?ye()("overlay",{error:t,active:c}):ye()("overlay",i,{active:c,selectable:r,selected:a,persistent:!o,noHover:n})}},{key:"render",value:function(){var e=this.props,t=e.cardStatus,n=e.error,r=e.noHover,a=e.mediaName,i=e.persistent,o=e.selected,c=e.actions,s=function(e,t,n,r){return n||!t||"uploading"===e&&!r?"":t}(t,a,n,o),l=i?void 0:"white";return Object(L.d)(Cn,{hasError:!!n,noHover:r,className:this.wrapperClassNames},Object(L.d)("div",{css:yn,className:"top-row"},this.errorLine(),Object(L.d)(Bn,null,s?Object(L.d)(pe,{testId:"media-card-file-name",text:s,lines:2}):null),this.tickBox()),Object(L.d)("div",{css:On,className:"bottom-row"},Object(L.d)("div",{css:gn},this.bottomLeftColumn()),Object(L.d)("div",{css:wn},c?Object(L.d)($t,{actions:c,onToggle:this.onMenuToggle,triggerColor:l}):null)))}},{key:"errorLine",value:function(){var e=this.props,t=e.error,n=e.alt;return t&&Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{css:bn},Object(L.d)(Je,null),Object(L.d)(En,null,t)),n&&Object(L.d)("div",{css:bn},Object(L.d)(Sn,null,n)))}},{key:"tickBox",value:function(){var e=this.props,t=e.selected,n=e.selectable,r=Object(L.d)(we.a,{label:"tick"}),a=ye()("tickbox",{selected:t});return n&&Object(L.d)("div",{css:hn,className:a},r)}},{key:"bottomLeftColumn",value:function(){if(!this.props.error){var e=this.props,t=e.mediaType,n=e.subtitle,r=e.icon,a=ye()("metadata"),i=t||r?Object(L.d)(Xe,{mediaType:t,iconUrl:r}):null,o=n?Object(L.d)("div",{css:In,className:"file-size"},n):null;return Object(L.d)("div",null,Object(L.d)(Mn,{className:a},i,o))}}},{key:"removeBtnClick",value:function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}}}]),n}(x.Component);O()(Nn,"defaultProps",{actions:[],mediaName:""});var Tn,Dn,Fn,An,Ln,_n,Un,Vn,Hn,Wn,Gn=n(623),Xn=function(e){return Object(L.c)(Tn||(Tn=se()(["\n  ","\n  ","\n  ","\n  ","\n\n  line-height: normal;\n  position: relative;\n\n  ","\n\n  "," .wrapper {\n    ",";\n    display: block;\n    height: inherit;\n    position: relative;\n\n    .img-wrapper {\n      position: relative;\n      width: inherit;\n      height: inherit;\n      overflow: hidden;\n      display: block;\n      ","\n    }\n  }\n"])),Object(tt.b)(),function(e){return e.disableOverlay?"":tt.a}(e),Ve.b,function(e){var t=e.mediaType;return"background: ".concat("image"===t?"transparent":Object(fn.a)({light:Ne.N20,dark:Ne.DN50})(e),";")}(e),Object(Gn.a)(e),Object(Ve.f)(),Ve.b,Ve.b)},Yn=Object(L.c)(Dn||(Dn=se()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  /* we want to override default icon size and hover state */\n  &:hover > * {\n    width: 64px;\n    height: 64px;\n  }\n"]))),Kn=Object(L.c)(Fn||(Fn=se()(["\n  background: rgba(23, 43, 77, 0.7);\n  border-radius: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  width: 56px;\n  height: 56px;\n"]))),qn=Object(L.c)(An||(An=se()(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]))),$n=Object(L.c)(Ln||(Ln=se()(["\n  ","\n  ","\n  border-radius: inherit;\n  background-color: rgba(9, 30, 66, 0.5);\n"])),Object(Ve.a)(),Object(Ve.f)()),Jn=Object(L.c)(_n||(_n=se()(["\n  "," width: 100%;\n  padding: 8px;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n  word-wrap: break-word;\n"])),Object(Ve.a)(),Ne.N0),Zn=Object(L.c)(Un||(Un=se()(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 8px;\n  color: ",";\n"])),Ne.N0),Qn=Object(L.c)(Vn||(Vn=se()(["\n  flex-grow: 1;\n\n  /*\n    force the height to always be 20px (the height of the cancel icon),\n    so that the height of the progress bar doesn't jump when cards with\n    and without a cancel icon are rendered side-by-side.\n  */\n  height: ","px;\n\n  /*\n    vertically center the progress bar within the 20px, keeping the progress bar full width\n  */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),26),er=Object(L.c)(Hn||(Hn=se()(["\n  margin-left: 4px;\n  /*\n    button must appear above overlay\n   */\n  z-index: 2;\n"]))),tr=n(1132),nr=n(224),rr=function(e,t,n,r,a){return!("doc"===r||!a&&"file"===t)&&(!!n&&("external-image"===t||a&&Object(nr.isMimeTypeSupportedByBrowser)(a)||"complete"===e||"loading-preview"===e))},ar=Object(L.c)(Wn||(Wn=se()(["\n  "," z-index: 30;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  .progressBar {\n    width: 0%;\n    height: 3px;\n    transition: width 0.25s ease-in;\n    background-color: white;\n  }\n"])),Ve.b);function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var or=function(e){v()(n,e);var t=ir(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){if("number"!=typeof this.props.progress)return null;var e=Math.min(1,Math.max(0,this.props.progress)),t={width:"".concat(100*e,"%")};return Object(L.d)("div",{css:ar},Object(L.d)("div",{className:"progressBar",style:t}))}}]),n}(x.Component),cr=n(1136),sr=function(e){var t=e.disableOverlay,n=e.selectable,r=e.selected,a=e.mediaType,i=e.mediaName,o=e.status,c=e.progress,s=Object(Rn.b)();return Object(L.d)("div",{id:"cardImageViewWrapper","data-testid":"media-file-card-view","data-test-media-name":i,"data-test-status":o,"data-test-progress":c,"data-test-selected":!!r||void 0,css:Xn({theme:s,disableOverlay:t,selectable:n,selected:r,mediaType:a}),className:"".concat(cr.b," ").concat(r?cr.a:"")},e.children)},lr=function(e){return Object(L.d)("div",{css:Yn},e.children)},ur=function(e){return Object(L.d)("div",{css:qn},e.children)};function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var fr=function(e){v()(n,e);var t=dr(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(f()(e),"wasThumbnailDisplayed",!1),O()(f()(e),"renderCardContents",(function(){var t=e.props,n=t.status,r=t.mediaType,a=t.fileSize;if("error"===n)return e.renderErrorContents();if("failed-processing"===n)return e.renderFailedContents();var i=""===a&&["processing","loading-preview"].includes(n);return"video"===r||e.isFileCardImageReadyForDisplay||i?e.renderSuccessCardContents():e.renderLoadingContents()})),O()(f()(e),"renderLoadingContents",(function(){return Object(L.d)("div",{className:"wrapper"},Object(L.d)("div",{className:"img-wrapper"},Object(L.d)(tr.a,null)))})),O()(f()(e),"renderErrorContents",(function(){var t=e.props,n=t.status,r=t.error,a=t.alt,i=t.mediaName,o=t.mediaType,c=t.actions,s=t.fileSize;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{className:"wrapper"}),Object(L.d)(Nn,{cardStatus:n,error:r,persistent:!0,mediaName:i,mediaType:o,alt:a,subtitle:s,actions:c}))})),O()(f()(e),"renderFailedContents",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.actions,o=t.fileSize;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{className:"wrapper"}),Object(L.d)(Nn,{cardStatus:n,noHover:!0,persistent:!0,mediaName:r,mediaType:a,subtitle:o,actions:i}))})),O()(f()(e),"renderUploadingCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.dataURI,o=t.selectable,c=t.selected,s="doc"===a||!i;return Object(L.d)(Nn,{cardStatus:n,persistent:s,mediaName:r,selectable:o,selected:c})})),O()(f()(e),"renderPlayButton",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.mediaType,i=t.mimeType,o=t.selectable,c=t.dataURI;return"video"!==a||o&&!rr(n,r,c,a,i)?null:Object(L.d)(lr,null,Object(L.d)("div",{css:Kn},Object(L.d)(be.a,{testId:"media-card-play-button",label:"play",size:"large"})))})),O()(f()(e),"onImageLoad",(function(){var t=e.props,n=t.onImageLoad,r=t.cardPreview;n&&n(r)})),O()(f()(e),"onImageError",(function(){var t=e.props,n=t.onImageError,r=t.cardPreview;n&&n(r)})),O()(f()(e),"renderMediaImage",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.dataURI,i=t.mediaType,o=t.mimeType,c=t.previewOrientation,s=t.onDisplayImage,l=t.alt;return rr(n,r,a,i,o)?(!e.wasThumbnailDisplayed&&s&&"image"===i&&(s(),e.wasThumbnailDisplayed=!0),Object(L.d)(ie,{dataURI:a,alt:l,crop:e.isCropped,stretch:e.isStretched,previewOrientation:c,onImageLoad:e.onImageLoad,onImageError:e.onImageError})):null})),O()(f()(e),"renderProgressBar",(function(){var t=e.props,n=t.mediaName,r=t.progress,a=t.actions;return"uploading"!==t.status?null:Object(L.d)(ur,null,Object(L.d)("div",{css:$n},Object(L.d)("div",{css:Jn},Object(L.d)(pe,{testId:"media-card-file-name",text:n||"",lines:2})),Object(L.d)("div",{css:Zn},Object(L.d)("div",{css:Qn},Object(L.d)(or,{progress:r})),Object(L.d)("div",{css:er},a?Object(L.d)($t,{actions:a,triggerColor:"white"}):null))))})),O()(f()(e),"renderSuccessCardContents",(function(){var t=e.props,n=t.disableOverlay,r=t.selectable,a=t.status,i=null;return n||("uploading"===a?r&&(i=e.renderUploadingCardOverlay()):i=e.renderSuccessCardOverlay()),Object(L.d)("div",{className:"wrapper"},Object(L.d)("div",{className:"img-wrapper"},e.renderMediaImage(),e.renderProgressBar(),e.renderPlayButton()),i)})),O()(f()(e),"renderSuccessCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.fileSize,o=t.dataURI,c=t.selectable,s=t.selected,l=t.actions,u="doc"===a||!o;return Object(L.d)(Nn,{cardStatus:n,persistent:u,mediaName:r,mediaType:a,selectable:c,selected:s,subtitle:i,actions:l})})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.disableOverlay,n=e.selectable,r=e.selected,a=e.mediaType,i=e.progress,o=e.status,c=e.mediaName;return Object(L.d)(sr,{mediaName:c,status:o,progress:i,disableOverlay:t,selectable:n,selected:r,mediaType:a},this.renderCardContents())}},{key:"isFileCardImageReadyForDisplay",get:function(){var e=this.props,t=e.dataURI,n=e.status;return!!t||!["loading","processing","loading-preview"].includes(n)}},{key:"isCropped",get:function(){return"crop"===this.props.resizeMode}},{key:"isStretched",get:function(){return"stretchy-fit"===this.props.resizeMode}}]),n}(x.Component);O()(fr,"defaultProps",{resizeMode:"crop",disableOverlay:!1});var pr=n(622),vr=n(1125),hr=n(1362),mr=n(464),br=n(1408);function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t){return e.map((function(e){return yr(yr({},e),{},{handler:function(){e.handler({type:"file",details:t})}})}))}var wr=n(480),jr=function(e){return"error"===e&&k.a.createElement(wr.a,G.a.failed_to_load)},xr=n(1410);var kr,Ir,Pr,Rr,Cr,Er,Sr,Br=function(e){var t=e.cardPreview,n=e.alt,r=e.resizeMode,a=e.onImageLoad,i=e.onImageError,o=e.onDisplayImage,c=e.mediaType,s=e.nativeLazyLoad,l=e.forceSyncDisplay;Object(x.useEffect)((function(){"image"===c&&o&&o()}),[c,o]);return k.a.createElement(ie,q()({dataURI:t.dataURI,alt:n,previewOrientation:t.orientation,onImageLoad:function(){a&&a(t)},onImageError:function(){i&&i(t)},loading:s?"lazy":void 0,forceSyncDisplay:l},function(e){return{crop:"crop"===e,stretch:"stretchy-fit"===e}}(r)))},Mr=n(1322),zr=n.n(Mr),Nr="\n  display: inline-block;\n  vertical-align: bottom;\n  white-space: nowrap;\n  overflow: hidden;\n",Tr=le.a.span(kr||(kr=se()(["\n  ","\n  max-width: calc(100% - ","em);\n  min-width: ",";\n  text-overflow: ellipsis;\n"])),Nr,(function(e){var t=e.fontSizePX,n=e.endFixedChars;return Fr(t)*n+1}),(function(e){var t=e.fontSizePX,n=e.startFixedChars;return Fr(t)*n})),Dr=le.a.span(Ir||(Ir=se()(["\n  ","\n  max-width: calc(100% - ",");\n  position: relative;\n"])),Nr,(function(e){var t=e.fontSizePX,n=e.startFixedChars;return Fr(t)*n})),Fr=function(e){return e/11*.46},Ar=function(e){var t=e.text,n=e.fontSizePX,r=void 0===n?11:n,a=e.startFixedChars,i=void 0===a?4:a,o=e.endFixedChars,c=void 0===o?7:o,s=function(e,t,n){var r=n+t;if(e.length<=r)return{left:e,right:e};var a=e.length-n;return{left:e.substr(0,a),right:e.substr(a)}}(t,i,c),l=s.left,u=s.right;return l===u?k.a.createElement(k.a.Fragment,null,t):k.a.createElement(k.a.Fragment,null,k.a.createElement(Tr,{fontSizePX:r,startFixedChars:i,endFixedChars:c},l),k.a.createElement(Dr,{fontSizePX:r,startFixedChars:i,endFixedChars:c},u))},Lr=n(1414),_r=n(1335),Ur=/^#[0-9A-F]{6}$/i,Vr=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(L.c)(Pr||(Pr=se()(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background-color: ",";\n  color: inherit;\n  cursor: inherit;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ","\n"])),Object(pn.c)(n&&Ur.test(n)?n:Ne.N0,.8),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r.a.SMALL,t=_r.c[e],n=t.titleBox.verticalPadding,r=t.titleBox.horizontalPadding,a=Object(_r.b)(e);return"height: ".concat(a,"px;\n    padding: ").concat(n,"px ").concat(r,"px;")}(t))};Vr.displayName="TitleBoxWrapper";var Hr="white-space: nowrap;\n  overflow: hidden;",Wr=function(e){var t=e.hasIconOverlap;return Object(L.c)(Rr||(Rr=se()(["\n  font-weight: 600;\n  ","\n  ","\n"])),Hr,t&&"padding-right: 10px;")};Wr.displayName="FailedTitleBoxHeader";var Gr=function(e){var t=e.hasIconOverlap;return Object(L.c)(Cr||(Cr=se()(["\n  text-overflow: ellipsis;\n  ","\n  ","\n"])),Hr,t&&"padding-right: 10px;")};Gr.displayName="TitleBoxFooter";var Xr,Yr=Object(L.c)(Er||(Er=se()(["\n  position: absolute;\n  right: 4px;\n  bottom: 0px;\n"]))),Kr=Object(L.c)(Sr||(Sr=se()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  span {\n    vertical-align: middle;\n    :nth-child(2) {\n      margin-left: 4px;\n      margin-right: 4px;\n    }\n  }\n"]))),qr=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(L.d)("div",{id:"titleBoxWrapper",css:Vr({breakpoint:t,titleBoxBgColor:n})},e.children)},$r=function(e){var t=e.hasIconOverlap;return Object(L.d)("div",{id:"titleBoxHeader",css:Wr({hasIconOverlap:t})},e.children)},Jr=function(e){var t=e.hasIconOverlap;return Object(L.d)("div",{id:"titleBoxFooter",css:Gr({hasIconOverlap:t})},e.children)},Zr=function(e){return Object(L.d)("div",{id:"titleBoxIcon",css:Yr},e.children)},Qr=function(e){return Object(L.d)("div",{css:Kr},e.children)},ea=Object(A.c)((function(e){var t=e.timestamp,n=(e.intl||{locale:"en"}).locale,r=void 0===n?"en":n;return k.a.createElement(k.a.Fragment,null,Object(Lr.a)(t,r))})),ta=function(e){var t=e.name,n=e.createdAt,r=e.breakpoint,a=e.titleBoxBgColor,i=e.titleBoxIcon;return k.a.createElement(qr,{breakpoint:r,titleBoxBgColor:a},k.a.createElement($r,{hasIconOverlap:!!i&&!n},k.a.createElement(Ar,{text:t})),n?k.a.createElement(Jr,{hasIconOverlap:!!i},k.a.createElement(ea,{timestamp:n})):null,"LockFilledIcon"===i&&k.a.createElement(Zr,null,k.a.createElement(zr.a,{label:"",size:"small"})))},na=function(e){var t=e.breakpoint,n=e.customMessage,r=void 0===n?G.a.failed_to_load:n;return k.a.createElement(qr,{breakpoint:t},k.a.createElement(Qr,null,k.a.createElement(Ke.a,{label:"Warning",size:"small",primaryColor:Ne.R300}),k.a.createElement("span",null,k.a.createElement(wr.a,r))))},ra=n(1527),aa=n(1411),ia=function(e){return Object(L.d)("div",{css:aa.e,className:aa.d},e.children)},oa=function(){return Object(L.d)("div",{css:aa.a,className:aa.b})},ca=function(){return k.a.createElement(ia,null,k.a.createElement(oa,null),k.a.createElement(be.a,{label:"play",size:"large"}))},sa=n(1471),la=function(e){return Object(L.d)("div",{id:"tickBoxWrapper",css:Object(sa.c)(e.selected),className:sa.a},e.children)},ua=function(e){var t=e.selected;return k.a.createElement(la,{selected:t},k.a.createElement(we.a,{label:"tick"}))},da="background-color: ".concat(Ne.N90A,";"),fa=function(e){return Object(L.c)(Xr||(Xr=se()(["\n  ","\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n  left: 0;\n  top: 0;\n  ","\n"])),Object(pn.d)(),e?da:"")};fa.displayName="Blanket";var pa,va=function(e){var t=e.isFixed;return Object(L.d)("div",{css:fa(t),className:"media-card-blanket"})},ha=function(e){return Object(L.c)(pa||(pa=se()(["\n  ","\n  ","\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n"])),e?"opacity: 1;":"opacity: 0;",Object(pn.d)())};ha.displayName="ActionsBarWrapper";var ma=function(e){return Object(L.d)("div",{id:"actionsBarWrapper",css:ha(e.isFixed),className:"media-card-actions-bar"},e.children)};function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ga,ya=function(e){v()(n,e);var t=ba(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.actions;return 0===n.length?null:k.a.createElement(ma,{isFixed:t},k.a.createElement($t,{actions:n,variant:et.filled}))}}]),n}(k.a.Component);var Oa=function(e){var t=e.hasTitleBox,n=e.breakpoint;return Object(L.c)(ga||(ga=se()(["\n  position: absolute;\n  width: 100%;\n  height: calc(100% - ",");\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),function(e,t){if(!e)return"0px";var n=Object(_r.b)(t);return"".concat(n,"px")}(t,n))};Oa.displayName="MediaIconWrapper";var wa,ja,xa,ka,Ia=function(e){var t=e.breakpoint,n=e.hasTitleBox;return Object(L.d)("div",{id:"iconWrapper",css:Oa({breakpoint:t,hasTitleBox:n})},e.children)},Pa=Object(L.e)(wa||(wa=se()(["\n 0% { opacity: 1}\n 50% { opacity: 0.3 }\n 100% { opacity: 1; }"]))),Ra=Object(L.c)(ja||(ja=se()(["\n  animation-name: ",";\n  animation-duration: 3.5s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n"])),Pa),Ca=function(e){return Object(L.c)(ka||(ka=se()(["\n  ","\n"])),(n=(t=e).animated,r=t.reducedFont,Object(L.c)(xa||(xa=se()(["\n  overflow: hidden;\n  opacity: 1;\n  font-weight: 450;\n  ","\n  color: ",";\n  text-align: center;\n  ","\n  margin-bottom: -1em;\n  padding: 3px 10px;\n"])),r?"font-size: 0.7em;":"",Ne.N300,n?Ra:"")));var t,n,r};Ca.displayName="IconMessageWrapper";var Ea,Sa=function(e){var t=e.animated,n=e.reducedFont;return Object(L.d)("div",{id:"iconMessageWrapper",css:Ca({animated:t,reducedFont:n})},e.children)},Ba=function(e){var t=e.messageDescriptor,n=e.animated,r=void 0!==n&&n,a=e.reducedFont,i=void 0!==a&&a;return k.a.createElement(Sa,{animated:r,reducedFont:i},k.a.createElement("span",null,k.a.createElement(wr.a,t)))},Ma=function(e){var t=e.disableAnimation;return k.a.createElement(Ba,{messageDescriptor:G.a.creating_preview,animated:!t})},za=function(e){return k.a.createElement(Ba,q()({},e,{messageDescriptor:G.a.preview_unavailable}))},Na=function(e){return k.a.createElement(Ba,q()({},e,{messageDescriptor:G.a.failed_to_load}))},Ta=function(e){return k.a.createElement(Ba,q()({},e,{messageDescriptor:G.a.failed_to_upload}))},Da=function(e){return k.a.createElement(Ba,q()({},e,{messageDescriptor:G.a.preview_currently_unavailable,reducedFont:!0}))},Fa=n(1137),Aa=n(17),La=n(765),_a=function(e){var t=e.breakpoint,n=e.dimensions,r=e.appearance,a=e.disableOverlay,i=e.displayBackground,o=e.selected,c=e.isPlayButtonClickable,s=e.isTickBoxSelectable,l=e.shouldDisplayTooltip,u=e.mediaCardCursor;return Object(L.c)(Ea||(Ea=se()(["\n  ","\n  box-sizing: border-box;\n  * {\n    box-sizing: border-box;\n  }\n  position: relative;\n  font-family: ",";\n  ","\n  ","\n    ","\n    ","\n    ","\n  ",";\n  ","\n\n  /* We use classnames from here exceptionally to be able to handle styles when the Card is on hover */\n    ","\n    ","\n    &:hover ."," {\n    ","\n  }\n  &:hover ."," {\n    ","\n  }\n\n  /* Tooltip does not support percentage dimensions. We enforce them here */\n  ","\n"])),Object(pn.d)(),Object(Aa.f)(),Object(xr.g)(n,r),i?"background-color: ".concat(Ne.N20,";"):"",Ve.b,Object(xr.e)(u),Object(xr.h)(a,o),Object(xr.c)(t),La.b,Object(xr.d)(c),Object(xr.f)(s),"media-card-blanket",da,"media-card-actions-bar","opacity: 1;",l?"> div { width: 100%; height: 100% }":"")};_a.displayName="NewFileExperienceWrapper";var Ua=function(e){var t=e.testId,n=e.dimensions,r=e.appearance,a=e.onClick,i=e.onMouseEnter,o=e.innerRef,c=e.breakpoint,s=e.mediaCardCursor,l=e.disableOverlay,u=e.selected,d=e.displayBackground,f=e.isPlayButtonClickable,p=e.isTickBoxSelectable,v=e.shouldDisplayTooltip;return Object(L.d)("div",{id:"newFileExperienceWrapper",className:Fa.a,"data-testid":t,css:_a({breakpoint:c,dimensions:n,appearance:r,disableOverlay:l,displayBackground:d,selected:u,isPlayButtonClickable:f,isTickBoxSelectable:p,shouldDisplayTooltip:v,mediaCardCursor:s}),ref:o,onClick:a,onMouseEnter:i},e.children)},Va=n(1129),Ha=function(e){var t=e.testId,n=e.shouldUsePointerCursor,r=e.breakpointSize,a=e.dimensions,i=e.onClick,o=e.onMouseEnter,c=e.innerRef;return Object(L.d)("div",{id:"cardViewWrapper","data-testid":t,css:Object(Va.c)({shouldUsePointerCursor:n,breakpointSize:r,dimensions:a}),onClick:i,onMouseEnter:o,ref:c},e.children)};function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var Ya=function(e){v()(n,e);var t=Xa(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(f()(e),"state",{didImageRender:!1}),O()(f()(e),"divRef",k.a.createRef()),O()(f()(e),"onImageLoad",(function(t){var n=e.props,r=n.onImageLoad,a=n.cardPreview;t.dataURI===(null==a?void 0:a.dataURI)&&(e.setState({didImageRender:!0}),r&&r(a))})),O()(f()(e),"onImageError",(function(t){var n=e.props.onImageError;e.setState({didImageRender:!1}),n&&n(t)})),O()(f()(e),"saveElementWidth",(function(){var t=e.props.dimensions;if(t){var n=t.width;if(n&&Object(hr.a)(n)&&e.divRef.current){var r=Object(br.a)(e.divRef.current,"width");e.setState({elementWidth:r})}}})),O()(f()(e),"renderFileNewExperience",(function(){var t=e.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=t.metadata,s=t.status,l=t.selected,u=t.selectable,d=t.disableOverlay,f=t.cardPreview,p=t.mediaCardCursor,v=(c||{}).name,h=!f||!d||"error"===s||"failed-processing"===s,m=!(!e.shouldRenderPlayButton()||!d),b=!d&&!!u&&!l,g=!d;return Object(L.d)(Ua,{testId:o||"media-card-view",dimensions:n,appearance:r,onClick:a,onMouseEnter:i,innerRef:e.divRef,breakpoint:e.breakpoint,mediaCardCursor:p,disableOverlay:!!d,selected:!!l,displayBackground:h,isPlayButtonClickable:m,isTickBoxSelectable:b,shouldDisplayTooltip:g},g?Object(L.d)(H.a,{content:v,position:"bottom",tag:"div"},e.renderNewExperienceCard()):e.renderNewExperienceCard())})),O()(f()(e),"renderFile",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.mediaItemType,i=t.metadata,o=t.progress,c=t.resizeMode,s=t.dimensions,l=t.selectable,u=t.selected,d=t.disableOverlay,f=t.alt,p=t.onDisplayImage,v=t.actions,h=n||{},m=h.dataURI,b=h.orientation,g=i||{},y=g.name,O=g.mediaType,w=g.mimeType,j=g.size,x=i&&v?Or(v,i):[],k=jr(r),I=j?Object(W.a)(j):"";return Object(L.d)(fr,{error:k,dimensions:s,selectable:l,selected:u,dataURI:m,mediaName:y,mediaType:O,mimeType:w,fileSize:I,status:r,mediaItemType:a,progress:o,resizeMode:c,onDisplayImage:p,actions:x,disableOverlay:d,previewOrientation:b,alt:f,onImageLoad:e.onImageLoad,onImageError:e.onImageError,cardPreview:n})})),O()(f()(e),"getRenderConfigByStatus",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.metadata,i=t.disableOverlay,o=t.error,c=t.selectable,s=t.disableAnimation,l=a||{},u=l.name,d=l.mediaType,f=e.state.didImageRender,p=!(!a||0!==a.size),v={renderTypeIcon:!f,renderImageRenderer:!!n,renderPlayButton:!!n&&"video"===d,renderBlanket:!i,renderTitleBox:!i&&!!u,renderTickBox:!i&&!!c};switch(r){case"uploading":return Ga(Ga({},v),{},{renderBlanket:!i||"video"!==d,isFixedBlanket:!0,renderProgressBar:!0});case"processing":return Ga(Ga({},v),{},{iconMessage:f||p?void 0:Object(L.d)(Ma,{disableAnimation:s})});case"complete":return v;case"error":case"failed-processing":var h,m,b=Ga(Ga({},v),{},{renderTypeIcon:!0,renderImageRenderer:!1,renderTitleBox:!1,renderPlayButton:!1}),g=(o||{}).secondaryError;if(Object(X.g)(g)||Object(Y.b)(g)?h=Object(L.d)(Da,null):It(o)?(h=Object(L.d)(Ta,null),m=G.a.failed_to_upload):h=a?Object(L.d)(za,null):Object(L.d)(Na,null),!i){var y=!u||!!m;return Ga(Ga({},b),{},{renderTitleBox:!!u&&!m,renderFailedTitleBox:y,iconMessage:y?void 0:h,customTitleMessage:m})}return Ga(Ga({},b),{},{iconMessage:h});case"loading-preview":case"loading":default:return Ga(Ga({},v),{},{renderPlayButton:!1,renderTypeIcon:!1,renderSpinner:!f})}})),O()(f()(e),"renderNewExperienceCard",(function(){var t=e.getRenderConfigByStatus(),n=t.renderTypeIcon,r=t.iconMessage,a=t.renderImageRenderer,i=t.renderSpinner,o=t.renderPlayButton,c=t.renderBlanket,s=t.renderProgressBar,l=t.renderTitleBox,u=t.renderFailedTitleBox,d=t.renderTickBox,f=t.isFixedBlanket,p=t.customTitleMessage,v=e.props,h=v.progress,m=v.selected,b=v.status,g=(v.metadata||{}).name,y=!!l||!!u;return Object(L.d)(k.a.Fragment,null,Object(L.d)("div",{css:xr.b,className:"media-file-card-view","data-testid":"media-file-card-view","data-test-media-name":g,"data-test-status":b,"data-test-progress":h,"data-test-selected":!!m||void 0},n&&e.renderMediaTypeIcon(y,r),i&&e.renderSpinner(y),a&&e.renderImageRenderer(),o&&e.renderPlayButton(y),c&&e.renderBlanket(!!f),l&&e.renderTitleBox(),u&&e.renderFailedTitleBox(p),s&&e.renderProgressBar(!y),d&&e.renderTickBox()),e.renderActionsBar())})),e}return u()(n,[{key:"componentDidMount",value:function(){this.saveElementWidth();var e=this.props.innerRef;e&&this.divRef.current&&e(this.divRef.current)}},{key:"componentDidUpdate",value:function(e){var t=e.cardPreview,n=this.props.cardPreview;t&&!n&&this.setState({didImageRender:!1})}},{key:"width",get:function(){var e=this.state.elementWidth;if(e)return e;var t=(this.props.dimensions||{width:void 0}).width;return t?Object(mr.a)(t):vr.a.width}},{key:"breakpoint",get:function(){var e=this.state.elementWidth||(this.props.dimensions?this.props.dimensions.width:"")||vr.a.width;return Object(xr.a)(parseInt("".concat(e),10))}},{key:"render",value:function(){var e=this.props.featureFlags;if(Object(_.c)("newCardExperience",e))return this.renderFileNewExperience();var t=this.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=n||Object(vr.b)(r);return Object(L.d)(Ha,{testId:o||"media-card-view",shouldUsePointerCursor:!0,breakpointSize:Object(pr.a)(this.width),dimensions:c,onClick:a,onMouseEnter:i,innerRef:this.divRef},this.renderFile())}},{key:"renderSpinner",value:function(e){return Object(L.d)(Ia,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(V.a,null))}},{key:"shouldRenderPlayButton",value:function(){var e=this.props,t=e.metadata,n=e.cardPreview;return!("video"!==(t||{}).mediaType||!n)}},{key:"renderPlayButton",value:function(e){return Object(L.d)(Ia,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(ca,null))}},{key:"renderBlanket",value:function(e){return Object(L.d)(va,{isFixed:e})}},{key:"renderTitleBox",value:function(){var e=this.props,t=e.metadata,n=e.titleBoxBgColor,r=e.titleBoxIcon,a=t||{},i=a.name,o=a.createdAt;return!!i&&Object(L.d)(ta,{name:i,createdAt:o,breakpoint:this.breakpoint,titleBoxIcon:r,titleBoxBgColor:n})}},{key:"renderFailedTitleBox",value:function(e){return Object(L.d)(na,{breakpoint:this.breakpoint,customMessage:e})}},{key:"renderProgressBar",value:function(e){var t=this.props.progress;return Object(L.d)(ra.a,{progress:t,breakpoint:this.breakpoint,positionBottom:e})}},{key:"renderImageRenderer",value:function(){var e=this.props,t=e.cardPreview,n=e.metadata,r=(n=void 0===n?{}:n).mediaType,a=void 0===r?"unknown":r,i=e.alt,o=e.resizeMode,c=e.onDisplayImage,s=e.nativeLazyLoad,l=e.forceSyncDisplay;return!!t&&Object(L.d)(Br,{cardPreview:t,mediaType:a,alt:i,resizeMode:o,onDisplayImage:c,onImageLoad:this.onImageLoad,onImageError:this.onImageError,nativeLazyLoad:s,forceSyncDisplay:l})}},{key:"renderTickBox",value:function(){var e=this.props.selected;return Object(L.d)(ua,{selected:e})}},{key:"renderMediaTypeIcon",value:function(e,t){var n=this.props.metadata||{},r=n.mediaType,a=n.mimeType,i=n.name;return Object(L.d)(Ia,{breakpoint:this.breakpoint,hasTitleBox:e},Object(L.d)(U.a,{testId:"media-card-file-type-icon",mediaType:r,mimeType:a,name:i}),t)}},{key:"renderActionsBar",value:function(){var e=this.props,t=e.disableOverlay,n=e.actions,r=e.metadata,a=r&&n?Or(n,r):[];return t||!n||0===n.length?null:Object(L.d)(ya,{actions:a})}}]),n}(k.a.Component);O()(Ya,"defaultProps",{appearance:"auto"});var Ka=Object(R.a)({onClick:_t({eventType:"ui",action:"clicked",actionSubject:"mediaCard",attributes:{}})})(Ya),qa=function(){if("undefined"!=typeof window&&void 0!==window.document)return window.document};function $a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Za=function(e){var t=e.onVisible,n=e.cardEl,r=e.children;return Object(x.useEffect)((function(){var e=new IntersectionObserver(function(e){return function(t,n){var r,a=$a(t);try{for(a.s();!(r=a.n()).done;){if(r.value.isIntersecting){e(),n.disconnect();break}}}catch(e){a.e(e)}finally{a.f()}}}(t),{root:qa(),rootMargin:"".concat(900,"px")});return n&&e.observe(n),function(){e.disconnect()}}),[n,t]),k.a.createElement(k.a.Fragment,null,r)},Qa=function(e){var t=e.cardEl,n=e.onVisible,r=e.children;return"undefined"==typeof IntersectionObserver?k.a.createElement(k.a.Fragment,null,r):k.a.createElement(Za,{cardEl:t,onVisible:n},r)};var ei=function(e){return"px"===e.substr(-2)&&!isNaN(+e.slice(0,-2))},ti=function(e,t){var n=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?2:1,r=t.dimensions&&t.dimensions[e]||"";return Object(hr.a)(r)&&t.element?Object(br.a)(t.element,e)*n:"number"==typeof r?r*n:ei("".concat(r))?parseInt("".concat(r),10)*n:vr.a[e]*n},ni=n(1118),ri=n(170),ai=n(100),ii=n.n(ai),oi=n(521),ci=n(354);function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var li=function(e){v()(n,e);var t=si(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).eventEmitter=new ci.EventEmitter2,r}return u()(n,[{key:"shift",value:function(){var e=ii()(g()(n.prototype),"shift",this).call(this);return this.eventEmitter.emit("shift",e),e}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}}]),n}(oi.LRUCache),ui=function(){function e(t){s()(this,e),this.cache=new li(t),this.cache.on("shift",(function(e){e&&e.value.dataURI&&URL.revokeObjectURL(e.value.dataURI)}))}return u()(e,[{key:"has",value:function(e){return!!this.cache.find(e)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"remove",value:function(e){var t=this.cache.remove(e);t&&URL.revokeObjectURL(t.dataURI)}}]),e}(),di=function(e,t){return[e,t||"crop"].join("-")},fi=new(u()((function e(t){var n=this;s()(this,e),O()(this,"get",(function(e,t){var r=di(e,t);return n.previewCache.get(r)})),O()(this,"set",(function(e,t,r){var a=di(e,t);n.previewCache.set(a,r)})),O()(this,"remove",(function(e,t){var r=di(e,t);n.previewCache.remove(r)})),this.previewCache=t})))(new ui(50)),pi=n(668),vi=function(){var e=o()(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new pi.a(t),e.next=3,n.takeSnapshot();case 3:return r=e.sent,n.end(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hi=n(278),mi=n(1451),bi=function(){var e=o()(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(mi.b)(t);case 3:return n=e.sent,r=URL.createObjectURL(t),e.abrupt("return",{dataURI:r,orientation:n,source:"local"});case 8:throw e.prev=8,e.t0=e.catch(0),new yt("local-preview-image",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),gi=function(){var e=o()(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi(t);case 3:return n=e.sent,e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 7:throw e.prev=7,e.t0=e.catch(0),new yt("local-preview-video",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),yi=function(){var e=o()(j.a.mark((function e(t){var n,r,a,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:r=e.sent,n=r.value,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new yt("local-preview-rejected",e.t0);case 10:if("string"!=typeof n){e.next=14;break}return e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 14:if(!(n instanceof Blob)){e.next=22;break}a=n.type,i=Object(hi.a)(a),e.t1=i,e.next="image"===e.t1?20:"video"===e.t1?21:22;break;case 20:return e.abrupt("return",bi(n));case 21:return e.abrupt("return",gi(n));case 22:throw new yt("local-preview-unsupported");case 23:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Oi=function(){var e=o()(j.a.mark((function e(t,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getImage(n,r);case 3:return a=e.sent,e.abrupt("return",{dataURI:URL.createObjectURL(a),orientation:1,source:"remote"});case 7:throw e.prev=7,e.t0=e.catch(0),new Ot("remote-preview-fetch",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),wi=function(e){return"number"==typeof e||ei("".concat(e))},ji=function(e,t){if(!e||!t)return!1;var n=wi(e)&&wi(t),r=Object(hr.a)(e)&&Object(hr.a)(t);return n||r},xi=function(e,t){if(e&&t&&ji(e.width,t.width)&&ji(e.height,t.height)){var n=parseInt("".concat(e.width),10)<parseInt("".concat(t.width),10),r=parseInt("".concat(e.height),10)<parseInt("".concat(t.height),10);return n||r}return!1},ki=n(161),Ii=function(e,t,n){var r="size"in e&&!!e.size,a=("mediaType"in e&&e||{}).mediaType,i=("mimeType"in e&&e||{}).mimeType,o=!!a&&Object(ki.c)(a,n),c=!t&&Object(M.d)(e)&&function(e){return"image"===e||"video"===e}(a)&&!!i&&Object(ri.d)(i),s=Object(M.c)(e);return{hasFilesize:r,isPreviewable:o,hasPreview:c||s,isSupportedByBrowser:!!i&&Object(ri.d)(i)}},Pi=function(e,t,n){var r=function(t){return Lt(t,e)};switch(t){case"cache-hit":r(function(e){return{eventType:"operational",action:"cache-hit",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}}(n));break;case"remote-success":r(function(e){return{eventType:"operational",action:"Remote-success",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}}(n))}},Ri=function(e,t){if(e){var n=parseInt("".concat(null==e?void 0:e.width),10),r=parseInt("".concat(null==t?void 0:t.width),10),a=parseInt("".concat(null==e?void 0:e.height),10),i=parseInt("".concat(null==t?void 0:t.height),10);return{width:((r-n)/n*100).toFixed(2),height:((i-a)/a*100).toFixed(2)}}};function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Si=fi.get,Bi=fi.remove,Mi=function(e){return"mimeType"in e&&Object(ri.d)(e.mimeType)&&Object(M.d)(e)?e.preview:void 0},zi=function(e,t,n,r){var a;switch(n.source){case"local":a="cache-local";break;case"remote":a="cache-remote";break;case"ssr-server":a="cache-ssr-server";break;case"ssr-client":a="cache-ssr-client";break;default:a=n.source}var i=r?Object(ni.a)(n.dataURI,r):n.dataURI;return fi.set(e,t,Ei(Ei({},n),{},{source:a,dataURI:i})),Ei(Ei({},n),{},{dataURI:i})},Ni=function(){var e=o()(j.a.mark((function e(t){var n,r,a,i,o,c,s,l,u,d,f,p,v,h,m,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mediaClient,r=t.id,a=t.dimensions,i=void 0===a?{}:a,o=t.filePreview,c=t.onLocalPreviewError,s=t.isRemotePreviewReady,l=t.imageUrlParams,u=t.mediaBlobUrlAttrs,d=t.createAnalyticsEvent,f=t.featureFlags,p=l.mode,v=fi.get(r,p),h=xi(null==v?void 0:v.dimensions,i),!v||h){e.next=7;break}return Object(_.c)("memoryCacheLogging",f)&&d&&Pi(d,"cache-hit",{fileId:r,prevDimensions:v.dimensions,currentDimensions:i,source:v.source}),e.abrupt("return",v);case 7:if(e.prev=7,!o){e.next=13;break}return e.next=11,yi(o);case 11:return m=e.sent,e.abrupt("return",zi(r,p,Ei(Ei({},m),{},{dimensions:i}),u));case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(7),(!kt(e.t0)||kt(e.t0)&&!s)&&c&&c(e.t0),s){e.next=20;break}throw e.t0;case 20:if(s){e.next=22;break}throw new gt("remote-preview-not-ready");case 22:return e.next=24,Ai(n,r,i,l,u);case 24:return b=e.sent,Object(_.c)("memoryCacheLogging",f)&&d&&Pi(d,"remote-success",{fileId:r,prevDimensions:null==v?void 0:v.dimensions,currentDimensions:i,dimensionsPercentageDiff:Ri(null==v?void 0:v.dimensions,i),source:b.source}),e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),Ti=function(e){return["ssr-server","cache-ssr-server"].includes(e.source)},Di=function(e){return["ssr-client","cache-ssr-client"].includes(e.source)},Fi=function(e){return"ssr-data"===e.source},Ai=function(){var e=o()(j.a.mark((function e(t,n,r,a,i){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(t,n,a);case 2:return o=e.sent,e.abrupt("return",zi(n,a.mode,Ei(Ei({},o),{},{dimensions:r}),i));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Li=function(e){switch(e){case"processed":return"succeeded";case"processing":return"running";case"failed-processing":return"failed"}},_i=function(e,t){return Object(z.c)(e)?t&&!Object(M.a)(t)?{id:(n=t).id,name:n.name,size:n.size,mimeType:n.mimeType,createdAt:n.createdAt,mediaType:n.mediaType,processingStatus:Li(n.status)}:{id:e.id}:{id:e.mediaItemType,name:e.name||e.dataURI,mediaType:"image"};var n},Ui=Object(x.lazy)(o()(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(5),n.e(8),n.e(69)]).then(n.bind(null,2157));case 2:return t=e.sent,r=t.InlinePlayer,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),Vi=n(44),Hi=n.n(Vi),Wi=function(e){return e.map((function(e){return"string"==typeof(t=e)?"'".concat(t,"'"):"object"===Hi()(t)?JSON.stringify(t):void 0===t?"undefined":t;var t})).join(",")};function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t="__MEDIA_INTERNAL";return e[t]||(e[t]={}),e[t]}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=Gi(e),n="mediaCardSsr";return t[n]||(t[n]={}),t[n]}var Yi=function(e){return e?"-".concat(e):""},Ki=function(e){var t=e.id,n=e.collectionName,r=e.occurrenceKey;return"".concat(t).concat(Yi(n)).concat(Yi(r))},qi=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,i=Xi(a);i[e]={dataURI:t,dimensions:n,error:r}},$i=function(e,t,n,r){var a,i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"(".concat(e.toString(),")(").concat(Wi(n),");")}(qi,Ki(e),t,n,r);return a=[Xi.toString(),Gi.toString(),i],"(function(){\n  ".concat(a.join(";"),"\n})();\n")},Ji=function(e){var t=e.dataURI,n=e.identifier,r=e.dimensions,a=e.error;return k.a.createElement("script",{dangerouslySetInnerHTML:{__html:$i(n,t,r,a)}})};function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo;!function(e){e.Action="pointer",e.NotReady="wait"}(eo||(eo={}));var to=function(e,t,n,r,a){if(!n&&(e||t))return!a&&(e||e&&t)?eo.NotReady:"video"===a&&r&&e||t?eo.Action:void 0},no=n(153),ro=n(339),ao=n(349);function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var co,so=function(e){if(!co){var t={platform:{component:"media-card"},type:no.b.Experience,performanceType:no.a.InlineResult,featureFlags:St};co=new ro.a("media-card-render",t)}return co.getInstance(e)},lo=function(e,t){so(e).success({metadata:oo(oo({},t),{},{packageName:"@atlaskit/media-card",packageVersion:"74.1.2",mediaEnvironment:Object(ao.b)(),mediaRegion:Object(ao.c)()})})},uo=function(e,t){so(e).failure({metadata:oo(oo({},t),{},{packageName:"@atlaskit/media-card",packageVersion:"74.1.2",mediaEnvironment:Object(ao.b)(),mediaRegion:Object(ao.c)()})})};function fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var ho=function(e){v()(n,e);var t=vo(n);function n(e){var r;s()(this,n),r=t.call(this,e),O()(f()(r),"internalOccurrenceKey",(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,"")),O()(f()(r),"hasBeenMounted",!1),O()(f()(r),"fileStateFlags",{wasStatusUploading:!1,wasStatusProcessing:!1}),O()(f()(r),"ssrReliability",{server:{status:"unknown"},client:{status:"unknown"}}),O()(f()(r),"timeElapsedTillCommenced",performance.now()),O()(f()(r),"getImageURLParams",(function(e){return po(po({collection:e.collectionName,mode:Object(B.a)(r.props.resizeMode)},r.requestedDimensions),{},{allowAnimated:!0})})),O()(f()(r),"getMediaBlobUrlAttrs",(function(e,t){var n=e.id,a=e.collectionName,i=r.props,o=i.originalDimensions,c=i.contextId,s=i.alt,l=_i(e,t),u=l.mimeType,d=l.name,f=l.size;return c?po(po({id:n,collection:a,contextId:c,mimeType:u,name:d,size:f},o||r.requestedDimensions),{},{alt:s}):void 0})),O()(f()(r),"getCardPreviewParams",(function(e,t){var n=r.state.isBannedLocalPreview,a=e.id,i=r.props,o=i.dimensions,c=void 0===o?{}:o,s=i.mediaClient,l=i.createAnalyticsEvent;return{mediaClient:s,id:a,dimensions:c,onLocalPreviewError:r.fireLocalPreviewErrorEvent,filePreview:n?void 0:Mi(t),isRemotePreviewReady:Object(M.c)(t),imageUrlParams:r.getImageURLParams(e),mediaBlobUrlAttrs:r.getMediaBlobUrlAttrs(e,t),createAnalyticsEvent:l,featureFlags:r.props.featureFlags}})),O()(f()(r),"setCacheSSRPreview",(function(e){var t=r.props,n=t.mediaClient,a=t.dimensions,i=void 0===a?{}:a;Ai(n,e.id,i,r.getImageURLParams(e),r.getMediaBlobUrlAttrs(e)).catch((function(){}))})),O()(f()(r),"refetchSSRPreview",function(){var e=o()(j.a.mark((function e(t){var n,a,i,o,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.mediaClient,i=n.dimensions,o=void 0===i?{}:i,e.prev=1,e.next=4,Ai(a,t.id,o,r.getImageURLParams(t),r.getMediaBlobUrlAttrs(t));case 4:c=e.sent,r.safeSetState({cardPreview:c}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),O()(f()(r),"resolvePreview",function(){var e=o()(j.a.mark((function e(t,n){var a,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=r.getCardPreviewParams(t,n),e.next=4,Ni(a);case 4:i=e.sent,r.safeSetState({cardPreview:i}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c="preview-fetch",s=e.t0,o=xt(s)?s:new gt(c,s),o instanceof yt?r.safeSetState({isBannedLocalPreview:!0}):r.safeSetState({status:"error",error:o});case 12:case"end":return e.stop()}var c,s}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),O()(f()(r),"getPerformanceAttributes",(function(){var e=f()(r).timeElapsedTillCommenced,t=performance.now();return{overall:{durationSincePageStart:t,durationSinceCommenced:e&&t-e}}})),O()(f()(r),"logSSRImageError",(function(e){if(e){var t=po({status:"fail"},Dt(new jt(e.source)));Di(e)&&(r.ssrReliability.client=t),Fi(e)&&(r.ssrReliability.server=t,r.ssrReliability.client=t)}})),O()(f()(r),"onImageError",(function(e){r.logSSRImageError(e);var t=r.state.cardPreview;if((null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)){var n=new jt(null==e?void 0:e.source),a=e&&["local","cache-local"].includes(e.source),i=e&&(Di(e)||Fi(e));if(a||i){var o={cardPreview:void 0};a&&(o.isBannedLocalPreview=!0,r.fireLocalPreviewErrorEvent(n));var c=r.props,s=c.identifier,l=c.resizeMode,u=Object(B.a)(l);Object(z.c)(s)&&Bi(s.id,u),r.safeSetState(o)}else r.safeSetState({status:"error",error:n})}})),O()(f()(r),"onImageLoad",(function(e){e&&(Di(e)&&"unknown"===r.ssrReliability.client.status&&(r.ssrReliability.client={status:"success"}),Fi(e)&&"unknown"===r.ssrReliability.server.status&&(r.ssrReliability.server={status:"success"},r.ssrReliability.client={status:"success"}));var t=r.state.cardPreview;(null==e?void 0:e.dataURI)===(null==t?void 0:t.dataURI)&&r.safeSetState({previewDidRender:!0})})),O()(f()(r),"fireCopiedEvent",(function(){var e=r.props.createAnalyticsEvent,t=r.state.cardRef;t&&e&&function(e,t,n){if("function"==typeof window.getSelection){var r,a=window.getSelection();null!=a&&null!==(r=a.containsNode)&&void 0!==r&&r.call(a,n,!0)&&Lt(function(e){return{eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}}}(t),e)}}(e,r.metadata.id,t)})),O()(f()(r),"fireScreenEvent",(function(){var e=r.props.createAnalyticsEvent;e&&function(e,t){Lt(function(e){return{eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}}(t),e)}(e,r.fileAttributes)})),O()(f()(r),"fireLocalPreviewErrorEvent",(function(e){})),O()(f()(r),"safeSetState",(function(e){if(r.hasBeenMounted){var t=e.status?(n=e,function(e){return t=e.status,["complete","error","failed-processing"].includes(t)&&"complete"!==n.status?e:Qi(Qi({},e),n);var t}):e;r.setState(t)}var n})),O()(f()(r),"unsubscribe",(function(){r.subscription&&r.subscription.unsubscribe(),r.hasBeenMounted&&r.setState({isBannedLocalPreview:!1})})),O()(f()(r),"onCardViewClick",(function(e,t){var n=r.props,a=n.identifier,i=n.useInlinePlayer,o=n.shouldOpenMediaViewer,c=r.state.cardPreview,s=f()(r).metadata;if(r.onClick(e,t),s){var l=s&&"video"===s.mediaType;if(i&&l&&c)r.setState({isPlayingFile:!0,shouldAutoplay:!0});else if(o){var u;u=Object(z.c)(a)?{id:a.id,mediaItemType:"file",collectionName:a.collectionName,occurrenceKey:a.occurrenceKey}:{mediaItemType:"external-image",dataURI:a.dataURI,name:a.name},r.setState({mediaViewerSelectedItem:u})}}})),O()(f()(r),"onInlinePlayerError",(function(){r.setState({isPlayingFile:!1})})),O()(f()(r),"setRef",(function(e){e&&r.setState({cardRef:e})})),O()(f()(r),"renderInlinePlayer",(function(){var e=r.props,t=e.identifier,n=e.mediaClient,a=e.dimensions,i=e.selected,o=e.testId,c=e.originalDimensions,s=e.onFullscreenChange,l=r.state,u=l.shouldAutoplay,d=l.cardPreview,f=r.renderCard(!1,"loading",!1);return k.a.createElement(x.Suspense,{fallback:f},k.a.createElement(Ui,{mediaClient:n,dimensions:a,originalDimensions:c,identifier:t,autoplay:!!u,onFullscreenChange:s,onError:r.onInlinePlayerError,onClick:r.onClick,selected:i,ref:r.setRef,testId:o,cardPreview:d}))})),O()(f()(r),"onMediaViewerClose",(function(){r.setState({mediaViewerSelectedItem:void 0})})),O()(f()(r),"onDisplayImage",(function(){var e,t=r.props.identifier;e=Object(z.c)(t)?{fileId:t.id,isUserCollection:t.collectionName===N.f}:{fileId:t.dataURI,isUserCollection:!1},T.a.emit("media-viewed",po({viewingLevel:"minimal"},e))})),O()(f()(r),"renderMediaViewer",(function(){var e=r.state.mediaViewerSelectedItem,t=r.props,n=t.mediaClient,a=t.identifier,i=t.mediaViewerDataSource,o=t.contextId,c=t.featureFlags;if(e){var s=Object(z.c)(a)&&a.collectionName||"",l=i||{list:[]};return P.a.createPortal(k.a.createElement(D.a,{collectionName:s,dataSource:l,mediaClientConfig:n.config,selectedItem:e,onClose:r.onMediaViewerClose,contextId:o,featureFlags:c}),document.body)}})),O()(f()(r),"renderCard",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=r.props,i=a.identifier,o=a.isLazy,c=a.appearance,s=a.resizeMode,l=a.dimensions,u=a.selectable,d=a.selected,p=a.disableOverlay,v=a.alt,h=a.testId,m=a.featureFlags,b=a.titleBoxBgColor,g=a.titleBoxIcon,y=a.ssr,O=a.useInlinePlayer,w=a.shouldOpenMediaViewer,j=i.mediaItemType,x=r.state,I=x.status,P=x.progress,R=x.cardPreview,C=x.error,E=x.cardRef,S=x.isCardVisible,B=f()(r),M=B.metadata,z=f()(r),N=z.onCardViewClick,T=z.onDisplayImage,D=z.actions,F=z.onMouseEnter,A=void 0===n?o:n,L=A&&!S,_=!!y,U=to(!!O,!!w,"error"===I||"failed-processing"===I,!!r.state.cardPreview,M.mediaType),V=k.a.createElement(Ka,{status:t||I,error:C,mediaItemType:j,metadata:M,cardPreview:R,alt:v,appearance:c,resizeMode:s,dimensions:l,actions:D,selectable:u,selected:d,onClick:e?N:void 0,onMouseEnter:e?F:void 0,disableOverlay:p,progress:P,onDisplayImage:e?T:void 0,innerRef:r.setRef,testId:h,featureFlags:m,titleBoxBgColor:b,titleBoxIcon:g,onImageError:e?r.onImageError:void 0,onImageLoad:e?r.onImageLoad:void 0,nativeLazyLoad:L,forceSyncDisplay:_,mediaCardCursor:U});return A?k.a.createElement(Qa,{cardEl:E,onVisible:r.onCardInViewport},V):V})),O()(f()(r),"storeSSRData",(function(){var e,t=r.props,n=t.ssr,a=t.identifier,i=r.state.cardPreview,o=(i=void 0===i?{}:i).dataURI;return Object(z.c)(a)&&"server"===n&&k.a.createElement(Ji,{identifier:a,dataURI:o,dimensions:r.requestedDimensions,error:"fail"===(null===(e=r.ssrReliability.server)||void 0===e?void 0:e.status)?r.ssrReliability.server:void 0})})),O()(f()(r),"onCardInViewport",(function(){r.setState({isCardVisible:!0})})),O()(f()(r),"onClick",(function(e,t){var n=r.props.onClick,a=f()(r).metadata;n&&n({event:e,mediaItemDetails:a},t)})),O()(f()(r),"onMouseEnter",(function(e){var t=r.props.onMouseEnter,n=f()(r).metadata;t&&t({event:e,mediaItemDetails:n})}));var a,i="loading",c=r.props,l=c.identifier,u=c.resizeMode,d=c.ssr,p=c.mediaClient;if(Object(z.c)(l)){var v,h,m=l.id,b=Object(B.a)(u);if(!(a=Si(m,b))&&d)if(r.ssrData=function(e){var t=Xi();if(t)return t[Ki(e)]}(l),null!==(v=r.ssrData)&&void 0!==v&&v.error&&(r.ssrReliability.server=po({status:"fail"},r.ssrData.error)),null!==(h=r.ssrData)&&void 0!==h&&h.dataURI)a={dataURI:r.ssrData.dataURI,source:"ssr-data"};else try{a=function(e,t,n,r,a){try{var i=t.getImageUrlSync(n,r);return{dataURI:a?Object(ni.a)(i,a):i,source:"client"===e?"ssr-client":"ssr-server",orientation:1}}catch(t){throw new wt("server"===e?"ssr-server-uri":"ssr-client-uri",t)}}(d,p,l.id,r.getImageURLParams(l),r.getMediaBlobUrlAttrs(l))}catch(e){r.ssrReliability[d]=po({status:"fail"},Dt(e))}}else if(Object(z.b)(l)){r.fireCommencedEvent(),i="loading-preview",a={dataURI:l.dataURI,orientation:1,source:"external"}}var g,y=!r.props.isLazy||!!a&&!(Di(g=a)||Ti(g));return r.state={status:i,isCardVisible:y,isPlayingFile:!1,shouldAutoplay:!1,cardPreview:a,cardRef:null,isBannedLocalPreview:!1,previewDidRender:!1,error:void 0},r}return u()(n,[{key:"componentDidMount",value:function(){var e;this.hasBeenMounted=!0;var t,n=this.state,r=n.isCardVisible,a=n.cardPreview,i=this.props,o=i.identifier,c=i.ssr,s=i.dimensions;(r&&Object(z.c)(o)&&this.updateStateForIdentifier(o),r&&c&&a&&Object(z.c)(o))&&(Di(a)&&this.setCacheSSRPreview(o),Fi(a)&&xi(null===(t=this.ssrData)||void 0===t?void 0:t.dimensions,s)&&this.refetchSSRPreview(o));null===(e=qa())||void 0===e||e.addEventListener("copy",this.fireCopiedEvent)}},{key:"componentDidUpdate",value:function(e,t){var n=e.mediaClient,r=e.identifier,a=t.isCardVisible,i=this.props,o=i.mediaClient,c=i.identifier,s=i.dimensions,l=i.featureFlags,u=i.useInlinePlayer,d=i.disableOverlay,f=i.resizeMode,p=this.state,v=p.isCardVisible,h=p.cardPreview,m=p.status,b=p.fileState,g=p.isBannedLocalPreview,y=p.previewDidRender,O=p.isPlayingFile,w=Object(z.a)(r,c),j=!a&&v,x=n!==o,k=Object(B.a)(f);if(this.updateFileStateFlag(b),Object(z.b)(c)&&w){this.fireCommencedEvent();var I=c.dataURI;this.setState({status:"loading-preview",cardPreview:{dataURI:I,orientation:1,source:"external"},isCardVisible:!0})}Object(z.c)(c)&&(j||this.subscription&&(x||w))&&this.updateStateForIdentifier(c),this.state.status!==t.status&&(this.fireOperationalEvent(),("complete"===this.state.status||"video"===this.fileAttributes.fileMediatype&&h&&"processing"===this.state.status)&&this.fireScreenEvent()),Object(z.c)(c)&&b&&function(e){var t=e.status,n=e.fileState,r=e.dimensions,a=e.identifier,i=e.fileImageMode,o=e.hasCardPreview,c=e.isBannedLocalPreview,s=e.featureFlags,l=function(e,t){var n=t.isPreviewable,r=t.hasPreview,a=t.isSupportedByBrowser;return r&&n&&("complete"===e||"loading-preview"===e||"uploading"===e||"processing"===e&&a)}(t,Ii(n,c,s)),u=fi.get(a.id,i),d=xi(null==u?void 0:u.dimensions,r);return l&&(!o||d)}({status:m,fileState:b,dimensions:s,identifier:c,fileImageMode:k,featureFlags:l,hasCardPreview:!!h,isBannedLocalPreview:g})&&this.resolvePreview(c,b),j&&this.props.ssr&&h&&Di(h)&&Object(z.c)(c)&&this.setCacheSSRPreview(c),y&&["loading-preview","processing"].includes(m)&&(this.safeSetState({status:"complete"}),this.unsubscribe());var P="video"===this.fileAttributes.fileMediatype,R=b&&Object(M.e)(b);P&&!O&&d&&u&&R&&Object(_.c)("timestampOnVideo",this.props.featureFlags)&&this.setState({isPlayingFile:!0})}},{key:"componentWillUnmount",value:function(){var e;this.hasBeenMounted=!1,this.unsubscribe(),null===(e=qa())||void 0===e||e.removeEventListener("copy",this.fireCopiedEvent)}},{key:"updateStateForIdentifier",value:function(e){this.fireCommencedEvent(),this.subscribeInternalFile(e)}},{key:"updateFileStateFlag",value:function(e){if(e){var t=e.status;"processing"===t?this.fileStateFlags.wasStatusProcessing=!0:"uploading"===t&&(this.fileStateFlags.wasStatusUploading=!0)}}},{key:"subscribeInternalFile",value:function(e){var t=this,n=this.props.mediaClient,r=this.state.isBannedLocalPreview,a=e.id,i=e.collectionName,o=e.occurrenceKey;this.unsubscribe(),this.subscription=n.file.getFileState(a,{collectionName:i,occurrenceKey:o}).subscribe({next:function(e){var n=t.props.featureFlags,a=function(e,t,n){var r=function(e,t){var n=t.hasFilesize,r=t.isPreviewable,a=t.hasPreview;switch(e){case"uploading":case"failed-processing":case"error":return e;case"processing":return n?r?"processing":"complete":"processing";case"processed":return r&&a?"loading-preview":"complete";default:return"loading"}}(e.status,Ii(e,t,n)),a="error"===r&&Object(M.a)(e)?new gt("error-file-state",new Error(e.message)):void 0;return{fileState:e,status:r,progress:"uploading"===r&&"uploading"===e.status?e.progress:1,error:a}}(e,r,n);t.safeSetState(a)},error:function(e){var n="uploading"===t.state.status?"upload":"metadata-fetch",r=new gt(n,e);t.safeSetState({error:r,status:"error"})}})}},{key:"requestedDimensions",get:function(){var e,t=this.props.dimensions,n=(this.state||{}).cardRef;return{width:ti("width",e={dimensions:t,element:n}),height:ti("height",e)}}},{key:"metadata",get:function(){var e;return _i(this.props.identifier,null===(e=this.state)||void 0===e?void 0:e.fileState)}},{key:"fileAttributes",get:function(){var e,t,n,r;return n=this.metadata,r=null===(e=this.state)||void 0===e||null===(t=e.fileState)||void 0===t?void 0:t.status,{fileMediatype:n.mediaType,fileMimetype:n.mimeType,fileId:n.id,fileSize:n.size,fileStatus:r}}},{key:"fireOperationalEvent",value:function(){var e=this.state,t=e.status,n=e.error,r=this.props.createAnalyticsEvent;r&&function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new gt("missing-error-data"),o=function(t){return Lt(t,e)};switch(t){case"complete":o(Bt(n,r,a));break;case"failed-processing":o(At(n,r,a));break;case"error":o(Ft(n,r,i,a))}}(r,t,this.fileAttributes,this.getPerformanceAttributes(),this.ssrReliability,n),function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new gt("missing-error-data");switch(t){case"complete":lo(e,{fileAttributes:n,ssrReliability:a,fileStateFlags:r});break;case"failed-processing":uo(e,{fileAttributes:n,failReason:"failed-processing",ssrReliability:a,fileStateFlags:r});break;case"error":uo(e,oo(oo({fileAttributes:n},Dt(i)),{},{request:Tt(i),ssrReliability:a,fileStateFlags:r}))}}(this.internalOccurrenceKey,t,this.fileAttributes,this.fileStateFlags,this.ssrReliability,n)}},{key:"fireCommencedEvent",value:function(){this.timeElapsedTillCommenced=performance.now();var e,t=this.props.createAnalyticsEvent;t&&function(e,t,n){Lt(function(e,t){return{eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t}}}(t,n),e)}(t,this.fileAttributes,{overall:{durationSincePageStart:this.timeElapsedTillCommenced}}),e=this.internalOccurrenceKey,so(e).start()}},{key:"actions",get:function(){var e=this,t=this.props,n=t.actions,r=void 0===n?[]:n,i=t.identifier,o=t.shouldEnableDownloadButton,c=this.state.status,s=this.metadata;return Object(z.c)(i)&&("failed-processing"===c||o)?[{label:"Download",icon:k.a.createElement(S.a,{label:"Download"}),handler:function(){return e.props.mediaClient.file.downloadBinary(i.id,s.name,i.collectionName)}}].concat(a()(r)):r}},{key:"render",value:function(){var e=this.state,t=e.isPlayingFile,n=e.mediaViewerSelectedItem,r=k.a.createElement(k.a.Fragment,null,t?this.renderInlinePlayer():this.renderCard(),n?this.renderMediaViewer():null,this.storeSSRData());return this.props.intl?r:k.a.createElement(F.b,{locale:"en"},r)}}]),n}(x.Component);O()(ho,"defaultProps",{appearance:"auto",resizeMode:"crop",isLazy:!0,disableOverlay:!1,featureFlags:{}});var mo=Object(C.a)({packageVersion:"74.1.2",packageName:"@atlaskit/media-card",componentName:"mediaCard",component:"mediaCard"},{filterFeatureFlags:Et})(Object(R.a)()(Object(A.c)(ho,{enforceContext:!1})))},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11.37 10.954c.285.138.63-.05.63-.343V5.39c0-.293-.345-.481-.63-.343L11 6.194v3.613l2.37 1.147zM2 5.99v4.018c0 .54.449.991 1.003.991h4.994A.99.99 0 009 10.01V5.99C9 5.452 8.551 5 7.997 5H3.003A.99.99 0 002 5.99z"/></svg>'},e,{size:"small"}));o.displayName="Video16Icon";var c=o;t.default=c},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4 3v2h2V3H6zm2 2v2h2V5H8zM6 7v2h2V7H6zm2 2v2h2V9H8zm-2.307 2v2h2v-2h-2z"/></svg>'},e,{size:"small"}));o.displayName="Archive16Icon";var c=o;t.default=c},341:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm4.75 11.75l-.543-.543a1 1 0 00-1.414 0L3 13h10v-2.25l-1.795-1.974a1 1 0 00-1.447-.034L6.75 11.75zM4.667 6.333a1.667 1.667 0 100-3.333 1.667 1.667 0 000 3.333z"/></svg>'},e,{size:"small"}));o.displayName="Image16Icon";var c=o;t.default=c},342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm11 4.195v-.753c0-.271-.23-.468-.514-.44l-6.115.634a.565.565 0 00-.514.545v4.616a2 2 0 00-.571-.083H5a2 2 0 00-2 2V11a2 2 0 002 2h.286a2 2 0 002-2V5.76l4.285-.444v2.767A2 2 0 0011 8h-.286a2 2 0 00-2 2v.286a2 2 0 002 2H11a2 2 0 002-2V4.195z"/></svg>'},e,{size:"small"}));o.displayName="Audio16Icon";var c=o;t.default=c},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));o.displayName="Document16Icon";var c=o;t.default=c},769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(37);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M8 3H5.333C4.597 3 4 3.617 4 4.378v7.244C4 12.382 4.597 13 5.333 13h5.334c.736 0 1.333-.617 1.333-1.378V8h-1.333v3.622H5.333V4.378H8v1.414c0 .736.597 1.333 1.333 1.333h2.334c.184 0 .333-.15.333-.333v-.903a.333.333 0 00-.093-.231l-2.164-2.25A1.333 1.333 0 008.782 3H8zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994z"/></svg>'},e,{size:"small"}));o.displayName="Generic16Icon";var c=o;t.default=c}}]);
//# sourceMappingURL=vendors~@atlaskit-internal_media-card.bundle.js.map