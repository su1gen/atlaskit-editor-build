!function(e){function t(t){for(var n,o,i=t[0],a=t[1],c=0,u=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={134:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({0:"glyphVideo",1:"glyphArchive",2:"glyphAudio",3:"glyphImage",4:"vendors~@atlaskit-internal_media-browser~@atlaskit-internal_media-card~@atlaskit-internal_media-clie~fed505df",6:"vendors~@atlaskit-internal_media-browser~@atlaskit-internal_media-card~@atlaskit-internal_media-clip~a5bd3064",7:"glyphCode",9:"glyphMSExcel",10:"glyphMSPowerpoint",11:"glyphMSWord",12:"vendors~@atlaskit-internal_media-browser~@atlaskit-internal_media-clipboard~@atlaskit-internal_media-dropzone",14:"glyphExecutable",15:"glyphFolder",16:"glyphGIF",17:"glyphGoogleDocs",18:"glyphGoogleForms",19:"glyphGoogleSheets",20:"glyphGoogleSlides",21:"glyphPDF",22:"glyphSketch",23:"vendors~@atlaskit-internal_editor-core-config-panel~@atlaskit-internal_editor-datepicker",24:"vendors~@atlaskit-internal_media-archive-viewer~@atlaskit-internal_media-pdf-viewer",25:"vendors~@atlaskit-internal_smartcard-datacardcontent~@atlaskit-internal_smartcard-urlcardcontent",29:"@atlaskit-internal_@atlaskit/mention/no-access-tooltip",30:"@atlaskit-internal_@atlaskit/tooltip",31:"@atlaskit-internal_@atlassian/user-picker/email-option",32:"@atlaskit-internal_@atlassian/user-picker/group-option",33:"@atlaskit-internal_@atlassian/user-picker/team-option",34:"@atlaskit-internal_editor-core-helpdialog",35:"@atlaskit-internal_editor-datepicker",36:"@atlaskit-internal_editor-icon-action",37:"@atlaskit-internal_editor-icon-code",38:"@atlaskit-internal_editor-icon-date",39:"@atlaskit-internal_editor-icon-decision",40:"@atlaskit-internal_editor-icon-divider",41:"@atlaskit-internal_editor-icon-emoji",42:"@atlaskit-internal_editor-icon-expand",43:"@atlaskit-internal_editor-icon-feedback",44:"@atlaskit-internal_editor-icon-heading-1",45:"@atlaskit-internal_editor-icon-heading-2",46:"@atlaskit-internal_editor-icon-heading-3",47:"@atlaskit-internal_editor-icon-heading-4",48:"@atlaskit-internal_editor-icon-heading-5",49:"@atlaskit-internal_editor-icon-heading-6",50:"@atlaskit-internal_editor-icon-images",51:"@atlaskit-internal_editor-icon-layout",52:"@atlaskit-internal_editor-icon-link",53:"@atlaskit-internal_editor-icon-list",54:"@atlaskit-internal_editor-icon-list-number",55:"@atlaskit-internal_editor-icon-mention",56:"@atlaskit-internal_editor-icon-panel",57:"@atlaskit-internal_editor-icon-panel-error",58:"@atlaskit-internal_editor-icon-panel-note",59:"@atlaskit-internal_editor-icon-panel-success",60:"@atlaskit-internal_editor-icon-panel-warning",61:"@atlaskit-internal_editor-icon-quote",62:"@atlaskit-internal_editor-icon-status",63:"@atlaskit-internal_editor-icon-table",64:"@atlaskit-internal_media-archive-viewer",65:"@atlaskit-internal_media-browser",66:"@atlaskit-internal_media-card",67:"@atlaskit-internal_media-card-error-boundary",68:"@atlaskit-internal_media-clipboard",69:"@atlaskit-internal_media-code-viewer",70:"@atlaskit-internal_media-dropzone",71:"@atlaskit-internal_media-pdf-viewer",72:"@atlaskit-internal_media-picker-error-boundary",73:"@atlaskit-internal_mention-i18n-cs",74:"@atlaskit-internal_mention-i18n-da",75:"@atlaskit-internal_mention-i18n-de",76:"@atlaskit-internal_mention-i18n-en",77:"@atlaskit-internal_mention-i18n-en_GB",78:"@atlaskit-internal_mention-i18n-es",79:"@atlaskit-internal_mention-i18n-et",80:"@atlaskit-internal_mention-i18n-fi",81:"@atlaskit-internal_mention-i18n-fr",82:"@atlaskit-internal_mention-i18n-hu",83:"@atlaskit-internal_mention-i18n-is",84:"@atlaskit-internal_mention-i18n-it",85:"@atlaskit-internal_mention-i18n-ja",86:"@atlaskit-internal_mention-i18n-ko",87:"@atlaskit-internal_mention-i18n-nb",88:"@atlaskit-internal_mention-i18n-nl",89:"@atlaskit-internal_mention-i18n-pl",90:"@atlaskit-internal_mention-i18n-pt_BR",91:"@atlaskit-internal_mention-i18n-pt_PT",92:"@atlaskit-internal_mention-i18n-ro",93:"@atlaskit-internal_mention-i18n-ru",94:"@atlaskit-internal_mention-i18n-sk",95:"@atlaskit-internal_mention-i18n-sv",96:"@atlaskit-internal_mention-i18n-th",97:"@atlaskit-internal_mention-i18n-tr",98:"@atlaskit-internal_mention-i18n-uk",99:"@atlaskit-internal_mention-i18n-vi",100:"@atlaskit-internal_mention-i18n-zh",101:"@atlaskit-internal_mention-i18n-zh_TW",102:"@atlaskit-internal_mention/LockCircleIcon",103:"@atlaskit-internal_resourcedEmojiComponent",104:"@atlaskit-internal_smartcard-datacardcontent",105:"@atlaskit-internal_user-picker-i18n-cs",106:"@atlaskit-internal_user-picker-i18n-da",107:"@atlaskit-internal_user-picker-i18n-de",108:"@atlaskit-internal_user-picker-i18n-en",109:"@atlaskit-internal_user-picker-i18n-en_GB",110:"@atlaskit-internal_user-picker-i18n-es",111:"@atlaskit-internal_user-picker-i18n-et",112:"@atlaskit-internal_user-picker-i18n-fi",113:"@atlaskit-internal_user-picker-i18n-fr",114:"@atlaskit-internal_user-picker-i18n-hu",115:"@atlaskit-internal_user-picker-i18n-is",116:"@atlaskit-internal_user-picker-i18n-it",117:"@atlaskit-internal_user-picker-i18n-ja",118:"@atlaskit-internal_user-picker-i18n-ko",119:"@atlaskit-internal_user-picker-i18n-nb",120:"@atlaskit-internal_user-picker-i18n-nl",121:"@atlaskit-internal_user-picker-i18n-pl",122:"@atlaskit-internal_user-picker-i18n-pt_BR",123:"@atlaskit-internal_user-picker-i18n-pt_PT",124:"@atlaskit-internal_user-picker-i18n-ro",125:"@atlaskit-internal_user-picker-i18n-ru",126:"@atlaskit-internal_user-picker-i18n-sk",127:"@atlaskit-internal_user-picker-i18n-sv",128:"@atlaskit-internal_user-picker-i18n-th",129:"@atlaskit-internal_user-picker-i18n-tr",130:"@atlaskit-internal_user-picker-i18n-uk",131:"@atlaskit-internal_user-picker-i18n-vi",132:"@atlaskit-internal_user-picker-i18n-zh",133:"@atlaskit-internal_user-picker-i18n-zh_TW",135:"glyphBlocker",136:"glyphComment",137:"glyphCritical",138:"glyphForbidden",139:"glyphHigh",140:"glyphHighest",141:"glyphLow",142:"glyphLowest",143:"glyphMajor",144:"glyphMedium",145:"glyphMinor",146:"glyphTrivial",147:"glyphUndefined",148:"vendors~@atlaskit-internal_@atlassian/user-picker/external-user-option",149:"vendors~@atlaskit-internal_editor-core-config-panel",150:"vendors~@atlaskit-internal_editor-core-floating-toolbar",151:"vendors~@atlaskit-internal_editor-element-browser",152:"vendors~@atlaskit-internal_emojiPickerComponent",153:"vendors~@atlaskit-internal_inline-media-card",154:"vendors~@atlaskit-internal_media-archive-viewer",155:"vendors~@atlaskit-internal_media-client-mobile-upload",156:"vendors~@atlaskit-internal_media-viewer",157:"vendors~@atlaskit-internal_smartcard-urlcardcontent",158:"vendors~pdfjsWorker",159:"vendors~react-syntax-highlighter/refractor-import"}[e]||e)+".bundle.js"}(e);var s=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=a;o(o.s=1064)}([function(e,t,n){"use strict";e.exports=n(800)},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d}));var r=n(0),o=(n(483),n(124)),i=(n(22),n(273),n(281),n(222)),a=n(297),c=function(e,t){var n=arguments;if(null==t||!o.h.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=o.b,a[1]=Object(o.f)(e,t);for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)},s=r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect,u=Object(o.j)((function(e,t){var n=e.styles,c=Object(a.a)([n],void 0,Object(r.useContext)(o.c)),u=Object(r.useRef)();return s((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+c.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),u.current=[n,r],function(){n.flush()}}),[t]),s((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==c.next&&Object(i.b)(t,c.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",c,n,!1)}}),[t,c.name]),null}));function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.a)(t)}var d=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},f=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var c in a="",i)i[c]&&c&&(a&&(a+=" "),a+=c);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function p(e,t,n){var r=[],o=Object(i.a)(e,r,n);return r.length<2?n:o+t(r)}var h=function(e){var t=e.cache,n=e.serializedArr;Object(o.i)((function(){for(var e=0;e<n.length;e++)Object(i.b)(t,n[e],!1)}));return null},m=Object(o.j)((function(e,t){var n=[],c=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var c=Object(a.a)(r,t.registered);return n.push(c),Object(i.c)(t,c,!1),t.key+"-"+c.name},s={css:c,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p(t.registered,c,f(n))},theme:Object(r.useContext)(o.c)},u=e.children(s);return!0,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(h,{cache:t,serializedArr:n}),u)}))},function(e,t,n){"use strict";n.r(t),n.d(t,"R50",(function(){return o})),n.d(t,"R75",(function(){return i})),n.d(t,"R100",(function(){return a})),n.d(t,"R200",(function(){return c})),n.d(t,"R300",(function(){return s})),n.d(t,"R400",(function(){return u})),n.d(t,"R500",(function(){return l})),n.d(t,"Y50",(function(){return d})),n.d(t,"Y75",(function(){return f})),n.d(t,"Y100",(function(){return p})),n.d(t,"Y200",(function(){return h})),n.d(t,"Y300",(function(){return m})),n.d(t,"Y400",(function(){return v})),n.d(t,"Y500",(function(){return b})),n.d(t,"G50",(function(){return g})),n.d(t,"G75",(function(){return y})),n.d(t,"G100",(function(){return O})),n.d(t,"G200",(function(){return w})),n.d(t,"G300",(function(){return k})),n.d(t,"G400",(function(){return E})),n.d(t,"G500",(function(){return x})),n.d(t,"B50",(function(){return S})),n.d(t,"B75",(function(){return j})),n.d(t,"B100",(function(){return C})),n.d(t,"B200",(function(){return T})),n.d(t,"B300",(function(){return _})),n.d(t,"B400",(function(){return A})),n.d(t,"B500",(function(){return P})),n.d(t,"P50",(function(){return I})),n.d(t,"P75",(function(){return M})),n.d(t,"P100",(function(){return R})),n.d(t,"P200",(function(){return N})),n.d(t,"P300",(function(){return D})),n.d(t,"P400",(function(){return L})),n.d(t,"P500",(function(){return B})),n.d(t,"T50",(function(){return F})),n.d(t,"T75",(function(){return z})),n.d(t,"T100",(function(){return U})),n.d(t,"T200",(function(){return H})),n.d(t,"T300",(function(){return W})),n.d(t,"T400",(function(){return V})),n.d(t,"T500",(function(){return q})),n.d(t,"N0",(function(){return G})),n.d(t,"N10",(function(){return K})),n.d(t,"N20",(function(){return $})),n.d(t,"N30",(function(){return Y})),n.d(t,"N40",(function(){return X})),n.d(t,"N50",(function(){return J})),n.d(t,"N60",(function(){return Z})),n.d(t,"N70",(function(){return Q})),n.d(t,"N80",(function(){return ee})),n.d(t,"N90",(function(){return te})),n.d(t,"N100",(function(){return ne})),n.d(t,"N200",(function(){return re})),n.d(t,"N300",(function(){return oe})),n.d(t,"N400",(function(){return ie})),n.d(t,"N500",(function(){return ae})),n.d(t,"N600",(function(){return ce})),n.d(t,"N700",(function(){return se})),n.d(t,"N800",(function(){return ue})),n.d(t,"N900",(function(){return le})),n.d(t,"N10A",(function(){return de})),n.d(t,"N20A",(function(){return fe})),n.d(t,"N30A",(function(){return pe})),n.d(t,"N40A",(function(){return he})),n.d(t,"N50A",(function(){return me})),n.d(t,"N60A",(function(){return ve})),n.d(t,"N70A",(function(){return be})),n.d(t,"N80A",(function(){return ge})),n.d(t,"N90A",(function(){return ye})),n.d(t,"N100A",(function(){return Oe})),n.d(t,"N200A",(function(){return we})),n.d(t,"N300A",(function(){return ke})),n.d(t,"N400A",(function(){return Ee})),n.d(t,"N500A",(function(){return xe})),n.d(t,"N600A",(function(){return Se})),n.d(t,"N700A",(function(){return je})),n.d(t,"N800A",(function(){return Ce})),n.d(t,"DN900",(function(){return Te})),n.d(t,"DN800",(function(){return _e})),n.d(t,"DN700",(function(){return Ae})),n.d(t,"DN600",(function(){return Pe})),n.d(t,"DN500",(function(){return Ie})),n.d(t,"DN400",(function(){return Me})),n.d(t,"DN300",(function(){return Re})),n.d(t,"DN200",(function(){return Ne})),n.d(t,"DN100",(function(){return De})),n.d(t,"DN90",(function(){return Le})),n.d(t,"DN80",(function(){return Be})),n.d(t,"DN70",(function(){return Fe})),n.d(t,"DN60",(function(){return ze})),n.d(t,"DN50",(function(){return Ue})),n.d(t,"DN40",(function(){return He})),n.d(t,"DN30",(function(){return We})),n.d(t,"DN20",(function(){return Ve})),n.d(t,"DN10",(function(){return qe})),n.d(t,"DN0",(function(){return Ge})),n.d(t,"DN800A",(function(){return Ke})),n.d(t,"DN700A",(function(){return $e})),n.d(t,"DN600A",(function(){return Ye})),n.d(t,"DN500A",(function(){return Xe})),n.d(t,"DN400A",(function(){return Je})),n.d(t,"DN300A",(function(){return Ze})),n.d(t,"DN200A",(function(){return Qe})),n.d(t,"DN100A",(function(){return et})),n.d(t,"DN90A",(function(){return tt})),n.d(t,"DN80A",(function(){return nt})),n.d(t,"DN70A",(function(){return rt})),n.d(t,"DN60A",(function(){return ot})),n.d(t,"DN50A",(function(){return it})),n.d(t,"DN40A",(function(){return at})),n.d(t,"DN30A",(function(){return ct})),n.d(t,"DN20A",(function(){return st})),n.d(t,"DN10A",(function(){return ut})),n.d(t,"background",(function(){return lt})),n.d(t,"backgroundActive",(function(){return dt})),n.d(t,"backgroundHover",(function(){return ft})),n.d(t,"backgroundOnLayer",(function(){return pt})),n.d(t,"text",(function(){return ht})),n.d(t,"textHover",(function(){return mt})),n.d(t,"textActive",(function(){return vt})),n.d(t,"subtleText",(function(){return bt})),n.d(t,"placeholderText",(function(){return gt})),n.d(t,"heading",(function(){return yt})),n.d(t,"subtleHeading",(function(){return Ot})),n.d(t,"codeBlock",(function(){return wt})),n.d(t,"link",(function(){return kt})),n.d(t,"linkHover",(function(){return Et})),n.d(t,"linkActive",(function(){return xt})),n.d(t,"linkOutline",(function(){return St})),n.d(t,"primary",(function(){return jt})),n.d(t,"blue",(function(){return Ct})),n.d(t,"teal",(function(){return Tt})),n.d(t,"purple",(function(){return _t})),n.d(t,"red",(function(){return At})),n.d(t,"yellow",(function(){return Pt})),n.d(t,"green",(function(){return It})),n.d(t,"skeleton",(function(){return Mt}));var r=n(64),o="#FFEBE6",i="#FFBDAD",a="#FF8F73",c="#FF7452",s="#FF5630",u="#DE350B",l="#BF2600",d="#FFFAE6",f="#FFF0B3",p="#FFE380",h="#FFC400",m="#FFAB00",v="#FF991F",b="#FF8B00",g="#E3FCEF",y="#ABF5D1",O="#79F2C0",w="#57D9A3",k="#36B37E",E="#00875A",x="#006644",S="#DEEBFF",j="#B3D4FF",C="#4C9AFF",T="#2684FF",_="#0065FF",A="#0052CC",P="#0747A6",I="#EAE6FF",M="#C0B6F2",R="#998DD9",N="#8777D9",D="#6554C0",L="#5243AA",B="#403294",F="#E6FCFF",z="#B3F5FF",U="#79E2F2",H="#00C7E6",W="#00B8D9",V="#00A3BF",q="#008DA6",G="#FFFFFF",K="#FAFBFC",$="#F4F5F7",Y="#EBECF0",X="#DFE1E6",J="#C1C7D0",Z="#B3BAC5",Q="#A5ADBA",ee="#97A0AF",te="#8993A4",ne="#7A869A",re="#6B778C",oe="#5E6C84",ie="#505F79",ae="#42526E",ce="#344563",se="#253858",ue="#172B4D",le="#091E42",de="rgba(9, 30, 66, 0.02)",fe="rgba(9, 30, 66, 0.04)",pe="rgba(9, 30, 66, 0.08)",he="rgba(9, 30, 66, 0.13)",me="rgba(9, 30, 66, 0.25)",ve="rgba(9, 30, 66, 0.31)",be="rgba(9, 30, 66, 0.36)",ge="rgba(9, 30, 66, 0.42)",ye="rgba(9, 30, 66, 0.48)",Oe="rgba(9, 30, 66, 0.54)",we="rgba(9, 30, 66, 0.60)",ke="rgba(9, 30, 66, 0.66)",Ee="rgba(9, 30, 66, 0.71)",xe="rgba(9, 30, 66, 0.77)",Se="rgba(9, 30, 66, 0.82)",je="rgba(9, 30, 66, 0.89)",Ce="rgba(9, 30, 66, 0.95)",Te="#E6EDFA",_e="#DCE5F5",Ae="#CED9EB",Pe="#B8C7E0",Ie="#ABBBD6",Me="#9FB0CC",Re="#8C9CB8",Ne="#7988A3",De="#67758F",Le="#56637A",Be="#455166",Fe="#3B475C",ze="#313D52",Ue="#283447",He="#202B3D",We="#1B2638",Ve="#121A29",qe="#0E1624",Ge="#0D1424",Ke="rgba(13, 20, 36, 0.06)",$e="rgba(13, 20, 36, 0.14)",Ye="rgba(13, 20, 36, 0.18)",Xe="rgba(13, 20, 36, 0.29)",Je="rgba(13, 20, 36, 0.36)",Ze="rgba(13, 20, 36, 0.40)",Qe="rgba(13, 20, 36, 0.47)",et="rgba(13, 20, 36, 0.53)",tt="rgba(13, 20, 36, 0.63)",nt="rgba(13, 20, 36, 0.73)",rt="rgba(13, 20, 36, 0.78)",ot="rgba(13, 20, 36, 0.81)",it="rgba(13, 20, 36, 0.85)",at="rgba(13, 20, 36, 0.89)",ct="rgba(13, 20, 36, 0.92)",st="rgba(13, 20, 36, 0.95)",ut="rgba(13, 20, 36, 0.97)",lt=Object(r.a)({light:"var(--ds-surface, ".concat(G,")"),dark:"var(--ds-surface, ".concat(We,")")}),dt=Object(r.a)({light:"var(--ds-background-selected, ".concat(S,")"),dark:"var(--ds-background-selected, ".concat(j,")")}),ft=Object(r.a)({light:"var(--ds-background-neutral-hovered, ".concat(Y,")"),dark:"var(--ds-background-neutral-hovered, ".concat(Fe,")")}),pt=Object(r.a)({light:"var(--ds-surface-overlay, ".concat(G,")"),dark:"var(--ds-surface-overlay, ".concat(Ue,")")}),ht=Object(r.a)({light:"var(--ds-text, ".concat(le,")"),dark:"var(--ds-text, ".concat(Pe,")")}),mt=Object(r.a)({light:"var(--ds-text, ".concat(ue,")"),dark:"var(--ds-text, ".concat(Pe,")")}),vt=Object(r.a)({light:"var(--ds-text-selected, ".concat(A,")"),dark:"var(--ds-text-selected, ".concat(A,")")}),bt=Object(r.a)({light:"var(--ds-text-subtlest, ".concat(re,")"),dark:"var(--ds-text-subtlest, ".concat(Re,")")}),gt=Object(r.a)({light:"var(--ds-text-subtlest, ".concat(ne,")"),dark:"var(--ds-text-subtlest, ".concat(Ne,")")}),yt=Object(r.a)({light:"var(--ds-text, ".concat(ue,")"),dark:"var(--ds-text, ".concat(Pe,")")}),Ot=Object(r.a)({light:"var(--ds-text-subtlest, ".concat(re,")"),dark:"var(--ds-text-subtlest, ".concat(Re,")")}),wt=Object(r.a)({light:$,dark:Ue}),kt=Object(r.a)({light:"var(--ds-link, ".concat(A,")"),dark:"var(--ds-link, ".concat(C,")")}),Et=Object(r.a)({light:"var(--ds-link-pressed, ".concat(_,")"),dark:"var(--ds-link-pressed, ".concat(T,")")}),xt=Object(r.a)({light:"var(--ds-link-pressed, ".concat(P,")"),dark:"var(--ds-link-pressed, ".concat(C,")")}),St=Object(r.a)({light:"var(--ds-border-focused, ".concat(C,")"),dark:"var(--ds-border-focused, ".concat(T,")")}),jt=Object(r.a)({light:"var(--ds-background-brand-bold, ".concat(A,")"),dark:"var(--ds-background-brand-bold, ".concat(C,")")}),Ct=Object(r.a)({light:A,dark:C}),Tt=Object(r.a)({light:W,dark:H}),_t=Object(r.a)({light:D,dark:R}),At=Object(r.a)({light:s,dark:s}),Pt=Object(r.a)({light:m,dark:m}),It=Object(r.a)({light:k,dark:k}),Mt=function(){return"var(--ds-skeleton, ".concat(fe,")")}},function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return p})),n.d(t,"EditorState",(function(){return k})),n.d(t,"NodeSelection",(function(){return d})),n.d(t,"Plugin",(function(){return S})),n.d(t,"PluginKey",(function(){return T})),n.d(t,"Selection",(function(){return a})),n.d(t,"SelectionRange",(function(){return s})),n.d(t,"TextSelection",(function(){return u})),n.d(t,"Transaction",(function(){return b}));var r=n(14),o=n(27),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new s(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},c={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};c.anchor.get=function(){return this.$anchor.pos},c.head.get=function(){return this.$head.pos},c.from.get=function(){return this.$from.pos},c.to.get=function(){return this.$to.pos},c.$from.get=function(){return this.ranges[0].$from},c.$to.get=function(){return this.ranges[0].$to},c.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=r.Slice.empty);for(var n=t.content.lastChild,o=null,i=0;i<t.openEnd;i++)o=n,n=n.lastChild;for(var a=e.steps.length,c=this.ranges,s=0;s<c.length;s++){var u=c[s],l=u.$from,d=u.$to,f=e.mapping.slice(a);e.replaceRange(f.map(l.pos),f.map(d.pos),s?r.Slice.empty:t),0==s&&v(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,c=i.$to,s=e.mapping.slice(n),u=s.map(a.pos),l=s.map(c.pos);o?e.deleteRange(u,l):(e.replaceRangeWith(u,l,t),v(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var r=e.parent.inlineContent?new u(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new p(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new p(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new p(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,c),a.prototype.visible=!0;var s=function(e,t){this.$from=e,this.$to=t},u=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),e.prototype.replace.call(this,t,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new l(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",u);var l=function(e,t){this.anchor=e,this.head=t};l.prototype.map=function(e){return new l(e.map(this.anchor),e.map(this.head))},l.prototype.resolve=function(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,c=n.resolve(a);return i?e.near(c):new t(c)},t.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new f(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var f=function(e){this.anchor=e};f.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new l(r,r):new f(r)},f.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var p=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),n==r.Slice.empty){t.delete(0,t.doc.content.size);var o=e.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",p);var h={map:function(){return this},resolve:function(e){return new p(e)}};function m(e,t,n,r,o,i){if(t.inlineContent)return u.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var c=t.child(a);if(c.isAtom){if(!i&&d.isSelectable(c))return d.create(e,n-(o<0?c.nodeSize:0))}else{var s=m(e,c,n+o,o<0?c.childCount:0,o,i);if(s)return s}n+=c.nodeSize*o}}function v(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,c=e.steps[r];if(c instanceof o.c||c instanceof o.b)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(a.near(e.doc.resolve(i),n))}}var b=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.g);function g(e,t){return t&&e?e.bind(t):e}var y=function(e,t,n){this.name=e,this.init=g(t.init,n),this.apply=g(t.apply,n)},O=[new y("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new y("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new y("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new y("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],w=function(e,t){var n=this;this.schema=e,this.fields=O.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new y(e.key,e.spec.state,e))}))},k=function(e){this.config=e},E={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};E.schema.get=function(){return this.config.schema},E.plugins.get=function(){return this.config.plugins},k.prototype.apply=function(e){return this.applyTransaction(e).state},k.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},k.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var c=r?r[i].n:0,s=r?r[i].state:this,u=c<t.length&&a.spec.appendTransaction.call(a,c?t.slice(c):t,s,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},k.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new k(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<x.length;i++)x[i](this,e,t);return t},E.tr.get=function(){return new b(this)},k.create=function(e){for(var t=new w(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new k(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},k.prototype.reconfigure=function(e){for(var t=new w(this.schema,e.plugins),n=t.fields,r=new k(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},k.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},k.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new w(e.schema,e.plugins),i=new k(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var c in n){var s=n[c],u=s.spec.state;if(s.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,c))return void(i[o.name]=u.fromJSON.call(s,e,t[c],i))}i[o.name]=o.init(e,i)}})),i},k.addApplyListener=function(e){x.push(e)},k.removeApplyListener=function(e){var t=x.indexOf(e);t>-1&&x.splice(t,1)},Object.defineProperties(k.prototype,E);var x=[];var S=function(e){this.props={},e.props&&function e(t,n,r){for(var o in t){var i=t[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=e(i,n,{})),r[o]=i}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:C("plugin")};S.prototype.getState=function(e){return e[this.key]};var j=Object.create(null);function C(e){return e in j?e+"$"+ ++j[e]:(j[e]=0,e+"$")}var T=function(e){void 0===e&&(e="key"),this.key=C(e)};T.prototype.get=function(e){return e.config.pluginsByKey[this.key]},T.prototype.getState=function(e){return e[this.key]}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(804)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(1),o=n.n(r),i=n(41),a=n(495);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,l=30;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(u||(u={}));var d,f=s(s({},a.a),{},{COLUMN_CONTROLS:"".concat(i.m,"-column-controls"),COLUMN_CONTROLS_DECORATIONS:"".concat(i.m,"-column-controls-decoration"),COLUMN_SELECTED:"".concat(i.m,"-column__selected"),ROW_CONTROLS_WRAPPER:"".concat(i.m,"-row-controls-wrapper"),ROW_CONTROLS:"".concat(i.m,"-row-controls"),ROW_CONTROLS_INNER:"".concat(i.m,"-row-controls__inner"),ROW_CONTROLS_BUTTON_WRAP:"".concat(i.m,"-row-controls__button-wrap"),ROW_CONTROLS_BUTTON:"".concat(i.m,"-row-controls__button"),CONTROLS_BUTTON:"".concat(i.m,"-controls__button"),CONTROLS_BUTTON_ICON:"".concat(i.m,"-controls__button-icon"),CONTROLS_INSERT_BUTTON:"".concat(i.m,"-controls__insert-button"),CONTROLS_INSERT_BUTTON_INNER:"".concat(i.m,"-controls__insert-button-inner"),CONTROLS_INSERT_BUTTON_WRAP:"".concat(i.m,"-controls__insert-button-wrap"),CONTROLS_INSERT_LINE:"".concat(i.m,"-controls__insert-line"),CONTROLS_BUTTON_OVERLAY:"".concat(i.m,"-controls__button-overlay"),LAYOUT_BUTTON:"".concat(i.m,"-layout-button"),CONTROLS_INSERT_MARKER:"".concat(i.m,"-controls__insert-marker"),CONTROLS_INSERT_COLUMN:"".concat(i.m,"-controls__insert-column"),CONTROLS_INSERT_ROW:"".concat(i.m,"-controls__insert-row"),CONTROLS_DELETE_BUTTON_WRAP:"".concat(i.m,"-controls__delete-button-wrap"),CONTROLS_DELETE_BUTTON:"".concat(i.m,"-controls__delete-button"),CONTROLS_FLOATING_BUTTON_COLUMN:"".concat(i.m,"-controls-floating__button-column"),CONTROLS_FLOATING_BUTTON_ROW:"".concat(i.m,"-controls-floating__button-row"),CORNER_CONTROLS:"".concat(i.m,"-corner-controls"),CORNER_CONTROLS_INSERT_ROW_MARKER:"".concat(i.m,"-corner-controls__insert-row-marker"),CORNER_CONTROLS_INSERT_COLUMN_MARKER:"".concat(i.m,"-corner-controls__insert-column-marker"),CONTROLS_CORNER_BUTTON:"".concat(i.m,"-corner-button"),NUMBERED_COLUMN:"".concat(i.m,"-numbered-column"),NUMBERED_COLUMN_BUTTON:"".concat(i.m,"-numbered-column__button"),HOVERED_COLUMN:"".concat(i.m,"-hovered-column"),HOVERED_ROW:"".concat(i.m,"-hovered-row"),HOVERED_TABLE:"".concat(i.m,"-hovered-table"),HOVERED_CELL:"".concat(i.m,"-hovered-cell"),HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:"".concat(i.m,"-hovered-cell__warning"),HOVERED_DELETE_BUTTON:"".concat(i.m,"-hovered-delete-button"),WITH_CONTROLS:"".concat(i.m,"-with-controls"),RESIZING_PLUGIN:"".concat(i.m,"-resizing-plugin"),RESIZE_CURSOR:"".concat(i.m,"-resize-cursor"),IS_RESIZING:"".concat(i.m,"-is-resizing"),RESIZE_HANDLE:"".concat(i.m,"-resize-handle"),RESIZE_HANDLE_DECORATION:"".concat(i.m,"-resize-decoration"),CONTEXTUAL_SUBMENU:"".concat(i.m,"-contextual-submenu"),CONTEXTUAL_MENU_BUTTON_WRAP:"".concat(i.m,"-contextual-menu-button-wrap"),CONTEXTUAL_MENU_BUTTON:"".concat(i.m,"-contextual-menu-button"),CONTEXTUAL_MENU_ICON:"".concat(i.m,"-contextual-submenu-icon"),SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:"".concat(i.m,"-table__selected"),TABLE_CELL:i.j,TABLE_HEADER_CELL:i.l,TABLE_STICKY:"".concat(i.m,"-sticky"),TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:"".concat(i.m,"-last-item-in-cell"),WITH_RESIZE_LINE:"".concat(i.m,"-column-resize-line")});!function(e){e.SHOW_BEFORE_SHADOW="showBeforeShadow",e.SHOW_AFTER_SHADOW="showAfterShadow"}(d||(d={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return T})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return x}));var r=n(217),o=n(0);var i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var a=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var c=0;for(e=0===a?"":e[0]+" ";c<i;++c)t[c]=n(e,t[c],r).trim();break;default:var s=c=0;for(t=[];c<i;++c)for(var u=0;u<a;++u)t[s++]=n(e[u]+" ",o[c],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",c=2*t+3*n+4*i;if(944===c){e=a.indexOf(":",9)+1;var s=a.substring(e,a.length-1).trim();return s=a.substring(0,e).trim()+s+";",1===_||2===_&&o(s,1)?"-webkit-"+s+s:s}if(0===_||2===_&&!o(a,1))return a;switch(c){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(s=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+s+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(s=a.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=a.replace(y,"tb");break;case 232:s=a.replace(y,"tb-rl");break;case 220:s=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+s+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,c=(s=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:a=a.replace(s,"-webkit-"+s)+";"+a;break;case 207:case 102:a=a.replace(s,"-webkit-"+(102<c?"inline-":"")+"box")+";"+a.replace(s,"-webkit-"+s)+";"+a.replace(s,"-ms-"+s+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return s=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+s+"-ms-flex-"+s+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(s,"-webkit-"+s)+a.replace(s,"-moz-"+s.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(E,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,i,a,c,u,l){for(var d,f=0,p=t;f<I;++f)switch(d=P[f].call(s,e,p,n,r,o,i,a,c,u,l)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?_=1:(_=2,M=e):_=0),c}function s(e,n){var c=e;if(33>c.charCodeAt(0)&&(c=c.trim()),c=[c],0<I){var s=a(-1,n,c,c,C,j,0,0,0,0);void 0!==s&&"string"==typeof s&&(n=s)}var d=function e(n,c,s,d,f){for(var p,h,m,y,w,k=0,E=0,x=0,S=0,P=0,M=0,N=m=p=0,D=0,L=0,B=0,F=0,z=s.length,U=z-1,H="",W="",V="",q="";D<z;){if(h=s.charCodeAt(D),D===U&&0!==E+S+x+k&&(0!==E&&(h=47===E?10:47),S=x=k=0,z++,U++),0===E+S+x+k){if(D===U&&(0<L&&(H=H.replace(l,"")),0<H.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:H+=s.charAt(D)}h=59}switch(h){case 123:for(p=(H=H.trim()).charCodeAt(0),m=1,F=++D;D<z;){switch(h=s.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(h=s.charCodeAt(D+1)){case 42:case 47:e:{for(N=D+1;N<U;++N)switch(s.charCodeAt(N)){case 47:if(42===h&&42===s.charCodeAt(N-1)&&D+2!==N){D=N+1;break e}break;case 10:if(47===h){D=N+1;break e}}D=N}}break;case 91:h++;case 40:h++;case 34:case 39:for(;D++<U&&s.charCodeAt(D)!==h;);}if(0===m)break;D++}switch(m=s.substring(F,D),0===p&&(p=(H=H.replace(u,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(H=H.replace(l,"")),h=H.charCodeAt(1)){case 100:case 109:case 115:case 45:L=c;break;default:L=A}if(F=(m=e(c,L,m,h,f+1)).length,0<I&&(w=a(3,m,L=t(A,H,B),c,C,j,F,h,f,d),H=L.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(h=0,m="")),0<F)switch(h){case 115:H=H.replace(O,i);case 100:case 109:case 45:m=H+"{"+m+"}";break;case 107:m=(H=H.replace(v,"$1 $2"))+"{"+m+"}",m=1===_||2===_&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=H+m,112===d&&(W+=m,m="")}else m="";break;default:m=e(c,t(c,H,B),m,d,f+1)}V+=m,m=B=L=N=p=0,H="",h=s.charCodeAt(++D);break;case 125:case 59:if(1<(F=(H=(0<L?H.replace(l,""):H).trim()).length))switch(0===N&&(p=H.charCodeAt(0),45===p||96<p&&123>p)&&(F=(H=H.replace(" ",":")).length),0<I&&void 0!==(w=a(1,H,c,n,C,j,W.length,d,f,d))&&0===(F=(H=w.trim()).length)&&(H="\0\0"),p=H.charCodeAt(0),h=H.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){q+=H+s.charAt(D);break}default:58!==H.charCodeAt(F-1)&&(W+=r(H,p,h,H.charCodeAt(2)))}B=L=N=p=0,H="",h=s.charCodeAt(++D)}}switch(h){case 13:case 10:47===E?E=0:0===1+p&&107!==d&&0<H.length&&(L=1,H+="\0"),0<I*R&&a(0,H,c,n,C,j,W.length,d,f,d),j=1,C++;break;case 59:case 125:if(0===E+S+x+k){j++;break}default:switch(j++,y=s.charAt(D),h){case 9:case 32:if(0===S+k+E)switch(P){case 44:case 58:case 9:case 32:y="";break;default:32!==h&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+E+k&&(L=B=1,y="\f"+y);break;case 108:if(0===S+E+k+T&&0<N)switch(D-N){case 2:112===P&&58===s.charCodeAt(D-3)&&(T=P);case 8:111===M&&(T=M)}break;case 58:0===S+E+k&&(N=D);break;case 44:0===E+x+S+k&&(L=1,y+="\r");break;case 34:case 39:0===E&&(S=S===h?0:0===S?h:S);break;case 91:0===S+E+x&&k++;break;case 93:0===S+E+x&&k--;break;case 41:0===S+E+k&&x--;break;case 40:if(0===S+E+k){if(0===p)switch(2*P+3*M){case 533:break;default:p=1}x++}break;case 64:0===E+x+S+k+N+m&&(m=1);break;case 42:case 47:if(!(0<S+k+x))switch(E){case 0:switch(2*h+3*s.charCodeAt(D+1)){case 235:E=47;break;case 220:F=D,E=42}break;case 42:47===h&&42===P&&F+2!==D&&(33===s.charCodeAt(F+2)&&(W+=s.substring(F,D+1)),y="",E=0)}}0===E&&(H+=y)}M=P,P=h,D++}if(0<(F=W.length)){if(L=c,0<I&&(void 0!==(w=a(2,W,L,n,C,j,F,d,f,d))&&0===(W=w).length))return q+W+V;if(W=L.join(",")+"{"+W+"}",0!=_*T){switch(2!==_||o(W,2)||(T=0),T){case 111:W=W.replace(g,":-moz-$1")+W;break;case 112:W=W.replace(b,"::-webkit-input-$1")+W.replace(b,"::-moz-$1")+W.replace(b,":-ms-input-$1")+W}T=0}}return q+W+V}(A,c,n,0,0);return 0<I&&(void 0!==(s=a(-2,d,c,c,C,j,d.length,0,0,0))&&(d=s)),"",T=0,j=C=1,d}var u=/^\0+/g,l=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,O=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,k=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,j=1,C=1,T=0,_=1,A=[],P=[],I=0,M=null,R=0;return s.use=function e(t){switch(t){case void 0:case null:I=P.length=0;break;default:if("function"==typeof t)P[I++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},s.set=c,void 0!==e&&c(e),s};n(273);function c(e){e&&s.current.insert(e+"}")}var s={current:null},u=function(e,t,n,r,o,i,a,u,l,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===u)return t+"/*|*/";break;case 3:switch(u){case 102:case 112:return s.current.insert(n[0]+t),"";default:return t+(0===d?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(c)}},l=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new a(t);var o,c={};o=e.container||document.head;var l,d=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(d,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){c[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),r.use(e.stylisPlugins)(u),l=function(e,t,n,o){var i=t.name;s.current=n,r(e,t.styles),o&&(f.inserted[i]=!0)};var f={key:n,sheet:new i({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:l};return f},d=(n(813),n(203)),f=n(202),p=Object.prototype.hasOwnProperty,h=Object(o.createContext)("undefined"!=typeof HTMLElement?l():null),m=Object(o.createContext)({}),v=(h.Provider,function(e){var t=function(t,n){return Object(o.createElement)(h.Consumer,null,(function(r){return e(t,r,n)}))};return Object(o.forwardRef)(t)}),b="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g=function(e,t){var n={};for(var r in t)p.call(t,r)&&(n[r]=t[r]);return n[b]=e,n},y=function(){return null},O=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[b],c=[i],s="";"string"==typeof t.className?s=Object(d.a)(e.registered,c,t.className):null!=t.className&&(s=t.className+" ");var u=Object(f.a)(c);Object(d.b)(e,u,"string"==typeof a);s+=e.key+"-"+u.name;var l={};for(var h in t)p.call(t,h)&&"css"!==h&&h!==b&&(l[h]=t[h]);l.ref=r,l.className=s;var m=Object(o.createElement)(a,l),v=Object(o.createElement)(y,null);return Object(o.createElement)(o.Fragment,null,v,m)},w=v((function(e,t,n){return"function"==typeof e.css?Object(o.createElement)(m.Consumer,null,(function(r){return O(t,e,r,n)})):O(t,e,null,n)}));var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(f.a)(t)},E=function(e,t){var n=arguments;if(null==t||!p.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=w,i[1]=g(e,t);for(var a=2;a<r;a++)i[a]=n[a];return o.createElement.apply(null,i)},x=(o.Component,function(){var e=k.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}),S=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var c in a="",i)i[c]&&c&&(a&&(a+=" "),a+=c);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function j(e,t,n){var r=[],o=Object(d.a)(e,r,n);return r.length<2?n:o+t(r)}var C=function(){return null},T=v((function(e,t){return Object(o.createElement)(m.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Object(f.a)(n,t.registered);return Object(d.b)(t,o,!1),t.key+"-"+o.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return j(t.registered,r,S(n))},theme:n},a=e.children(i);var c=Object(o.createElement)(C,null);return Object(o.createElement)(o.Fragment,null,c,a)}))}))},function(e,t,n){var r=n(353);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return M})),n.d(t,"DOMParser",(function(){return ee})),n.d(t,"DOMSerializer",(function(){return de})),n.d(t,"Fragment",(function(){return i})),n.d(t,"Mark",(function(){return l})),n.d(t,"MarkType",(function(){return J})),n.d(t,"Node",(function(){return _})),n.d(t,"NodeRange",(function(){return j})),n.d(t,"NodeType",(function(){return K})),n.d(t,"ReplaceError",(function(){return d})),n.d(t,"ResolvedPos",(function(){return w})),n.d(t,"Schema",(function(){return Z})),n.d(t,"Slice",(function(){return f})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var o=r;var i=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var c=this.content[i],s=a+c.nodeSize;if(s>e&&!1!==n(c,r+a,o,i)&&c.content.size){var u=a+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,t-u),n,r+u)}a=s}},i.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},i.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,c){a.isText?(o+=a.text.slice(Math.max(e,c)-c,t-c),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},i.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new i(r,this.size+e.size)},i.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,a=0;a<t;o++){var c=this.content[o],s=a+c.nodeSize;s>e&&((a<e||s>t)&&(c=c.isText?c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),n.push(c),r+=c.nodeSize),a=s}return new i(n,r)},i.prototype.cutByIndex=function(e,t){return e==t?i.empty:0==e&&t==this.content.length?this:new i(this.content.slice(e,t))},i.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new i(r,o)},i.prototype.addToStart=function(e){return new i([e].concat(this.content),this.size+e.nodeSize)},i.prototype.addToEnd=function(e){return new i(this.content.concat(e),this.size+e.nodeSize)},i.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},i.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},i.prototype.maybeChild=function(e){return this.content[e]},i.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},i.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,r){for(var o=0;;o++){if(o==t.childCount||o==n.childCount)return t.childCount==n.childCount?null:r;var i=t.child(o),a=n.child(o);if(i!=a){if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(var c=0;i.text[c]==a.text[c];c++)r++;return r}if(i.content.size||a.content.size){var s=e(i.content,a.content,r+1);if(null!=s)return s}r+=i.nodeSize}else r+=i.nodeSize}}(this,e,t)},i.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,r,o){for(var i=t.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:r,b:o};var c=t.child(--i),s=n.child(--a),u=c.nodeSize;if(c!=s){if(!c.sameMarkup(s))return{a:r,b:o};if(c.isText&&c.text!=s.text){for(var l=0,d=Math.min(c.text.length,s.text.length);l<d&&c.text[c.text.length-l-1]==s.text[s.text.length-l-1];)l++,r--,o--;return{a:r,b:o}}if(c.content.size||s.content.size){var f=e(c.content,s.content,r-1,o-1);if(f)return f}r-=u,o-=u}else r-=u,o-=u}}(this,e,t,n)},i.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return s(0,e);if(e==this.size)return s(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?s(n+1,o):s(n,r);r=o}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},i.fromJSON=function(e,t){if(!t)return i.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(t.map(e.nodeFromJSON))},i.fromArray=function(e){if(!e.length)return i.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new i(t||e,n)},i.from=function(e){if(!e)return i.empty;if(e instanceof i)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new i([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,a);var c={index:0,offset:0};function s(e,t){return c.index=e,c.offset=t,c}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!u(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!u(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}i.empty=new i([],0);var l=function(e,t){this.type=e,this.attrs=t};function d(e){var t=Error.call(this,e);return t.__proto__=d.prototype,t}l.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},l.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},l.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},l.prototype.eq=function(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)},l.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},l.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},l.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},l.setFrom=function(e){if(!e||0==e.length)return l.none;if(e instanceof l)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},l.none=[],d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},p={size:{configurable:!0}};function h(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return function e(t,n,r,o){var a=t.index(o),c=t.node(o);if(a==n.index(o)&&o<t.depth-r.openStart){var s=e(t,n,r,o+1);return c.copy(c.content.replaceChild(a,s))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=o||n.depth!=o){var u=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(i.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t),l=u.start,d=u.end;return y(c,function e(t,n,r,o,a){var c=t.depth>a&&v(t,n,a+1),s=o.depth>a&&v(r,o,a+1),u=[];g(null,t,a,u),c&&s&&n.index(a)==r.index(a)?(m(c,s),b(y(c,e(t,n,r,o,a+1)),u)):(c&&b(y(c,O(t,n,a+1)),u),g(n,r,a,u),s&&b(y(s,O(r,o,a+1)),u));return g(o,null,a,u),new i(u)}(t,l,d,n,o))}var f=t.parent,p=f.content;return y(f,p.cut(0,t.parentOffset).append(r.content).append(p.cut(n.parentOffset)))}return y(c,O(t,n,o))}(e,t,n,0)}function m(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function v(e,t,n){var r=e.node(n);return m(r,t.node(n)),r}function b(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function g(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(b(e.nodeAfter,r),i++));for(var c=i;c<a;c++)b(o.child(c),r);t&&t.depth==n&&t.textOffset&&b(t.nodeBefore,r)}function y(e,t){if(!e.type.validContent(t))throw new d("Invalid content for node "+e.type.name);return e.copy(t)}function O(e,t,n){var r=[];(g(null,e,n,r),e.depth>n)&&b(y(v(e,t,n+1),O(e,t,n+1)),r);return g(t,null,n,r),new i(r)}p.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=function e(t,n,r,o){var i=t.findIndex(n),a=i.index,c=i.offset,s=t.maybeChild(a);if(c==n||s.isText)return o&&!o.canReplace(a,a,r)?null:t.cut(0,n).append(r).append(t.cut(n));var u=e(s.content,n-c-1,r);return u&&t.replaceChild(a,s.copy(u))}(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(function e(t,n,r){var o=t.findIndex(n),i=o.index,a=o.offset,c=t.maybeChild(i),s=t.findIndex(r),u=s.index,l=s.offset;if(a==n||c.isText){if(l!=r&&!t.child(u).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(i!=u)throw new RangeError("Removing non-flat range");return t.replaceChild(i,c.copy(e(c.content,n-a-1,r-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(i.fromJSON(e,t.content),n,r)},f.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new f(e,n,r)},Object.defineProperties(f.prototype,p),f.empty=new f(i.empty,0,0);var w=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},k={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};w.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},k.parent.get=function(){return this.node(this.depth)},k.doc.get=function(){return this.node(0)},w.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},w.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},w.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},w.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},w.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},w.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},w.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},k.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},k.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},k.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},w.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},w.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return l.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},w.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},w.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},w.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new j(this,e,n)},w.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},w.prototype.max=function(e){return e.pos>this.pos?e:this},w.prototype.min=function(e){return e.pos<this.pos?e:this},w.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},w.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),c=a.index,s=a.offset,u=o-s;if(n.push(i,c,r+s),!u)break;if((i=i.child(c)).isText)break;o=u-1,r+=s+1}return new w(t,n,o)},w.resolveCached=function(e,t){for(var n=0;n<E.length;n++){var r=E[n];if(r.pos==t&&r.doc==e)return r}var o=E[x]=w.resolve(e,t);return x=(x+1)%S,o},Object.defineProperties(w.prototype,k);var E=[],x=0,S=12,j=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},C={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};C.start.get=function(){return this.$from.before(this.depth+1)},C.end.get=function(){return this.$to.after(this.depth+1)},C.parent.get=function(){return this.$from.node(this.depth)},C.startIndex.get=function(){return this.$from.index(this.depth)},C.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(j.prototype,C);var T=Object.create(null),_=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||i.empty,this.marks=r||l.none},A={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};A.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},A.childCount.get=function(){return this.content.childCount},_.prototype.child=function(e){return this.content.child(e)},_.prototype.maybeChild=function(e){return this.content.maybeChild(e)},_.prototype.forEach=function(e){this.content.forEach(e)},_.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},_.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},A.textContent.get=function(){return this.textBetween(0,this.content.size,"")},_.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},A.firstChild.get=function(){return this.content.firstChild},A.lastChild.get=function(){return this.content.lastChild},_.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},_.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},_.prototype.hasMarkup=function(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||T)&&l.sameSet(this.marks,n||l.none)},_.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},_.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},_.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},_.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),c=r.node(i).content.cut(r.pos-a,o.pos-a);return new f(c,r.depth-i,o.depth-i)},_.prototype.replace=function(e,t,n){return h(this.resolve(e),this.resolve(t),n)},_.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},_.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},_.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},_.prototype.resolve=function(e){return w.resolveCached(this,e)},_.prototype.resolveNoCache=function(e){return w.resolve(this,e)},_.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},A.isBlock.get=function(){return this.type.isBlock},A.isTextblock.get=function(){return this.type.isTextblock},A.inlineContent.get=function(){return this.type.inlineContent},A.isInline.get=function(){return this.type.isInline},A.isText.get=function(){return this.type.isText},A.isLeaf.get=function(){return this.type.isLeaf},A.isAtom.get=function(){return this.type.isAtom},_.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),I(this.marks,e)},_.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},_.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=i.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,r,o),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},_.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},_.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},_.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=l.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!l.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},_.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},_.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=i.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(_.prototype,A);var P=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(_);function I(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var M=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},R={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};M.parse=function(e,t){var n=new N(e,t);if(null==n.next)return M.empty;var r=L(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];W(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new M(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var c=o[a+1].sort(H);i.next.push(o[a],t[c.join(",")]||n(c))}return i}(W(e,0))}(function(e){var t=[[]];return o(function e(t,i){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,i))}),[]);if("seq"==t.type)for(var a=0;;a++){var c=e(t.exprs[a],i);if(a==t.exprs.length-1)return c;o(c,i=n())}else{if("star"==t.type){var s=n();return r(i,s),o(e(t.expr,s),s),[r(s)]}if("plus"==t.type){var u=n();return o(e(t.expr,i),u),o(e(t.expr,u),u),[r(u)]}if("opt"==t.type)return[r(i)].concat(e(t.expr,i));if("range"==t.type){for(var l=i,d=0;d<t.min;d++){var f=n();o(e(t.expr,l),f),l=f}if(-1==t.max)o(e(t.expr,l),l);else for(var p=t.min;p<t.max;p++){var h=n();r(l,h),o(e(t.expr,l),h),l=h}return[r(l)]}if("name"==t.type)return[r(i,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],c=0;c<o.next.length;c+=2){var s=o.next[c],u=o.next[c+1];a.push(s.name),!i||s.isText||s.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},M.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},M.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},R.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},R.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},M.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},M.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(a,c){var s=a.matchFragment(e,n);if(s&&(!t||s.validEnd))return i.from(c.map((function(e){return e.createAndFill()})));for(var u=0;u<a.next.length;u+=2){var l=a.next[u],d=a.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var f=o(d,c.concat(l));if(f)return f}}}(this,[])},M.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},M.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var c=0;c<o.next.length;c+=2){var s=o.next[c];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.next[c+1].validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}},R.edgeCount.get=function(){return this.next.length>>1},M.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},M.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(M.prototype,R),M.empty=new M(!0);var N=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},D={next:{configurable:!0}};function L(e){var t=[];do{t.push(B(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function B(e){var t=[];do{t.push(F(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function F(e){for(var t=function(e){if(e.eat("(")){var t=L(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=U(e,t)}return t}function z(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function U(e,t){var n=z(e),r=n;return e.eat(",")&&(r="}"!=e.next?z(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function H(e,t){return t-e}function W(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],c=a.term,s=a.to;c||-1!=n.indexOf(s)||t(s)}}(t),n.sort(H)}function V(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function q(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function G(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new Y(e[n]);return t}D.next.get=function(){return this.tokens[this.pos]},N.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},N.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(N.prototype,D);var K=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=G(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},$={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};$.isInline.get=function(){return!this.isBlock},$.isTextblock.get=function(){return this.isBlock&&this.inlineContent},$.isLeaf.get=function(){return this.contentMatch==M.empty},$.isAtom.get=function(){return this.isLeaf||this.spec.atom},K.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},K.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},K.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:q(this.attrs,e)},K.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _(this,this.computeAttrs(e),i.from(t),l.setFrom(n))},K.prototype.createChecked=function(e,t,n){if(t=i.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new _(this,this.computeAttrs(e),t,l.setFrom(n))},K.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=i.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(i.empty,!0);return o?new _(this,e,t.append(o),l.setFrom(n)):null},K.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},K.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},K.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},K.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:l.empty:e},K.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new K(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(K.prototype,$);var Y=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},X={isRequired:{configurable:!0}};X.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(Y.prototype,X);var J=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=G(r.attrs),this.rank=t,this.excluded=null;var o=V(this.attrs);this.instance=o&&new l(this,o)};J.prototype.create=function(e){return!e&&this.instance?this.instance:new l(this,q(this.attrs,e))},J.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new J(e,r++,t,o)})),n},J.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},J.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},J.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Z=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=o.from(e.nodes),this.spec.marks=o.from(e.marks),this.nodes=K.compile(this.spec.nodes,this),this.marks=J.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],a=i.spec.content||"",c=i.spec.marks;i.contentMatch=n[a]||(n[a]=M.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==c?null:c?Q(this,c.split(" ")):""!=c&&i.inlineContent?null:[]}for(var s in this.marks){var u=this.marks[s],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:Q(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var c in e.marks){var s=e.marks[c];("_"==o||s.spec.group&&s.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=s)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}Z.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof K))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Z.prototype.text=function(e,t){var n=this.nodes.text;return new P(n,n.defaultAttrs,e,l.setFrom(t))},Z.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Z.prototype.nodeFromJSON=function(e){return _.fromJSON(this,e)},Z.prototype.markFromJSON=function(e){return l.fromJSON(this,e)},Z.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ee=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ee.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ee.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},ee.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(se(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},ee.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},ee.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=ue(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=ue(e)),e.node=a}));return t},ee.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ee(e,ee.schemaRules(e)))};var te={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},re={ol:!0,ul:!0};function oe(e){return(e?1:0)|("full"===e?2:0)}var ie=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=l.none,this.pendingMarks=r,this.stashMarks=[]};ie.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(i.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},ie.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=i.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},ie.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},ie.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):le(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},ie.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!te.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var ae=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=oe(t.preserveWhitespace)|(n?4:0);r=o?new ie(o.type,o.attrs,l.none,l.none,!0,t.topMatch||o.type.contentMatch,i):new ie(n?null:e.schema.topNodeType,null,l.none,l.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},ce={top:{configurable:!0},currentPos:{configurable:!0}};function se(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ue(e){var t={};for(var n in e)t[n]=e[n];return t}function le(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,c=r.next;if(o==t)return!0;if(i.indexOf(c)<0&&a(c))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}ce.top.get=function(){return this.nodes[this.open]},ae.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},ae.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ae.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();re.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&re.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ne.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,c=this.needsBlock;if(te.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=c}else this.addElementByRule(e,o,!1===o.consuming?n:null)},ae.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ae.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},ae.prototype.readStyles=function(e){var t=l.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},ae.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,r)}r&&(this.sync(c),this.open--),i&&this.removePendingMark(i,c)},ae.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&te.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},ae.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},ae.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},ae.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},ae.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:oe(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ie(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},ae.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ae.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ae.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},ce.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},ae.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ae.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ae.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},ae.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ae.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,c){for(;e>=0;e--){var s=n[e];if(""==s){if(e==n.length-1||0==e)continue;for(;c>=i;c--)if(a(e-1,c))return!0;return!1}var u=c>0||0==c&&o?t.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=s&&-1==u.groups.indexOf(s))return!1;c--}return!0};return a(n.length-1,this.open)},ae.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},ae.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ae.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(ae.prototype,ce);var de=function(e,t){this.nodes=e||{},this.marks=t||{}};function fe(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function pe(e){return e.document||window.document}de.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=pe(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var c=e.marks[a];if(r.marks[c.type.name]){if(!c.eq(i[n])||!1===c.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var s=e.marks[a++],u=r.serializeMark(s,e.isInline,t);u&&(i.push(s,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(e,t))})),n},de.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=de.renderSpec(pe(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},de.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},de.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&de.renderSpec(pe(n),r(e,t))},de.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),c=t[1],s=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c))for(var u in s=2,c)if(null!=c[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),c[u]):a.setAttribute(u,c[u])}for(var d=s;d<t.length;d++){var f=t[d];if(0===f){if(d<t.length-1||d>s)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var p=de.renderSpec(e,f,n),h=p.dom,m=p.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},de.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new de(this.nodesFromSchema(e),this.marksFromSchema(e)))},de.nodesFromSchema=function(e){var t=fe(e.nodes);return t.text||(t.text=function(e){return e.text}),t},de.marksFromSchema=function(e){return fe(e.marks)}},function(e,t,n){var r=n(45).default,o=n(5);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return f}));n(471);n(3);var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return 11},l=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},d=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"},f={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},function(e,t,n){"use strict";n.r(t),n.d(t,"addAltText",(function(){return f})),n.d(t,"toggleBold",(function(){return p})),n.d(t,"toggleItalic",(function(){return h})),n.d(t,"toggleUnderline",(function(){return m})),n.d(t,"toggleStrikethrough",(function(){return v})),n.d(t,"toggleSubscript",(function(){return b})),n.d(t,"toggleSuperscript",(function(){return g})),n.d(t,"toggleCode",(function(){return y})),n.d(t,"pastePlainText",(function(){return O})),n.d(t,"clearFormatting",(function(){return w})),n.d(t,"setNormalText",(function(){return k})),n.d(t,"toggleHeading1",(function(){return E})),n.d(t,"toggleHeading2",(function(){return x})),n.d(t,"toggleHeading3",(function(){return S})),n.d(t,"toggleHeading4",(function(){return j})),n.d(t,"toggleHeading5",(function(){return C})),n.d(t,"toggleHeading6",(function(){return T})),n.d(t,"toggleOrderedList",(function(){return _})),n.d(t,"ctrlBackSpace",(function(){return A})),n.d(t,"toggleBulletList",(function(){return P})),n.d(t,"toggleBlockQuote",(function(){return I})),n.d(t,"insertNewLine",(function(){return M})),n.d(t,"shiftBackspace",(function(){return R})),n.d(t,"splitCodeBlock",(function(){return N})),n.d(t,"splitListItem",(function(){return D})),n.d(t,"insertRule",(function(){return L})),n.d(t,"undo",(function(){return B})),n.d(t,"moveUp",(function(){return F})),n.d(t,"moveDown",(function(){return z})),n.d(t,"moveLeft",(function(){return U})),n.d(t,"moveRight",(function(){return H})),n.d(t,"indentList",(function(){return W})),n.d(t,"outdentList",(function(){return V})),n.d(t,"redo",(function(){return q})),n.d(t,"openHelp",(function(){return G})),n.d(t,"addLink",(function(){return K})),n.d(t,"addInlineComment",(function(){return $})),n.d(t,"submit",(function(){return Y})),n.d(t,"enter",(function(){return X})),n.d(t,"shiftEnter",(function(){return J})),n.d(t,"tab",(function(){return Z})),n.d(t,"indent",(function(){return Q})),n.d(t,"outdent",(function(){return ee})),n.d(t,"backspace",(function(){return te})),n.d(t,"deleteKey",(function(){return ne})),n.d(t,"forwardDelete",(function(){return re})),n.d(t,"space",(function(){return oe})),n.d(t,"escape",(function(){return ie})),n.d(t,"nextCell",(function(){return ae})),n.d(t,"previousCell",(function(){return ce})),n.d(t,"shiftTab",(function(){return se})),n.d(t,"toggleTable",(function(){return ue})),n.d(t,"addRowBefore",(function(){return le})),n.d(t,"addRowAfter",(function(){return de})),n.d(t,"addColumnAfter",(function(){return fe})),n.d(t,"addColumnBefore",(function(){return pe})),n.d(t,"cut",(function(){return he})),n.d(t,"copy",(function(){return me})),n.d(t,"paste",(function(){return ve})),n.d(t,"altPaste",(function(){return be})),n.d(t,"find",(function(){return ge})),n.d(t,"alignLeft",(function(){return ye})),n.d(t,"alignRight",(function(){return Oe})),n.d(t,"tooltip",(function(){return xe})),n.d(t,"ToolTipContent",(function(){return Se})),n.d(t,"findKeymapByDescription",(function(){return je})),n.d(t,"findShortcutByDescription",(function(){return Ce})),n.d(t,"findShortcutByKeymap",(function(){return Te})),n.d(t,"makeKeymap",(function(){return Ae})),n.d(t,"makeKeyMapWithCommon",(function(){return Pe})),n.d(t,"bindKeymapWithCommand",(function(){return Ie})),n.d(t,"findKeyMapForBrowser",(function(){return Me}));var r,o=n(7),i=n.n(o),a=n(0),c=n.n(a),s=n(2),u=n(192),l=n(3),d=n(140);n.d(t,"DOWN",(function(){return d.a})),n.d(t,"HEADING_KEYS",(function(){return d.b})),n.d(t,"KEY_0",(function(){return d.c})),n.d(t,"KEY_1",(function(){return d.d})),n.d(t,"KEY_2",(function(){return d.e})),n.d(t,"KEY_3",(function(){return d.f})),n.d(t,"KEY_4",(function(){return d.g})),n.d(t,"KEY_5",(function(){return d.h})),n.d(t,"KEY_6",(function(){return d.i})),n.d(t,"LEFT",(function(){return d.j})),n.d(t,"RIGHT",(function(){return d.k})),n.d(t,"UP",(function(){return d.l}));var f=Pe("Add Alt Text","Mod-Alt-y"),p=Pe("Bold","Mod-b"),h=Pe("Italic","Mod-i"),m=Pe("Underline","Mod-u"),v=Pe("Strikethrough","Mod-Shift-s"),b=Pe("Subscript","Mod-Shift-,"),g=Pe("Superscript","Mod-Shift-."),y=Pe("Code","Mod-Shift-m"),O=Pe("Paste Plain Text","Mod-Shift-v"),w=Pe("Clear formatting","Mod-\\"),k=Pe("Normal text","Mod-Alt-0"),E=Pe("Heading 1","Mod-Alt-1"),x=Pe("Heading 2","Mod-Alt-2"),S=Pe("Heading 3","Mod-Alt-3"),j=Pe("Heading 4","Mod-Alt-4"),C=Pe("Heading 5","Mod-Alt-5"),T=Pe("Heading 6","Mod-Alt-6"),_=Pe("Numbered list","Mod-Shift-7"),A=Pe("Cmd + Backspace","Mod-Backspace"),P=Pe("Bullet list","Mod-Shift-8"),I=Ae("Quote","","Cmd-Alt-9"),M=Pe("Insert new line","Shift-Enter"),R=Pe("Shift Backspace","Shift-Backspace"),N=Pe("Split code block","Enter"),D=Pe("Split list item","Enter"),L=Pe("Insert horizontal rule","Mod-Shift--"),B=Pe("Undo","Mod-z"),F=Pe("Move up","ArrowUp"),z=Pe("Move down","ArrowDown"),U=Pe("Move left","ArrowLeft"),H=Pe("Move right","ArrowRight"),W=Pe("Indent List","Tab"),V=Pe("Outdent List","Shift-Tab"),q=Ae("Redo","Ctrl-y","Mod-Shift-z"),G=Pe("Open Help","Mod-/"),K=Pe("Link","Mod-k"),$=Pe("Annotate","Mod-Alt-c"),Y=Pe("Submit Content","Mod-Enter"),X=Pe("Enter","Enter"),J=Pe("Shift Enter","Shift-Enter"),Z=Pe("Tab","Tab"),Q=Pe("Indent","Tab"),ee=Pe("Outdent","Shift-Tab"),te=Pe("Backspace","Backspace"),ne=Pe("Delete","Delete"),re=Ae("Forward Delete","","Ctrl-d"),oe=Pe("Space","Space"),ie=Pe("Escape","Escape"),ae=Pe("Next cell","Tab"),ce=Pe("Previous cell","Shift-Tab"),se=Pe("Shift Tab","Shift-Tab"),ue=Pe("Table","Shift-Alt-t"),le=Pe("Add Row Above","Ctrl-Alt-ArrowUp"),de=Pe("Add Row Below","Ctrl-Alt-ArrowDown"),fe=Pe("Add Column After","Ctrl-Alt-ArrowRight"),pe=Pe("Add Column Before","Ctrl-Alt-ArrowLeft"),he=Pe("Cut","Mod-x"),me=Pe("Copy","Mod-c"),ve=Pe("Paste","Mod-v"),be=Pe("Paste","Mod-Shift-v"),ge=Pe("Find","Mod-f"),ye=Pe("Align Left","Mod-Shift-l"),Oe=Pe("Align Right","Mod-Shift-r"),we={ARROWLEFT:"",ARROWRIGHT:"",ARROWUP:"",ARROWDOWN:""},ke=Object(s.c)(r||(r=i()(["\n  border-radius: 2px;\n  background-color: ",";\n  padding: 0 2px;\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: tooltip-shortcut;\n"])),l.N400);function Ee(e){var t=(u.a.mac?e.mac.replace(/Cmd/i,"").replace(/Shift/i,"").replace(/Ctrl/i,"").replace(/Alt/i,"").replace(/Backspace/i,"").replace(/Enter/i,""):e.windows.replace(/Backspace/i,"")).split("-"),n=t[t.length-1];return 1===n.length&&(n=n.toUpperCase()),t[t.length-1]=we[n.toUpperCase()]||n,t.join(u.a.mac?"":"+")}function xe(e,t){if(e){var n=Ee(e);return t?"".concat(t," ").concat(n):n}}var Se=c.a.memo((function(e){var t=e.description,n=e.shortcutOverride,r=e.keymap,o=n||r&&Ee(r);return o||t?Object(s.d)(a.Fragment,null,t,o&&t&&"",o&&Object(s.d)("span",{css:ke},o)):null}));function je(e){return _e.filter((function(t){return t.description.toUpperCase()===e.toUpperCase()}))[0]}function Ce(e){var t=je(e);if(t)return Te(t)}function Te(e){return u.a.mac?e.mac:e.windows}var _e=[_,P,p,h,m,v,b,g,y,k,E,x,S,j,C,T,I,M,L,N,D,q,B,ge,ie,X,J];function Ae(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}function Pe(e,t){return Ae(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function Ie(e,t,n){var r=n[e],o=t;n[e]&&(o=function(e,n,o){return r(e,n)||t(e,n,o)}),n[e]=o}function Me(e){if(e)return u.a.mac?e.mac:e.windows}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(14),i=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=k(e[r])(n.selection);if(i){var a=p(i.pos,t)(n);if(a!==n)return a}}return n}},a=function(e){return function(t){if(l(t.selection)){var n=t.selection,i=n.$from,a=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return f(t.replaceWith(i.pos,a.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},s=function(e){return e.type&&e.type.spec.selectable},u=function(e,t,n){return function(e){return s(e)&&e.type.isLeaf}(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):c(t)(n)},l=function(e){return e instanceof r.NodeSelection},d=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},f=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},p=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(h(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=c(Math.max(i,0),-1)(n),n=c(n.selection.$from.start())(n),f(n)}return n}},h=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},m=function(e){return function(t){var n=t.doc.nodeAt(e);return f(t.delete(e,e+n.nodeSize))}},v=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},b=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},g=function(e){return function(t){var n=t.$from;return y(n,e)}},y=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},O=function(e,t){return function(n){var r=g(e)(n);if(r)return x(r.pos,t)}},w=function(e){return function(t){return!!g(e)(t)}},k=function(e){return function(t){return g((function(t){return d(e,t)}))(t)}},E=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=k(t.type)(n);return o?o.pos:n.$from.pos}},x=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},S=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},j=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return S(e,n).filter((function(e){return t(e.node)}))},C=function(e,t,n){return j(e,(function(e){return e.type===t}),n)};t.isNodeSelection=l,t.canInsert=v,t.findParentNode=g,t.findParentNodeClosestToPos=y,t.findParentDomRef=O,t.hasParentNode=w,t.findParentNodeOfType=k,t.findParentNodeOfTypeClosestToPos=function(e,t){return y(e,(function(e){return d(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return w((function(t){return d(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return O((function(t){return d(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(l(t)){var n=t.node,r=t.$from;if(d(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=E,t.findDomRefAtPos=x,t.flatten=S,t.findChildren=j,t.findTextNodes=function(e,t){return j(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return j(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return j(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return j(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=C,t.findChildrenByMark=function(e,t,n){return j(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!C(e,t).length},t.removeParentNodeOfType=function(e){return function(t){var n=k(e)(t.selection);return n?m(n.pos)(t):t}},t.replaceParentNodeOfType=i,t.removeSelectedNode=function(e){if(l(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return f(e.delete(t,n))}return e},t.replaceSelectedNode=a,t.setTextSelection=c,t.safeInsert=function(e,t,n){return function(r){var o="number"==typeof t,c=r.selection.$from,d=o?r.doc.resolve(t):l(r.selection)?r.doc.resolve(c.pos+1):c,p=d.parent;if(l(r.selection)&&n&&r!==(r=a(e)(r)))return r;if(b(p)&&r!==(r=i(p.type,e)(r))){var h=s(e)?d.before(d.depth):d.pos;return u(e,h,r)}if(v(d,e)){r.insert(d.pos,e);var m=o?d.pos:s(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return f(u(e,m,r))}for(var g=d.depth;g>0;g--){var y=d.after(g),O=r.doc.resolve(y);if(v(O,e))return r.insert(y,e),f(u(e,y,r))}return r}},t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=k(e)(o.selection);return i?f(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!l(t.selection)){var n=k(e)(t.selection);if(n)return f(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=E(e.selection);return"number"==typeof t?m(t)(e):e}},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(810),o=n(558),i=n(435),a=n(811);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(559),o=n(812),i=n(435),a=n(560);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(9),o=n.n(r),i=n(8),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var h=function(e){s()(n,e);var t=p(n);function n(e){return a()(this,n),t.call(this,e)}return o()(n)}(n(4).Plugin)},function(e,t,n){"use strict";n.d(t,"r",(function(){return u})),n.d(t,"D",(function(){return l})),n.d(t,"C",(function(){return d})),n.d(t,"n",(function(){return f})),n.d(t,"t",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"q",(function(){return m})),n.d(t,"s",(function(){return v})),n.d(t,"o",(function(){return b})),n.d(t,"E",(function(){return g})),n.d(t,"p",(function(){return y})),n.d(t,"A",(function(){return O})),n.d(t,"B",(function(){return w})),n.d(t,"z",(function(){return k})),n.d(t,"y",(function(){return E})),n.d(t,"w",(function(){return x})),n.d(t,"v",(function(){return S})),n.d(t,"G",(function(){return j})),n.d(t,"u",(function(){return C})),n.d(t,"x",(function(){return T})),n.d(t,"f",(function(){return _})),n.d(t,"g",(function(){return A})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return M})),n.d(t,"h",(function(){return R})),n.d(t,"j",(function(){return N})),n.d(t,"i",(function(){return D})),n.d(t,"e",(function(){return L})),n.d(t,"d",(function(){return B})),n.d(t,"m",(function(){return F})),n.d(t,"l",(function(){return z})),n.d(t,"k",(function(){return U}));var r=n(3),o=n(495),i=n(73),a=n(33),c=n(11),s=n(64),u=Object(s.a)({light:r.N0,dark:r.DN30}),l=Object(s.a)({light:i.Q,dark:i.R}),d=Object(s.a)({light:Object(a.a)("color.text.subtlest",r.N200),dark:Object(a.a)("color.text.subtlest",r.DN400)}),f=Object(s.a)({light:Object(a.a)("color.border",i.M),dark:Object(a.a)("color.border",i.N)}),p=(Object(a.a)("color.background.neutral",r.N20),Object(a.a)("color.blanket.selected","rgba(179, 212, 255, 0.3)")),h=Object(a.a)("color.background.selected.bold",r.B200),m=Object(a.a)("color.border.selected",r.B300),v=Object(a.a)("color.blanket.danger","rgba(255, 235, 230, 0.3)"),b=Object(a.a)("color.border.danger",r.R400),g=Object(a.a)("color.background.danger.bold",r.R75),y=3,O=8,w=15,k=2,E=20,x=16,S=6,j=i.S,C=o.h+O-o.c,T=3,_=13,A=4,P=25,I=10*i.U,M=I+1,R=c.a/3,N=2,D=I+i.X,L=16,B=180,F=D+2,z=8,U=1},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r,o,i=n(108),a=n(0),c=n(184);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(o||(o={}));var s=function(e){var t=Object(c.a)(),n=e.value,r=e.children,o=Object(i.c)(e,["value","children"]);return r(t.formatNumberToParts(n,o))};s.displayName="FormattedNumberParts";function u(e){var t=function(t){var n=Object(c.a)(),r=t.value,o=t.children,a=Object(i.c)(t,["value","children"]),s="string"==typeof r?new Date(r||0):r;return o("formatDate"===e?n.formatDateToParts(s,a):n.formatTimeToParts(s,a))};return t.displayName=o[e],t}function l(e){var t=function(t){var n=Object(c.a)(),r=t.value,o=t.children,s=Object(i.c)(t,["value","children"]),u=n[e](r,s);if("function"==typeof o)return o(u);var l=n.textComponent||a.Fragment;return a.createElement(l,null,u)};return t.displayName=r[e],t}function d(e){return e}s.displayName="FormattedNumberParts";var f=l("formatDate");l("formatTime"),l("formatNumber"),l("formatList"),l("formatDisplayName"),u("formatDate"),u("formatTime")},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return C}));var r=n(189),o=n(62),i=n(50);Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,i.i;const a=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&o.c(e)===e);Number.isNaN,Number.parseInt;class c{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const s=()=>new c,u=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},l=e=>{const t=new Uint8Array(u(e));let n=0;for(let r=0;r<e.bufs.length;r++){const o=e.bufs[r];t.set(o,n),n+=o.length}return t.set(r.c(e.cbuf.buffer,0,e.cpos),n),t},d=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},f=d,p=(e,t)=>{for(;t>i.m;)d(e,i.g|i.m&t),t>>>=7;d(e,i.m&t)},h=(e,t)=>{const n=o.d(t);for(n&&(t=-t),d(e,(t>i.l?i.g:0)|(n?i.f:0)|i.l&t),t>>>=6;t>0;)d(e,(t>i.m?i.g:0)|i.m&t),t>>>=7},m=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;p(e,r);for(let t=0;t<r;t++)d(e,n.codePointAt(t))},v=(e,t)=>b(e,l(t)),b=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=o.g(n-r,t.length),a=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,a>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(o.f(2*n,a)),e.cbuf.set(t.subarray(i)),e.cpos=a)},g=(e,t)=>{p(e,t.byteLength),b(e,t)},y=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(r.c(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*o.f(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},O=new DataView(new ArrayBuffer(4)),w=(e,t)=>{switch(typeof t){case"string":d(e,119),m(e,t);break;case"number":a(t)&&o.a(t)<=i.i?(d(e,125),h(e,t)):(n=t,O.setFloat32(0,n),O.getFloat32(0)===n?(d(e,124),((e,t)=>{y(e,4).setFloat32(0,t,!1)})(e,t)):(d(e,123),((e,t)=>{y(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":d(e,122),((e,t)=>{y(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)d(e,126);else if(t instanceof Array){d(e,117),p(e,t.length);for(let n=0;n<t.length;n++)w(e,t[n])}else if(t instanceof Uint8Array)d(e,116),g(e,t);else{d(e,118);const n=Object.keys(t);p(e,n.length);for(let r=0;r<n.length;r++){const o=n[r];m(e,o),w(e,t[o])}}break;case"boolean":d(e,t?120:121);break;default:d(e,127)}var n};class k extends c{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&p(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const E=e=>{e.count>0&&(h(e.encoder,1===e.count?e.s:-e.s),e.count>1&&p(e.encoder,e.count-2))};class x{constructor(){this.encoder=new c,this.s=0,this.count=0}write(e){this.s===e?this.count++:(E(this),this.count=1,this.s=e)}toUint8Array(){return E(this),l(this.encoder)}}const S=e=>{if(e.count>0){const t=e.diff<<1|(1===e.count?0:1);h(e.encoder,t),e.count>1&&p(e.encoder,e.count-2)}};class j{constructor(){this.encoder=new c,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(S(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return S(this),l(this.encoder)}}class C{constructor(){this.sarr=[],this.s="",this.lensE=new x}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new c;return this.sarr.push(this.s),this.s="",m(e,this.sarr.join("")),b(e,this.lensE.toUint8Array()),l(e)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return O}));var r=n(14),o=Math.pow(2,16);function i(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},c=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};c.prototype.recover=function(e){var t=0,n=i(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},c.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,c=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;var l=this.ranges[s+i],d=this.ranges[s+c],f=u+l;if(e<=f){var p=u+r+((l?e==u?-1:e==f?1:t:t)<0?0:d);if(n)return p;var h=e==(t<0?u:f)?null:s/3+(e-u)*o;return new a(p,t<0?e!=u:e!=f,h)}r+=d-l}return n?e+r:new a(e+r)},c.prototype.touches=function(e,t){for(var n=0,r=i(t),o=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var s=this.ranges[c]-(this.inverted?n:0);if(s>e)break;var u=this.ranges[c+o];if(e<=s+u&&c==3*r)return!0;n+=this.ranges[c+a]-u}return!1},c.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),c=i+(this.inverted?0:o),s=this.ranges[r+t],u=this.ranges[r+n];e(a,a+s,c,c+u),o+=u-s}},c.prototype.invert=function(){return new c(this.ranges,!this.inverted)},c.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},c.offset=function(e){return 0==e?c.empty:new c(e<0?[0,-e,0]:[0,0,e])},c.empty=new c([]);var s=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function u(e){var t=Error.call(this,e);return t.__proto__=u.prototype,t}s.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new s(this.maps,this.mirror,e,t)},s.prototype.copy=function(){return new s(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},s.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},s.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},s.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},s.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},s.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},s.prototype.invert=function(){var e=new s;return e.appendMappingInverted(this),e},s.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var c=this.getMirror(o);if(null!=c&&c>o&&c<this.to){o=c,e=this.maps[c].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new a(e,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var l=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new s},d={before:{configurable:!0},docChanged:{configurable:!0}};function f(){throw new Error("Override me")}d.before.get=function(){return this.docs.length?this.docs[0]:this.doc},l.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new u(t.failed);return this},l.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},d.docChanged.get=function(){return this.steps.length>0},l.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(l.prototype,d);var p=Object.create(null),h=function(){};h.prototype.apply=function(e){return f()},h.prototype.getMap=function(){return c.empty},h.prototype.invert=function(e){return f()},h.prototype.map=function(e){return f()},h.prototype.merge=function(e){return null},h.prototype.toJSON=function(){return f()},h.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=p[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},h.jsonID=function(e,t){if(e in p)throw new RangeError("Duplicate use of step JSON ID "+e);return p[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,o){try{return m.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.ReplaceError)return m.fail(e.message);throw e}};var v=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&g(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new c([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r.Slice.fromJSON(e,n.slice),!!n.structure)},t}(h);h.jsonID("replace",v);var b=function(e){function t(t,n,r,o,i,a,c){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(g(e,this.from,this.gapFrom)||g(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new c([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(h);function g(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function y(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function O(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!y(r,o,i))break}}function w(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var c=(a.length?a[a.length-1]:t).contentMatch,s=r;c&&s<o;s++)c=c.matchType(n.child(s).type);if(!c||!c.validEnd)return null;return a}(r,t);return i?o.map(k).concat({type:t,attrs:n}).concat(i.map(k)):null}function k(e){return{type:e,attrs:null}}function E(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var c=o.depth-1,s=n-2;c>i;c--,s--){var u=o.node(c),l=o.index(c);if(u.type.spec.isolating)return!1;var d=u.content.cutByIndex(l,u.childCount),f=r&&r[s]||u;if(f!=u&&(d=d.replaceChild(0,f.type.create(f.attrs))),!u.canReplace(l+1,u.childCount)||!f.type.validContent(d))return!1}var p=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(p,p,h?h.type:o.node(i+1).type)}function x(e,t){var n=e.resolve(t),r=n.index();return S(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function S(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function j(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,c=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),c++,a=r.node(o).maybeChild(c)):(i=r.node(o).maybeChild(c-1),a=r.node(o+1)),i&&!i.isTextblock&&S(i,a)&&r.node(o).canReplace(c,c+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function C(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var c=r.indexAfter(a);if(r.node(a).canReplaceWith(c,c,n))return r.after(a+1);if(c<r.node(a).childCount)return null}}function T(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var c=r.depth;c>=0;c--){var s=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,u=r.index(c)+(s>0?1:0),l=r.node(c),d=!1;if(1==a)d=l.canReplace(u,u,o);else{var f=l.contentMatchAt(u).findWrapping(o.firstChild.type);d=f&&l.canReplaceWith(u,u,f[0])}if(d)return 0==s?r.pos:s<0?r.before(c+1):r.after(c+1)}return null}function _(e,t,n){for(var o=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(_(a.content,t,a))),a.isInline&&(a=t(a,n,i)),o.push(a)}return r.Fragment.fromArray(o)}h.jsonID("replaceAround",b),l.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,i=e.depth,a=n.before(i+1),c=o.after(i+1),s=a,u=c,l=r.Fragment.empty,d=0,f=i,p=!1;f>t;f--)p||n.index(f)>0?(p=!0,l=r.Fragment.from(n.node(f).copy(l)),d++):s--;for(var h=r.Fragment.empty,m=0,v=i,g=!1;v>t;v--)g||o.after(v+1)<o.end(v)?(g=!0,h=r.Fragment.from(o.node(v).copy(h)),m++):u++;return this.step(new b(s,u,a,c,new r.Slice(l.append(h),d,m),l.size-d,!0))},l.prototype.wrap=function(e,t){for(var n=r.Fragment.empty,o=t.length-1;o>=0;o--)n=r.Fragment.from(t[o].type.create(t[o].attrs,n));var i=e.start,a=e.end;return this.step(new b(i,a,i,a,new r.Slice(n,0,0),t.length,!0))},l.prototype.setBlockType=function(e,t,n,o){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var c=i.mapping.slice(a),s=c.map(t,1),u=c.map(t+e.nodeSize,1);return i.step(new b(s,u,s+1,u-1,new r.Slice(r.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},l.prototype.setNodeMarkup=function(e,t,n,o){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new b(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))},l.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),i=r.Fragment.empty,a=r.Fragment.empty,c=o.depth,s=o.depth-t,u=t-1;c>s;c--,u--){i=r.Fragment.from(o.node(c).copy(i));var l=n&&n[u];a=r.Fragment.from(l?l.type.create(l.attrs,a):o.node(c).copy(a))}return this.step(new v(e,e,new r.Slice(i.append(a),t,t),!0))},l.prototype.join=function(e,t){void 0===t&&(t=1);var n=new v(e-t,e+t,r.Slice.empty,!0);return this.step(n)};var A=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r.Slice(_(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new P(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);h.jsonID("addMark",A);var P=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new r.Slice(_(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new A(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);function I(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}h.jsonID("removeMark",P),l.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,c=null;return this.doc.nodesBetween(e,t,(function(r,s,u){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var d=Math.max(s,e),f=Math.min(s+r.nodeSize,t),p=n.addToSet(l),h=0;h<l.length;h++)l[h].isInSet(p)||(a&&a.to==d&&a.mark.eq(l[h])?a.to=f:o.push(a=new P(d,f,l[h])));c&&c.to==d?c.to=f:i.push(c=new A(d,f,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},l.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(o,c){if(o.isInline){a++;var s=null;if(n instanceof r.MarkType)for(var u,l=o.marks;u=n.isInSet(l);)(s||(s=[])).push(u),l=u.removeFromSet(l);else n?n.isInSet(o.marks)&&(s=[n]):s=o.marks;if(s&&s.length)for(var d=Math.min(c+o.nodeSize,t),f=0;f<s.length;f++){for(var p=s[f],h=void 0,m=0;m<i.length;m++){var v=i[m];v.step==a-1&&p.eq(i[m].style)&&(h=v)}h?(h.to=d,h.step=a):i.push({style:p,from:Math.max(c,e),to:d,step:a})}}})),i.forEach((function(e){return o.step(new P(e.from,e.to,e.style))})),this},l.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),i=[],a=e+1,c=0;c<o.childCount;c++){var s=o.child(c),u=a+s.nodeSize,l=n.matchType(s.type,s.attrs);if(l){n=l;for(var d=0;d<s.marks.length;d++)t.allowsMarkType(s.marks[d].type)||this.step(new P(a,u,s.marks[d]))}else i.push(new v(a,u,r.Slice.empty));a=u}if(!n.validEnd){var f=n.fillBefore(r.Fragment.empty,!0);this.replace(a,a,new r.Slice(f,0,0))}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},l.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r.Slice.empty);var o=function(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=r.Slice.empty),t==n&&!o.size)return null;var i=e.resolve(t),a=e.resolve(n);return I(i,a,o)?new v(t,n,o):new M(i,a,o).fit()}(this.doc,e,t,n);return o&&this.step(o),this},l.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r.Slice(r.Fragment.from(n),0,0))},l.prototype.delete=function(e,t){return this.replace(e,t,r.Slice.empty)},l.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var M=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=r.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=r.Fragment.from(e.node(a).copy(this.placed))},R={depth:{configurable:!0}};function N(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(N(e.firstChild.content,t-1,n)))}function D(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(D(e.lastChild.content,t-1,n)))}function L(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function B(e,t,n){if(t<=0)return e;var o=e.content;return t>1&&(o=o.replaceChild(0,B(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(r.Fragment.empty,!0)))),e.copy(o)}function F(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var c=r.fillBefore(i.content,!0,a);return c&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?c:null}function z(e,t,n,o,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(z(a.content,t+1,n,o,a)))}if(t>o){var c=i.contentMatchAt(0),s=c.fillBefore(e).append(e);e=s.append(c.matchFragment(s).fillBefore(r.Fragment.empty,!0))}return e}function U(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}R.depth.get=function(){return this.frontier.length-1},M.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(t<0?this.$to:o.doc.resolve(t));if(!i)return null;for(var a=this.placed,c=o.depth,s=i.depth;c&&s&&1==a.childCount;)a=a.firstChild.content,c--,s--;var u=new r.Slice(a,c,s);return t>-1?new b(o.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||o.pos!=this.$to.pos?new v(o.pos,i.pos,u):void 0},M.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,o=(t?(n=L(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],c=a.type,s=a.match,u=void 0,l=void 0;if(1==e&&(o?s.matchType(o.type)||(l=s.fillBefore(r.Fragment.from(o),!1)):c.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:l};if(2==e&&o&&(u=s.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:u};if(n&&s.matchType(n.type))break}},M.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=L(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.Slice(t,n+1,Math.max(o,i.size+n>=t.size-o?n+1:0)),!0)},M.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=L(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new r.Slice(N(t,n-1,1),n-1,a?n-1:o)}else this.unplaced=new r.Slice(N(t,n,1),n,o)},M.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,o=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var c=0;c<a.length;c++)this.openFrontierNode(a[c]);var s=this.unplaced,u=o?o.content:s.content,l=s.openStart-t,d=0,f=[],p=this.frontier[n],h=p.match,m=p.type;if(i){for(var v=0;v<i.childCount;v++)f.push(i.child(v));h=h.matchFragment(i)}for(var b=u.size+t-(s.content.size-s.openEnd);d<u.childCount;){var g=u.child(d),y=h.matchType(g.type);if(!y)break;(++d>1||0==l||g.content.size)&&(h=y,f.push(B(g.mark(m.allowedMarks(g.marks)),1==d?l:0,d==u.childCount?b:-1)))}var O=d==u.childCount;O||(b=-1),this.placed=D(this.placed,n,r.Fragment.from(f)),this.frontier[n].match=h,O&&b<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,k=u;w<b;w++){var E=k.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),k=E.content}this.unplaced=O?0==t?r.Slice.empty:new r.Slice(N(s.content,t-1,1),t-1,b<0?s.openEnd:t-1):new r.Slice(N(s.content,t,d),s.openStart,s.openEnd)},M.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!F(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},M.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=F(e,t,o,r,i);if(a){for(var c=t-1;c>=0;c--){var s=this.frontier[c],u=s.match,l=F(e,c,s.type,u,!0);if(!l||l.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},M.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=D(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},M.prototype.openFrontierNode=function(e,t,n){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=D(this.placed,this.depth,r.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},M.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);e.childCount&&(this.placed=D(this.placed,this.frontier.length,e))},Object.defineProperties(M.prototype,R),l.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),i=this.doc.resolve(t);if(I(o,i,n))return this.step(new v(e,t,n));var a=U(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var c=-(o.depth+1);a.unshift(c);for(var s=o.depth,u=o.pos-1;s>0;s--,u--){var l=o.node(s).type.spec;if(l.defining||l.isolating)break;a.indexOf(s)>-1?c=s:o.before(s)==u&&a.splice(1,0,-s)}for(var d=a.indexOf(c),f=[],p=n.openStart,h=n.content,m=0;;m++){var b=h.firstChild;if(f.push(b),m==n.openStart)break;h=b.content}p>0&&f[p-1].type.spec.defining&&o.node(d).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&o.node(d).type!=f[p-2].type&&(p-=2);for(var g=n.openStart;g>=0;g--){var y=(g+p+1)%(n.openStart+1),O=f[y];if(O)for(var w=0;w<a.length;w++){var k=a[(w+d)%a.length],E=!0;k<0&&(E=!1,k=-k);var x=o.node(k-1),S=o.index(k-1);if(x.canReplaceWith(S,S,O.type,O.marks))return this.replace(o.before(k),E?i.after(k):t,new r.Slice(z(n.content,0,n.openStart,y),y,n.openEnd))}}for(var j=this.steps.length,C=a.length-1;C>=0&&(this.replace(e,t,n),!(this.steps.length>j));C--){var T=a[C];T<0||(e=o.before(T),t=i.after(T))}return this},l.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=C(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new r.Slice(r.Fragment.from(n),0,0))},l.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=U(n,r),i=0;i<o.length;i++){var a=o[i],c=i==o.length-1;if(c&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(c||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var s=1;s<=n.depth&&s<=r.depth;s++)if(e-n.start(s)==n.depth-s&&t>n.end(s)&&r.end(s)-t!=r.depth-s)return this.delete(n.before(s),t);return this.delete(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(20),o=n.n(r),i=n(1),a=n.n(i),c=n(23),s=n(201),u=n(1201),l=n(38),d=n(93),f=n(183),p=n(239),h=n(60),m=n(1191),v=n(289);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=function(e){return e.getMeta(v.a)||null}(e);return function(e){return t&&["undid","redid"].includes(e.action)?g(g({},e),{},{attributes:g(g({},e.attributes),{},{historyTriggerMethod:t})}):e}};function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){return E(E({},e),{},{attributes:E(E({},e.attributes),{},{duration:t}),eventType:l.e.OPERATIONAL})}var S=function(e){return{name:"analytics",pmPlugins:function(){return[{name:"analyticsPlugin",plugin:function(){return function(e){if(e&&e.createAnalyticsEvent){var t=Object(s.a)();return new c.a({key:f.a,state:{init:function(){return E(E({},e),{},{fireAnalytics:Object(p.a)(e.createAnalyticsEvent)})},apply:function(e,n,r,o){var i;if(null!==(i=Object(h.b)(o))&&void 0!==i&&i.catchAllTracking){var a=Object(d.b)(e);if(a.length>0){var c,s=O(a);try{var f=function(){var r=c.value,o=r.payload,i=r.channel;if(t&&e.docChanged&&o.action!==l.a.INSERTED&&o.action!==l.a.DELETED){var a="".concat(o.actionSubject,":").concat(o.action,":").concat(o.actionSubjectId);Object(u.a)(a,(function(e){Object(p.a)(n.createAnalyticsEvent)({payload:x(o,e),channel:i})}))}};for(s.s();!(c=s.n()).done;)f()}catch(e){s.e(e)}finally{s.f()}}}return n}}})}}(e)}}]},onEditorViewStateUpdated:function(e){var t=e.originalTransaction,n=e.transactions,r=e.newEditorState,i=f.a.getState(r);if(i&&i.createAnalyticsEvent){var a=n.reduce((function(e,t){var n=t.steps.filter((function(e){return e instanceof m.a})).map((function(e){return e.analyticsEvents})).reduce((function(e,t){return e.concat(t)}),[]);return e.push.apply(e,o()(n)),e}),[]);if(0!==a.length){var c=i.createAnalyticsEvent,s=y(t);a.forEach((function(e){var t=e.payload,n=e.channel,r=s(t);Object(p.a)(c)({payload:r,channel:n})}))}}}}},j=f.a;t.b=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h}));var r,o,i=n(9),a=n.n(i),c=n(8),s=n.n(c);if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(e){return u.get(e)},o=function(e,t){return u.set(e,t),t}}else{var l=[],d=0;r=function(e){for(var t=0;t<l.length;t+=2)if(l[t]===e)return l[t+1]},o=function(e,t){return 10===d&&(d=0),l[d++]=e,l[d++]=t}}var f,p=a()((function e(t,n,r,o){s()(this,e),this.left=t,this.top=n,this.right=r,this.bottom=o}));!function(e){e.COLLISION="collision",e.OVERLONG_ROWSPAN="overlong_rowspan",e.MISSING="missing",e.COLWIDTH_MISMATCH="colwidth mismatch"}(f||(f={}));var h=function(){function e(t,n,r,o){s()(this,e),this.width=t,this.height=n,this.map=r,this.problems=o}return a()(e,[{key:"findCell",value:function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n===e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,c=1;i<this.width&&this.map[t+c]===n;c++)i++;for(var s=1;a<this.height&&this.map[t+this.width*s]===n;s++)a++;return new p(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")}},{key:"colCount",value:function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}},{key:"nextCell",value:function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,c=r.bottom;return"horiz"===t?(n<0?0===o:i===this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0===a:c===this.height)?null:this.map[o+this.width*(n<0?a-1:c)]}},{key:"rectBetween",value:function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,c=this.findCell(t),s=c.left,u=c.right,l=c.top,d=c.bottom;return new p(Math.min(r,s),Math.min(i,l),Math.max(o,u),Math.max(a,d))}},{key:"cellsInRect",value:function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o===e.left&&o&&this.map[i-1]===a||r===e.top&&r&&this.map[i-this.width]===a||t.push(a))}return t}},{key:"positionAt",value:function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r===e){for(var a=t+e*this.width,c=(e+1)*this.width;a<c&&this.map[a]<o;)a++;return a===c?i-1:this.map[a]}o=i}}}],[{key:"get",value:function(e){return r(e)||o(e,m(e))}}]),e}();function m(e){if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var c=e.child(a),s=0;s<c.childCount;s++){var u=c.child(s);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}for(var l=0;l<o.childCount;l++){var d=o.child(l);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],c=0,s=t*n;c<s;c++)r[c]=0;for(var u=0,l=0;u<n;u++){var d=e.child(u);l++;for(var p=0;;p++){for(;o<r.length&&0!==r[o];)o++;if(p===d.childCount)break;for(var m=d.child(p),b=m.attrs,g=b.colspan,y=b.rowspan,O=b.colwidth,w=0;w<y;w++){if(w+u>=n){(i||(i=[])).push({type:f.OVERLONG_ROWSPAN,pos:l,n:y-w});break}for(var k=o+w*t,E=0;E<g;E++){0===r[k+E]?r[k+E]=l:(i||(i=[])).push({type:f.COLLISION,row:u,pos:l,n:g-E});var x=O&&O[E];if(x){var S=(k+E)%t*2,j=a[S];null==j||j!==x&&1===a[S+1]?(a[S]=x,a[S+1]=1):j===x&&a[S+1]++}}}o+=g,l+=m.nodeSize}for(var C=(u+1)*t,T=0;o<C;)0===r[o++]&&T++;T&&(i||(i=[])).push({type:f.MISSING,row:u,n:T}),l++}for(var _=new h(t,n,r,i),A=!1,P=0;!A&&P<a.length;P+=2)null!=a[P]&&a[P+1]<n&&(A=!0);return A&&function(e,t,n){e.problems||(e.problems=[]);for(var r={},o=0;o<e.map.length;o++){var i=e.map[o];if(!r[i]){r[i]=!0;for(var a=n.nodeAt(i),c=null,s=0;s<a.attrs.colspan;s++){var u=(o+s)%e.width,l=t[2*u];null==l||a.attrs.colwidth&&a.attrs.colwidth[s]===l||((c||(c=v(a.attrs)))[s]=l)}c&&e.problems.unshift({type:f.COLWIDTH_MISMATCH,pos:i,colwidth:c})}}}(_,a,e),_}function v(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}},function(e,t,n){"use strict";n.d(t,"c",(function(){return ce})),n.d(t,"b",(function(){return se})),n.d(t,"p",(function(){return ue})),n.d(t,"h",(function(){return le})),n.d(t,"d",(function(){return de})),n.d(t,"x",(function(){return he})),n.d(t,"s",(function(){return me})),n.d(t,"y",(function(){return ve})),n.d(t,"a",(function(){return be})),n.d(t,"q",(function(){return ge})),n.d(t,"l",(function(){return ye})),n.d(t,"i",(function(){return Oe})),n.d(t,"j",(function(){return we})),n.d(t,"k",(function(){return ke})),n.d(t,"o",(function(){return Ee})),n.d(t,"m",(function(){return xe})),n.d(t,"n",(function(){return Se})),n.d(t,"g",(function(){return je})),n.d(t,"f",(function(){return Ce})),n.d(t,"r",(function(){return Te})),n.d(t,"e",(function(){return _e})),n.d(t,"u",(function(){return Ae})),n.d(t,"v",(function(){return Pe})),n.d(t,"w",(function(){return Ie})),n.d(t,"t",(function(){return Me}));n(78),n(14);var r=n(4),o=(n(27),n(8)),i=n.n(o),a=n(9),c=n.n(a),s=n(1),u=n.n(s),l=n(45),d=n.n(l),f=n(577),p=n.n(f),h=n(253),m=n(360),v=n(445),b=n(446),g=n(41),y=n(447),O=n(1175),w=n(1176),k=n(1067),E=n(219),x={canOverrideUnsupportedMark:function(){return!0}},S={canOverrideUnsupportedMark:function(){return!1}},j=n(182);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.marks,t}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){return Object(j.a)(e,{text:function(e){return e&&Array.isArray(e.marks)?A(A({},e),{},{marks:e.marks.filter((function(e){return"typeAheadQuery"!==e.type}))}):e},status:function(e){return!(!e.attrs||!e.attrs.text)&&T(e)},caption:function(e){return!!e.content&&e},emoji:T,mention:T,date:T,hardBreak:T,inlineCard:T})}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return function(t){return t.type.name===e}},N=R("codeBlock"),D=R("media"),L=R("mediaSingle"),B=R("mention"),F=R("paragraph"),z=R("heading"),U=R("table"),H=R("tableCell"),W=R("tableHeader"),V=R("link"),q=R("unsupportedMark"),G=R("unsupportedNodeAttribute"),K=R("expand"),$=R("nestedExpand"),Y=R("dataConsumer"),X=R("fragment"),J=function(e){return{version:1,type:"doc",content:e||[]}},Z=J([{type:"paragraph",content:[]}]),Q=function e(t){var n={type:t.type.name};if(function(e){return R("unsupportedBlock")(e)||R("unsupportedInline")(e)}(t))return t.attrs.originalValue;if(D(t)?n.attrs=Object(h.e)(t).attrs:L(t)?n.attrs=Object(m.c)(t).attrs:B(t)?n.attrs=Object(v.b)(t).attrs:N(t)?n.attrs=Object(b.b)(t).attrs:U(t)?n.attrs=Object(g.o)(t).attrs:H(t)?n.attrs=Object(g.p)(t).attrs:W(t)?n.attrs=Object(g.q)(t).attrs:K(t)||$(t)?n.attrs=Object(y.b)(t).attrs:Object.keys(t.attrs).length&&(n.attrs=t.attrs),n.attrs&&(n.attrs=function e(t){return Object.keys(t).reduce((function(n,r){var o=t[r];return null===o?n:("object"!==d()(o)||Array.isArray(o)||(o=e(o)),M(M({},n),{},u()({},r,o)))}),{})}(n.attrs)),t.isText?n.text=t.textContent:t.content.forEach((function(t){n.content=n.content||[],n.content.push(e(t))})),(F(t)||z(t))&&(n.content=n.content||[]),t.marks.length){var r=t.marks.map((function(e){if(q(e))return ee(e,t.marks)?null:e.attrs.originalValue;if(G(e))return null;if(V(e))return Object(O.b)(e);if(Y(e)){var n,r=Object(w.b)(e);return r.attrs.sources&&0!==(null===(n=r.attrs.sources)||void 0===n?void 0:n.length)?r:null}if(X(e)){var o=Object(k.b)(e);return o.attrs.localId?o:null}return e.toJSON()})).filter((function(e){return null!==e}));n.marks=(null==r?void 0:r.length)>0?r:void 0;var o=t.marks.find(G);o&&o.attrs.type.nodeType===n.type&&(n.attrs=M({},te(t,o,n)))}return n},ee=function(e,t){return!!t.some((function(t){return e.attrs.originalValue.type===t.type.name}))&&function(e){switch(e){case"link":case"em":case"strong":case"strike":case"subsup":case"underline":case"code":case"textColor":case"confluenceInlineComment":case"breakout":case"alignment":case"indentation":return x;default:return S}}(e.attrs.originalValue.type).canOverrideUnsupportedMark()},te=function(e,t,n){var r=e.type.spec.attrs,o=M(M({},t.attrs.unsupported),n.attrs);for(var i in n.attrs)if(n.attrs.hasOwnProperty(i)){var a=r?r[i]:null;if(a&&a.default===e.attrs[i]&&t.attrs.unsupported[i])return M(M({},o),{},u()({},i,t.attrs.unsupported[i]))}return o},ne=function(){function e(){i()(this,e)}return c()(e,[{key:"encode",value:function(e){var t=[];return e.content.forEach((function(e){t.push(P(Q(e)))})),!t||p()(t,Z.content)?J([]):J(t)}},{key:"internalParse",value:function(e){var t=E.a.nodeFromJSON(e);return t.check(),t}},{key:"parse",value:function(e){if("doc"!==e.type)throw new Error("Expected content format to be ADF");return e.content&&0!==e.content.length?this.internalParse(e):this.internalParse(Z)}},{key:"encodeNode",value:function(e){return P(Q(e))}}]),e}(),re=(n(259),n(18)),oe=n(71),ie=n(94),ae=n(51);function ce(e){var t=e.selection,n=e.doc;if(t instanceof r.NodeSelection){if("media"===t.node.type.name){var o=n.nodeAt(t.anchor-3);return!(!o||"paragraph"!==o.type.name)}if("mediaGroup"===t.node.type.name){var i=t.$anchor.nodeBefore;return!(!i||"paragraph"!==i.type.name)}}return t instanceof r.TextSelection&&!t.empty||!Object(ie.b)(e)}function se(e){var t=e.selection,n=e.doc;if(t instanceof r.NodeSelection){if("media"===t.node.type.name){var o=n.nodeAt(t.$head.after());return!(!o||"paragraph"!==o.type.name)}if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof r.TextSelection&&!t.empty||!Object(ie.d)(e)}function ue(e){var t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function le(e){return e.$cursor||void 0}function de(e,t,n){var r=fe(t,e.$to).depth;if(0===r)return!1;var o=t.resolve(e.$to.after(r));return!!o.nodeAfter&&n(o.nodeAfter)}function fe(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var r=t.node(t.depth),o=t;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}var pe=new ne;function he(e){return pe.encode(e)}function me(e){return pe.encodeNode(e)}function ve(){var e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}function be(e){var t=function(e){var t=[];if(e.selection){var n=e.selection,r=n.$from,o=n.$to,i=e.schema.nodes,a=i.blockquote,c=i.panel,s=i.orderedList,u=i.bulletList,l=i.listItem,d=i.codeBlock,f=i.decisionItem,p=i.decisionList,h=i.taskItem,m=i.taskList;e.doc.nodesBetween(r.pos,o.pos,(function(e){e.isBlock&&[a,c,s,u,l,d,f,p,h,m].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),n=e.schema.nodes.panel;return t.filter((function(e){return e!==n})).length>0}var ge=function(e){return 0===e.indexOf("temporary:")},ye=function(e){var t=e.nodes,n=t.doc,r=t.paragraph,o=t.codeBlock,i=t.blockquote,a=t.panel,c=t.heading,s=t.listItem,u=t.bulletList,l=t.orderedList,d=t.taskList,f=t.taskItem,p=t.decisionList,h=t.decisionItem,m=t.media,v=t.mediaGroup,b=t.mediaSingle;return function e(t){switch(t.type){case m:case v:case b:return!1;case r:case o:case c:case f:case h:return 0===t.content.size;case i:case a:case s:return 2===t.content.size&&e(t.content.firstChild);case u:case l:return 4===t.content.size&&e(t.content.firstChild);case d:case p:return 2===t.content.size&&e(t.content.firstChild);case n:var g=!0;return t.content.forEach((function(t){g=g&&e(t)})),g;default:return Object(oe.j)(t)}}},Oe=function(e){var t=e.schema.nodes,n=t.table,r=t.tableCell;return Object(re.hasParentNodeOfType)([n,r])(e.selection)},we=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return Object(re.hasParentNodeOfType)([n,r])(e.selection)},ke=function(e){return Object(ae.a)(e,"td")||Object(ae.a)(e,"th")},Ee=function(e){var t=e.content;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},xe=function(e){return Object(re.hasParentNodeOfType)(e.schema.nodes.layoutSection)(e.selection)},Se=function(e){return Object(re.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection)};function je(e,t,n,r){var o=[];return e.nodesBetween(t,n,(function(e,t,n){r(e,t,n)&&o.push({node:e,pos:t})})),o}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Set;return e.forEach((function(e){return n.add(t(e))})),e.filter((function(e){var r=t(e);return!!n.has(r)&&(n.delete(r),!0)}))}var Te=function(e){return e instanceof r.TextSelection};function _e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[e].concat(n);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}function Ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return t(e.apply(void 0,arguments))}}))}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.reduce((function(n,r){return n&&e[r]===t[r]}),!0)}function Ie(e,t){return e.reduce((function(e,n){return e+t(n)}),0)}function Me(e){return null!=e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return w}));var r=n(189),o=n(50),i=n(62);class a{constructor(e){this.arr=e,this.pos=0}}const c=e=>new a(e),s=e=>e.pos!==e.arr.length,u=(e,t)=>{const n=r.c(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},l=e=>u(e,f(e)),d=e=>e.arr[e.pos++],f=e=>{let t=0,n=0;for(;;){const r=e.arr[e.pos++];if(t|=(r&o.m)<<n,n+=7,r<o.g)return t>>>0;if(n>53)throw new Error("Integer out of range!")}},p=e=>{let t=e.arr[e.pos++],n=t&o.l,r=6;const i=(t&o.f)>0?-1:1;if(0==(t&o.g))return i*n;for(;;){if(t=e.arr[e.pos++],n|=(t&o.m)<<r,r+=7,t<o.g)return i*(n>>>0);if(r>53)throw new Error("Integer out of range!")}},h=e=>{let t=f(e);if(0===t)return"";{let n=String.fromCodePoint(d(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(d(e));else for(;t>0;){const r=t<1e4?t:1e4,o=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,o),t-=r}return decodeURIComponent(escape(n))}},m=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},v=[e=>{},e=>null,p,e=>m(e,4).getFloat32(0,!1),e=>m(e,8).getFloat64(0,!1),e=>m(e,8).getBigInt64(0,!1),e=>!1,e=>!0,h,e=>{const t=f(e),n={};for(let r=0;r<t;r++){n[h(e)]=b(e)}return n},e=>{const t=f(e),n=[];for(let r=0;r<t;r++)n.push(b(e));return n},l],b=e=>v[127-d(e)](e);class g extends a{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),s(this)?this.count=f(this)+1:this.count=-1),this.count--,this.s}}class y extends a{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=p(this);const e=i.d(this.s);this.count=1,e&&(this.s=-this.s,this.count=f(this)+2)}return this.count--,this.s}}class O extends a{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=p(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=f(this)+2)}return this.s+=this.diff,this.count--,this.s}}class w{constructor(e){this.decoder=new y(e),this.str=h(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct})),n.d(t,"b",(function(){return Pt})),n.d(t,"c",(function(){return Ht}));var r=n(4),o=n(14),i=n(27),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var c=/Edge\/(\d+)/.exec(navigator.userAgent),s=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=a.ie=!!(s||u||c);a.ie_version=s?document.documentMode||6:u?+u[1]:c?+c[1]:null,a.gecko=!l&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!l&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.safari=!l&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),a.mac=a.ios||/Mac/.test(navigator.platform),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var f=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},p=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},h=null,m=function(e,t,n){var r=h||(h=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},v=function(e,t,n,r){return n&&(g(e,t,n,r,-1)||g(e,t,n,r,1))},b=/^(img|br|input|textarea|hr)$/i;function g(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:y(e))){var i=e.parentNode;if(1!=i.nodeType||O(e)||b.test(e.nodeName)||"false"==e.contentEditable)return!1;t=f(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?y(e):0}}}function y(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function O(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var w=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function k(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function E(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function x(e,t){return"number"==typeof e?e:e[t]}function S(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function j(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=p(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,s=c?E(i):S(a),u=0,l=0;if(t.top<s.top+x(r,"top")?l=-(s.top-t.top+x(o,"top")):t.bottom>s.bottom-x(r,"bottom")&&(l=t.bottom-s.bottom+x(o,"bottom")),t.left<s.left+x(r,"left")?u=-(s.left-t.left+x(o,"left")):t.right>s.right-x(r,"right")&&(u=t.right-s.right+x(o,"right")),u||l)if(c)i.defaultView.scrollBy(u,l);else{var d=a.scrollLeft,f=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var h=a.scrollLeft-d,m=a.scrollTop-f;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(c)break}}function C(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=p(e));return t}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var _=null;function A(e,t){for(var n,r,o=2e8,i=0,a=t.top,c=t.top,s=e.firstChild,u=0;s;s=s.nextSibling,u++){var l=void 0;if(1==s.nodeType)l=s.getClientRects();else{if(3!=s.nodeType)continue;l=m(s).getClientRects()}for(var d=0;d<l.length;d++){var f=l[d];if(f.top<=a&&f.bottom>=c){a=Math.max(f.bottom,a),c=Math.min(f.top,c);var p=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(p<o){n=s,o=p,r=p&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==s.nodeType&&p&&(i=u+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(i=u+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=M(r,1);if(i.top!=i.bottom&&P(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:A(n,r)}function P(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function I(e,t){var n,r,o,i,c=e.dom.ownerDocument;if(c.caretPositionFromPoint)try{var s=c.caretPositionFromPoint(t.left,t.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(e){}if(!o&&c.caretRangeFromPoint){var u=c.caretRangeFromPoint(t.left,t.top);u&&(o=(r=u).startContainer,i=r.startOffset)}var l,d=(e.root.elementFromPoint?e.root:c).elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var f=e.dom.getBoundingClientRect();if(!P(t,f))return null;if(!(d=function e(t,n,r){var o=t.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),a=i;;){var c=t.childNodes[a];if(1==c.nodeType)for(var s=c.getClientRects(),u=0;u<s.length;u++){var l=s[u];if(P(n,l))return e(c,n,l)}if((a=(a+1)%o)==i)break}return t}(e.dom,t,f)))return null}if(a.safari)for(var h=d;o&&h;h=p(h))h.draggable&&(o=i=null);if(d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),o){if(a.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var m,v=o.childNodes[i];"IMG"==v.nodeName&&(m=v.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(l=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var c=a.dom.getBoundingClientRect();if(c.left>r.left||c.top>r.top)o=a.posBefore;else{if(!(c.right<r.left||c.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==l&&(l=function(e,t,n){var r=A(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var c=o.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,d,t));var b=e.docView.nearestDesc(d,!0);return{pos:l,inside:b?b.posAtStart-b.border:-1}}function M(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var R=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function N(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,c=a.webkit||a.gecko;if(3==o.nodeType){if(!c||!R.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,u=i,l=n<0?1:-1;return n<0&&!i?(u++,l=-1):n>=0&&i==o.nodeValue.length?(s--,l=1):n<0?s--:u++,D(M(m(o,s,u),l),l<0)}var d=M(m(o,i,i),n);if(a.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var f=M(m(o,i-1,i-1),-1);if(f.top==d.top){var p=M(m(o,i,i+1),-1);if(p.top!=d.top)return D(p,p.left<f.left)}}return d}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==y(o))){var h=o.childNodes[i-1];if(1==h.nodeType)return L(h.getBoundingClientRect(),!1)}if(i<y(o)){var v=o.childNodes[i];if(1==v.nodeType)return L(v.getBoundingClientRect(),!0)}return L(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==y(o))){var b=o.childNodes[i-1],g=3==b.nodeType?m(b,y(b)-(c?0:1)):1!=b.nodeType||"BR"==b.nodeName&&b.nextSibling?null:b;if(g)return D(M(g,1),!1)}if(i<y(o)){for(var O=o.childNodes[i];O.pmViewDesc&&O.pmViewDesc.ignoreForCoords;)O=O.nextSibling;var w=O?3==O.nodeType?m(O,0,c?0:1):1==O.nodeType?O:null:null;if(w)return D(M(w,-1),!0)}return D(M(3==o.nodeType?m(o):o,-n),n>=0)}function D(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function L(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function B(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var F=/[\u0590-\u08ac]/;var z=null,U=null,H=!1;function W(e,t,n){return z==t&&U==n?H:(z=t,U=n,H="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return B(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=N(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=m(a,0,a.nodeValue.length).getClientRects()}for(var s=0;s<c.length;s++){var u=c[s];if(u.bottom>u.top+1&&("up"==n?i.top-u.top>2*(u.bottom-i.top):u.bottom-i.bottom>2*(i.bottom-u.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,c=e.root.getSelection();return F.test(r.parent.textContent)&&c.modify?B(e,t,(function(){var t=c.getRangeAt(0),o=c.focusNode,i=c.focusOffset,a=c.caretBidiLevel;c.modify("move",n,"character");var s=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||o==c.focusNode&&i==c.focusOffset;return c.removeAllRanges(),c.addRange(t),null!=a&&(c.caretBidiLevel=a),s})):"left"==n||"backward"==n?i:a}(e,t,n))}var V=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},q={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};V.prototype.matchesWidget=function(){return!1},V.prototype.matchesMark=function(){return!1},V.prototype.matchesNode=function(){return!1},V.prototype.matchesHack=function(e){return!1},V.prototype.parseRule=function(){return null},V.prototype.stopEvent=function(){return!1},q.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},q.border.get=function(){return 0},V.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},V.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},q.posBefore.get=function(){return this.parent.posBeforeChild(this)},q.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},q.posAfter.get=function(){return this.posBefore+this.size},q.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},V.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var c;if(e==this.dom&&this.contentDOM)c=t>f(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var s=e;;s=s.parentNode){if(s==this.dom){c=!1;break}if(s.parentNode.firstChild!=s)break}if(null==c&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){c=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==c?n>0:c)?this.posAtEnd:this.posAtStart},V.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},V.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},V.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},V.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},V.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=0;n<this.children.length;n++){var i=this.children[n],a=o+i.size;if(a>e||i instanceof Q){r=e-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(var c=void 0;n&&!(c=this.children[n-1]).size&&c instanceof K&&c.widget.type.side>=0;n--);if(t<=0){for(var s,u=!0;(s=n?this.children[n-1]:null)&&s.dom.parentNode!=this.contentDOM;n--,u=!1);return s&&t&&u&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?f(s.dom)+1:0}}for(var l,d=!0;(l=n<this.children.length?this.children[n]:null)&&l.dom.parentNode!=this.contentDOM;n++,d=!1);return l&&d&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?f(l.dom):this.contentDOM.childNodes.length}},V.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var c=this.children[a],s=i+c.size;if(-1==r&&e<=s){var u=i+c.border;if(e>=u&&t<=s-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,u);e=i;for(var l=a;l>0;l--){var d=this.children[l-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=f(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(var p=a+1;p<this.children.length;p++){var h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=f(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},V.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},V.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},V.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),c=0,s=0;c<this.children.length;c++){var u=this.children[c],l=s+u.size;if(o>s&&i<l)return u.setSelection(e-s-u.border,t-s-u.border,n,r);s=l}var d=this.domFromPos(e,e?-1:1),p=t==e?d:this.domFromPos(t,t?-1:1),h=n.getSelection(),m=!1;if((a.gecko||a.safari)&&e==t){var b=d.node,g=d.offset;if(3==b.nodeType){if((m=g&&"\n"==b.nodeValue[g-1])&&g==b.nodeValue.length)for(var y=b,O=void 0;y;y=y.parentNode){if(O=y.nextSibling){"BR"==O.nodeName&&(d=p={node:O.parentNode,offset:f(O)+1});break}var w=y.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{var k=b.childNodes[g-1];m=k&&("BR"==k.nodeName||"false"==k.contentEditable)}}if(a.gecko&&h.focusNode&&h.focusNode!=p.node&&1==h.focusNode.nodeType){var E=h.focusNode.childNodes[h.focusOffset];E&&"false"==E.contentEditable&&(r=!0)}if(r||m&&a.safari||!v(d.node,d.offset,h.anchorNode,h.anchorOffset)||!v(p.node,p.offset,h.focusNode,h.focusOffset)){var x=!1;if((h.extend||e==t)&&!m){h.collapse(d.node,d.offset);try{e!=t&&h.extend(p.node,p.offset),x=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!x){if(e>t){var S=d;d=p,p=S}var j=document.createRange();j.setEnd(p.node,p.offset),j.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(j)}}},V.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},q.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},V.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,c=i-o.border;if(e>=a&&t<=c)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=c||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},V.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},q.domAtom.get=function(){return!1},q.ignoreForCoords.get=function(){return!1},Object.defineProperties(V.prototype,q);var G=[],K=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,G,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(V),$=function(e){function t(t,n,r,o){e.call(this,t,G,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(V),Y=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,i){var a=i.nodeViews[n.type.name],c=a&&a(n,i,r);return c&&c.dom||(c=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,c.dom,c.contentDOM||c.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=de(i,n,a,r)),e>0&&(i=de(i,0,e,r));for(var c=0;c<i.length;c++)i[c].parent=o;return o.children=i,o},t}(V),X=function(e){function t(t,n,r,o,i,a,c,s,u){e.call(this,t,n.isLeaf?G:[],i,a),this.nodeDOM=c,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(s,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,i,a,c){var s,u,l=a.nodeViews[n.type.name],d=l&&l(n,a,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:c}),r,i),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(f=(s=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=s.contentDOM);p||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var h=f;return f=ae(f,r,n),d?u=new ee(e,n,r,i,f,p,h,d,a,c+1):n.isText?new Z(e,n,r,i,f,h,a):new t(e,n,r,i,f,p,h,a,c+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?o.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ce(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,i=t,c=e.composing&&this.localCompositionInfo(e,t),s=c&&c.pos>-1?c:null,u=c&&c.pos<0,l=new ue(this,s&&s.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var c=e.child(a);r(c,o,t.forChild(i,c),a),i+=c.nodeSize}return}for(var s=0,u=[],l=null,d=0;;){if(s<o.length&&o[s].to==i){for(var f=o[s++],p=void 0;s<o.length&&o[s].to==i;)(p||(p=[f])).push(o[s++]);if(p){p.sort(le);for(var h=0;h<p.length;h++)n(p[h],d,!!l)}else n(f,d,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(d<e.childCount))break;v=d,m=e.child(d++)}for(var b=0;b<u.length;b++)u[b].to<=i&&u.splice(b--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)u.push(o[s++]);var g=i+m.nodeSize;if(m.isText){var y=g;s<o.length&&o[s].from<y&&(y=o[s].from);for(var O=0;O<u.length;O++)u[O].to<y&&(y=u[O].to);y<g&&(l=m.cut(y-i),m=m.cut(0,y-i),g=y,v=-1)}var w=u.length?m.isInline&&!m.isLeaf?u.filter((function(e){return!e.inline})):u.slice():G;r(m,w,t.forChild(i,m),v),i=g}}(this.node,this.innerDeco,(function(t,a,c){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!c&&l.syncToMarks(a==n.node.childCount?o.Mark.none:n.node.child(a).marks,r,e),l.placeWidget(t,e,i)}),(function(t,n,o,a){var s;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,o,a)||u&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(s=l.findIndexWithChild(c.node))>-1&&l.updateNodeAt(t,n,o,s,e)||l.updateNextNode(t,n,o,e,a)||l.addNode(t,n,o,e,i),i+=t.nodeSize})),l.syncToMarks(G,r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),function e(t,n,r){for(var o=t.firstChild,i=!1,a=0;a<n.length;a++){var c=n[a],s=c.dom;if(s.parentNode==t){for(;s!=o;)o=se(o),i=!0;o=o.nextSibling}else i=!0,t.insertBefore(s,o);if(c instanceof Y){var u=o?o.previousSibling:t.lastChild;e(c.contentDOM,c.children,r),o=u?u.nextSibling:t.firstChild}}for(;o;)o=se(o),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,o=n.from,i=n.to;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var a=e.root.getSelection(),c=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=y(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(c&&this.dom.contains(c.parentNode)){if(this.node.inlineContent){var s=c.nodeValue,u=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),c=i;if(i+=a.nodeSize,a.isText){for(var s=a.text;o<e.childCount;){var u=e.child(o++);if(i+=u.nodeSize,!u.isText)break;s+=u.text}if(i>=n){var l=s.lastIndexOf(t,r-c);if(l>=0&&l+t.length+c>=n)return c+l}}}return-1}(this.node.content,s,o-t,i-t);return u<0?null:{node:c,pos:u,text:s}}return{node:c,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new $(this,i,n,o);e.compositionNodes.push(a),this.children=de(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ce(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=oe(this.dom,this.nodeDOM,re(this.outerDeco,this.node,t),re(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(V);function J(e,t,n,r,o){return ae(r,t,e),new X(null,e,t,n,r,r,r,o,0)}var Z=function(e){function t(t,n,r,o,i,a,c){e.call(this,t,n,r,o,i,null,a,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(X),Q=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(V),ee=function(e){function t(t,n,r,o,i,a,c,s,u,l){e.call(this,t,n,r,o,i,a,c,u,l),this.spec=s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(X);function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var ne=[new te];function re(e,t,n){if(0==e.length)return ne;for(var r=n?ne[0]:new te,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var c in a.nodeName&&o.push(r=new te(a.nodeName)),a){var s=a[c];null!=s&&(n&&1==o.length&&o.push(r=new te(t.isInline?"span":"div")),"class"==c?r.class=(r.class?r.class+" ":"")+s:"style"==c?r.style=(r.style?r.style+";":"")+s:"nodeName"!=c&&(r[c]=s))}}return o}function oe(e,t,n,r){if(n==ne&&r==ne)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],c=n[i];if(i){var s=void 0;c&&c.nodeName==a.nodeName&&o!=e&&(s=o.parentNode)&&s.tagName.toLowerCase()==a.nodeName||((s=document.createElement(a.nodeName)).pmIsDeco=!0,s.appendChild(o),c=ne[0]),o=s}ie(o,c||ne[0],a)}return o}function ie(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):G,a=n.class?n.class.split(" ").filter(Boolean):G,c=0;c<i.length;c++)-1==a.indexOf(i[c])&&e.classList.remove(i[c]);for(var s=0;s<a.length;s++)-1==i.indexOf(a[s])&&e.classList.add(a[s]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function ae(e,t,n){return oe(e,e,ne,re(t,n,1!=e.nodeType))}function ce(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function se(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ue=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){for(var c=void 0;;)if(r){var s=n.children[r-1];if(!(s instanceof Y)){c=s,r--;break}n=s,r=s.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var u=c.node;if(u){if(u!=e.child(o-1))break;--o,i.set(c,o),a.push(c)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)};function le(e,t){return e.type.side-t.type.side}function de(e,t,n,r,o){for(var i=[],a=0,c=0;a<e.length;a++){var s=e[a],u=c,l=c+=s.size;u>=n||l<=t?i.push(s):(u<t&&i.push(s.slice(0,t-u,r)),o&&(i.push(o),o=null),l>n&&i.push(s.slice(n-u,s.size,r)))}return i}function fe(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,c=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(c<0)return null;var s,u,l=o.resolve(c);if(w(n)){for(s=l;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var r=0==t,o=t==y(e);r||o;){if(e==n)return!0;var i=f(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==y(e)}}(n.focusNode,n.focusOffset,i.dom))){var d=i.posBefore;u=new r.NodeSelection(c==d?l:o.resolve(d))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;s=o.resolve(p)}u||(u=we(e,s,l,"pointer"==t||e.state.selection.head<l.pos&&!a?1:-1));return u}function pe(e){return e.editable?e.hasFocus():ke(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function he(e,t){var n=e.state.selection;if(ye(e,n),pe(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,f(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var o,i,c=n.anchor,s=n.head;!me||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=ve(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=ve(e,n.to))),e.docView.setSelection(c,s,e.root,t),me&&(o&&ge(o),i&&ge(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){pe(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ue.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ue.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ue.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[o])){a=c;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var s=Y.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,o++}},ue.prototype.findNodeMatch=function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){var s=this.top.children[a];if(s.matchesNode(e,t,n)&&!this.preMatch.matched.has(s)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},ue.prototype.updateNodeAt=function(e,t,n,r,o){return!!this.top.children[r].update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},ue.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}},ue.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof X){var c=this.preMatch.matched.get(a);if(null!=c&&c!=o)return!1;var s=a.dom;if(!(this.lock&&(s==this.lock||1==s.nodeType&&s.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&ce(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=s&&(this.changed=!0),this.index++,!0;break}}return!1},ue.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,X.create(this.top,e,t,n,r,o)),this.changed=!0},ue.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new K(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},ue.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof Y;)e=e.children[e.children.length-1];e&&e instanceof Z&&!/\n$/.test(e.node.text)||((a.safari||a.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},ue.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Q(this.top,G,t,null)),this.changed=!0}};var me=a.safari||a.chrome&&a.chrome_version<63;function ve(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,c=o?r.childNodes[o-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return be(i);if(!(i&&"false"!=i.contentEditable||c&&"false"!=c.contentEditable)){if(i)return be(i);if(c)return be(c)}}function be(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ge(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ye(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Oe(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Oe(e)}function Oe(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function we(e,t,n,o){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||r.TextSelection.between(t,n,o)}function ke(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Ee(e,t){var n=e.selection,o=n.$anchor,i=n.$head,a=t>0?o.max(i):o.min(i),c=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return c&&r.Selection.findFrom(c,t)}function xe(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Se(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return xe(e,new r.TextSelection(t>0?o.$to:o.$from));var i=Ee(e.state,t);return!!i&&xe(e,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var c=Ee(e.state,t);return!!(c&&c instanceof r.NodeSelection)&&xe(e,c)}if(!(a.mac&&n.indexOf("m")>-1)){var s,u=o.$head,l=u.textOffset?null:t<0?u.nodeBefore:u.nodeAfter;if(!l||l.isText)return!1;var d=t<0?u.pos-l.nodeSize:u.pos;return!!(l.isAtom||(s=e.docView.descAt(d))&&!s.contentDOM)&&(r.NodeSelection.isSelectable(l)?xe(e,new r.NodeSelection(t<0?e.state.doc.resolve(u.pos-l.nodeSize):u)):!!a.webkit&&xe(e,new r.TextSelection(e.state.doc.resolve(t<0?d:d+l.nodeSize))))}}function je(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ce(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Te(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,c=!1;for(a.gecko&&1==n.nodeType&&r<je(n)&&Ce(n.childNodes[r])&&(c=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(Ce(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(Ae(n))break;for(var u=n.previousSibling;u&&Ce(u);)o=n.parentNode,i=f(u),u=u.previousSibling;if(u)r=je(n=u);else{if((n=n.parentNode)==e.dom)break;r=0}}c?Pe(e,t,n,r):o&&Pe(e,t,o,i)}}function _e(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=je(n);;)if(r<a){if(1!=n.nodeType)break;if(!Ce(n.childNodes[r]))break;o=n,i=++r}else{if(Ae(n))break;for(var c=n.nextSibling;c&&Ce(c);)o=c.parentNode,i=f(c)+1,c=c.nextSibling;if(c)r=0,a=je(n=c);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Pe(e,t,o,i)}}function Ae(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Pe(e,t,n,r){if(w(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&he(e)}),50)}function Ie(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,c=o.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=Ee(e.state,t);if(s&&s instanceof r.NodeSelection)return xe(e,s)}if(!i.parent.inlineContent){var u=t<0?i:c,l=o instanceof r.AllSelection?r.Selection.near(u,t):r.Selection.findFrom(u,t);return!!l&&xe(e,l)}return!1}function Me(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,a=n.empty;if(!o.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var c=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(c&&!c.isText){var s=e.state.tr;return t<0?s.delete(o.pos-c.nodeSize,o.pos):s.delete(o.pos,o.pos+c.nodeSize),e.dispatch(s),!0}return!1}function Re(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ne(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==r?Me(e,-1)||Te(e):46==n||a.mac&&68==n&&"c"==r?Me(e,1)||_e(e):13==n||27==n||(37==n?Se(e,-1,r)||Te(e):39==n?Se(e,1,r)||_e(e):38==n?Ie(e,-1,r)||Te(e):40==n?function(e){if(a.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Re(e,o,!0),setTimeout((function(){return Re(e,o,!1)}),20)}}}(e)||Ie(e,1,r)||_e(e):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function De(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Le(e,t,n,i,c){if(t<0){var s=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,u=fe(e,s);if(u&&!e.state.selection.eq(u)){var l=e.state.tr.setSelection(u);"pointer"==s?l.setMeta("pointer",!0):"key"==s&&l.scrollIntoView(),e.dispatch(l)}}else{var d=e.state.doc.resolve(t),f=d.sharedDepth(n);t=d.before(f+1),n=e.state.doc.resolve(n).after(f+1);var p=e.state.selection,h=function(e,t,n){var r=e.docView.parseRange(t,n),i=r.node,c=r.fromOffset,s=r.toOffset,u=r.from,l=r.to,d=e.root.getSelection(),f=null,p=d.anchorNode;if(p&&e.dom.contains(1==p.nodeType?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],w(d)||f.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=s;h>c;h--){var m=i.childNodes[h-1],v=m.pmViewDesc;if("BR"==m.nodeName&&!v){s=h;break}if(!v||v.size)break}var b=e.state.doc,g=e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema),y=b.resolve(u),O=null,k=g.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:c,to:s,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:f,ruleFromNode:De,context:y});if(f&&null!=f[0].pos){var E=f[0].pos,x=f[1]&&f[1].pos;null==x&&(x=E),O={anchor:E+u,head:x+u}}return{doc:k,sel:O,from:u,to:l}}(e,t,n);if(a.chrome&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from){var m=e.cursorWrapper.deco.type.toDOM.nextSibling,v=m&&m.nodeValue?m.nodeValue.length:1;h.sel={anchor:h.sel.anchor+v,head:h.sel.anchor+v}}var b,g,y=e.state.doc,O=y.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(b=e.state.selection.to,g="end"):(b=e.state.selection.from,g="start"),e.lastKeyCode=null;var E=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),c=a.a,s=a.b;if("end"==o){var u=Math.max(0,i-Math.min(c,s));r-=c+u-i}if(c<i&&e.size<t.size){s=(i-=r<=i&&r>=c?i-r:0)+(s-c),c=i}else if(s<i){c=(i-=r<=i&&r>=s?i-r:0)+(c-s),s=i}return{start:i,endA:c,endB:s}}(O.content,h.doc.content,h.from,b,g);if(!E){if(!(i&&p instanceof r.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if((a.ios&&e.lastIOSEnter>Date.now()-225||a.android)&&c.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})))return void(e.lastIOSEnter=0);if(h.sel){var x=Be(e,e.state.doc,h.sel);x&&!x.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(x))}return}E={start:p.from,endA:p.to,endB:p.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&E.start==E.endB&&e.state.selection instanceof r.TextSelection&&(E.start>e.state.selection.from&&E.start<=e.state.selection.from+2?E.start=e.state.selection.from:E.endA<e.state.selection.to&&E.endA>=e.state.selection.to-2&&(E.endB+=e.state.selection.to-E.endA,E.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>h.from&&" "==h.doc.textBetween(E.start-h.from-1,E.start-h.from+1)&&(E.start--,E.endA--,E.endB--);var S,j=h.doc.resolveNoCache(E.start-h.from),C=h.doc.resolveNoCache(E.endB-h.from),T=j.sameParent(C)&&j.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!T||c.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!T&&j.pos<h.doc.content.size&&(S=r.Selection.findFrom(h.doc.resolve(j.pos+1),1,!0))&&S.head==C.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>E.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Fe(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Fe(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Fe(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(y,E.start,E.endA,j,C)&&e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&E.toB==E.from&&(e.lastAndroidDelete=Date.now()),a.android&&!T&&j.start()!=C.start()&&0==C.parentOffset&&j.depth==C.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==E.endA&&(E.endB-=2,C=h.doc.resolveNoCache(E.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))}))}),20));var _,A,P,I,M=E.start,R=E.endA;if(T)if(j.pos==C.pos)a.ie&&a.ie_version<=11&&0==j.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return he(e)}),20)),_=e.state.tr.delete(M,R),A=y.resolve(E.start).marksAcross(y.resolve(E.endA));else if(E.endA==E.endB&&(I=y.resolve(E.start))&&(P=function(e,t){for(var n,r,i,a=e.firstChild.marks,c=t.firstChild.marks,s=a,u=c,l=0;l<c.length;l++)s=c[l].removeFromSet(s);for(var d=0;d<a.length;d++)u=a[d].removeFromSet(u);if(1==s.length&&0==u.length)r=s[0],n="add",i=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=u.length)return null;r=u[0],n="remove",i=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var f=[],p=0;p<t.childCount;p++)f.push(i(t.child(p)));if(o.Fragment.from(f).eq(e))return{mark:r,type:n}}(j.parent.content.cut(j.parentOffset,C.parentOffset),I.parent.content.cut(I.parentOffset,E.endA-I.start()))))_=e.state.tr,"add"==P.type?_.addMark(M,R,P.mark):_.removeMark(M,R,P.mark);else if(j.parent.child(j.index()).isText&&j.index()==C.index()-(C.textOffset?0:1)){var N=j.parent.textBetween(j.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,M,R,N)})))return;_=e.state.tr.insertText(N,M,R)}if(_||(_=e.state.tr.replace(M,R,h.doc.slice(E.start-h.from,E.endB-h.from))),h.sel){var D=Be(e,_.doc,h.sel);D&&!(a.chrome&&a.android&&e.composing&&D.empty&&(E.start!=E.endB||e.lastAndroidDelete<Date.now()-100)&&(D.head==M||D.head==_.mapping.map(R)-1)||a.ie&&D.empty&&D.head==M)&&_.setSelection(D)}A&&_.ensureMarks(A),e.dispatch(_.scrollIntoView())}}}function Be(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:we(e,t.resolve(n.anchor),t.resolve(n.head))}function Fe(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function ze(e,t){for(var n=[],r=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,a--;var c=r.firstChild;n.push(c.type.name,c.attrs!=c.type.defaultAttrs?c.attrs:null),r=c.content}var s=e.someProp("clipboardSerializer")||o.DOMSerializer.fromSchema(e.state.schema),u=Ke(),l=u.createElement("div");l.appendChild(s.serializeFragment(r,{document:u}));for(var d,f=l.firstChild;f&&1==f.nodeType&&(d=qe[f.nodeName.toLowerCase()]);){for(var p=d.length-1;p>=0;p--){for(var h=u.createElement(d[p]);l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),"tbody"!=d[p]&&(i++,a++)}f=l.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:l,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ue(e,t,n,r,i){var c,s,u=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||u||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,u||r)})),u)return t?new o.Slice(o.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):o.Slice.empty;var d=e.someProp("clipboardTextParser",(function(e){return e(t,i,r)}));if(d)s=d;else{var f=i.marks(),p=e.state.schema,h=o.DOMSerializer.fromSchema(p);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=c.appendChild(document.createElement("p"));e&&t.appendChild(h.serializeNode(p.text(e,f)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),c=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Ke().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&qe[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),a.webkit&&function(e){for(var t=e.querySelectorAll(a.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(c);var m=c&&c.querySelector("[data-pm-slice]"),v=m&&/^(\d+) (\d+) (.*)/.exec(m.getAttribute("data-pm-slice"));if(!s){var b=e.someProp("clipboardParser")||e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema);s=b.parseSlice(c,{preserveWhitespace:!(!l&&!v),context:i,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(v)s=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,c=e.openEnd,s=n.length-2;s>=0;s-=2){var u=r.nodes[n[s]];if(!u||u.hasRequiredAttrs())break;i=o.Fragment.from(u.create(n[s+1],i)),a++,c++}return new o.Slice(i,a,c)}(Ve(s,+v[1],+v[2]),v[3]);else if((s=o.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=r.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&function e(t,n,r,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var c=e(t,n,r,i.lastChild,a+1);if(c)return i.copy(i.content.replaceChild(i.childCount-1,c));if(i.contentMatchAt(i.childCount).matchType(a==t.length-1?r.type:t[a+1]))return i.copy(i.content.append(o.Fragment.from(He(r,t,a+1))))}}(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(o.Fragment.empty,!0);return t.copy(r.append(i))}(a[a.length-1],i.length));var c=He(e,n);a.push(c),r=r.matchType(c.type,c.attrs),i=n}}})),a)return{v:o.Fragment.from(a)}},r=t.depth;r>=0;r--){var i=n(r);if(i)return i.v}return e}(s.content,i),!0)).openStart||s.openEnd){for(var g=0,y=0,O=s.content.firstChild;g<s.openStart&&!O.type.spec.isolating;g++,O=O.firstChild);for(var w=s.content.lastChild;y<s.openEnd&&!w.type.spec.isolating;y++,w=w.lastChild);s=Ve(s,g,y)}return e.someProp("transformPasted",(function(e){s=e(s)})),s}function He(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,o.Fragment.from(e));return e}function We(e,t,n,r,i,a){var c=t<0?e.firstChild:e.lastChild,s=c.content;return i<r-1&&(s=We(s,t,n,r,i+1,a)),i>=n&&(s=t<0?c.contentMatchAt(0).fillBefore(s,e.childCount>1||a<=i).append(s):s.append(c.contentMatchAt(c.childCount).fillBefore(o.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,c.copy(s))}function Ve(e,t,n){return t<e.openStart&&(e=new o.Slice(We(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new o.Slice(We(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var qe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ge=null;function Ke(){return Ge||(Ge=document.implementation.createHTMLDocument("title"))}var $e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ye=a.ie&&a.ie_version<=11,Xe=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Xe.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Xe.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Je=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Xe,Ye&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Je.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Je.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Je.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,$e),Ye&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Je.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ye&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Je.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Je.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Je.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Je.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&ke(e)){var e;if(this.suppressingSelectionUpdates)return he(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&v(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Je.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Je.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Je.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&ke(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,c=[];if(this.view.editable)for(var s=0;s<e.length;s++){var u=this.registerMutation(e[s],c);u&&(r=r<0?u.from:Math.min(u.from,r),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(i=!0))}if(a.gecko&&c.length>1){var l=c.filter((function(e){return"BR"==e.nodeName}));if(2==l.length){var d=l[0],f=l[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Ze)return;Ze=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,c),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||he(this.view),this.currentSelection.set(t))}},Je.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var c=0;c<e.addedNodes.length;c++){var s=e.addedNodes[c],u=s.previousSibling,l=s.nextSibling;(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l)}var d=o&&o.parentNode==e.target?f(o)+1:0,p=n.localPosFromDOM(e.target,d,-1),h=i&&i.parentNode==e.target?f(i):e.target.childNodes.length;return{from:p,to:n.localPosFromDOM(e.target,h,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ze=!1;var Qe={},et={};function tt(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function nt(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return rt(e,t)})}))}function rt(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function ot(e){return{left:e.clientX,top:e.clientY}}function it(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},c=i.depth+1;c>0;c--){var s=a(c);if(s)return s.v}return!1}function at(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function ct(e,t,n,o,i){return it(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),c=a.depth+1;c>0;c--){var s=c>a.depth?a.nodeAfter:a.node(c);if(r.NodeSelection.isSelectable(s)){o=n&&i.$from.depth>0&&c>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(c);break}}return null!=o&&(at(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(at(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function st(e,t,n,r){return it(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function ut(e,t,n,o){return it(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t,n){if(0!=n.button)return!1;var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(at(e,r.TextSelection.create(o,0,o.content.size),"pointer"),!0);for(var i=o.resolve(t),a=i.depth+1;a>0;a--){var c=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(c.inlineContent)at(e,r.TextSelection.create(o,s+1,s+1+c.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(c))continue;at(e,r.NodeSelection.create(o,s),"pointer")}return!0}}(e,n,o)}function lt(e){return bt(e)}et.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!pt(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Ne(e,t)?t.preventDefault():tt(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},et.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},et.keypress=function(e,t){if(!(pt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var dt=a.mac?"metaKey":"ctrlKey";Qe.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=lt(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[dt]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(ot(t));i&&("singleClick"==o?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new ft(e,i,t,n)):("doubleClick"==o?st:ut)(e,i.pos,i.inside,t)?t.preventDefault():tt(e,"pointer"))};var ft=function(e,t,n,o){var i,c,s=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[dt],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)i=e.state.doc.nodeAt(t.inside),c=t.inside;else{var u=e.state.doc.resolve(t.pos);i=u.parent,c=u.depth?u.before():0}this.mightDrag=null;var l=o?null:n.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d?d.dom:null;var f=e.state.selection;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||f instanceof r.NodeSelection&&f.from<=c&&f.to>c)&&(this.mightDrag={node:i,pos:c,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tt(e,"pointer")};function pt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}ft.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return he(e.view)})),this.view.mouseDown=null},ft.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ot(e))),this.allowDefault||!t?tt(this.view,"pointer"):ct(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(at(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):tt(this.view,"pointer")}},ft.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),tt(this.view,"pointer"),0==e.buttons&&this.done()},Qe.touchdown=function(e){lt(e),tt(e,"pointer")},Qe.contextmenu=function(e){return lt(e)};var ht=a.android?5e3:-1;function mt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return bt(e)}),t))}function vt(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function bt(e,t){if(e.domObserver.forceFlush(),vt(e),t||e.docView.dirty){var n=fe(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}et.compositionstart=et.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),bt(e,!0),e.markCursor=null;else if(bt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var c=i<0?o.lastChild:o.childNodes[i-1];if(!c)break;if(3==c.nodeType){r.collapse(c,c.nodeValue.length);break}o=c,i=-1}e.composing=!0}mt(e,ht)},et.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,mt(e,20))};var gt=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function yt(e,t,n,r){var i=Ue(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,i||o.Slice.empty)})))return!0;if(!i)return!1;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),c=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Qe.copy=et.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=gt?null:t.clipboardData,i=ze(e,n.content()),a=i.dom,c=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},et.paste=function(e,t){var n=gt?null:t.clipboardData;n&&yt(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yt(e,r.value,null,t):yt(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var Ot=function(e,t){this.slice=e,this.move=t},wt=a.mac?"altKey":"ctrlKey";for(var kt in Qe.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(ot(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);a&&a.node.type.spec.draggable&&a!=e.docView&&e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,a.posBefore)))}var c=e.state.selection.content(),s=ze(e,c),u=s.dom,l=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(gt?"Text":"text/html",u.innerHTML),t.dataTransfer.effectAllowed="copyMove",gt||t.dataTransfer.setData("text/plain",l),e.dragging=new Ot(c,!t[wt])}},Qe.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},et.dragover=et.dragenter=function(e,t){return t.preventDefault()},et.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords(ot(t));if(a){var c=e.state.doc.resolve(a.pos);if(c){var s=n&&n.slice;s?e.someProp("transformPasted",(function(e){s=e(s)})):s=Ue(e,t.dataTransfer.getData(gt?"Text":"text/plain"),gt?null:t.dataTransfer.getData("text/html"),!1,c);var u=n&&!t[wt];if(e.someProp("handleDrop",(function(n){return n(e,t,s||o.Slice.empty,u)})))t.preventDefault();else if(s){t.preventDefault();var l=s?Object(i.j)(e.state.doc,c.pos,s):c.pos;null==l&&(l=c.pos);var d=e.state.tr;u&&d.deleteSelection();var f=d.mapping.map(l),p=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=d.doc;if(p?d.replaceRangeWith(f,f,s.content.firstChild):d.replaceRange(f,f,s),!d.doc.eq(h)){var m=d.doc.resolve(f);if(p&&r.NodeSelection.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new r.NodeSelection(m));else{var v=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((function(e,t,n,r){return v=r})),d.setSelection(we(e,m,d.doc.resolve(v)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Qe.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&he(e)}),20))},Qe.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},Qe.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},et)Qe[kt]=et[kt];function Et(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var xt=function(e,t){this.spec=t||At,this.side=this.spec.side||0,this.toDOM=e};xt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Ct(i-n,i-n,this)},xt.prototype.valid=function(){return!0},xt.prototype.eq=function(e){return this==e||e instanceof xt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Et(this.spec,e.spec))},xt.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var St=function(e,t){this.spec=t||At,this.attrs=e};St.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Ct(o,i,this)},St.prototype.valid=function(e,t){return t.from<t.to},St.prototype.eq=function(e){return this==e||e instanceof St&&Et(this.attrs,e.attrs)&&Et(this.spec,e.spec)},St.is=function(e){return e.type instanceof St};var jt=function(e,t){this.spec=t||At,this.attrs=e};jt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Ct(o.pos-n,i.pos-n,this)},jt.prototype.valid=function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to},jt.prototype.eq=function(e){return this==e||e instanceof jt&&Et(this.attrs,e.attrs)&&Et(this.spec,e.spec)};var Ct=function(e,t,n){this.from=e,this.to=t,this.type=n},Tt={spec:{configurable:!0},inline:{configurable:!0}};Ct.prototype.copy=function(e,t){return new Ct(e,t,this.type)},Ct.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Ct.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Ct.widget=function(e,t,n){return new Ct(e,e,new xt(t,n))},Ct.inline=function(e,t,n,r){return new Ct(e,t,new St(n,r))},Ct.node=function(e,t,n,r){return new Ct(e,t,new jt(n,r))},Tt.spec.get=function(){return this.type.spec},Tt.inline.get=function(){return this.type instanceof St},Object.defineProperties(Ct.prototype,Tt);var _t=[],At={},Pt=function(e,t){this.local=e&&e.length?e:_t,this.children=t&&t.length?t:_t};Pt.create=function(e,t){return t.length?Lt(t,e,0,At):It},Pt.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},Pt.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){var s=this.children[c]+1;this.children[c+2].findInner(e-s,t-s,n,r+s,o)}},Pt.prototype.map=function(e,t,n){return this==It||0==e.maps.length?this:this.mapInner(e,t,0,0,n||At)},Pt.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var c=this.local[a].map(e,n,r);c&&c.type.valid(t,c)?(i||(i=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var c=e.slice(),s=function(e,t,n,r){for(var a=0;a<c.length;a+=3){var s=c[a+1],u=void 0;-1==s||e>s+i||(t>=c[a]+i?c[a+1]=-1:n>=o&&(u=r-n-(t-e))&&(c[a]+=u,c[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(s);for(var l=!1,d=0;d<c.length;d+=3)if(-1==c[d+1]){var f=n.map(e[d]+i),p=f-o;if(p<0||p>=r.content.size){l=!0;continue}var h=n.map(e[d+1]+i,-1)-o,m=r.content.findIndex(p),v=m.index,b=m.offset,g=r.maybeChild(v);if(g&&b==p&&b+g.nodeSize==h){var y=c[d+2].mapInner(n,g,f+1,e[d]+i+1,a);y!=It?(c[d]=p,c[d+1]=h,c[d+2]=y):(c[d+1]=-2,l=!0)}else l=!0}if(l){var O=Lt(function(e,t,n,r,o,i,a){function c(e,t){for(var i=0;i<e.local.length;i++){var s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(var u=0;u<e.children.length;u+=3)c(e.children[u+2],e.children[u]+t+1)}for(var s=0;s<e.length;s+=3)-1==e[s+1]&&c(e[s+2],t[s]+i+1);return n}(c,e,t||[],n,o,i,a),r,0,a);t=O.local;for(var w=0;w<c.length;w+=3)c[w+1]<0&&(c.splice(w,3),w-=3);for(var k=0,E=0;k<O.children.length;k+=3){for(var x=O.children[k];E<c.length&&c[E]<x;)E+=3;c.splice(E,0,O.children[k],O.children[k+1],O.children[k+2])}}return new Pt(t&&t.sort(Bt),c)}(this.children,i,e,t,n,r,o):i?new Pt(i.sort(Bt)):It},Pt.prototype.add=function(e,t){return t.length?this==It?Pt.create(e,t):this.addInner(e,t,0):this},Pt.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var c,s=a+n;if(c=Nt(t,e,s)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,c,s+1):r.splice(i,0,a,a+e.nodeSize,Lt(c,e,s+1,At)),i+=3}}));for(var a=Rt(i?Dt(t):t,-n),c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Pt(a.length?this.local.concat(a).sort(Bt):this.local,r||this.children)},Pt.prototype.remove=function(e){return 0==e.length||this==It?this:this.removeInner(e,0)},Pt.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,c=n[o+1]+t,s=0,u=void 0;s<e.length;s++)(u=e[s])&&u.from>a&&u.to<c&&(e[s]=null,(i||(i=[])).push(u));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,a+1);l!=It?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,f=void 0;d<e.length;d++)if(f=e[d])for(var p=0;p<r.length;p++)r[p].eq(f,t)&&(r==this.local&&(r=this.local.slice()),r.splice(p--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Pt(r,n):It},Pt.prototype.forChild=function(e,t){if(this==It)return this;if(t.isLeaf)return Pt.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,c=0;c<this.local.length;c++){var s=this.local[c];if(s.from<a&&s.to>i&&s.type instanceof St){var u=Math.max(i,s.from)-i,l=Math.min(a,s.to)-i;u<l&&(r||(r=[])).push(s.copy(u,l))}}if(r){var d=new Pt(r.sort(Bt));return n?new Mt([d,n]):d}return n||It},Pt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Pt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Pt.prototype.locals=function(e){return Ft(this.localsInner(e))},Pt.prototype.localsInner=function(e){if(this==It)return _t;if(e.inlineContent||!this.local.some(St.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof St||t.push(this.local[n]);return t};var It=new Pt;Pt.empty=It,Pt.removeOverlap=Ft;var Mt=function(e){this.members=e};function Rt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new Ct(o.from+t,o.to+t,o.type))}return n}function Nt(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function Dt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Lt(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var c=Nt(e,t,a+n);if(c){i=!0;var s=Lt(c,t,n+a+1,r);s!=It&&o.push(a,a+t.nodeSize,s)}}));for(var a=Rt(i?Dt(e):e,-n).sort(Bt),c=0;c<a.length;c++)a[c].type.valid(t,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new Pt(a,o):It}function Bt(e,t){return e.from-t.from||e.to-t.to}function Ft(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),zt(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),zt(t,o+1,i.copy(r.to,i.to)))}}return t}function zt(e,t,n){for(;t<e.length&&Bt(n,e[t])>0;)t++;e.splice(t,0,n)}function Ut(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=It&&t.push(r)})),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),Mt.from(t)}Mt.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,At)}));return Mt.from(n)},Mt.prototype.forChild=function(e,t){if(t.isLeaf)return Pt.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=It&&(o instanceof Mt?n=n.concat(o.members):n.push(o))}return Mt.from(n)},Mt.prototype.eq=function(e){if(!(e instanceof Mt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Mt.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Ft(n?t:t.sort(Bt)):_t},Mt.from=function(e){switch(e.length){case 0:return It;case 1:return e[0];default:return new Mt(e)}};var Ht=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach($t),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Gt(this),this.markCursor=null,this.cursorWrapper=null,qt(this),this.nodeViews=Kt(this),this.docView=J(this.state.doc,Vt(this),Ut(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Je(e,(function(t,n,r,o){return Le(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Qe[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||rt(e,t)||!e.editable&&t.type in et||n(e,t)})};for(var n in Qe)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),nt(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},Wt={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Vt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r&&(t.class+=" "+n[r]),"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[Ct.node(0,e.state.doc.content.size,t)]}function qt(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Ct.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Gt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Kt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function $t(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}Wt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Ht.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nt(this),this._props=e,e.plugins&&(e.plugins.forEach($t),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},Ht.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Ht.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Ht.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,c=!1;if(e.storedMarks&&this.composing&&(vt(this),c=!0),this.state=e,t){var s=Kt(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),nt(this)}this.editable=Gt(this),qt(this);var u=Ut(this),l=Vt(this),d=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,l,u);!f&&e.selection.eq(o.selection)||(c=!0);var p,h,m,b,g,y,O,w,k,E,x,S="preserve"==d&&c&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var c=e.root.elementFromPoint(i,a);if(c!=e.dom&&e.dom.contains(c)){var s=c.getBoundingClientRect();if(s.top>=o-20){t=c,n=s.top;break}}}return{refDOM:t,refTop:n,stack:C(e.dom)}}(this);if(c){this.domObserver.stop();var _=f&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&(b=o.selection,g=e.selection,y=Math.min(b.$anchor.sharedDepth(b.head),g.$anchor.sharedDepth(g.head)),b.$anchor.start(y)!=g.$anchor.start(y));if(f){var A=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,l,u,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=J(e.doc,l,u,this.dom,this)),A&&!this.trackWrites&&(_=!0)}_||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(p=this,h=p.docView.domFromPos(p.state.selection.anchor,0),m=p.root.getSelection(),v(h.node,h.offset,m.anchorNode,m.anchorOffset)))?he(this,_):(ye(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var P=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?j(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),P):j(this,this.coordsAtPos(e.selection.head,1),P))}else S&&(w=(O=S).refDOM,k=O.refTop,E=O.stack,x=w?w.getBoundingClientRect().top:0,T(E,0==x?0:x-k))},Ht.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Ht.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},Ht.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var c=0;c<a.length;c++){var s=a[c].props[e];if(null!=s&&(n=t?t(s):s))return n}},Ht.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ht.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(_)return e.focus(_);var t=C(e);e.focus(null==_?{get preventScroll(){return _={preventScroll:!0},!0}}:void 0),_||(_=!1,T(t,0))}(this.dom),he(this),this.domObserver.start()},Wt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Ht.prototype.posAtCoords=function(e){return I(this,e)},Ht.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),N(this,e,t)},Ht.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},Ht.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Ht.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Ht.prototype.endOfTextblock=function(e,t){return W(this,t||this.state,e)},Ht.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ut(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Wt.isDestroyed.get=function(){return null==this.docView},Ht.prototype.dispatchEvent=function(e){return function(e,t){rt(e,t)||!Qe[t.type]||!e.editable&&t.type in et||Qe[t.type](e,t)}(this,e)},Ht.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Ht.prototype,Wt)},function(e,t,n){"use strict";var r={"color.text.accent.blue":"--ds-text-accent-blue","color.text.accent.blue.bolder":"--ds-text-accent-blue-bolder","color.text.accent.red":"--ds-text-accent-red","color.text.accent.red.bolder":"--ds-text-accent-red-bolder","color.text.accent.orange":"--ds-text-accent-orange","color.text.accent.orange.bolder":"--ds-text-accent-orange-bolder","color.text.accent.yellow":"--ds-text-accent-yellow","color.text.accent.yellow.bolder":"--ds-text-accent-yellow-bolder","color.text.accent.green":"--ds-text-accent-green","color.text.accent.green.bolder":"--ds-text-accent-green-bolder","color.text.accent.purple":"--ds-text-accent-purple","color.text.accent.purple.bolder":"--ds-text-accent-purple-bolder","color.text.accent.teal":"--ds-text-accent-teal","color.text.accent.teal.bolder":"--ds-text-accent-teal-bolder","color.text.accent.magenta":"--ds-text-accent-magenta","color.text.accent.magenta.bolder":"--ds-text-accent-magenta-bolder","color.text.accent.gray":"--ds-text-accent-gray","color.text.accent.gray.bolder":"--ds-text-accent-gray-bolder","color.text":"--ds-text","color.text.subtle":"--ds-text-subtle","color.text.subtlest":"--ds-text-subtlest","color.text.disabled":"--ds-text-disabled","color.text.inverse":"--ds-text-inverse","color.text.brand":"--ds-text-brand","color.text.selected":"--ds-text-selected","color.text.danger":"--ds-text-danger","color.text.warning":"--ds-text-warning","color.text.warning.inverse":"--ds-text-warning-inverse","color.text.success":"--ds-text-success","color.text.discovery":"--ds-text-discovery","color.text.information":"--ds-text-information","color.text.highEmphasis":"--ds-text-highEmphasis","color.text.link.pressed":"--ds-text-link-pressed","color.text.link.resting":"--ds-text-link-resting","color.text.lowEmphasis":"--ds-text-lowEmphasis","color.text.mediumEmphasis":"--ds-text-mediumEmphasis","color.text.onBold":"--ds-text-onBold","color.text.onBoldWarning":"--ds-text-onBoldWarning","color.icon.accent.blue":"--ds-icon-accent-blue","color.icon.accent.red":"--ds-icon-accent-red","color.icon.accent.orange":"--ds-icon-accent-orange","color.icon.accent.yellow":"--ds-icon-accent-yellow","color.icon.accent.green":"--ds-icon-accent-green","color.icon.accent.purple":"--ds-icon-accent-purple","color.icon.accent.teal":"--ds-icon-accent-teal","color.icon.accent.magenta":"--ds-icon-accent-magenta","color.icon.accent.gray":"--ds-icon-accent-gray","color.icon":"--ds-icon","color.icon.subtle":"--ds-icon-subtle","color.icon.inverse":"--ds-icon-inverse","color.icon.disabled":"--ds-icon-disabled","color.icon.brand":"--ds-icon-brand","color.icon.selected":"--ds-icon-selected","color.icon.danger":"--ds-icon-danger","color.icon.warning":"--ds-icon-warning","color.icon.warning.inverse":"--ds-icon-warning-inverse","color.icon.success":"--ds-icon-success","color.icon.discovery":"--ds-icon-discovery","color.icon.information":"--ds-icon-information","color.border.accent.blue":"--ds-border-accent-blue","color.border.accent.red":"--ds-border-accent-red","color.border.accent.orange":"--ds-border-accent-orange","color.border.accent.yellow":"--ds-border-accent-yellow","color.border.accent.green":"--ds-border-accent-green","color.border.accent.purple":"--ds-border-accent-purple","color.border.accent.teal":"--ds-border-accent-teal","color.border.accent.magenta":"--ds-border-accent-magenta","color.border.accent.gray":"--ds-border-accent-gray","color.border":"--ds-border","color.border.bold":"--ds-border-bold","color.border.inverse":"--ds-border-inverse","color.border.focused":"--ds-border-focused","color.border.input":"--ds-border-input","color.border.disabled":"--ds-border-disabled","color.border.brand":"--ds-border-brand","color.border.selected":"--ds-border-selected","color.border.danger":"--ds-border-danger","color.border.warning":"--ds-border-warning","color.border.success":"--ds-border-success","color.border.discovery":"--ds-border-discovery","color.border.information":"--ds-border-information","color.border.focus":"--ds-border-focus","color.border.neutral":"--ds-border-neutral","color.background.accent.blue.subtlest":"--ds-background-accent-blue-subtlest","color.background.accent.blue.subtler":"--ds-background-accent-blue-subtler","color.background.accent.blue.subtle":"--ds-background-accent-blue-subtle","color.background.accent.blue.bolder":"--ds-background-accent-blue-bolder","color.background.accent.blue":"--ds-background-accent-blue","color.background.accent.blue.bold":"--ds-background-accent-blue-bold","color.background.accent.red.subtlest":"--ds-background-accent-red-subtlest","color.background.accent.red.subtler":"--ds-background-accent-red-subtler","color.background.accent.red.subtle":"--ds-background-accent-red-subtle","color.background.accent.red.bolder":"--ds-background-accent-red-bolder","color.background.accent.red":"--ds-background-accent-red","color.background.accent.red.bold":"--ds-background-accent-red-bold","color.background.accent.orange.subtlest":"--ds-background-accent-orange-subtlest","color.background.accent.orange.subtler":"--ds-background-accent-orange-subtler","color.background.accent.orange.subtle":"--ds-background-accent-orange-subtle","color.background.accent.orange.bolder":"--ds-background-accent-orange-bolder","color.background.accent.orange":"--ds-background-accent-orange","color.background.accent.orange.bold":"--ds-background-accent-orange-bold","color.background.accent.yellow.subtlest":"--ds-background-accent-yellow-subtlest","color.background.accent.yellow.subtler":"--ds-background-accent-yellow-subtler","color.background.accent.yellow.subtle":"--ds-background-accent-yellow-subtle","color.background.accent.yellow.bolder":"--ds-background-accent-yellow-bolder","color.background.accent.yellow":"--ds-background-accent-yellow","color.background.accent.yellow.bold":"--ds-background-accent-yellow-bold","color.background.accent.green.subtlest":"--ds-background-accent-green-subtlest","color.background.accent.green.subtler":"--ds-background-accent-green-subtler","color.background.accent.green.subtle":"--ds-background-accent-green-subtle","color.background.accent.green.bolder":"--ds-background-accent-green-bolder","color.background.accent.green":"--ds-background-accent-green","color.background.accent.green.bold":"--ds-background-accent-green-bold","color.background.accent.teal.subtlest":"--ds-background-accent-teal-subtlest","color.background.accent.teal.subtler":"--ds-background-accent-teal-subtler","color.background.accent.teal.subtle":"--ds-background-accent-teal-subtle","color.background.accent.teal.bolder":"--ds-background-accent-teal-bolder","color.background.accent.teal":"--ds-background-accent-teal","color.background.accent.teal.bold":"--ds-background-accent-teal-bold","color.background.accent.purple.subtlest":"--ds-background-accent-purple-subtlest","color.background.accent.purple.subtler":"--ds-background-accent-purple-subtler","color.background.accent.purple.subtle":"--ds-background-accent-purple-subtle","color.background.accent.purple.bolder":"--ds-background-accent-purple-bolder","color.background.accent.purple":"--ds-background-accent-purple","color.background.accent.purple.bold":"--ds-background-accent-purple-bold","color.background.accent.magenta.subtlest":"--ds-background-accent-magenta-subtlest","color.background.accent.magenta.subtler":"--ds-background-accent-magenta-subtler","color.background.accent.magenta.subtle":"--ds-background-accent-magenta-subtle","color.background.accent.magenta.bolder":"--ds-background-accent-magenta-bolder","color.background.accent.magenta":"--ds-background-accent-magenta","color.background.accent.magenta.bold":"--ds-background-accent-magenta-bold","color.background.accent.gray.subtlest":"--ds-background-accent-gray-subtlest","color.background.accent.gray.subtler":"--ds-background-accent-gray-subtler","color.background.accent.gray.subtle":"--ds-background-accent-gray-subtle","color.background.accent.gray.bolder":"--ds-background-accent-gray-bolder","color.background.disabled":"--ds-background-disabled","color.background.inverse.subtle":"--ds-background-inverse-subtle","color.background.inverse.subtle.hovered":"--ds-background-inverse-subtle-hovered","color.background.inverse.subtle.pressed":"--ds-background-inverse-subtle-pressed","color.background.inverse":"--ds-background-inverse","color.background.input":"--ds-background-input","color.background.input.hovered":"--ds-background-input-hovered","color.background.input.pressed":"--ds-background-input-pressed","color.background.neutral":"--ds-background-neutral","color.background.neutral.hovered":"--ds-background-neutral-hovered","color.background.neutral.pressed":"--ds-background-neutral-pressed","color.background.neutral.subtle":"--ds-background-neutral-subtle","color.background.neutral.subtle.hovered":"--ds-background-neutral-subtle-hovered","color.background.neutral.subtle.pressed":"--ds-background-neutral-subtle-pressed","color.background.neutral.bold":"--ds-background-neutral-bold","color.background.neutral.bold.hovered":"--ds-background-neutral-bold-hovered","color.background.neutral.bold.pressed":"--ds-background-neutral-bold-pressed","color.background.brand.bold":"--ds-background-brand-bold","color.background.brand.bold.hovered":"--ds-background-brand-bold-hovered","color.background.brand.bold.pressed":"--ds-background-brand-bold-pressed","color.background.brand":"--ds-background-brand","color.background.brand.hovered":"--ds-background-brand-hovered","color.background.brand.pressed":"--ds-background-brand-pressed","color.background.selected":"--ds-background-selected","color.background.selected.hovered":"--ds-background-selected-hovered","color.background.selected.pressed":"--ds-background-selected-pressed","color.background.selected.bold":"--ds-background-selected-bold","color.background.selected.bold.hovered":"--ds-background-selected-bold-hovered","color.background.selected.bold.pressed":"--ds-background-selected-bold-pressed","color.background.selected.resting":"--ds-background-selected-resting","color.background.selected.hover":"--ds-background-selected-hover","color.background.danger":"--ds-background-danger","color.background.danger.hovered":"--ds-background-danger-hovered","color.background.danger.pressed":"--ds-background-danger-pressed","color.background.danger.bold":"--ds-background-danger-bold","color.background.danger.bold.hovered":"--ds-background-danger-bold-hovered","color.background.danger.bold.pressed":"--ds-background-danger-bold-pressed","color.background.warning":"--ds-background-warning","color.background.warning.hovered":"--ds-background-warning-hovered","color.background.warning.pressed":"--ds-background-warning-pressed","color.background.warning.bold":"--ds-background-warning-bold","color.background.warning.bold.hovered":"--ds-background-warning-bold-hovered","color.background.warning.bold.pressed":"--ds-background-warning-bold-pressed","color.background.success":"--ds-background-success","color.background.success.hovered":"--ds-background-success-hovered","color.background.success.pressed":"--ds-background-success-pressed","color.background.success.bold":"--ds-background-success-bold","color.background.success.bold.hovered":"--ds-background-success-bold-hovered","color.background.success.bold.pressed":"--ds-background-success-bold-pressed","color.background.discovery":"--ds-background-discovery","color.background.discovery.hovered":"--ds-background-discovery-hovered","color.background.discovery.pressed":"--ds-background-discovery-pressed","color.background.discovery.bold":"--ds-background-discovery-bold","color.background.discovery.bold.hovered":"--ds-background-discovery-bold-hovered","color.background.discovery.bold.pressed":"--ds-background-discovery-bold-pressed","color.background.information":"--ds-background-information","color.background.information.hovered":"--ds-background-information-hovered","color.background.information.pressed":"--ds-background-information-pressed","color.background.information.bold":"--ds-background-information-bold","color.background.information.bold.hovered":"--ds-background-information-bold-hovered","color.background.information.bold.pressed":"--ds-background-information-bold-pressed","color.background.blanket":"--ds-background-blanket","color.background.boldBrand.hover":"--ds-background-boldBrand-hover","color.background.boldBrand.pressed":"--ds-background-boldBrand-pressed","color.background.boldBrand.resting":"--ds-background-boldBrand-resting","color.background.boldDanger.hover":"--ds-background-boldDanger-hover","color.background.boldDanger.pressed":"--ds-background-boldDanger-pressed","color.background.boldDanger.resting":"--ds-background-boldDanger-resting","color.background.boldDiscovery.hover":"--ds-background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--ds-background-boldDiscovery-pressed","color.background.boldDiscovery.resting":"--ds-background-boldDiscovery-resting","color.background.boldNeutral.hover":"--ds-background-boldNeutral-hover","color.background.boldNeutral.pressed":"--ds-background-boldNeutral-pressed","color.background.boldNeutral.resting":"--ds-background-boldNeutral-resting","color.background.boldSuccess.hover":"--ds-background-boldSuccess-hover","color.background.boldSuccess.pressed":"--ds-background-boldSuccess-pressed","color.background.boldSuccess.resting":"--ds-background-boldSuccess-resting","color.background.boldWarning.hover":"--ds-background-boldWarning-hover","color.background.boldWarning.pressed":"--ds-background-boldWarning-pressed","color.background.boldWarning.resting":"--ds-background-boldWarning-resting","color.background.card":"--ds-background-card","color.background.default":"--ds-background-default","color.background.overlay":"--ds-background-overlay","color.background.subtleBorderedNeutral.pressed":"--ds-background-subtleBorderedNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--ds-background-subtleBorderedNeutral-resting","color.background.subtleBrand.hover":"--ds-background-subtleBrand-hover","color.background.subtleBrand.pressed":"--ds-background-subtleBrand-pressed","color.background.subtleBrand.resting":"--ds-background-subtleBrand-resting","color.background.subtleDanger.hover":"--ds-background-subtleDanger-hover","color.background.subtleDanger.pressed":"--ds-background-subtleDanger-pressed","color.background.subtleDanger.resting":"--ds-background-subtleDanger-resting","color.background.subtleDiscovery.hover":"--ds-background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--ds-background-subtleDiscovery-pressed","color.background.subtleDiscovery.resting":"--ds-background-subtleDiscovery-resting","color.background.subtleNeutral.hover":"--ds-background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--ds-background-subtleNeutral-pressed","color.background.subtleNeutral.resting":"--ds-background-subtleNeutral-resting","color.background.subtleSuccess.hover":"--ds-background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--ds-background-subtleSuccess-pressed","color.background.subtleSuccess.resting":"--ds-background-subtleSuccess-resting","color.background.subtleWarning.hover":"--ds-background-subtleWarning-hover","color.background.subtleWarning.pressed":"--ds-background-subtleWarning-pressed","color.background.subtleWarning.resting":"--ds-background-subtleWarning-resting","color.background.sunken":"--ds-background-sunken","color.background.transparentNeutral.hover":"--ds-background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--ds-background-transparentNeutral-pressed","color.blanket":"--ds-blanket","color.blanket.selected":"--ds-blanket-selected","color.blanket.danger":"--ds-blanket-danger","color.interaction.hovered":"--ds-interaction-hovered","color.interaction.pressed":"--ds-interaction-pressed","color.interaction.inverse.hovered":"--ds-interaction-inverse-hovered","color.interaction.inverse.pressed":"--ds-interaction-inverse-pressed","color.skeleton":"--ds-skeleton","color.skeleton.subtle":"--ds-skeleton-subtle","color.link":"--ds-link","color.link.pressed":"--ds-link-pressed","color.accent.boldBlue":"--ds-accent-boldBlue","color.accent.boldGreen":"--ds-accent-boldGreen","color.accent.boldOrange":"--ds-accent-boldOrange","color.accent.boldPurple":"--ds-accent-boldPurple","color.accent.boldRed":"--ds-accent-boldRed","color.accent.boldTeal":"--ds-accent-boldTeal","color.accent.subtleBlue":"--ds-accent-subtleBlue","color.accent.subtleGreen":"--ds-accent-subtleGreen","color.accent.subtleMagenta":"--ds-accent-subtleMagenta","color.accent.subtleOrange":"--ds-accent-subtleOrange","color.accent.subtlePurple":"--ds-accent-subtlePurple","color.accent.subtleRed":"--ds-accent-subtleRed","color.accent.subtleTeal":"--ds-accent-subtleTeal","color.iconBorder.brand":"--ds-iconBorder-brand","color.iconBorder.danger":"--ds-iconBorder-danger","color.iconBorder.discovery":"--ds-iconBorder-discovery","color.iconBorder.success":"--ds-iconBorder-success","color.iconBorder.warning":"--ds-iconBorder-warning","color.overlay.hover":"--ds-overlay-hover","color.overlay.pressed":"--ds-overlay-pressed","shadow.card":"--ds-card","shadow.overlay":"--ds-overlay","elevation.shadow.raised":"--ds-shadow-raised","elevation.shadow.overflow":"--ds-shadow-overflow","elevation.shadow.overlay":"--ds-shadow-overlay","elevation.surface":"--ds-surface","elevation.surface.sunken":"--ds-surface-sunken","elevation.surface.raised":"--ds-surface-raised","elevation.surface.overlay":"--ds-surface-overlay","utility.UNSAFE_util.transparent":"--ds-UNSAFE_util-transparent","utility.UNSAFE_util.MISSING_TOKEN":"--ds-UNSAFE_util-MISSING_TOKEN"},o="--".concat("ds","-token-not-found");t.a=function(e,t){var n=r[e];return n||(n=o),t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}},function(e,t,n){var r=n(814);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(1),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(14),v=n(4),b=n(171),g=function(){function e(t,n){a()(this,e),this.anchor=t,this.head=n}return s()(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);if("row"===t.parent.type.spec.tableRole&&"row"===n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Object(b.a)(t,n)){var r={type:"cell",anchor:t.pos,head:n.pos};return v.Selection.fromJSON(e,r)}return v.Selection.near(n,1)}}]),e}(),y=n(29),O=n(150),w=n(174);function k(e,t){var n=e.node(-1),r=y.b.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),c=r.cellsInRect(i).filter((function(e){return e!==t.pos-o}));return c.unshift(t.pos-o),c.map((function(e){var t=n.nodeAt(e);if(null===t)throw new Error("No cell at position ".concat(e));var r=e+o+1;return new v.SelectionRange(a.resolve(r),a.resolve(r+t.content.size))}))}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var j=function(e){l()(n,e);var t=S(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;a()(this,n);var i=k(e,o);return(r=t.call(this,i[0].$from,i[0].$to,i)).$anchorCell=e,r.$headCell=o,r.visible=!1,r}return s()(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(Object(O.d)(r)&&Object(O.d)(o)&&Object(b.a)(r,o)){var i=this.$anchorCell.node(-1)!==r.node(-1);return i&&this.isRowSelection()?n.rowSelection(r,o):i&&this.isColSelection()?n.colSelection(r,o):new n(r,o)}return v.TextSelection.between(r,o)}},{key:"content",value:function(){for(var e=this.$anchorCell.node(-1),t=y.b.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var c=[],s=a*t.width+r.left,u=r.left;u<r.right;u++,s++){var l=t.map[s];if(!o[l]){o[l]=!0;var d=t.findCell(l),f=e.nodeAt(l);if(null==f)throw new Error("No cell at position ".concat(l));var p=r.left-d.left,h=d.right-r.right;if(p>0||h>0){var v=f.attrs;if(!v)throw new Error("No cell at position ".concat(l));p>0&&(v=Object(w.c)(v,0,p)),h>0&&(v=Object(w.c)(v,v.colspan-h,h)),f=d.left<r.left?f.type.createAndFill(v):f.type.create(v,f.content)}if(null==f)throw new Error("No cell at position after create/createAndFill");if(d.top<r.top||d.bottom>r.bottom){var b=x(x({},f.attrs),{},{rowspan:Math.min(d.bottom,r.bottom)-Math.max(d.top,r.top)});f=d.top<r.top?f.type.createAndFill(b):f.type.create(b,f.content)}if(null==f)throw new Error("No cell at position before rowContent.push");c.push(f)}}i.push(e.child(a).copy(m.Fragment.from(c)))}var g=this.isColSelection()&&this.isRowSelection()?e:i;return new m.Slice(m.Fragment.from(g),1,1)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.Slice.empty,n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,c=i.$to,s=e.mapping.slice(n);e.replace(s.map(a.pos),s.map(c.pos),o?m.Slice.empty:t)}var u=v.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);u&&e.setSelection(u)}},{key:"replaceWith",value:function(e,t){this.replace(e,new m.Slice(m.Fragment.from(t),0,0))}},{key:"forEachCell",value:function(e){for(var t=this.$anchorCell.node(-1),n=y.b.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++){var a=t.nodeAt(o[i]);if(null==a)throw new Error("undefined cell at pos ".concat(o[i]));e(a,r+o[i])}}},{key:"isColSelection",value:function(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)===this.$headCell.node(-1).childCount}},{key:"isRowSelection",value:function(){if(!this.$anchorCell||!this.$headCell)return!1;var e=y.b.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)===e.width}},{key:"eq",value:function(e){return e instanceof n&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}},{key:"toJSON",value:function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}},{key:"getBookmark",value:function(){return new g(this.$anchorCell.pos,this.$headCell.pos)}}],[{key:"colSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=e,o=t,i=y.b.get(r.node(-1)),a=r.start(-1),c=i.findCell(r.pos-a),s=i.findCell(o.pos-a),u=r.node(0);return c.top<=s.top?(c.top>0&&(r=u.resolve(a+i.map[c.left])),s.bottom<i.height&&(o=u.resolve(a+i.map[i.width*(i.height-1)+s.right-1]))):(s.top>0&&(o=u.resolve(a+i.map[s.left])),c.bottom<i.height&&(r=u.resolve(a+i.map[i.width*(i.height-1)+c.right-1]))),new n(r,o)}},{key:"rowSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=e,o=t,i=y.b.get(r.node(-1)),a=r.start(-1),c=i.findCell(r.pos-a),s=i.findCell(o.pos-a),u=r.node(0);return c.left<=s.left?(c.left>0&&(r=u.resolve(a+i.map[c.top*i.width])),s.right<i.width&&(o=u.resolve(a+i.map[i.width*(s.top+1)-1]))):(s.left>0&&(o=u.resolve(a+i.map[s.top*i.width])),c.right<i.width&&(r=u.resolve(a+i.map[i.width*(c.top+1)-1]))),new n(r,o)}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new n(e.resolve(t),e.resolve(r))}}]),n}(v.Selection);v.Selection.jsonID("cell",j)},function(e,t,n){"use strict";n.r(t);var r=n(436);n.d(t,"default",(function(){return r.b})),n.d(t,"Icon",(function(){return r.a}))},,function(e,t,n){"use strict";var r,o,i,a,c,s,u,l;n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(r||(r={})),function(e){e.ACTIVATED="activated",e.ADDED="added",e.BROWSER_FREEZE="browserFreeze",e.CHANGED_BACKGROUND_COLOR="changedBackgroundColor",e.CHANGED_ICON="changedIcon",e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",e.CHANGED_LAYOUT="changedLayout",e.CHANGED_REPLACEMENT_TEXT="changedReplacementText",e.CHANGED_TYPE="changedType",e.CHANGED_URL="changedUrl",e.CLEARED="cleared",e.CLICKED="clicked",e.CLOSED="closed",e.COMMITTED="committed",e.CONVERTED="converted",e.COPIED="copied",e.CUT="cut",e.DEACTIVATED="deactivated",e.DECREMENTED="decremented",e.DELETED="deleted",e.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",e.DISMISSED="dismissed",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",e.EDITED="edited",e.EDITOR_CRASHED="unhandledErrorCaught",e.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfo",e.EDITOR_MOUNTED="mounted",e.EDITOR_TTI="tti",e.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",e.RE_RENDERED="reRendered",e.ENTERED="entered",e.ERRORED="errored",e.EXPOSED="exposed",e.FAILED_TO_UNMOUNT="failedToUnmount",e.FIND_NEXT_PERFORMED="findNextPerformed",e.FIND_PERFORMED="findPerformed",e.FIND_PREV_PERFORMED="findPrevPerformed",e.FORMATTED="formatted",e.HELP_OPENED="helpOpened",e.HIGHLIGHTED="highlighted",e.INCREMENTED="incremented",e.INDENTED="indented",e.INITIALISED="initialised",e.INPUT_PERF_SAMPLING="inputPerfSampling",e.INPUT_PERF_SAMPLING_AVG="inputPerfSamplingAvg",e.INSERTED="inserted",e.INVALID_DOCUMENT_ENCOUNTERED="invalidDocumentEncountered",e.INVOKED="invoked",e.LANGUAGE_SELECTED="languageSelected",e.LIST_ITEM_JOINED="listItemJoined",e.MATCHED="matched",e.MEDIA_LINK_TRANSFORMED="mediaLinkTransformed",e.NODE_CONTENT_SANITIZED="nodeContentSanitized",e.OPENED="opened",e.OUTDENTED="outdented",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.PASTED_TIMED="pastedTimed",e.PROSEMIRROR_RENDERED="proseMirrorRendered",e.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",e.REPLACED_ALL="replacedAll",e.REPLACED_ONE="replacedOne",e.RESOLVED="resolved",e.SELECTED="selected",e.SHOWN="shown",e.SLOW_INPUT="slowInput",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.SYNCHRONY_DISCONNECTED="synchronyDisconnected",e.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",e.SYNCHRONY_ERROR="synchronyError",e.TEXT_LINK_MARK_TRANSFORMED="textLinkMarkTransformed",e.DEDUPE_MARKS_TRANSFORMED="dedupeMarksTransformed",e.NODES_MISSING_CONTENT_TRANSFORMED="nodesMissingContentTransformed",e.INDENTATION_MARKS_TRANSFORMED="indentationMarksTransformed",e.TOGGLE_EXPAND="toggleExpand",e.TRANSACTION_DISPATCHED="transactionDispatched",e.TRANSACTION_MUTATED_AFTER_DISPATCH="transactionMutatedAfterDispatched",e.TYPING_FINISHED="typingFinished",e.TYPING_STARTED="typingStarted",e.UNLINK="unlinked",e.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",e.UPDATED="updated",e.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",e.VIEWED="viewed",e.VISITED="visited",e.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",e.RENDERED="rendered",e.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",e.ON_CHANGE_CALLBACK="onChangeCalled",e.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS="newCollabSyncUpErrorNoSteps",e.REMOVE_ICON="removedIcon",e.UFO_SESSION_COMPLETE="ufoSessionComplete",e.INVALID_PROSEMIRROR_DOCUMENT="invalidProsemirrorDocument",e.DOCUMENT_PROCESSING_ERROR="documentProcessingError"}(o||(o={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.BUTTON="button",e.BLUR="blur",e.CARD="card",e.CLIPBOARD="clipboard",e.CONFIG_PANEL="configPanel",e.CONTEXT_MENU="contextMenu",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.EXTENSION_API="extensionApi",e.FLOATING_TB="floatingToolbar",e.FORMATTING="autoformatting",e.INSERT_MENU="insertMenu",e.KEYBOARD="keyboard",e.MACRO_BROWSER="macroBrowser",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.PREFILL="prefill",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead"}(i||(i={})),function(e){e.BUTTON="button",e.KEYBOARD="keyboard",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar"}(a||(a={})),function(e){e.TOOLBAR_BUTTON="toolbarButton",e.BUTTON="button",e.CONFIG_PANEL="configPanel",e.CONTENT_COMPONENT="contentComponent",e.DATE="date",e.DATE_SEGMENT="dateSegment",e.DOCUMENT="document",e.EDITOR="editor",e.ELEMENT_BROWSER="elementBrowser",e.EMBEDS="embeds",e.EXPAND="expand",e.EXTENSION="extension",e.FEATURE="feature",e.FEEDBACK_DIALOG="feedbackDialog",e.FIND_REPLACE_DIALOG="findReplaceDialog",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",e.HELP="help",e.LAYOUT="layout",e.LIST="list",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.NESTED_EXPAND="nestedExpand",e.PANEL="panel",e.PICKER="picker",e.PLUS_MENU="plusMenu",e.PLUGIN_SLOT="pluginSlot",e.REACT_NODE_VIEW="reactNodeView",e.SELECTION="selection",e.SMART_LINK="smartLink",e.HYPERLINK="hyperlink",e.TABLE="table",e.TABLES_PLUGIN="tablesPlugin",e.TEXT="text",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.TYPEAHEAD_ITEM="typeAheadItem",e.ANNOTATION="annotation",e.SEARCH_RESULT="searchResult",e.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",e.CODE_BLOCK="codeBlock",e.REACT_EDITOR_VIEW="reactEditorView"}(c||(c={})),function(e){e.ACTION="action",e.ALL="all",e.ALT_TEXT="altText",e.ANNOTATE_BUTTON="annotateButton",e.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",e.BLOCK_QUOTE="blockQuote",e.BUTTON_FEEDBACK="feedbackButton",e.BUTTON_HELP="helpButton",e.BUTTON_CATEGORY="categoryButton",e.CANCEL="cancel",e.CARD_BLOCK="blockCard",e.CAPTION="caption",e.CARD_INLINE="inlineCard",e.CELL="cell",e.CODE_BLOCK="codeBlock",e.DATE="date",e.DATE_DAY="day",e.DATE_MONTH="month",e.DATE_YEAR="year",e.DECISION="decision",e.DIVIDER="divider",e.EMOJI="emoji",e.EXPAND="expand",e.EXTENSION="extension",e.EXTENSION_API="extensionApi",e.EXTENSION_BLOCK="extension",e.EXTENSION_BODIED="bodiedExtension",e.EXTENSION_INLINE="inlineExtension",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",e.FORMAT_ITALIC="italic",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.HELP_QUICK_INSERT="helpQuickInsert",e.INLINE_COMMENT="inlineComment",e.LAYOUT="layout",e.RICH_MEDIA_LAYOUT="richMediaLayout",e.LINE_BREAK="lineBreak",e.LINK="link",e.LINK_PREVIEW="linkPreview",e.MEDIA="media",e.MEDIA_GROUP="mediaGroup",e.MEDIA_INLINE="mediaInline",e.MEDIA_SINGLE="mediaSingle",e.MEDIA_LINK="mediaLink",e.MENTION="mention",e.NESTED_EXPAND="nestedExpand",e.NODE="node",e.PANEL="panel",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockQuote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXPAND="expand",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_NESTED_EXPAND="nestedExpand",e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE="table",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TASK_LIST="taskList",e.PICKER_COLOR="colorPicker",e.PICKER_CLOUD="cloudPicker",e.PICKER_EMOJI="emojiPicker",e.PRODUCT_NAME="productName",e.PLACEHOLDER_TEXT="placeholderText",e.PUNC="punctuation",e.RANGE="range",e.REACT_NODE_VIEW="reactNodeView",e.RESIZED="resized",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",e.TABLE="table",e.TEXT="text",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",e.UNSUPPORTED_BLOCK="unsupportedBlock",e.UNSUPPORTED_INLINE="unsupportedInline",e.UNSUPPORTED_MARK="unsupportedMark",e.UNKNOWN_NODE="unknownNode",e.RECENT_ACTIVITIES="recentActivities",e.QUICK_SEARCH="quickSearch",e.LINK_SEARCH_INPUT="linkSearchInput",e.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",e.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",e.EDIT_LINK="editLink",e.UNLINK="unlink",e.OPEN_LINK="openLink",e.EMBEDS="embeds",e.HYPERLINK="hyperlink"}(s||(s={})),function(e){e.CODE_BLOCK="codeBlockFloatingControls",e.EXTENSION="extensionFloatingControls",e.HYPERLINK="hyperlinkFloatingControls",e.MEDIA="mediaFloatingControls",e.PANEL="panelFloatingControls",e.TABLE="tableFloatingControls",e.EXPAND="expandToolbar"}(u||(u={})),function(e){e.INLINE_COMMENT="inlineComment",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_INSERT_BUTTON="floatingInsertButton",e.FLOATING_TOOLBAR="floatingToolbar"}(l||(l={}))},function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return b}));var r="top",o="bottom",i="right",a="left",c="auto",s=[r,o,i,a],u="start",l="end",d="clippingParents",f="viewport",p="popper",h="reference",m=s.reduce((function(e,t){return e.concat([t+"-"+u,t+"-"+l])}),[]),v=[].concat(s,[c]).reduce((function(e,t){return e.concat([t,t+"-"+u,t+"-"+l])}),[]),b=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},,function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"o",(function(){return y})),n.d(t,"n",(function(){return O})),n.d(t,"g",(function(){return k})),n.d(t,"p",(function(){return E})),n.d(t,"k",(function(){return x})),n.d(t,"q",(function(){return S}));var r=n(21),o=n.n(r),i=n(55),a=n(159),c="pm-table",s="".concat(c,"-cell-content-wrap"),u="".concat(c,"-header-content-wrap"),l="".concat(c,"-cell-nodeview-wrapper"),d="".concat(c,"-cell-nodeview-content-dom"),f=i.l.toLocaleLowerCase(),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),a=e.style.backgroundColor;if(a&&Object(i.K)(a)){var c=Object(i.L)(a);null!==c&&(a=c)}return{colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length===o?r:null,background:a&&a!==t.background?a:null}},h=function(e){var t={},n=e.type.name;if(1!==e.attrs.colspan&&(t.colspan=e.attrs.colspan),1!==e.attrs.rowspan&&(t.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(t["data-colwidth"]=e.attrs.colwidth.join(",")),e.attrs.background){var r=e.attrs.background;if("tableHeader"===n&&r===b.get("light gray")||"tableCell"===n&&r===b.get("white"))t.style="";else{var o=Object(i.K)(r)?Object(i.L)(r):r;t.style="".concat(t.style||"","background-color: ").concat(o,";"),t.colorname=m.get(o)}}return t.class="tableHeader"===n?u:s,t},m=new Map,v=Object(i.J)(i.p,.12)||i.k,b=new Map;[[i.k,"White"],[i.c,"Light blue"],[i.C,"Light teal"],[i.h,"Light green"],[i.H,"Light yellow"],[i.x,"Light red"],[i.s,"Light purple"],[i.l,"Light gray"],[i.e,"Blue"],[i.E,"Teal"],[i.j,"Green"],[i.I,"Yellow"],[i.z,"Red"],[i.u,"Purple"],[i.n,"Gray"],[i.a,"Dark blue"],[i.A,"Dark teal"],[i.f,"Dark green"],[i.F,"Dark yellow"],[i.v,"Dark red"],[i.q,"Dark purple"]].forEach((function(e){var t=o()(e,2),n=t[0],r=t[1];m.set(n.toLowerCase(),r),b.set(r.toLowerCase(),n.toLowerCase())}));var g={content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1},localId:{default:""}},marks:"fragment unsupportedMark unsupportedNodeAttribute",tableRole:"table",isolating:!0,selectable:!1,group:"block",parseDOM:[{tag:"table",getAttrs:function(e){var t,n=e,r=null===(t=n.parentElement)||void 0===t?void 0:t.parentElement;return{isNumberColumnEnabled:"true"===n.getAttribute("data-number-column"),layout:n.getAttribute("data-layout")||(null==r?void 0:r.getAttribute("data-layout"))||"default",__autoSize:"true"===n.getAttribute("data-autosize"),localId:n.getAttribute("data-table-local-id")||a.b.generate()}}}],toDOM:function(e){return["table",{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,"data-table-local-id":e.attrs.localId},["tbody",0]]}},y=function(e){return{attrs:Object.keys(e.attrs).filter((function(t){return function(e,t){return!(e.startsWith("__")||"localId"===e&&!t)}(t,e.attrs[t])})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}},O={selectable:!1,content:"(tableCell | tableHeader)+",marks:"unsupportedMark unsupportedNodeAttribute",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},w={colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},k={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | unsupportedBlock)+",attrs:w,tableRole:"cell",marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td",getAttrs:function(e){return p(e)}}],toDOM:function(e){return["td",h(e),0]}},E=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return w[n].default!==e.attrs[n]&&(t[n]=e.attrs[n]),t}),{})}},x={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand)+",attrs:w,tableRole:"header_cell",isolating:!0,marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",parseDOM:[{tag:"th",getAttrs:function(e){return p(e,{background:f})}}],toDOM:function(e){return["th",h(e),0]}},S=E},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a task, to do item, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas  and emotions ",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision youve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so theyre easy to track",description:"Capture a decision youve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0),g=n.n(b),y=n(59),O=n.n(y),w=n(750),k=n(148),E=n(38),x=n(137),S=n(183),j=n(173);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var A=function(e){l()(n,e);var t=_(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),v()(s()(e),"listeners",{}),v()(s()(e),"debounce",null),v()(s()(e),"notAppliedState",{}),v()(s()(e),"isSubscribed",!1),v()(s()(e),"callsCount",0),v()(s()(e),"state",e.getPluginsStates(e.props.plugins,e.getEditorView(e.props,e.context))),v()(s()(e),"handlePluginStateChange",(function(t,n,r,o){return function(i){(e.state[t]!==i||o)&&e.updateState({stateSubset:v()({},t,i),pluginName:n,performanceOptions:r})}})),v()(s()(e),"updateState",(function(t){var n=t.stateSubset,r=t.pluginName,o=t.performanceOptions;e.notAppliedState=T(T({},e.notAppliedState),n),e.debounce&&window.clearTimeout(e.debounce);var i=!1!==e.props.debounce?function(e){return window.setTimeout(e,0)}:function(e){return e()};e.debounce=i((function(){var t="".concat(r,"::WithPluginState");o.trackingEnabled&&Object(w.b)(t),e.setState(e.notAppliedState,(function(){o.trackingEnabled&&Object(w.c)(t,(function(t){if(++e.callsCount%o.samplingRate==0&&t>o.slowThreshold){var n=e.getEditorView();e.dispatchAnalyticsEvent({action:E.a.WITH_PLUGIN_STATE_CALLED,actionSubject:E.b.EDITOR,eventType:E.e.OPERATIONAL,attributes:{plugin:r,duration:t,participants:Object(j.a)(n&&n.state)}})}}))})),e.debounce=null,e.notAppliedState={}}))})),v()(s()(e),"dispatchAnalyticsEvent",(function(t){var n=e.getEventDispatcher();n&&Object(k.b)(n)(x.a,{payload:t})})),v()(s()(e),"onContextUpdate",(function(){e.subscribe(e.props)})),e}return a()(n,[{key:"getEditorView",value:function(e,t){var n=e||this.props,r=t||this.context;return n.editorView||r&&r.editorActions&&r.editorActions._privateGetEditorView()||r&&r.editorSharedConfig&&r.editorSharedConfig.editorView}},{key:"getEventDispatcher",value:function(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}},{key:"getPluginsStates",value:function(e,t){return t&&e?Object.keys(e).reduce((function(n,r){var o=e[r];return o?(n[r]=o.getState(t.state),n):n}),{}):{}}},{key:"subscribe",value:function(e){var t=this,n=e.plugins,r=this.getEventDispatcher(e),o=this.getEditorView(e);if(r&&o&&!this.isSubscribed){var i=S.a.getState(o.state),a=i&&i.performanceTracking&&i.performanceTracking.uiTracking||{},c=!0===a.enabled,s=a.samplingRate||100,u=a.slowThreshold||4;this.isSubscribed=!0;var l=this.getPluginsStates(n,o);this.setState(l),Object.keys(n).forEach((function(e){var o=n[e];if(o){var i=o.key,a=l[e],d=a&&a.subscribe,f=t.handlePluginStateChange(e,i,{samplingRate:s,slowThreshold:u,trackingEnabled:c},d);d?a.subscribe(f):r.on(o.key,f),t.listeners[o.key]={handler:f,pluginKey:o}}}))}}},{key:"unsubscribe",value:function(){var e=this,t=this.getEventDispatcher(),n=this.getEditorView();t&&n&&this.isSubscribed&&(Object.keys(this.listeners).forEach((function(r){var o=e.listeners[r].pluginKey.getState(n.state);o&&o.unsubscribe?o.unsubscribe(e.listeners[r].handler):t.off(r,e.listeners[r].handler)})),this.listeners=[])}},{key:"subscribeToContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"unsubscribeFromContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"componentDidMount",value:function(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isSubscribed||this.subscribe(e)}},{key:"componentWillUnmount",value:function(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}},{key:"render",value:function(){var e=this.props.render;return e(this.state)}}]),n}(g.a.Component);v()(A,"displayName","WithPluginState"),v()(A,"contextTypes",{editorActions:O.a.object,editorSharedConfig:O.a.object})},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return O}));var r=n(21),o=n.n(r),i=n(4),a=n(35),c=n(394),s=n(54),u=function(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some((function(e){return!e(n,o)}))&&(t(n,r,o)||!1)}},l=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof s.a)},d=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(r.end()===r.pos||e.selection instanceof s.a)},f=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof s.a&&0===t.parentOffset||0===t.index(t.depth-1))};function p(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var h=function(e,t,n,r,o){var i=o.doc.type.schema.marks.code;return r.type===i&&Object(c.a)(e,t,o),o.doc.nodesBetween(o.mapping.map(e),o.mapping.map(t),(function(i,a){if(!i.isText)return!0;var c=Math.max(a,o.mapping.map(e)),s=Math.min(a+i.nodeSize,o.mapping.map(t));return n?o.removeMark(c,s,r):o.addMark(c,s,r),!0})),o},m=function(e,t){return function(n,r){var o=e.create(t);if(n.selection instanceof i.TextSelection&&n.selection.$cursor){var c=n.tr;return o.isInSet(n.storedMarks||n.selection.$cursor.marks())?c.removeStoredMark(o):c.addStoredMark(o),!!r&&(r(c),!0)}return function(e){return function(t,n){var r=t.tr;if(t.selection instanceof a.a){var o=!1,i=[];t.selection.forEachCell((function(n,r){i.push({node:n,pos:r});var a=r,c=r+n.nodeSize;o||(o=t.doc.rangeHasMark(a,c,e))}));for(var c=i.length-1;c>=0;c--){var s=i[c],u=s.pos,l=u+s.node.nodeSize;h(u,l,o,e,r)}}else{var d=t.selection,f=d.$from,p=d.$to,m=t.doc.rangeHasMark(f.pos,p.pos,e);h(f.pos,p.pos,m,e,r)}return!!r.docChanged&&(n&&n(r),!0)}}(o)(n,r)}},v=function(e){return function(t,n,r){return e(t,(function(e){e.scrollIntoView(),n&&n(e)}),r)}},b=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},g=function(e){for(var t=e;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},y=function(e,t,n,r){n.forEach((function(t){var n=o()(t,2),r=n[0],i=n[1];e.insert(e.mapping.map(i),r)})),r.forEach((function(t){var n=o()(t,2),r=n[0],i=n[1];e.delete(e.mapping.map(r),e.mapping.map(i))})),e.setSelection(new i.TextSelection(t(e)))},O=function(e){return function(t,n){return n&&n(t.tr.setSelection(new i.NodeSelection(t.doc.resolve(e)))),!0}}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";n.d(t,"a",(function(){return kn})),n.d(t,"b",(function(){return Sn})),n.d(t,"c",(function(){return Rn})),n.d(t,"d",(function(){return J})),n.d(t,"e",(function(){return Fn})),n.d(t,"f",(function(){return Ce})),n.d(t,"g",(function(){return Re})),n.d(t,"h",(function(){return sn})),n.d(t,"i",(function(){return at})),n.d(t,"j",(function(){return dn})),n.d(t,"k",(function(){return ln})),n.d(t,"l",(function(){return hn})),n.d(t,"m",(function(){return ue})),n.d(t,"n",(function(){return Me})),n.d(t,"o",(function(){return Ie})),n.d(t,"p",(function(){return q})),n.d(t,"q",(function(){return xe})),n.d(t,"r",(function(){return Te})),n.d(t,"s",(function(){return Pe})),n.d(t,"t",(function(){return Ne})),n.d(t,"u",(function(){return de})),n.d(t,"v",(function(){return ve})),n.d(t,"w",(function(){return Se})),n.d(t,"x",(function(){return U})),n.d(t,"y",(function(){return je})),n.d(t,"z",(function(){return z})),n.d(t,"A",(function(){return De})),n.d(t,"B",(function(){return _t}));var r=n(242),o=n(176),i=n(62),a=n(89),c=n(26),s=n(31),u=n(331),l=n(132);const d=e=>new Promise(e);var f=n(189),p=n(95),h=n(50),m=n(186),v=n(220),b=n(221);const g=Symbol;var y=n(105),O=n(106);JSON.stringify,JSON.parse;n(165);const w=g(),k=g(),E=g(),x=g(),S=g(),j=g(),C=g(),T=g(),_=g(),A={[w]:y.a("font-weight","bold"),[k]:y.a("font-weight","normal"),[E]:y.a("color","blue"),[S]:y.a("color","green"),[x]:y.a("color","grey"),[j]:y.a("color","red"),[C]:y.a("color","purple"),[T]:y.a("color","orange"),[_]:y.a("color","black")},P={[w]:"[1m",[k]:"[2m",[E]:"[34m",[S]:"[32m",[x]:"[37m",[j]:"[31m",[C]:"[35m",[T]:"[38;5;208m",[_]:"[0m"},I=b.c?e=>{const t=[],n=[];let r=0;for(;r<e.length;r++){const n=e[r],o=P[n];if(void 0!==o)t.push(o);else{if(n.constructor!==String&&n.constructor!==Number)break;t.push(n)}}for(r>0&&(t.push("[0m"),n.push(t.join("")));r<e.length;r++){const t=e[r];t instanceof Symbol||n.push(t)}return n}:e=>{const t=[],n=[],r=a.c();let o=[],i=0;for(;i<e.length;i++){const o=e[i],a=A[o];if(void 0!==a)r.set(a.left,a.right);else{if(o.constructor!==String&&o.constructor!==Number)break;{const e=O.e(r);i>0||e.length>0?(t.push("%c"+o),n.push(e)):t.push(o)}}}for(i>0&&(o=n,o.unshift(t.join("")));i<e.length;i++){const t=e[i];t instanceof Symbol||o.push(t)}return o},M=(...e)=>{console.log(...I(e)),R.forEach(t=>t.print(e))},R=new Set;l.a();const N=e=>({[Symbol.iterator](){return this},next:e}),D=(e,t)=>N(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});var L=n(190);r.a;class B{constructor(e,t){this.clock=e,this.len=t}}class F{constructor(){this.clients=new Map}}const z=(e,t,n)=>t.clients.forEach((t,r)=>{const o=e.doc.store.clients.get(r);for(let r=0;r<t.length;r++){const i=t[r];$e(e,o,i.clock,i.len,n)}}),U=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const o=i.c((n+r)/2),a=e[o],c=a.clock;if(c<=t){if(t<c+a.len)return o;n=o+1}else r=o-1}return null})(n,t.clock)},H=e=>{e.clients.forEach(e=>{let t,n;for(e.sort((e,t)=>e.clock-t.clock),t=1,n=1;t<e.length;t++){const r=e[n-1],o=e[t];r.clock+r.len>=o.clock?r.len=i.f(r.len,o.clock+o.len-r.clock):(n<t&&(e[n]=o),n++)}e.length=n})},W=e=>{const t=new F;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const a=r.slice();for(let t=n+1;t<e.length;t++)o.a(a,e[t].clients.get(i)||[]);t.clients.set(i,a)}});return H(t),t},V=(e,t,n,r)=>{a.e(e.clients,t,()=>[]).push(new B(n,r))},q=()=>new F,G=e=>{const t=q();return e.clients.forEach((e,n)=>{const r=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const o=n.id.clock;let i=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])i+=n.length;r.push(new B(o,i))}}r.length>0&&t.clients.set(n,r)}),t},K=(e,t)=>{c.n(e.restEncoder,t.clients.size),t.clients.forEach((t,n)=>{e.resetDsCurVal(),c.n(e.restEncoder,n);const r=t.length;c.n(e.restEncoder,r);for(let n=0;n<r;n++){const r=t[n];e.writeDsClock(r.clock),e.writeDsLen(r.len)}})},$=e=>{const t=new F,n=s.k(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const n=s.k(e.restDecoder),r=s.k(e.restDecoder);if(r>0){const o=a.e(t.clients,n,()=>[]);for(let t=0;t<r;t++)o.push(new B(e.readDsClock(),e.readDsLen()))}}return t},Y=(e,t,n)=>{const r=new F,o=s.k(e.restDecoder);for(let i=0;i<o;i++){e.resetDsCurVal();const o=s.k(e.restDecoder),i=s.k(e.restDecoder),a=n.clients.get(o)||[],c=Ue(n,o);for(let n=0;n<i;n++){const n=e.readDsClock(),i=n+e.readDsLen();if(n<c){c<i&&V(r,o,c,i-c);let e=We(a,n),s=a[e];for(!s.deleted&&s.id.clock<n&&(a.splice(e+1,0,Ln(t,s,n-s.id.clock)),e++);e<a.length&&(s=a[e++],s.id.clock<i);)s.deleted||(i<s.id.clock+s.length&&a.splice(e,0,Ln(t,s,i-s.id.clock)),s.delete(t))}else V(r,o,n,i-n)}}if(r.clients.size>0){const e=new ie;return c.n(e.restEncoder,0),K(e,r),e.toUint8Array()}return null},X=u.b;class J extends r.a{constructor({guid:e=u.c(),collectionid:t=null,gc:n=!0,gcFilter:r=(()=>!0),meta:o=null,autoLoad:i=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=X(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new Fe,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=i,this.meta=o,this.isLoaded=!1,this.whenLoaded=d(e=>{this.on("load",()=>{this.isLoaded=!0,e(this)})})}load(){const e=this._item;null===e||this.shouldLoad||nt(e.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,t=null){nt(this,e,t)}get(e,t=jt){const n=a.e(this.share,e,()=>{const e=new t;return e._integrate(this,null),e}),r=n.constructor;if(t!==jt&&r!==t){if(r===jt){const r=new t;r._map=n._map,n._map.forEach(e=>{for(;null!==e;e=e.left)e.parent=r}),r._start=n._start;for(let e=r._start;null!==e;e=e.right)e.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,qt)}getText(e=""){return this.get(e,sn)}getMap(e=""){return this.get(e,Kt)}getXmlFragment(e=""){return this.get(e,ln)}toJSON(){const e={};return this.share.forEach((t,n)=>{e[n]=t.toJSON()}),e}destroy(){o.c(this.subdocs).forEach(e=>e.destroy());const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new J({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,nt(e.parent.doc,n=>{const r=t.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class Z{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return s.k(this.restDecoder)}readDsLen(){return s.k(this.restDecoder)}}class Q extends Z{readLeftID(){return xe(s.k(this.restDecoder),s.k(this.restDecoder))}readRightID(){return xe(s.k(this.restDecoder),s.k(this.restDecoder))}readClient(){return s.k(this.restDecoder)}readInfo(){return s.h(this.restDecoder)}readString(){return s.j(this.restDecoder)}readParentInfo(){return 1===s.k(this.restDecoder)}readTypeRef(){return s.k(this.restDecoder)}readLen(){return s.k(this.restDecoder)}readAny(){return s.g(this.restDecoder)}readBuf(){return f.a(s.l(this.restDecoder))}readJSON(){return JSON.parse(s.j(this.restDecoder))}readKey(){return s.j(this.restDecoder)}}class ee{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=s.k(this.restDecoder),this.dsCurrVal}readDsLen(){const e=s.k(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class te extends ee{constructor(e){super(e),this.keys=[],s.k(e),this.keyClockDecoder=new s.a(s.l(e)),this.clientDecoder=new s.d(s.l(e)),this.leftClockDecoder=new s.a(s.l(e)),this.rightClockDecoder=new s.a(s.l(e)),this.infoDecoder=new s.b(s.l(e),s.h),this.stringDecoder=new s.c(s.l(e)),this.parentInfoDecoder=new s.b(s.l(e),s.h),this.typeRefDecoder=new s.d(s.l(e)),this.lenDecoder=new s.d(s.l(e))}readLeftID(){return new ke(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ke(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return s.g(this.restDecoder)}readBuf(){return s.l(this.restDecoder)}readJSON(){return s.g(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class ne{constructor(){this.restEncoder=c.e()}toUint8Array(){return c.g(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){c.n(this.restEncoder,e)}writeDsLen(e){c.n(this.restEncoder,e)}}class re extends ne{writeLeftID(e){c.n(this.restEncoder,e.client),c.n(this.restEncoder,e.clock)}writeRightID(e){c.n(this.restEncoder,e.client),c.n(this.restEncoder,e.clock)}writeClient(e){c.n(this.restEncoder,e)}writeInfo(e){c.j(this.restEncoder,e)}writeString(e){c.m(this.restEncoder,e)}writeParentInfo(e){c.n(this.restEncoder,e?1:0)}writeTypeRef(e){c.n(this.restEncoder,e)}writeLen(e){c.n(this.restEncoder,e)}writeAny(e){c.h(this.restEncoder,e)}writeBuf(e){c.o(this.restEncoder,e)}writeJSON(e){c.m(this.restEncoder,JSON.stringify(e))}writeKey(e){c.m(this.restEncoder,e)}}class oe{constructor(){this.restEncoder=c.e(),this.dsCurrVal=0}toUint8Array(){return c.g(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,c.n(this.restEncoder,t)}writeDsLen(e){0===e&&p.c(),c.n(this.restEncoder,e-1),this.dsCurrVal+=e}}class ie extends oe{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new c.a,this.clientEncoder=new c.d,this.leftClockEncoder=new c.a,this.rightClockEncoder=new c.a,this.infoEncoder=new c.b(c.j),this.stringEncoder=new c.c,this.parentInfoEncoder=new c.b(c.j),this.typeRefEncoder=new c.d,this.lenEncoder=new c.d}toUint8Array(){const e=c.e();return c.n(e,0),c.o(e,this.keyClockEncoder.toUint8Array()),c.o(e,this.clientEncoder.toUint8Array()),c.o(e,this.leftClockEncoder.toUint8Array()),c.o(e,this.rightClockEncoder.toUint8Array()),c.o(e,c.g(this.infoEncoder)),c.o(e,this.stringEncoder.toUint8Array()),c.o(e,c.g(this.parentInfoEncoder)),c.o(e,this.typeRefEncoder.toUint8Array()),c.o(e,this.lenEncoder.toUint8Array()),c.k(e,c.g(this.restEncoder)),c.g(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){c.h(this.restEncoder,e)}writeBuf(e){c.o(this.restEncoder,e)}writeJSON(e){c.h(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}const ae=(e,t,n)=>{const r=new Map;n.forEach((e,n)=>{Ue(t,n)>e&&r.set(n,e)}),ze(t).forEach((e,t)=>{n.has(t)||r.set(t,0)}),c.n(e.restEncoder,r.size),Array.from(r.entries()).sort((e,t)=>t[0]-e[0]).forEach(([n,r])=>{((e,t,n,r)=>{r=i.f(r,t[0].id.clock);const o=We(t,r);c.n(e.restEncoder,t.length-o),e.writeClient(n),c.n(e.restEncoder,r);const a=t[o];a.write(e,r-a.id.clock);for(let n=o+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(n),n,r)})},ce=(e,t,n,r=new te(e))=>nt(t,e=>{e.local=!1;let t=!1;const n=e.doc,o=n.store,i=((e,t,n)=>{const r=[];let o=Array.from(n.keys()).sort((e,t)=>e-t);if(0===o.length)return null;const i=()=>{if(0===o.length)return null;let e=n.get(o[o.length-1]);for(;e.refs.length===e.i;){if(o.pop(),!(o.length>0))return null;e=n.get(o[o.length-1])}return e};let s=i();if(null===s&&0===r.length)return null;const u=new Fe,l=new Map,d=(e,t)=>{const n=l.get(e);(null==n||n>t)&&l.set(e,t)};let f=s.refs[s.i++];const p=new Map,h=()=>{for(const e of r){const t=e.id.client,r=n.get(t);r?(r.i--,u.clients.set(t,r.refs.slice(r.i)),n.delete(t),r.i=0,r.refs=[]):u.clients.set(t,[e]),o=o.filter(e=>e!==t)}r.length=0};for(;;){if(f.constructor!==Hn){const o=a.e(p,f.id.client,()=>Ue(t,f.id.client))-f.id.clock;if(o<0)r.push(f),d(f.id.client,f.id.clock-1),h();else{const i=f.getMissing(e,t);if(null!==i){r.push(f);const e=n.get(i)||{refs:[],i:0};if(e.refs.length!==e.i){f=e.refs[e.i++];continue}d(i,Ue(t,i)),h()}else(0===o||o<f.length)&&(f.integrate(e,o),p.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(null!==s&&s.i<s.refs.length)f=s.refs[s.i++];else{if(s=i(),null===s)break;f=s.refs[s.i++]}}if(u.clients.size>0){const e=new ie;return ae(e,u,new Map),c.n(e.restEncoder,0),{missing:l,update:e.toUint8Array()}}return null})(e,o,((e,t)=>{const n=a.c(),r=s.k(e.restDecoder);for(let o=0;o<r;o++){const r=s.k(e.restDecoder),o=new Array(r),i=e.readClient();let a=s.k(e.restDecoder);n.set(i,{i:0,refs:o});for(let n=0;n<r;n++){const r=e.readInfo();switch(h.k&r){case 0:{const t=e.readLen();o[n]=new vn(xe(i,a),t),a+=t;break}case 10:{const t=s.k(e.restDecoder);o[n]=new Hn(xe(i,a),t),a+=t;break}default:{const c=0==(r&(h.f|h.g)),s=new Fn(xe(i,a),null,(r&h.g)===h.g?e.readLeftID():null,null,(r&h.f)===h.f?e.readRightID():null,c?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,c&&(r&h.e)===h.e?e.readString():null,zn(e,r));o[n]=s,a+=s.length}}}}return n})(r,n)),u=o.pendingStructs;if(u){for(const[e,n]of u.missing)if(n<Ue(o,e)){t=!0;break}if(i){for(const[e,t]of i.missing){const n=u.missing.get(e);(null==n||n>t)&&u.missing.set(e,t)}u.update=dt([u.update,i.update])}}else o.pendingStructs=i;const l=Y(r,e,o);if(o.pendingDs){const t=new te(s.e(o.pendingDs));s.k(t.restDecoder);const n=Y(t,e,o);o.pendingDs=l&&n?dt([l,n]):l||n}else o.pendingDs=l;if(t){const t=o.pendingStructs.update;o.pendingStructs=null,se(e.doc,t)}},n,!1),se=(e,t,n,r=te)=>{const o=s.e(t);ce(o,e,n,new r(o))},ue=(e,t,n)=>se(e,t,n,Q),le=(e,t=new Uint8Array([0]),n=new ie)=>{((e,t,n=new Map)=>{ae(e,t.store,n),K(e,G(t.store))})(n,e,pe(t));const r=[n.toUint8Array()];if(e.store.pendingDs&&r.push(e.store.pendingDs),e.store.pendingStructs&&r.push(ft(e.store.pendingStructs.update,t)),r.length>1){if(n.constructor===re)return ut(r.map((e,t)=>0===t?e:bt(e)));if(n.constructor===ie)return dt(r)}return r[0]},de=(e,t)=>le(e,t,new re),fe=e=>{const t=new Map,n=s.k(e.restDecoder);for(let r=0;r<n;r++){const n=s.k(e.restDecoder),r=s.k(e.restDecoder);t.set(n,r)}return t},pe=e=>fe(new Z(s.e(e))),he=(e,t)=>(c.n(e.restEncoder,t.size),Array.from(t.entries()).sort((e,t)=>t[0]-e[0]).forEach(([t,n])=>{c.n(e.restEncoder,t),c.n(e.restEncoder,n)}),e),me=(e,t=new oe)=>(e instanceof Map?he(t,e):((e,t)=>{he(e,ze(t.store))})(t,e),t.toUint8Array()),ve=e=>me(e,new ne);class be{constructor(){this.l=[]}}const ge=()=>new be,ye=(e,t)=>e.l.push(t),Oe=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(e=>t!==e),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},we=(e,t,n)=>m.a(e.l,[t,n]);class ke{constructor(e,t){this.client=e,this.clock=t}}const Ee=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,xe=(e,t)=>new ke(e,t),Se=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw p.c()},je=(e,t)=>{for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1};class Ce{constructor(e,t,n,r=0){this.type=e,this.tname=t,this.item=n,this.assoc=r}}const Te=e=>new Ce(null==e.type?null:xe(e.type.client,e.type.clock),e.tname||null,null==e.item?null:xe(e.item.client,e.item.clock),null==e.assoc?0:e.assoc);class _e{constructor(e,t,n=0){this.type=e,this.index=t,this.assoc=n}}const Ae=(e,t,n)=>{let r=null,o=null;return null===e._item?o=Se(e):r=xe(e._item.id.client,e._item.id.clock),new Ce(r,o,t,n)},Pe=(e,t,n=0)=>{let r=e._start;if(n<0){if(0===t)return Ae(e,null,n);t--}for(;null!==r;){if(!r.deleted&&r.countable){if(r.length>t)return Ae(e,xe(r.id.client,r.id.clock+t),n);t-=r.length}if(null===r.right&&n<0)return Ae(e,r.lastId,n);r=r.right}return Ae(e,null,n)},Ie=(e,t)=>{const n=t.store,r=e.item,o=e.type,i=e.tname,a=e.assoc;let c=null,s=0;if(null!==r){if(Ue(n,r.client)<=r.clock)return null;const e=Nn(n,r),t=e.item;if(!(t instanceof Fn))return null;if(c=t.parent,null===c._item||!c._item.deleted){s=t.deleted||!t.countable?0:e.diff+(a>=0?0:1);let n=t.left;for(;null!==n;)!n.deleted&&n.countable&&(s+=n.length),n=n.left}}else{if(null!==i)c=t.get(i);else{if(null===o)throw p.c();{if(Ue(n,o.client)<=o.clock)return null;const{item:e}=Nn(n,o);if(!(e instanceof Fn&&e.content instanceof Rn))return null;c=e.content.type}}s=a>=0?c._length:0}return((e,t,n=0)=>new _e(e,t,n))(c,s,e.assoc)},Me=(e,t)=>e===t||null!==e&&null!==t&&e.tname===t.tname&&Ee(e.item,t.item)&&Ee(e.type,t.type)&&e.assoc===t.assoc;class Re{constructor(e,t){this.ds=e,this.sv=t}}const Ne=(e,t)=>new Re(e,t),De=(Ne(q(),new Map),e=>Ne(G(e.store),ze(e.store))),Le=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!U(t.ds,e.id),Be=(e,t)=>{const n=a.e(e.meta,Be,v.a),r=e.doc.store;n.has(t)||(t.sv.forEach((t,n)=>{t<Ue(r,n)&&Ge(e,xe(n,t))}),z(e,t.ds,e=>{}),n.add(t))};class Fe{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ze=e=>{const t=new Map;return e.clients.forEach((e,n)=>{const r=e[e.length-1];t.set(n,r.id.clock+r.length)}),t},Ue=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},He=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw p.c()}n.push(t)},We=(e,t)=>{let n=0,r=e.length-1,o=e[r],a=o.id.clock;if(a===t)return r;let c=i.c(t/(a+o.length-1)*r);for(;n<=r;){if(o=e[c],a=o.id.clock,a<=t){if(t<a+o.length)return c;n=c+1}else r=c-1;c=i.c((n+r)/2)}throw p.c()},Ve=(e,t)=>{const n=e.clients.get(t.client);return n[We(n,t.clock)]},qe=(e,t,n)=>{const r=We(t,n),o=t[r];return o.id.clock<n&&o instanceof Fn?(t.splice(r+1,0,Ln(e,o,n-o.id.clock)),r+1):r},Ge=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[qe(e,n,t.clock)]},Ke=(e,t,n)=>{const r=t.clients.get(n.client),o=We(r,n.clock),i=r[o];return n.clock!==i.id.clock+i.length-1&&i.constructor!==vn&&r.splice(o+1,0,Ln(e,i,n.clock-i.id.clock+1)),i},$e=(e,t,n,r,o)=>{if(0===r)return;const i=n+r;let a,c=qe(e,t,n);do{a=t[c++],i<a.id.clock+a.length&&qe(e,t,i),o(a)}while(c<t.length&&t[c].id.clock<i)};class Ye{constructor(e,t,n){this.doc=e,this.deleteSet=new F,this.beforeState=ze(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const Xe=(e,t)=>!(0===t.deleteSet.clients.size&&!a.a(t.afterState,(e,n)=>t.beforeState.get(n)!==e))&&(H(t.deleteSet),((e,t)=>{ae(e,t.doc.store,t.beforeState)})(e,t),K(e,t.deleteSet),!0),Je=(e,t,n)=>{const r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&a.e(e.changed,t,v.a).add(n)},Ze=(e,t)=>{const n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof Fn&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},Qe=(e,t,n)=>{for(const[r,o]of e.clients.entries()){const e=t.clients.get(r);for(let r=o.length-1;r>=0;r--){const i=o[r],a=i.clock+i.len;for(let r=We(e,i.clock),o=e[r];r<e.length&&o.id.clock<a;o=e[++r]){const o=e[r];if(i.clock+i.len<=o.id.clock)break;o instanceof Fn&&o.deleted&&!o.keep&&n(o)&&o.gc(t,!1)}}}},et=(e,t)=>{e.clients.forEach((e,n)=>{const r=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=i.g(r.length-1,1+We(r,n.clock+n.len-1)),t=r[e];e>0&&t.id.clock>=n.clock;t=r[--e])Ze(r,e)}})},tt=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,o=r.store,a=n.deleteSet,c=n._mergeStructs;try{H(a),n.afterState=ze(n.doc.store),r._transaction=null,r.emit("beforeObserverCalls",[n,r]);const s=[];n.changed.forEach((e,t)=>s.push(()=>{null!==t._item&&t._item.deleted||t._callObserver(n,e)})),s.push(()=>{n.changedParentTypes.forEach((e,t)=>s.push(()=>{null!==t._item&&t._item.deleted||((e=e.filter(e=>null===e.target._item||!e.target._item.deleted)).forEach(e=>{e.currentTarget=t}),e.sort((e,t)=>e.path.length-t.path.length),we(t._dEH,e,n))})),s.push(()=>r.emit("afterTransaction",[n,r]))}),Object(m.a)(s,[])}finally{r.gc&&Qe(a,o,r.gcFilter),et(a,o),n.afterState.forEach((e,t)=>{const r=n.beforeState.get(t)||0;if(r!==e){const e=o.clients.get(t),n=i.f(We(e,r),1);for(let t=e.length-1;t>=n;t--)Ze(e,t)}});for(let e=0;e<c.length;e++){const{client:t,clock:n}=c[e].id,r=o.clients.get(t),i=We(r,n);i+1<r.length&&Ze(r,i+1),i>0&&Ze(r,i)}if(n.local||n.afterState.get(r.clientID)===n.beforeState.get(r.clientID)||(M(T,w,"[yjs] ",k,j,"Changed the client-id because another client seems to be using it."),r.clientID=X()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const e=new re;Xe(e,n)&&r.emit("update",[e.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const e=new ie;Xe(e,n)&&r.emit("updateV2",[e.toUint8Array(),n.origin,r,n])}const{subdocsAdded:s,subdocsLoaded:u,subdocsRemoved:l}=n;(s.size>0||l.size>0||u.size>0)&&(s.forEach(e=>{e.clientID=r.clientID,null==e.collectionid&&(e.collectionid=r.collectionid),r.subdocs.add(e)}),l.forEach(e=>r.subdocs.delete(e)),r.emit("subdocs",[{loaded:u,added:s,removed:l},r,n]),l.forEach(e=>e.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):tt(e,t+1)}}},nt=(e,t,n=null,r=!0)=>{const o=e._transactionCleanups;let i=!1;null===e._transaction&&(i=!0,e._transaction=new Ye(e,n,r),o.push(e._transaction),1===o.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{i&&o[0]===e._transaction&&tt(o,0)}};class rt{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}const ot=(e,t,n)=>{z(e,n.deletions,e=>{e instanceof Fn&&t.scope.some(t=>je(t,e))&&Dn(e,!1)})},it=(e,t,n)=>{let r=null,o=null;const i=e.doc,a=e.scope;if(nt(i,n=>{for(;t.length>0&&null===r;){const o=i.store,c=t.pop(),s=new Set,u=[];let l=!1;z(n,c.insertions,e=>{if(e instanceof Fn){if(null!==e.redone){let{item:t,diff:r}=Nn(o,e.id);r>0&&(t=Ge(n,xe(t.id.client,t.id.clock+r))),e=t}!e.deleted&&a.some(t=>je(t,e))&&u.push(e)}}),z(n,c.deletions,e=>{e instanceof Fn&&a.some(t=>je(t,e))&&!U(c.insertions,e.id)&&s.add(e)}),s.forEach(t=>{l=null!==Bn(n,t,s,c.insertions,e.ignoreRemoteMapChanges)||l});for(let t=u.length-1;t>=0;t--){const r=u[t];e.deleteFilter(r)&&(r.delete(n),l=!0)}r=l?c:null}n.changed.forEach((e,t)=>{e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)}),o=n},e),null!=r){const t=o.changedParentTypes;e.emit("stack-item-popped",[{stackItem:r,type:n,changedParentTypes:t},e])}return r};class at extends r.a{constructor(e,{captureTimeout:t=500,captureTransaction:n=(e=>!0),deleteFilter:r=(()=>!0),trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:a=!1,doc:c=(o.d(e)?e[0].doc:e.doc)}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=c,this.lastChange=0,this.ignoreRemoteMapChanges=a,this.afterTransactionHandler=e=>{if(!(this.captureTransaction(e)&&this.scope.some(t=>e.changedParentTypes.has(t))&&(this.trackedOrigins.has(e.origin)||e.origin&&this.trackedOrigins.has(e.origin.constructor))))return;const n=this.undoing,r=this.redoing,o=n?this.redoStack:this.undoStack;n?this.stopCapturing():r||this.clear(!1,!0);const i=new F;e.afterState.forEach((t,n)=>{const r=e.beforeState.get(n)||0,o=t-r;o>0&&V(i,n,r,o)});const a=l.a();let c=!1;if(a-this.lastChange<t&&o.length>0&&!n&&!r){const t=o[o.length-1];t.deletions=W([t.deletions,e.deleteSet]),t.insertions=W([t.insertions,i])}else o.push(new rt(e.deleteSet,i)),c=!0;n||r||(this.lastChange=a),z(e,e.deleteSet,e=>{e instanceof Fn&&this.scope.some(t=>je(t,e))&&Dn(e,!0)});const s=[{stackItem:o[o.length-1],origin:e.origin,type:n?"redo":"undo",changedParentTypes:e.changedParentTypes},this];c?this.emit("stack-item-added",s):this.emit("stack-item-updated",s)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){(e=o.d(e)?e:[e]).forEach(e=>{this.scope.every(t=>t!==e)&&this.scope.push(e)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(e=>ot(n,this,e)),this.undoStack=[]),t&&(this.redoStack.forEach(e=>ot(n,this,e)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])})}stopCapturing(){this.lastChange=0}undo(){let e;this.undoing=!0;try{e=it(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){let e;this.redoing=!0;try{e=it(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class ct{constructor(e,t){this.gen=function*(e){const t=s.k(e.restDecoder);for(let n=0;n<t;n++){const t=s.k(e.restDecoder),n=e.readClient();let r=s.k(e.restDecoder);for(let o=0;o<t;o++){const t=e.readInfo();if(10===t){const t=s.k(e.restDecoder);yield new Hn(xe(n,r),t),r+=t}else if(0!=(h.k&t)){const o=0==(t&(h.f|h.g)),i=new Fn(xe(n,r),null,(t&h.g)===h.g?e.readLeftID():null,null,(t&h.f)===h.f?e.readRightID():null,o?e.readParentInfo()?e.readString():e.readLeftID():null,o&&(t&h.e)===h.e?e.readString():null,zn(e,t));yield i,r+=i.length}else{const t=e.readLen();yield new vn(xe(n,r),t),r+=t}}}}(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Hn);return this.curr}}class st{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const ut=e=>dt(e,Q,re),lt=(e,t)=>{if(e.constructor===vn){const{client:n,clock:r}=e.id;return new vn(xe(n,r+t),e.length-t)}if(e.constructor===Hn){const{client:n,clock:r}=e.id;return new Hn(xe(n,r+t),e.length-t)}{const n=e,{client:r,clock:o}=n.id;return new Fn(xe(r,o+t),null,xe(r,o+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},dt=(e,t=te,n=ie)=>{if(1===e.length)return e[0];const r=e.map(e=>new t(s.e(e)));let o=r.map(e=>new ct(e,!0)),i=null;const a=new n,c=new st(a);for(;o=o.filter(e=>null!==e.curr),o.sort((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===Hn?1:-1:n}return t.curr.id.client-e.curr.id.client}),0!==o.length;){const e=o[0],t=e.curr.id.client;if(null!==i){let n=e.curr,r=!1;for(;null!==n&&n.id.clock+n.length<=i.struct.id.clock+i.struct.length&&n.id.client>=i.struct.id.client;)n=e.next(),r=!0;if(null===n||n.id.client!==t||r&&n.id.clock>i.struct.id.clock+i.struct.length)continue;if(t!==i.struct.id.client)ht(c,i.struct,i.offset),i={struct:n,offset:0},e.next();else if(i.struct.id.clock+i.struct.length<n.id.clock)if(i.struct.constructor===Hn)i.struct.length=n.id.clock+n.length-i.struct.id.clock;else{ht(c,i.struct,i.offset);const e=n.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Hn(xe(t,i.struct.id.clock+i.struct.length),e),offset:0}}else{const t=i.struct.id.clock+i.struct.length-n.id.clock;t>0&&(i.struct.constructor===Hn?i.struct.length-=t:n=lt(n,t)),i.struct.mergeWith(n)||(ht(c,i.struct,i.offset),i={struct:n,offset:0},e.next())}}else i={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===i.struct.id.clock+i.struct.length&&n.constructor!==Hn;n=e.next())ht(c,i.struct,i.offset),i={struct:n,offset:0}}null!==i&&(ht(c,i.struct,i.offset),i=null),mt(c);const u=r.map(e=>$(e)),l=W(u);return K(a,l),a.toUint8Array()},ft=(e,t,n=te,r=ie)=>{const o=pe(t),a=new r,c=new st(a),u=new n(s.e(e)),l=new ct(u,!1);for(;l.curr;){const e=l.curr,t=e.id.client,n=o.get(t)||0;if(l.curr.constructor!==Hn)if(e.id.clock+e.length>n)for(ht(c,e,i.f(n-e.id.clock,0)),l.next();l.curr&&l.curr.id.client===t;)ht(c,l.curr,0),l.next();else for(;l.curr&&l.curr.id.client===t&&l.curr.id.clock+l.curr.length<=n;)l.next();else l.next()}mt(c);const d=$(u);return K(a,d),a.toUint8Array()},pt=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:c.g(e.encoder.restEncoder)}),e.encoder.restEncoder=c.e(),e.written=0)},ht=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&pt(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),c.n(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},mt=e=>{pt(e);const t=e.encoder.restEncoder;c.n(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];c.n(t,r.written),c.k(t,r.restEncoder)}},vt=(e,t,n)=>{const r=new t(s.e(e)),o=new ct(r,!1),i=new n,a=new st(i);for(let e=o.curr;null!==e;e=o.next())ht(a,e,0);mt(a);const c=$(r);return K(i,c),i.toUint8Array()},bt=e=>vt(e,te,re);class gt{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null}get path(){return yt(this.currentTarget,this.target)}deletes(e){return U(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){const e=new Map,t=this.target;this.transaction.changed.get(t).forEach(n=>{if(null!==n){const r=t._map.get(n);let i,a;if(this.adds(r)){let e=r.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(r)){if(null===e||!this.deletes(e))return;i="delete",a=o.e(e.content.getContent())}else null!==e&&this.deletes(e)?(i="update",a=o.e(e.content.getContent())):(i="add",a=void 0)}else{if(!this.deletes(r))return;i="delete",a=o.e(r.content.getContent())}e.set(n,{action:i,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){const t=this.target,n=v.a(),r=v.a(),o=[];e={added:n,deleted:r,delta:o,keys:this.keys};if(this.transaction.changed.get(t).has(null)){let e=null;const i=()=>{e&&o.push(e)};for(let o=t._start;null!==o;o=o.right)o.deleted?this.deletes(o)&&!this.adds(o)&&(null!==e&&void 0!==e.delete||(i(),e={delete:0}),e.delete+=o.length,r.add(o)):this.adds(o)?(null!==e&&void 0!==e.insert||(i(),e={insert:[]}),e.insert=e.insert.concat(o.content.getContent()),n.add(o)):(null!==e&&void 0!==e.retain||(i(),e={retain:0}),e.retain+=o.length);null!==e&&void 0===e.retain&&i()}this._changes=e}return e}}const yt=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,r=t._item.parent._start;for(;r!==t._item&&null!==r;)r.deleted||e++,r=r.right;n.unshift(e)}t=t._item.parent}return n};let Ot=0;class wt{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=Ot++}}const kt=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Ot++},Et=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce((e,n)=>i.a(t-e.index)<i.a(t-n.index)?e:n);let r=e._start,o=0;for(null!==n&&(r=n.p,o=n.index,(e=>{e.timestamp=Ot++})(n));null!==r.right&&o<t;){if(!r.deleted&&r.countable){if(t<o+r.length)break;o+=r.length}r=r.right}for(;null!==r.left&&o>t;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(o-=r.length);return null!==n&&i.a(n.index-o)<r.parent.length/80?(kt(n,r,o),n):((e,t,n)=>{if(e.length>=80){const r=e.reduce((e,t)=>e.timestamp<t.timestamp?e:t);return kt(r,t,n),r}{const r=new wt(t,n);return e.push(r),r}})(e._searchMarker,r,o)},xt=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const o=e[r];if(n>0){let t=o.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(o.index-=t.length);if(null===t||!0===t.marker){e.splice(r,1);continue}o.p=t,t.marker=!0}(t<o.index||n>0&&t===o.index)&&(o.index=i.f(t,o.index+n))}},St=(e,t,n)=>{const r=e,o=t.changedParentTypes;for(;a.e(o,e,()=>[]).push(n),null!==e._item;)e=e._item.parent;we(r._eH,n,t)};class jt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ge(),this._dEH=ge(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw p.b()}clone(){throw p.b()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){ye(this._eH,e)}observeDeep(e){ye(this._dEH,e)}unobserve(e){Oe(this._eH,e)}unobserveDeep(e){Oe(this._dEH,e)}toJSON(){}}const Ct=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const o=[];let i=e._start;for(;null!==i&&r>0;){if(i.countable&&!i.deleted){const e=i.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&r>0;n++)o.push(e[n]),r--;t=0}}i=i.right}return o},Tt=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},_t=(e,t)=>{const n=[];let r=e._start;for(;null!==r;){if(r.countable&&Le(r,t)){const e=r.content.getContent();for(let t=0;t<e.length;t++)n.push(e[t])}r=r.right}return n},At=(e,t)=>{let n=0,r=e._start;for(;null!==r;){if(r.countable&&!r.deleted){const o=r.content.getContent();for(let r=0;r<o.length;r++)t(o[r],n++,e)}r=r.right}},Pt=(e,t)=>{const n=[];return At(e,(r,o)=>{n.push(t(r,o,e))}),n},It=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const e=n[r++];return n.length<=r&&(n=null),{done:!1,value:e}}}},Mt=(e,t)=>{const n=Et(e,t);let r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Rt=(e,t,n,r)=>{let o=n;const i=e.doc,a=i.clientID,c=i.store,s=null===n?t._start:n.right;let u=[];const l=()=>{u.length>0&&(o=new Fn(xe(a,Ue(c,a)),o,o&&o.lastId,s,s&&s.id,t,null,new xn(u)),o.integrate(e,0),u=[])};r.forEach(n=>{if(null===n)u.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(n);break;default:switch(l(),n.constructor){case Uint8Array:case ArrayBuffer:o=new Fn(xe(a,Ue(c,a)),o,o&&o.lastId,s,s&&s.id,t,null,new bn(new Uint8Array(n))),o.integrate(e,0);break;case J:o=new Fn(xe(a,Ue(c,a)),o,o&&o.lastId,s,s&&s.id,t,null,new On(n)),o.integrate(e,0);break;default:if(!(n instanceof jt))throw new Error("Unexpected content type in insert operation");o=new Fn(xe(a,Ue(c,a)),o,o&&o.lastId,s,s&&s.id,t,null,new Rn(n)),o.integrate(e,0)}}}),l()},Nt=p.a("Length exceeded!"),Dt=(e,t,n,r)=>{if(n>t._length)throw Nt;if(0===n)return t._searchMarker&&xt(t._searchMarker,n,r.length),Rt(e,t,null,r);const o=n,i=Et(t,n);let a=t._start;for(null!==i&&(a=i.p,0===(n-=i.index)&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));null!==a;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Ge(e,xe(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&xt(t._searchMarker,o,r.length),Rt(e,t,a,r)},Lt=(e,t,n,r)=>{if(0===r)return;const o=n,i=r,a=Et(t,n);let c=t._start;for(null!==a&&(c=a.p,n-=a.index);null!==c&&n>0;c=c.right)!c.deleted&&c.countable&&(n<c.length&&Ge(e,xe(c.id.client,c.id.clock+n)),n-=c.length);for(;r>0&&null!==c;)c.deleted||(r<c.length&&Ge(e,xe(c.id.client,c.id.clock+r)),c.delete(e),r-=c.length),c=c.right;if(r>0)throw Nt;t._searchMarker&&xt(t._searchMarker,o,-i+r)},Bt=(e,t,n)=>{const r=t._map.get(n);void 0!==r&&r.delete(e)},Ft=(e,t,n,r)=>{const o=t._map.get(n)||null,i=e.doc,a=i.clientID;let c;if(null==r)c=new xn([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:c=new xn([r]);break;case Uint8Array:c=new bn(r);break;case J:c=new On(r);break;default:if(!(r instanceof jt))throw new Error("Unexpected content type");c=new Rn(r)}new Fn(xe(a,Ue(i.store,a)),o,o&&o.lastId,null,null,t,n,c).integrate(e,0)},zt=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Ut=e=>{const t={};return e._map.forEach((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])}),t},Ht=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Wt=e=>{return t=e.entries(),n=e=>!e[1].deleted,N(()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e});var t,n};class Vt extends gt{constructor(e,t){super(e,t),this._transaction=t}}class qt extends jt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new qt;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qt}clone(){const e=new qt;return e.insert(0,this.toArray().map(e=>e instanceof jt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),St(this,e,new Vt(this,e))}insert(e,t){null!==this.doc?nt(this.doc,n=>{Dt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?nt(this.doc,t=>{((e,t,n)=>{let r=(t._searchMarker||[]).reduce((e,t)=>t.index>e.index?t:e,{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;Rt(e,t,r,n)})(t,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?nt(this.doc,n=>{Lt(n,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return Mt(this,e)}toArray(){return Tt(this)}slice(e=0,t=this.length){return Ct(this,e,t)}toJSON(){return this.map(e=>e instanceof jt?e.toJSON():e)}map(e){return Pt(this,e)}forEach(e){At(this,e)}[Symbol.iterator](){return It(this)}_write(e){e.writeTypeRef(Cn)}}class Gt extends gt{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Kt extends jt{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((e,t)=>{this.set(t,e)}),this._prelimContent=null}_copy(){return new Kt}clone(){const e=new Kt;return this.forEach((t,n)=>{e.set(n,t instanceof jt?t.clone():t)}),e}_callObserver(e,t){St(this,e,new Gt(this,e,t))}toJSON(){const e={};return this._map.forEach((t,n)=>{if(!t.deleted){const r=t.content.getContent()[t.length-1];e[n]=r instanceof jt?r.toJSON():r}}),e}get size(){return[...Wt(this._map)].length}keys(){return D(Wt(this._map),e=>e[0])}values(){return D(Wt(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return D(Wt(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){return this._map.forEach((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}),{}}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?nt(this.doc,t=>{Bt(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?nt(this.doc,n=>{Ft(n,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return zt(this,e)}has(e){return Ht(this,e)}clear(){null!==this.doc?nt(this.doc,e=>{this.forEach((function(t,n,r){Bt(e,r,n)}))}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Tn)}}const $t=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&L.a(e,t);class Yt{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){switch(null===this.right&&p.c(),this.right.content.constructor){case kn:this.right.deleted||Qt(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length)}this.left=this.right,this.right=this.right.right}}const Xt=(e,t,n)=>{for(;null!==t.right&&n>0;){switch(t.right.content.constructor){case kn:t.right.deleted||Qt(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Ge(e,xe(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length)}t.left=t.right,t.right=t.right.right}return t},Jt=(e,t,n)=>{const r=new Map,o=Et(t,n);if(o){const t=new Yt(o.p.left,o.p,o.index,r);return Xt(e,t,n-o.index)}{const o=new Yt(null,t._start,0,r);return Xt(e,o,n)}},Zt=(e,t,n,r)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===kn&&$t(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const o=e.doc,i=o.clientID;r.forEach((r,a)=>{const c=n.left,s=n.right,u=new Fn(xe(i,Ue(o.store,i)),c,c&&c.lastId,s,s&&s.id,t,null,new kn(a,r));u.integrate(e,0),n.right=u,n.forward()})},Qt=(e,t)=>{const{key:n,value:r}=t;null===r?e.delete(n):e.set(n,r)},en=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===kn&&$t(t[e.right.content.key]||null,e.right.content.value));)e.forward()},tn=(e,t,n,r)=>{const o=e.doc,i=o.clientID,a=new Map;for(const c in r){const s=r[c],u=n.currentAttributes.get(c)||null;if(!$t(u,s)){a.set(c,u);const{left:r,right:l}=n;n.right=new Fn(xe(i,Ue(o.store,i)),r,r&&r.lastId,l,l&&l.id,t,null,new kn(c,s)),n.right.integrate(e,0),n.forward()}}return a},nn=(e,t,n,r,o)=>{n.currentAttributes.forEach((e,t)=>{void 0===o[t]&&(o[t]=null)});const i=e.doc,a=i.clientID;en(n,o);const c=tn(e,t,n,o),s=r.constructor===String?new Sn(r):r instanceof jt?new Rn(r):new wn(r);let{left:u,right:l,index:d}=n;t._searchMarker&&xt(t._searchMarker,n.index,s.getLength()),l=new Fn(xe(a,Ue(i.store,a)),u,u&&u.lastId,l,l&&l.id,t,null,s),l.integrate(e,0),n.right=l,n.index=d,n.forward(),Zt(e,t,n,c)},rn=(e,t,n,r,o)=>{const i=e.doc,a=i.clientID;en(n,o);const c=tn(e,t,n,o);e:for(;null!==n.right&&(r>0||c.size>0&&(n.right.deleted||n.right.content.constructor===kn));){if(!n.right.deleted)switch(n.right.content.constructor){case kn:{const{key:t,value:i}=n.right.content,a=o[t];if(void 0!==a){if($t(a,i))c.delete(t);else{if(0===r)break e;c.set(t,i)}n.right.delete(e)}else n.currentAttributes.set(t,i);break}default:r<n.right.length&&Ge(e,xe(n.right.id.client,n.right.id.clock+r)),r-=n.right.length}n.forward()}if(r>0){let o="";for(;r>0;r--)o+="\n";n.right=new Fn(xe(a,Ue(i.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Sn(o)),n.right.integrate(e,0),n.forward()}Zt(e,t,n,c)},on=(e,t,n,r,o)=>{let i=n;const c=a.b(o);for(;i&&(!i.countable||i.deleted);)i.deleted||i.content.constructor!==kn||Qt(c,i.content),i=i.right;let s=0,u=!1;for(;t!==i;){if(n===t&&(u=!0),!t.deleted){const n=t.content;switch(n.constructor){case kn:{const{key:i,value:a}=n;(c.get(i)||null)===a&&(r.get(i)||null)!==a||(t.delete(e),s++,u||(o.get(i)||null)!==a||(r.get(i)||null)===a||o.delete(i));break}}}t=t.right}return s},an=(e,t,n)=>{const r=n,o=a.b(t.currentAttributes),i=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case Rn:case wn:case Sn:n<t.right.length&&Ge(e,xe(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}i&&on(e,i,t.right,o,t.currentAttributes);const c=(t.left||t.right).parent;return c._searchMarker&&xt(c._searchMarker,t.index,-r+n),t};class cn extends gt{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)})}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];nt(e,e=>{const n=new Map,r=new Map;let o=this.target._start,i=null;const a={};let c="",s=0,u=0;const l=()=>{if(null!==i){let e;switch(i){case"delete":e={delete:u},u=0;break;case"insert":e={insert:c},n.size>0&&(e.attributes={},n.forEach((t,n)=>{null!==t&&(e.attributes[n]=t)})),c="";break;case"retain":if(e={retain:s},Object.keys(a).length>0){e.attributes={};for(const t in a)e.attributes[t]=a[t]}s=0}t.push(e),i=null}};for(;null!==o;){switch(o.content.constructor){case Rn:case wn:this.adds(o)?this.deletes(o)||(l(),i="insert",c=o.content.getContent()[0],l()):this.deletes(o)?("delete"!==i&&(l(),i="delete"),u+=1):o.deleted||("retain"!==i&&(l(),i="retain"),s+=1);break;case Sn:this.adds(o)?this.deletes(o)||("insert"!==i&&(l(),i="insert"),c+=o.content.str):this.deletes(o)?("delete"!==i&&(l(),i="delete"),u+=o.length):o.deleted||("retain"!==i&&(l(),i="retain"),s+=o.length);break;case kn:{const{key:t,value:c}=o.content;if(this.adds(o)){if(!this.deletes(o)){const s=n.get(t)||null;$t(s,c)?null!==c&&o.delete(e):("retain"===i&&l(),$t(c,r.get(t)||null)?delete a[t]:a[t]=c)}}else if(this.deletes(o)){r.set(t,c);const e=n.get(t)||null;$t(e,c)||("retain"===i&&l(),a[t]=e)}else if(!o.deleted){r.set(t,c);const n=a[t];void 0!==n&&($t(n,c)?null!==n&&o.delete(e):("retain"===i&&l(),null===c?delete a[t]:a[t]=c))}o.deleted||("insert"===i&&l(),Qt(n,o.content));break}}o=o.right}for(l();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}}),this._delta=t}return this._delta}}class sn extends jt{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(e=>e())}catch(e){console.error(e)}this._pending=null}_copy(){return new sn}clone(){const e=new sn;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new cn(this,e,t),r=e.doc;if(St(this,e,n),!e.local){let t=!1;for(const[n,o]of e.afterState.entries()){const i=e.beforeState.get(n)||0;if(o!==i&&($e(e,r.store.clients.get(n),i,o,e=>{e.deleted||e.content.constructor!==kn||(t=!0)}),t))break}t||z(e,e.deleteSet,e=>{e instanceof vn||t||e.parent===this&&e.content.constructor===kn&&(t=!0)}),nt(r,e=>{t?(e=>{let t=0;nt(e.doc,n=>{let r=e._start,o=e._start,i=a.c();const c=a.b(i);for(;o;){if(!1===o.deleted)switch(o.content.constructor){case kn:Qt(c,o.content);break;default:t+=on(n,r,o,i,c),i=a.b(c),r=o}o=o.right}})})(this):z(e,e.deleteSet,t=>{t instanceof vn||t.parent===this&&((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===kn){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}})(e,t)})})}}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===Sn&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?nt(this.doc,n=>{const r=new Yt(null,this._start,0,new Map);for(let o=0;o<e.length;o++){const i=e[o];if(void 0!==i.insert){const a=t||"string"!=typeof i.insert||o!==e.length-1||null!==r.right||"\n"!==i.insert.slice(-1)?i.insert:i.insert.slice(0,-1);("string"!=typeof a||a.length>0)&&nn(n,this,r,a,i.attributes||{})}else void 0!==i.retain?rn(n,this,r,i.retain,i.attributes||{}):void 0!==i.delete&&an(n,r,i.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,n){const r=[],o=new Map,i=this.doc;let a="",c=this._start;function s(){if(a.length>0){const e={};let t=!1;o.forEach((n,r)=>{t=!0,e[r]=n});const n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}return nt(i,i=>{for(e&&Be(i,e),t&&Be(i,t);null!==c;){if(Le(c,e)||void 0!==t&&Le(c,t))switch(c.content.constructor){case Sn:{const r=o.get("ychange");void 0===e||Le(c,e)?void 0===t||Le(c,t)?void 0!==r&&(s(),o.delete("ychange")):void 0!==r&&r.user===c.id.client&&"added"===r.state||(s(),o.set("ychange",n?n("added",c.id):{type:"added"})):void 0!==r&&r.user===c.id.client&&"removed"===r.state||(s(),o.set("ychange",n?n("removed",c.id):{type:"removed"})),a+=c.content.str;break}case Rn:case wn:{s();const e={insert:c.content.getContent()[0]};if(o.size>0){const t={};e.attributes=t,o.forEach((e,n)=>{t[n]=e})}r.push(e);break}case kn:Le(c,e)&&(s(),Qt(o,c.content))}c=c.right}s()},Be),r}insert(e,t,n){if(t.length<=0)return;const r=this.doc;null!==r?nt(r,r=>{const o=Jt(r,this,e);n||(n={},o.currentAttributes.forEach((e,t)=>{n[t]=e})),nn(r,this,o,t,n)}):this._pending.push(()=>this.insert(e,t,n))}insertEmbed(e,t,n={}){const r=this.doc;null!==r?nt(r,r=>{const o=Jt(r,this,e);nn(r,this,o,t,n)}):this._pending.push(()=>this.insertEmbed(e,t,n))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?nt(n,n=>{an(n,Jt(n,this,e),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,n){if(0===t)return;const r=this.doc;null!==r?nt(r,r=>{const o=Jt(r,this,e);null!==o.right&&rn(r,this,o,t,n)}):this._pending.push(()=>this.format(e,t,n))}removeAttribute(e){null!==this.doc?nt(this.doc,t=>{Bt(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){null!==this.doc?nt(this.doc,n=>{Ft(n,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return zt(this,e)}getAttributes(e){return Ut(this)}_write(e){e.writeTypeRef(_n)}}class un{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==dn&&t.constructor!==ln||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ln extends jt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ln}clone(){const e=new ln;return e.insert(0,this.toArray().map(e=>e instanceof jt?e.clone():e)),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new un(this,e)}querySelector(e){e=e.toUpperCase();const t=new un(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new un(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){St(this,e,new fn(this,t,e))}toString(){return Pt(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),At(this,o=>{r.insertBefore(o.toDOM(e,t,n),null)}),r}insert(e,t){null!==this.doc?nt(this.doc,n=>{Dt(n,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)nt(this.doc,n=>{const r=e&&e instanceof jt?e._item:e;Rt(n,this,r,t)});else{const n=this._prelimContent,r=null===e?0:n.findIndex(t=>t===e)+1;if(0===r&&null!==e)throw p.a("Reference item not found");n.splice(r,0,...t)}}delete(e,t=1){null!==this.doc?nt(this.doc,n=>{Lt(n,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return Tt(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Mt(this,e)}slice(e=0,t=this.length){return Ct(this,e,t)}forEach(e){At(this,e)}_write(e){e.writeTypeRef(Pn)}}class dn extends ln{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((e,t)=>{this.setAttribute(t,e)}),this._prelimAttrs=null}_copy(){return new dn(this.nodeName)}clone(){const e=new dn(this.nodeName),t=this.getAttributes();for(const n in t)e.setAttribute(n,t[n]);return e.insert(0,this.toArray().map(e=>e instanceof jt?e.clone():e)),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const r=n.length;for(let o=0;o<r;o++){const r=n[o];t.push(r+'="'+e[r]+'"')}const o=this.nodeName.toLocaleLowerCase();return`<${o}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${o}>`}removeAttribute(e){null!==this.doc?nt(this.doc,t=>{Bt(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?nt(this.doc,n=>{Ft(n,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return zt(this,e)}hasAttribute(e){return Ht(this,e)}getAttributes(e){return Ut(this)}toDOM(e=document,t={},n){const r=e.createElement(this.nodeName),o=this.getAttributes();for(const e in o)r.setAttribute(e,o[e]);return At(this,o=>{r.appendChild(o.toDOM(e,t,n))}),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(An),e.writeKey(this.nodeName)}}class fn extends gt{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)})}}class pn extends Kt{constructor(e){super(),this.hookName=e}_copy(){return new pn(this.hookName)}clone(){const e=new pn(this.hookName);return this.forEach((t,n)=>{e.set(n,t)}),e}toDOM(e=document,t={},n){const r=t[this.hookName];let o;return o=void 0!==r?r.createDom(this):document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(o,this),o}_write(e){e.writeTypeRef(In),e.writeKey(this.hookName)}}class hn extends sn{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new hn}clone(){const e=new hn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const r=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const t=[];for(const n in e.attributes){const r=[];for(const t in e.attributes[n])r.push({key:t,value:e.attributes[n][t]});r.sort((e,t)=>e.key<t.key?-1:1),t.push({nodeName:n,attrs:r})}t.sort((e,t)=>e.nodeName<t.nodeName?-1:1);let n="";for(let e=0;e<t.length;e++){const r=t[e];n+="<"+r.nodeName;for(let e=0;e<r.attrs.length;e++){const t=r.attrs[e];n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Mn)}}class mn{constructor(e,t){this.id=e,this.length=t}get deleted(){throw p.b()}mergeWith(e){return!1}write(e,t,n){throw p.b()}integrate(e,t){throw p.b()}}class vn extends mn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),He(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class bn{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new bn(this.content)}splice(e){throw p.b()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class gn{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new gn(this.len)}splice(e){const t=new gn(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){V(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const yn=(e,t)=>new J({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class On{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new On(yn(this.doc.guid,this.opts))}splice(e){throw p.b()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class wn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new wn(this.embed)}splice(e){throw p.b()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class kn{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new kn(this.key,this.value)}splice(e){throw p.b()}mergeWith(e){return!1}integrate(e,t){t.parent._searchMarker=null}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class En{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new En(this.arr)}splice(e){const t=new En(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}class xn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new xn(this.arr)}splice(e){const t=new xn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeAny(t)}}getRef(){return 8}}class Sn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Sn(this.str)}splice(e){const t=new Sn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"",t.str=""+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const jn=[e=>new qt,e=>new Kt,e=>new sn,e=>new dn(e.readKey()),e=>new ln,e=>new pn(e.readKey()),e=>new hn],Cn=0,Tn=1,_n=2,An=3,Pn=4,In=5,Mn=6;class Rn{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Rn(this.type._copy())}splice(e){throw p.b()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(t=>{t.deleted?e._mergeStructs.push(t):t.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(t=>{for(;null!==t;)t.gc(e,!0),t=t.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Nn=(e,t)=>{let n,r=t,o=0;do{o>0&&(r=xe(r.client,r.clock+o)),n=Ve(e,r),o=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof Fn);return{item:n,diff:o}},Dn=(e,t)=>{for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},Ln=(e,t,n)=>{const{client:r,clock:o}=t.id,i=new Fn(xe(r,o+n),t,xe(r,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&i.markDeleted(),t.keep&&(i.keep=!0),null!==t.redone&&(i.redone=xe(t.redone.client,t.redone.clock+n)),t.right=i,null!==i.right&&(i.right.left=i),e._mergeStructs.push(i),null!==i.parentSub&&null===i.right&&i.parent._map.set(i.parentSub,i),t.length=n,i},Bn=(e,t,n,r,o)=>{const i=e.doc,a=i.store,c=i.clientID,s=t.redone;if(null!==s)return Ge(e,s);let u,l=t.parent._item,d=null;if(null!==l&&!0===l.deleted){if(null===l.redone&&(!n.has(l)||null===Bn(e,l,n,r,o)))return null;for(;null!==l.redone;)l=Ge(e,l.redone)}const f=null===l?t.parent:l.content.type;if(null===t.parentSub){for(d=t.left,u=t;null!==d;){let t=d;for(;null!==t&&t.parent._item!==l;)t=null===t.redone?null:Ge(e,t.redone);if(null!==t&&t.parent._item===l){d=t;break}d=d.left}for(;null!==u;){let t=u;for(;null!==t&&t.parent._item!==l;)t=null===t.redone?null:Ge(e,t.redone);if(null!==t&&t.parent._item===l){u=t;break}u=u.right}}else if(u=null,t.right&&!o){for(d=t;null!==d&&null!==d.right&&U(r,d.right.id);)d=d.right;for(;null!==d&&null!==d.redone;)d=Ge(e,d.redone);if(d&&null!==d.right)return null}else d=f._map.get(t.parentSub)||null;const p=Ue(a,c),h=xe(c,p),m=new Fn(h,d,d&&d.lastId,u,u&&u.id,f,t.parentSub,t.content.copy());return t.redone=h,Dn(m,!0),m.integrate(e,0),m};class Fn extends mn{constructor(e,t,n,r,o,i,a,c){super(e,c.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=o,this.parent=i,this.parentSub=a,this.redone=null,this.content=c,this.info=this.content.isCountable()?h.b:0}set marker(e){(this.info&h.d)>0!==e&&(this.info^=h.d)}get marker(){return(this.info&h.d)>0}get keep(){return(this.info&h.a)>0}set keep(e){this.keep!==e&&(this.info^=h.a)}get countable(){return(this.info&h.b)>0}get deleted(){return(this.info&h.c)>0}set deleted(e){this.deleted!==e&&(this.info^=h.c)}markDeleted(){this.info|=h.c}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ue(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ue(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ke&&this.id.client!==this.parent.client&&this.parent.clock>=Ue(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Ke(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ge(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===vn||this.right&&this.right.constructor===vn)&&(this.parent=null),this.parent){if(this.parent.constructor===ke){const e=Ve(t,this.parent);e.constructor===vn?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===Fn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Fn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=Ke(e,e.doc.store,xe(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const r=new Set,o=new Set;for(;null!==t&&t!==this.right;){if(o.add(t),r.add(t),Ee(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,r.clear();else if(Ee(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!o.has(Ve(e.doc.store,t.origin)))break;r.has(Ve(e.doc.store,t.origin))||(n=t,r.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),He(e.doc.store,this),this.content.integrate(e,this),Je(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new vn(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:xe(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Ee(e.origin,this.lastId)&&this.right===e&&Ee(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach(t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),V(e.deleteSet,this.id.client,this.id.clock,this.length),Je(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw p.c();this.content.gc(e),t?((e,t,n)=>{const r=e.clients.get(t.id.client);r[We(r,t.id.clock)]=n})(e,this,new vn(this.id,this.length)):this.content=new gn(this.length)}write(e,t){const n=t>0?xe(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,o=this.parentSub,i=this.content.getRef()&h.k|(null===n?0:h.g)|(null===r?0:h.f)|(null===o?0:h.e);if(e.writeInfo(i),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=Se(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===ke?(e.writeParentInfo(!1),e.writeLeftID(t)):p.c();null!==o&&e.writeString(o)}this.content.write(e,t)}}const zn=(e,t)=>Un[t&h.k](e),Un=[()=>{p.c()},e=>new gn(e.readLen()),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new En(n)},e=>new bn(e.readBuf()),e=>new Sn(e.readString()),e=>new wn(e.readJSON()),e=>new kn(e.readKey(),e.readJSON()),e=>new Rn(jn[e.readTypeRef()](e)),e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new xn(n)},e=>new On(yn(e.readString(),e.readAny())),()=>{p.c()}];class Hn extends mn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){p.c()}write(e,t){e.writeInfo(10),c.n(e.restEncoder,this.length-t)}getMissing(e,t){return null}}const Wn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};!0===Wn["__ $YJS$ __"]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Wn["__ $YJS$ __"]=!0},function(e,t,n){"use strict";var r=n(363),o=n(0);var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n(12),s=n(203),u=n(202),l=a,d=function(e){return"theme"!==e&&"innerRef"!==e},f=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?l:d};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){return null},v=function e(t,n){var r,i,a;void 0!==n&&(r=n.label,a=n.target,i=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var l=t.__emotion_real===t,d=l&&t.__emotion_base||t;"function"!=typeof i&&l&&(i=t.__emotion_forwardProp);var p=i||f(d),v=!p("as");return function(){var b=arguments,g=l&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&g.push("label:"+r+";"),null==b[0]||void 0===b[0].raw)g.push.apply(g,b);else{0,g.push(b[0][0]);for(var y=b.length,O=1;O<y;O++)g.push(b[O],b[0][O])}var w=Object(c.f)((function(e,t,n){return Object(o.createElement)(c.b.Consumer,null,(function(r){var c=v&&e.as||d,l="",h=[],b=e;if(null==e.theme){for(var y in b={},e)b[y]=e[y];b.theme=r}"string"==typeof e.className?l=Object(s.a)(t.registered,h,e.className):null!=e.className&&(l=e.className+" ");var O=Object(u.a)(g.concat(h),t.registered,b);Object(s.b)(t,O,"string"==typeof c);l+=t.key+"-"+O.name,void 0!==a&&(l+=" "+a);var w=v&&void 0===i?f(c):p,k={};for(var E in e)v&&"as"===E||w(E)&&(k[E]=e[E]);k.className=l,k.ref=n||e.innerRef;var x=Object(o.createElement)(c,k),S=Object(o.createElement)(m,null);return Object(o.createElement)(o.Fragment,null,S,x)}))}));return w.displayName=void 0!==r?r:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=d,w.__emotion_styles=g,w.__emotion_forwardProp=i,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(t,r){return e(t,void 0!==r?h({},n||{},{},r):n).apply(void 0,g)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));t.a=v},function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return x})),n.d(t,"l",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return P})),n.d(t,"i",(function(){return I})),n.d(t,"e",(function(){return M})),n.d(t,"d",(function(){return R}));var r,o,i,a,c,s,u,l,d,f,p,h,m=n(7),v=n.n(m),b=n(2),g=n(16),y=n(3),O=n(33),w=n(73),k=Object(g.i)()+"px",E=Object(b.c)(r||(r=v()(["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"]))),x=Object(b.c)(o||(o=v()(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),Object(O.a)("color.border",y.N30)),S=Object(b.c)(i||(i=v()(["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n\n  margin-left: 0;\n  min-width: auto;\n"]))),j=Object(b.c)(a||(a=v()(["\n  margin-left: 4px;\n  min-width: 40px;\n"]))),C=Object(b.c)(c||(c=v()(["\n  margin-left: -8px;\n"]))),T=Object(b.c)(s||(s=v()(["\n  display: flex;\n"]))),_=Object(b.c)(u||(u=v()(["\n  display: flex;\n  min-width: 80px;\n  align-items: center;\n  overflow: hidden;\n  justify-content: center;\n  flex-direction: column;\n  padding: 6px;\n"]))),A=Object(b.c)(l||(l=v()(["\n  padding: 8px;\n"]))),P=(Object(b.c)(d||(d=v()(["\n  box-shadow: ",";\n"])),Object(O.a)("elevation.shadow.overlay","0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25)")),"\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: ".concat(k,";\n    width: ").concat(k,";\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ").concat(Object(O.a)("color.background.neutral.subtle","rgba(0, 0, 0, 0)"),";\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: ").concat(Object(O.a)("color.background.neutral.bold","rgba(0, 0, 0, 0.2)"),";\n    border-radius: ").concat(k,";\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: ").concat(Object(O.a)("color.background.neutral.bold.hovered","rgba(0, 0, 0, 0.4)"),";\n  }\n")),I=Object(b.c)(f||(f=v()(["\n  background-color: ","; /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: ",";\n  align-self: flex-end;\n  @media (max-width: ","px) {\n    display: none;\n  }\n"])),Object(O.a)("color.background.neutral","rgba(223, 225, 229, 0.5)"),Object(O.a)("color.text.subtle",y.N100),Object(g.d)(),Object(w.db)(11.67),w.A),M=Object(b.c)(p||(p=v()(["\n  user-select: all;\n"]))),R=function(e){return Object(b.c)(h||(h=v()(["\n  &::before {\n    background: ",";\n  }\n"])),e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return v}));const r=1,o=2,i=4,a=8,c=32,s=64,u=128,l=31,d=63,f=127,p=255,h=2097151,m=2147483647,v=4294967295},function(e,t,n){"use strict";function r(e,t){for(var n=e;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function o(e,t){var n=document.createDocumentFragment();Array.from(t.children).forEach((function(e){n.appendChild(e)})),e.replaceChild(n,t)}function i(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){var t=e.parentElement;t.removeChild(e),e=t}}n.d(t,"h",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l}));var a=function(e,t){return!!e&&(e.classList&&e.classList.contains?e.classList.contains(t):!!e.className&&-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t))};function c(e,t){if(!e)return null;var n=e;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);do{var r=n.matches?n.matches:n.msMatchesSelector;if(r&&r.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function s(e,t){return c(e,t)}function u(e){if(e.endsWith("px")){var t=parseInt(e,10);return Number.isNaN(t)?void 0:t}}function l(e,t){return function(e,t){for(var n=[],r=0;r<e.childElementCount;r++)n.push(t(e.children[r],r,e));return n}(e,t)}},,function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return Ae}));var o=n(684),i=n.n(o),a=n(0),c=n.n(a),s=n(486),u=n.n(s),l=n(685),d=n.n(l),f=n(59),p=n.n(f),h=n(487),m=n.n(h),v=n(469),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},x=function(e){return"object"===(void 0===e?"undefined":b(e))&&e.constructor===Object};var S=function(e){function t(n){g(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=E(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+n+" for more information. "+(o?"Additional arguments: "+o.join(", "):"")));return E(a)}return w(t,e),t}(Error),j=function e(t,n){return t.reduce((function(t,r){if(null==r||!1===r||""===r)return t;if(Array.isArray(r))return t.push.apply(t,e(r,n)),t;if(r.hasOwnProperty("styledComponentId"))return t.push("."+r.styledComponentId),t;if("function"==typeof r){if(n){var o=r(n);if(c.a.isValidElement(o)){var a=r.displayName||r.name;throw new S(11,a)}t.push.apply(t,e([o],n))}else t.push(r);return t}return t.push(x(r)?function e(t,n){var r=Object.keys(t).filter((function(e){var n=t[e];return null!=n&&!1!==n&&""!==n})).map((function(n){return x(t[n])?e(t[n],n):i()(n)+": "+t[n]+";"})).join(" ");return n?n+" {\n  "+r+"\n}":r}(r):r.toString()),t}),[])},C=/^\s*\/\/.*$/gm,T=new u.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),_=new u.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),A=[],P=function(e){if(-2===e){var t=A;return A=[],t}},I=d()((function(e){A.push(e)}));_.use([I,P]),T.use([I,P]);var M=function(e,t,n){var r=e.join("").replace(C,"");return _(n||!t?"":t,t&&n?n+" "+t+" { "+r+" }":r)},R=function(e){return T("",e)};function N(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}var D=function(e){return String.fromCharCode(e+(e>25?39:97))},L=function(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=D(n%52)+t;return D(n%52)+t},B=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},F=Object.freeze([]),z=Object.freeze({}),U=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e||x(e)?j(B(F,[e].concat(n))):j(B(e,n))},H=void 0!==e&&e.env.SC_ATTR||"data-styled-components",W="__styled-components-stylesheet__",V="undefined"!=typeof window&&"HTMLElement"in window,q=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,G=function(e){var t=""+(e||""),n=[];return t.replace(q,(function(e,t,r){return n.push({componentId:t,matchIndex:r}),e})),n.map((function(e,r){var o=e.componentId,i=e.matchIndex,a=n[r+1];return{componentId:o,cssFromDOM:a?t.slice(i,a.matchIndex):t.slice(i)}}))},K=function(){return n.nc},$=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},Y=function(e,t){e[t]=Object.create(null)},X=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},J=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},Z=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new S(10)},Q=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},ee=function(e){return"\n/* sc-component-id: "+e+" */\n"},te=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},ne=function(e,t){return function(n){var r=K();return"<style "+[r&&'nonce="'+r+'"',H+'="'+J(t)+'"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},re=function(e,t){return function(){var n,r=((n={})[H]=J(t),n),o=K();return o&&(r.nonce=o),c.a.createElement("style",O({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},oe=function(e){return function(){return Object.keys(e)}},ie=function e(t,n){var r=void 0===t?Object.create(null):t,o=void 0===n?Object.create(null):n,i=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},a=function(){var e="";for(var t in o){var n=o[t][0];n&&(e+=ee(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=O({},e[n]);return t}(r),n=Object.create(null);for(var i in o)n[i]=[o[i][0]];return e(t,n)},css:a,getIds:oe(o),hasNameForId:X(r),insertMarker:i,insertRules:function(e,t,n){i(e)[0]+=t.join(" "),$(r,e,n)},removeRules:function(e){var t=o[e];void 0!==t&&(t[0]="",Y(r,e))},sealed:!1,styleTag:null,toElement:re(a,r),toHTML:ne(a,r)}},ae=function(e,t,n,r,o){if(V&&!n){var i=function(e,t,n){var r=document.createElement("style");r.setAttribute(H,"");var o=K();if(o&&r.setAttribute("nonce",o),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new S(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r}(e,t,r);return function(e,t){var n=Object.create(null),r=Object.create(null),o=[],i=void 0!==t,a=!1,c=function(e){var t=r[e];return void 0!==t?t:(r[e]=o.length,o.push(0),Y(n,e),r[e])},s=function(){var t=Z(e).cssRules,n="";for(var i in r){n+=ee(i);for(var a=r[i],c=te(o,a),s=c-o[a];s<c;s+=1){var u=t[s];void 0!==u&&(n+=u.cssText)}}return n};return{clone:function(){throw new S(5)},css:s,getIds:oe(r),hasNameForId:X(n),insertMarker:c,insertRules:function(r,s,u){for(var l=c(r),d=Z(e),f=te(o,l),p=0,h=[],m=s.length,v=0;v<m;v+=1){var b=s[v],g=i;g&&-1!==b.indexOf("@import")?h.push(b):Q(d,b,f+p)&&(g=!1,p+=1)}i&&h.length>0&&(a=!0,t().insertRules(r+"-import",h)),o[l]+=p,$(n,r,u)},removeRules:function(c){var s=r[c];if(void 0!==s){var u=o[s];!function(e,t,n){for(var r=t-n,o=t;o>r;o-=1)e.deleteRule(o)}(Z(e),te(o,s),u),o[s]=0,Y(n,c),i&&a&&t().removeRules(c+"-import")}},sealed:!1,styleTag:e,toElement:re(s,n),toHTML:ne(s,n)}}(i,o)}return ie()},ce=/\s+/,se=void 0;se=V?1e3:-1;var ue,le=0,de=void 0,fe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ae(t.target,n?n.styleTag:null,t.forceServer,!0)},le+=1,this.id=le,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!V||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+H+"]"),o=r.length;if(0===o)return this;for(var i=0;i<o;i+=1){var a=r[i];n||(n=!!a.getAttribute("data-styled-streamed"));for(var c=(a.getAttribute(H)||"").trim().split(ce),s=c.length,u=0;u<s;u+=1){var l=c[u];this.rehydratedNames[l]=!0}t.push.apply(t,G(a.textContent)),e.push(a)}var d=t.length;if(0===d)return this;var f=function(e,t,n,r){var o,i,a=(o=function(){for(var r=0,o=n.length;r<o;r+=1){var i=n[r],a=i.componentId,c=i.cssFromDOM,s=R(c);e.insertRules(a,s)}for(var u=0,l=t.length;u<l;u+=1){var d=t[u];d.parentNode&&d.parentNode.removeChild(d)}},i=!1,function(){i||(i=!0,o())});return r&&a(),O({},e,{insertMarker:function(t){return a(),e.insertMarker(t)},insertRules:function(t,n,r){return a(),e.insertRules(t,n,r)}})}(this.makeTag(null),e,t,n);this.capacity=Math.max(1,se-d),this.tags.push(f);for(var p=0;p<d;p+=1)this.tagMap[t[p].componentId]=f;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];de=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map((function(e){for(var n=e.getIds(),r=e.clone(),o=0;o<n.length;o+=1)t.tagMap[n[o]]=r;return r})),t.rehydratedNames=O({},this.rehydratedNames),t.deferred=O({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(e){e.sealed=!0}))},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ae(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=se,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,o=0;o<r.length;o+=1)r[o].inject(e,t,n);var i=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);i.insertRules(e,a,n),this.deferred[e]=void 0}else i.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map((function(e){return e.toHTML()})).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map((function(t,n){var r="sc-"+e+"-"+n;return Object(a.cloneElement)(t.toElement(),{key:r})}))},y(e,null,[{key:"master",get:function(){return de||(de=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),pe=function(e){function t(){return g(this,t),E(this,e.apply(this,arguments))}return w(t,e),t.prototype.getChildContext=function(){var e;return(e={})[W]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new S(4);this.sheetInstance=new fe(this.props.target)}},t.prototype.render=function(){return c.a.Children.only(this.props.children)},t}(a.Component);pe.childContextTypes=((ue={})[W]=p.a.oneOfType([p.a.instanceOf(fe),p.a.instanceOf(he)]).isRequired,ue);var he=function(){function e(){g(this,e),this.masterSheet=fe.master,this.instance=this.masterSheet.clone(),this.closed=!1}return e.prototype.complete=function(){if(!this.closed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.closed=!0}},e.prototype.collectStyles=function(e){if(this.closed)throw new S(2);return c.a.createElement(pe,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new S(3)},e}(),me=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},ve=/[[\].#*$><+~=|^:(),"'`-]+/g,be=/(^-|-$)/g;function ge(e){return e.replace(ve,"-").replace(be,"")}function ye(e){return e.displayName||e.name||"Component"}function Oe(e){return"string"==typeof e}var we=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:Animation|Touch|Load|Drag)Start|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|Lo(?:stPointer|ad)|TimeUpdate|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|GotPointer|MouseDown|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|KeyPress|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|P(?:rogress|laying)|DragEnd|Key(?:Down|Up)|(?:MouseU|Dro)p|(?:Wait|Seek)ing|Scroll|Focus|Paste|Abort|Drag|Play|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|onPointerLeav|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|onPointerMov|(?:attribute|glyph)Nam|playsInlin|(?:writing|input|edge)Mod|(?:formE|e)ncTyp|(?:amplitu|mo)d|(?:xlinkTy|itemSco|keyTy|slo)p|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|l(?:ip(?:Path)?|ass)|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|auto[Ff]ocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|on(?:PointerDow|FocusI)|formActio|zoomAndPa|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveAspectRatio|ointsAt[X-Z]|anose1)|(?:(?:allowPaymentReque|(?:fontSize|length)Adju|manife)s|strokeMiterlimi|(?:(?:specularE|e)xpon|renderingInt|asc)en|(?:specularConsta|repeatCou|fontVaria)n|d(?:iffuseConsta|esce)n|baselineShif|vectorEffec|onPointerOu|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|markerStar|a(?:utoCorrec|bou)|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:gradientT|patternT|t)ransform|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|(?:markerM|onInval)i|preloa|metho|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|strokeDasharray|(?:onPointerCanc|lab)el|(?:allowFullScre|hidd)en|a(?:l(?:lowUserMedia|phabetic|t)|rabicForm|sync)|systemLanguage|(?:(?:o(?:nPointer(?:Ent|Ov)|rd)|allowReord|placehold|frameBord|paintOrd|post)e|repeatDu|d(?:efe|u))r|(?:pointerEve|keyPoi)nts|preserveAlpha|(?:strokeLineca|onPointerU|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|unicodeRange|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|(?:vI|i)deographic|mathematical|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|vAlphabetic|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|(?:xmlnsXl|valueL)ink|mediaGroup|spellCheck|(?:text|m(?:in|ax))Length|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|pathLength|(?:xlinkHr|glyphR)ef|innerHTML|xlinkShow|f(?:o(?:ntSize|rm?)|il(?:ter|l))|(?:tabInde|(?:sand|b)bo|viewBo)x|autoPlay|r(?:e(?:quired|sult|f))?|(?:(?:href|xml|src)La|kerni)ng|o(?:verflow|pen)|i(?:temRef|n2|s)|p(?:attern|oints)|unicode|d(?:efault|ata|ir)?|divisor|t(?:arget[XY]|o)|(?:stri|la)ng|(?:width|size)s|prefix|typeof|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|llow|s)|itemID|t(?:arget|ype)|m(?:edia|a(?:sk|x)|in)|value|width|x(?:mlns)?|size|href|k(?:ey)?|end|low|by|x[12]|y[12]|g[12]|i[dn]|f[xy]|[yz])$/,ke=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"));var Ee,xe,Se="__styled-components__",je=Se+"next__",Ce=p.a.shape({getTheme:p.a.func,subscribe:p.a.func,unsubscribe:p.a.func}),Te=((Ee={})[Se]=p.a.func,Ee[je]=Ce,Ee);var _e,Ae=function(e){function t(){g(this,t);var n=E(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return w(t,e),t.prototype.componentWillMount=function(){var e,t,n,r,o=this,i=this.context[je];void 0!==i&&(this.unsubscribeToOuterId=i.subscribe((function(e){o.outerTheme=e,void 0!==o.broadcast&&o.publish(o.props.theme)}))),this.broadcast=(e=this.getTheme(),t={},n=0,r=e,{publish:function(e){for(var n in r=e,t){var o=t[n];void 0!==o&&o(r)}},subscribe:function(e){var o=n;return t[o]=e,n+=1,e(r),o},unsubscribe:function(e){t[e]=void 0}})},t.prototype.getChildContext=function(){var e,t=this;return O({},this.context,((e={})[je]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Se]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[je].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if("function"==typeof t)return t(this.outerTheme);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":b(t)))throw new S(8);return O({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?c.a.Children.only(this.props.children):null},t}(a.Component);Ae.childContextTypes=Te,Ae.contextTypes=((xe={})[je]=Ce,xe);var Pe={},Ie=O({},Te,((_e={})[W]=p.a.oneOfType([p.a.instanceOf(fe),p.a.instanceOf(he)]),_e)),Me={};var Re=function(e){function t(){var n,r;g(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=E(this,e.call.apply(e,[this].concat(i))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,E(r,n)}return w(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[je].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,r=O({},t,{theme:e});return void 0===n?r:(this.attrs=Object.keys(n).reduce((function(e,t){var o=n[t];return e[t]="function"!=typeof o||function(e,t){for(var n=e;n;)if((n=Object.getPrototypeOf(n))&&n===t)return!0;return!1}(o,a.Component)?o:o(r),e}),{}),O({},r,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,o=n.componentStyle,i=(n.warnTooManyClasses,this.context[W]||fe.master);if(o.isStatic&&void 0===r)return o.generateAndInjectStyles(Pe,i);var a=this.buildExecutionContext(e,t);return o.generateAndInjectStyles(a,i)},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[je];if(t.isStatic){var r=this.generateAndInjectStyles(Pe,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var o=n.subscribe;this.unsubscribeId=o((function(t){var n=me(e.props,t,e.constructor.defaultProps),r=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:r})}))}else{var i=this.props.theme||z,a=this.generateAndInjectStyles(i,this.props);this.setState({theme:i,generatedClassName:a})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState((function(n){var r=me(e,n.theme,t.constructor.defaultProps);return{theme:r,generatedClassName:t.generateAndInjectStyles(r,e)}}))},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this.props.innerRef,t=this.state.generatedClassName,n=this.constructor,r=n.styledComponentId,o=n.target,i=Oe(o),c=[this.props.className,r,this.attrs.className,t].filter(Boolean).join(" "),s=O({},this.attrs,{className:c});N(o)?s.innerRef=e:s.ref=e;var u,l=s,d=void 0;for(d in this.props)"innerRef"===d||"className"===d||i&&(u=d,!we.test(u)&&!ke(u.toLowerCase()))||(l[d]="style"===d&&d in this.attrs?O({},this.attrs[d],this.props[d]):this.props[d]);return Object(a.createElement)(o,l)},t}(a.Component);function Ne(e){for(var t,n=0|e.length,r=0|n,o=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var De=V,Le=r.hot&&!1,Be=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fe=function(e){return e.replace(/\s|\\n/g,"")};var ze=function(e,t,n){var r=function(t){return e(Ne(t))};return function(){function e(t,n,r){if(g(this,e),this.rules=t,this.isStatic=!Le&&function e(t,n){for(var r=0,o=t.length;r<o;r+=1){var i=t[r];if(Array.isArray(i)&&!e(i))return!1;if("function"==typeof i&&!N(i))return!1}if(void 0!==n)for(var a in n)if("function"==typeof n[a])return!1;return!0}(t,n),this.componentId=r,!fe.master.hasId(r)){var o=[];fe.master.deferredInject(r,o)}}return e.prototype.generateAndInjectStyles=function(e,o){var i=this.isStatic,a=this.componentId,c=this.lastClassName;if(De&&i&&void 0!==c&&o.hasNameForId(a,c))return c;var s=t(this.rules,e),u=r(this.componentId+s.join(""));return o.hasNameForId(a,u)||o.inject(this.componentId,n(s,"."+u),u),this.lastClassName=u,u},e.generateName=function(e){return r(e)},e}()}(L,j,M),Ue=function(e){return function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;if(!Object(v.isValidElementType)(r))throw new S(1,String(r));var i=function(){return n(r,o,e.apply(void 0,arguments))};return i.withConfig=function(e){return t(n,r,O({},o,e))},i.attrs=function(e){return t(n,r,O({},o,{attrs:O({},o.attrs||z,e)}))},i}}(U),He=function(e,t){return function n(r,o,i){var a=o.isClass,c=void 0===a?!Oe(r):a,s=o.displayName,u=void 0===s?function(e){return Oe(e)?"styled."+e:"Styled("+ye(e)+")"}(r):s,l=o.componentId,d=void 0===l?function(e,t,n){var r="string"!=typeof t?"sc":ge(t),o=(Me[r]||0)+1;Me[r]=o;var i=r+"-"+e.generateName(r+o);return void 0!==n?n+"-"+i:i}(e,o.displayName,o.parentComponentId):l,f=o.ParentComponent,p=void 0===f?Re:f,h=o.rules,v=o.attrs,b=o.displayName&&o.componentId?ge(o.displayName)+"-"+o.componentId:o.componentId||d,x=new e(void 0===h?i:h.concat(i),v,b),S=function(e){function a(){return g(this,a),E(this,e.apply(this,arguments))}return w(a,e),a.withComponent=function(e){var t=o.componentId,r=k(o,["componentId"]),c=t&&t+"-"+(Oe(e)?e:ge(ye(e))),s=O({},r,{componentId:c,ParentComponent:a});return n(e,s,i)},y(a,null,[{key:"extend",get:function(){var e=o.rules,c=o.componentId,s=k(o,["rules","componentId"]),u=void 0===e?i:e.concat(i),l=O({},s,{rules:u,parentComponentId:c,ParentComponent:a});return t(n,r,l)}}]),a}(p);return S.attrs=v,S.componentStyle=x,S.contextTypes=Ie,S.displayName=u,S.styledComponentId=b,S.target=r,c&&m()(S,r,{attrs:!0,componentStyle:!0,displayName:!0,extend:!0,styledComponentId:!0,target:!0,warnTooManyClasses:!0,withComponent:!0}),S}}(ze,Ue),We=(function(e,t,n){}(L,M,U),function(e,t){}(M,U),function(e,t){var n=function(n){return t(e,n)};return Be.forEach((function(e){n[e]=n(e)})),n}(He,Ue));t.c=We}).call(this,n(208),n(764)(e))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return E}));var r,o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(5),u=n.n(s),l=n(13),d=n.n(l),f=n(15),p=n.n(f),h=n(6),m=n.n(h),v=n(1),b=n.n(v),g=n(4),y=n(14),O=n(243);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}));var k="gapcursor",E=function(e){d()(n,e);var t=w(n);function n(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.LEFT;return i()(this,n),o=t.call(this,e,e),b()(u()(o),"visible",!1),o.side=a,o}return c()(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));return n.valid(r)?new n(r,this.side):g.Selection.near(r)}},{key:"eq",value:function(e){return e instanceof n&&e.head===this.head}},{key:"content",value:function(){return y.Slice.empty}},{key:"getBookmark",value:function(){return new x(this.anchor)}},{key:"toJSON",value:function(){return{pos:this.head,type:k,side:this.side}}}],[{key:"valid",value:function(e){var t=e.parent,n=e.nodeBefore,r=e.nodeAfter;if(!(Object(O.a)(n)?n:Object(O.a)(r)?r:null)||t.isTextblock)return!1;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}},{key:"findFrom",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1===t?r.RIGHT:r.LEFT;if(!o&&n.valid(e))return new n(e,i);for(var a=e.pos,c=null,s=e.depth;;s--){var u=e.node(s);if(i===r.RIGHT?e.indexAfter(s)<u.childCount:e.index(s)>0){c=u.maybeChild(i===r.RIGHT?e.indexAfter(s):e.index(s)-1);break}if(0===s)return null;a+=t;var l=e.doc.resolve(a);if(n.valid(l))return new n(l,i)}for(;null!==(c=i===r.RIGHT?c.firstChild:c.lastChild);){a+=t;var d=e.doc.resolve(a);if(n.valid(d))return new n(d,i)}return null}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.pos),t.side)}}]),n}(g.Selection);g.Selection.jsonID(k,E);var x=function(){function e(t){i()(this,e),this.pos=t}return c()(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return E.valid(t)?new E(t):g.Selection.near(t)}}]),e}()},function(e,t,n){"use strict";n.d(t,"x",(function(){return c})),n.d(t,"z",(function(){return s})),n.d(t,"v",(function(){return u})),n.d(t,"w",(function(){return l})),n.d(t,"y",(function(){return d})),n.d(t,"H",(function(){return f})),n.d(t,"I",(function(){return p})),n.d(t,"F",(function(){return h})),n.d(t,"G",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return S})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return T})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return A})),n.d(t,"p",(function(){return P})),n.d(t,"s",(function(){return I})),n.d(t,"u",(function(){return M})),n.d(t,"q",(function(){return R})),n.d(t,"r",(function(){return N})),n.d(t,"t",(function(){return D})),n.d(t,"C",(function(){return L})),n.d(t,"E",(function(){return B})),n.d(t,"A",(function(){return F})),n.d(t,"B",(function(){return z})),n.d(t,"D",(function(){return U})),n.d(t,"J",(function(){return H})),n.d(t,"L",(function(){return W})),n.d(t,"K",(function(){return V}));var r=n(21),o=n.n(r),i=n(263),a=n.t(263,1),c="#FFEBE6",s="#FFBDAD",u="#FF8F73",l="#FF5630",d="#BF2600",f="#FFFAE6",p="#FFF0B3",h="#FFC400",m="#FF991F",v="#E3FCEF",b="#ABF5D1",g="#57D9A3",y="#36B37E",O="#006644",w="#DEEBFF",k="#B3D4FF",E="#4C9AFF",x="#0052CC",S="#0747A6",j="#FFFFFF",C="#F4F5F7",T="#EBECF0",_="#B3BAC5",A="#97A0AF",P="#172B4D",I="#EAE6FF",M="#C0B6F2",R="#998DD9",N="#6554C0",D="#403294",L="#E6FCFF",B="#B3F5FF",F="#79E2F2",z="#00B8D9",U="#008DA6";function H(e,t){var n=function(e,t){if(!e)return null;if(q(e=e.trim().toLowerCase()))4===e.length&&(e=e.split("").map((function(e){return"#"===e?"#":"".concat(e).concat(e)})).join(""));else{if(V(e))return W(e);if("default"===e)return null;if(i&&i[e])e=i[e];else{if(!a||!a[e])return null;e=a[e]}}return e===t?null:e}(e);if(!n)return null;return"rgba(".concat(function(e){return e.match(/[a-z0-9]{2}/gi).map((function(e){return parseInt(e,16)}))}(n).concat(t).join(","),")")}function W(e){var t=e.match(/(0?\.?\d{1,3})%?\b/g);if(t&&t.length>=3){var n=t.map(Number),r=o()(n,3),i=r[0],a=r[1];return"#"+(r[2]|a<<8|i<<16|1<<24).toString(16).slice(1)}return null}function V(e){return/rgba?\(/.test(e)}function q(e){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)}},function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r="ui",o="track",i="screen",a="operational",c="unknown"},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r,o=n(1),i=n.n(o),a=n(7),c=n.n(a),s=n(0),u=n.n(s),l=n(2),d=n(1092),f=n(419),p=n(22),h=n.n(p),m=n(1197),v=u.a.forwardRef((function(e,t){return u.a.createElement(m.a,h()({ref:t},e,{style:{alignItems:"center"}}))})),b=n(38);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=n(324).a,w=Object(l.c)(r||(r=c()(["\n  display: flex;\n  height: 100%;\n"]))),k=u.a.forwardRef((function(e,t){var n=e.buttonId,r=e.testId,o=e.className,i=void 0===o?"":o,a=e.href,c=e.iconAfter,u=e.iconBefore,p=e.disabled,h=e.selected,m=e.spacing,g=e.target,O=e.children,k=e.hideTooltip,E=e.title,x=e.titlePosition,S=void 0===x?"top":x,j=e.item,C=e["aria-label"],T=e["aria-haspopup"],_=e["aria-expanded"],A=e["aria-pressed"],P=e.onClick,I=e.onItemClick,M=Object(s.useCallback)((function(e,t){p||(n&&t.update((function(e){return y(y({},e),{},{action:b.a.CLICKED,actionSubject:b.b.TOOLBAR_BUTTON,actionSubjectId:n,eventType:b.e.UI})})).fire(f.a.editor),P&&P(e),j&&I&&I(j))}),[p,P,I,j,n]),R=n?"editor-toolbar__".concat(n):void 0,N=Object(l.d)(v,{id:R,ref:t,appearance:"subtle",testId:r,className:i,href:a,iconAfter:c,iconBefore:u,isDisabled:p,isSelected:h,onClick:M,spacing:m||"default",target:g,shouldFitContainer:!0,"aria-expanded":_,"aria-haspopup":T,"aria-label":C,"aria-pressed":A},O);if(!E)return N;var D=k?null:E;return Object(l.d)(d.a,{content:D,hideTooltipOnClick:!0,position:S},Object(l.d)("div",{css:w},N))}));t.b=k},function(e,t,n){e.exports=n(816)()},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(1),o=n.n(r),i=n(23),a=n(286),c=n(298);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return c.a.getState(e)},d=function(){var e=Object(a.b)().editorActions,t=null==e?void 0:e._privateGetEditorView();return null!=t&&t.state?c.a.getState(t.state):void 0};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"featureFlagsContext",pmPlugins:function(){return[{name:"featureFlagsContext",plugin:function(){return new i.a({key:c.a,state:{init:function(){return u({},e)},apply:function(e,t){return t}}})}}]}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(56);function o(e){Object(r.a)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));const r=Math.floor,o=(Math.ceil,Math.abs),i=(Math.imul,Math.round),a=Math.log10,c=(Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),s=(e,t)=>e>t?e:t,u=(Number.isNaN,Math.pow),l=e=>Math.pow(10,e),d=(Math.sign,e=>0!==e?e<0:1/e<0)},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return m.a})),n.d(t,"j",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return y}));var r,o=n(1),i=n.n(o),a=n(0),c=n.n(a),s=n(673),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NamespacedContext",n=function(t){var n=i()({},e,t.data);return c.a.createElement(s.a,{data:n},c.a.Children.only(t.children))};return n.displayName=t,n},l="fabricElementsCtx",d=u(l,"FabricElementsAnalyticsContext"),f="navigationCtx",p=(u(f,"NavigationAnalyticsContext"),"fabricEditorCtx");!function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth",e.COMMENT="comment",e.CHROMELESS="chromeless",e.MOBILE="mobile"}(r||(r={}));var h=u(p,"FabricEditorAnalyticsContext"),m=n(521),v="peopleTeamsCtx",b=(u(v,"PeopleTeamsAnalyticsContext"),"NotificationsCtx"),g=(u(b,"NotificationsAnalyticsContext"),"RecentWorkCtx"),y=(u(g,"RecentWorkAnalyticsContext"),"atlasCtx");u(y,"AtlasAnalyticsContext")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(318);function o(e,t){if("string"==typeof e)return n=e,o=t,function(e){var t=Object(r.a)(e);if(e&&e[n]&&o){var i=o[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,o,i=e;return function(e){var t=Object(r.a)(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},,function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),s=n(59),u=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var o=d(e[r]);o.loading?t.loading=!0:(t.loaded[r]=o.loaded,t.error=o.error),n.push(o.promise),o.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function p(e,t){return c.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function h(e,t){var d,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:p,webpack:null,modules:null},t),m=null;function v(){return m||(m=e(h.loader)),m.promise}return u.push(v),"function"==typeof h.webpack&&l.push((function(){if(e=h.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return v();var e})),f=d=function(t){function n(r){o(this,n);var a=i(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),a._loadModule()},v(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),m.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?c.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n}(c.Component),d.contextTypes={loadable:s.shape({report:s.func.isRequired})},f}function m(e){return h(d,e)}m.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(f,e)};var v=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component);function b(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return b(e)}))}v.propTypes={report:s.func.isRequired},v.childContextTypes={loadable:s.shape({report:s.func.isRequired}).isRequired},m.Capture=v,m.preloadAll=function(){return new Promise((function(e,t){b(u).then(e,t)}))},m.preloadReady=function(){return new Promise((function(e,t){b(l).then(e,e)}))},e.exports=m},,function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(801)},function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"j",(function(){return E})),n.d(t,"m",(function(){return x})),n.d(t,"l",(function(){return S})),n.d(t,"n",(function(){return j})),n.d(t,"k",(function(){return C})),n.d(t,"o",(function(){return T})),n.d(t,"i",(function(){return _})),n.d(t,"t",(function(){return A})),n.d(t,"s",(function(){return P})),n.d(t,"r",(function(){return I})),n.d(t,"p",(function(){return M})),n.d(t,"q",(function(){return R}));var r=n(1),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(490),l=n(234);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={componentName:"smart-cards",packageName:u.a,packageVersion:u.b},h={DownloadAction:"downloadDocument",PreviewAction:"invokePreviewScreen",ViewAction:"shortcutGoToLink"},m=function(){function e(){a()(this,e)}return s()(e,[{key:"insertSmartLink",value:function(e,t,n){v({action:"inserted",actionSubject:"smartLink",eventType:"track",attributes:{type:t},nonPrivacySafeAttributes:{domainName:e}},n)}}]),e}(),v=function(e,t){t&&t(e).fire("media")},b=function(e,t,n,r){return{action:"resolved",actionSubject:"smartLink",eventType:"operational",attributes:f(f(f(f({id:e},p),t?{definitionId:t}:{}),n?{extensionKey:n}:{}),r?{resourceType:r}:{})}},g=function(e,t,n,r,o,i){return{action:"unresolved",actionSubject:"smartLink",eventType:"operational",attributes:f(f(f(f(f({id:e},p),n?{definitionId:n}:{}),r?{extensionKey:r}:{}),o?{resourceType:o}:{}),{},{reason:t,error:i?{message:i.message,kind:i.kind,type:i.type}:void 0})}},y=function(e,t,n,r){var o=Object(l.d)(e,"resolved")||{duration:void 0};return{action:"resolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:f(f({},p),{},{id:e,actionType:t,display:n,extensionKey:r||"",duration:o.duration})}},O=function(e,t,n,r,o){var i=Object(l.d)(e,"errored")||{duration:void 0};return{action:"unresolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:f(f({},p),{},{id:e,actionType:t,display:n,extensionKey:o||"",duration:i.duration,reason:r})}},w=function(e,t){return{action:"connectSucceeded",actionSubject:"smartLink",eventType:"operational",attributes:f(f(f({},p),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},k=function(e,t,n){return{action:"connectFailed",actionSubject:"smartLink",actionSubjectId:n,eventType:"operational",attributes:f(f(f(f({},p),n?{reason:n}:{}),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},E=function(e,t){return{action:"connected",actionSubject:"applicationAccount",eventType:"track",attributes:f(f(f({},p),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},x=function(e,t,n){return{action:"clicked",actionSubject:"button",actionSubjectId:"connectAccount",eventType:"ui",attributes:f(f({},p),{},{definitionId:t||"",extensionKey:n||"",display:e})}},S=function(e,t,n){return{action:"clicked",actionSubject:"smartLink",actionSubjectId:"tryAnotherAccount",eventType:"ui",attributes:f(f({},p),{},{definitionId:t||"",extensionKey:n||"",display:e})}},j=function(e,t,n,r,o,i,a,c,s,u){return{action:"clicked",actionSubject:"smartLink",actionSubjectId:u,eventType:"ui",attributes:f(f({},p),{},{id:e,status:n,definitionId:r||"",extensionKey:o||"",display:t,isModifierKeyPressed:i,location:a,destinationProduct:c,destinationSubproduct:s})}},C=function(e,t,n,r){return{action:"clicked",actionSubject:"button",actionSubjectId:h[t],eventType:"ui",attributes:f(f({},p),{},{id:e,display:r,extensionKey:n||"",actionType:t})}},T=function(e,t,n){return{action:"closed",actionSubject:"consentModal",eventType:"ui",attributes:f(f({},p),{},{definitionId:t||"",extensionKey:n||"",display:e})}},_=function(e,t){return{actionSubject:"consentModal",eventType:"screen",attributes:f(f({},p),{},{definitionId:e||"",extensionKey:t||""})}},A=function(e,t,n,r){return{action:"renderSuccess",actionSubject:"smartLink",eventType:"ui",attributes:f(f({},p),{},{status:t,definitionId:n||"",extensionKey:r||"",display:e})}},P=function(e,t,n){return{actionSubject:"smartLink",action:"renderFailed",eventType:"ui",attributes:{error:t,errorInfo:n,display:e}}},I=function(e,t,n,r,o){return{action:"viewed",actionSubject:"hoverCard",eventType:"ui",attributes:f(f({},p),{},{id:e,definitionId:n||"",extensionKey:r||"",previewDisplay:t,previewInvokeMethod:o})}},M=function(e,t,n,r,o,i){return{action:"dismissed",actionSubject:"hoverCard",eventType:"ui",attributes:f(f({},p),{},{id:e,definitionId:r||"",extensionKey:o||"",hoverTime:n,previewDisplay:t,previewInvokeMethod:i})}},R=function(e,t,n,r,o){return{action:"clicked",actionSubject:"button",actionSubjectId:"shortcutGoToLink",eventType:"ui",attributes:f(f({},p),{},{id:e,definitionId:n||"",extensionKey:r||"",previewDisplay:t,previewInvokeMethod:o})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},function(e,t,n){"use strict";n.d(t,"h",(function(){return zt})),n.d(t,"f",(function(){return Ut})),n.d(t,"j",(function(){return Ht})),n.d(t,"g",(function(){return Wt})),n.d(t,"i",(function(){return qt})),n.d(t,"a",(function(){return Gt})),n.d(t,"m",(function(){return Kt})),n.d(t,"e",(function(){return Yt})),n.d(t,"b",(function(){return Xt})),n.d(t,"k",(function(){return Jt})),n.d(t,"l",(function(){return Zt})),n.d(t,"d",(function(){return Qt})),n.d(t,"c",(function(){return en}));var r={};n.r(r),n.d(r,"em",(function(){return z})),n.d(r,"code",(function(){return U})),n.d(r,"strike",(function(){return H})),n.d(r,"strong",(function(){return W})),n.d(r,"underline",(function(){return V})),n.d(r,"link",(function(){return q})),n.d(r,"subsup",(function(){return G})),n.d(r,"textColor",(function(){return K})),n.d(r,"inline_comment_marker",(function(){return $})),n.d(r,"breakout",(function(){return Y})),n.d(r,"alignment",(function(){return X})),n.d(r,"indentation",(function(){return J})),n.d(r,"annotation",(function(){return Z})),n.d(r,"dataConsumer",(function(){return Q})),n.d(r,"fragment",(function(){return ee})),n.d(r,"hardBreak",(function(){return te})),n.d(r,"mention",(function(){return ne})),n.d(r,"emoji",(function(){return re})),n.d(r,"inlineExtension",(function(){return oe})),n.d(r,"inlineExtension_with_marks",(function(){return ie})),n.d(r,"date",(function(){return ae})),n.d(r,"placeholder",(function(){return ce})),n.d(r,"blockCard",(function(){return se})),n.d(r,"inlineCard",(function(){return ue})),n.d(r,"status",(function(){return le})),n.d(r,"text",(function(){return de})),n.d(r,"media",(function(){return fe})),n.d(r,"mediaInline",(function(){return pe})),n.d(r,"formatted_text_inline",(function(){return he})),n.d(r,"link_text_inline",(function(){return me})),n.d(r,"code_inline",(function(){return ve})),n.d(r,"atomic_inline",(function(){return be})),n.d(r,"inline",(function(){return ge})),n.d(r,"paragraph",(function(){return ye})),n.d(r,"paragraph_with_no_marks",(function(){return Oe})),n.d(r,"paragraph_with_alignment",(function(){return we})),n.d(r,"paragraph_with_indentation",(function(){return ke})),n.d(r,"bulletList",(function(){return Ee})),n.d(r,"caption",(function(){return xe})),n.d(r,"mediaSingle",(function(){return Se})),n.d(r,"mediaSingle_full",(function(){return je})),n.d(r,"mediaSingle_caption",(function(){return Ce})),n.d(r,"codeBlock",(function(){return Te})),n.d(r,"codeBlock_with_no_marks",(function(){return _e})),n.d(r,"codeBlock_with_marks",(function(){return Ae})),n.d(r,"listItem",(function(){return Pe})),n.d(r,"orderedList",(function(){return Ie})),n.d(r,"heading",(function(){return Me})),n.d(r,"heading_with_no_marks",(function(){return Re})),n.d(r,"heading_with_alignment",(function(){return Ne})),n.d(r,"heading_with_indentation",(function(){return De})),n.d(r,"panel",(function(){return Le})),n.d(r,"blockquote",(function(){return Be})),n.d(r,"rule",(function(){return Fe})),n.d(r,"mediaGroup",(function(){return ze})),n.d(r,"decisionItem",(function(){return Ue})),n.d(r,"decisionList",(function(){return He})),n.d(r,"taskItem",(function(){return We})),n.d(r,"taskList",(function(){return Ve})),n.d(r,"extension",(function(){return qe})),n.d(r,"extension_with_marks",(function(){return Ge})),n.d(r,"embedCard",(function(){return Ke})),n.d(r,"nestedExpand_content",(function(){return $e})),n.d(r,"nestedExpand",(function(){return Ye})),n.d(r,"nestedExpand_with_no_marks",(function(){return Xe})),n.d(r,"table",(function(){return Je})),n.d(r,"tableRow",(function(){return Ze})),n.d(r,"tableCell_content",(function(){return Qe})),n.d(r,"tableCell",(function(){return et})),n.d(r,"tableHeader",(function(){return tt})),n.d(r,"non_nestable_block_content",(function(){return nt})),n.d(r,"expand",(function(){return rt})),n.d(r,"expand_with_no_mark",(function(){return ot})),n.d(r,"expand_with_breakout_mark",(function(){return it})),n.d(r,"bodiedExtension",(function(){return at})),n.d(r,"bodiedExtension_with_marks",(function(){return ct})),n.d(r,"block_content",(function(){return st})),n.d(r,"layoutColumn",(function(){return ut})),n.d(r,"layoutSection",(function(){return lt})),n.d(r,"layoutSection_full",(function(){return dt})),n.d(r,"layoutSection_with_single_column",(function(){return ft})),n.d(r,"doc",(function(){return pt}));var o=n(20),i=n.n(o),a=n(14),c=n(182),s=n(1),u=n.n(s);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=!1;return{transformedAdf:Object(c.a)(e,{text:function(e){if(function(e){var t,n=null===(t=e.marks)||void 0===t?void 0:t.map((function(e){return e.type}));return(null==n?void 0:n.includes("link"))&&(null==n?void 0:n.includes("code"))}(e))return t=!0,function(e){return e.marks?d(d({},e),{},{marks:e.marks.filter((function(e){return"code"!==e.type}))}):e}(e)}}),isTransformed:t}};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=new Set(["strong","underline","textColor","link","em","subsup","strike"]),v=function(e){var t=!1,n=[];return{transformedAdf:Object(c.a)(e,{text:function(e){if(function(e){var t,n,r=null===(t=e.marks)||void 0===t||null===(n=t.map((function(e){return e.type})))||void 0===n?void 0:n.filter((function(e){return m.has(e)||"annotation"===e}));return!(null==r||!r.length)&&new Set(r).size!==r.length}(e)){var r=function(e){var t=new Map,n=new Map,r=[];if(m.forEach((function(e){t.set(e,!1)})),!e.marks)return{discardedMarks:r};var o=e.marks.filter((function(e){var o=e.type;if("annotation"===o){var i,a=null===(i=e.attrs)||void 0===i?void 0:i.id;return n.has(a)?(r.push(e),!1):(n.set(a,!0),!0)}return!t.has(o)||(t.get(o)?(r.push(e),!1):(t.set(o,!0),!0))}));return{node:h(h({},e),{},{marks:o}),discardedMarks:r}}(e);if((n=r.discardedMarks).length)return t=!0,r.node}}}),isTransformed:t,discardedMarks:n}};function b(e){return e.map(g)}function g(e){return"string"==typeof e?{type:"text",text:e}:e}var y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"paragraph",content:b(t)}},O=function(e){return{type:"listItem",content:e}},w=function(e){return{type:"tableRow",content:e}},k=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:"tableCell",attrs:e,content:n}}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){switch(e.type){case"tableCell":return[y()];default:return[]}},j=function(e){var t;return 0===(null===(t=e.content)||void 0===t?void 0:t.length)},C=function(e){return function(t){if(j(t))return e(),x(x({},t),{},{content:S(t)})}},T=function(e){return function(t){if(function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){return"listItem"!==(null==e?void 0:e.type)}))}(t)||function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){var t;return"listItem"===(null==e?void 0:e.type)&&!(null!==(t=e.content)&&void 0!==t&&t.length)}))}(t))return e(),x(x({},t),{},{content:(n=t,null===(r=n.content)||void 0===r?void 0:r.map((function(e){if(e)switch(e.type){case"listItem":return j(e)?O([y()]):e;case"text":return O([y(e)]);default:return O([e])}return e})))});var n,r}},_=function(e){return function(t){if(function(e){var t;return null==e||null===(t=e.content)||void 0===t?void 0:t.some((function(e){var t;return"tableRow"===(null==e?void 0:e.type)&&0===(null==e||null===(t=e.content)||void 0===t?void 0:t.length)}))}(t)||function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){return"tableRow"!==(null==e?void 0:e.type)}))}(t))return e(),x(x({},t),{},{content:(n=t,a=1,null===(o=n.content)||void 0===o||o.forEach((function(e){var t;"tableRow"===(null==e?void 0:e.type)&&"number"==typeof(null===(t=e.content)||void 0===t?void 0:t.length)&&e.content.length>a&&(a=e.content.length)})),c=a,null===(r=n.content)||void 0===r?void 0:r.map((function(e){if(e)switch(e.type){case"text":return w([k({})(y(e))].concat(i()(new Array(c-1).fill(k({})(y())))));case"tableCell":return w([e]);case"tableRow":return j(e)?w(i()(new Array(c).fill(k({})(y())))):e;default:return e}return e})))});var n,r,o,a,c}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=!1;return{transformedAdf:Object(c.a)(e,{tableCell:function(e){if(function(e){var t,n;return null!==(t=null===(n=e.content)||void 0===n?void 0:n.some((function(e){var t;return"heading"===(null==e?void 0:e.type)&&(null==e||null===(t=e.marks)||void 0===t?void 0:t.some((function(e){return"indentation"===e.type})))})))&&void 0!==t&&t}(e))return t=!0,function(e){var t;return P(P({},e),{},{content:null===(t=e.content)||void 0===t?void 0:t.map((function(e){var t;return"heading"===(null==e?void 0:e.type)?P(P({},e),{},{marks:null===(t=e.marks)||void 0===t?void 0:t.filter((function(e){return"indentation"!==e.type}))}):e}))})}(e)}}),isTransformed:t}},M=n(671);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=n(21),L=n.n(D),B=n(34),F=n.n(B),z={props:{type:{type:"enum",values:["em"]}}},U={props:{type:{type:"enum",values:["code"]}}},H={props:{type:{type:"enum",values:["strike"]}}},W={props:{type:{type:"enum",values:["strong"]}}},V={props:{type:{type:"enum",values:["underline"]}}},q={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string",validatorFn:"safeUrl"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}},G={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}},K={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-fA-F]{6}$"}}}}},$={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}},Y={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}},X={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}},J={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},Z={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}},Q={props:{type:{type:"enum",values:["dataConsumer"]},attrs:{props:{sources:{type:"array",items:[{type:"string"}],minItems:1}}}}},ee={props:{type:{type:"enum",values:["fragment"]},attrs:{props:{localId:{type:"string",minLength:1},name:{type:"string",optional:!0}}}}},te={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:["\n"],optional:!0}},optional:!0}}},ne={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}},re={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}},oe={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},ie=["inlineExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],ae={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}},ce={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}},se={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},ue={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},le={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}},de={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}},fe={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},alt:{type:"string",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}],marks:{type:"array",items:["link"],optional:!0}},required:["attrs"]},pe={props:{type:{type:"enum",values:["mediaInline"]},attrs:{props:{data:{type:"object",optional:!0},type:{type:"enum",values:["link","file"],optional:!0},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},marks:{type:"array",items:["link"],optional:!0}}},he=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","annotation"]],optional:!0}}}],me=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}],ve=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}],be=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline"],ge=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline","formatted_text_inline","code_inline"],ye={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}},Oe=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],we=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],ke=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],Ee={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}},xe={props:{type:{type:"enum",values:["caption"]},content:{type:"array",items:[["hardBreak","mention","emoji","date","placeholder","inlineCard","status","formatted_text_inline","code_inline"]],minItems:0}}},Se={props:{type:{type:"enum",values:["mediaSingle"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}},optional:!0},marks:{type:"array",items:["link"],optional:!0}}},je=["mediaSingle",{props:{content:{type:"array",items:["media"],minItems:1,maxItems:1,allowUnsupportedBlock:!0}}}],Ce=["mediaSingle",{props:{content:{type:"array",items:["media","caption"],isTupleLike:!0,minItems:1,maxItems:2,allowUnsupportedBlock:!0}}}],Te={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}},_e=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],Ae=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],Pe={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks"],["paragraph_with_no_marks","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList"]],isTupleLike:!0,minItems:1}}},Ie={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:1}},optional:!0}}},Me={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},Re=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],Ne=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],De=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],Le={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success","custom"]},panelIcon:{type:"string",optional:!0},panelColor:{type:"string",optional:!0},panelIconId:{type:"string",optional:!0},panelIconText:{type:"string",optional:!0}}},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","bulletList","orderedList","heading_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0}}},Be={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:["paragraph_with_no_marks"],minItems:1,allowUnsupportedBlock:!0}}},Fe={props:{type:{type:"enum",values:["rule"]}}},ze={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1,allowUnsupportedBlock:!0}}},Ue={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}},He={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},We={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}},Ve={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem",["taskItem","taskList"]],isTupleLike:!0,minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},qe={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},Ge=["extension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],Ke={props:{type:{type:"enum",values:["embedCard"]},attrs:{props:{originalWidth:{type:"number",optional:!0},originalHeight:{type:"number",optional:!0},url:{type:"string",validatorFn:"safeUrl"},width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}}}},$e={type:"array",items:[["paragraph_with_no_marks","mediaSingle_full","mediaSingle_caption","heading_with_no_marks","mediaGroup"]],minItems:1,allowUnsupportedBlock:!0},Ye={props:{type:{type:"enum",values:["nestedExpand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"nestedExpand_content"},required:["content"]},Xe=["nestedExpand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],Je={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1},marks:{type:"array",items:["fragment"],optional:!0}}},Ze={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}},Qe={type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","nestedExpand_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0},et={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},tt={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},nt=["blockCard","paragraph_with_no_marks","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table"],rt={props:{type:{type:"enum",values:["expand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0},marks:{type:"array",items:[],optional:!0}}},ot=["expand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],it=["expand",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],at={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0}}},ct=["bodiedExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],st=["blockCard","paragraph_with_no_marks","paragraph_with_alignment","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table","expand_with_no_mark","bodiedExtension_with_marks"],ut={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1,allowUnsupportedBlock:!0}}},lt={props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"]}}},dt=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3,allowUnsupportedBlock:!0}}}],ft=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:1,maxItems:3,allowUnsupportedBlock:!0}}}],pt={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","codeBlock_with_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table","expand_with_no_mark","expand_with_breakout_mark","bodiedExtension_with_marks","layoutSection_full","layoutSection_with_single_column"]],allowUnsupportedBlock:!0}}},ht=n(45),mt=n.n(ht),vt=function(e){return null!=e},bt=function(e){return"string"==typeof e||e instanceof String},gt=function(e){return Array.isArray(e)?e:[e]},yt={safeUrl:n(299).b},Ot=["items"];function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(e.props&&e.props.marks){var n=e.props.marks,r=n.items,o=F()(n,Ot);return kt(kt({},e),{},{props:kt(kt({},e.props),{},{marks:kt(kt({},o),{},{items:r.length?Array.isArray(r[0])?r.map(t):[t(r)]:[[]]})})})}return e}var xt=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r,e[r],e)?0:1].push(r),n}),[[],[]])};function St(e,t){if(!t)return{};for(var n=0,r=t.length;n<r;n++){var o=t[n],i=o,a={};if(Array.isArray(o)){var c=L()(o,2);i=c[0],a=c[1]}if(i===e)return a}return!1}function jt(e,t){if(!vt(e.type))return!!e.optional;if(!vt(t))return!!e.optional;switch(e.type){case"boolean":return!0===(i=t)||!1===i||"[object Boolean]"===toString.call(i);case"number":return function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}(t)&&(!vt(e.minimum)||e.minimum<=t)&&(!vt(e.maximum)||e.maximum>=t);case"integer":return function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(t)&&(!vt(e.minimum)||e.minimum<=t)&&(!vt(e.maximum)||e.maximum>=t);case"string":return bt(t)&&(!vt(e.minLength)||e.minLength<=t.length)&&(!vt(e.validatorFn)||(o=e.validatorFn,"string"==typeof t&&vt(yt[o])&&yt[o](t)))&&(!e.pattern||new RegExp(e.pattern).test(t));case"object":return function(e){return"object"===mt()(e)&&null!==e&&!Array.isArray(e)}(t);case"array":var n=e.items,r=n.length-1;return!!Array.isArray(t)&&t.every((function(e,t){return jt(n[Math.min(t,r)],e)}));case"enum":return bt(t)&&e.values.indexOf(t)>-1}var o,i;return!1}var Ct=function(e,t){return"".concat(e,": ").concat(t,".")},Tt=function(e){if(e&&e.props&&e.props.content){var t=e.props.content;return{allowUnsupportedBlock:t.allowUnsupportedBlock,allowUnsupportedInline:t.allowUnsupportedInline}}return{}},_t=function(e,t,n){var r=Ct(e.type,"invalid content");if(t)return t(kt({},e),{code:"INVALID_CONTENT",message:r},Tt(n));throw new Error(r)},At=function(e,t,n,r){var o=r||Ct(t.type,"unsupported mark");if(n)return n(kt({},t),{code:e,message:o,meta:t},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!0});throw new Error(o)};function Pt(e,t,n){var o=function(e,t){return Object.keys(r).reduce((function(n,o){var i=kt({},r[o]);return i.props&&(i.props=kt({},i.props),i.props.content&&(bt(i.props.content)&&(i.props.content=r[i.props.content]),Array.isArray(i.props.content)?i.props.content={type:"array",items:(i.props.content||[]).map((function(e){return e.items}))}:i.props.content=kt({},i.props.content),i.props.content.items=i.props.content.items.map((function(e){return bt(e)?Array.isArray(r[e])?r[e]:[e]:e})).map((function(n){return n.map((function(e){return Array.isArray(r[e])?r[e]:bt(e)?e:["text",e]})).filter((function(t){if(e){if(Array.isArray(t)){var n,r,o,i=e.indexOf(t[0])>-1;return i&&null!==(n=t[1])&&void 0!==n&&null!==(r=n.props)&&void 0!==r&&null!==(o=r.content)&&void 0!==o&&o.items?t[1].props.content.items.every((function(t){return e.indexOf(t)>-1})):i}return e.indexOf(t)>-1}return!0})).map((function(e){return Array.isArray(e)&&t?[e[0],Et(e[1])]:e}))})))),n[o]=i,n}),{})}(e,t),i=n||{},a=i.mode,c=void 0===a?"strict":a,s=i.allowPrivateAttributes,u=void 0!==s&&s,l=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,c=kt({},e),s=function(e,n,o){var i=Ct(a,n);if(t)return{valid:!1,entity:t(c,{code:e,message:i,meta:o},Tt(r))};throw new Error(i)};if(!a)return s("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");var u=St(a,n);if(!1===u)return i?{valid:!1}:s("INVALID_TYPE","type not allowed here");var l=o[a];if(!l)return s("INVALID_TYPE","".concat(a,": No validation spec found for type!"));var d=h(l,u,e,s,c,a,t,i);return d.hasValidated&&d.result?d.result:{valid:!0,entity:c}};return function(e,t,n,r){var o=l(e,t,n,r);return{entity:o.entity,valid:o.valid}};function d(e,n,r,o,i){var a;e.props&&e.props.marks?a={valid:!0,entity:o,marksValidationOutput:function(e,n,r,o){return e.marks?e.marks.map((function(e){var i=!t||t.indexOf(e.type)>-1;if("strict"===c&&i){var a=l(e,n,r,o,!0),s=a.entity;return s?{valid:!0,originalMark:e,newMark:s}:a.marksValidationOutput&&a.marksValidationOutput.length?{valid:!1,originalMark:e,errorCode:a.marksValidationOutput[0].errorCode,message:a.marksValidationOutput[0].message}:{valid:!1,originalMark:e,errorCode:"INVALID_TYPE"}}return{valid:!1,originalMark:e,errorCode:"INVALID_CONTENT"}})):[]}(n,r,function(e){var t=e.props.marks.items;return t.length?Array.isArray(t[0])?t[0]:t:[]}(e),e)}:a=function(e,t,n,r){var o=e.marks||[],i=o.map((function(e){return"unsupportedNodeAttribute"===e.type?e:At("REDUNDANT_MARKS",e,n)}));return i.length?(t.marks=i,{valid:!0,entity:t}):r("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(o)})}(n,o,r,i);return a}function f(e,t,n,r,o){var i=e.props&&e.props.attrs;if(t.attrs){if(!i)return r?function(e,t){var n=Ct("redundant attributes found",Object.keys(t).join(", "));return{valid:!1,marksValidationOutput:[{valid:!0,originalMark:e,errorCode:"REDUNDANT_ATTRIBUTES",message:n}]}}(t,t.attrs):p(t,n,[],Object.keys(t.attrs),o);var a=function(e,t,n){var r=function(e,t){var n=[],r={};if(e.props&&e.props.attrs)for(var o=gt(e.props.attrs),i=0,a=o.length;i<a;++i){var c=o[i];if(c&&c.props){var s=xt(c.props,(function(e,n){return jt(n,t.attrs[e])}));n=L()(s,2)[1]}if(r=c,!n.length)break}return{invalidAttrs:n,validatorAttrs:r}}(e,t),o=r.invalidAttrs,i=r.validatorAttrs,a=Object.keys(n).filter((function(e){return!(u&&e.startsWith("__"))})).filter((function(e){return!i.props[e]})),c=a.length>0;return{hasUnsupportedAttrs:o.length||c,invalidAttrs:o,redundantAttrs:a}}(e,t,t.attrs),c=a.hasUnsupportedAttrs,s=a.redundantAttrs,l=a.invalidAttrs;if(c)return r?function(e,t,n){var r="INVALID_ATTRIBUTES",o=Ct(e.type,"'attrs' validation failed"),i=n.length;i&&t.length||!i||(r="REDUNDANT_ATTRIBUTES",o=Ct("redundant attributes found",n.join(", ")));return{valid:!1,marksValidationOutput:[{valid:!0,originalMark:e,errorCode:r,message:o}]}}(t,l,s):p(t,n,l,s,o)}return{valid:!0,entity:t}}function p(e,t,n,r,o){var i=n.concat(r),a=Ct(e.type,"'attrs' validation failed");return t.marks=function(e,t,n,r,o,i){var a={};for(var c in n)a[n[c]]=e.attrs&&e.attrs[n[c]],t.attrs&&delete t.attrs[n[c]];var s=function(e,t,n,r,o){if(o)return o({type:e.type},{code:t,message:r,meta:n},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!1,isNodeAttribute:!0});throw new Error(r)}(e,r,a,o,i),u=kt({},t);return u.marks?(s&&u.marks.push(s),u.marks):[s]}(e,t,i,"UNSUPPORTED_ATTRIBUTES",a,o),{valid:!0,entity:t}}function h(e,t,n,r,o,i,a,s){var u={hasValidated:!1},p=function(e,t){return kt(kt(kt({},e),t),e.props?{props:kt(kt({},e.props),t.props||{})}:{})}(e,t);if(!p)return u;var h=function(e,t,n){var r={valid:!0,entity:t};return e.required&&(e.required.every((function(e){return vt(t[e])}))||(r=n("MISSING_PROPERTIES","required prop missing"))),r}(p,n,r);if(!h.valid)return{hasValidated:!0,result:h};if(!p.props){var m=Object.keys(n);return m.length>1?{hasValidated:!0,result:r("REDUNDANT_PROPERTIES","redundant props found: ".concat(Object.keys(n).join(", ")),{props:m})}:u}var v=function(e,t,n){var r={valid:!0,entity:t};return e.props.text&&vt(t.text)&&!jt(e.props.text,t.text)&&(r=n("INVALID_TEXT","'text' validation failed")),r}(p,n,r);if(!v.valid)return{hasValidated:!0,result:v};var b=function(e,t,n){var r={valid:!0,entity:t};if(e.props.content&&t.content){var o=e.props.content,i=o.minItems,a=o.maxItems,c=t.content.length;vt(i)&&i>c?r=n("INVALID_CONTENT_LENGTH","'content' should have more than ".concat(i," child"),{length:c,requiredLength:i,type:"minimum"}):vt(a)&&a<c&&(r=n("INVALID_CONTENT_LENGTH","'content' should have less than ".concat(a," child"),{length:c,requiredLength:a,type:"maximum"}))}return r}(p,n,r);if(!b.valid)return{hasValidated:!0,result:b};var g=xt(p.props,(function(e,t){return t.optional||vt(n[e])})),y=L()(g,2)[1];if(y.length)return{hasValidated:!0,result:r("MISSING_PROPERTIES","required prop missing",{props:y})};var O=f(p,n,o,s,a);if(!O.valid)return{hasValidated:!0,result:O};if(s&&O.valid)return{hasValidated:!0,result:O};var w=function(e,t,n,r,o){var i={valid:!0,entity:t},a=xt(t,(function(t){return vt(e.props[t])})),s=L()(a,2),u=s[0],l=s[1];if(l.length)if("loose"===c)r={type:o},u.reduce((function(e,n){return r=t,(o=e)[i=n]=r[i],o;var r,o,i}),r);else if(!(l.indexOf("marks")>-1||l.indexOf("attrs")>-1)||1!==l.length)return n("REDUNDANT_PROPERTIES","redundant props found: ".concat(l.join(", ")),{props:l});return i}(p,n,r,o,i);if(!w.valid)return{hasValidated:!0,result:w};if(p.props.content){var k=p.props.content;if(n.content){o.content=n.content.map((function(e,t){if(void 0===e)return e;var n=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!0;if(e&&e.marks&&t){var a=t.filter((function(e){return e.valid})),c=t.map((function(e){return e.valid?e.newMark:a.length||r||o||"INVALID_TYPE"===e.errorCode||"INVALID_CONTENT"===e.errorCode||"REDUNDANT_ATTRIBUTES"===e.errorCode||"INVALID_ATTRIBUTES"===e.errorCode?At(e.errorCode,e.originalMark,n,e.message):void 0})).filter(Boolean);c.length?e.marks=c:(delete e.marks,i=!1)}return{valid:i,entity:e}};if(!!k.isTupleLike){var r=l(e,a,gt(k.items[t]||k.items[k.items.length-1]),p);return n(r.entity,r.marksValidationOutput,a,!1,!0).entity}var o=k.items.filter((function(t){return!Array.isArray(t)||t.some((function(t){return(Array.isArray(t)?t[0]:t)===e.type}))}));if(o.length){if(o.length>1)throw new Error("Consider using Tuple instead!");var i,c,s=gt(o[0]).filter((function(t){return(Array.isArray(t)?t[0]:t)===e.type}));if(0===s.length)return _t(e,a,p);for(var u=0,d=s.length;u<d;u++)try{var f=[s[u]],h=l(e,a,f,p),m=h.valid,v=h.entity,b=h.marksValidationOutput;if(m){var g=u===s.length-1,y=n(v,b,a,g),O=y.valid,w=y.entity,E=w&&w.marks&&w.marks.filter((function(e){return"unsupportedMark"===e.type}))||[];if(O&&!E.length)return w;c=c||v}else c=c||v}catch(e){i=i||e}if(a)return c;throw i}return _t(e,a,p)})).filter(Boolean)}else if(!k.optional)return{hasValidated:!0,result:r("MISSING_PROPERTIES","missing `content` prop")}}return n.marks?{hasValidated:!0,result:d(p,n,a,o,r)}:u}}var It=n(100),Mt=n(285),Rt=function(e,t,n){return function(r,o,i){return Nt(r,o,i,e,t,n)}},Nt=function(e,t,n,r,o,i){if(e&&"unsupportedNodeAttribute"===e.type)return e;if(n.isMark)return Lt(t.meta,"mark");if(n.isNodeAttribute)return{type:"unsupportedNodeAttribute",attrs:{type:{nodeType:e&&e.type?e.type:void 0},unsupported:t.meta}};if(!(e&&r.indexOf(e.type)>-1)){if("MISSING_PROPERTIES"===t.code&&"paragraph"===e.type)return{type:"paragraph",content:[]};if("INVALID_CONTENT_LENGTH"===t.code){if(t.meta&&n.allowUnsupportedBlock&&e.content)return function(e,t,n,r,o){var i=e.meta;"maximum"===i.type&&(t.content=t.content.filter((function(e){return!!e})).map((function(e,t){return t>=i.requiredLength&&"unsupportedBlock"!==e.type?Lt(e):n(e,Rt(r,n,o)).entity})));if("minimum"===i.type){if(0===t.content.length)return Lt(t);t.content=t.content.filter((function(e){return!!e})).map((function(e){return"unsupportedBlock"!==e.type?Lt(e):e}))}return t}(t,e,o,r,i);i&&Dt(i,t,e)}return n.allowUnsupportedBlock?Lt(e):n.allowUnsupportedInline?Lt(e,"inline"):(i&&Dt(i,t,e),e)}};function Dt(e,t,n){e&&Object(Mt.b)(e,It.c.UNSUPPORTED_ERROR,n,t.code)}function Lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";switch(n){case"inline":t="unsupportedInline";break;case"mark":t="unsupportedMark";break;default:t="unsupportedBlock"}return{type:t,attrs:{originalValue:e}}}var Bt=n(235),Ft=n(38);function zt(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function Ut(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){if(Ut(e.child(n)))return!0}return!1}function Ht(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&zt(e.firstChild))return!0;var t=[],n=[];return e.forEach((function(e){e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((function(e){return!!e.childCount&&!(1===e.childCount&&zt(e.firstChild))||e.isAtom})).length}function Wt(e){var t=e.content.firstChild;return!(1!==e.childCount||!t)&&zt(t)}function Vt(e){return 1===e.depth}function qt(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.node();return!!o&&(zt(o)&&Vt(r))}function Gt(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.nodeBefore;return!!o&&("text"===o.type.name&&"{"===o.text&&(0===r.node().marks.length&&Vt(r)))}function Kt(e,t,n,r,o,i){if(t){var s,u;if("string"==typeof t)try{if(o)s=o.parse(t).toJSON();else s=JSON.parse(t)}catch(e){return void console.error("Error processing value: ".concat(t," isn't a valid JSON"))}else s=t;if(Array.isArray(s))console.error("Error processing value: ".concat(s," is an array, but it must be an object."));else try{if("doc"===s.type&&(Array.isArray(s.content)&&0===s.content.length&&s.content.push({type:"paragraph",content:[]}),s.version||(s.version=1)),o)return a.Node.fromJSON(e,s);var l=function(e){var t=!1;return{transformedAdf:Object(c.a)(e,{mediaSingle:function(e){var n;if(!e.marks||!e.content||"media"!==(null===(n=e.content[0])||void 0===n?void 0:n.type))return e;var r=null;if(e.marks.forEach((function(n,o){var i;"link"===n.type&&(r=n,null===(i=e.marks)||void 0===i||i.splice(o,1),t=!0)})),0===e.marks.length&&delete e.marks,r){var o,i=e.content[0];null!==(o=i.marks)&&void 0!==o&&o.every((function(e){return"link"!==e.type}))?i.marks.push(r):i.marks||(i.marks=[r])}return e}}),isTransformed:t}}(s),d=l.transformedAdf,p=l.isTransformed;p&&i&&i({action:Ft.a.MEDIA_LINK_TRANSFORMED,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL});var h=f(d);d=h.transformedAdf,(p=h.isTransformed)&&i&&i({action:Ft.a.TEXT_LINK_MARK_TRANSFORMED,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL});var m,b=v(d);d=b.transformedAdf,p=b.isTransformed,m=b.discardedMarks,p&&i&&i({action:Ft.a.DEDUPE_MARKS_TRANSFORMED,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL,attributes:{discardedMarks:m}});var g=function(e){var t=!1,n=function(){t=!0},r=Object(c.a)(e,{tableCell:C(n)});return{transformedAdf:r=Object(c.a)(r||e,{bulletList:T(n),orderedList:T(n),table:_(n)}),isTransformed:t}}(d);d=g.transformedAdf,(p=g.isTransformed)&&i&&i({action:Ft.a.NODES_MISSING_CONTENT_TRANSFORMED,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL});var y=I(d);d=y.transformedAdf,(p=y.isTransformed)&&i&&i({action:Ft.a.INDENTATION_MARKS_TRANSFORMED,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL});var O=function(e,t,n){var r=Object.keys(e.nodes),o=Object.keys(e.marks),i=Pt(r,o,{allowPrivateAttributes:!0}),a=i(t,Rt(o,i,n)).entity;return void 0===a?{type:"doc",content:[]}:a}(e,d||s,i),w=$t(O,n,r),k=a.Node.fromJSON(e,w);try{k.check()}catch(e){throw i&&i({action:Ft.a.INVALID_PROSEMIRROR_DOCUMENT,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL,attributes:{error:null==e?void 0:e.toString()}}),e}return i&&Object(Mt.a)(k,e,i),k}catch(e){if(i&&i({action:Ft.a.DOCUMENT_PROCESSING_ERROR,actionSubject:Ft.b.EDITOR,eventType:Ft.e.OPERATIONAL,attributes:{error:null==e?void 0:e.toString()}}),console.error("Error processing document:\n".concat(e.message,"\n\n"),JSON.stringify(s)),(u=e)instanceof RangeError&&(u.message.match(/^Invalid collection of marks for node/)||u.message.match(/^Invalid content for node/)))throw e;return}}}var $t=function(e,t,n){return n&&t?function(e,t){var n=new Map,r=!1,o=Object(c.a)(e,{mention:function(e){if(e.attrs&&e.attrs.text){r=!0;var t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return N(N({},e),{},{attrs:N(N({},e.attrs),{},{text:""})})}});if(r&&t){t.subscribe("mentionProvider",(function e(r,o){o&&o.then((function(r){Object(M.b)(r)&&(n.forEach((function(e,t){r.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))}))}return o}(e,t):e},Yt=function(e){var t=-1,n=-1;return e.steps.forEach((function(e){e.getMap().forEach((function(e,r,o,i){t=o<t||-1===t?o:t,n=i<n||-1===n?i:n}))})),-1!==t?{from:t,to:n}:null},Xt=function(e){return function(t){for(var n=null,r=t.depth;r>0;r--){var o=t.node(r);e(o)&&(n={pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:o})}return n}},Jt=function(e){return e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end()};function Zt(e,t,n){var r=Yt(e);r&&e.doc.nodesBetween(r.from,r.to,t,n)}function Qt(e){var t={};return e.nodesBetween(0,e.nodeSize-2,(function(e){t[e.type.name]=(t[e.type.name]||0)+1})),t}function en(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["wide","full-width"],r=new Set;if("doc"===e.type.name&&e.childCount)for(var o=0;o<e.childCount&&r.size!==n.length;++o){var a=Object(Bt.a)(e.child(o),t.marks.breakout);a&&n.includes(a)&&r.add(a)}return i()(r)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";n.d(t,"q",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"E",(function(){return v})),n.d(t,"B",(function(){return b})),n.d(t,"F",(function(){return g})),n.d(t,"C",(function(){return y})),n.d(t,"G",(function(){return O})),n.d(t,"D",(function(){return w})),n.d(t,"U",(function(){return k})),n.d(t,"I",(function(){return E})),n.d(t,"K",(function(){return x})),n.d(t,"J",(function(){return S})),n.d(t,"t",(function(){return j})),n.d(t,"y",(function(){return C})),n.d(t,"p",(function(){return T})),n.d(t,"n",(function(){return _})),n.d(t,"o",(function(){return A})),n.d(t,"S",(function(){return P})),n.d(t,"M",(function(){return I})),n.d(t,"N",(function(){return M})),n.d(t,"Q",(function(){return R})),n.d(t,"R",(function(){return N})),n.d(t,"r",(function(){return D})),n.d(t,"i",(function(){return L})),n.d(t,"V",(function(){return B})),n.d(t,"s",(function(){return F})),n.d(t,"P",(function(){return z})),n.d(t,"e",(function(){return U})),n.d(t,"u",(function(){return H})),n.d(t,"z",(function(){return W})),n.d(t,"O",(function(){return V})),n.d(t,"x",(function(){return q})),n.d(t,"w",(function(){return G})),n.d(t,"L",(function(){return K})),n.d(t,"cb",(function(){return $})),n.d(t,"Z",(function(){return Y})),n.d(t,"X",(function(){return X})),n.d(t,"W",(function(){return J})),n.d(t,"v",(function(){return Z})),n.d(t,"T",(function(){return Q})),n.d(t,"g",(function(){return ee})),n.d(t,"Y",(function(){return te})),n.d(t,"c",(function(){return ne})),n.d(t,"b",(function(){return re})),n.d(t,"a",(function(){return oe})),n.d(t,"H",(function(){return ie})),n.d(t,"ab",(function(){return ae})),n.d(t,"db",(function(){return ce})),n.d(t,"A",(function(){return se})),n.d(t,"bb",(function(){return ue}));var r=n(21),o=n.n(r),i=n(3),a=n(16),c=n(33),s=16,u=Object(a.e)(),l=(i.N500,i.B100,i.N40,i.N500,i.N0,i.N40),d=(i.N900,i.N700,i.B50,i.B400,i.N20,i.R50),f=(i.R50,"rgba(255, 189, 173, 0.5)"),p=i.R300,h=i.R400,m=20,v=i.B300,b=i.B50,g=(i.B75,1),y="".concat(g,"px solid ").concat(Object(c.a)("color.border.selected",v)),O="0 0 0 ".concat(g,"px ").concat(Object(c.a)("color.border.selected",v)),w=(i.B400,2),k=1,E=2,x=11,S=x+1,j=9999,C=a.j.blanket(),T=a.j.layer(),_=C+10,A=T+5,P=(i.N100,11),I=i.N50,M=i.DN70,R=i.N20,N=i.DN50,D=(i.N20,i.B75,i.B100,i.B300,i.R50,i.R300,i.R75,680),L=760,B=960,F=1800,z=42,U=96,H=32,W=720,V=48,q=12,G=4,K="cubic-bezier(0.15, 1, 0.3, 1)",$=1024,Y=1.33,X=99*k,J=1.5*Object(a.i)(),Z=1.714,Q=(i.N30,2),ee=320,te="0.75rem",ne=680,re=480,oe="56px",ie="ak-editor-selected-node",ae=function(e){var t=e.theme;return t&&t.baseFontSize?t.baseFontSize:Object(a.g)()},ce=function(e){if("string"==typeof e&&(e=parseInt(e)),isNaN(e))throw new Error("Invalid font size: '".concat(e,"'"));return"".concat(e/16,"rem")},se=0,ue=[["White","#000000"],["Light blue","#0C294F"],["Light teal","#0C343B"],["Light green","#052E21"],["Light yellow","#484123"],["Light red","#441C13"],["Light purple","#282249"],["Light gray","#202328"],["Blue","#0B3165"],["Teal","#044853"],["Green","#053927"],["Yellow","#6F5C25"],["Red","#582013"],["Purple","#3E327B"],["Gray","#475262"],["Dark blue","#003884"],["Dark teal","#055866"],["Dark green","#044932"],["Dark yellow","#82641C"],["Dark red","#6B2A19"],["Dark purple","#4D38B2"]].map((function(e){var t=o()(e,2);return function(e,t){return'\n  &[colorname="'.concat(e,'"] {\n    background-color: ').concat(t," !important; // !important to override default style color\n  }\n  ")}(t[0],t[1])})).join("\n")},function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.EMOJI="emojiTypeAhead",e.MENTION="mentionTypeAhead",e.QUICK_INSERT="quickInsertTypeAhead"}(r||(r={})),function(e){e.SHIFT_ENTER="shift-enter",e.ENTER="enter",e.SPACE="space",e.SELECTED="selected",e.TAB="tab"}(o||(o={}))},function(e,t,n){"use strict";var r,o,i,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency"}(r||(r={})),function(e){e.SITE="SITE",e.STANDARD="STANDARD",e.ATLASSIAN="ATLASSIAN",e.UNKNOWN="UNKNOWN",e.SINGLE="SINGLE"}(o||(o={})),function(e){e.EMOJI_RENDERED="emoji-rendered",e.EMOJI_RESOURCE_FETCHED="emoji-resource-fetched",e.EMOJI_PICKER_OPENED="emoji-picker-opened",e.EMOJI_SELECTION_RECORDED="emoji-selection-recorded",e.EMOJI_UPLOADED="emoji-uploaded",e.EMOJI_SEARCHED="emoji-searched"}(i||(i={})),function(e){e.EMOJI="emoji",e.EMOJI_PICKER="emoji-picker",e.EMOJI_PROVIDER="emoji-provider"}(a||(a={})),function(e){e.FMP="fmp",e.MOUNTED="emoji-mount",e.METADATA="emoji-metadata",e.MEDIADATA="emoji-media",e.ONLOAD="emoji-onload"}(c||(c={})),function(e){e.FMP_END="fmp",e.MOUNTED_END="emoji-mount_end",e.METADATA_START="emoji-metadata_start",e.METADATA_END="emoji-metadata_end",e.MEDIA_START="emoji-media_start",e.MEDIA_END="emoji-media_end",e.ONLOAD_START="emoji-onload_start",e.ONLOAD_END="emoji-onload_end"}(s||(s={}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("mediaPlugin")},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m}));var r=n(27),o=n(14),i=n(4);function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function c(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function s(e,t,n){var r=e.selection,o=r.$head,a=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;a=u(o)}var c=a&&a.nodeBefore;return!(!c||!i.NodeSelection.isSelectable(c))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function l(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function d(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function f(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof i.AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;var a=d(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){var c=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(c,a.createAndFill());s.setSelection(i.TextSelection.create(s.doc,c+1)),t(s.scrollIntoView())}return!0}function p(e,t){var n=e.selection,o=n.$from,a=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!o.parentOffset||!Object(r.i)(e.doc,o.pos))&&(t&&t(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(t){var c=a.parentOffset==a.parent.content.size,s=e.tr;(e.selection instanceof i.TextSelection||e.selection instanceof i.AllSelection)&&s.deleteSelection();var u=0==o.depth?null:d(o.node(-1).contentMatchAt(o.indexAfter(-1))),l=c&&u?[{type:u}]:null,f=Object(r.i)(s.doc,s.mapping.map(o.pos),1,l);if(l||f||!Object(r.i)(s.doc,s.mapping.map(o.pos),1,u&&[{type:u}])||(l=[{type:u}],f=!0),f&&(s.split(s.mapping.map(o.pos),1,l),!c&&!o.parentOffset&&o.parent.type!=u)){var p=s.mapping.map(o.before()),h=s.doc.resolve(p);o.node(-1).canReplaceWith(h.index(),h.index()+1,u)&&s.setNodeMarkup(s.mapping.map(o.before()),u)}t(s.scrollIntoView())}return!0}function h(e,t,n){var a,s,u=t.nodeBefore,l=t.nodeAfter;if(u.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,i=t.nodeAfter,a=t.index();return!!(o&&i&&o.type.compatibleContent(i.type))&&(!o.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(a,a+1)||!i.isTextblock&&!Object(r.h)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;var d=t.parent.canReplace(t.index(),t.index()+1);if(d&&(a=(s=u.contentMatchAt(u.childCount)).findWrapping(l.type))&&s.matchType(a[0]||l.type).validEnd){if(n){for(var f=t.pos+l.nodeSize,p=o.Fragment.empty,h=a.length-1;h>=0;h--)p=o.Fragment.from(a[h].create(null,p));p=o.Fragment.from(u.copy(p));var m=e.tr.step(new r.b(t.pos-1,f,t.pos,f,new o.Slice(p,1,0),a.length,!0)),v=f+2*a.length;Object(r.h)(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var b=i.Selection.findFrom(t,1),g=b&&b.$from.blockRange(b.$to),y=g&&Object(r.n)(g);if(null!=y&&y>=t.depth)return n&&n(e.tr.lift(g,y).scrollIntoView()),!0;if(d&&c(l,"start",!0)&&c(u,"end")){for(var O=u,w=[];w.push(O),!O.isTextblock;)O=O.lastChild;for(var k=l,E=1;!k.isTextblock;k=k.firstChild)E++;if(O.canReplace(O.childCount,O.childCount,k.content)){if(n){for(var x=o.Fragment.empty,S=w.length-1;S>=0;S--)x=o.Fragment.from(w[S].copy(x));n(e.tr.step(new r.b(t.pos-w.length,t.pos+l.nodeSize,t.pos+E,t.pos+l.nodeSize-E,new o.Slice(x,w.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function m(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,c=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,c=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(c)return!1;c=e.inlineContent&&e.type.allowsMarkType(n)})),c)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,c,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var s=!1,u=n.tr,l=0;!s&&l<c.length;l++){var d=c[l],f=d.$from,p=d.$to;s=n.doc.rangeHasMark(f.pos,p.pos,e)}for(var h=0;h<c.length;h++){var m=c[h],v=m.$from,b=m.$to;if(s)u.removeMark(v.pos,b.pos,e);else{var g=v.pos,y=b.pos,O=v.nodeAfter,w=b.nodeBefore,k=O&&O.isText?/^\s*/.exec(O.text)[0].length:0,E=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;g+k<y&&(g+=k,y-=E),u.addMark(g,y,e.create(t))}}r(u.scrollIntoView())}return!0}}function v(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,o,i){return e(n,o&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var o=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],c=0;c<o.length;c++)o[c]=a.map(o[c]);a.forEach((function(e,t,n,r){return o.push(n,r)}))}for(var s=[],u=0;u<o.length;u+=2)for(var l=o[u],d=o[u+1],f=n.doc.resolve(l),p=f.sharedDepth(d),h=f.node(p),m=f.indexAfter(p),v=f.after(p+1);v<=d;++m){var b=h.maybeChild(m);if(!b)break;if(m&&-1==s.indexOf(v)){var g=h.child(m-1);g.type==b.type&&t(g,b)&&s.push(v)}v+=b.nodeSize}s.sort((function(e,t){return e-t}));for(var y=s.length-1;y>=0;y--)Object(r.h)(n.doc,s[y])&&n.join(s[y]);e(n)}}(o,t),i)}}function b(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var g=b(a,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var a=u(o);if(!a){var s=o.blockRange(),l=s&&Object(r.n)(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&h(e,a,t))return!0;if(0==o.parent.content.size&&(c(d,"end")||i.NodeSelection.isSelectable(d))){if(t){var f=e.tr.deleteRange(o.before(),o.after());f.setSelection(c(d,"end")?i.Selection.findFrom(f.doc.resolve(f.mapping.map(a.pos,-1)),-1):i.NodeSelection.create(f.doc,a.pos-d.nodeSize)),t(f.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}),s),y=b(a,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=l(r);if(!o)return!1;var a=o.nodeAfter;if(h(e,o,t))return!0;if(0==r.parent.content.size&&(c(a,"start")||i.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(c(a,"start")?i.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):i.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,a=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;a=l(o)}var c=a&&a.nodeAfter;return!(!c||!i.NodeSelection.isSelectable(c))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),!0)})),O={Enter:b((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),f,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(Object(r.i)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var i=n.blockRange(),a=i&&Object(r.n)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}),p),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var a=r.node(-1),c=r.indexAfter(-1),s=d(a.contentMatchAt(c));if(!a.canReplaceWith(c,c,s))return!1;if(t){var u=r.after(),l=e.tr.replaceWith(u,u,s.createAndFill());l.setSelection(i.Selection.near(l.doc.resolve(u),1)),t(l.scrollIntoView())}return!0},Backspace:g,"Mod-Backspace":g,"Shift-Backspace":g,Delete:y,"Mod-Delete":y,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}},w={"Ctrl-h":O.Backspace,"Alt-Backspace":O["Mod-Backspace"],"Ctrl-d":O.Delete,"Ctrl-Alt-Backspace":O["Mod-Delete"],"Alt-Delete":O["Mod-Delete"],"Alt-d":O["Mod-Delete"]};for(var k in O)w[k]=O[k];var E=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?w:O},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d}));var r,o=n(72);!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(r||(r={}));var i=function(e){function t(n,r,o){var i=this,a=o?o instanceof Error?o:new Error(String(o)):void 0;return(i=e.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r," \n").concat(a?"\n".concat(a.message,"\n").concat(a.stack):""))||this).code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return Object(o.b)(t,e),t}(Error),a=function(e){function t(t,n){return e.call(this,r.UNSUPPORTED_FORMATTER,t,n)||this}return Object(o.b)(t,e),t}(i),c=function(e){function t(t,n){return e.call(this,r.INVALID_CONFIG,t,n)||this}return Object(o.b)(t,e),t}(i),s=function(e){function t(t,n){return e.call(this,r.MISSING_DATA,t,n)||this}return Object(o.b)(t,e),t}(i),u=function(e){function t(t,n,o){return e.call(this,r.FORMAT_ERROR,"".concat(t," \nLocale: ").concat(n,"\n"),o)||this}return Object(o.b)(t,e),t}(i),l=function(e){function t(t,n,r,o){var i=e.call(this,"".concat(t," \nMessageID: ").concat(null==r?void 0:r.id,"\nDefault Message: ").concat(null==r?void 0:r.defaultMessage,"\nDescription: ").concat(null==r?void 0:r.description," \n"),n,o)||this;return i.descriptor=r,i}return Object(o.b)(t,e),t}(u),d=function(e){function t(t,n){var o=e.call(this,r.MISSING_TRANSLATION,'Missing message: "'.concat(t.id,'" for locale "').concat(n,'", using ').concat(t.defaultMessage?"default message":"id"," as fallback."))||this;return o.descriptor=t,o}return Object(o.b)(t,e),t}(i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},customPanel:{id:"fabric.editor.customPanel",defaultMessage:"Custom panel",description:"Visually distinguishes your panel by adding a emoji icon and background color"},customPanelDescription:{id:"fabric.editor.customPanel.description",defaultMessage:"Add a note with an emoji and colored background",description:"Visually distinguishes your panel by adding a emoji icon and background color "},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})},function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return v}));var r=n(3),o=n(16),i={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},a=60,c=Object(o.i)(),s=Object(o.d)(),u=2*c,l=3*c,d=c,f=c,p=2,h="var(--ds-border, ".concat(r.N30,")"),m="var(--ds-text, ".concat(Object(r.text)(),")"),v={danger:"var(--ds-icon-danger, ".concat(r.R400,")"),warning:"var(--ds-icon-warning, ".concat(r.Y400,")")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"f",(function(){return g}));var r=n(1),o=n.n(r),i=n(57),a=n(304),c=n(195),s=n(97);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,f,p,h="sli",m="smart";!function(e){e.SEARCH="searchUser",e.SEARCH_TEAM="searchTeam",e.INITIAL_STATE="initialState",e.SELECT="select",e.SELECT_TEAM="selectTeam"}(d||(d={})),function(e){e.TYPEAHEAD="mentionTypeahead",e.MENTION="mention",e.TEAM_MENTION_HIGHLIGHT="teamMentionHighlight"}(f||(f={})),function(e){e.VIEWED="viewed",e.CLICKED="clicked",e.CLOSED="closed",e.SUCCEEDED="succeeded",e.FAILED="failed"}(p||(p={}));var v=function(e){return function(t,n,r,o,s){if(e){var u={action:n,actionSubject:t,actionSubjectId:o,eventType:i.e,attributes:{source:r,packageName:c.a,packageVersion:c.b,componentName:f.TEAM_MENTION_HIGHLIGHT,viewedCount:s}};e(u).fire(a.a)}}},b=function(e){return function(t,n,r,o,u){var l={action:n,actionSubject:t,eventType:i.e,attributes:{packageName:c.a,packageVersion:c.b,componentName:f.MENTION,accessLevel:u,isSpecial:Object(s.h)(r),userId:o}},d=e(l);return d.fire(a.a),d}},g=function(e,t,n){return{action:t,actionSubject:e,eventType:i.b,attributes:l({packageName:c.a,packageVersion:c.b,componentName:f.MENTION},n)}}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.mapping,i=n.onDocChanged,a=n.onSelectionChanged;return{createPluginState:function(n,c){return{init:function(e,t){return r(c)?c(t):c},apply:function(r,c){var s=o?o(r,c):c,u=s,l=r.getMeta(e);return l&&(u=t(s,l)),i&&r.docChanged?u=i(r,u):a&&r.selectionSet&&(u=a(r,u)),u!==s&&n(e,u),u}}},createCommand:function(t,n){return function(o,i){if(i){var a=n?n(o.tr,o):o.tr,c=r(t)?t(o):t;if(!a||!c)return!1;i(a.setMeta(e,c))}return!0}},getPluginState:function(t){return e.getState(t)}}}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"J",(function(){return k})),n.d(t,"w",(function(){return E})),n.d(t,"s",(function(){return x})),n.d(t,"p",(function(){return S})),n.d(t,"n",(function(){return j})),n.d(t,"q",(function(){return C})),n.d(t,"g",(function(){return T})),n.d(t,"y",(function(){return _})),n.d(t,"x",(function(){return A})),n.d(t,"m",(function(){return P})),n.d(t,"C",(function(){return I})),n.d(t,"D",(function(){return M})),n.d(t,"E",(function(){return N})),n.d(t,"k",(function(){return D})),n.d(t,"B",(function(){return L})),n.d(t,"t",(function(){return B})),n.d(t,"I",(function(){return F})),n.d(t,"r",(function(){return z})),n.d(t,"v",(function(){return U})),n.d(t,"F",(function(){return H})),n.d(t,"H",(function(){return W})),n.d(t,"z",(function(){return V})),n.d(t,"N",(function(){return q})),n.d(t,"A",(function(){return G})),n.d(t,"O",(function(){return K})),n.d(t,"M",(function(){return $})),n.d(t,"L",(function(){return Y})),n.d(t,"R",(function(){return X})),n.d(t,"Q",(function(){return J})),n.d(t,"S",(function(){return Z})),n.d(t,"c",(function(){return Q})),n.d(t,"K",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"i",(function(){return ne})),n.d(t,"j",(function(){return re})),n.d(t,"G",(function(){return oe})),n.d(t,"h",(function(){return ie})),n.d(t,"o",(function(){return ae})),n.d(t,"l",(function(){return ce})),n.d(t,"u",(function(){return se})),n.d(t,"b",(function(){return ue})),n.d(t,"T",(function(){return le})),n.d(t,"P",(function(){return de})),n.d(t,"e",(function(){return fe})),n.d(t,"d",(function(){return pe}));var r,o,i,a,c,s,u,l,d=n(7),f=n.n(d),p=n(1),h=n.n(p),m=n(12),v=n(16),b=n(33),g=n(98),y=n(143),O=n(3),w="emoji-common-selected",k="emoji-common-select-on-hover",E="emoji-common-emoji-sprite",x="emoji-common-node",S="emoji-common-emoji-image",j="emoji-common-deleteButton",C="emoji-common-main-styles",T=Object(m.c)({visibility:"hidden",display:"flex",height:"0px",width:"38px",alignItems:"flex-end",justifyContent:"flex-end",paddingTop:"4px",marginBottom:"-4px"}),_=Object(m.c)({flex:1,display:"flex",justifyContent:"flex-end",padding:"8px 10px 8px 0"}),A=Object(m.c)((r={borderRadius:"".concat(Object(v.d)(),"px"),backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0"},h()(r,"&.".concat(w,",&.").concat(k,":hover"),{backgroundColor:y.a}),h()(r,"&.".concat(w,",&.").concat(k,":hover .").concat(j),{visibility:"visible"}),h()(r,"img",{display:"block"}),r)),P=Object(m.c)((o={display:"inline-block",margin:"-1px 0"},h()(o,"&.".concat(w,",&.").concat(k,":hover"),{backgroundColor:y.a}),h()(o,".".concat(E),{background:"transparent no-repeat",display:"inline-block",minHeight:"".concat(g.h,"px"),minWidth:"".concat(g.h,"px"),verticalAlign:"middle"}),o)),I="emoji-common-placeholder",M=Object(m.c)({position:"relative",margin:"-1px 0",display:"inline-block",background:Object(b.a)("color.border","#f7f7f7"),borderRadius:"".concat(Object(v.d)(),"px"),overflow:"hidden",verticalAlign:"middle",whiteSpace:"nowrap",textAlign:"center"}),R=Object(m.e)(i||(i=f()(["\n  from {\n    transform: translateX(-100%);\n  }\n  to   {\n    transform: translateX(100%);\n  }\n"]))),N=Object(m.c)({"&::before":{content:'""',display:"block",position:"absolute",background:Object(b.a)("color.background.neutral",O.N20A),height:"100%",width:"100%",animation:"".concat(R," 1s cubic-bezier(0.4, 0.0, 0.2, 1) infinite")}}),D=Object(m.c)((c={backgroundColor:"transparent",border:"0",cursor:"pointer",padding:0},h()(c,"&::-moz-focus-inner",{border:"0 none",padding:0}),h()(c,"&>span",(a={borderRadius:"".concat(Object(v.d)(),"px"),padding:"8px"},h()(a,"&>.".concat(E),{height:"24px",width:"24px"}),h()(a,"&>img",{height:"24px",width:"24px"}),a)),c)),L=Object(m.c)({display:"none"}),B="emoji-picker-add-emoji",F=Object(m.c)({display:"flex",flexDirection:"column",alignSelf:"center",marginTop:"-2px",marginLeft:"10px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1}),z=Object(m.c)(h()({display:"block",color:Object(b.a)("color.text",O.N900),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"&:first-letter",{textTransform:"uppercase"})),U=Object(m.c)(h()({display:"block",color:Object(b.a)("color.text.subtle",O.N200),fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap"},"&:first-of-type",{color:Object(b.a)("color.text",O.N900),fontSize:"14px"})),H=Object(m.c)({display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px"}),W=Object(m.c)((s={display:"inline-block",flex:"initial",width:"32px"},h()(s,"& .".concat(E,", > span"),{width:"32px",height:"32px",padding:0,maxHeight:"inherit"}),h()(s,"& > span > img",{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}),s)),V=(Object(m.c)({display:"flex",height:"50px",boxSizing:"border-box"}),Object(m.c)({border:"1px solid ".concat(Object(b.a)("color.border","#fff")),borderRadius:"".concat(Object(v.d)(),"px"),display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"}),Object(m.c)({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"})),q=Object(m.c)({color:Object(b.a)("color.text.subtle",O.N300),fontSize:"12px",paddingBottom:"7px"}),G=Object(m.c)({fontSize:"11px"}),K=Object(m.c)({display:"flex",justifyContent:"space-between"}),$=Object(m.c)({flex:"1 1 auto",marginRight:"5px",input:(u={background:"transparent",border:0,outline:"none"},h()(u,"&:invalid",{boxShadow:"none"}),h()(u,"&::-ms-clear",{display:"none"}),u)}),Y=Object(m.c)({flex:"0 0 auto"}),X=Object(m.c)({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),J=Object(m.c)({display:"flex",justifyContent:"space-between",alignItems:"center",background:Object(b.a)("color.background.neutral",O.N20),borderRadius:"".concat(Object(v.d)(),"px"),padding:"10px"}),Z=Object(m.c)({h5:{color:Object(b.a)("color.text.subtle",O.N300),paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}),Q=Object(m.c)({paddingLeft:"4px",img:{maxHeight:"40px",maxWidth:"100px"}}),ee=Object(m.c)({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),te=Object(m.c)({alignSelf:"center",marginLeft:"10px",marginBottom:"10px"}),ne=Object(m.c)({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end"}),re=Object(m.c)({height:"64px",fontSize:"12px","&:first-of-type":{color:Object(b.a)("color.text.subtle",O.N300),lineHeight:"16px"}}),oe=Object(m.c)({display:"flex"}),ie=Object(m.c)((l={display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",img:{maxHeight:"32px",maxWidth:"72px"}},h()(l,".".concat("emoji-submit-delete"),{width:"84px",fontWeight:"bold",marginRight:"4px"}),h()(l,"button",{display:"flex",justifyContent:"center",fontSize:"14px",div:{display:"flex"}}),l)),ae=Object(m.c)({display:"flex",color:Object(b.a)("color.text.danger",O.R400),alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),ce=Object(m.c)({display:"flex",color:Object(b.a)("color.text.danger",O.R300),paddingRight:"10px",justifyContent:"flex-start"}),se=Object(m.c)({display:"inline-flex",color:Object(b.a)("color.text.danger",O.R400),paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),ue=Object(m.c)({maxWidth:"285px"}),le=Object(m.c)({maxWidth:"172px",justifyContent:"center",fontWeight:"bold",marginRight:"4px",div:{display:"flex"}}),de=Object(m.c)({maxWidth:"187px",justifyContent:"center",marginRight:"4px",div:{display:"flex"}}),fe=Object(m.c)({maxWidth:"100px"}),pe=Object(m.c)({marginRight:"10px",marginLeft:"10px"})},function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"b",(function(){return S})),n.d(t,"k",(function(){return j}));var r=n(4),o=n(32),i=n(1192),a=n(1186),c=n(133),s=n(30),u=n(38),l=function(e){if(!e.length)return[];var t=e[0].type.schema.marks.annotation;return e.filter((function(e){return e.type===t})).map((function(e){return e.attrs.id}))},d=function(e,t){var n,r,o,i,a,c=(n=t,r=n.nodeBefore,o=n.nodeAfter,i=r&&n.doc.nodeAt(Math.max(0,n.pos-r.nodeSize-1)),a=o&&n.doc.nodeAt(n.pos+o.nodeSize),[i&&i.marks||[],a&&a.marks||[]]).map(l);e.sort((function(e,t){return Object(s.w)(c,(function(t){return t.indexOf(e.id)}))-Object(s.w)(c,(function(e){return e.indexOf(t.id)}))}))},f=function(e){var t=new Set;return e.descendants((function(e){return e.marks.filter((function(e){return"annotation"===e.type.name})).filter(p).forEach((function(e){return t.add(e.attrs.id)})),!0})),Array.from(t)},p=function(e){var t=e.attrs,n=t.id,r=t.annotationType;return function(e){if(!e||"string"!=typeof e)return!1;return!["null","undefined"].includes(e.toLowerCase())}(n)&&function(e){if(!e||"string"!=typeof e)return!1;return Object.values(a.a).includes(e)}(r)},h=function(e,t){return o.a.inline(e,t,{class:"".concat(i.a.draft)})},m=function(e){var t=e.map((function(e){return e.id})).join("_");return"view-annotation-wrapper_".concat(t)},v=function(e,t){var n=e.empty,r=e.$anchor,o=e.anchor;if(!n||!t)return[];var i=t.nodeAt(o);if(!i&&!r.nodeBefore)return[];var a=t.type.schema.marks.annotation,c=r.nodeBefore,s=i&&i.marks||[],u=[];a.isInSet(s)?u=s:c&&a.isInSet(c.marks)&&(u=c.marks);var l=u.filter((function(e){return"annotation"===e.type.name})).map((function(e){return{id:e.attrs.id,type:e.attrs.annotationType}}));return d(l,r),l};function b(e,t){var n=t.bookmark;return n?n.resolve(e.doc):e.selection}var g=new r.PluginKey("inlineCommentPluginKey"),y=function(e){return g.getState(e)},O=function(e){var t=e.selection;return function(e,t,n){var r=e.from,o=e.to,i=new Set;return t.nodesBetween(r,o,(function(e){return!e.marks||(e.marks.forEach((function(e){e.type===n.marks.annotation&&e.attrs&&i.add(e.attrs.id)})),!0)})),Array.from(i)}({from:t.from,to:t.to},e.doc,e.schema).length},w=function(e,t){return function(n){var r={};return e&&(r={inputMethod:t,overlap:O(n)}),{action:e?u.a.OPENED:u.a.CLOSED,actionSubject:u.b.ANNOTATION,actionSubjectId:u.c.INLINE_COMMENT,eventType:u.e.TRACK,attributes:r}}},k=function(e){var t=e.selection,n=y(e).disallowOnWhitespace;if(t.empty||!(t instanceof r.TextSelection||t instanceof r.AllSelection))return c.a.INVALID;var o=E(e);return o&&t.to-t.from==1?c.a.INVALID:o?c.a.DISABLED:n&&function(e){var t=!1,n=e.content().content;return n.descendants((function(e){""===e.textContent.trim()&&(e.eq(n.lastChild)&&!e.eq(n.firstChild)&&"paragraph"===e.type.name||(t=!0));return!t})),t}(t)||function(e,t){var n=t.nodes,r=n.text,o=n.paragraph,i=!1;return e.content().content.descendants((function(e){return!(e.type===o&&!e.content.size)&&(e.type===r&&e.textContent||(i=!0),!i)})),!i}(t,e.schema)?c.a.INVALID:c.a.VALID},E=function(e){var t=e.selection,n=e.doc,r=e.schema;return!function(e,t,n){var r=e.from,o=e.to;if(isNaN(r+o)||o-r<=0||o<0||r<0)return!1;var i=!1;return t.nodesBetween(e.from,e.to,(function(e,t,r){return n.nodes.hardBreak!==e.type&&(!(e.isInline&&!e.isText||e.isLeaf&&!e.isText||e.isText&&!r.type.allowsMarkType(n.marks.annotation))||(i=!0,!1))})),!i}({from:t.from,to:t.to},n,r)};function x(e,t){var n=t.schema.marks.annotation;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function S(e,t){if(!e.content.size)return!1;var n=!1;return e.content.forEach((function(e){if(n=n||x(e,t))return!0;e.descendants((function(e){return!x(e,t)||(n=!0,!1)}))})),n}function j(e,t){if(!e.content.size)return!1;e.content.forEach((function(e){C(e,t),e.content.descendants((function(e){return C(e,t),!0}))}))}function C(e,t){return x(e,t)&&(e.marks=e.marks.filter((function(e){return"annotation"!==e.type.name||function(e,t){var n=y(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)}))),e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n(16),o=n(3),i="@atlaskit-shared-theme/item",a=10,c=1.2,s=Object(r.i)(),u={afterItemSpacing:{compact:Object(r.i)(),default:Object(r.i)()},beforeItemSpacing:{compact:Object(r.i)(),default:Object(r.i)()},borderRadius:Object(r.d)(),focus:{outline:o.B100},height:{compact:0,default:0},width:{compact:"auto",default:"auto"},padding:{default:{bottom:Object(r.i)()/2,left:Object(r.i)()/2,right:Object(r.i)()/2,top:Object(r.i)()/2},compact:{bottom:Object(r.i)(),left:Object(r.i)(),right:Object(r.i)(),top:Object(r.i)()}},default:{background:o.background,text:o.text,secondaryText:o.N200},selected:{background:o.backgroundActive,text:o.N500,secondaryText:o.N200},active:{background:o.backgroundActive,text:o.textActive,secondaryText:o.N200},hover:{background:o.backgroundHover,text:o.textHover,secondaryText:o.N200},disabled:{background:o.N0,text:o.N200,secondaryText:o.N200},dragging:{background:o.N20,text:o.N800,secondaryText:o.N200}},l=function(e){return null!=e&&""!==e},d=function(e,t,n){var r=function(e,t,n){return n?e&&e[n]&&l(e[n][t])?e:u:e&&l(e[t])?e:u}(e,t,n);return n?r[n][t]:r[t]}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var r="fontStyle",o="searchQuery",i="link",a="color",c="alignment",s="indentation"},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c}));const r=()=>new Map,o=e=>{const t=r();return e.forEach((e,n)=>{t.set(n,e)}),t},i=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r},a=(e,t)=>{const n=[];for(const[r,o]of e)n.push(t(o,r));return n},c=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1}},function(e,t,n){"use strict";t.a=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(619);var d=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return p[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var v=n(315);t.lib={},t.lib.mdurl=n(362),t.lib.ucmicro=n(620),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,(function(e,t,n){return t||function(e,t){var n=0;return o(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(f,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return v.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(624);var d=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return p[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var v=n(315);t.lib={},t.lib.mdurl=n(362),t.lib.ucmicro=n(620),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,(function(e,t,n){return t||function(e,t){var n=0;return o(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(f,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return v.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return S}));var r,o,i=n(20),a=n.n(i),c=n(1),s=n.n(c),u=n(18),l=n(35),d=n(4),f=n(54),p=n(1191),h=n(137),m=n(38);!function(e){e.CURSOR="cursor",e.RANGED="ranged",e.GAP_CURSOR="gapCursor",e.NODE="node",e.CELL="cell"}(r||(r={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",e.RIGHT="right"}(o||(o={}));var v=n(183);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t;return null===(t=v.a.getState(e))||void 0===t?void 0:t.createAnalyticsEvent}function O(e,t){if(!t.attributes)return t;var n=function(e){var t,n,i=e.selection;if(i instanceof f.a)t=r.GAP_CURSOR,n=i.side===f.c.LEFT?o.LEFT:o.RIGHT;else if(i instanceof l.a)t=r.CELL;else if(i instanceof d.NodeSelection)t=r.NODE;else if(i.from!==i.to)t=r.RANGED;else{t=r.CURSOR;var a=i.from,c=i.$from;n=a===c.start()?o.START:a===c.end()?o.END:o.MIDDLE}return{type:t,position:n}}(e),i=n.type,a=n.position;t.attributes.selectionType=i,a&&(t.attributes.selectionPosition=a);var c=function(e){var t=e.selection;if(t instanceof d.NodeSelection)return t.node.type.name;if(t instanceof l.a)return e.schema.nodes.table.name;var n=Object(u.findParentNode)((function(t){return t.type!==e.schema.nodes.paragraph}))(e.selection);return n?n.node.type.name:e.doc.type.name}(e);return t.action===m.a.INSERTED&&t.actionSubject===m.b.DOCUMENT&&t.attributes?t.attributes.insertLocation=c:t.attributes.nodeLocation=c,t}function w(e){var t=e.action===m.a.INSERTED&&e.actionSubject===m.b.DOCUMENT,n=e.action===m.a.FORMATTED&&e.actionSubject===m.b.TEXT;return!!e.actionSubjectId&&(t||n)&&(e.attributes=g(g({},e.attributes),{},{actionSubjectId:e.actionSubjectId})),e}var k=[m.a.INVOKED,m.a.OPENED];function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.b,o=y(e);if(n=w(n=O(e,n)),o){var i=t.storedMarks;t.step(new p.a([{payload:n,channel:r}],k,t.selection.$from.pos)),i&&t.setStoredMarks(i)}return t}function x(e,t){return function(n){return function(r,o,i){return n(r,(function(n){if(o)if(e instanceof Function){var i=e(r);i&&o(E(r,n,i,t))}else o(E(r,n,e,t))}),i)}}}function S(e){return e.steps.filter((function(e){return e instanceof p.a})).reduce((function(e,t){return[].concat(a()(e),a()(t.analyticsEvents))}),[])}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n(4),o=n(54);function i(e){var t=e.selection;return e.doc.nodeSize-t.$to.pos-2===t.$to.depth}function a(e){var t=e.selection;return t.$from.pos===t.$from.depth}function c(e){var t=e.selection,n=t.$to;return!(t instanceof o.a)&&(!!(t instanceof r.NodeSelection&&t.node.isBlock)||l(n)===n.pos+1)}function s(e){var t=e.selection,n=t.$from;return!(t instanceof o.a)&&(!!(t instanceof r.NodeSelection&&t.node.isBlock)||u(n)===n.pos)}function u(e){return e.start(e.depth)}function l(e){return e.end(e.depth)+1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const r=e=>new Error(e),o=()=>{throw r("Method unimplemented")},i=()=>{throw r("Unexpected case")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}function i(e,t){void 0===t&&(t=o);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},function(e,t,n){"use strict";var r,o,i,a;function c(e){return!!e&&e===o[o.NONE]}function s(e){return!!e.userType&&e.userType===i[i.SPECIAL]}function u(e){return e.userType&&e.userType===i[i.APP]}function l(e){return e.userType&&e.userType===i[i.TEAM]}function d(e){return e&&("@all"===e||"@here"===e)}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return f})),function(e){e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SITE=1]="SITE",e[e.APPLICATION=2]="APPLICATION",e[e.CONTAINER=3]="CONTAINER"}(o||(o={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SPECIAL=1]="SPECIAL",e[e.APP=2]="APP",e[e.TEAM=3]="TEAM",e[e.SYSTEM=4]="SYSTEM"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVICE_ERROR=1]="SERVICE_ERROR",e[e.OK=2]="OK"}(a||(a={}));var f=function(e){return!(!e||!e.then)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"o",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b}));var r="CUSTOM",o="FREQUENT",i="allUploadsCustomCategory",a="userUploadsCustomCategory",c="data:",s="delete-emoji",u=1e5,l=20,d=350,f=295,p="fabric.emoji",h="".concat(p,".selectedTone"),m=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"],v=.05,b=.01},function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return b}));var r=n(1),o=n.n(r),i=n(18),a=n(382),c=function(e){return e.setMeta(a.b,{changed:!0})},s=n(142),u=n(110);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return Object(s.a)({type:"UPDATE_STATE",data:e})}function p(e,t){return Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},c)}var h=Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}},c),m=function(e,t){return Object(s.a)({type:"UPDATE_STATE",data:{autoSaveResolve:e,autoSaveReject:t}},c)},v=(Object(s.a)({type:"UPDATE_STATE",data:{showContextPanel:!0}},c),function(e){return Object(s.a)({type:"UPDATE_STATE",data:{layout:e}},(function(t,n){var r=Object(u.f)(n,!0);if(r){var o=t.setNodeMarkup(r.pos,void 0,d(d({},r.node.attrs),{},{layout:e}));return o.setMeta("scrollIntoView",!1),o}return t}))}),b=function(){return Object(s.a)({type:"UPDATE_STATE",data:{element:void 0}},(function(e,t){return Object(u.f)(t)?Object(i.removeSelectedNode)(e):Object(i.removeParentNodeOfType)(t.schema.nodes.bodiedExtension)(e)}))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return d}));var r,o,i,a,c,s=n(63),u=function(e){switch(e){case"full-page":return s.b.FIXED_WIDTH;case"full-width":return s.b.FULL_WIDTH;case"comment":return s.b.COMMENT;case"chromeless":return s.b.CHROMELESS;case"mobile":return s.b.MOBILE}},l=function(e,t,n){return e>t&&e<=n?r.DEGRADED:e>n?r.BLOCKING:r.NORMAL};!function(e){e.NORMAL="normal",e.DEGRADED="degraded",e.BLOCKING="blocking"}(r||(r={})),function(e){e.TRACK="track",e.UI="ui"}(o||(o={})),function(e){e.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",e.UNSUPPORTED_TOOLTIP_VIEWED="viewed"}(i||(i={})),function(e){e.DOCUMENT="document",e.TOOLTIP="tooltip"}(a||(a={})),function(e){e.UNSUPPORTED_BLOCK="unsupportedBlock",e.UNSUPPORTED_INLINE="unsupportedInline",e.UNSUPPORTED_MARK="unsupportedMark",e.UNSUPPORTED_ERROR="unsupportedUnhandled",e.UNSUPPORTED_NODE_ATTRIBUTE="unsupportedNodeAttribute",e.ON_UNSUPPORTED_INLINE="onUnsupportedInline",e.ON_UNSUPPORTED_BLOCK="onUnsupportedBlock"}(c||(c={}));var d="EDITOR_ANALYTICS_EVENT"},function(e,t,n){var r=n(899);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return f}));var r,o=function(e){var t=[];return(e.steps||[]).forEach((function(n){for(var r=n.to,o=n.from,i=n.slice,a=i&&i.content?i.content.size:0,c=o;c<=r+a;c++)c<=e.doc.content.size&&function(){var n=e.doc.resolve(c).node(1);n&&!t.find((function(e){return e===n}))&&t.push(n)}()})),t},i=function(e){try{e.check()}catch(e){return!1}return!0},a=function(e){return e.every(i)},c=function(e,t){return t&&e&&e.type===t},s=function(e,t){return c(e,t.nodes.paragraph)},u=function(e,t){return c(e,t.nodes.text)},l=function(e,t){return c(e,t.marks.link)};!function(e){e[e.selectedInRange=0]="selectedInRange",e[e.selectedInside=1]="selectedInside"}(r||(r={}));var d=function(e,t,n,o){var i=Math.min(e,t),a=Math.max(e,t),c=n,s=n+o;return e===t?null:i<=c&&s<a||i<c&&s<=a?r.selectedInRange:c<=e&&t<=s?r.selectedInside:null},f=function(e,t,n){var r="embed"===n||"block"===n?void 0:-1,o=e.selection.$from.node(r);return o&&o.type.validContent(t)}},function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(3);n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));class r{constructor(e,t){this.left=e,this.right=t}}const o=(e,t)=>new r(e,t),i=(e,t)=>e.forEach(e=>t(e.left,e.right))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(105),o=n(89);const i="undefined"!=typeof document?document:{},a=e=>i.createElement(e),c=("undefined"!=typeof DOMParser&&new DOMParser,e=>{const t=i.createDocumentFragment();for(let n=0;n<e.length;n++)p(t,e[n]);return t}),s=(e,t)=>(p(e,c(t)),e),u=(e,t,n)=>e.addEventListener(t,n),l=(e,t=[],n=[])=>s(((e,t)=>(r.b(t,(t,n)=>{!1===n?e.removeAttribute(t):!0===n?e.setAttribute(t,""):e.setAttribute(t,n)}),e))(a(e),t),n),d=e=>i.createTextNode(e),f=e=>o.d(e,(e,t)=>`${t}:${e};`).join(""),p=(e,t)=>e.appendChild(t);i.ELEMENT_NODE,i.TEXT_NODE,i.CDATA_SECTION_NODE,i.COMMENT_NODE,i.DOCUMENT_NODE,i.DOCUMENT_TYPE_NODE,i.DOCUMENT_FRAGMENT_NODE},function(e,t,n){var r=n(818),o=n(866)((function(e,t,n){r(e,t,n)}));e.exports=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;function c(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l}));var r=n(16),o=12,i="20px",a="4px",c=Object(r.i)(),s=2*c,u="--ds--code--line-number-bg-color",l="--ds--code--bg-color"},function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(18),o=n(51),i=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[];if(0===t.length)return[];var i=new Set(t);return r.includeDocNode&&i.has(null===(n=e.doc.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e.doc,pos:0}),e.doc.descendants((function(e,t){var n;return i.has(null===(n=e.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e,pos:t}),i.size!==o.length})),o},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.schema.nodes,o=n.inlineExtension,i=n.extension,a=n.bodiedExtension,c=[i,a,o];return Object(r.findSelectedNodeOfType)(c)(e.selection)||t&&Object(r.findParentNodeOfType)(c)(e.selection)||void 0},c=function(e,t){var n=a(e,!0);if(!t)return n;if(n&&n.node.attrs.localId===t)return n;var r,o=e.schema.nodes,i=o.inlineExtension,c=[o.extension,o.bodiedExtension,i];return e.doc.descendants((function(e,n){c.includes(e.type)&&e.attrs.localId===t&&(r={node:e,pos:n})})),r},s=function(e,t,n){var i=Object(r.findDomRefAtPos)(n.pos,t);return(n.node.type!==e.nodes.bodiedExtension?i.querySelector(".extension-container"):Object(o.b)(i,".extension-container")||i.querySelector(".extension-container"))||i},u=function(e){var t;return null===(t=e.marks)||void 0===t?void 0:t.find((function(e){return"dataConsumer"===e.type.name}))},l=function(e,t){return i(t,e,{includeDocNode:!0}).map((function(e){return e.node.type.name}))},d=function(e,t){var n=i(e,[t]);return n.length>=1?n[0]:void 0}},function(e,t,n){"use strict";function r(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:s;return(t&&t.strategy?t.strategy:c)(e,{cache:n,serializer:r})}function o(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function i(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function a(e,t,n,r,o){return n.bind(t,e,r,o)}function c(e,t){return a(e,this,1===e.length?o:i,t.cache.create(),t.serializer)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var s=function(){return JSON.stringify(arguments)};function u(){this.cache=Object.create(null)}u.prototype.get=function(e){return this.cache[e]},u.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new u}},d={variadic:function(e,t){return a(e,this,i,t.cache.create(),t.serializer)},monadic:function(e,t){return a(e,this,o,t.cache.create(),t.serializer)}}},function(e,t,n){"use strict";n.d(t,"p",(function(){return u})),n.d(t,"o",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"n",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"q",(function(){return O})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return S})),n.d(t,"e",(function(){return j}));var r=n(1),o=n.n(r),i=n(340),a=n(98);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return!(!e||!e.spriteRef)},l=function(e){return!(!e||!e.sprite)},d=function(e){return!(!e||!e.imagePath)},f=function(e){return!(!e||!e.mediaPath)},p=function(e){return!(!e||!e.then)},h=function(e){return e&&e.shortName&&e.type},m=function(e){return f(e.representation)},v=function(e){return e.category===a.d&&(t=e.representation,d(t)&&0===t.imagePath.indexOf(a.f));var t},b=function(e){return!(!e||!e.skinVariations)},g=function(e){return"baseId"in e},y=function(e){return e in i.a},O=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},w=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if((r=e[n])===(o=t)||r&&o&&r.id===o.id&&r.shortName===o.shortName)return!0;var r,o;return!1},k=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},E=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},x=function(e,t,n){var r=e.representation,o=e.altRepresentation,i=n?void 0:t,a=n?t:void 0;if(!f(r)&&!f(o))return e;var c=f(r)?E(r,i):r,u=f(o)?E(o,a):o,l=s(s({},e),{},{representation:c});return S(l,u)},S=function(e,t){return t?s(s({},e),{},{altRepresentation:t}):e},j=function(e){return e.category}},function(e,t,n){"use strict";n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return _})),n.d(t,"e",(function(){return I})),n.d(t,"c",(function(){return R}));var r=n(19),o=n.n(r),i=n(20),a=n.n(i),c=n(21),s=n.n(c),u=n(1),l=n.n(u),d=n(10),f=n.n(d),p=n(149);var h=n(134);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return new Promise((function(t){return setTimeout(t,e)}))}function g(e){return e instanceof Error&&"request_cancelled"===e.message||!!e&&"AbortError"===e.name}function y(e){return e instanceof TypeError}function O(e){return!!e&&Object(h.b)(e)&&429===e.attributes.statusCode||!!e&&!!e.message&&e.message.includes("429")}function w(e,t){var n=t.params,r=t.auth,o=new URL(e),i=r&&function(e){return Object(p.isClientBasedAuth)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(r)||{},c=v(v({},n),i);return Object.entries(c).filter((function(e){var t=s()(e,2);t[0];return null!=t[1]})).forEach((function(e){var t;(t=o.searchParams).append.apply(t,a()(e))})),o.searchParams.sort(),o.toString()}function k(e){return function(t){return e?v(v({},t||{}),function(e){return Object(p.isClientBasedAuth)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer ".concat(e.token)}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer ".concat(e.token)}}(e)):t}}function E(e){return x.apply(this,arguments)}function x(){return(x=o()(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new h.a("serverInvalidBody",{statusCode:t.status},e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return(j=o()(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.blob();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new h.a("serverInvalidBody",{statusCode:t.status},e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function C(){return console.warn("Helper is deprecated and will be remove in the next major version"),Promise.resolve()}function T(e){return function(){var t=o()(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.json();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new h.a("serverInvalidBody",v(v(v({},e),N(n)),{},{statusCode:n.status}),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function _(e){return function(){var t=o()(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.blob();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new h.a("serverInvalidBody",v(v(v({},e),N(n)),{},{statusCode:n.status}),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}var A={startTimeoutInMs:1e3,maxAttempts:5,factor:2};function P(e,t){var n=e.reason,r=e.metadata,o=e.innerError;return new h.a(n,v(v({},r),t),o)}function I(e,t){return M.apply(this,arguments)}function M(){return(M=o()(f.a.mark((function e(t,n){var r,i,a,c,s,u,l,d,p,m=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=m.length>2&&void 0!==m[2]?m[2]:{},i=v(v({},A),r),a=i.startTimeoutInMs,c=i.maxAttempts,s=i.factor,u=0,l=a,p=function(){var e=o()(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(l);case 2:l*=s,u+=1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 6:if(!(u<c)){e.next=24;break}return e.prev=7,e.next=10,t();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),d=e.t0,!g(e.t0)){e.next=18;break}throw new h.a("clientAbortedRequest",n,e.t0);case 18:if((y(e.t0)||Object(h.b)(e.t0))&&(!Object(h.b)(e.t0)||e.t0.metadata&&e.t0.metadata.statusCode&&!(e.t0.metadata.statusCode<500))){e.next=20;break}throw e.t0;case 20:return e.next=22,p();case 22:e.next=6;break;case 24:if(!Object(h.b)(d)){e.next=26;break}throw P(d,{attempts:u,clientExhaustedRetries:!0});case 26:throw new h.a("serverUnexpectedError",v(v({},n),{},{attempts:u,clientExhaustedRetries:!0}),d);case 27:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function R(e){return function(t){if(t.ok||t.status<400)return t;throw function(e,t){var n=t.status,r=function(e){switch(e){case 400:return"serverBadRequest";case 401:return"serverUnauthorized";case 403:return"serverForbidden";case 404:return"serverNotFound";case 429:return"serverRateLimited";case 500:return"serverInternalError";case 502:return"serverBadGateway";default:return"serverUnexpectedError"}}(n);return new h.a(r,v(v(v({},e),N(t)),{},{statusCode:n}))}(e,t)}}function N(e){var t=e.headers;return{mediaRegion:t.get("x-media-region")||"unknown",mediaEnv:t.get("x-media-env")||"unknown"}}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u}));var r=n(16),o={xsmall:2*Object(r.i)(),small:3*Object(r.i)(),medium:4*Object(r.i)(),large:5*Object(r.i)(),xlarge:12*Object(r.i)(),xxlarge:16*Object(r.i)()},i={xsmall:2,small:2,medium:3,large:3,xlarge:6,xxlarge:12},a=2,c=.9,s={small:12,medium:14,large:15,xlarge:18},u={small:0,medium:0,large:1,xlarge:7}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return X})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return $})),n.d(t,"m",(function(){return R})),n.d(t,"n",(function(){return Y})),n.d(t,"o",(function(){return N}));var r="-ms-",o="-moz-",i="-webkit-",a="comm",c="rule",s="decl",u="@keyframes",l=Math.abs,d=String.fromCharCode,f=Object.assign;function p(e){return e.trim()}function h(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function b(e,t,n){return e.slice(t,n)}function g(e){return e.length}function y(e){return e.length}function O(e,t){return t.push(e),e}function w(e,t){return e.map(t).join("")}var k=1,E=1,x=0,S=0,j=0,C="";function T(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:k,column:E,length:a,return:""}}function _(e,t){return f(T("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return j=S>0?v(C,--S):0,E--,10===j&&(E=1,k--),j}function P(){return j=S<x?v(C,S++):0,E++,10===j&&(E=1,k++),j}function I(){return v(C,S)}function M(){return S}function R(e,t){return b(C,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return k=E=1,x=g(C=e),S=0,[]}function L(e){return C="",e}function B(e){return p(R(S-1,function e(t){for(;P();)switch(j){case t:return S;case 34:case 39:34!==t&&39!==t&&e(j);break;case 40:41===t&&e(t);break;case 92:P()}return S}(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(j=I())&&j<33;)P();return N(e)>2||N(j)>3?"":" "}function z(e,t){for(;--t&&P()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return R(e,M()+(t<6&&32==I()&&32==P()))}function U(e,t){for(;P()&&e+j!==57&&(e+j!==84||47!==I()););return"/*"+R(t,S-1)+"*"+d(47===e?e:P())}function H(e){for(;!N(I());)P();return R(e,S)}function W(e){return L(function e(t,n,r,o,i,a,c,s,u){var l=0,f=0,p=c,v=0,b=0,y=0,w=1,k=1,E=1,x=0,S="",j=i,C=a,T=o,_=S;for(;k;)switch(y=x,x=P()){case 40:if(108!=y&&58==_.charCodeAt(p-1)){-1!=m(_+=h(B(x),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:_+=B(x);break;case 9:case 10:case 13:case 32:_+=F(y);break;case 92:_+=z(M()-1,7);continue;case 47:switch(I()){case 42:case 47:O(q(U(P(),M()),n,r),u);break;default:_+="/"}break;case 123*w:s[l++]=g(_)*E;case 125*w:case 59:case 0:switch(x){case 0:case 125:k=0;case 59+f:b>0&&g(_)-p&&O(b>32?G(_+";",o,r,p-1):G(h(_," ","")+";",o,r,p-2),u);break;case 59:_+=";";default:if(O(T=V(_,n,r,l,f,i,s,S,j=[],C=[],p),a),123===x)if(0===f)e(_,n,T,T,j,a,p,s,C);else switch(v){case 100:case 109:case 115:e(t,T,T,o&&O(V(t,T,T,0,0,i,s,S,i,j=[],p),C),i,C,p,s,o?j:C);break;default:e(_,T,T,T,[""],C,0,s,C)}}l=f=b=0,w=E=1,S=_="",p=c;break;case 58:p=1+g(_),b=y;default:if(w<1)if(123==x)--w;else if(125==x&&0==w++&&125==A())continue;switch(_+=d(x),x*w){case 38:E=f>0?1:(_+="\f",-1);break;case 44:s[l++]=(g(_)-1)*E,E=1;break;case 64:45===I()&&(_+=B(P())),v=I(),f=p=g(S=_+=H(M())),x++;break;case 45:45===y&&2==g(_)&&(w=0)}}return a}("",null,null,null,[""],e=D(e),0,[0],e))}function V(e,t,n,r,o,i,a,s,u,d,f){for(var m=o-1,v=0===o?i:[""],g=y(v),O=0,w=0,k=0;O<r;++O)for(var E=0,x=b(e,m+1,m=l(w=a[O])),S=e;E<g;++E)(S=p(w>0?v[E]+" "+x:h(x,/&\f/g,v[E])))&&(u[k++]=S);return T(e,t,n,0===o?c:s,u,d,f)}function q(e,t,n){return T(e,t,n,a,d(j),b(e,2,-2),0)}function G(e,t,n,r){return T(e,t,n,s,b(e,0,r),b(e,r+1,-1),r)}function K(e,t){switch(function(e,t){return(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3)}(e,t)){case 5103:return i+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return i+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return i+e+o+e+r+e+e;case 6828:case 4268:return i+e+r+e+e;case 6165:return i+e+r+"flex-"+e+e;case 5187:return i+e+h(e,/(\w+).+(:[^]+)/,i+"box-$1$2"+r+"flex-$1$2")+e;case 5443:return i+e+r+"flex-item-"+h(e,/flex-|-self/,"")+e;case 4675:return i+e+r+"flex-line-pack"+h(e,/align-content|flex-|-self/,"")+e;case 5548:return i+e+r+h(e,"shrink","negative")+e;case 5292:return i+e+r+h(e,"basis","preferred-size")+e;case 6060:return i+"box-"+h(e,"-grow","")+i+e+r+h(e,"grow","positive")+e;case 4554:return i+h(e,/([^-])(transform)/g,"$1"+i+"$2")+e;case 6187:return h(h(h(e,/(zoom-|grab)/,i+"$1"),/(image-set)/,i+"$1"),e,"")+e;case 5495:case 3959:return h(e,/(image-set\([^]*)/,i+"$1$`$1");case 4968:return h(h(e,/(.+:)(flex-)?(.*)/,i+"box-pack:$3"+r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+i+e+e;case 4095:case 3583:case 4068:case 2532:return h(e,/(.+)-inline(.+)/,i+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(g(e)-1-t>6)switch(v(e,t+1)){case 109:if(45!==v(e,t+4))break;case 102:return h(e,/(.+:)(.+)-([^]+)/,"$1"+i+"$2-$3$1"+o+(108==v(e,t+3)?"$3":"$2-$3"))+e;case 115:return~m(e,"stretch")?K(h(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==v(e,t+1))break;case 6444:switch(v(e,g(e)-3-(~m(e,"!important")&&10))){case 107:return h(e,":",":"+i)+e;case 101:return h(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+i+(45===v(e,14)?"inline-":"")+"box$3$1"+i+"$2$3$1"+r+"$2box$3")+e}break;case 5936:switch(v(e,t+11)){case 114:return i+e+r+h(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return i+e+r+h(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return i+e+r+h(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return i+e+r+e+e}return e}function $(e,t){for(var n="",r=y(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Y(e,t,n,r){switch(e.type){case"@import":case s:return e.return=e.return||e.value;case a:return"";case u:return e.return=e.value+"{"+$(e.children,r)+"}";case c:e.value=e.props.join(",")}return g(n=$(e.children,r))?e.return=e.value+"{"+n+"}":""}function X(e){var t=y(e);return function(n,r,o,i){for(var a="",c=0;c<t;c++)a+=e[c](n,r,o,i)||"";return a}}function J(e){return function(t){t.root||(t=t.return)&&e(t)}}function Z(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case s:e.return=K(e.value,e.length);break;case u:return $([_(e,{value:h(e.value,"@","@"+i)})],o);case c:if(e.length)return w(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $([_(e,{props:[h(t,/:(read-\w+)/,":-moz-$1")]})],o);case"::placeholder":return $([_(e,{props:[h(t,/:(plac\w+)/,":"+i+"input-$1")]}),_(e,{props:[h(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[h(t,/:(plac\w+)/,r+"input-$1")]})],o)}return""}))}}},,function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var r=n(1),o=n.n(r),i=n(3),a=n(16);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t){return{fontSize:"".concat(e/Object(a.g)(),"em"),fontStyle:"inherit",lineHeight:t/e}},l={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h700.size,l.h700.lineHeight)),{},{color:"var(--ds-text, ".concat(Object(i.heading)(e),")"),fontWeight:500,letterSpacing:"-0.01em",marginTop:"".concat(5*Object(a.i)(),"px")})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h600.size,l.h600.lineHeight)),{},{color:"var(--ds-text, ".concat(Object(i.heading)(e),")"),fontWeight:500,letterSpacing:"-0.008em",marginTop:"".concat(3.5*Object(a.i)(),"px")})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h500.size,l.h500.lineHeight)),{},{color:"var(--ds-text, ".concat(Object(i.heading)(e),")"),fontWeight:600,letterSpacing:"-0.006em",marginTop:"".concat(3*Object(a.i)(),"px")})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h400.size,l.h400.lineHeight)),{},{color:"var(--ds-text, ".concat(Object(i.heading)(e),")"),fontWeight:600,letterSpacing:"-0.003em",marginTop:"".concat(2*Object(a.i)(),"px")})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h300.size,l.h300.lineHeight)),{},{color:"var(--ds-text, ".concat(Object(i.heading)(e),")"),fontWeight:600,marginTop:"".concat(2.5*Object(a.i)(),"px"),textTransform:"uppercase"})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h200.size,l.h200.lineHeight)),{},{color:"var(--ds-text-subtlest, ".concat(Object(i.subtleHeading)(e),")"),fontWeight:600,marginTop:"".concat(2*Object(a.i)(),"px")})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({},u(l.h100.size,l.h100.lineHeight)),{},{color:"var(--ds-text-subtlest, ".concat(Object(i.subtleHeading)(e),")"),fontWeight:700,marginTop:"".concat(2*Object(a.i)(),"px")})}},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(1),o=n.n(r),i=n(35),a=n(4),c=n(54);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t){var n=e.state,r=e.dispatch;isFinite(t)&&r(n.tr.setSelection(a.NodeSelection.create(n.doc,t)))};function d(e,t,n){var r=e.state;(0,e.dispatch)(r.tr.setSelection(a.TextSelection.create(r.doc,t,n)))}var f=function(e,t){var n=e.selection,r=e.doc;if(n.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(u(u({},t.attrs),{},{layout:"default"}),t.content,t.marks);var o=r.type.schema.marks.breakout;if(o&&o.isInSet(t.marks)){var i=o.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,i)}}return t},p=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},h=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0},m=function(e,t){return e>=0&&e<=t.doc.resolve(0).end()},v=function(e,t){return e instanceof a.NodeSelection?a.NodeSelection.create(t,e.from):e instanceof a.TextSelection?a.TextSelection.create(t,e.from,e.to):e instanceof c.a?new c.a(t.resolve(e.from),e.side):e instanceof i.a?new i.a(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0}},function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f}));var r=n(72),o=n(1066),i=n(111),a=n(79);function c(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}var s={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:function(e){0},onWarn:function(e){0}};function u(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function l(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function d(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,a=Intl.DisplayNames,c=Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:l(e.dateTime),strategy:i.b.variadic}),s=Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:l(e.number),strategy:i.b.variadic}),u=Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:l(e.pluralRules),strategy:i.b.variadic});return{getDateTimeFormat:c,getNumberFormat:s,getMessageFormat:Object(i.a)((function(e,t,n,i){return new o.a(e,t,n,Object(r.a)({formatters:{getNumberFormat:s,getDateTimeFormat:c,getPluralRules:u}},i||{}))}),{cache:l(e.message),strategy:i.b.variadic}),getRelativeTimeFormat:Object(i.a)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.c)([void 0],e,!1)))}),{cache:l(e.relativeTime),strategy:i.b.variadic}),getPluralRules:u,getListFormat:Object(i.a)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,Object(r.c)([void 0],e,!1)))}),{cache:l(e.list),strategy:i.b.variadic}),getDisplayNames:Object(i.a)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.bind.apply(a,Object(r.c)([void 0],e,!1)))}),{cache:l(e.displayNames),strategy:i.b.variadic})}}function f(e,t,n,r){var o,i=e&&e[t];if(i&&(o=i[n]),o)return o;r(new a.h("No ".concat(t," format named: ").concat(n)))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return k}));var r,o,i,a,c,s=n(7),u=n.n(s),l=n(2),d=n(16),f=n(64),p=n(3),h=n(73),m=n(33),v=Object(d.i)(),b=2*v,g=function(e){return Object(l.c)(r||(r=u()(["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ",";\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"])),Object(f.a)({light:Object(m.a)("color.background.neutral",p.N20),dark:Object(m.a)("color.background.neutral",p.DN50)})(e),Object(d.d)(),Object(f.a)({dark:Object(m.a)("color.text",p.DN700)})(e),Object(h.db)(Object(d.g)()),Object(m.a)("color.border.selected",p.B200),Object(m.a)("color.background.neutral.hovered",p.N20A))},y=Object(l.c)(o||(o=u()(["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"])),Object(d.d)()),O=Object(l.c)(i||(i=u()(["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: placeholder-fallback;\n"]))),w=Object(l.c)(a||(a=u()(["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),Object(m.a)("color.text.subtlest",p.N70)),k=Object(l.c)(c||(c=u()(["\n  max-height: 16px;\n  max-width: 16px;\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: lozenge-image;\n"])))},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(75),o=n(153),i=n(336),a=n(307),c=n(303),s=function(e){return{platform:{component:e},type:o.b.Load,performanceType:o.a.PageSegmentLoad}},u=function(e){return{platform:{component:e},type:o.b.Experience,performanceType:o.a.InlineResult}},l=[{key:r.e.FMP,endMark:r.d.FMP_END},{key:r.e.METADATA,component:"resourced-emoji",startMark:r.d.METADATA_START,endMark:r.d.METADATA_END},{key:r.e.MEDIADATA,component:"caching-emoji",startMark:r.d.MEDIA_START,endMark:r.d.MEDIA_END},{key:r.e.MOUNTED,component:"emoji",endMark:r.d.MOUNTED_END},{key:r.e.ONLOAD,startMark:r.d.ONLOAD_START,endMark:r.d.ONLOAD_END}],d={"emoji-rendered":new i.a(r.f.EMOJI_RENDERED,{platform:{component:r.c.EMOJI},type:o.b.Operation,performanceType:o.a.Custom,timings:l}),"emoji-resource-fetched":new i.a(r.f.EMOJI_RESOURCE_FETCHED,s(r.c.EMOJI_PROVIDER)),"emoji-picker-opened":new a.a(r.f.EMOJI_PICKER_OPENED,s(r.c.EMOJI_PICKER)),"emoji-selection-recorded":new a.a(r.f.EMOJI_SELECTION_RECORDED,u(r.c.EMOJI_PROVIDER)),"emoji-uploaded":new a.a(r.f.EMOJI_UPLOADED,u(r.c.EMOJI_PICKER)),"emoji-searched":new a.a(r.f.EMOJI_SEARCHED,u(r.c.EMOJI_PICKER))},f=function(e){return Object(c.a)(d["emoji-rendered"].getInstance(e.id||e.shortName))},p=function(e,t){return e.metrics.marks.some((function(e){return e.name===t}))},h=function(e){return Object(c.a)(d["emoji-resource-fetched"].getInstance(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return p}));var r=n(0),o=n(483),i=n(180),a=n(273),c=n(470),s=n(222),u=n(297),l={}.hasOwnProperty,d=Object(r.createContext)("undefined"!=typeof HTMLElement?Object(o.a)({key:"css"}):null);var f=d.Provider,p=function(e){return Object(r.forwardRef)((function(t,n){var o=Object(r.useContext)(d);return e(t,o,n)}))},h=Object(r.createContext)({});var m=function(){return Object(r.useContext)(h)},v=Object(a.a)((function(e){return Object(a.a)((function(t){return function(e,t){return"function"==typeof t?t(e):Object(i.a)({},e,t)}(e,t)}))})),b=function(e){var t=Object(r.useContext)(h);return e.theme!==t&&(t=v(t)(e.theme)),Object(r.createElement)(h.Provider,{value:t},e.children)};function g(e){var t=e.displayName||e.name||"Component",n=function(t,n){var o=Object(r.useContext)(h);return Object(r.createElement)(e,Object(i.a)({theme:o,ref:n},t))},o=Object(r.forwardRef)(n);return o.displayName="WithTheme("+t+")",Object(c.a)(o,e)}var y=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function O(e){y(e)}var w="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",k=function(e,t){var n={};for(var r in t)l.call(t,r)&&(n[r]=t[r]);return n[w]=e,n},E=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Object(s.c)(t,n,r);O((function(){return Object(s.b)(t,n,r)}));return null},x=p((function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[w],a=[o],c="";"string"==typeof e.className?c=Object(s.a)(t.registered,a,e.className):null!=e.className&&(c=e.className+" ");var d=Object(u.a)(a,void 0,Object(r.useContext)(h));c+=t.key+"-"+d.name;var f={};for(var p in e)l.call(e,p)&&"css"!==p&&p!==w&&(f[p]=e[p]);return f.ref=n,f.className=c,Object(r.createElement)(r.Fragment,null,Object(r.createElement)(E,{cache:t,serialized:d,isStringTag:"string"==typeof i}),Object(r.createElement)(i,f))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorRemoveIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},codeOn:{id:"fabric.editor.code.on",defaultMessage:"{textFormattingOff}, Code On",description:"Reports that code formatting has been turned on"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},subscriptOffSuperscriptOn:{id:"fabric.editor.subscript.off.superscript.on",defaultMessage:"Subscript Off, Superscript On",description:"Reports text formatting in case when subscript off and superscript on"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},superscriptOffSubscriptOn:{id:"fabric.editor.superscript.off.subscript.on",defaultMessage:"Superscript Off, Subscript On",description:"Describe text formatting in case when Superscript Off and Subscript on"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or strong formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."},on:{id:"fabric.editor.on",defaultMessage:"{formattingType} On",description:"Reports that text formatting has been turned on"},off:{id:"fabric.editor.off",defaultMessage:"{formattingType} Off",description:"Reports that text formatting has been turned off"},textFormattingOff:{id:"fabric.editor.text.formatting.off",defaultMessage:"Text formatting Off",description:"Reports that text formatting has been turned off"}})},function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return C}));var r=n(1),o=n.n(r),i=n(1186),a=n(194),c=n(38),s=n(85),u=n(138),l=n(4),d=n(93),f=n(44),p=function(e){return function(t,n){var r=Object(s.g)(n),o=Object(s.h)(n,r),a=o.from,c=o.to,u=o.head,d=n.schema.marks.annotation.create({id:e,type:i.a.INLINE_COMMENT}),p=Object(f.a)(a,c,!1,d,t);return p.setSelection(l.TextSelection.create(p.doc,u)),p}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.f.TOOLBAR;return function(n,r){var o=Object(s.f)(e,t)(r);return Object(d.a)(r,n,o)}},m=function(e,t){return Object(d.a)(t,e,{action:c.a.INSERTED,actionSubject:c.b.ANNOTATION,eventType:c.e.TRACK,actionSubjectId:c.c.INLINE_COMMENT})},v={addAnnotationMark:p,addInlineComment:function(e){return function(t,n){var r=p(e)(t,n);return r=m(r,n),r=h(!1,c.f.TOOLBAR)(r,n)}},addOpenCloseAnalytics:h,addInsertAnalytics:m,addResolveAnalytics:function(e){return function(t,n){var r={action:c.a.RESOLVED,actionSubject:c.b.ANNOTATION,actionSubjectId:c.c.INLINE_COMMENT,eventType:c.e.TRACK,attributes:{method:e}};return Object(d.a)(n,t,r)}}},b=n(133),g=function(e,t){var n={type:u.a.UPDATE_INLINE_COMMENT_STATE,data:e},r=Object.values(e).every((function(e){return e}));return t&&r?Object(a.a)(n,v.addResolveAnalytics(t)):Object(a.a)(n)},y=function(){return Object(a.a)({type:u.a.CLOSE_COMPONENT})},O=function(){return Object(a.a)({type:u.a.INLINE_COMMENT_CLEAR_DIRTY_MARK})},w=function(e){return function(t,n){var r=t.tr,o=t.selection.$from,a=t.schema.marks.annotation;return!!o.marks().some((function(e){return e.type===a}))&&(r.removeMark(o.start(),o.end(),a.create({id:e,type:i.a.INLINE_COMMENT})),n&&n(r),!0)}},k=function(e){return function(t){return(!e||Object(s.j)(t)===b.a.VALID)&&{type:u.a.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}}}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.f.TOOLBAR,n=k(e);return Object(a.a)(n,v.addOpenCloseAnalytics(e,t))},x=function(e){return Object(a.a)((function(t){return{type:u.a.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:o()({},e,!1),selectedAnnotations:[{id:e,type:i.a.INLINE_COMMENT}],editorState:t}}}),v.addInlineComment(e))},S=function(e){return Object(a.a)({type:u.a.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}})},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.INLINE_COMMENT;return function(n,r){return!(!(Object(s.g)(n)||{}).bookmark||!r)&&(t===i.a.INLINE_COMMENT&&x(e)(n,r))}},C=function(e){return Object(a.a)({type:u.a.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})}},function(e,t,n){"use strict";n.d(t,"m",(function(){return ie})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return b}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;var o,i,a;Object.create;function c(e){return e.type===i.literal}function s(e){return e.type===i.argument}function u(e){return e.type===i.number}function l(e){return e.type===i.date}function d(e){return e.type===i.time}function f(e){return e.type===i.select}function p(e){return e.type===i.plural}function h(e){return e.type===i.pound}function m(e){return e.type===i.tag}function v(e){return!(!e||"object"!=typeof e||e.type!==a.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==a.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(o||(o={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(i||(i={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(a||(a={}));var g=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,y=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function O(e){var t={};return e.replace(y,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;var k=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var E=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,x=/^(@+)?(\+|#+)?[rs]?$/g,S=/(\*)(0+)|(#+)(0+)|(0+)/g,j=/^(0+)$/;function C(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(x,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function T(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function _(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!j.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function A(e){var t=T(e);return t||{}}function P(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=w(w(w({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return w(w({},e),A(t))}),{}));continue;case"engineering":t=w(w(w({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return w(w({},e),A(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(S,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(j.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(E.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(E,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var i=o.options[0];"w"===i?t=w(w({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=w(w({},t),C(i)))}else if(x.test(o.stem))t=w(w({},t),C(o.stem));else{var a=T(o.stem);a&&(t=w(w({},t),a));var c=_(o.stem);c&&(t=w(w({},t),c))}}return t}var I,M={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function R(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(M[n||""]||M[r||""]||M["".concat(r,"-001")]||M["001"])[0]}var N=new RegExp("^".concat(g.source,"*")),D=new RegExp("".concat(g.source,"*$"));function L(e,t){return{start:e,end:t}}var B=!!String.prototype.startsWith,F=!!String.fromCodePoint,z=!!Object.fromEntries,U=!!String.prototype.codePointAt,H=!!String.prototype.trimStart,W=!!String.prototype.trimEnd,V=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},q=!0;try{q="a"===(null===(I=Q("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===I?void 0:I[0])}catch(e){q=!1}var G,K=B?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},$=F?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,i=0;o>i;){if((n=e[i++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Y=z?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],a=o[1];t[i]=a}return t},X=U?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},J=H?function(e){return e.trimStart()}:function(e){return e.replace(N,"")},Z=W?function(e){return e.trimEnd()}:function(e){return e.replace(D,"")};function Q(e,t){return new RegExp(e,t)}if(q){var ee=Q("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");G=function(e,t){var n;return ee.lastIndex=t,null!==(n=ee.exec(e)[1])&&void 0!==n?n:""}}else G=function(e,t){for(var n=[];;){var r=X(e,t);if(void 0===r||re(r)||oe(r))break;n.push(r),t+=r>=65536?2:1}return $.apply(void 0,n)};var te=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var a=this.char();if(123===a){if((c=this.parseArgument(e,n)).err)return c;r.push(c.val)}else{if(125===a&&e>0)break;if(35!==a||"plural"!==t&&"selectordinal"!==t){if(60===a&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(o.UNMATCHED_CLOSING_TAG,L(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&ne(this.peek()||0)){if((c=this.parseTag(e,t)).err)return c;r.push(c.val)}else{var c;if((c=this.parseLiteral(e,t)).err)return c;r.push(c.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:i.pound,location:L(s,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:i.literal,value:"<".concat(r,"/>"),location:L(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(e+1,t,!0);if(a.err)return a;var c=a.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ne(this.char()))return this.error(o.INVALID_TAG,L(s,this.clonePosition()));var u=this.clonePosition();return r!==this.parseTagName()?this.error(o.UNMATCHED_CLOSING_TAG,L(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:i.tag,value:r,children:c,location:L(n,this.clonePosition())},err:null}:this.error(o.INVALID_TAG,L(s,this.clonePosition())))}return this.error(o.UNCLOSED_TAG,L(n,this.clonePosition()))}return this.error(o.INVALID_TAG,L(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var a=this.tryParseUnquoted(e,t);if(a)r+=a;else{var c=this.tryParseLeftAngleBracket();if(!c)break;r+=c}}}var s=L(n,this.clonePosition());return{val:{type:i.literal,value:r,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(ne(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return $.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),$(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(o.EMPTY_ARGUMENT,L(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(o.MALFORMED_ARGUMENT,L(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:i.argument,value:r,location:L(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,L(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(o.MALFORMED_ARGUMENT,L(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=G(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:L(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,c){var s,u=this.clonePosition(),l=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(l){case"":return this.error(o.EXPECT_ARGUMENT_TYPE,L(u,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((k=this.parseSimpleArgStyleIfPossible()).err)return k;if(0===(b=Z(k.val)).length)return this.error(o.EXPECT_ARGUMENT_STYLE,L(this.clonePosition(),this.clonePosition()));f={style:b,styleLocation:L(p,this.clonePosition())}}if((E=this.tryParseArgumentClose(c)).err)return E;var h=L(c,this.clonePosition());if(f&&K(null==f?void 0:f.style,"::",0)){var m=J(f.style.slice(2));if("number"===l)return(k=this.parseNumberSkeletonFromString(m,f.styleLocation)).err?k:{val:{type:i.number,value:n,location:h,style:k.val},err:null};if(0===m.length)return this.error(o.EXPECT_DATE_TIME_SKELETON,h);var v=m;this.locale&&(v=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),c=i<2?1:3+(i>>1),s=R(t);for("H"!=s&&"k"!=s||(c=0);c-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}(m,this.locale));var b={type:a.dateTime,pattern:v,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?O(v):{}};return{val:{type:"date"===l?i.date:i.time,value:n,location:h,style:b},err:null}}return{val:{type:"number"===l?i.number:"date"===l?i.date:i.time,value:n,location:h,style:null!==(s=null==f?void 0:f.style)&&void 0!==s?s:null},err:null};case"plural":case"selectordinal":case"select":var g=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(o.EXPECT_SELECT_ARGUMENT_OPTIONS,L(g,r({},g)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),w=0;if("select"!==l&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,L(this.clonePosition(),this.clonePosition()));var k;if(this.bumpSpace(),(k=this.tryParseDecimalInteger(o.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,o.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return k;this.bumpSpace(),y=this.parseIdentifierIfPossible(),w=k.val}var E,x=this.tryParsePluralOrSelectOptions(e,l,t,y);if(x.err)return x;if((E=this.tryParseArgumentClose(c)).err)return E;var S=L(c,this.clonePosition());return"select"===l?{val:{type:i.select,value:n,options:Y(x.val),location:S},err:null}:{val:{type:i.plural,value:n,options:Y(x.val),offset:w,pluralType:"plural"===l?"cardinal":"ordinal",location:S},err:null};default:return this.error(o.INVALID_ARGUMENT_TYPE,L(u,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(o.EXPECT_ARGUMENT_CLOSING_BRACE,L(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(o.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,L(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(k).filter((function(e){return e.length>0}));n<r.length;n++){var o=r[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var i=o[0],a=o.slice(1),c=0,s=a;c<s.length;c++){if(0===s[c].length)throw new Error("Invalid number skeleton")}t.push({stem:i,options:a})}return t}(e)}catch(e){return this.error(o.INVALID_NUMBER_SKELETON,t)}return{val:{type:a.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?P(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,a=!1,c=[],s=new Set,u=r.value,l=r.location;;){if(0===u.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(o.EXPECT_PLURAL_ARGUMENT_SELECTOR,o.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;l=L(d,this.clonePosition()),u=this.message.slice(d.offset,this.offset())}if(s.has(u))return this.error("select"===t?o.DUPLICATE_SELECT_ARGUMENT_SELECTOR:o.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===u&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?o.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:o.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,L(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;c.push([u,{value:h.val,location:L(p,this.clonePosition())}]),s.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,l=i.location}return 0===c.length?this.error("select"===t?o.EXPECT_SELECT_ARGUMENT_SELECTOR:o.EXPECT_PLURAL_ARGUMENT_SELECTOR,L(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(o.MISSING_OTHER_CLAUSE,L(this.clonePosition(),this.clonePosition())):{val:c,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var c=L(r,this.clonePosition());return o?V(i*=n)?{val:i,err:null}:this.error(t,c):this.error(e,c)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=X(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(K(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&re(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function ne(e){return e>=97&&e<=122||e>=65&&e<=90}function re(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function oe(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ie(e,t){void 0===t&&(t={}),t=r({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new te(e,t).parse();if(n.err){var i=SyntaxError(o[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||function e(t){t.forEach((function(t){if(delete t.location,f(t)||p(t))for(var n in t.options)delete t.options[n].location,e(t.options[n].value);else u(t)&&v(t.style)||(l(t)||d(t))&&b(t.style)?delete t.style.location:m(t)&&e(t.children)}))}(n.val),n.val}},,function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n.n(c),u=n(1092),l=n(1222),d=n(3),f=n(55),p=n(33),h={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:Object(p.a)("color.background.neutral.subtle.hovered",d.N30A),dark:Object(p.a)("color.background.neutral.subtle.hovered",d.N30A)},active:{light:Object(p.a)("color.background.neutral.pressed","".concat(Object(f.J)(d.B75,.6))),dark:Object(p.a)("color.background.neutral.pressed","".concat(Object(f.J)(d.B75,.6)))}}},m={danger:{default:{light:Object(p.a)("color.icon",d.N400),dark:Object(p.a)("color.icon",d.DN400)},hover:{light:Object(p.a)("color.icon.danger",d.R400),dark:Object(p.a)("color.icon.danger",d.R400)},active:{light:Object(p.a)("color.icon.danger",d.R400),dark:Object(p.a)("color.icon.danger",d.R400)}}},v=function(e,t){var n=t.appearance,r=void 0===n?"default":n,o=t.state,i=void 0===o?"default":o,a=t.mode,c=void 0===a?"light":a;return e[r]&&e[r][i]?e[r][i][c]:"initial"},b={"&&":{padding:"0px","&&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},g=["buttonStyles"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.title,n=e.icon,r=e.iconAfter,o=e.onClick,i=e.onMouseEnter,c=e.onMouseLeave,d=e.onFocus,f=e.onBlur,p=e.selected,y=e.disabled,w=e.href,k=e.target,E=e.appearance,x=void 0===E?"subtle":E,S=e.children,j=e.className,C=e.tooltipContent,T=e.testId,_=e.hideTooltipOnClick,A=void 0===_||_,P=e.ariaHasPopup,I=e.tabIndex,M=(n||r)&&!S?b:{};return s.a.createElement(u.a,{content:C||t,hideTooltipOnClick:A,position:"top"},s.a.createElement("div",{onMouseEnter:i,onMouseLeave:c},s.a.createElement(l.a,{className:j,theme:function(e,t){var n,r=e(t),o=r.buttonStyles,i=a()(r,g);return O({buttonStyles:O(O(O({},o),M),"danger"===x&&(n={appearance:x,state:t.state,mode:t.mode},{background:v(h,n),color:v(m,n)}))},i)},"aria-label":t,"aria-pressed":p,spacing:"compact",href:w,target:k,appearance:x,"aria-haspopup":P,iconBefore:n||void 0,iconAfter:r,onClick:o,isSelected:p,isDisabled:y,testId:T,onFocus:d,onBlur:f,tabIndex:I},S)))}},function(e,t,n){var r=n(923),o=n(282),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(62);const r=Date.now},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.INVALID="invalid",e.DISABLED="disabled",e.VALID="valid"}(r||(r={}));var o="ak-editor-annotation",i={prefix:o,floatingComponent:"".concat(o,"-floating-component"),floatingToolbarCreateButton:"".concat(o,"-toolbar-create-button"),componentSave:"".concat(o,"-dummy-save-button"),componentClose:"".concat(o,"-dummy-close-button")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var h=function(e){s()(n,e);var t=p(n);function n(e,r,i){var a;return o()(this,n),(a=t.call(this,e)).reason=e,a.metadata=r,a.innerError=i,a}return a()(n,[{key:"attributes",get:function(){var e=this.reason,t=this.metadata;return{reason:e,method:(t=void 0===t?{}:t).method,endpoint:t.endpoint,mediaRegion:t.mediaRegion,mediaEnv:t.mediaEnv,attempts:t.attempts,clientExhaustedRetries:t.clientExhaustedRetries,statusCode:t.statusCode,innerError:this.innerError}}}]),n}(n(198).a);function m(e){return e instanceof h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],o=function(e){return!!e&&-1!==r.indexOf(e.type.name)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"Team  {0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"Team  {0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"Team  50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"Team  50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"},TeamMentionHighlightTitle:{id:"fabric.elements.mentions.team.mention.highlight.title",defaultMessage:"Mention your team",description:"Title of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescription:{id:"fabric.elements.mentions.team.mention.highlight.description",defaultMessage:"Get everyone on the page with one click. No team?",description:"Description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescriptionLink:{id:"fabric.elements.mentions.team.mention.highlight.description.link",defaultMessage:"Start one.",description:"Team creation link in the description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightCloseButtonToolTip:{id:"fabric.elements.mentions.team.meantion.highlight.close.button.tooltip",defaultMessage:"Dismiss",description:"Closes the highlight component when this button is clicked. This text for the tooltip of that button"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(419),o=n(100).f,i=r.a.editor},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",e[e.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",e[e.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",e[e.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",e[e.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",e[e.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",e[e.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"}(r||(r={}))},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return h}));var r=37,o=39,i=38,a=40,c=48,s=49,u=50,l=51,d=52,f=53,p=54,h=[c,s,u,l,d,f,p]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="ChevronDownIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(1),o=n.n(r),i=n(83);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=n(212);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(i.a)(s.a,(function(e,t){switch(t.type){case"UPDATE_STATE":return c(c({},e),t.data);default:return e}}),{mapping:function(e,t){var n=t.positions;if(!n)return t;var r=l({},n);for(var o in r)r[o]=e.mapping.map(r[o]);return l(l({},t),{},{positions:r})}}),f=d.createPluginState,p=d.createCommand,h=d.getPluginState},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h}));var r=n(33),o=n(16),i=n(3),a=(n(98).k,Object(r.a)("color.border",i.N40)),c=Object(r.a)("elevation.shadow.overlay","0 3px 6px rgba(0, 0, 0, 0.2)"),s=Object(r.a)("color.border",i.N40),u="".concat(Object(o.d)(),"px"),l=Object(r.a)("elevation.shadow.overlay","0 3px 6px rgba(0, 0, 0, 0.2)"),d=Object(r.a)("color.background.neutral.subtle.hovered",i.N30),f=Object(r.a)("color.background.neutral",i.N30),p=350,h=350},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},,function(e){e.exports=JSON.parse('{"a":"8.3.0"}')},function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)({getAtlaskitAnalyticsContext:function(){return[]},getAtlaskitAnalyticsEventHandlers:function(){return[]}});t.a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(1),s=n.n(c),u=function(){function e(){o()(this,e),s()(this,"listeners",{})}return a()(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}},{key:"has",value:function(e,t){return!!this.listeners[e]&&this.listeners[e].has(t)}},{key:"off",value:function(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}},{key:"emit",value:function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(e){return e(t)}))}},{key:"destroy",value:function(){this.listeners={}}}]),e}();function l(e){return function(t,n){if(!t)throw new Error("event name is required!");var r="string"==typeof t?t:t.key;e.emit(r,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"mediaState",(function(){return o})),n.d(t,"isClientBasedAuth",(function(){return i})),n.d(t,"isAsapBasedAuth",(function(){return a})),n.d(t,"authToOwner",(function(){return c}));var r=n(351),o={streams:new(n(512).LRUCache)(1e3),stateDeferreds:new Map,eventEmitter:new r.EventEmitter2};function i(e){return!!e.clientId}function a(e){return!!e.asapIssuer}var c=function(e){return a(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=n(29);function o(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function i(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"===r||"header_cell"===r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"===a||"header_cell"===a)return e.doc.resolve(i-o.nodeSize)}return null}function a(e){for(var t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function c(e,t,n){var o=e.start(-1),i=r.b.get(e.node(-1)).nextCell(e.pos-o,t,n);return null==i?null:e.node(0).resolve(o+i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(1),s=n.n(c),u=function(){function e(){o()(this,e),s()(this,"enabled",!1)}return a()(e,[{key:"log",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).log.apply(t,[e.UFOprefix].concat(r))}},{key:"warn",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).warn.apply(t,[e.UFOprefix].concat(r))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}}]),e}();s()(u,"UFOprefix","[ufo]");var l=new u,d=function(){l.log.apply(l,arguments)},f=function(){l.warn.apply(l,arguments)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"g",(function(){return E}));var r,o,i,a,c,s,u,l,d,f=n(7),p=n.n(f),h=n(48),m="\n  & > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    line-height: 14px;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",v="\n  & > * > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",b=h.a.span(r||(r=p()(["\n  user-select: none;\n  ","\n  ","\n"])),v,m),g=h.a.span(o||(o=p()(["\n  display: inline-block;\n  margin-right: 2px;\n  user-select: none;\n  ","\n  ","\n"])),v,m),y=h.a.span(i||(i=p()(["\n  white-space: pre-wrap;\n  word-break: break-all;\n"]))),O=(h.a.span(a||(a=p()(["\n  display: inline-block;\n  vertical-align: 1px;\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),h.a.span(c||(c=p()(["\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),h.a.span(s||(s=p()(["\n  margin-left: 2px;\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"])))),w=h.a.span(u||(u=p()(["\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"]))),k=h.a.span(l||(l=p()(["\n  width: 14px;\n  height: 100%;\n  display: inline-block;\n  opacity: 0;\n"]))),E=h.a.span(d||(d=p()(["\n  ::selection {\n    background: none;\n  }\n"])))},function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.Load="load",e.Experience="experience",e.Operation="operation"}(r||(r={})),function(e){e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom"}(o||(o={}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var r=n(614);Object.defineProperty(t,"bind",{enumerable:!0,get:function(){return r.bind}});var o=n(901);Object.defineProperty(t,"bindAll",{enumerable:!0,get:function(){return o.bindAll}})},function(e,t,n){"use strict";var r=n(228),o=n(1032),i=n(463),a=n(1035),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,r){var o;o=n.subscribe((function(t){if(o)try{e(t)}catch(e){r(e),o.unsubscribe()}else e(t)}),r,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=c},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(161),o="recents",i=2592e3,a=4096,c=4*r.a.MB,s=1e3,u=2*r.a.TB},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s}));var r=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},o=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},i=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},c=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||o(e)||i(e)||a(e)||c(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},o=!1,i={setStatic:function(e){o=e},generate:function(){return o||r()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("macroPlugin")},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var r,o=n(1076),i=function(e,t){var n=["audio","video","image"];return Object(o.c)("newCardExperience",t)?[].concat(n,["doc"]).indexOf(e)>-1:n.indexOf(e)>-1},a=function(e){return!!e.mediaType&&!!e.mimeType&&!!e.processingStatus};!function(e){e[e.MB=1048576]="MB",e[e.GB=1073741824]="GB",e[e.TB=1099511627776]="TB"}(r||(r={}))},function(e,t,n){"use strict";var r=n(476);t.concatMap=function(e,t){return r.mergeMap(e,t,1)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(108),o=n(0),i=n(1065),a=n(120);function c(e){Object(i.a)(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var s=Object(r.a)(Object(r.a)({},a.a),{textComponent:o.Fragment});function u(e){return function(t){return e(o.Children.toArray(t))}}function l(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var i=0;i<o;i++){var a=n[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s}));var r=n(0),o=function(e){return Array.isArray(e)?e[0]:e},i=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},a=function(e,t){if("function"==typeof e)return i(e,t);null!=e&&(e.current=t)},c=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},s="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));let r=[];const o=()=>{for(let e=0;e<r.length;e++)r[e]();r=[]},i=e=>{r.push(e),1===r.length&&setTimeout(o,0)},a=e=>class{constructor(e){this._=e}destroy(){e(this._)}},c=a(clearTimeout),s=(e,t)=>new c(setTimeout(t,e));a(clearInterval),a(e=>"undefined"!=typeof requestAnimationFrame&&cancelAnimationFrame(e)),a(e=>"undefined"!=typeof cancelIdleCallback&&cancelIdleCallback(e))},function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m}));var r=n(1),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return"uploading"===e.status},s=function(e){return"processing"===e.status},u=function(e){return"processed"===e.status},l=function(e){return"error"===e.status},d=function(e){return!l(e)&&!!e.preview},f=function(e){return["processed","failed-processing","error"].includes(e.status)},p=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},h=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,i=t.processingStatus,c=t.artifacts,s={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:c,representations:t.representations,createdAt:t.createdAt};switch(i){case"pending":case void 0:return a(a({},s),{},{status:"processing"});case"succeeded":return a(a({},s),{},{status:"processed"});case"failed":return a(a({},s),{},{status:"failed-processing"})}},m=function(e,t){return h({data:a({id:e},t)})}},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}));var r=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},o=function(e){return"application/pdf"===e.toLowerCase()},i=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},c=function(e){return o(e)||r(e)||i(e)||a(e)}},function(e,t,n){"use strict";function r(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0;return!1}function o(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("collabEditPlugin")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(172);function o(e){if(!e)return 1;var t=r.a.getState(e);return t&&t.participants?t.participants.size():1}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(1),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");var r=a(a({},e),{},{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=void 0)),r}function s(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error("addColSpan: attrs.colspan must be number >= 1, received: ".concat(e.colspan))}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;s(e);var r=a(a({},e),{},{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an unordered list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1 2 3"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c}));const r=e=>e[e.length-1],o=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},i=Array.from,a=(e,t)=>{return e.length===t.length&&(n=(e,n)=>e===t[n],e.every(n));var n},c=Array.isArray},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1;function o(e){if(r){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(o))}}},,function(e,t,n){var r=n(555),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));var r=n(45),o=n.n(r),i=function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,c=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(c)return!1;c=e.inlineContent&&e.type.allowsMarkType(n)})),c)return{v:c}},i=0;i<t.length;i++){var a=r(i);if("object"===o()(a))return a.v}return!1},a=function(e,t){return!!t&&t.some((function(t){return t.type!==e&&t.type.excludes(e)}))},c=function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=t.filter(Boolean);if(0!==i.length){var a=!1,c=function(e){return i.indexOf(e.type)>-1};return e.doc.nodesBetween(n.from,n.to,(function(t,n){if(t.type===r.nodes.paragraph&&t.marks.some(c)){a=!0;var i=e.doc.resolve(n),s=t.marks.filter((u=c,function(e){return!u(e)}));o=o.setNodeMarkup(i.pos,void 0,t.attrs,s)}var u})),a?o:void 0}},s=function(e,t){var n=e.selection,r=n.from,o=n.to,i=[];return e.doc.nodesBetween(r,o,(function(n,a,c){return!n.isText&&(!(!["expand","layoutSection"].includes(n.type.name)||!(a<r||a>o))||void n.marks.forEach((function(r){if(!c.type.allowsMarkType(r.type)||t&&!t.allowsMarkType(r.type)){var o=n.marks.filter((function(e){return e.type!==r.type})),s=a>0?a:0,u=n.marks.filter((function(e){return e.type===r.type}));i.push({node:n,marksRemoved:u}),e.setNodeMarkup(s,void 0,n.attrs,o)}})))})),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){return function e(t,n,r,o,i){var c=r[t.type]||r.any,s=a({},t);if(c){var u=c(a({},s),n,o,i);if(!1===u)return!1;s=u||t}s.content&&(s.content=s.content.reduce((function(t,o,a){if(!o)return t;var c=e(o,{node:s,parent:n},r,a,i+1);return!1!==c&&t.push(c),t}),[]));return s}(e,{node:void 0},t,0,0)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("analyticsPlugin")},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(230),i=n(163);function a(){var e=r.useContext(o.a);return Object(i.c)(e),e}},function(e,t,n){"use strict";n.d(t,"g",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"h",(function(){return k}));var r=n(10),o=n.n(r),i=n(19),a=n.n(i),c=n(22),s=n.n(c),u=n(0),l=n.n(u),d=n(184),f=n(472),p=n(136),h=function(e){return function(t){var n=t.values,r=t.children,o=(0,Object(d.a)().formatMessage)(e,n);return"function"==typeof r?r(o):l.a.createElement(f.a,s()({values:n},e))}},m=h(p.a.unknownUserError),v=h(p.a.noAccessWarning),b=h(p.a.noAccessLabel),g=(h(p.a.defaultHeadline),h(p.a.defaultAdvisedAction),h(p.a.loginAgain),h(p.a.differentText),h(p.a.TeamMentionHighlightTitle)),y=h(p.a.TeamMentionHighlightCloseButtonToolTip),O=h(p.a.TeamMentionHighlightDescription),w=h(p.a.TeamMentionHighlightDescriptionLink),k=function(){var e=a()(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="cs"===e.t0?3:"da"===e.t0?4:"de"===e.t0?5:"en"===e.t0?6:"en_GB"===e.t0?7:"es"===e.t0?8:"et"===e.t0?9:"fi"===e.t0?10:"fr"===e.t0?11:"hu"===e.t0?12:"is"===e.t0?13:"it"===e.t0?14:"ja"===e.t0?15:"ko"===e.t0?16:"nb"===e.t0?17:"nl"===e.t0?18:"pl"===e.t0?19:"pt_BR"===e.t0||"pt-BR"===e.t0?20:"pt_PT"===e.t0||"pt-PT"===e.t0?21:"ro"===e.t0?22:"ru"===e.t0?23:"sk"===e.t0?24:"sv"===e.t0?25:"th"===e.t0?26:"tr"===e.t0?27:"uk"===e.t0?28:"vi"===e.t0?29:"zh_TW"===e.t0?30:"zh"===e.t0?31:32;break;case 3:return e.abrupt("return",n.e(73).then(n.bind(null,1098)).then((function(e){return e.default})));case 4:return e.abrupt("return",n.e(74).then(n.bind(null,1099)).then((function(e){return e.default})));case 5:return e.abrupt("return",n.e(75).then(n.bind(null,1100)).then((function(e){return e.default})));case 6:return e.abrupt("return",n.e(76).then(n.bind(null,766)).then((function(e){return e.default})));case 7:return e.abrupt("return",n.e(77).then(n.bind(null,1101)).then((function(e){return e.default})));case 8:return e.abrupt("return",n.e(78).then(n.bind(null,1102)).then((function(e){return e.default})));case 9:return e.abrupt("return",n.e(79).then(n.bind(null,1103)).then((function(e){return e.default})));case 10:return e.abrupt("return",n.e(80).then(n.bind(null,1104)).then((function(e){return e.default})));case 11:return e.abrupt("return",n.e(81).then(n.bind(null,1105)).then((function(e){return e.default})));case 12:return e.abrupt("return",n.e(82).then(n.bind(null,1106)).then((function(e){return e.default})));case 13:return e.abrupt("return",n.e(83).then(n.bind(null,1107)).then((function(e){return e.default})));case 14:return e.abrupt("return",n.e(84).then(n.bind(null,1108)).then((function(e){return e.default})));case 15:return e.abrupt("return",n.e(85).then(n.bind(null,1109)).then((function(e){return e.default})));case 16:return e.abrupt("return",n.e(86).then(n.bind(null,1110)).then((function(e){return e.default})));case 17:return e.abrupt("return",n.e(87).then(n.bind(null,1111)).then((function(e){return e.default})));case 18:return e.abrupt("return",n.e(88).then(n.bind(null,1112)).then((function(e){return e.default})));case 19:return e.abrupt("return",n.e(89).then(n.bind(null,1113)).then((function(e){return e.default})));case 20:return e.abrupt("return",n.e(90).then(n.bind(null,1114)).then((function(e){return e.default})));case 21:return e.abrupt("return",n.e(91).then(n.bind(null,1115)).then((function(e){return e.default})));case 22:return e.abrupt("return",n.e(92).then(n.bind(null,1116)).then((function(e){return e.default})));case 23:return e.abrupt("return",n.e(93).then(n.bind(null,1117)).then((function(e){return e.default})));case 24:return e.abrupt("return",n.e(94).then(n.bind(null,1118)).then((function(e){return e.default})));case 25:return e.abrupt("return",n.e(95).then(n.bind(null,1119)).then((function(e){return e.default})));case 26:return e.abrupt("return",n.e(96).then(n.bind(null,1120)).then((function(e){return e.default})));case 27:return e.abrupt("return",n.e(97).then(n.bind(null,1121)).then((function(e){return e.default})));case 28:return e.abrupt("return",n.e(98).then(n.bind(null,1122)).then((function(e){return e.default})));case 29:return e.abrupt("return",n.e(99).then(n.bind(null,1123)).then((function(e){return e.default})));case 30:return e.abrupt("return",n.e(101).then(n.bind(null,1124)).then((function(e){return e.default})));case 31:return e.abrupt("return",n.e(100).then(n.bind(null,1125)).then((function(e){return e.default})));case 32:if(2!==(r=t.split(/[_-]/)).length){e.next=37;break}return e.abrupt("return",k(r[0]));case 37:return e.abrupt("return",n.e(76).then(n.bind(null,766)).then((function(e){return e.default})));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));n(176);var r=n(190);const o=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&o(e,t,n+1)}},i=()=>{},a=(e,t)=>e===t,c=(e,t)=>{if(null==e||null==t)return a(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!c(e.get(n),t.get(n)))return!1;break;case Object:if(r.d(e)!==r.d(t))return!1;for(const n in e)if(!r.b(e,n)||!c(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;break;default:return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t}},function(e,t,n){"use strict";t.a={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time",ON_EDITOR_READY_CALLBACK:"onEditorReady Callback Duration",PASTE:"Editor Paste Plugin Paste Duration"}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(329),o=n(221);n(26),n(31);const i=e=>new Uint8Array(e),a=(e,t,n)=>new Uint8Array(e,t,n),c=e=>new Uint8Array(e),s=o.b?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=r.b(e[n]);return btoa(t)}:t=>e.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),u=o.b?e=>{const t=atob(e),n=i(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}:t=>{const n=e.from(t,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)},l=e=>{const t=i(e.byteLength);return t.set(e),t}}).call(this,n(501).Buffer)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));Object.assign;const r=Object.keys,o=(e,t)=>{const n=[];for(const r in e)n.push(t(e[r],r));return n},i=e=>r(e).length,a=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c=(e,t)=>e===t||i(e)===i(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,(e,n)=>(void 0!==e||a(t,n))&&t[n]===e)},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(153),o=n(336),i={platform:{component:"smart-links"},type:r.b.Experience,performanceType:r.a.InlineResult},a={platform:{component:"smart-links"},type:r.b.Load,performanceType:r.a.PageSegmentLoad},c={"smart-link-rendered":new o.a("smart-link-rendered",a),"smart-link-authenticated":new o.a("smart-link-authenticated",i),"smart-link-action-invocation":new o.a("smart-link-action-invocation",i)},s=function(e,t,n){var r=c[e].getInstance(t);r.start(),n&&r.addMetadata(n)},u=function(e,t,n){c[e].getInstance(t).success({metadata:n})},l=function(e,t,n){c[e].getInstance(t).failure({metadata:n})},d=function(e,t,n){c[e].getInstance(t).addMetadata(n)}},function(e,t,n){"use strict";var r={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var c=r.ie=!!(i||a||o);r.ie_version=i?document.documentMode||6:a?+a[1]:o?+o[1]:null,r.gecko=!c&&/gecko\/\d/i.test(navigator.userAgent),r.chrome=!c&&/Chrome\//.test(navigator.userAgent),r.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),r.android=/Android \d/.test(navigator.userAgent),r.ios=!c&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!c&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,r.safari=Boolean(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")),r.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r.supportsResizeObserver="undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}t.a=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(26),o=n(31),i=n(132),a=n(62),c=n(242),s=n(186);class u extends c.a{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=i.a();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach((n,r)=>{r!==this.clientID&&3e4<=e-n.lastUpdated&&this.states.has(r)&&t.push(r)}),t.length>0&&l(this,t,"timeout")},a.c(3e3)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,o=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:i.a()});const a=[],c=[],u=[],l=[];null===e?l.push(t):null==o?null!=e&&a.push(t):(c.push(t),s.b(o,e)||u.push(t)),(a.length>0||u.length>0||l.length>0)&&this.emit("change",[{added:a,updated:u,removed:l},"local"]),this.emit("update",[{added:a,updated:c,removed:l},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const l=(e,t,n)=>{const r=[];for(let n=0;n<t.length;n++){const o=t[n];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){const t=e.meta.get(o);e.meta.set(o,{clock:t.clock+1,lastUpdated:i.a()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},d=(e,t,n=e.states)=>{const o=t.length,i=r.e();r.n(i,o);for(let a=0;a<o;a++){const o=t[a],c=n.get(o)||null,s=e.meta.get(o).clock;r.n(i,o),r.n(i,s),r.m(i,JSON.stringify(c))}return r.g(i)},f=(e,t,n)=>{const r=o.e(t),a=i.a(),c=[],u=[],l=[],d=[],f=o.k(r);for(let t=0;t<f;t++){const t=o.k(r);let n=o.k(r);const i=JSON.parse(o.j(r)),f=e.meta.get(t),p=e.states.get(t),h=void 0===f?0:f.clock;(h<n||h===n&&null===i&&e.states.has(t))&&(null===i?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,i),e.meta.set(t,{clock:n,lastUpdated:a}),void 0===f&&null!==i?c.push(t):void 0!==f&&null===i?d.push(t):null!==i&&(s.b(i,p)||l.push(t),u.push(t)))}(c.length>0||l.length>0||d.length>0)&&e.emit("change",[{added:c,updated:l,removed:d},n]),(c.length>0||u.length>0||d.length>0)&&e.emit("update",[{added:c,updated:u,removed:d},n])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(1),o=n.n(r),i=n(83),a=n(85),c=n(20),s=n.n(c),u=n(138),l=n(32);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){var r=e.draftDecorationSet;r&&t||(r=l.b.empty);var o=f(f({},e),{},{draftDecorationSet:r});if(o.bookmark=void 0,t&&n){o.bookmark=n.selection.getBookmark();var i=o.bookmark.resolve(n.doc),c=Object(a.a)(i.from,i.to);o.draftDecorationSet=r.add(n.doc,[c])}return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=Object(a.c)(e.selection,e.doc);return n.length!==t.selectedAnnotations.length||n.some((function(e){return!t.selectedAnnotations.some((function(t){return t.type===e.id}))}))?m(m({},t),{},{selectedAnnotations:n}):t},b=Object(i.a)(a.i,(function(e,t){switch(t.type){case u.a.UPDATE_INLINE_COMMENT_STATE:return f(f({},e),{},{annotations:f(f({},e.annotations),t.data)});case u.a.INLINE_COMMENT_UPDATE_MOUSE_STATE:var n=Object.assign({},e.mouseData,t.data.mouseData);return f(f({},e),{},{mouseData:n});case u.a.SET_INLINE_COMMENT_DRAFT_STATE:return p(e,t.data.drafting,t.data.editorState);case u.a.INLINE_COMMENT_CLEAR_DIRTY_MARK:return f(f({},e),{},{dirtyAnnotations:!1,annotations:{}});case u.a.CLOSE_COMPONENT:return f(f({},e),{},{selectedAnnotations:[]});case u.a.ADD_INLINE_COMMENT:var r=p(e,t.data.drafting,t.data.editorState);return f(f({},r),{},{selectedAnnotations:[].concat(s()(r.selectedAnnotations),s()(t.data.selectedAnnotations)),annotations:f(f({},e.annotations),t.data.inlineComments)});case u.a.INLINE_COMMENT_SET_VISIBLE:var o=t.data.isVisible;return o===e.isVisible?e:f(f({},o?e:p(e,!1)),{},{isVisible:o});default:return e}}),{onSelectionChanged:v,onDocChanged:function(e,t){return e.getMeta("replaceDocument")?m(m({},t),{},{dirtyAnnotations:!0}):v(e,t)},mapping:function(e,t){var n,r,o=t.draftDecorationSet,i=t.bookmark;return o&&(n=o.map(e.mapping,e.doc)),i&&(r=i.map(e.mapping)),r===i&&n===o?t:m(m({},t),{},{draftDecorationSet:n,bookmark:r})}}),g=b.createPluginState,y=b.createCommand},function(e){e.exports=JSON.parse('{"a":"@atlaskit/mention","b":"21.0.6"}')},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(9),o=n.n(r),i=n(8),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(345);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var b=function(e){l()(n,e);var t=v(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).message=e,Object.setPrototypeOf(s()(r),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace(s()(r),this instanceof n?this.constructor:void 0),r}return o()(n)}(n.n(m)()(Error))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0),g=n.n(b),y=n(68),O=n.n(y);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}function k(e){return function(t){l()(r,t);var n=w(r);function r(){var e;o()(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),v()(s()(e),"handleClick",(function(t){var n=O.a.findDOMNode(s()(e));(!n||t.target instanceof Node&&!n.contains(t.target))&&e.props.handleClickOutside&&e.props.handleClickOutside(t)})),v()(s()(e),"handleKeydown",(function(t){"Escape"===t.code&&e.props.handleEscapeKeydown?e.props.handleEscapeKeydown(t):"Enter"===t.code&&e.props.handleEnterKeydown&&e.props.handleEnterKeydown(t)})),e}return a()(r,[{key:"componentDidMount",value:function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){return g.a.createElement(e,this.props)}}]),r}(b.PureComponent)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={};function o(){return r}},function(e,t,n){"use strict";var r;function o(){return void 0===r&&(r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType","now"].every((function(e){return!!performance[e]}))),r}function i(){return!("undefined"==typeof window||!("PerformanceObserver"in window))}function a(){return i()&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(379),o=n(380);var i=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(e){return 45===e.charCodeAt(1)},s=function(e){return null!=e&&"boolean"!=typeof e},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c(e)?e:e.replace(i,"-$&").toLowerCase()})),l=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===o.a[e]||c(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)f={name:o.name,styles:o.styles,next:f},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=d(e,t,n[o],!1);else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":s(a)&&(r+=u(i)+":"+l(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var c=d(e,t,a,!1);switch(i){case"animation":case"animationName":r+=u(i)+":"+c+";";break;default:r+=i+"{"+c+"}"}}else for(var f=0;f<a.length;f++)s(a[f])&&(r+=u(i)+":"+l(i,a[f])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=f,a=n(e);return f=i,d(e,t,a,r)}break;case"string":}if(null==t)return n;var c=t[n];return void 0===c||r?n:c}var f,p=/label:\s*([^\s;\n{]+)\s*;/g;var h=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";f=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=d(n,t,a,!1)):i+=a[0];for(var c=1;c<e.length;c++)i+=d(n,t,e[c],46===i.charCodeAt(i.length-1)),o&&(i+=a[c]);p.lastIndex=0;for(var s,u="";null!==(s=p.exec(i));)u+="-"+s[1];return{name:Object(r.a)(i)+u,styles:i,next:f}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}}},function(e){e.exports=JSON.parse('{"a":"@atlaskit/editor-core","b":"170.0.0"}')},function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return S}));var r=n(1),o=n.n(r),i=n(16),a=n(3),c={background:{default:{default:{light:"var(--ds-background-neutral, ".concat(a.N20A,")"),dark:"var(--ds-background-neutral, ".concat(a.DN70,")")},hover:{light:"var(--ds-background-neutral-hovered, ".concat(a.N30A,")"),dark:"var(--ds-background-neutral-hovered, ".concat(a.DN60,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat("rgba(179, 212, 255, 0.6)",")"),dark:"var(--ds-background-neutral-pressed, ".concat(a.B75,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.N20A,")"),dark:"var(--ds-background-disabled, ".concat(a.DN70,")")},selected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")}},primary:{default:{light:"var(--ds-background-brand-bold, ".concat(a.B400,")"),dark:"var(--ds-background-brand-bold, ".concat(a.B100,")")},hover:{light:"var(--ds-background-brand-bold-hovered, ".concat(a.B300,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(a.B75,")")},active:{light:"var(--ds-background-brand-bold-pressed, ".concat(a.B500,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(a.B200,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.N20A,")"),dark:"var(--ds-background-disabled, ".concat(a.DN70,")")},selected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")}},warning:{default:{light:"var(--ds-background-warning-bold, ".concat(a.Y300,")"),dark:"var(--ds-background-warning-bold, ".concat(a.Y300,")")},hover:{light:"var(--ds-background-warning-bold-hovered, ".concat(a.Y200,")"),dark:"var(--ds-background-warning-bold-hovered, ".concat(a.Y200,")")},active:{light:"var(--ds-background-warning-bold-pressed, ".concat(a.Y400,")"),dark:"var(--ds-background-warning-bold-pressed, ".concat(a.Y400,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.N20A,")"),dark:"var(--ds-background-disabled, ".concat(a.DN70,")")},selected:{light:"var(--ds-background-selected, ".concat(a.Y400,")"),dark:"var(--ds-background-selected, ".concat(a.Y400,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.Y400,")"),dark:"var(--ds-background-selected, ".concat(a.Y400,")")}},danger:{default:{light:"var(--ds-background-danger-bold, ".concat(a.R400,")"),dark:"var(--ds-background-danger-bold, ".concat(a.R400,")")},hover:{light:"var(--ds-background-danger-bold-hovered, ".concat(a.R300,")"),dark:"var(--ds-background-danger-bold-hovered, ".concat(a.R300,")")},active:{light:"var(--ds-background-danger-bold-pressed, ".concat(a.R500,")"),dark:"var(--ds-background-danger-bold-pressed, ".concat(a.R500,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.N20A,")"),dark:"var(--ds-background-disabled, ".concat(a.DN70,")")},selected:{light:"var(--ds-background-selected, ".concat(a.R500,")"),dark:"var(--ds-background-selected, ".concat(a.R500,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.R500,")"),dark:"var(--ds-background-selected, ".concat(a.R500,")")}},link:{default:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.N20,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.N20,")")}},subtle:{default:{light:"none",dark:"none"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(a.N30A,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(a.DN60,")")},active:{light:"var(--ds-background-neutral-subtle-pressed, ".concat("rgba(179, 212, 255, 0.6)",")"),dark:"var(--ds-background-neutral-subtle-pressed, ".concat(a.B75,")")},disabled:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.DN0,")")}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.N20,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.N700,")"),dark:"var(--ds-background-selected, ".concat(a.N20,")")}}},boxShadowColor:{default:{focus:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")}},primary:{focus:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")}},warning:{focus:{light:"var(--ds-border-focused, ".concat(a.Y500,")"),dark:"var(--ds-border-focused, ".concat(a.Y500,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.Y500,")"),dark:"var(--ds-border-focused, ".concat(a.Y500,")")}},danger:{focus:{light:"var(--ds-border-focused, ".concat(a.R100,")"),dark:"var(--ds-border-focused, ".concat(a.R100,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.R100,")"),dark:"var(--ds-border-focused, ".concat(a.R100,")")}},link:{focus:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")}},subtle:{focus:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")}},"subtle-link":{focus:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(a.B100,")"),dark:"var(--ds-border-focused, ".concat(a.B75,")")}}},color:{default:{default:{light:"var(--ds-text, ".concat(a.N500,")"),dark:"var(--ds-text, ".concat(a.DN400,")")},active:{light:"var(--ds-text, ".concat(a.B400,")"),dark:"var(--ds-text, ".concat(a.B400,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN30,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")}},primary:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.DN30,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN30,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")}},warning:{default:{light:"var(--ds-text-warning-inverse, ".concat(a.N800,")"),dark:"var(--ds-text-warning-inverse, ".concat(a.N800,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN30,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N800,")"),dark:"var(--ds-text-selected, ".concat(a.N800,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N800,")"),dark:"var(--ds-text-selected, ".concat(a.N800,")")}},danger:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.N0,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN30,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")}},link:{default:{light:"var(--ds-link, ".concat(a.B400,")"),dark:"var(--ds-link, ".concat(a.B100,")")},hover:{light:"var(--ds-link, ".concat(a.B300,")"),dark:"var(--ds-link, ".concat(a.B75,")")},active:{light:"var(--ds-link-pressed, ".concat(a.B500,")"),dark:"var(--ds-link-pressed, ".concat(a.B200,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN100,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.N700,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.N700,")")}},subtle:{default:{light:"var(--ds-text, ".concat(a.N500,")"),dark:"var(--ds-text, ".concat(a.DN400,")")},active:{light:"var(--ds-text, ".concat(a.B400,")"),dark:"var(--ds-text, ".concat(a.B400,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN100,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")}},"subtle-link":{default:{light:"var(--ds-text-subtle, ".concat(a.N200,")"),dark:"var(--ds-text-subtle, ".concat(a.DN400,")")},hover:{light:"var(--ds-text-subtle, ".concat(a.N90,")"),dark:"var(--ds-text-subtle, ".concat(a.B50,")")},active:{light:"var(--ds-text, ".concat(a.N400,")"),dark:"var(--ds-text, ".concat(a.DN300,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.N70,")"),dark:"var(--ds-text-disabled, ".concat(a.DN100,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N20,")"),dark:"var(--ds-text-selected, ".concat(a.DN400,")")}}}};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Object(i.d)(),d=Object(i.i)(),f=Object(i.g)(),p={default:"".concat(4*d/f,"em"),compact:"".concat(3*d/f,"em"),none:"auto"},h={default:p.default,compact:p.compact,none:"inherit"},m={default:"0 ".concat(d+d/4,"px"),compact:"0 ".concat(d+d/4,"px"),none:"0"},v={compact:"0 ".concat(d/4,"px"),default:"0 ".concat(d/4,"px"),none:"0"},b={default:"middle",compact:"middle",none:"baseline"},g={content:"0 ".concat(d/4,"px"),icon:"0 ".concat(d/4,"px")};function y(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function O(e){var t=e.appearance,n=e.key,r=e.mode;return{background:y({group:c.background[t],key:n,mode:r}),color:"".concat(y({group:c.color[t],key:n,mode:r})," !important")}}function w(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,s=O({appearance:t,key:o?"selected":"default",mode:r});return u(u({alignItems:"baseline",borderWidth:0,borderRadius:l,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},s),{},{cursor:"pointer",height:p[n],lineHeight:h[n],padding:a?v[n]:m[n],verticalAlign:b[n],width:i?"100%":"auto",justifyContent:"center","&:visited":u({},s),"&:hover":u(u({},O({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":u(u({},O({appearance:t,key:o?"focusSelected":"focus",mode:r})),{},{boxShadow:"0 0 0 2px ".concat(c.boxShadowColor[t].focus[r]),transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":u(u({},O({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':u(u({},O({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":u(u({},O({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':u({},O({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function k(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:g.icon}}function E(e){return{margin:"none"===e.spacing?0:g.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}function x(e){return{transition:"opacity 0.3s",opacity:e.hasOverlay?0:1}}var S={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("helpDialogPlugin")},,function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?u=s.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"q",(function(){return w})),n.d(t,"p",(function(){return k})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return x})),n.d(t,"m",(function(){return S})),n.d(t,"l",(function(){return j})),n.d(t,"f",(function(){return C})),n.d(t,"g",(function(){return T})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return A})),n.d(t,"e",(function(){return P}));var r,o,i,a=n(1),c=n.n(a),s=n(12),u=n(33),l=n(16),d=n(143),f=n(84),p=n(98),h=n(3),m=Object(s.c)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:Object(u.a)("elevation.surface.overlay","white"),border:"".concat(d.b," 1px solid"),borderRadius:"".concat(Object(l.d)(),"px"),boxShadow:d.c,height:"".concat(p.j,"px"),width:"".concat(p.k,"px"),marginBottom:"8px",minWidth:"".concat(p.k,"px")}),v=Object(s.c)(c()({flex:"0 0 auto",backgroundColor:Object(u.a)("elevation.surface.sunken",h.N30),ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,button:{verticalAlign:"middle"}}},".".concat("emoji-picker-add-button"),{color:Object(u.a)("color.text.subtlest",h.N200),margin:"0 0 0 5px",verticalAlign:"middle"})),b=Object(s.c)(c()({color:Object(u.a)("color.text.selected",h.B300)},"&:hover",{color:Object(u.a)("color.text.selected",h.B300)})),g=Object(s.c)(c()({color:Object(u.a)("color.text.subtlest",h.N50),cursor:"default"},"&:hover",{color:Object(u.a)("color.text.subtlest",h.N50)})),y=Object(s.c)((r={backgroundColor:"transparent",border:0,color:Object(u.a)("color.text.subtlest",h.N100A),cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease"},c()(r,"&::-moz-focus-inner",{border:"0 none",padding:0}),c()(r,"&:hover",{color:Object(u.a)("color.text.selected",h.B200)}),r)),O=Object(s.c)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),w=Object(s.c)({"&:focus":{outline:"none"}}),k=Object(s.c)({opacity:.5}),E=Object(s.c)((o={boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 6px",width:"100%"},c()(o,"&:invalid",{boxShadow:"none"}),c()(o,"&::-ms-clear",{display:"none"}),o)),x=Object(s.c)({boxSizing:"border-box",padding:"10px 10px 11px 10px",width:"100%"}),S=Object(s.c)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",">div":{flex:"0 0 auto"}}),j=Object(s.c)({marginLeft:"8px"}),C=Object(s.c)({boxSizing:"border-box",color:Object(u.a)("color.text",h.N900),fontSize:"14px",padding:"5px 8px",textTransform:"lowercase","&:first-letter":{textTransform:"uppercase"}}),T=Object(s.c)((i={display:"inline-block",textAlign:"center",width:"40px"},c()(i,"& .".concat(f.s),{cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px"}),c()(i,"& .".concat(f.C),{padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"}),c()(i,"& .".concat(f.s," .").concat(f.C),{margin:"0"}),c()(i,"& .".concat(f.s," > img"),{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}),c()(i,"& .".concat(f.s," > .").concat(f.w),{height:"24px",width:"24px"}),i)),_=Object(s.c)({flex:"0 0 auto"}),A=Object(s.c)({borderTop:"2px solid ".concat(Object(u.a)("color.border",h.N30A)),boxShadow:"0px -1px 1px 0px ".concat(Object(u.a)("color.border","rgba(0, 0, 0, 0.1)"))}),P=Object(s.c)({borderBottom:"2px solid ".concat(Object(u.a)("color.border",h.N30A)),boxShadow:"0px 1px 1px 0px ".concat(Object(u.a)("color.border","rgba(0, 0, 0, 0.1)"))})},function(e,t,n){var r=n(196),o=n(805),i=n(556),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,u,l,d,f,p,h=0,m=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=s,r=u;return s=u=void 0,h=t,d=e.apply(r,n)}function y(e){return h=e,f=setTimeout(w,t),m?g(e):d}function O(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=l}function w(){var e=o();if(O(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-p);return v?c(n,l-(e-h)):n}(e))}function k(e){return f=void 0,b&&s?g(e):(s=u=void 0,d)}function E(){var e=o(),n=O(e);if(s=arguments,u=this,p=e,n){if(void 0===f)return y(p);if(v)return clearTimeout(f),f=setTimeout(w,t),g(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,l=(v="maxWait"in n)?a(i(n.maxWait)||0,t):l,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==f&&clearTimeout(f),h=0,s=p=u=f=void 0},E.flush=function(){return void 0===f?d:k(o())},E}},function(e,t,n){"use strict";var r=n(640),o=n(641),i=n(639),a=n(1033),c=n(642),s=n(1034),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,u=this._parents,d=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,h=u?u.length:0;n;)n.remove(this),n=++p<h&&u[p]||null;if(i.isFunction(d))a.tryCatch(d).call(this)===c.errorObject&&(t=!0,e=e||(c.errorObject.e instanceof s.UnsubscriptionError?l(c.errorObject.e.errors):[c.errorObject.e]));if(r.isArray(f))for(p=-1,h=f.length;++p<h;){var m=f[p];if(o.isObject(m))if(a.tryCatch(m.unsubscribe).call(m)===c.errorObject){t=!0,e=e||[];var v=c.errorObject.e;v instanceof s.UnsubscriptionError?e=e.concat(l(v.errors)):e.push(v)}}if(t)throw new s.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("extensionPlugin")},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(19),o=n.n(r),i=n(10),a=n.n(i),c=n(4),s=n(212),u=n(99),l=n(77);function d(e){return f.apply(this,arguments)}function f(){return(f=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state&&s.a.getState(t.state))||!n.showContextPanel){e.next=4;break}return e.next=4,new Promise((function(e){Object(u.b)(e)(t.state,t.dispatch)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=o()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state&&l.a.getState(t.state))||!n.waitForMediaUpload){e.next=4;break}return e.next=4,n.waitForPendingTasks();case 4:return e.abrupt("return",t.state.doc);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return function(t,n){var r=t.tr,o=!1,i=function(e){var t=e.selection.toJSON();r.setSelection(c.Selection.fromJSON(r.doc,t)),e.steps.forEach((function(e){r.step(e)})),o=!0};return e.forEach((function(e){return e(t,i)})),!(!n||!o)&&(n(r),!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r,o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=function(){function e(t){i()(this,e),this.streams=t}return c()(e,[{key:"has",value:function(e){return!!this.streams.find(e)}},{key:"set",value:function(e,t){this.streams.set(e,t)}},{key:"get",value:function(e){return this.streams.get(e)}},{key:"getOrInsert",value:function(e,t){return this.has(e)||this.set(e,t()),this.get(e)}},{key:"removeAll",value:function(){this.streams.removeAll()}},{key:"remove",value:function(e){this.streams.remove(e)}},{key:"size",get:function(){return this.streams.size}}]),e}(),u=function(){if(!r){var e=n(149).mediaState;r=new s(e.streams)}return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(319);function o(e){var t=new r.ReplaySubject(1);return e instanceof Error?t.error(e):e&&t.next(e),t}},function(e,t,n){"use strict";var r=n(1055);t.from=r.FromObservable.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(561);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var h=function(e){s()(n,e);var t=p(n);function n(e,r){var i;return o()(this,n),(i=t.call(this,e)).reason=e,i.innerError=r,i}return a()(n,[{key:"attributes",get:function(){return{reason:this.reason,innerError:this.innerError}}}]),n}(n(198).a);function m(e){return e instanceof h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(367),o=n(1067),i=n(746),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"final",t={nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","panel","rule","image","caption","mention","media","mediaGroup","mediaSingle","mediaInline","confluenceUnsupportedBlock","confluenceUnsupportedInline","confluenceJiraIssue","expand","nestedExpand","extension","inlineExtension","bodiedExtension","hardBreak","emoji","table","tableCell","tableHeader","tableRow","decisionList","decisionItem","taskList","taskItem","unknownBlock","date","status","placeholder","layoutSection","layoutColumn","inlineCard","blockCard","embedCard","unsupportedBlock","unsupportedInline"],marks:["link","em","strong","strike","subsup","underline","code","textColor","confluenceInlineComment","breakout","alignment","indentation","annotation","dataConsumer","unsupportedMark","unsupportedNodeAttribute","typeAheadQuery"]};return"stage0"===e&&(t.customNodeSpecs={layoutSection:r.b},t.customMarkSpecs={fragment:o.a},t.nodes.push("mediaInline")),Object(i.a)(t)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=()=>new Set},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(89),o=n(329),i=n(492),a=n(330);const c=void 0!==e&&e.release&&/node|io\.js/.test(e.release.name),s="undefined"!=typeof window&&!c;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let u;const l=[],d=()=>{if(void 0===u)if(c){u=r.c();const t=e.argv;let n=null;for(let e=0;e<t.length;e++){const r=t[e];"-"===r[0]?(null!==n&&u.set(n,""),n=r):null!==n?(u.set(n,r),n=null):l.push(r)}null!==n&&u.set(n,"")}else"object"==typeof location?(u=r.c(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){const[t,n]=e.split("=");u.set("--"+o.a(t,"-"),n),u.set("-"+o.a(t,"-"),n)}})):u=r.c();return u},f=t=>c?i.a(e.env[t.toUpperCase()]):i.a(a.b.getItem(t));(e=>d().has(e))("--"+(p="production"))||f(p);var p}).call(this,n(208))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(89),o=n(189),i=n(330);const a=new Map;const c="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,i.a(t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:o.d(t.newValue||"")}))}postMessage(e){i.b.setItem(this.room,o.e(o.b(e)))}}:BroadcastChannel,s=e=>r.e(a,e,()=>{const t=new Set,n=new c(e);return n.onmessage=e=>t.forEach(t=>t(e.data,"broadcastchannel")),{bc:n,subs:t}}),u=(e,t)=>s(e).subs.add(t),l=(e,t)=>s(e).subs.delete(t),d=(e,t,n=null)=>{const r=s(e);r.bc.postMessage(t),r.subs.forEach(e=>e(t,n))}},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=n||void 0!==e&&e||r;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,n(226))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(639),i=n(211),a=n(643),c=n(462),s=function(e){function t(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!t){this.destination=a.empty;break}if("object"==typeof t){if(l(t)){var o=t[c.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,n,r)}}return r(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.Subscription);t.Subscriber=s;var u=function(e){function t(t,n,r,i){var c;e.call(this),this._parentSubscriber=t;var s=this;o.isFunction(n)?c=n:n&&(c=n.next,r=n.error,i=n.complete,n!==a.empty&&(s=Object.create(n),o.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=c,this._error=r,this._complete=i}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(s);function l(e){return e instanceof s||"syncErrorThrowable"in e&&e[c.rxSubscriber]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(108),o=n(0),i=n(281),a=n.n(i),c=n(163);var s=o.createContext(null),u=s.Consumer,l=s.Provider,d=s;function f(e,t){var n,i=t||{},s=i.intlPropName,l=void 0===s?"intl":s,d=i.forwardRef,f=void 0!==d&&d,p=i.enforceContext,h=void 0===p||p,m=function(t){return o.createElement(u,null,(function(n){var i;h&&Object(c.c)(n);var a=((i={})[l]=n,i);return o.createElement(e,Object(r.a)({},t,a,{ref:f?t.forwardedRef:null}))}))};return m.displayName="injectIntl(".concat((n=e).displayName||n.name||"Component",")"),m.WrappedComponent=e,f?a()(o.forwardRef((function(e,t){return o.createElement(m,Object(r.a)({},e,{forwardedRef:t}))})),e):a()(m,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return q}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),c=n(10),s=n.n(c),u=n(326),l=n.n(u),d=n(4),f=n(18),p=n(20),h=n.n(p),m=n(368),v=new Set(Object.keys(m).filter((function(e){return m[e]&&"inline"===m[e].group}))),b=n(299),g=n(453),y=n(159),O=n(219);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return"sub"===e||"sup"===e},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return v.has(e.type)?{type:"paragraph",content:[e]}:e}))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final";return e.map((function(e){return I(e,t,n)}))},j=/^#[0-9a-fA-F]{6}$/,C=/^\//,T=/^#/,_=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",o=[],i=!1,a=0;a<t.content.length;a++){var c=t.content[a],s=!(c.content&&c.content.length);a>0&&(i?o.push({type:"text",text:" "}):o.push({type:"hardBreak"})),s?o.push(I(c,n,r)):o.push.apply(o,h()(e(c,n,r))),i=s}return o},A=function(e){var t=e.attrs,n=void 0===t?{}:t,r=e.content,o=e.text,i=e.type;if(!r||!r.length){var a={type:"text",text:o||n.text||"[".concat(i,"]")},c=n.textUrl;return c&&Object(b.b)(c)&&(a.marks=[{type:"link",attrs:{href:c}}]),a}return{type:"unknownBlock",content:_(e)}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final";return e&&e.length>0?e.reduce((function(e,n){var r=M(n,t);return r&&e.push(r),e}),[]):e},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",r=e.attrs,o=e.marks,i=e.text,a=e.type,c=e.content,s={attrs:r,marks:o,text:i,type:a};if(c&&(s.content=c=S(c,t,n)),!t.nodes[a])return A(s);if(a)switch(a){case"doc":var u=e,l=u.version;if(l&&c&&c.length)return{type:a,content:c};break;case"codeBlock":return c&&(c=c.reduce((function(e,t){return"text"===t.type&&e.push({type:t.type,text:t.text}),e}),[])),r&&r.language?{type:a,attrs:r,content:c,marks:o}:{type:a,content:c,marks:o};case"date":if(r&&r.timestamp)return{type:a,attrs:r};break;case"status":if(r&&r.text&&r.color)return{type:a,attrs:r};break;case"emoji":if(r&&r.shortName)return{type:a,attrs:r};break;case"inlineExtension":case"extension":if(r&&r.extensionType&&r.extensionKey)return{type:a,attrs:r};break;case"inlineCard":case"blockCard":if(r&&(r.url&&Object(b.b)(r.url)||r.data&&r.data.url&&Object(b.b)(r.data.url)))return{type:a,attrs:r};break;case"embedCard":if(r&&(r.url&&Object(b.b)(r.url)||r.data&&r.data.url&&Object(b.b)(r.data.url))&&r.layout)return{type:a,attrs:r};break;case"bodiedExtension":if(r&&r.extensionType&&r.extensionKey&&c)return{type:a,attrs:r,content:c};break;case"hardBreak":return{type:a};case"caption":if(c)return{type:a,content:c};break;case"mediaInline":var d="",f=[];if(r){var p=r.id,h=r.collection;d=p,f=h}if(d&&f)return{type:a,attrs:r,marks:o};break;case"media":var m="",v="",w=[],E="";if(r){var j=r.id,C=r.collection,T=r.type,_=r.url;m=j,v=T,w=C,E=_}if("external"===v&&E){var I={type:v,url:E,width:r.width,height:r.height};return r.alt&&(I.alt=r.alt),{type:a,attrs:I}}if(m&&v){var M={type:v,id:m,collection:w};r.width&&(M.width=r.width),r.height&&(M.height=r.height),r.alt&&(M.alt=r.alt);var R=P(o,n);return R?{type:a,attrs:M,marks:R}:{type:a,attrs:M}}break;case"mediaGroup":if(Array.isArray(c)&&!c.some((function(e){return"media"!==e.type})))return{type:a,content:c};break;case"mediaSingle":var N=Array.isArray(c)&&1===c.length&&"media"===c[0].type,D=Array.isArray(c)&&2===c.length&&"media"===c[0].type&&"caption"===c[1].type;if(N||D)return{type:a,attrs:r,content:c,marks:P(o,n)};break;case"mention":var L,B,F="";if(r){var z=r.text,U=r.displayName,H=r.id,W=r.accessLevel;F=z||U,L=H,B=W}if(F||(F=i||"@unknown"),F&&L){var V={type:a,attrs:{id:L,text:F,accessLevel:""}};return B&&(V.attrs.accessLevel=B),V}break;case"paragraph":return o?{type:a,content:c||[],marks:o}:{type:a,content:c||[]};case"rule":return{type:a};case"text":var q=s.marks;if(i)return q?{type:a,text:i,marks:P(q,n)}:{type:a,text:i};break;case"heading":if(r){var G=r.level,K=function(e,t,n){return e>=t&&e<=n};if(G&&K(G,1,6))return o?{type:a,content:c,marks:o,attrs:{level:G}}:{type:a,content:c,attrs:{level:G}}}break;case"bulletList":if(c)return{type:a,content:c};break;case"orderedList":if(c)return{type:a,content:c,attrs:{order:r&&r.order}};break;case"listItem":if(c)return{type:a,content:x(c)};break;case"blockquote":if(c)return{type:a,content:c};break;case"panel":if(r&&c){var $=r.panelType;if(Object.values(g.a).includes($))return{type:a,attrs:r,content:c}}break;case"layoutSection":if(c)return{type:a,marks:o,content:c};break;case"layoutColumn":if(r&&c&&r.width>0&&r.width<=100)return{type:a,content:c,attrs:r};break;case"decisionList":return{type:a,content:c,attrs:{localId:r&&r.localId||Object(y.a)()}};case"decisionItem":return{type:a,content:c,attrs:{localId:r&&r.localId||Object(y.a)(),state:r&&r.state||"DECIDED"}};case"taskList":return{type:a,content:c,attrs:{localId:r&&r.localId||Object(y.a)()}};case"taskItem":return{type:a,content:c,attrs:{localId:r&&r.localId||Object(y.a)(),state:r&&r.state||"TODO"}};case"table":if(Array.isArray(c)&&c.length>0&&!c.some((function(e){return"tableRow"!==e.type})))return"stage0"===n?{type:a,content:c,attrs:k(k({},r),{},{localId:(null==r?void 0:r.localId)||Object(y.a)()})}:{type:a,content:c,attrs:r};break;case"tableRow":if(Array.isArray(c)&&c.length>0&&!c.some((function(e){return"tableCell"!==e.type&&"tableHeader"!==e.type})))return{type:a,content:c};break;case"tableCell":case"tableHeader":if(c){var Y={};return r&&(r.colspan&&r.colspan>1&&(Y.colspan=r.colspan),r.rowspan&&r.rowspan>1&&(Y.rowspan=r.rowspan),r.background&&(Y.background=r.background),r.colwidth&&Array.isArray(r.colwidth)&&(Y.colwidth=r.colwidth)),{type:a,content:x(c),attrs:r?Y:void 0}}break;case"image":if(r&&r.src)return{type:a,attrs:r};break;case"placeholder":if(r&&void 0!==r.text)return{type:a,attrs:r};break;case"expand":case"nestedExpand":return{type:a,attrs:r,content:c,marks:o}}return A(s)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final",n=e.attrs,r=e.type;if(r)switch(r){case"code":case"em":return{type:r};case"link":if(n){var o=n.href,i=n.url,a=n.__confluenceMetadata,c=o||i;!c||-1!==c.indexOf(":")||C.test(c)||T.test(c)||(c="http://".concat(c));var s={href:c};if(a&&(s.__confluenceMetadata=a),c&&Object(b.b)(c))return{type:r,attrs:s}}break;case"strike":case"strong":return{type:r};case"subsup":if(n&&n.type){var u=n.type;if(E(u))return{type:r,attrs:{type:u}}}break;case"textColor":if(n&&j.test(n.color))return{type:r,attrs:n};break;case"underline":return{type:r};case"annotation":return{type:r,attrs:n}}if("stage0"===t)switch(r){case"confluenceInlineComment":case"dataConsumer":case"fragment":return{type:r,attrs:n}}return null},R=n(119),N=n(142),D=n(93),L=n(38),B=n(300),F=n(160);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e,t,n){return function(){var r=a()(s.a.mark((function r(o){var i,a,c,u,l,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C,T;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",!1);case 2:return r.next=4,e.openMacroBrowser(t);case 4:if(!(i=r.sent)||!t){r.next=20;break}if(a=o.state,c=o.dispatch,u=t&&t.attrs.layout||"default",l=W(i,a,{layout:u})){r.next=11;break}return r.abrupt("return",!1);case 11:return p=a.selection,h=a.schema,m=h.nodes,v=m.extension,b=m.inlineExtension,g=m.bodiedExtension,y=Object(N.c)(a),O=B.a.CURRENT_SELECTION,w=a.tr,k=!!Object(f.findSelectedNodeOfType)([g])(p),t.type!==g||k?Object(f.findSelectedNodeOfType)([v,g,b])(p)?(w=Object(f.replaceSelectedNode)(l)(w)).setSelection(d.NodeSelection.create(w.doc,w.mapping.map(a.selection.anchor))):y.element&&(E=o.posAtDOM(y.element,-1))>-1&&((w=w.replaceWith(E,E+t.nodeSize,l)).setSelection(d.Selection.near(w.doc.resolve(E))),O=B.a.HTML_ELEMENT):(w=n?Object(f.replaceParentNodeOfType)(g,l)(w):Object(f.safeInsert)(l)(w)).setSelection(d.TextSelection.create(w.doc,a.selection.anchor)),c&&w.docChanged&&(x=t.attrs,S=x.extensionType,j=x.extensionKey,C=x.layout,T=x.localId,Object(D.a)(a,w,{action:L.a.UPDATED,actionSubject:L.b.EXTENSION,actionSubjectId:t.type.name,eventType:L.e.TRACK,attributes:{inputMethod:n?L.f.MACRO_BROWSER:L.f.TOOLBAR,extensionType:S,extensionKey:j,layout:C,localId:T,selection:w.selection.toJSON(),targetSelectionSource:O}}),c(w.scrollIntoView())),r.abrupt("return",!0);case 20:return r.abrupt("return",!1);case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},W=function(e,t,n){if(!e||!t)return null;var r,o=t.schema,i=I(e,o),a=i.type,c=i.attrs;return"extension"===a?r=o.nodes.extension.create(U(U({},c),n)):"bodiedExtension"===a?r=o.nodes.bodiedExtension.create(U(U({},c),n),o.nodeFromJSON(e).content):"inlineExtension"===a&&(r=o.nodes.inlineExtension.create(c)),Object(R.e)(t,r)},V=function(e,t){var n=F.a.getState(e),r=n&&n.macroProvider;if(!r||!r.autoConvert)return null;var o=r.autoConvert(t);return o?W(o,e):null},q=function(e){return function(){var t=a()(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:r=t.sent,l()(r&&r.openMacroBrowser,"MacroProvider promise did not resolve to a valid instance of MacroProvider - ".concat(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r=null;case 10:return n.dispatch(n.state.tr.setMeta(F.a,{macroProvider:r})),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><circle fill="inherit" cx="12" cy="18" r="1"/><path d="M15.89 9.05a3.975 3.975 0 00-2.957-2.942C10.321 5.514 8.017 7.446 8 9.95l.005.147a.992.992 0 00.982.904c.552 0 1-.447 1.002-.998a2.004 2.004 0 014.007-.002c0 1.102-.898 2-2.003 2H12a1 1 0 00-1 .987v2.014a1.001 1.001 0 002.004 0v-.782c0-.217.145-.399.35-.472A3.99 3.99 0 0015.89 9.05" fill="inherit"/></g></svg>'},e));a.displayName="QuestionCircleIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={iconColor:"inherit",iconGradientStart:"inherit",iconGradientStop:"inherit",label:"",size:"medium",textColor:"currentColor"},o={xsmall:16,small:24,medium:32,large:40,xlarge:48}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d}));var r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType"].every((function(e){return!!performance[e]})),o=function(e,t){return"".concat(t,":").concat(e)},i=function(e,t){return"time-to-".concat(t,":").concat(e)},a=function(e){r&&performance.getEntriesByType("mark").filter((function(t){return t.name.includes(e)})).forEach((function(e){return performance.clearMarks(e.name)}))},c=function(e){r&&performance.getEntriesByType("measure").filter((function(t){return t.name.includes(e)})).forEach((function(e){return performance.clearMeasures(e.name)}))},s=function(e,t){if(r){var n=o(e,t),i=performance.getEntriesByName(n);return i.length>0?i[0]:void 0}},u=function(e,t){if(r){var n=i(e,t),o=performance.getEntriesByName(n);return o.length>0?o[0]:void 0}},l=function(e,t){if(r){var n=o(e,t);performance.mark(n)}},d=function(e,t){if(r){var n=i(e,t);if(!u(e,t)){var o=s(e,"pending"),a=s(e,t);o&&a&&performance.measure(n,o.name,a.name)}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var r=n(18),o=n(244),i=n(73),a=n(333),c=n(121),s=function(e,t,n,o){if(e){var s=u(e,t);if(s){var d=s.attrs.layout||"default",f=t.schema,p=f.marks.breakout&&f.marks.breakout.isInSet(s.marks);p&&p.attrs.mode&&(d=p.attrs.mode);var h=l(d,n,o);if(s.type===f.nodes.layoutSection&&(h+=2*i.W,n.width>i.cb)){h-=(a.b+2)*(s.childCount-1);var m=t.doc.resolve(e),v=Object(r.findParentNodeOfTypeClosestToPos)(m,[t.schema.nodes.layoutColumn]);v&&v.node&&!isNaN(v.node.attrs.width)&&(h=Math.round(h*v.node.attrs.width*.01))}return s.type===f.nodes.layoutSection?h-=2*a.a:s.type===f.nodes.bodiedExtension&&(h-=2*c.a),h-=2}}},u=function(e,t){if(void 0===e)return null;var n=t.doc.resolve(e),o=Object(r.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return o?o.node:null},l=function(e,t,n){return n?Math.min(t.lineLength,i.s):Object(o.a)(e,t.width)},d=function(e,t){var n=t&&t.isInSet(e.marks);return n?n.attrs.mode:e.attrs.layout}},function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0),g=n.n(b),y=n(1075),O=n(1070),w=n(199);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var E=function(e){l()(n,e);var t=k(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(s()(r),"handleRef",(function(e){r.setState({target:e||void 0})})),v()(s()(r),"updatePopupPlacement",(function(e){r.setState({popupPlacement:e})})),r.state={popupPlacement:["bottom","left"]},r}return a()(n,[{key:"renderDropdown",value:function(){var e=this.state,t=e.target,n=e.popupPlacement,r=this.props,o=r.children,i=r.mountTo,a=r.boundariesElement,c=r.scrollableElement,s=r.onOpenChange,u=r.fitHeight,l=r.fitWidth,d=r.zIndex;return g.a.createElement(O.a,{target:t,mountTo:i,boundariesElement:a,scrollableElement:c,onPlacementChanged:this.updatePopupPlacement,fitHeight:u,fitWidth:l,zIndex:d},g.a.createElement("div",{style:{height:0,minWidth:l||0}},g.a.createElement(y.a,{disabled:!0,isOpen:!0,onOpenChange:s,appearance:"tall",position:n.join(" "),shouldFlip:!1,shouldFitContainer:!0},o)))}},{key:"render",value:function(){var e=this.props,t=e.trigger,n=e.isOpen;return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{ref:this.handleRef},t),n?this.renderDropdown():null)}}]),n}(b.PureComponent),x=Object(w.a)(E);t.a=x},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(261),i=function(){var e=Object(r.useContext)(o.a);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable  this component needs to be a child of ModalDialog.");return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(0);function o(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(r.useRef)(!0),i=Object(r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}function i(e,t){return o((function(){return e}),t)}var a=n(20),c=n.n(a),s=n(8),u=n.n(s),l=n(9),d=n.n(l),f=n(5),p=n.n(f),h=n(101),m=n.n(h),v=n(13),b=n.n(v),g=n(15),y=n.n(g),O=n(6),w=n.n(O),k=n(1),E=n.n(k),x=n(45),S=n.n(x);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(){function e(t){var n=this;u()(this,e),E()(this,"_isAnalyticsEvent",!0),E()(this,"clone",(function(){return new e({payload:C({},n.payload)})})),this.payload=t.payload}return d()(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===S()(e)&&(this.payload=C(C({},this.payload),e)),this}}]),e}();function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var A=function(e){b()(n,e);var t=_(n);function n(e){var r;return u()(this,n),r=t.call(this,e),E()(p()(r),"_isUIAnalyticsEvent",!0),E()(p()(r),"clone",(function(){return r.hasFired?null:new n({context:c()(r.context),handlers:c()(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),E()(p()(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t(p()(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return d()(n,[{key:"update",value:function(e){return this.hasFired?this:m()(w()(n.prototype),"update",this).call(this,e)}}]),n}(T),P=n(283);function I(){var e=Object(P.a)();return{createAnalyticsEvent:i((function(t){return new A({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(137),o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(1),u=n.n(s),l=n(96),d=function(){function e(){i()(this,e),u()(this,"tasks",[]),u()(this,"running",!1)}return c()(e,[{key:"request",value:function(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{var t=performance.now();setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-t))}})}),0)}}},{key:"pending",value:function(){var e,t,n,r;return"function"==typeof(null===(e=window.navigator)||void 0===e||null===(t=e.scheduling)||void 0===t?void 0:t.isInputPending)&&!0===(null===(n=window.navigator)||void 0===n||null===(r=n.scheduling)||void 0===r?void 0:r.isInputPending())}},{key:"process",value:function(){var e=this;this.running||(this.running=!0,this.request((function(t){for(;t.timeRemaining()>0&&e.tasks.length>0&&!e.pending();){var n=e.tasks.shift();n&&n()}e.running=!1,e.tasks.length>0&&e.process()})))}},{key:"schedule",value:function(e){this.tasks.push(e),this.process()}}]),e}();u()(d,"get",Object(l.a)((function(){return new d})));var f=function(e){return function(t){var n,o=t.payload,i=t.channel,a=void 0===i?r.b:i;e&&(Boolean(e.__queueAnalytics)?d.get().schedule((function(){var t;return null===(t=e(o))||void 0===t?void 0:t.fire(a)})):null===(n=e(o))||void 0===n||n.fire(a))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return b}));var r=n(21),o=n.n(r),i=n(1),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return e===document.body}function l(e){return e&&3===e.nodeType}function d(e,t,n,r,o){if(o&&r)return r;if(!n)return"bottom";l(e)&&(e=e.parentElement);var i=t.getBoundingClientRect(),a=i.height,c=u(t)?0:i.top,s=e.getBoundingClientRect(),d=s.top,f=s.height,p=d-(c-t.scrollTop),h=c+a-(d+f);return h>=n||h>=p?"bottom":"top"}function f(e,t,n,r,o){if(o&&r)return r;if(!n)return r||"left";l(e)&&(e=e.parentElement);var i=e.getBoundingClientRect(),a=i.left,c=i.width,s=t.getBoundingClientRect(),u=s.left,d=a-u+c,f=u+s.width-a;return r&&d>n&&f>n?r:f>=n||f>=d&&!r?"left":"right"}function p(e,t,n,r,o,i,a){return[d(e,t,r,i,a),f(e,t,n,o,a)]}var h=function(e,t,n){return n<e+t&&(e=n-t-1),Math.max(1,e)};function m(e){var t=e.placement,n=e.target,r=e.popup,i=e.offset,a=e.stick,c=e.allowOutOfBounds,d=void 0!==c&&c,f=e.rect,p={};if(!n||!r||!r.offsetParent)return p;l(n)&&(n=n.parentElement);var m=r.offsetParent,v=m.style,g=0;v&&v.borderBottomWidth&&(g=parseInt(v.borderBottomWidth,10));var y=o()(t,2),O=y[0],w=y[1],k=f||m.getBoundingClientRect(),E=k.top,x=k.left,S=k.right,j=k.height,C=n.getBoundingClientRect(),T=C.top,_=C.left,A=C.right,P=C.height,I=C.width,M=u(m),R=function(e){var t=e.placement,n=e.targetTop,r=e.targetHeight,o=e.isPopupParentBody,i=e.popupOffsetParentHeight,a=e.popupOffsetParentTop,c=e.popupOffsetParentScrollTop,s=e.borderBottomWidth,u=e.offset,l={};if("top"===t)l.bottom=Math.ceil(i-(n-a)-(o?0:c)-s+u[1]);else if("start"===t)l.top=Math.ceil(n-a-u[1]+(o?0:c));else{var d=Math.ceil(n-a+r+(o?0:c)-s+u[1]);l.top=d}return l}({placement:O,targetTop:T,isPopupParentBody:M,popupOffsetParentHeight:j,popupOffsetParentTop:E,popupOffsetParentScrollTop:m.scrollTop||0,targetHeight:P,borderBottomWidth:g,offset:i});p=s(s({},p),R),"top"!==O&&"start"!==O||!a||(p=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popupOffsetParentHeight,i=e.popupOffsetParent,a=e.offset,c=e.position,u=e.placement,l=b(t),d=s({},c);if(l){var f=l.getBoundingClientRect().top,p=n-f,h=l.scrollTop;if(p<0){var m=n+(h-f)+r+a[1]<h;"top"===u&&(d.bottom=m?o-(p+i.scrollTop+r):p+(d.bottom||0)),"start"===u&&(d.top=m?p+i.scrollTop+r:Math.abs(p)+(d.top||0)+a[1])}}return d}({target:n,targetTop:T,targetHeight:P,popupOffsetParentHeight:j,popupOffsetParent:m,popup:r,offset:i,position:p,placement:O})),"top"!==O&&"start"!==O&&a&&(p=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popup,i=e.offset,a=e.position,c=b(t),u=s({},a);if(c){var l=n-c.getBoundingClientRect().top,d=r+l;if(c.clientHeight-d<=o.clientHeight+2*i[1]&&l<c.clientHeight){var f=d-c.clientHeight+2*i[1],p=u.top||0;p-=f+o.clientHeight,u.top=p}}return u}({target:n,targetTop:T,targetHeight:P,popup:r,offset:i,position:p}));var N=function(e){var t=e.placement,n=e.targetLeft,r=e.targetRight,o=e.targetWidth,i=e.isPopupParentBody,a=e.popupOffsetParentLeft,c=e.popupOffsetParentRight,s=e.popupOffsetParentScrollLeft,u=e.popupOffsetParentClientWidth,l=e.popupClientWidth,d=e.offset,f=e.allowOutOfBounds,p=void 0!==f&&f,m={};if("left"===t)m.left=Math.ceil(n-a+(i?0:s)+d[0]);else if("center"===t)m.left=Math.ceil(n-a+(i?0:s)+d[0]+o/2-l/2);else if("end"===t){var v=Math.ceil(r-a+(i?0:s)+d[0]);m.left=v}else m.right=Math.ceil(c-r-(i?0:s)+d[0]);return p||(void 0!==m.left&&(m.left=h(m.left,l,u)),void 0!==m.right&&(m.right=h(m.right,l,u))),m}({placement:w,targetLeft:_,targetRight:A,targetWidth:I,isPopupParentBody:M,popupOffsetParentLeft:x,popupOffsetParentRight:S,popupOffsetParentScrollLeft:m.scrollLeft||0,popupOffsetParentClientWidth:r.offsetParent.clientWidth,popupClientWidth:r.clientWidth||0,offset:i,allowOutOfBounds:d});return p=s(s({},p),N)}function v(e){return!(!e||!e.offsetParent)}function b(e){var t=e;if(!t)return!1;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowX||"scroll"===n.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(89),o=n(220),i=n(176);class a{constructor(){this._observers=r.c()}on(e,t){r.e(this._observers,e,o.a).add(t)}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return i.c((this._observers.get(e)||r.c()).values()).forEach(e=>e(...t))}destroy(){this._observers=r.c()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(135),o=function(e){return!!e&&!Object(r.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(73),o=n(677),i=n(385),a={padding:r.e,defaultLayoutWidth:r.i,wideScaleRatio:r.Z,fullWidthLayoutWidth:r.s,wideLayoutWidth:r.V,mapBreakpointToLayoutMaxWidth:o.b,getBreakpoint:i.c,calcBreakoutWidth:function(e,t){var n=t-a.padding;switch(e){case"full-width":return"".concat(Math.min(n,a.fullWidthLayoutWidth),"px");case"wide":return a.calcWideWidth(t);default:return"100%"}},calcLineLength:function(){return a.defaultLayoutWidth},calcWideWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.defaultLayoutWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",r=e-a.padding,o=a.mapBreakpointToLayoutMaxWidth(a.getBreakpoint(e)),i=Math.min(Math.ceil(o*a.wideScaleRatio),r);return o>i?n:"".concat(Math.min(t,i),"px")}},c=function(e,t){var n=a.calcBreakoutWidth(e,t);if(n.endsWith("%"))switch(e){case"full-width":return r.s;case"wide":return r.V;default:return a.mapBreakpointToLayoutMaxWidth(a.getBreakpoint(t))}return parseInt(n,10)},s=a.calcWideWidth,u=a.calcBreakoutWidth},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(26),o=n(31),i=n(47);const a=1,c=(e,t)=>{r.n(e,0);const n=i.v(t);r.o(e,n)},s=(e,t,n)=>{r.n(e,a),r.o(e,i.u(t,n))},u=(e,t,n)=>{try{i.m(t,o.l(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},l=(e,t)=>{r.n(e,2),r.o(e,t)},d=u,f=(e,t,n,r)=>{const i=o.k(e);switch(i){case 0:((e,t,n)=>{s(t,n,o.l(e))})(e,t,n);break;case a:u(e,n,r);break;case 2:d(e,n,r);break;default:throw new Error("Unknown message type")}return i}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r=n(16),o=function(e){return"".concat(Object(r.i)()*e,"px")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(Object(r.d)()*e,"px")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.literal,r=t.overlap,o=n?e:["&"].concat(e);function i(e){if("object"!=typeof e||null==e)return[];if(Array.isArray(e))return e.map(i);var t={},a={},c={};return Object.keys(e).forEach((function(s){var u=e[s];if(!Array.isArray(u)&&n&&(u=[u]),(n||Array.isArray(u))&&38!==s.charCodeAt(0)){var l=void 0;u.forEach((function(e,i){if((!r||l!==e)&&null!=e)if(l=e,0!==i||n)if(void 0===t[o[i]]){var a;t[o[i]]=((a={})[s]=e,a)}else t[o[i]][s]=e;else c[s]=e}))}else"object"==typeof u?a[s]=i(u):c[s]=u})),o.forEach((function(e){t[e]&&(c[e]=t[e])})),Object.assign(c,a),c}return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(i)}}(["@media(min-width: 576px)"])},,,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(829),o=n(832);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),o=n(328);var i,a,c,s,u,l,d=(i=r.N800,a=.12,c=o.a.convert(i).rgb,s=c.r,u=c.g,l=c.b,"rgba(".concat(s,", ").concat(u,", ").concat(l,", ").concat(a,")"))},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return d}));var r=n(55),o={id:{default:""},type:{default:"file"},collection:{default:""},occurrenceKey:{default:null},alt:{default:""},width:{default:null},height:{default:null},url:{default:null},__fileName:{default:null},__fileSize:{default:null},__fileMimeType:{default:null},__displayType:{default:null},__contextId:{default:null},__external:{default:!1}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"span":"div",o=t?"mediaInline":"media",i=[{tag:"".concat(n,'[data-node-type="').concat(o,'"]'),getAttrs:function(t){var n={};e&&Object.keys(e).forEach((function(e){var r=c(e).replace(/^__/,""),o=t.getAttribute("data-".concat(r))||"";o&&(n[e]=o)})),n.__fileSize&&(n.__fileSize=+n.__fileSize);var r=Number(n.width);void 0===r||isNaN(r)||(n.width=r);var o=Number(n.height);return void 0===o||isNaN(o)||(n.height=o),n}},{tag:'img[src^="data:image"]',ignore:!0}];return t||i.push({tag:"img:not(.smart-link-icon)",getAttrs:function(e){return{type:"external",url:e.getAttribute("src")||"",alt:e.getAttribute("alt")||""}}}),{selectable:!0,inline:t,group:t?"inline":void 0,attrs:e,parseDOM:i,toDOM:function(e){var t={"data-id":e.attrs.id,"data-node-type":"".concat(o),"data-type":e.attrs.type,"data-collection":e.attrs.collection,"data-occurrence-key":e.attrs.occurrenceKey,"data-width":e.attrs.width,"data-height":e.attrs.height,"data-url":e.attrs.url,"data-alt":e.attrs.alt,title:"Attachment",style:"display: inline-block; border-radius: 3px; background: ".concat(r.m,"; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);")};return s(e.attrs,t,(function(e){return"data-".concat(c(e.slice(2)))})),["".concat(n),t]}}},a=i(o),c=function(e){return e.replace(/([^A-Z]+)([A-Z])/g,(function(e,t,n){return"".concat(t,"-").concat(n.toLowerCase())}))},s=function(e,t,n){a.attrs&&Object.keys(a.attrs).forEach((function(r){"_"===r[0]&&"_"===r[1]&&e[r]&&(t[n?n(r):r]=e[r])}))},u=["occurrenceKey","width","height","url","alt"],l=["type","url","width","height","alt"],d=function(e){return{attrs:Object.keys(e.attrs).filter((function(e){return!("_"===e[0]&&"_"===e[1])})).reduce((function(t,n){return"external"===e.attrs.type&&-1===l.indexOf(n)||u.indexOf(n)>-1&&(null===e.attrs[n]||""===e.attrs[n])?t:-1!==["width","height"].indexOf(n)?(t[n]=Number(e.attrs[n]),t):(t[n]=e.attrs[n],t)}),{})}}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(903);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(615);Object.defineProperty(t,"TouchScrollable",{enumerable:!0,get:function(){return o.TouchScrollable}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M13.477 9.113l-4.36 4.386a1 1 0 101.418 1.41l4.36-4.386a1 1 0 00-1.418-1.41z" fill="inherit"/><path d="M9.084 10.501l4.358 4.377a1 1 0 101.418-1.411L10.5 9.09a1 1 0 00-1.417 1.411z" fill="inherit"/></g></svg>'},e));a.displayName="CrossCircleIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return A}));var r,o,i,a,c=n(7),s=n.n(c),u=n(0),l=n.n(u),d=n(2),f=n(3),p=n(64),h=n(16),m=n(1069),v=n(73),b=n(635),g=n(49),y=n(74),O=n(33),w=40,k=12,E=Object(d.c)(r||(r=s()(["\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  border: 1px solid ","; /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: ","px;\n    height: ","px;\n  }\n"])),40,w,Object(O.a)("color.border","rgba(223, 225, 229, 0.5)"),Object(h.d)(),40,w),x=Object(d.c)(o||(o=s()(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"]))),S=function(e){return Object(d.c)(i||(i=s()(["\n  white-space: initial;\n  color: ",";\n  .item-description {\n    font-size: ",";\n    color: ",";\n    margin-top: 4px;\n  }\n"])),Object(p.a)({light:Object(O.a)("color.text",f.N800),dark:Object(O.a)("color.text",f.DN600)})(e),Object(v.db)(11.67),Object(O.a)("color.text.subtlest",f.N200))},j=Object(d.c)(a||(a=s()(["\n  flex: 0 0 auto;\n"]))),C={overflow:"hidden"},T=l.a.memo((function(e){e.label;return Object(d.d)(b.default,null)})),_=function(){},A=function(e){var t=e.item,n=e.selectedIndex,r=e.onItemHover,o=e.onItemClick,i=e.itemIndex,a=i===n,c=Object(u.useRef)(!1),s=Object(u.useCallback)((function(){a||c.current||(c.current=!0,r({item:t,index:i}))}),[t,i,r,a]);Object(u.useLayoutEffect)((function(){a||(c.current=!1)}),[a]);var l=t.icon,f=t.title,p=t.render,h=Object(u.useMemo)((function(){return Object(d.d)("div",{css:E},l?l():Object(d.d)(T,{label:f}))}),[l,f]),v=Object(u.useCallback)((function(){o(y.a.SELECTED,i)}),[o,i]),b=Object(u.useMemo)((function(){if(!p)return null;var e=p;return Object(d.d)("div",{"aria-selected":a,"aria-label":f,role:"option",tabIndex:0,style:C,onMouseMove:s},Object(d.d)(e,{onClick:v,isSelected:a,onHover:_}))}),[p,v,s,a,f]);return b||Object(d.d)("span",{onMouseMove:s},Object(d.d)(m.a,{onClick:v,iconBefore:h,isSelected:a,"aria-selected":a,"aria-label":t.title,role:"option",description:t.description},Object(d.d)("div",{css:x},Object(d.d)("div",{css:S},Object(d.d)("div",{className:"item-title"},t.title)),Object(d.d)("div",{css:j},t.keyshortcut&&Object(d.d)("div",{css:g.i},t.keyshortcut)))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var h=function(e){s()(n,e);var t=p(n);function n(e,r,i){var a;return o()(this,n),(a=t.call(this,e)).reason=e,a.id=r,a.metadata=i,a}return a()(n,[{key:"attributes",get:function(){var e=this.reason,t=this.id,n=this.metadata;return{reason:e,id:t,collectionName:(n=void 0===n?{}:n).collectionName,occurrenceKey:n.occurrenceKey}}}]),n}(n(198).a);function m(e){return e instanceof h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return w}));var r=n(13),o=n.n(r),i=n(15),a=n.n(i),c=n(6),s=n.n(c),u=n(8),l=n.n(u),d=n(9),f=n.n(d),p=n(1),h=n.n(p),m=n(4),v=n(32),b=n(14);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s()(e);if(t){var o=s()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a()(this,n)}}var y=function(){function e(t){l()(this,e),h()(this,"pos",void 0),h()(this,"visible",!1),this.pos=t}return f()(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return m.Selection.near(t)}}]),e}(),O=function(e){o()(n,e);var t=g(n);function n(e){return l()(this,n),t.call(this,e,e)}return f()(n,[{key:"map",value:function(e,t){return new n(e.resolve(t.map(this.$head.pos)))}},{key:"eq",value:function(e){return e instanceof n&&e.head===this.head}},{key:"toJSON",value:function(){return{type:"Cursor",pos:this.head}}},{key:"getBookmark",value:function(){return new y(this.anchor)}}],[{key:"content",value:function(){return b.Slice.empty}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.pos))}}]),n}(m.Selection);m.Selection.jsonID("fake-text-cursor",O);var w=function(e){if(!(e.selection instanceof O))return null;var t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",v.b.create(e.doc,[v.a.widget(e.selection.head,t,{key:"Cursor"})])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r="@atlaskit/editor-core",o="170.0.0",i=function(){return[Number(o.split(".")[0])+1,0,0].join(".")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(0),o=Object(r.createContext)(null),i=Object(r.createContext)(null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));var r,o=n(144);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(r||(r={}));var i=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(o.b)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),a=function(e){function t(t,n,o,i){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(o).join('", "'),'"'),r.INVALID_VALUE,i)||this}return Object(o.b)(t,e),t}(i),c=function(e){function t(t,n,o){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),r.INVALID_VALUE,o)||this}return Object(o.b)(t,e),t}(i),s=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),r.MISSING_VALUE,n)||this}return Object(o.b)(t,e),t}(i)},function(e){e.exports=JSON.parse('{"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkgrey":"#a9a9a9","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","green":"#008000","greenyellow":"#adff2f","grey":"#808080","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgreen":"#90ee90","lightgrey":"#d3d3d3","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370db","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#db7093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","rebeccapurple":"#663399","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"}')},,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"n",(function(){return c})),n.d(t,"m",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return b}));var r=n(16),o=Object(r.i)(),i={small:40*o,medium:75*o,large:128*o},a={small:50*o,medium:i.medium,large:i.large},c="".concat(25*o,"px"),s="".concat(6*o,"px"),u="12px",l="54px",d="20px",f=o,p="#eeeeee",h="rgba(255, 255, 255, 0)",m=2,v=16,b=75},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return f}));var r=function(e,t){return Object.keys(t).filter((function(n){var r=t[n].details;return r&&r.meta.definitionId===e}))},o=function(e,t){if(t&&t.data){var n=function(e){return e["atlassian:visitUrl"]}(t.data);if(n)return n}return e},i=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.definitionId},a=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.key},c=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.resourceType},s=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.product},u=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.subproduct},l=function(e){return e&&e.meta.auth||[]},d=function(e){var t=e.meta,n=t.access,r=t.visibility;switch(n){case"forbidden":return"not_found"===r?"not_found":"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}},f=function(e){return["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1}},,,,function(e,t,n){var r=n(348),o=n(808),i=n(809),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.185 7.4l-3.184 3.185-3.186-3.186a.507.507 0 00-.712.003l-.7.701a.496.496 0 00-.004.712l3.185 3.184L7.4 15.185a.507.507 0 00.004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 00.712-.004l.701-.7a.496.496 0 00.003-.712l-3.186-3.186 3.186-3.184a.507.507 0 00-.003-.712l-.7-.7a.508.508 0 00-.36-.153.5.5 0 00-.353.15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorCloseIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 002 0V4a1 1 0 00-1-1h-4a1 1 0 000 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 10-1.414-1.414l-8 8a1 1 0 001.414 1.414z"/></g></svg>'},e));a.displayName="ShortcutIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return v}));var r={};n.r(r),n.d(r,"requestService",(function(){return m}));var o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(1),u=n.n(s),l=function(){function e(){i()(this,e),u()(this,"listeners",new Set)}return c()(e,[{key:"subscribe",value:function(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}},{key:"unsubscribe",value:function(e){this.listeners.delete(e)}},{key:"notifyResult",value:function(e){this.listeners.forEach((function(t){t.result(e)}))}},{key:"notifyError",value:function(e){this.listeners.forEach((function(t){t.error&&t.error(e)}))}},{key:"notifyInfo",value:function(e){this.listeners.forEach((function(t){t.info&&t.info(e)}))}},{key:"notifyNotReady",value:function(){this.listeners.forEach((function(e){e.notReady&&e.notReady()}))}}]),e}();function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={},h=function(e,t){if(t)for(var n in t)if({}.hasOwnProperty.call(t,n)){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)e[n]=r[o];else e[n]=r}},m=function e(t,n){var r=t.url,o=t.securityProvider,i=t.refreshedSecurityProvider,a=n||p,c=a.path,s=a.queryParams,u=a.requestInit,l=o&&o(),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],n)for(var i in n)({}).hasOwnProperty.call(n,i)&&o.append(i,n[i]);if(r&&r.params)for(var a in r.params)if({}.hasOwnProperty.call(r.params,a)){var c=r.params[a];if(Array.isArray(c))for(var s=0;s<c.length;s++)o.append(a,c[s]);else o.append(a,c)}var u="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(u="/");var l=o.toString();return l&&(l="?"+l),"".concat(e).concat(u).concat(t).concat(l)}(r,c,s,l),m=function(e,t){var n={};return h(n,t),e&&h(n,e.headers),n}(l,u&&u.headers),v=function(e){return e&&e.omitCredentials?"omit":"include"}(l),b=(null==n?void 0:n.ignoreResponsePayload)||!1,g=f(f({},u),{},{headers:m,credentials:v});return fetch(d,g).then((function(t){return 204===t.status?Promise.resolve():t.ok?b?Promise.resolve():t.json():401===t.status&&i?i().then((function(t){return e({url:r,securityProvider:function(){return t}},n)})):Promise.reject({code:t.status,reason:t.statusText})}))},v=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.356 10.942a.497.497 0 00-.713 0l-.7.701a.501.501 0 00-.003.71l3.706 3.707a.501.501 0 00.705.003l7.712-7.712a.493.493 0 00-.006-.708l-.7-.7a.504.504 0 00-.714 0l-6.286 6.286a.506.506 0 01-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e));a.displayName="EditorDoneIcon";var c=a;t.default=c},function(e,t,n){"use strict";var r,o=n(7),i=n.n(o),a=n(2),c=n(3),s=n(33),u=Object(a.c)(r||(r=i()(["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n  align-self: center;\n"])),Object(s.a)("color.border",c.N30));t.a=function(){return Object(a.d)("div",{css:u,className:"separator"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(170),o=n(158),i=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":Object(r.c)(e)||Object(o.c)(e)?"image":Object(r.b)(e)||Object(o.b)(e)?"doc":Object(r.a)(e)||Object(o.a)(e)?"audio":Object(r.e)(e)||Object(o.f)(e)?"video":"unknown"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(366),o=Object(r.a)((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,c=o.useTheme;t.a={Provider:i,Consumer:a}},function(e,t,n){"use strict";var r=n(469),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?a:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var c=s(t),m=s(n),v=0;v<a.length;++v){var b=a[v];if(!(i[b]||r&&r[b]||m&&m[b]||c&&c[b])){var g=f(n,b);try{u(t,b,g)}catch(e){}}}}return t}},function(e,t,n){var r=n(563),o=n(564);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(147),i=function(){return Object(r.useContext)(o.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e){return!!e&&["default","wide","full-width"].includes(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("data-extension-type"),o=e.getAttribute("data-extension-key");if(!n||!o)return!1;var i={extensionType:n,extensionKey:o,text:e.getAttribute("data-text")||void 0,parameters:JSON.parse(e.getAttribute("data-parameters")||"{}"),localId:e.getAttribute("data-local-id")||void 0};if(!t){var a=e.getAttribute("data-layout");i.layout=r(a)?a:"default"}return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(1),o=n.n(r),i=n(100);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=["align","annotationType","extensionKey","extensionType","layout","type","localId","mode","language","timestamp","state","originalWidth","originalHeight","height","width","shortName","level","userType","order","panelType","color","style","isNumberColumnEnabled","colspan","rowspan","colwidth","background"];function u(e,t){var n=e.type.name;return t?"".concat(t," ").concat(n):n}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){if(e.attrs){var n=d(e.attrs);t.push(c(c({},e),{},{attrs:n}))}else t.push(c({},e))})),t},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object.keys(e).filter((function(e){return!s.includes(e)})).forEach((function(e){null!==t[e]?t[e]="":t[e]="null"})),t},f=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=t.type,c=t.marks,s=n.marks,f=s.unsupportedMark,h=s.unsupportedNodeAttribute,m=n.nodes,v=m.unsupportedInline,b=m.unsupportedBlock,g=o.split(" ").pop()||"";if(c.length&&c.forEach((function(e){if(e.type===f){var t=(e.attrs||{}).originalValue,n=d(t.attrs)||{},c={type:(t||{}).type||"",ancestry:o,parentType:g,marks:[],attrs:n||{}};p(r,i.c.UNSUPPORTED_MARK,c)}else if(e.type===h){var s=(e.attrs||{}).unsupported,u=d(s)||{},l={type:a.name||"",ancestry:o,parentType:g,marks:[],attrs:u||{}};p(r,i.c.UNSUPPORTED_NODE_ATTRIBUTE,l)}})),a===v||a===b){var y=t.attrs||{},O=y.originalValue,w=O||[],k=w.marks,E=O||{},x=E.attrs,S=O||{},j=S.type,C={type:j||"",ancestry:o,parentType:g,marks:l(k)||[],attrs:d(x)||{}},T=a===v?i.c.UNSUPPORTED_INLINE:i.c.UNSUPPORTED_BLOCK;p(r,T,C)}else t.content.forEach((function(i){return e(i,n,r,u(t,o))}))},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o={unsupportedNode:n};r&&(o.errorCode=r);var a={action:i.a.UNSUPPORTED_CONTENT_ENCOUNTERED,actionSubject:i.b.DOCUMENT,actionSubjectId:t,attributes:o,eventType:i.d.TRACK};e(a)},h=function(e,t,n){!function(e,t,n,r){t({action:e,actionSubjectId:n,actionSubject:i.b.TOOLTIP,eventType:i.d.UI,attributes:{unsupportedNodeType:r}})}(i.a.UNSUPPORTED_TOOLTIP_VIEWED,e,t,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return E}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d),p=n(1),h=n.n(p),m=n(0),v=n.n(m),b=n(59),g=n.n(b),y=n(422);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var w=v.a.createContext({}),k=function(){return v.a.useContext(w)},E=function(e){s()(n,e);var t=O(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).editorActions=e.editorActions||new y.a,r}return a()(n,[{key:"getChildContext",value:function(){return{editorActions:this.editorActions}}},{key:"render",value:function(){return v.a.createElement(w.Provider,{value:this.getChildContext()},this.props.children)}}]),n}(v.a.Component);h()(E,"childContextTypes",{editorActions:g.a.object})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(e){return Object(r.useCallback)((function(t){var n=t.currentTarget,r=n===document.activeElement;e&&e(t),requestAnimationFrame((function(){r&&n!==document.activeElement&&document.body.contains(n)?n.focus():!r&&document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}))}),[e])}},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(1068),a=n(3),c=n(16),s=n(118),u=function(e,t){return Object(o.d)(e,t)},l=Object(c.i)(),d=Object(c.g)(),f=l,p=2.5*l,h=1.5*l,m=.375*l,v=5*l,b=Object(o.c)({display:"flex",marginRight:h,alignItems:"center",flexShrink:0}),g=Object(o.c)({display:"flex",marginLeft:h,alignItems:"center",flexShrink:0}),y=Object(o.c)({display:"flex",justifyContent:"center",flexDirection:"column",flexGrow:1,lineHeight:1.22,outline:"none",overflow:"hidden",textAlign:"left"}),O=Object(o.c)({display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),w=Object(o.c)({wordBreak:"break-word"}),k=Object(o.c)({marginTop:m,color:"var(--ds-text-subtlest, ".concat(a.N200,")"),fontSize:s.h.h200.size}),E=Object(o.c)({display:"flex",boxSizing:"border-box",width:"100%",minHeight:v,margin:0,padding:"".concat(f,"px ").concat(p,"px"),alignItems:"center",border:0,fontSize:d,outline:0,textDecoration:"none",userSelect:"none","::-moz-focus-inner":{border:0},":hover":{textDecoration:"none"}}),x=Object(o.c)({cursor:"pointer"}),S=Object(o.c)({backgroundColor:"transparent",color:"currentColor",":visited":{color:"currentColor"},":hover":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, ".concat(a.N20,")"),color:"currentColor"},":active":{backgroundColor:"var(--ds-background-neutral-subtle-pressed, ".concat(a.N30,")"),boxShadow:"none",color:"currentColor"}}),j=Object(o.c)({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"transparent",color:"var(--ds-text-disabled, ".concat(a.N200,")")}}),C=Object(o.c)({backgroundColor:"var(--ds-background-selected, ".concat(a.N20,")"),color:"var(--ds-text-selected, currentColor)",":visited":{color:"var(--ds-text-selected, currentColor)"},":hover":{backgroundColor:"var(--ds-background-selected-hovered, ".concat(a.N20,")"),color:"var(--ds-text-selected, currentColor)"},":active":{backgroundColor:"var(--ds-background-selected-pressed, ".concat(a.N30,")"),color:"var(--ds-text-selected, currentColor)"}});t.a=function(e){var t=e.children,n=e.title,a=e.description,c=e.iconAfter,s=e.iconBefore,l=e.overrides,d=e.className,f=e.shouldTitleWrap,p=void 0!==f&&f,h=e.shouldDescriptionWrap,m=void 0!==h&&h,v=e.isDisabled,T=void 0!==v&&v,_=e.isSelected,A=void 0!==_&&_,P=l&&l.Title&&l.Title.render||u;return Object(o.d)(o.a,null,(function(e){var u=e.css,l=e.cx;return Object(o.d)(i.a,{isInset:!0},t({className:l([u([E,!T&&!A&&S,!T&&A&&C,T?j:x]),d]),children:Object(o.d)(r.Fragment,null,s&&Object(o.d)("span",{"data-item-elem-before":!0,css:b},s),n&&Object(o.d)("span",{css:y},P("span",{children:n,className:u(p?w:O),"data-item-title":!0}),a&&Object(o.d)("span",{"data-item-description":!0,css:[k,m?w:O]},a)),c&&Object(o.d)("span",{"data-item-elem-after":!0,css:g},c))}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("undoRedoPlugin")},function(e,t,n){"use strict";var r=n(25);t.a=Object(r.b)({confirmModalDefaultHeading:{id:"fabric.editor.floatingToolbar.confirmModalHeading",defaultMessage:"Are you sure?",description:"Default heading of floating toolbar confirmation modal."},confirmModalOK:{id:"fabric.editor.floatingToolbar.confirmModalOK",defaultMessage:"OK",description:"OK button for floating toolbar confirmation modal."},confirmModalCancel:{id:"fabric.editor.floatingToolbar.confirmModalCancel",defaultMessage:"Cancel",description:"Cancel button for floating toolbar confirmation modal."},floatingToolbarAriaLabel:{id:"fabric.editor.floatingToolbar.floatingToolbarAriaLabel",defaultMessage:"Floating Toolbar",description:"a floating toolbar's aria label"},floatingToolbarAnnouncer:{id:"fabric.editor.floatingToolbar.floatingToolbarAnnouncer",defaultMessage:"Floating toolbar controls have been opened",description:"message that will be announced to screenreaders that the floating toolbar is opened"}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorUnlinkIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("floatingToolbarData")},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(229);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return r(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(o.Subscriber),c=function(e){function t(t,n,r){e.call(this,t),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return r(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,o=this.count;this.count++,o%n==0&&r.push([]);for(var i=r.length;i--;){var a=r[i];a.push(e),a.length===t&&(r.splice(i,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(o.Subscriber)},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(21),a=n.n(i),c=n(0),s=n.n(c),u=n(184),l=n(376),d=n(185),f={};t.a=function(e){var t=e.children,n=Object(u.a)(),r=function(e){var t=s.a.useState(f),n=a()(t,2),r=n[0],o=n[1];return s.a.useEffect((function(){var t=!1;return o(f),Object(d.h)(e).then((function(e){t||o(e)})).catch((function(e){console.error(e)})),function(){t=!0}}),[e]),r}(n.locale);return s.a.createElement(l.b,o()({},n,{messages:r}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d),p=n(0);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var b=function(e){s()(n,e);var t=v(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"componentDidCatch",value:function(e,t){var n,r=h(this.props.experiences);try{for(r.s();!(n=r.n()).done;){n.value.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:e.name,message:e.message,infoStack:t.componentStack}}})}}catch(e){r.e(e)}finally{r.f()}}},{key:"render",value:function(){return this.props.children}}]),n}(n.n(p).a.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDecisionIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(379),o=n(380),i=n(437),a=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},l=Object(i.a)((function(e){return s(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===o.a[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)p={name:r.name,styles:r.styles,next:p},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=f(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":u(a)&&(r+=l(i)+":"+d(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var c=f(e,t,a);switch(i){case"animation":case"animationName":r+=l(i)+":"+c+";";break;default:r+=i+"{"+c+"}"}}else for(var s=0;s<a.length;s++)u(a[s])&&(r+=l(i)+":"+d(i,a[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=p,i=n(e);return p=o,f(e,t,i)}break;case"string":}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var p,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var m=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";p=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=f(n,t,a)):i+=a[0];for(var c=1;c<e.length;c++)i+=f(n,t,e[c]),o&&(i+=a[c]);h.lastIndex=0;for(var s,u="";null!==(s=h.exec(i));)u+="-"+s[1];return{name:Object(r.a)(i)+u,styles:i,next:p}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(4).PluginKey)("featureFlagsContextPlugin")},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var r=n(317),o=[/^https?:\/\//im,/^ftps?:\/\//im,/^\//im,/^mailto:/im,/^skype:/im,/^callto:/im,/^facetime:/im,/^git:/im,/^irc6?:/im,/^news:/im,/^nntp:/im,/^feed:/im,/^cvs:/im,/^svn:/im,/^mvn:/im,/^ssh:/im,/^scp:\/\//im,/^sftp:\/\//im,/^itms:/im,/^notes:/im,/^hipchat:\/\//im,/^sourcetree:/im,/^urn:/im,/^tel:/im,/^xmpp:/im,/^telnet:/im,/^vnc:/im,/^rdp:/im,/^whatsapp:/im,/^slack:/im,/^sips?:/im,/^magnet:/im,/^#/im],i=function(e){var t=e.trim();return 0===t.length||o.some((function(e){return e.test(t)}))},a=n.n(r)()();a.add("sourcetree:","http:");var c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");c.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),a.tlds(c,!1);var s=/(https?|ftp):\/\/[^\s]+/,u=function(e){var t=[];if(!s.test(e))return t;for(var n,r=0;n=e.substr(r);){var o=(n.match(s)||[""])[0];if(!o)break;var i=n.search(s),a=i>=0?i+r:i,c=a+o.length;t.push({index:a,lastIndex:c,raw:o,url:o,text:o,schema:""}),r+=c}return t};function l(e){if(!e)return null;var t=u(e);return t.length||(t=a.match(e)),t&&t[0]}function d(e){var t=l(e);return t&&t.url||""}},function(e,t,n){"use strict";var r,o,i;n.d(t,"a",(function(){return i})),function(e){e.TEXT="text",e.NODE="node",e.CELL="cell",e.GAP_CURSOR="gapCursor"}(r||(r={})),function(e){e.LEFT="left",e.RIGHT="right"}(o||(o={})),function(e){e.CURRENT_SELECTION="currentSelection",e.HTML_ELEMENT="htmlElement"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61),o=n(56);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(e),i=Object(r.a)(t),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(634);function o(e){return Object(r.a)((function(){return e})).current}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),c=n(10),s=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={},f=function(e){if(e>1||e<0)return!0;if(1===e)return!0;if(0===e)return!1;var t,n,r=Math.ceil(1/e);return(t=1,n=r,Math.floor(Math.random()*(n-t+1)+t))===r},p=function(e){return!!d[e.id]&&(e.instanceId?d[e.id].sampledInstance[e.instanceId]:d[e.id].sampled)},h=function(e){var t=function(){var t=a()(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p(e)){t.next=2;break}return t.abrupt("return");case 2:if((n.samplingFunc||f)(n.samplingRate)){t.next=7;break}return e.instanceId&&(d[e.id].sampledInstance[e.instanceId]=!1),d[e.id].sampled=!1,t.abrupt("return");case 7:return e.instanceId&&(d[e.id].sampledInstance[e.instanceId]=!0,d[e.id].sampled=!0),t.abrupt("return",e.start(n.startTime));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=a()(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.success(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=a()(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.failure(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=a()(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.abort(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return d[e.id]||(d[e.id]={sampled:!1,sampledInstance:{}}),l(l({},e),{},{start:t,addMetadata:function(t){if(p(e))return e.addMetadata(t)},success:n,failure:r,abort:o,mark:function(t,n){if(p(e))return e.mark(t,n)},markFMP:function(t){if(p(e))return e.markFMP(t)},markInlineResponse:function(t){if(p(e))return e.markInlineResponse(t)}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="fabric-elements"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},o={small:{width:r.small,height:r.small},medium:{width:r.medium,height:r.medium},large:{width:r.large,height:r.large},xlarge:{width:r.xlarge,height:r.xlarge}}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Border=0]="Border",e[e.BoxShadow=1]="BoxShadow",e[e.Background=2]="Background",e[e.Blanket=3]="Blanket"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r,o,i,a,c,s,u=n(9),l=n.n(u),d=n(8),f=n.n(d),p=n(13),h=n.n(p),m=n(15),v=n.n(m),b=n(6),g=n.n(b),y=n(20),O=n.n(y),w=n(10),k=n.n(w),E=n(19),x=n.n(E),S=n(1),j=n.n(S),C=n(678),T=n(151);!function(e){e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(r||(r={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed"}(o||(o={})),function(e){e.fmp="fmp",e.tti="tti"}(i||(i={})),function(e){e.fmp="fmp",e.tti="tti"}(a||(a={})),function(e){e.response="response",e.result="result"}(c||(c={})),function(e){e.duration="duration"}(s||(s={}));var _,A=function(){if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){var e=function(){var e=[];return{__buffer_only__:!0,push:function(t){e.length<250&&e.push(t)},getStream:function(){return e}}}();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},P=function(e){return{type:r.EXPERIENCE_PAYLOAD,payload:e}},I=function(){return"undefined"!=typeof window},M=new(function(){function e(){var t=this;f()(this,e),j()(this,"started",!1),j()(this,"observers",[]),j()(this,"broadcast",(function(){t.observers.forEach((function(e){return e()})),t.observers=[]}))}return l()(e,[{key:"start",value:function(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),I()&&window.addEventListener("pagehide",this.broadcast))}},{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){return t!==e}))}}]),e}()),R=n(70),N=(_={},j()(_,R.a.NOT_STARTED.id,[R.a.STARTED.id]),j()(_,R.a.STARTED.id,[R.a.IN_PROGRESS.id,R.a.BLOCKED.id,R.a.SUCCEEDED.id,R.a.SUCCEEDED_WAITING_FOR_DEPS.id,R.a.FAILED.id,R.a.ABORTED.id]),j()(_,R.a.IN_PROGRESS.id,[R.a.BLOCKED.id,R.a.SUCCEEDED.id,R.a.SUCCEEDED_WAITING_FOR_DEPS.id,R.a.FAILED.id,R.a.ABORTED.id]),j()(_,R.a.BLOCKED.id,[R.a.RECOVERED.id,R.a.ABORTED.id]),j()(_,R.a.RECOVERED.id,[R.a.STARTED.id,R.a.SUCCEEDED.id,R.a.SUCCEEDED_WAITING_FOR_DEPS.id,R.a.FAILED.id,R.a.ABORTED.id]),j()(_,R.a.SUCCEEDED.id,[R.a.STARTED.id]),j()(_,R.a.SUCCEEDED_WAITING_FOR_DEPS.id,[R.a.SUCCEEDED.id,R.a.FAILED.id,R.a.ABORTED.id]),j()(_,R.a.FAILED.id,[R.a.STARTED.id]),j()(_,R.a.ABORTED.id,[R.a.STARTED.id]),_),D=n(153);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){return I()&&window.document&&"visible"!==window.document.visibilityState?o.HIDDEN:o.VISIBLE},z=function(e){return void 0!==e?~~e:~~performance.now()};function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var H=function(e){h()(n,e);var t=U(n);function n(){return f()(this,n),t.apply(this,arguments)}return l()(n)}(function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f()(this,e),j()(this,"state",R.a.NOT_STARTED),j()(this,"instanceId",null),j()(this,"parent",null),j()(this,"category",null),j()(this,"metadata",{}),j()(this,"onDoneCallbacks",[]),j()(this,"childExperiences",[]),j()(this,"explicitTimings",{}),j()(this,"isSSROutputAsFMP",!1),j()(this,"uuid",null),j()(this,"_until",null),j()(this,"metrics",{startTime:null,endTime:null,marks:[]}),j()(this,"performanceConfig",{}),j()(this,"setPageVisibleStateToMixed",(function(){r.pageVisibleState=o.MIXED,M.unsubscribe(r.setPageVisibleStateToMixed)})),this.id=t,this.category=(null==n?void 0:n.category)||null,this.until=(null==n?void 0:n.until)||null,this.instanceId=i,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=n.type,this.performanceType=n.performanceType,this.performanceConfig=n.performanceConfig||{},this.config=n,this.pageVisibleState=F(),this.featureFlags=n.featureFlags||[],this.timings=n.timings||[],n.performanceType!==D.a.PageLoad&&n.performanceType!==D.a.PageSegmentLoad||(this.isSSROutputAsFMP=n.isSSROutputAsFMP||!1)}var t,n,i,a,c,s,u;return l()(e,[{key:"transition",value:(u=x()(k.a.mark((function e(t,n){var o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(T.a)("async transition",this.id,this.state.id,t.id),c=this.state,s=t,!N[c.id]||!N[c.id].includes(s.id)){e.next=15;break}if(Object(T.a)("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," successful"),this.state.final,!t.final),t===R.a.STARTED&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=z(n),this.uuid=Object(C.v4)()),this.state=t,!t.final){e.next=14;break}return this.metrics.endTime=z(n),this._isManualStateEnabled()||A().push((i="__SUBSCRIBE_ALL__",a=this.handleDoneBind,{type:r.UNSUBSCRIBE,payload:{experienceId:i,callback:a}})),e.next=11,this.exportData();case 11:o=e.sent,Object(T.a)("this.parent",this.parent),A().push(P(o));case 14:return e.abrupt("return",!0);case 15:return Object(T.a)("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," unsuccessful")),Object(T.b)("transition of ".concat(this.id," from ").concat(this.state," to ").concat(t," is not possible")),e.abrupt("return",!1);case 18:case"end":return e.stop()}var i,a,c,s}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"start",value:(s=x()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transition(R.a.STARTED,t);case 2:e.sent&&(this.pageVisibleState=F(),M.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||(Object(T.a)("subscribed",this.id),A().push((n="__SUBSCRIBE_ALL__",o=this.handleDoneBind,{type:r.SUBSCRIBE,payload:{experienceId:n,callback:o}}))));case 4:case"end":return e.stop()}var n,o}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"mark",value:function(e,t){"fmp"!==e&&"inline-response"!==e?this._mark(e,t):Object(T.b)("please use markFMP or markInlineResponse for specialised marks")}},{key:"_mark",value:function(e,t){this.metrics.marks.push({name:e,time:z(t)}),this.transition(R.a.IN_PROGRESS)}},{key:"markFMP",value:function(e){this._mark("fmp",e)}},{key:"markInlineResponse",value:function(e){this._mark("inline-response",e)}},{key:"_isManualStateEnabled",value:function(){return null===this.until}},{key:"_validateManualState",value:function(){return!!this._isManualStateEnabled()||(Object(T.b)('manual change of state not allowed as "until" is defined'),!1)}},{key:"switchToEndState",value:function(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),M.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}},{key:"success",value:(c=x()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(R.a.SUCCEEDED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"failure",value:(a=x()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(R.a.FAILED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"abort",value:(i=x()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(R.a.ABORTED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"addMetadata",value:function(e){Object.assign(this.metadata,e)}},{key:"_handleDoneExperience",value:function(e){if(Object(T.a)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){var t=this._until(e),n=t.done,r=t.state;n&&!this.state.final&&this.transition(r)}}},{key:"getId",value:(n=x()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.id);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exportData",value:(t=x()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getId();case 2:return e.t0=e.sent,e.t1=this.uuid,e.t2=this.type,e.t3="0.1.5",e.t4=this.performanceType,e.t5=this.category,e.t6=this.state,e.t7=B({},this.metadata),e.t8=B({},this.metrics),e.t9=O()(this.childExperiences),e.t10={success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},e.t11=this.config.platform||null,e.t12=this.pageVisibleState,e.t13=this.featureFlags,e.t14=this.isSSROutputAsFMP,e.t15=this.timings,e.t16=this.explicitTimings,e.t17=this.performanceConfig,e.abrupt("return",{id:e.t0,uuid:e.t1,type:e.t2,schemaVersion:e.t3,performanceType:e.t4,category:e.t5,state:e.t6,metadata:e.t7,metrics:e.t8,children:e.t9,result:e.t10,platform:e.t11,pageVisibleState:e.t12,featureFlags:e.t13,isSSROutputAsFMP:e.t14,timings:e.t15,explicitTimings:e.t16,performanceConfig:e.t17});case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_reset",value:function(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}]),e}())},,,function(e,t){var n=Array.isArray;e.exports=n},,,,function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(0),a=n.n(i),c=n(238),s=n(1),u=n.n(s),l=n(45),d=n.n(l);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(c.a)(),r=n.createAnalyticsEvent,o=Object(i.useRef)({}),a=Object(i.useMemo)((function(){var n=o.current;return Object.keys(n).filter((function(t){return!(t in e)})).forEach((function(e){return delete n[e]})),Object.keys(e).reduce((function(o,i){var a=e[i];if(!["object","function"].includes(d()(a)))return o;var c=t[i];if(i in n&&n[i].eventCreator===a&&n[i].propValue===c)return p(p({},o),{},u()({},i,n[i].wrappedCallback));var s=function(){var e="function"==typeof a?a(r,t):r(a);if(c&&"function"==typeof c){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];c.apply(void 0,o.concat([e]))}};return n[i]={eventCreator:a,wrappedCallback:s,propValue:c},p(p({},o),{},u()({},i,s))}),{})}),[e,t,r,o]);return{patchedEventProps:a}}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=Object(i.forwardRef)((function(n,r){var i=h(e,n).patchedEventProps,s=Object(c.a)().createAnalyticsEvent;return a.a.createElement(t,o()({},n,i,{createAnalyticsEvent:s,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(e){var t=e.re=n(896)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?u(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16);function o(e){if(e&&e.theme){if(r.a in e.theme)return e.theme[r.a];if("mode"in e.theme&&r.c.includes(e.theme.mode))return e.theme}return{mode:r.b}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(1031),i=n(1037),a=n(211),c=n(646),s=n(644),u=n(645),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),r&&e.add(e=new c.ObserveOnSubscriber(e,r));for(var o=n.length,i=0;i<o&&!e.closed;i++)e.next(n[i].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.Subject);t.ReplaySubject=l;var d=function(e,t){this.time=e,this.value=t}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),c=n(21),s=n.n(c),u=n(10),l=n.n(u);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e,t){if("com.atlassian.ecosystem"===t)return[e,"default"];var n=e.split(":"),r=s()(n,2),o=r[0],i=r[1];return[o,void 0===i?"default":i]};function h(e,t){return"function"==typeof e?e:"node"===e.type&&t.modules.nodes?function(e,t){if(!t.modules.nodes)return;var n=t.modules.nodes[e.key],r=function(e,t){return t&&"default"!==t?"".concat(e,":").concat(t):e}(t.key,e.key),o={type:n.type,attrs:{extensionType:t.type,extensionKey:r,parameters:e.parameters}};if("bodiedExtension"===n.type)return f(f({},o),{},{content:[{type:"paragraph",content:[]}]});return o}(e,t):void 0}var m=function(){var e=a()(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n&&n.__esModule?n.default:n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorImageIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:"100%",height:"100%"};return{height:"number"==typeof e.height?"".concat(e.height,"px"):e.height,width:"number"==typeof e.width?"".concat(e.width,"px"):e.width}}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.FIND_REPLACE="findReplace",e.EMOJI="emoji",e.ORDERED_LIST="orderedList",e.BULLET_LIST="bulletList",e.MEDIA="media",e.MENTION="mention",e.DECISION_LIST="decisionList",e.TASK_LIST="taskList",e.TEXT_COLOR="color",e.TEXT_FORMATTING_STRONG="strong",e.TEXT_FORMATTING_ITALIC="italic",e.UNDO="undo",e.REDO="redo",e.INDENT="indent",e.OUTDENT="outdent"}(r||(r={}))},function(e,t,n){var r=n(906),o=n(618)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},function(e,t,n){"use strict";(function(t){var r=n(434);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(975),c=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function d(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=g,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(a.isFunction(e)){if(u)return e.name;var t=e.toString().match(p);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(u||!a.isFunction(e))return a.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,n,r,o){throw new f.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function g(e,t){e||b(e,!0,t,"==",f.ok)}function y(e,t,n,r){if(e===t)return!0;if(i(e)&&i(t))return 0===o(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var c=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==c&&c===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=O(e),i=O(t);if(o&&!i||!o&&i)return!1;if(o)return e=s.call(e),t=s.call(t),y(e,t,n);var c,u,l=E(e),d=E(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),u=l.length-1;u>=0;u--)if(l[u]!==d[u])return!1;for(u=l.length-1;u>=0;u--)if(c=l[u],!y(e[c],t[c],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function O(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&b(o,n,"Missing expected exception"+r);var i="string"==typeof r,c=!e&&o&&!n;if((!e&&a.isError(o)&&i&&w(o,n)||c)&&b(o,n,"Got unwanted exception"+r),e&&o&&n&&!w(o,n)||!e&&o)throw o}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(v(e.actual),128)+" "+e.operator+" "+m(v(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=h(t),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(f.AssertionError,Error),f.fail=b,f.ok=g,f.equal=function(e,t,n){e!=t&&b(e,t,n,"==",f.equal)},f.notEqual=function(e,t,n){e==t&&b(e,t,n,"!=",f.notEqual)},f.deepEqual=function(e,t,n){y(e,t,!1)||b(e,t,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,n){y(e,t,!0)||b(e,t,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,n){y(e,t,!1)&&b(e,t,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&b(t,n,r,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,n){e!==t&&b(e,t,n,"===",f.strictEqual)},f.notStrictEqual=function(e,t,n){e===t&&b(e,t,n,"!==",f.notStrictEqual)},f.throws=function(e,t,n){k(!0,e,t,n)},f.doesNotThrow=function(e,t,n){k(!1,e,t,n)},f.ifError=function(e){if(e)throw e},f.strict=r((function e(t,n){t||b(t,!0,n,"==",e)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var E=Object.keys||function(e){var t=[];for(var n in e)c.call(e,n)&&t.push(n);return t}}).call(this,n(226))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(20),o=n.n(r);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=/[\u202A-\u202E\u2066-\u2069]/g;function s(e,t){var n=o()(e.matchAll(c));if(0===n.length)return e;var r,a=[],s=0,u=i(n);try{for(u.s();!(r=u.n()).done;){var l=r.value;s!==l.index&&a.push(e.substring(s,l.index)),a.push(t({bidiCharacter:l[0],index:l.index})),s=l.index+l[0].length}}catch(e){u.e(e)}finally{u.f()}return s!==e.length&&a.push(e.substring(s,e.length)),a}},function(e,t,n){"use strict";function r(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}var o=function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var a=0;a<n.length;a++)n[a]=parseInt(n[a],16);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},s={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:o},rgb:{test:function(e){return r(e,["r","g","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"hex":return 1==(y=Math.round(n.r).toString(16)).length&&(y="0"+y),1==(O=Math.round(n.g).toString(16)).length&&(O="0"+O),1==(w=Math.round(n.b).toString(16)).length&&(w="0"+w),"#"+y+O+w;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var c=[y=n.r/255,O=n.g/255,w=n.b/255].sort(),s=(c[0]+c[2])/2*100;return c[0]==c[2]?(g=0,b=0):(g=s>=50?(c[2]-c[0])/(2-c[2]-c[0])*100:(c[2]-c[0])/(c[2]+c[0])*100,(b=c[2]==y?(O-w)/(c[2]-c[0])*60:c[2]==O?60*(2+(w-y)/(c[2]-c[0])):60*(4+(y-O)/(c[2]-c[0])))<0?b+=360:b>360&&(b%=360)),{h:b,s:g,l:s};case"csshsl":var u=o.convert({conversions:r,helpers:i},"hsl",n);return"hsl("+Math.round(u.h)+","+Math.round(u.s)+"%,"+Math.round(u.l)+"%)";case"cmyk":var l=n.r/255,d=n.g/255,f=n.b/255,p=1-Math.max(l,d,f);if(1!=p)var h=(1-l-p)/(1-p),m=(1-d-p)/(1-p),v=(1-f-p)/(1-p);else h=0,m=0,v=0;return{c:h,m:m,y:v,k:p};case"hsv":var b,g,y=n.r/255,O=n.g/255,w=n.b/255,k=Math.min(y,O,w),E=Math.max(y,O,w),x=E-k;if(0==x)b=0,g=0;else{g=x/E;var S=((E-y)/6+x/2)/x,j=((E-O)/6+x/2)/x,C=((E-w)/6+x/2)/x;y==E?b=C-j:O==E?b=1/3+S-C:w==E&&(b=2/3+j-S),b<0&&(b+=1),b>1&&(b-=1)}return{h:360*b,s:100*g,v:100*E};case"yiq":v=n.r/255*.299+n.g/255*.587+n.b/255*.114;var T=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,_=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:v,i:T=i.bounded(T,[-.5957,.5957]),q:_=i.bounded(_,[-.5226,.5226])};case"XYZ":var A=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),P=i.getTransform("SRGB_XYZ").map((function(e){return A.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return 100*e})),I=a(P,3);return{X:I[0],Y:I[1],Z:I[2]};case"lms":case"cielab":case"cieluv":case"xyY":var M=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,M);case"cielch":var R=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,R);case"hsluv":var N=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,N)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}}},hsl:{test:function(e){return r(e,["h","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":if(0==n.s){var a=n.l/100*255;return{r:a,g:a,b:a}}var c,s,u;c=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),s=n.l/100*2-c;var l,d,f,p=(.333+(u=n.h/360))%1,h=u,m=i.negMod(u-.333,1);return(l=6*p<1?s+6*(c-s)*p:2*p<1?c:3*p<2?s+6*(.666-p)*(c-s):s)<0&&(l=0),(d=6*h<1?s+6*(c-s)*h:2*h<1?c:3*h<2?s+6*(.666-h)*(c-s):s)<0&&(d=0),(f=6*m<1?s+6*(c-s)*m:2*m<1?c:3*m<2?s+6*(.666-m)*(c-s):s)<0&&(f=0),{r:255*l,g:255*d,b:255*f};case"csshsl":return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var v=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*v/(n.l+v)*100,v:100*(n.l+v)};default:var b=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,b)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"hsl":return{h:n[0],s:n[1],l:n[2]};default:return o.convert({conversions:r,operations:o,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}}},hsv:{test:function(e){return r(e,["h","s","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var a=6*n.h;6==a&&(a=0);var c,s,u,l=Math.round(a),d=n.v*(1-n.s),f=n.v*(1-n.s*(a-l)),p=n.v*(1-n.s*(1-(a-l)));return 0==l?(c=n.v,s=p,u=d):1==l?(c=f,s=n.v,u=d):2==l?(c=d,s=n.v,u=p):3==l?(c=d,s=f,u=n.v):4==l?(c=p,s=d,u=n.v):(c=n.v,s=d,u=f),{r:255*c,g:255*s,b:255*u};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var h=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}}},cmyk:{test:function(e){return r(e,["c","m","y","k"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":return{r:a=255*(1-n.c)*(1-n.k),g:c=255*(1-n.m)*(1-n.k),b:s=255*(1-n.y)*(1-n.k)};case"cssrgb":var a=255*(1-n.c)*(1-n.k),c=255*(1-n.m)*(1-n.k),s=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(a)+","+Math.round(c)+","+Math.round(s)+")";default:var u=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,u)}}},yiq:{test:function(e){return r(e,["y","i","q"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t){case"rgb":var a=255*(n.y+.956*n.i+.621*n.q),c=255*(n.y+-.272*n.i+-.647*n.q),s=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:a=i.bounded(a,[0,255]),g:c=i.bounded(c,[0,255]),b:s=i.bounded(s,[0,255])};default:var u=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,u)}}},XYZ:{test:function(e){return r(e,["X","Y","Z"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers,c=i.getIlluminant("D65");switch(t){case"rgb":var s=[n.X,n.Y,n.Z].map((function(e){return e/100})),u=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return s.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),l=a(u,3),d=l[0],f=l[1],p=l[2];return i.boundedRgb({r:d,g:f,b:p});case"lms":var h=[n.X,n.Y,n.Z].map((function(e){return e/100})),m=i.getTransform("BRADFORD").map((function(e){return h.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{rho:m[0],gamma:m[1],beta:m[2]};case"cielab":var v=n.X/c.X,b=n.Y/c.Y,g=n.Z/c.Z,y=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},O=y(v),w=y(b);return{L:116*w-16,a:500*(O-w),b:200*(w-y(g))};case"cieluv":var k=n.Y/c.Y,E=k>.008856?116*i.cbrt(k)-16:903.3*k,x=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},S=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:E,u:13*E*(x(n)-x(c)),v:13*E*(S(n)-S(c))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var j=i.boundedRgb(o.convert({conversions:r,operations:o,helpers:i},"rgb",n));return o.convert({conversions:r,operations:o,helpers:i},t,j)}}},xyY:{test:function(e){return r(e,["x","y","Y"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=n.Y/n.y*n.x,c=n.Y/n.y*(1-n.x-n.y);return{X:a,Y:n.Y,Z:c};default:var s=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,s)}}},lms:{test:function(e){return r(e,["rho","gamma","beta"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=[n.rho,n.gamma,n.beta],c=i.getTransform("INVERSE_BRADFORD").map((function(e){return a.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{X:100*c[0],Y:100*c[1],Z:100*c[2]};default:var s=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,s)}}},cielab:{test:function(e){return r(e,["L","a","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),c=(n.L+16)/116,s=n.a/500+c,u=c-n.b/200,l=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},d=l(s),f=l(u),p=n.L>903.3*.008856?Math.pow(c,3):n.L/903.3;return{X:d*a.X,Y:p*a.Y,Z:f*a.Z};default:var h=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}}},cieluv:{test:function(e){return r(e,["L","u","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),c=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(a),s=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(a),u=1/3*(52*n.L/(n.u+13*n.L*c)-1),l=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,d=-5*l,f=(l*(39*n.L/(n.v+13*n.L*s)-5)-d)/(u- -1/3);return{X:100*f,Y:100*l,Z:100*(f*u+d)};case"cielch":var p=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),h=Math.atan2(n.v,n.u);return h<0&&(h+=2*Math.PI),h=i.toDeg(h),{L:n.L,C:p,h:h};default:var m=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,m)}}},cielch:{test:function(e){return r(e,["L","C","h"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"cieluv":var a=i.toRad(n.h),c=n.C*Math.cos(a),s=n.C*Math.sin(a);return{L:n.L,u:c,v:s};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var u=(n.L+16)/1560896,l=u>.008856?u:n.L/903.3,d=i.getTransform("INVERSE_SRGB_XYZ"),f=[],p=0;p<3;p++)for(var h=d[p][0],m=d[p][1],v=d[p][2],b=0;b<2;b++){var g=(284517*h-94839*v)*l,y=(838422*v+769860*m+731718*h)*n.L*l-769860*b*n.L,O=(632260*v-126452*m)*l+126452*b;f.push({m:g/O,b:y/O})}var w=Number.MAX_VALUE,k=i.toRad(n.h);f.forEach((function(e){var t=e.b/(Math.sin(k)-e.m*Math.cos(k));t>=0&&(w=Math.min(w,t))}));var E=w;return{hu:n.h,s:n.C/E*100,l:n.L};default:var x=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,x)}}},hsluv:{test:function(e){return r(e,["hu","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"cielch":if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu};for(var a=(n.l+16)/1560896,c=a>.008856?a:n.l/903.3,s=i.getTransform("INVERSE_SRGB_XYZ"),u=[],l=0;l<3;l++)for(var d=s[l][0],f=s[l][1],p=s[l][2],h=0;h<2;h++){var m=(284517*d-94839*p)*c,v=(838422*p+769860*f+731718*d)*n.l*c-769860*h*n.l,b=(632260*p-126452*f)*c+126452*h;u.push({m:m/b,b:v/b})}var g=Number.MAX_VALUE,y=i.toRad(n.hu);u.forEach((function(e){var t=e.b/(Math.sin(y)-e.m*Math.cos(y));t>=0&&(g=Math.min(g,t))}));var O=g;return{L:n.l,C:O/100*n.s,h:n.hu};default:var w=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,w)}}}},u={adapt:function(e,t,n,r){var o=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(r)a=e.operations.convert(e,"lms",r);else var a=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"));var c=e.helpers.getTransform("BRADFORD"),s=e.helpers.getTransform("INVERSE_BRADFORD"),u=[[i.rho/a.rho,0,0],[0,i.gamma/a.gamma,0],[0,0,i.beta/a.beta]],l=e.helpers.matrixMultiply(s,u),d=e.helpers.matrixMultiply(l,c),f=[[o.X],[o.Y],[o.Z]],p=e.helpers.matrixMultiply(d,f),h={X:p[0][0],Y:p[1][0],Z:p[2][0]};return e.helpers.ready(e,h)},adjacent:function(e,t,n,r){for(var o=e.operations.convert(e,"hsl",r),i=[{h:o.h,s:o.s,l:o.l}],a=0;a<n-1;a++)o.h=e.helpers.negMod(o.h+t,360),i.push({h:o.h,s:o.s,l:o.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.l+=t,r.l<0?r.l=0:r.l>100&&(r.l=100),e.helpers.ready(e,r)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},contrast:function(e,t,n){var r=e.operations.convert(e,"rgb",n);return r.r=255*((r.r/255-.5)*t+.5),r.r<0?r.r=0:r.r>255&&(r.r=255),r.g=255*((r.g/255-.5)*t+.5),r.g<0?r.g=0:r.g>255&&(r.g=255),r.b=255*((r.b/255-.5)*t+.5),r.b<0?r.b=0:r.b>255&&(r.b=255),e.helpers.ready(e,r)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var r=e.helpers.determineMode(n);return r!=t?e.conversions[r].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,r,o){r=r||1,o=o||1;var i=e.operations.convert(e,"cielab",t),a=e.operations.convert(e,"cielab",n),c=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),s=c-Math.sqrt(Math.pow(a.a,2)+Math.pow(a.b,2)),u=i.L-a.L,l=i.a-a.a,d=i.b-a.b,f=Math.sqrt(Math.pow(l,2)+Math.pow(d,2)-Math.pow(s,2)),p=i.L<16?.511:.040975*i.L/(1.01765*i.L),h=.0638*c/(1.0131*c),m=Math.atan2(i.b,i.a),v=m>=0?m:m+360,b=164<=v&&v<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(v+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(v+35))),g=Math.pow(c,4)/(Math.pow(c,4)+1900),y=h*(g*b+1-g),O=Math.pow(u/(r*p),2);return Math.pow(s/(o*h),2),Math.pow(f/y,2),Math.sqrt(O+O+O)},fade:function(e,t,n,r){var o=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",r),a=[o];t-=1;for(var c=(i.r-o.r)/t,s=(i.g-o.g)/t,u=(i.b-o.b)/t,l={r:o.r,g:o.g,b:o.b},d=0;d<t-1;d++)l.r=e.helpers.slopeMod(l.r+c,255),l.g=e.helpers.slopeMod(l.g+s,255),l.b=e.helpers.slopeMod(l.b+u,255),a.push({r:l.r,g:l.g,b:l.b});return a.push(i),e.helpers.ready(e,a)},greyscale:function(e,t){var n=e.operations.convert(e,"rgb",t),r=(n.r+n.g+n.b)/3;return n={r:r,g:r,b:r},e.helpers.ready(e,n)},hue:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.h=e.helpers.negMod(r.h+t,360),e.helpers.ready(e,r)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:(r.h+o.h)/2,s:(r.s+o.s)/2,l:(r.l+o.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:r.h,s:r.s,l:r.l/100*(o.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.s+=t,r.s<0?r.s=0:r.s>100&&(r.s=100),e.helpers.ready(e,r)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),r={};return r.r=.393*n.r+.769*n.g+.189*n.b,r.g=.349*n.r+.686*n.g+.168*n.b,r.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,r)},shade:function(e,t,n){var r=e.operations.convert(e,"hsv",n);return r.v+=t,r.v<0?r.v=0:r.v>100&&(r.v=100),e.helpers.ready(e,r)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),r=(n.x-.332)/(n.y-.1858);return-449*Math.pow(r,3)+3525*Math.pow(r,2)-6823.3*r+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<3;o++)n.h=(n.h+90)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<2;o++)n.h=(n.h+120)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)}},l={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},d=function(e,t,n){var r=Object.keys(e.operations).reduce((function(t,r){var o=e.operations[r];return t[r]=function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var r=n.map((function(n){if(Array.isArray(n)){var r=t(n);return r.colours||r.colour}var a=o.apply(void 0,[e].concat(c(s),[n]));return"object"===(void 0===a?"undefined":i(a))?a.colours||a.colour:a}));return"number"!=typeof r[0]?e.helpers.ready(e,r):r}(n.colours):o.apply(void 0,[e].concat(c(s),[n?n.colour:void 0]))},t}),{});return n||(r=Object.assign(r,t)),r},f={getIlluminant:function(e){return l.ILLUMINANTS[e]},getTransform:function(e){return l.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var o=0;o<t[0].length;o++){for(var i=0,a=0;a<e[0].length;a++)i+=e[r][a]*t[a][o];n[r][o]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,r=e.operations,o=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var a in i.colour=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return o.determineMode(t),r.convert({conversions:n,operations:r,helpers:o},e,t)},enumerable:!0})}(a);return Object.assign(i,d({conversions:n,operations:r,helpers:o},l,i));case"[object Array]":for(var c in i.colours=t,n)n.hasOwnProperty(c)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):r.convert({conversions:n,operations:r,helpers:o},e,i)}))}(t)},enumerable:!0})}(c);return Object.assign(i,d({conversions:n,operations:r,helpers:o},l,i));default:return null}}},p=d({conversions:s,operations:u,helpers:f},l);t.a=p},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const r=String.fromCharCode,o=(String.fromCodePoint,/^\s*/g),i=/([A-Z])/g,a=(e,t)=>(e=>e.replace(o,""))(e.replace(i,e=>`${t}${(e=>e.toLowerCase())(e)}`));"undefined"!=typeof TextEncoder&&new TextEncoder;let c="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});c&&1===c.decode(new Uint8Array).length&&(c=null)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));let r=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},o=!0;try{"undefined"!=typeof localStorage&&(r=localStorage,o=!1)}catch(e){}const i=r,a=e=>o||addEventListener("storage",e)},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(62);n(50);"undefined"==typeof window||void 0!==window.performance&&window.performance;const o="undefined"==typeof crypto?null:crypto,i=null!==o?e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);return o.getRandomValues(n),t}:e=>{const t=new ArrayBuffer(e),n=new Uint8Array(t);for(let t=0;t<e;t++)n[t]=Math.ceil(4294967295*Math.random()>>>0);return t},a=Math.random,c=()=>new Uint32Array(i(4))[0],s=e=>e[r.c(a()*e.length)],u=[1e7]+-1e3+-4e3+-8e3+-1e11,l=()=>u.replace(/[018]/g,e=>(e^c()&15>>e/4).toString(16))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(83),o=n(292),i=n(1),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=Object(r.a)(o.a,(function(e,t){switch(t.type){case"SHOW_CONFIRM_DIALOG":return s(s({},e),{},{confirmDialogForItem:t.data.buttonIndex});case"HIDE_CONFIRM_DIALOG":return s(s({},e),{},{confirmDialogForItem:void 0});default:return e}})),l=u.createPluginState,d=u.createCommand;u.getPluginState},function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y}));var r,o,i=n(7),a=n.n(i),c=n(2),s=n(16),u=n(3),l=n(73),d=Object(c.c)(r||(r=a()(["\n  [data-layout-section] {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    & > * {\n      flex: 1;\n      min-width: 0;\n    }\n\n    & > .unsupportedBlockView-content-wrap {\n      min-width: initial;\n    }\n\n    @media screen and (max-width: ","px) {\n      flex-direction: column;\n    }\n  }\n"])),l.cb),f=n(748),p=n(306),h=n(33),m=n(11),v=n(24),b=Object(s.i)(),g=1.5*Object(s.i)(),y=Object(c.c)(o||(o=a()(["\n  .ProseMirror {\n    "," [data-layout-section] {\n      margin: ","px -","px 0;\n      transition: border-color 0.3s ",";\n      cursor: pointer;\n\n      /* Inner cursor located 26px from left */\n      [data-layout-column] {\n        flex: 1;\n        min-width: 0;\n        // TODO: https://product-fabric.atlassian.net/browse/DSP-4353\n        border: ","px solid\n          ",";\n        border-radius: 4px;\n        padding: ","px;\n        box-sizing: border-box;\n\n        > div {\n          > :not(style):first-child,\n          > style:first-child + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-of-type + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursord:first-of-type + span + * {\n            margin-top: 0;\n          }\n\n          .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .mediaSingleView-content-wrap:first-of-type .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-of-type\n            + .mediaSingleView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-of-type\n            + span\n            + .mediaSingleView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          /* Prevent first DecisionWrapper's margin-top: 8px from shifting decisions down\n             and shrinking layout's node selectable area (leniency margin) */\n          > [data-node-type='decisionList'] {\n            li:first-of-type [data-decision-wrapper] {\n              margin-top: 0;\n            }\n          }\n        }\n\n        /* Make the 'content' fill the entire height of the layout column to allow click\n           handler of layout section nodeview to target only data-layout-column */\n        [data-layout-content] {\n          height: 100%;\n          cursor: text;\n        }\n      }\n\n      [data-layout-column] + [data-layout-column] {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        [data-layout-column] + [data-layout-column] {\n          margin-left: 0;\n        }\n      }\n\n      // TODO: https://product-fabric.atlassian.net/browse/DSP-4441\n      /* Shows the border when cursor is inside a layout */\n      &.selected [data-layout-column],\n      &:hover [data-layout-column] {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.",":not(.danger) {\n        [data-layout-column] {\n          ","\n        }\n      }\n    }\n  }\n\n  .fabric-editor--full-width-mode .ProseMirror {\n    [data-layout-section] {\n      ."," {\n        margin: 0 ","px;\n      }\n    }\n  }\n"])),d,Object(s.i)()-1,l.W,l.L,l.F,Object(h.a)("color.border",u.N40A),g,b,l.cb,Object(h.a)("color.border",u.N50A),Object(h.a)("color.background.danger",l.j),Object(h.a)("color.border.danger",l.l),l.H,Object(f.a)([p.a.Border,p.a.Blanket]),m.c.TABLE_CONTAINER,v.z)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(1),s=n.n(c),u={seenCount:0,dontShow:!1},l={seenCount:99,dontShow:!0},d=function(){function e(){o()(this,e)}return a()(e,null,[{key:"readFromLocalStorage",value:function(){try{var e=localStorage.getItem("atlassian.people.context.team.mention.highlight");return e||(localStorage.setItem("atlassian.people.context.team.mention.highlight",JSON.stringify(u)),e=localStorage.getItem("atlassian.people.context.team.mention.highlight")),e?JSON.parse(e):l}catch(e){return l}}},{key:"saveToLocalStorage",value:function(e){try{localStorage.setItem("atlassian.people.context.team.mention.highlight",JSON.stringify(e))}catch(e){}}}]),e}();s()(d,"markAsDone",(function(){var e=d.readFromLocalStorage();e.dontShow=!0,d.saveToLocalStorage(e)})),s()(d,"isHighlightEnabled",(function(){var e=d.readFromLocalStorage();return e.seenCount<5&&!e.dontShow})),s()(d,"registerRender",(function(){var e=d.readFromLocalStorage();return e.seenCount+=1,e.seenCount>5&&(e.dontShow=!0),d.saveToLocalStorage(e),e})),s()(d,"getSeenCount",(function(){return d.readFromLocalStorage().seenCount})),s()(d,"registerCreateLinkClick",d.markAsDone),s()(d,"registerTeamMention",d.markAsDone),s()(d,"registerClosed",d.markAsDone)},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h}));var r,o=n(7),i=n.n(o),a=n(12),c=n(16),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    max-width: ".concat(e).concat(t,";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  ")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    width: ".concat(e).concat(t,";\n    height: ").concat(e).concat(t,";\n  ")},l="\n  display: flex;\n  align-items: center;\n  justify-content: center;\n",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"\n  position: absolute;\n  top: ".concat(e,"px;\n  left: ").concat(t,"px;\n")},f="\n  border-radius: ".concat(Object(c.d)(),"px;\n"),p=("\n  border-bottom-left-radius: ".concat(Object(c.d)(),"px;\n  border-bottom-right-radius: ").concat(Object(c.d)(),"px;\n"),Object(a.e)(r||(r=i()(["\n  0%{\n    opacity: 0;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"])))),h="\n  animation: ".concat(p," .3s ").concat("cubic-bezier(0.645, 0.045, 0.355, 1)",";\n")},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(1),s=n.n(c),u=n(151),l=n(307),d=function(){function e(t,n){o()(this,e),s()(this,"instances",{}),this.experienceId=t,this.config=n}return a()(e,[{key:"getInstance",value:function(e){return this.instances[e]||(this.instances[e]=new l.a(this.experienceId,this.config,e)),this.instances[e]}},{key:"release",value:function(e){Object(u.a)("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}]),e}()},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileScreenReaderDescription:{id:"fabric.emoji.choose.file.screenReaderDescription",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiSelectSkinToneButtonAriaLabelText:{id:"fabric.emoji.select.skin.tone.ariaLabel",defaultMessage:"Select skin tone, {selectedTone}",description:"Message indicating the purpose of the skin tone selection button and the selected tone"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchPlaceholder:{id:"fabric.emoji.search.placeholder",defaultMessage:"Search",description:"Placeholder for search emoji field"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search emoji",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));a.displayName="ErrorIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=!1;function o(e){if(r){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(o))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 000 1.437 1.047 1.047 0 001.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 01.203 3.81l-2.903 2.852a2.646 2.646 0 01-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 00-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="M11.144 19.543l.937-.92a1.002 1.002 0 000-1.437 1.047 1.047 0 00-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 01-.203-3.81l2.903-2.852a2.646 2.646 0 013.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 00.357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e));a.displayName="LinkIcon";var c=a;t.default=c},function(e,t,n){var r=n(6),o=n(353),i=n(1029),a=n(765);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,c(t)}e.exports=c,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return A}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(1),l=n.n(u),d=n(10),f=n.n(d),p=n(157),h=n(530),m=n(531),v=n(113),b=n(218),g=function(e,t){return new Promise((function(n,r){setTimeout(r,e,t)}))},y=function(){var e=o()(f.a.mark((function e(t,n){var r,o,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:1e4,e.prev=1,e.next=4,Promise.race([t(n),g(r,new b.a("authProviderTimedOut"))]);case 4:o=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof b.a)){e.next=11;break}throw e.t0;case 11:throw new b.a("failedAuthProvider",e.t0);case 12:if(o){e.next=14;break}throw new b.a("emptyAuth");case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={"max-age":p.b,allowAnimated:!0,mode:"crop"},E={limit:30,sortDirection:"desc"},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return w(w(w({},k),e),t?{width:p.c,height:p.c}:{})},S={Accept:"application/json","Content-Type":"application/json"},j=function(){function e(t,n){var r=this;a()(this,e),l()(this,"resolveAuth",(function(e){return y(r.config.authProvider,e)})),l()(this,"resolveInitialAuth",(function(){return function(e){if(!e)throw new b.a("missingInitialAuth");return e}(r.config.initialAuth)})),this.config=t,this.featureFlags=n}var t,n,r,i,c,u,d,g,O,k,j;return s()(e,[{key:"getCollectionItems",value:(j=o()(f.a.mark((function e(t,n){var r,o,i,a,c,s,u,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=w(w({},r={method:"GET",endpoint:"/collection/{collectionName}/items"}),{},{authContext:{collectionName:t},params:w(w({},E),n),headers:{Accept:"application/json"}}),e.next=4,this.request("/collection/".concat(t,"/items"),o);case 4:return i=e.sent,e.next=7,Object(v.b)(r)(i);case 7:return a=e.sent,c=a.data,s=c.contents,u=c.nextInclusiveStartKey,l=s.filter((function(e){return e.details.size&&e.details.size>0})),e.abrupt("return",{data:{contents:l,nextInclusiveStartKey:u}});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return j.apply(this,arguments)})},{key:"removeCollectionFile",value:(k=o()(f.a.mark((function e(t,n,r){var o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={actions:[{action:"remove",item:{type:"file",id:t,occurrenceKey:r}}]},i=w(w({},{method:"PUT",endpoint:"/collection/{collectionName}"}),{},{authContext:{collectionName:n},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}),e.next=5,this.request("/collection/".concat(n),i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return k.apply(this,arguments)})},{key:"createUpload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n={method:"POST",endpoint:"/upload"},r=w(w({},n),{},{authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"}});return this.request("/upload",r).then(Object(v.b)(n))}},{key:"uploadChunk",value:(O=o()(f.a.mark((function e(t,n){var r,o,i,a,c,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:{},o=r.collectionName,i=r.uploadId,a=r.partNumber,c=w(w({},{method:"PUT",endpoint:"/chunk/{etag}"}),{},{params:{uploadId:i,partNumber:a},authContext:{collectionName:o},body:n}),e.next=5,this.request("/chunk/".concat(t),c);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return O.apply(this,arguments)})},{key:"probeChunks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.collectionName,r=t.uploadId,o={method:"POST",endpoint:"/chunk/probe"},i=w(w({},o),{},{params:{uploadId:r},authContext:{collectionName:n},headers:S,body:JSON.stringify({chunks:e})});return this.request("/chunk/probe",i).then(Object(v.b)(o))}},{key:"createFileFromUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={method:"POST",endpoint:"/file/upload"},r=w(w({},n),{},{authContext:{collectionName:t.collection},params:t,headers:S,body:JSON.stringify(e)});return this.request("/file/upload",r).then(Object(v.b)(n))}},{key:"touchFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={method:"POST",endpoint:"/upload/createWithFiles"},r=w(w({},n),{},{authContext:{collectionName:t.collection},headers:S,body:JSON.stringify(e)});return this.request("/upload/createWithFiles",r).then(Object(v.b)(n))}},{key:"getFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={method:"GET",endpoint:"/file/{fileId}"},r=w(w({},n),{},{authContext:{collectionName:t.collection},params:t});return this.request("/file/".concat(e),r).then(Object(v.b)(n))}},{key:"getFileImageURL",value:(g=o()(f.a.mark((function e(t,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).collection,e.next=3,this.resolveAuth({collectionName:r});case 3:return o=e.sent,e.abrupt("return",this.createFileImageURL(t,o,n));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"getFileImageURLSync",value:function(e,t){var n=this.resolveInitialAuth();return this.createFileImageURL(e,n,t)}},{key:"createFileImageURL",value:function(e,t,n){var r={params:x(n),auth:t};return Object(v.d)("".concat(t.baseUrl,"/file/").concat(e,"/image"),r)}},{key:"getFileBinaryURL",value:(d=o()(f.a.mark((function e(t,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveAuth({collectionName:n});case 2:return r=e.sent,o={params:{dl:!0,collection:n,"max-age":p.b},auth:r},e.abrupt("return",Object(v.d)("".concat(r.baseUrl,"/file/").concat(t,"/binary"),o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"getArtifactURL",value:(u=o()(f.a.mark((function e(t,n,r){var o,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(h.a)(t,n)){e.next=3;break}throw new Error("artifact ".concat(n," not found"));case 3:return e.next=5,this.resolveAuth({collectionName:r});case 5:return i=e.sent,a={params:{collection:r,"max-age":p.b},auth:i},e.abrupt("return",Object(v.d)("".concat(i.baseUrl).concat(o),a));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"getImage",value:(c=o()(f.a.mark((function e(t,n,r,o){var i,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=w(w({},a={method:"GET",endpoint:"/file/{fileId}/image"}),{},{authContext:{collectionName:n&&n.collection},params:x(n,o),headers:i}),e.abrupt("return",this.request("/file/".concat(t,"/image"),c,r).then(Object(v.a)(a)));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"getItems",value:(i=o()(f.a.mark((function e(t,n){var r,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return{type:"file",id:e,collection:n}})),i=w(w({},o={method:"POST",endpoint:"/items"}),{},{authContext:{collectionName:n},headers:S,body:JSON.stringify({descriptors:r})}),e.abrupt("return",this.request("/items",i).then(Object(v.b)(o)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getImageMetadata",value:(r=o()(f.a.mark((function e(t,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=w(w({},r={method:"GET",endpoint:"/file/{fileId}/image/metadata"}),{},{authContext:{collectionName:n&&n.collection},params:n}),e.abrupt("return",this.request("/file/".concat(t,"/image/metadata"),o).then(Object(v.b)(r)));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"appendChunksToUpload",value:(n=o()(f.a.mark((function e(t,n,r){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=w(w({},{method:"PUT",endpoint:"/upload/{uploadId}/chunks"}),{},{authContext:{collectionName:r},headers:S,body:JSON.stringify(n)}),e.next=4,this.request("/upload/".concat(t,"/chunks"),o);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"copyFileWithToken",value:function(e,t){var n={method:"POST",endpoint:"/file/copy/withToken"},r=w(w({},n),{},{authContext:{collectionName:t.collection},params:t,headers:S,body:JSON.stringify(e)});return this.request("/file/copy/withToken",r).then(Object(v.b)(n))}},{key:"request",value:(t=o()(f.a.mark((function e(t){var n,r,o,i,a,c,s,u,l,d,p,h=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{method:"GET",endpoint:void 0,authContext:{}},r=h.length>2?h[2]:void 0,o=n.method,i=n.endpoint,a=n.authContext,c=n.params,s=n.headers,u=n.body,l=n.clientOptions,e.next=5,this.resolveAuth(a);case 5:return d=e.sent,e.next=8,Object(m.a)("".concat(d.baseUrl).concat(t),{method:o,endpoint:i,auth:d,params:c,headers:s,body:u,clientOptions:l},r);case 8:return p=e.sent,T("media-api-region",p.headers.get("x-media-region")),T("media-api-environment",p.headers.get("x-media-env")),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),C=function(e){return window&&window.sessionStorage&&window.sessionStorage.getItem(e)||void 0},T=function(e,t){t&&window&&window.sessionStorage&&(window.sessionStorage.getItem(e)!==t&&window.sessionStorage.setItem(e,t))},_=function(){return C("media-api-environment")},A=function(){return C("media-api-region")}},,function(e,t,n){var r=n(179).Symbol;e.exports=r},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){var r=n(907);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){(function(r){var o;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(i){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function c(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:10,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=10}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var o=new Error(n);o.name="MaxListenersExceededWarning",o.emitter=this,o.count=e,r.emitWarning(o)}else console.error(n),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function d(e,t,n,r){if(!n)return[];var o,i,a,c,s,u,l,f=[],p=t.length,h=t[r],m=t[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(f=f.concat(d(e,t,n[a],r+1)));return f}if("**"===h){for(a in(l=r+1===p||r+2===p&&"*"===m)&&n._listeners&&(f=f.concat(d(e,t,n,p))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(f=f.concat(d(e,t,n[a],p))),f=f.concat(d(e,t,n[a],r))):f=a===m?f.concat(d(e,t,n[a],r+2)):f.concat(d(e,t,n[a],r)));return f}f=f.concat(d(e,t,n[h],r+1))}if((c=n["*"])&&d(e,t,c,r+1),s=n["**"])if(r<p)for(a in s._listeners&&d(e,t,s,p),s)"_listeners"!==a&&s.hasOwnProperty(a)&&(a===m?d(e,t,s[a],r+2):a===h?d(e,t,s[a],r+1):((u={})[a]=s[a],d(e,t,{"**":u},r+1)));else s._listeners?d(e,t,s,p):s["*"]&&s["*"]._listeners&&d(e,t,s["*"],p);return f}function f(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,i=e.shift();void 0!==i;){if(o[i]||(o[i]={}),o=o[i],0===e.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(t),!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners&&(o._listeners.warned=!0,u.call(this,o._listeners.length,i))):o._listeners=t,!0;i=e.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},l.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},l.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},l.prototype._many=function(e,t,n,r){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),o},l.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,o,i,a=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),a>3)for(t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this,e);break;case 2:i[r].call(this,e,arguments[1]);break;case 3:i[r].call(this,e,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}}if(this.wildcard){i=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,i,s,this.listenerTree,0)}else{if("function"==typeof(i=this._events[e])){switch(this.event=e,a){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];i.apply(this,t)}return!0}i&&(i=i.slice())}if(i&&i.length){if(a>3)for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this);break;case 2:i[r].call(this,arguments[1]);break;case 3:i[r].call(this,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,i,a=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),o=1;o<s;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,s){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){i=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,i,u,this.listenerTree,0)}else i=this._events[e];if("function"==typeof i)switch(this.event=e,s){case 1:a.push(i.call(this));break;case 2:a.push(i.call(this,arguments[1]));break;case 3:a.push(i.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];a.push(i.apply(this,t))}else if(i&&i.length){if(i=i.slice(),s>3)for(t=new Array(s-1),o=1;o<s;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,s){case 1:a.push(i[r].call(this));break;case 2:a.push(i[r].call(this,arguments[1]));break;case 3:a.push(i[r].call(this,arguments[1],arguments[2]));break;default:a.push(i[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this.emit("newListener",e,t),this.wildcard?(f.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();r=d.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var i=0;i<r.length;i++){var c=r[i];if(n=c._listeners,a(n)){for(var s=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){s=u;break}if(s<0)continue;return this.wildcard?c._listeners.splice(s,1):this._events[e].splice(s,1),0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var r in n){var o=n[r],i=t[o];i instanceof Function||"object"!=typeof i||null===i||(Object.keys(i).length>0&&e(t[o]),0===Object.keys(i).length&&delete t[o])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||c.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var o=n[r];o._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||c.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(208))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n.n(r),i=n(69),a=n(234);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n,r,o,c){var u=Object(a.d)(e,t)||{duration:void 0};if("resolved"===t){var l=Object(i.h)(e,n,r,o);return s(s({},l),{},{attributes:s(s({},l.attributes),{},{duration:u.duration})})}if("ResolveUnsupportedError"!==(null==c?void 0:c.type)){var d=Object(i.u)(e,t,n,r,o,c);return s(s({},d),{},{attributes:s(s({},d.attributes),{},{duration:u.duration})})}}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(819),o=n(820),i=n(821),a=n(822),c=n(823);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(314);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(251)(Object,"create");e.exports=r},function(e,t,n){var r=n(841);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(439),o=n(522);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(1),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={inline:!1,group:"block",selectable:!0,atom:!0,content:"media|unsupportedBlock+|media unsupportedBlock+",attrs:{width:{default:null},layout:{default:"center"}},marks:"unsupportedMark unsupportedNodeAttribute link",parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:function(e){return{layout:e.getAttribute("data-layout")||"center",width:Number(e.getAttribute("data-width"))||null}}}],toDOM:function(e){var t=e.attrs,n=t.layout,r=t.width,o={"data-node-type":"mediaSingle","data-layout":n,"data-width":""};return r&&(o["data-width"]=isFinite(r)&&Math.floor(r)===r?r:r.toFixed(2)),["div",o,0]}},s=a(a({},c),{},{atom:!1,content:"media|unsupportedBlock+|media (caption|unsupportedBlock) unsupportedBlock*"}),u=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return null!==e.attrs[n]&&(t[n]=e.attrs[n]),t}),{})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=t.listenerOptions=void 0,t.preventTouchMove=function(e){return e.preventDefault(),!1},t.allowTouchMove=function(e){var t=e.currentTarget;if(t.scrollHeight>t.clientHeight)return e.stopPropagation(),!0;return e.preventDefault(),!1},t.preventInertiaScroll=function(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)},t.isTouchDevice=function(){return!!r.canUseDOM&&("ontouchstart"in window||navigator.maxTouchPoints)},t.camelToKebab=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.parse=function(e){return isNaN(e)?e:e+"px"},t.getPadding=function(){if(!r.canUseDOM)return 0;var e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t},t.getWindowHeight=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(r.canUseDOM)return window.innerHeight*e},t.getDocumentHeight=function(){if(r.canUseDOM)return document.body.clientHeight},t.makeStyleTag=function(){if(!r.canUseDOM)return;var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-react-scrolllock",""),e},t.injectStyles=function(e,t){if(!r.canUseDOM)return;e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))},t.insertStyleTag=function(e){if(!r.canUseDOM)return;(document.head||document.getElementsByTagName("head")[0]).appendChild(e)};var r=n(349);t.listenerOptions={capture:!1,passive:!1};var o=function(e,t){return function(){return t(e.apply(void 0,arguments))}};t.pipe=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(o)}},function(e,t,n){"use strict";e.exports.encode=n(927),e.exports.decode=n(928),e.exports.format=n(929),e.exports.parse=n(930)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(229);t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();t.MapOperator=i;var a=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},function(e,t,n){"use strict";var r,o,i=n(0),a=n.n(i),c=n(2),s=n(328),u=n(8),l=n.n(u),d=n(9),f=n.n(d),p=n(5),h=n.n(p),m=n(13),v=n.n(m),b=n(15),g=n.n(b),y=n(6),O=n.n(y),w=n(1),k=n.n(w),E=n(277),x=n.n(E),S=n(3),j=n(7),C=n.n(j),T=Object(c.c)(r||(r=C()(["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),S.N900,S.N0),_=Object(c.c)(o||(o=C()(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border-color: ",";\n  }\n"])),S.N50),A=n(1092);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var I,M=function(e){v()(n,e);var t=P(n);function n(){var e;l()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),k()(h()(e),"onMouseDown",(function(e){e.preventDefault()})),k()(h()(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value,i=n.label;t.preventDefault(),r(o,i)})),e}return f()(n,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,n=e.tabIndex,r=e.value,o=e.label,i=e.isSelected,a=e.borderColor,s=e.checkMarkColor,u=void 0===s?S.N0:s;return Object(c.d)(A.a,{content:o},Object(c.d)("span",{css:_},Object(c.d)("button",{css:T,"aria-label":o,role:"radio","aria-checked":i,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:n,className:"".concat(i?"selected":""),style:{backgroundColor:r||"transparent",border:"1px solid ".concat(a)},autoFocus:t},i&&Object(c.d)(x.a,{primaryColor:u,label:""}))))}}]),n}(i.PureComponent),R=n(16),N=Object(c.c)(I||(I=C()(["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n"])),Object(R.i)()),D=n(230);t.a=Object(D.c)((function(e){var t=e.palette,n=e.cols,r=void 0===n?7:n,o=e.onClick,i=e.selectedColor,u=e.className,l=e.intl.formatMessage,d=a.a.useMemo((function(){return t.reduce((function(e,t,n){var o=Math.floor(n/r);return e[o]=e[o]||[],e[o].push(t),e}),[])}),[t,r]);return Object(c.d)(a.a.Fragment,null,d.map((function(e,t){return Object(c.d)("div",{css:N,className:u,key:"row-first-color-".concat(e[0].value),role:"radiogroup"},e.map((function(e,t){var n,r,a=e.value,u=e.label,d=e.border,f=e.message;return Object(c.d)(M,{key:a,value:a,borderColor:d,label:f?l(f):u,onClick:o,isSelected:a===i,checkMarkColor:(n=a,r=[S.N0,S.N500],r.sort((function(e,t){return s.a.difference(t,n)-s.a.difference(e,n)}))[0])})})))})))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(34),o=n.n(r),i=n(0),a=n.n(i),c=["children"];function s(e){var t=function(e,t){return e(t)},n=Object(i.createContext)(e);function r(e){return(Object(i.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=r(o()(e,c));return a.a.createElement(a.a.Fragment,null,t(n))},Provider:function(e){var r=Object(i.useContext)(n),o=e.value||t,c=Object(i.useCallback)((function(e){return o(r,e)}),[r,o]);return a.a.createElement(n.Provider,{value:c},e.children)},useTheme:r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}},o={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}}},function(e,t,n){"use strict";n.r(t);var r=n(447);n.d(t,"expand",(function(){return r.a})),n.d(t,"expandToJSON",(function(){return r.b}));var o=n(593);n.d(t,"confluenceJiraIssue",(function(){return o.a}));var i=n(595);n.d(t,"confluenceUnsupportedBlock",(function(){return i.a}));var a=n(594);n.d(t,"confluenceUnsupportedInline",(function(){return a.a}));var c=n(579);n.d(t,"doc",(function(){return c.a}));var s=n(584);n.d(t,"blockquote",(function(){return s.a}));var u=n(451);n.d(t,"bulletList",(function(){return u.a})),n.d(t,"bulletListSelector",(function(){return u.b}));var l=n(446);n.d(t,"codeBlock",(function(){return l.a})),n.d(t,"codeBlockToJSON",(function(){return l.b}));var d=n(592);n.d(t,"hardBreak",(function(){return d.a}));var f=n(583);n.d(t,"heading",(function(){return f.a}));var p=n(585);n.d(t,"rule",(function(){return p.a}));var h=n(452);n.d(t,"orderedList",(function(){return h.a})),n.d(t,"orderedListSelector",(function(){return h.b}));var m=n(580);n.d(t,"paragraph",(function(){return m.a}));var v=n(670);n.d(t,"emoji",(function(){return v.a}));var b=n(586);n.d(t,"image",(function(){return b.a}));var g=n(445);n.d(t,"mention",(function(){return g.a})),n.d(t,"mentionToJSON",(function(){return g.b}));var y=n(582);n.d(t,"listItem",(function(){return y.a}));var O=n(453);n.d(t,"panel",(function(){return O.b})),n.d(t,"PanelType",(function(){return O.a}));var w=n(581);n.d(t,"text",(function(){return w.a}));var k=n(607);n.d(t,"unknownBlock",(function(){return k.a}));var E=n(587);n.d(t,"caption",(function(){return E.a}));var x=n(253);n.d(t,"media",(function(){return x.d})),n.d(t,"copyPrivateMediaAttributes",(function(){return x.a})),n.d(t,"mediaToJSON",(function(){return x.e}));var S=n(588);n.d(t,"mediaGroup",(function(){return S.a}));var j=n(589);n.d(t,"mediaInline",(function(){return j.a}));var C=n(360);n.d(t,"mediaSingle",(function(){return C.a})),n.d(t,"mediaSingleWithCaption",(function(){return C.b})),n.d(t,"mediaSingleToJSON",(function(){return C.c}));var T=n(41);n.d(t,"table",(function(){return T.c})),n.d(t,"tableToJSON",(function(){return T.o})),n.d(t,"tableCell",(function(){return T.g})),n.d(t,"toJSONTableCell",(function(){return T.p})),n.d(t,"tableHeader",(function(){return T.k})),n.d(t,"toJSONTableHeader",(function(){return T.q})),n.d(t,"tableRow",(function(){return T.n})),n.d(t,"tableBackgroundColorPalette",(function(){return T.f})),n.d(t,"tableBackgroundBorderColor",(function(){return T.d})),n.d(t,"tableBackgroundColorNames",(function(){return T.e})),n.d(t,"getCellAttrs",(function(){return T.a})),n.d(t,"getCellDomAttrs",(function(){return T.b})),n.d(t,"tablePrefixSelector",(function(){return T.m})),n.d(t,"tableCellSelector",(function(){return T.j})),n.d(t,"tableHeaderSelector",(function(){return T.l})),n.d(t,"tableCellContentWrapperSelector",(function(){return T.i})),n.d(t,"tableCellContentDomSelector",(function(){return T.h}));var _=n(454);n.d(t,"decisionList",(function(){return _.a})),n.d(t,"decisionListSelector",(function(){return _.b}));var A=n(596);n.d(t,"decisionItem",(function(){return A.a}));var P=n(455);n.d(t,"taskList",(function(){return P.a})),n.d(t,"taskListSelector",(function(){return P.b}));var I=n(597);n.d(t,"taskItem",(function(){return I.a}));var M=n(601);n.d(t,"extension",(function(){return M.a}));var R=n(602);n.d(t,"inlineExtension",(function(){return R.a}));var N=n(603);n.d(t,"bodiedExtension",(function(){return N.a}));var D=n(598);n.d(t,"date",(function(){return D.a}));var L=n(590);n.d(t,"placeholder",(function(){return L.a}));var B=n(367);n.d(t,"layoutSection",(function(){return B.a})),n.d(t,"layoutSectionWithSingleColumn",(function(){return B.b}));var F=n(591);n.d(t,"layoutColumn",(function(){return F.a}));var z=n(604);n.d(t,"inlineCard",(function(){return z.a}));var U=n(605);n.d(t,"blockCard",(function(){return U.a}));var H=n(608);n.d(t,"unsupportedBlock",(function(){return H.a}));var W=n(609);n.d(t,"unsupportedInline",(function(){return W.a}));var V=n(599);n.d(t,"status",(function(){return V.a}));var q=n(600);n.d(t,"nestedExpand",(function(){return q.a}));var G=n(606);n.d(t,"embedCard",(function(){return G.a}))},function(e,t,n){"use strict";var r,o=n(21),i=n.n(o),a=n(0),c=n.n(a),s=Object(a.forwardRef)((function(e,t){var n=e.ariaAtomic,o=void 0===n?"true":n,s=e.ariaLive,u=void 0===s?"polite":s,l=e.ariaRelevant,d=void 0===l?"all":l,f=e.role,p=void 0===f?"status":f,h=e.text,m=void 0===h?"":h,v=e.delay,b=void 0===v?0:v,g=Object(a.useState)(!1),y=i()(g,2),O=y[0],w=y[1];return Object(a.useEffect)((function(){return clearTimeout(r),w(!1),r=setTimeout((function(){w(!0)}),b),function(){return clearTimeout(r)}}),[m,b]),c.a.createElement("div",{className:"assistive",ref:t,role:p,"aria-atomic":o,"aria-relevant":d,"aria-live":u},O&&c.a.createElement("span",null,m))}));t.a=Object(a.memo)(s)},function(e,t,n){"use strict";function r(e){return function(t){e.forEach((function(e){"function"==typeof e?e(t):null!==e&&(e.current=t)}))}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm1.364-10.964l-2.152 4.11-1.543-1.39a1 1 0 10-1.338 1.487l2.5 2.25a1 1 0 001.555-.279l2.75-5.25a1 1 0 00-1.772-.928z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorSuccessIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M9.005 10.995l4.593-4.593a.99.99 0 111.4 1.4l-3.9 3.9 3.9 3.9a.99.99 0 01-1.4 1.4L9.005 12.41a1 1 0 010-1.414z"/></svg>'},e));a.displayName="ChevronLeftLargeIcon";var c=a;t.default=c},function(e,t,n){"use strict";function r(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(5),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(1),g=n.n(b),y=n(34),O=n.n(y),w=n(0),k=n.n(w),E=n(112),x=n(75),S=n(343),j=n(429),C=n(375),T=n(295),_=n(1072),A=n(123),P=n(98),I=n(410),M=["placeholderSize"],R=["children"];function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var D=function(e){f()(n,e);var t=N(n);function n(e,r){var o;return a()(this,n),o=t.call(this,e),g()(l()(o),"handleLoadError",(function(e){Object(A.c)(e).failure({metadata:{reason:"load error",source:"CachingMediaEmoji",emoji:{id:e.id,shortName:e.shortName}}}),o.setState({invalidImage:!0})})),o.state={cachedEmoji:void 0},o.loadEmoji(e.emoji,r),o}return s()(n,[{key:"componentDidUpdate",value:function(){var e;this.props.emoji.shortName!==(null===(e=this.state.cachedEmoji)||void 0===e?void 0:e.shortName)&&this.loadEmoji(this.props.emoji,this.context)}},{key:"loadEmoji",value:function(e,t){var n=this;if(t&&t.emoji){var r=t.emoji.emojiProvider;r&&(Object(S.a)("Loading image via media cache",e.shortName),Object(A.c)(e).mark(x.d.MEDIA_START),r.getMediaEmojiDescriptionURLWithInlineToken(e).then((function(t){n.setState({cachedEmoji:t,invalidImage:!1}),Object(A.c)(e).mark(x.d.MEDIA_END)})).catch((function(){n.setState({cachedEmoji:void 0,invalidImage:!0}),Object(A.c)(e).failure({metadata:{reason:"failed to load media emoji",source:"CachingMediaEmoji",data:{emoji:{id:e.id,shortName:e.shortName,name:e.name}}}})})))}}},{key:"render",value:function(){var e,t=this.state,n=t.cachedEmoji,r=t.invalidImage,i=this.props,a=(i.children,O()(i,R));if(n&&!r)e=k.a.createElement(j.a,o()({},a,{emoji:n,onLoadError:this.handleLoadError}));else{var c=this.props,s=c.emoji,u=c.placeholderSize,l=c.showTooltip,d=c.fitToHeight,f=s.shortName,p=s.representation;e=k.a.createElement(C.a,{size:d||u,shortName:f,showTooltip:l,representation:p})}return e}}]),n}(w.PureComponent);g()(D,"contextType",I.a),t.a=function(e){e.placeholderSize;var t=O()(e,M);Object(_.a)(A.d["emoji-rendered"].getInstance(t.emoji.id||t.emoji.shortName),P.b,{source:"caching-emoji",emoji:t.emoji.shortName}),Object(w.useEffect)((function(){Object(A.a)(Object(A.c)(t.emoji),"fmp")||Object(A.c)(t.emoji).markFMP()}),[]);return k.a.createElement(T.a,{experiences:[A.d["emoji-rendered"].getInstance(e.emoji.id||e.emoji.shortName)]},Object(E.k)(e.emoji)?k.a.createElement(D,e):k.a.createElement(j.a,t))}},function(e,t,n){"use strict";var r=n(12),o=n(84),i=n(98);t.a=function(e){var t,n,a=e.shortName,c=e.size,s=void 0===c?i.h:c,u=e.showTooltip,l=e.representation,d=e.loading,f=void 0!==d&&d;if(l&&s){var p=l.width,h=l.height;p&&h&&(t=s/h*p,n=s)}var m=t||s,v=n||s,b={fill:"f7f7f7",minWidth:"".concat(m,"px"),width:"".concat(m,"px"),height:"".concat(v,"px")};return Object(r.d)("span",{"data-testid":"emoji-placeholder-".concat(a),"aria-busy":f,"aria-label":a,className:o.C,css:f?[o.D,o.E]:o.D,style:b,title:u?a:""})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var r=n(108),o=n(0),i=n(230),a=n(163),c=n(72),s=n(1065),u=n(1066),l=n(79),d=n(128);function f(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=Object(c.a)({timeZone:t},e[r]),n}),{})}function p(e,t){return Object.keys(Object(c.a)(Object(c.a)({},e),t)).reduce((function(n,r){return n[r]=Object(c.a)(Object(c.a)({},e[r]||{}),t[r]||{}),n}),{})}function h(e,t){if(!t)return e;var n=u.a.formats;return Object(c.a)(Object(c.a)(Object(c.a)({},n),e),{date:p(f(n.date,t),f(e.date||{},t)),time:p(f(n.time,t),f(e.time||{},t))})}function m(e,t,n,r,o){var i=e.locale,a=e.formats,u=e.messages,f=e.defaultLocale,p=e.defaultFormats,m=e.fallbackOnEmptyString,v=e.onError,b=e.timeZone,g=e.defaultRichTextElements;void 0===n&&(n={id:""});var y=n.id,O=n.defaultMessage;Object(s.a)(!!y,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var w=String(y),k=u&&Object.prototype.hasOwnProperty.call(u,w)&&u[w];if(Array.isArray(k)&&1===k.length&&k[0].type===d.a.literal)return k[0].value;if(!r&&k&&"string"==typeof k&&!g)return k.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=Object(c.a)(Object(c.a)({},g),r||{}),a=h(a,b),p=h(p,b),!k){if(!1===m&&""===k)return k;if((!O||i&&i.toLowerCase()!==f.toLowerCase())&&v(new l.g(n,i)),O)try{return t.getMessageFormat(O,f,p,o).format(r)}catch(e){return v(new l.e('Error formatting default message for: "'.concat(w,'", rendering default message verbatim'),i,n,e)),"string"==typeof O?O:w}return w}try{return t.getMessageFormat(k,i,a,Object(c.a)({formatters:t},o||{})).format(r)}catch(e){v(new l.e('Error formatting message: "'.concat(w,'", using ').concat(O?"default message":"id"," as fallback."),i,n,e))}if(O)try{return t.getMessageFormat(O,f,p,o).format(r)}catch(e){v(new l.e('Error formatting the default message for: "'.concat(w,'", rendering message verbatim'),i,n,e))}return"string"==typeof k?k:"string"==typeof O?O:w}var v=n(120),b=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function g(e,t,n){var r=e.locale,o=e.formats,i=e.onError;void 0===n&&(n={});var a=n.format,c=a&&Object(v.e)(o,"number",a,i)||{};return t(r,Object(v.d)(n,b,c))}function y(e,t,n,r){void 0===r&&(r={});try{return g(e,t,r).format(n)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function O(e,t,n,r){void 0===r&&(r={});try{return g(e,t,r).formatToParts(n)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting number.",t))}return[]}var w=n(262),k=["numeric","style"];function E(e,t,n,r,o){void 0===o&&(o={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new w.b('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',w.a.MISSING_INTL_API));try{return function(e,t,n){var r=e.locale,o=e.formats,i=e.onError;void 0===n&&(n={});var a=n.format,c=!!a&&Object(v.e)(o,"relative",a,i)||{};return t(r,Object(v.d)(n,k,c))}(e,t,o).format(n,r)}catch(t){e.onError(new l.c("Error formatting relative time.",e.locale,t))}return String(n)}var x=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function S(e,t,n,r){var o=e.locale,i=e.formats,a=e.onError,s=e.timeZone;void 0===r&&(r={});var u=r.format,l=Object(c.a)(Object(c.a)({},s&&{timeZone:s}),u&&Object(v.e)(i,t,u,a)),d=Object(v.d)(r,x,l);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=Object(c.a)(Object(c.a)({},d),{hour:"numeric",minute:"numeric"})),n(o,d)}function j(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,c="string"==typeof o?new Date(o||0):o;try{return S(e,"date",t,a).format(c)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting date.",t))}return String(c)}function C(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,c="string"==typeof o?new Date(o||0):o;try{return S(e,"time",t,a).format(c)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting time.",t))}return String(c)}function T(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=n[2],c=void 0===a?{}:a,s=e.timeZone,u=e.locale,d=e.onError,f=Object(v.d)(c,x,s?{timeZone:s}:{});try{return t(u,f).formatRange(o,i)}catch(e){d(new l.a(l.b.FORMAT_ERROR,"Error formatting date time range.",e))}return String(o)}function _(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,c="string"==typeof o?new Date(o||0):o;try{return S(e,"date",t,a).formatToParts(c)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting date.",t))}return[]}function A(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],i=n[1],a=void 0===i?{}:i,c="string"==typeof o?new Date(o||0):o;try{return S(e,"time",t,a).formatToParts(c)}catch(t){e.onError(new l.a(l.b.FORMAT_ERROR,"Error formatting time.",t))}return[]}var P=["localeMatcher","type"];function I(e,t,n,r){var o=e.locale,i=e.onError;void 0===r&&(r={}),Intl.PluralRules||i(new w.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',w.a.MISSING_INTL_API));var a=Object(v.d)(r,P);try{return t(o,a).select(n)}catch(e){i(new l.c("Error formatting plural.",o,e))}return"other"}var M=["localeMatcher","type","style"],R=Date.now();function N(e,t,n,r){void 0===r&&(r={});var o=D(e,t,n,r).reduce((function(e,t){var n=t.value;return"string"!=typeof n?e.push(n):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]);return 1===o.length?o[0]:o}function D(e,t,n,r){var o=e.locale,i=e.onError;void 0===r&&(r={}),Intl.ListFormat||i(new w.b('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',w.a.MISSING_INTL_API));var a=Object(v.d)(r,M);try{var s={},u=n.map((function(e,t){if("object"==typeof e){var n=function(e){return"".concat(R,"_").concat(e,"_").concat(R)}(t);return s[n]=e,n}return String(e)}));return t(o,a).formatToParts(u).map((function(e){return"literal"===e.type?e:Object(c.a)(Object(c.a)({},e),{value:s[e.value]||e.value})}))}catch(e){i(new l.a(l.b.FORMAT_ERROR,"Error formatting list.",e))}return n}var L=["localeMatcher","style","type","fallback"];function B(e,t,n,r){var o=e.locale,i=e.onError;Intl.DisplayNames||i(new w.b('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',w.a.MISSING_INTL_API));var a=Object(v.d)(r,L);try{return t(o,a).of(n)}catch(e){i(new l.a(l.b.FORMAT_ERROR,"Error formatting display name.",e))}}function F(e){var t;e.onWarn&&e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&e.onWarn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}var z=n(484);function U(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function H(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=Object(z.c)(r)?Object(a.b)(r):r,t}),{}):e}var W=function(e,t,n,i){for(var a=[],c=4;c<arguments.length;c++)a[c-4]=arguments[c];var s=H(i),u=m.apply(void 0,Object(r.d)([e,t,n,s],a,!1));return Array.isArray(u)?o.Children.toArray(u):u},V=function(e,t){var n=e.defaultRichTextElements,o=Object(r.c)(e,["defaultRichTextElements"]),i=H(n),s=function(e,t){var n=Object(v.b)(t),r=Object(c.a)(Object(c.a)({},v.a),e),o=r.locale,i=r.defaultLocale,a=r.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&a?a(new l.f('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(i,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&a&&a(new l.f('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(i,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(a&&a(new l.d('"locale" was not configured, using "'.concat(i,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),F(r),Object(c.a)(Object(c.a)({},r),{formatters:n,formatNumber:y.bind(null,r,n.getNumberFormat),formatNumberToParts:O.bind(null,r,n.getNumberFormat),formatRelativeTime:E.bind(null,r,n.getRelativeTimeFormat),formatDate:j.bind(null,r,n.getDateTimeFormat),formatDateToParts:_.bind(null,r,n.getDateTimeFormat),formatTime:C.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:T.bind(null,r,n.getDateTimeFormat),formatTimeToParts:A.bind(null,r,n.getDateTimeFormat),formatPlural:I.bind(null,r,n.getPluralRules),formatMessage:m.bind(null,r,n),$t:m.bind(null,r,n),formatList:N.bind(null,r,n.getListFormat),formatListToParts:D.bind(null,r,n.getListFormat),formatDisplayName:B.bind(null,r,n.getDisplayNames)})}(Object(r.a)(Object(r.a)(Object(r.a)({},a.a),o),{defaultRichTextElements:i}),t);return Object(r.a)(Object(r.a)({},s),{formatMessage:W.bind(null,{locale:s.locale,timeZone:s.timeZone,fallbackOnEmptyString:s.fallbackOnEmptyString,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:i},s.formatters)})},q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=Object(v.c)(),t.state={cache:t.cache,intl:V(U(t.props),t.cache),prevConfig:U(t.props)},t}return Object(r.b)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,o=U(e);return Object(a.d)(n,o)?null:{intl:V(o,r),prevConfig:o}},t.prototype.render=function(){return Object(a.c)(this.state.intl),o.createElement(i.b,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=a.a,t}(o.PureComponent);t.b=q},function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r,o,i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(5),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(1),g=n.n(b),y=n(7),O=n.n(y),w=n(0),k=n(2),E=n(141),x=n.n(E),S=n(236),j=n(130),C=n(16),T=n(3),_=n(1225),A=n(86),P=n(277),I=n.n(P),M=n(1092),R=n(230),N=n(290),D=n(33);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var B,F,z=175,U=32,H=Object(k.c)(r||(r=O()(["\n  display: flex;\n  flex: 1;\n  padding: 8px;\n"]))),W=Object(k.c)(o||(o=O()(["\n  min-width: ","px;\n\n  // temporary solution before we migrated off dst/item\n  & span[class^='ItemParts__Before'] {\n    margin-right: 4px;\n  }\n"])),z),V=Object(C.i)(),q=Object(C.i)()/2,G={borderRadius:0,beforeItemSpacing:{compact:q},padding:{compact:{bottom:V,left:V,right:V,top:V}},height:{compact:U}},K=function(e){f()(n,e);var t=L(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.hide,r=t.dispatchCommand,o=t.items,i=t.intl;return Object(k.d)("div",{css:W},o.filter((function(e){return!e.hidden})).map((function(t,o){var a=Object(k.d)(_.a,{key:o,isCompact:!0,elemBefore:e.renderSelected(t,i),onClick:function(){r(t.onClick),n()},"data-testid":t.testId,isDisabled:t.disabled,theme:g()({},A.e,G)},t.title);return t.tooltip?Object(k.d)(M.a,{key:o,content:t.tooltip},a):a})))}},{key:"renderSelected",value:function(e,t){var n=e.selected;if(void 0!==n)return n?Object(k.d)(I.a,{primaryColor:Object(D.a)("color.icon.selected",T.B400),size:"small",label:t.formatMessage(N.a.confirmModalOK)}):Object(k.d)("span",{css:H})}}]),n}(w.Component),$=Object(R.c)(K);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var X=Object(k.c)(B||(B=O()(["\n  margin: 0px -4px;\n"]))),J=Object(k.c)(F||(F=O()(["\n  display: flex;\n"]))),Z=function(e){var t=e.icon;return Object(k.d)("div",{css:J},t,Object(k.d)("span",{css:X},Object(k.d)(x.a,{label:"Expand dropdown menu"})))},Q=function(e){f()(n,e);var t=Y(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(l()(e),"state",{isOpen:!1}),g()(l()(e),"renderArrayOptions",(function(t){return Object(k.d)($,{hide:e.hide,dispatchCommand:e.props.dispatchCommand,items:t})})),g()(l()(e),"toggleOpen",(function(){e.setState({isOpen:!e.state.isOpen})})),g()(l()(e),"hide",(function(){e.setState({isOpen:!1})})),e}return s()(n,[{key:"render",value:function(){var e,t=this.state.isOpen,n=this.props,r=n.title,o=n.icon,i=n.options,a=n.dispatchCommand,c=n.mountPoint,s=n.boundariesElement,u=n.scrollableElement,l=n.hideExpandIcon,d=n.disabled,f=n.tooltip,p=n.buttonTestId;if(o){var h=l?o:Object(k.d)(Z,{icon:o});e=Object(k.d)(j.a,{testId:p,title:r,icon:h,onClick:this.toggleOpen,selected:t,disabled:d,tooltipContent:f})}else e=Object(k.d)(j.a,{testId:p,iconAfter:Object(k.d)("span",{css:X},Object(k.d)(x.a,{label:"Expand dropdown menu"})),onClick:this.toggleOpen,selected:t,disabled:d,tooltipContent:f},r);var m=Array.isArray(i)?z:i.width,v=Array.isArray(i)?i.length*U+2*q:i.height;return Object(k.d)(S.a,{mountTo:c,boundariesElement:s,scrollableElement:u,isOpen:t,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:m+10,fitHeight:v+10,trigger:e},Array.isArray(i)?this.renderArrayOptions(i):i.render({hide:this.hide,dispatchCommand:a}))}}]),n}(w.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#fff" fill-opacity=".01" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 112 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 010 2H6v3a1 1 0 01-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 110-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z" fill="currentColor"/><path d="M10.55 12.061l-1.873.337a.998.998 0 01-.718-1.713 1 1 0 01.718-.287h3.7c.316-.08.686.021.957.293.272.271.373.641.293.957v3.7a1 1 0 01-2 0l.337-1.873-2.602 2.603c-.345.344-.94.306-1.33-.084-.391-.39-.429-.986-.084-1.33l2.602-2.603z" fill="currentColor"/></svg>'},e));a.displayName="EditorFilePreviewIcon";var c=a;t.default=c},function(e,t,n){"use strict";t.a=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorFileIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(1),o=n.n(r),i=n(23);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=new(n(4).PluginKey)("contextPanelPluginKey");function u(e,t){return new i.a({key:s,state:{init:function(t,n){return{handlers:e,contents:e.map((function(e){return e(n)}))}},apply:function(e,n,r,o){var i=n,a=e.getMeta(s);if(e.docChanged||e.selectionSet||a&&a.changed){var u=n.handlers.map((function(e){return e(o)}));(u.length!==i.contents.length||u.some((function(e){return i.contents.indexOf(e)<0})))&&(i=c(c({},i),{},{contents:u}))}return i!==n&&t(s,i),i}}})}t.a=function(){return{name:"contextPanel",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"contextPanel",plugin:function(t){var n=t.dispatch;return u(e.filter(Boolean),n)}}]}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(23),o=new(n(4).PluginKey)("nativeCollabProviderPlugin"),i=function(e){var t=e.providerPromise;return new r.a({key:o,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(o);return n||t}},view:function(e){return t.then((function(t){var n=e.dispatch,r=e.state.tr;r.setMeta(o,t),n(r)})),{}}})},a=function(e){return o.getState(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return A}));var r,o=n(7),i=n.n(o),a=n(8),c=n.n(a),s=n(9),u=n.n(s),l=n(5),d=n.n(l),f=n(13),p=n.n(f),h=n(15),m=n.n(h),v=n(6),b=n.n(v),g=n(1),y=n.n(g),O=n(0),w=n.n(O),k=n(2),E=n(90),x=n(1077);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1266,n=2146;return e>=t&&e<n?"M":e>=n?"L":"S"}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{width:e,breakpoint:j(e)}}var T=w.a.createContext(C()),_=T.Provider,A=T.Consumer,P=function(e){p()(n,e);var t=S(n);function n(e){var r;return c()(this,n),r=t.call(this,e),y()(d()(r),"state",{width:0}),y()(d()(r),"setWidth",Object(E.a)((function(e){Math.abs(r.state.width-e)<30||r.setState({width:e})}))),r.state.width=document.body.offsetWidth,r}return u()(n,[{key:"render",value:function(){return Object(k.d)("div",{css:Object(k.c)(r||(r=i()(["\n          position: relative;\n          width: 100%;\n        "]))),className:this.props.className},Object(k.d)(x.a,{setWidth:this.setWidth,offscreen:!0}),Object(k.d)(_,{value:C(this.state.width)},this.props.children))}}]),n}(w.a.Component)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=function(e,t){return{href:e,rel:"_blank"===t?"noopener noreferrer":null,target:t}},o=function(e){return{type:"button",onClick:e}},i=function(e,t,n){return t&&!e?"a":n||e?"button":"span"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(0),o=r.createContext(),i=r.createContext();function a(e){var t=e.children,n=r.useState(null),a=n[0],c=n[1],s=r.useRef(!1);r.useEffect((function(){return function(){s.current=!0}}),[]);var u=r.useCallback((function(e){s.current||c(e)}),[]);return r.createElement(o.Provider,{value:a},r.createElement(i.Provider,{value:u},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(155),i=n(504);function a(e){var t=e.onClose,n=e.isDisabled,a=Object(r.useRef)(!1),c=Object(r.useCallback)((function(e){n||a.current||e.key!==i.a||(a.current=!0,t(e))}),[t,n]),s=Object(r.useCallback)((function(){a.current=!1}),[]);Object(r.useEffect)((function(){return Object(o.bindAll)(document,[{type:"keydown",listener:c},{type:"keyup",listener:s}],{capture:!1})}),[c,s])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n(21),n(0),n(155);var r=function(){return"undefined"!=typeof window&&"matchMedia"in window},o=function(){return!!r()&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},i=function(){return{"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=350,o=700},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAddIcon";var c=a;t.default=c},function(e,t,n){"use strict";function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)((function(){e&&n.current&&t&&e.current&&e.current.focus(),n.current=!1}),[t,e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30),o={"":"...","":"->","":"<-","":"--","":'"',"":'"',"":"'","":"'"},i=new RegExp("[".concat(Object.keys(o).join(""),"]"),"g"),a=function(e,t,n){var a=n.doc.type.schema,c=a.nodes,s=c.mention,u=c.text,l=c.emoji;Object(r.g)(n.doc,e,t,function(e){var t=e.nodes,n=t.mention,r=t.text,o=t.emoji;return function(e,t,i){if(e.type===n||e.type===o||e.type===r)return i.isTextblock}}(a)).forEach((function(t){var r=t.node,a=t.pos;if(r.type===s||r.type===l)!function(e,t,n,r){var o=r.mapping.map(e),i=r.doc.type.schema;r.replaceWith(o,o+t,i.text(n))}(a,r.nodeSize,r.attrs.text,n);else if(r.type===u&&r.text){!function(e,t,n){for(var r,a=n.doc.type.schema;r=i.exec(t);){var c=r,s=c[0],u=c.index,l=n.mapping.map(e+u),d=a.text(o[s]);n.replaceWith(l,l+s.length,d)}}(a>e?a:e,a>e?r.text:r.text.substr(e-a),n)}}))}},function(e,t,n){"use strict";e.exports=n(925)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));a.displayName="Page16Icon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignLeftIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMoreIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21),o=n.n(r),i=n(0);function a(e){var t=Object(i.useState)(e),n=o()(t,2),r=n[0],a=n[1],c=Object(i.useRef)(r);return c.current=r,[c,a]}},function(e,t,n){var r=n(210),o=n(196);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M10 19h8V8h-8v11zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2.001 2.001 0 018 19.008V7.992z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13H5zm2 0h8V5H7v11z"/></g></svg>'},e));a.displayName="CopyIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));a.displayName="EditorCollapseIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));a.displayName="EditorExpandIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"Action to align/justify text to the left"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align center",description:"Action to align/justify text to the center/middle"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align right",description:"Action to align/justify text to the right"}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),o=n.n(r),i=n(10),a=n.n(i),c=n(655),s=function(){var e=o()(a.a.mark((function e(t){var n,r=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:new c.a(t),e.prev=1,e.next=4,n.getDimensions();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,n.end(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWideIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaFullWidthIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));a.displayName="EditorLinkIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMentionIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=Object(r.createContext)(null)},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var y=function(e){l()(n,e);var t=g(n);function n(e,r){var i;return o()(this,n),i=t.call(this,e),v()(s()(i),"isUnmounted",!1),v()(s()(i),"loaded",(function(e){return!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider})),i.state=r,i.loadEmojiProvider(i.props.emojiProvider),i}return a()(n,[{key:"componentDidMount",value:function(){this.state.asyncLoadedComponent||this.asyncLoadComponent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.loadEmojiProvider(e.emojiProvider)}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"loadEmojiProvider",value:function(e){var t=this;e.then((function(e){t.isUnmounted||t.setState({loadedEmojiProvider:e})})).catch((function(){t.isUnmounted||t.setState({loadedEmojiProvider:void 0})}))}},{key:"setAsyncState",value:function(e){this.isUnmounted||this.setState({asyncLoadedComponent:e})}},{key:"renderLoading",value:function(){return null}},{key:"render",value:function(){if(this.loaded(this.state)){var e=this.state,t=e.loadedEmojiProvider,n=e.asyncLoadedComponent;return this.renderLoaded(t,n)}return this.renderLoading()}}]),n}(b.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTaskIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm0-8.5a1 1 0 00-1 1V15a1 1 0 002 0v-2.5a1 1 0 00-1-1zm0-1.125a1.375 1.375 0 100-2.75 1.375 1.375 0 000 2.75z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorInfoIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(751);function o(e,t){try{var n=Object(r.a)(t).parseDate(e);if(isNaN(n.getTime()))return null;var o=n.getFullYear();return o<1e3||o>9999?null:{day:n.getDate(),month:n.getMonth()+1,year:o}}catch(e){return null}}function i(e,t){var n=e.day,o=e.month,i=e.year,a=Object(r.a)(t),c=new Date(i,o-1,n);return a.formatDate(c)}function a(e){var t=e.day,n=e.month,r=e.year;return new Date(r,n-1,t)}function c(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));a.displayName="MediaServicesTextIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoEqualIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBulletListIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={listHeight:208,listWidth:n(98).k,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(13),u=n.n(s),l=n(15),d=n.n(l),f=n(6),p=n.n(f),h=n(1),m=n.n(h),v=n(0),b=n.n(v);!function(e){e.atlaskit="atlaskit",e.elements="fabric-elements",e.navigation="navigation",e.editor="editor",e.media="media",e.peopleTeams="peopleTeams",e.notifications="notifications",e.recentWork="recentWork",e.atlas="atlas"}(r||(r={}));var g=n(5),y=n.n(g),O=n(1174),w=n(34),k=n.n(w),E=["eventType"],x=function(e,t){return function(n){if(t){n.eventType;var r=k()(n,E),o=function(n){if("function"==typeof t.then)t.then(n).catch((function(t){return e.warn("There was an error sending the event",t)}));else try{n(t)}catch(t){e.warn("There was an error sending the event",t)}};switch(n.eventType){case"ui":e.debug("Sending UI Event via analytics client",r),o((function(e){return e.sendUIEvent(r)}));break;case"operational":e.debug("Sending Operational Event via analytics client",r),o((function(e){return e.sendOperationalEvent(r)}));break;case"track":e.debug("Sending Track Event via analytics client",r),o((function(e){return e.sendTrackEvent(r)}));break;case"screen":e.debug("Sending Screen Event via analytics client",r),o((function(e){return e.sendScreenEvent(r)}));break;default:e.error("cannot map eventType ".concat(n.eventType," to an analytics-web-client function"))}}else e.warn("AnalyticsWebClient instance is not provided")}},S=n(45),j=n.n(S),C=n(20),T=n.n(C),_=n(57),A=n(63),P=n(107),I=n.n(P);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var R=function(e){u()(n,e);var t=M(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),m()(y()(e),"handleEventWrapper",(function(t){H(t,["editor","fabricEditor"],e.props.logger,e.props.client)})),e}return c()(n,[{key:"render",value:function(){return b.a.createElement(O.a,{onEvent:this.handleEventWrapper,channel:r.editor},this.props.children)}}]),n}(b.a.Component);function N(e){var t=function(e,t){if("object"!==j()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j()(t)?t:String(t)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){return t=["source","objectType","objectId","containerType","containerId",e],function(e){return e.map((function(e){return t.reduce((function(t,n){return e[n]?I()(t,m()({},n,e[n])):t}),{})})).reduce((function(e,t){return I()(e,t)}),{})};var t},F=function(e,t){if(0===t.context.length)return L({source:_.a},t.payload);var n=function(e){switch(e){case V:return A.d;case"editor":return A.c;default:return""}}(e)||"attributes",r=B(n)(t.context),o=r[n],i=k()(r,[n].map(N));return o&&(t.payload.attributes=I()(o,t.payload.attributes||{})),L(L({source:_.a},i),t.payload)},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set([].concat(T()(t),T()(e)));return Array.from(n)};var U=function(e,t){var n=function(e){if("string"==typeof e)return e;if(!e.length)throw new Error("Empty tags string array. Unable to match analytics event payload with context");return e[0]}(t),r="string"==typeof t?[t]:t;return L(L({},F(n,e)),{},{tags:z(r,e.payload.tags)})},H=function(e,t,n,r){if(e.payload){var o=U(e,t);x(n,r)(o)}};function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var V="fabricElements",q=function(e){u()(n,e);var t=W(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),m()(y()(e),"handleEventWrapper",(function(t){H(t,V,e.props.logger,e.props.client)})),e}return c()(n,[{key:"render",value:function(){return b.a.createElement(O.a,{onEvent:this.handleEventWrapper,channel:r.elements},this.props.children)}}]),n}(b.a.Component),G=n(22),K=n.n(G),$=n(114),Y=n.n($),X=function(e,t){return t.context.map((function(t){return t[e]})).filter(Boolean)},J=function(e){var t=X("actionSubjectOverride",e),n=e.context.length>0?e.context[e.context.length-1]:{},r=e.payload.actionSubject||n.component;return t.length>0?t[0]:r},Z=function(e){return X("source",e)},Q=function(e){return X("component",e)},ee=function(e){return X("attributes",e).reduce((function(e,t){return I()(e,t)}),{})},te=function(e){return e.context.map((function(e){return{packageName:e.packageName,packageVersion:e.packageVersion}})).filter((function(e){return e.packageName}))};function ne(e){return(te(e)||[]).map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})).join(",")||void 0}var re=n(146);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e,t){var n=Z(e),r=Y()(n)||_.a,o=ee(e),i=Q(e),a=Y()(te(e))||{},c=a.packageName,s=a.packageVersion,u=e.payload,l=u.eventType,d=void 0===l?_.e:l,f=u.action,p=u.actionSubjectId,h=u.attributes,m=u.containerId,v=ie(ie({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:ne(e)||void 0},{packageName:c,packageVersion:s}),I()(o,h)),b=new Set(e.payload.tags||[]);if(b.add("atlaskit"),e.payload){if(d===_.e)return{eventType:d,source:r,actionSubject:J(e),action:f,actionSubjectId:p,attributes:v,containerId:m,tags:Array.from(b)};d===_.d||d===_.b||d===_.c?t.error("Track, screen and operational events are currently not supported for atlaskit events"):t.error("Invalid event type",d)}return null};function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var se=function(e){u()(n,e);var t=ce(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),m()(y()(e),"listenerHandler",(function(t){var n=e.props,r=n.client,o=n.logger,i=n.channel,a=n.processEvent;if(t.payload){o.debug("Received ".concat(i," event"),t);var c=a(t,o);o.debug("Processed ".concat(i," event"),c),c&&x(o,r)(c)}})),e}return c()(n,[{key:"render",value:function(){return b.a.createElement(O.a,{onEvent:this.listenerHandler,channel:this.props.channel},this.props.children)}}]),n}(b.a.Component);var ue={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.logLevel;i()(this,e),m()(this,"logLevel",ue.OFF),"number"==typeof n&&this.setLogLevel(n)}return c()(e,[{key:"setLogLevel",value:function(e){e>=ue.DEBUG&&e<=ue.OFF?this.logLevel=+e:this.logLevel=ue.OFF}},{key:"logMessage",value:function(e,t){if(e>=this.logLevel){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=console)[t].apply(n,o)}}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[ue.DEBUG,"log"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[ue.INFO,"info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[ue.WARN,"warn"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[ue.ERROR,"error"].concat(t))}}]),e}(),de=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return t.context.reduce((function(t,o){return e.forEach((function(e){var i=o[r],a=i?i[e]:null,c=n?a:a||o[e];c&&t.push(c)})),t}),[])},fe=function(e,t){return de(["source"],e,!1,t)},pe=function(e,t){return de(["component","componentName"],e,!1,t)},he=function(e,t){return de(["attributes"],e,!0,t).reduce((function(e,t){return I()(e,t)}),{})},me=function(e,t){return e.context.map((function(e){var n=e[t],r=n||e;return{packageName:r.packageName,packageVersion:r.packageVersion}})).filter((function(e){return e.packageName}))};function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e,t){var n=fe(e,A.h),r=Y()(n)||_.a,o=he(e,A.h),i=pe(e,A.h),a=me(e,A.h),c=Y()(me(e,A.h))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,f=d.eventType,p=void 0===f?_.e:f,h=d.action,m=d.actionSubject,v=d.actionSubjectId,b=d.attributes,g=d.name,y=be(be({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,b)),O=new Set(e.payload.tags||[]);if(O.add("navigation"),e.payload)switch(p){case _.e:case _.b:return{eventType:p,source:r,actionSubject:m,action:h,actionSubjectId:v,attributes:y,tags:Array.from(O)};case _.c:return{eventType:p,name:g,attributes:y,tags:Array.from(O)};case _.d:t.error("Track events are currently not supported for navigation events");break;default:t.error("Invalid event type",p)}return null};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e){var t=Z(e),n=Y()(te(e))||{},r=n.packageName,o=n.packageVersion,i=ee(e),a=function(e){return X(A.g,e)}(e)||[],c=I.a.apply(void 0,[{}].concat(T()(a))),s=new Set(e.payload.tags||[]);s.add("media");var u=Q(e),l=function(){try{return window&&window.sessionStorage&&window.sessionStorage.getItem("media-api-region")}catch(e){return}}();return{source:Y()(t)||_.a,actionSubject:e.payload.actionSubject,action:e.payload.action,eventType:e.payload.eventType,actionSubjectId:e.payload.actionSubjectId,name:e.payload.name,tags:Array.from(s),attributes:Oe(Oe({packageName:r,packageVersion:o},I()({},i,c,e.payload.attributes)),{},{componentHierarchy:u.join(".")||void 0,packageHierarchy:ne(e),sourceHierarchy:t.join(".")||void 0,listenerVersion:re.a},l?{mediaRegion:l}:void 0)}}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e,t){var n=fe(e,A.j),r=Y()(n)||_.a,o=he(e,A.j),i=pe(e,A.j),a=me(e,A.j),c=Y()(me(e,A.j))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,f=d.eventType,p=void 0===f?_.e:f,h=d.action,m=d.actionSubject,v=d.actionSubjectId,b=d.attributes,g=d.name,y=Ee(Ee({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,b)),O=new Set(e.payload.tags||[]);if(O.add("peopleTeams"),e.payload)switch(p){case _.e:case _.b:case _.d:return{eventType:p,source:r,actionSubject:m,action:h,actionSubjectId:v,attributes:y,tags:Array.from(O)};case _.c:return{eventType:p,name:g,attributes:y,tags:Array.from(O)};default:t.error("Invalid event type",p)}return null};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e,t){var n=fe(e,A.i),o=Y()(n)||_.a,i=he(e,A.i),a=pe(e,A.i),c=me(e,A.i),s=Y()(me(e,A.i))||{},u=s.packageName,l=s.packageVersion,d=c.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),f=e.payload,p=f.eventType,h=void 0===p?_.e:p,m=f.action,v=f.actionSubject,b=f.actionSubjectId,g=f.attributes,y=f.name,O=je(je({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:a.join(".")||void 0,packageHierarchy:d.join(",")||void 0},{packageName:u,packageVersion:l}),I()(i,g)),w=new Set(e.payload.tags||[]);if(w.add(r.notifications),e.payload)switch(h){case _.e:case _.b:case _.d:return{eventType:h,source:o,actionSubject:v,action:m,actionSubjectId:b,attributes:O,tags:Array.from(w)};case _.c:return{eventType:h,name:y,attributes:O,tags:Array.from(w)};default:t.error("Invalid event type",h)}return null};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e,t){var n=fe(e,A.k),o=Y()(n)||_.a,i=he(e,A.k),a=pe(e,A.k),c=me(e,A.k),s=Y()(me(e,A.k))||{},u=s.packageName,l=s.packageVersion,d=c.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),f=e.payload,p=f.eventType,h=void 0===p?_.e:p,m=f.action,v=f.actionSubject,b=f.actionSubjectId,g=f.attributes,y=f.name,O=_e(_e({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:a.join(".")||void 0,packageHierarchy:d.join(",")||void 0},{packageName:u,packageVersion:l}),I()(i,g)),w=new Set(e.payload.tags||[]);if(w.add(r.recentWork),e.payload)switch(h){case _.e:case _.b:case _.d:return{eventType:h,source:o,actionSubject:v,action:m,actionSubjectId:b,attributes:O,tags:Array.from(w)};case _.c:return{eventType:h,name:y,attributes:O,tags:Array.from(w)};default:t.error("Invalid event type",h)}return null};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me,Re=function(e,t){var n=fe(e,A.a),r=Y()(n)||_.a,o=he(e,A.a),i=pe(e,A.a),a=me(e,A.a),c=Y()(me(e,A.a))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,f=d.eventType,p=void 0===f?_.e:f,h=d.action,m=d.actionSubject,v=d.actionSubjectId,b=d.attributes,g=d.name,y=Ie(Ie({listenerVersion:re.a,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,b)),O=new Set(e.payload.tags||[]);if(O.add("atlas"),e.payload)switch(p){case _.e:case _.b:case _.d:return{eventType:p,source:r,actionSubject:m,action:h,actionSubjectId:v,attributes:y,tags:Array.from(O)};case _.c:return{eventType:p,name:g,attributes:y,tags:Array.from(O)};default:t.error("Invalid event type",p)}return null};function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var De=(Me={},m()(Me,r.elements,q),m()(Me,r.editor,R),m()(Me,r.atlaskit,(function(e){return b.a.createElement(se,K()({},e,{channel:r.atlaskit,processEvent:ae}))})),m()(Me,r.navigation,(function(e){return b.a.createElement(se,K()({},e,{channel:r.navigation,processEvent:ge}))})),m()(Me,r.media,(function(e){return b.a.createElement(se,K()({},e,{channel:r.media,processEvent:we}))})),m()(Me,r.peopleTeams,(function(e){return b.a.createElement(se,K()({},e,{channel:r.peopleTeams,processEvent:xe}))})),m()(Me,r.notifications,(function(e){return b.a.createElement(se,K()({},e,{channel:r.notifications,processEvent:Ce}))})),m()(Me,r.recentWork,(function(e){return b.a.createElement(se,K()({},e,{channel:r.recentWork,processEvent:Ae}))})),m()(Me,r.atlas,(function(e){return b.a.createElement(se,K()({},e,{channel:r.atlas,processEvent:Re}))})),Me);b.a.Component},function(e,t,n){"use strict";n.d(t,"a",(function(){return W}));var r=n(747),o=n(122),i=n(61),a=n(56);function c(e,t){Object(a.a)(2,arguments);var n=Object(i.a)(e).getTime(),r=Object(o.a)(t);return new Date(n+r)}function s(e,t){Object(a.a)(2,arguments);var n=Object(o.a)(t);return c(e,-n)}function u(e){Object(a.a)(1,arguments);var t=1,n=Object(i.a)(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function l(e){Object(a.a)(1,arguments);var t=Object(i.a)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=u(r),c=new Date(0);c.setUTCFullYear(n,0,4),c.setUTCHours(0,0,0,0);var s=u(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function d(e){Object(a.a)(1,arguments);var t=l(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=u(n);return r}var f=n(200);function p(e,t){var n,r,c,s,u,l,d,p;Object(a.a)(1,arguments);var h=Object(f.a)(),m=Object(o.a)(null!==(n=null!==(r=null!==(c=null!==(s=null==t?void 0:t.weekStartsOn)&&void 0!==s?s:null==t||null===(u=t.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==c?c:h.weekStartsOn)&&void 0!==r?r:null===(d=h.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Object(i.a)(e),b=v.getUTCDay(),g=(b<m?7:0)+b-m;return v.setUTCDate(v.getUTCDate()-g),v.setUTCHours(0,0,0,0),v}function h(e,t){var n,r,c,s,u,l,d,h;Object(a.a)(1,arguments);var m=Object(i.a)(e),v=m.getUTCFullYear(),b=Object(f.a)(),g=Object(o.a)(null!==(n=null!==(r=null!==(c=null!==(s=null==t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null==t||null===(u=t.locale)||void 0===u||null===(l=u.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==c?c:b.firstWeekContainsDate)&&void 0!==r?r:null===(d=b.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==n?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(v+1,0,g),y.setUTCHours(0,0,0,0);var O=p(y,t),w=new Date(0);w.setUTCFullYear(v,0,g),w.setUTCHours(0,0,0,0);var k=p(w,t);return m.getTime()>=O.getTime()?v+1:m.getTime()>=k.getTime()?v:v-1}function m(e,t){var n,r,i,c,s,u,l,d;Object(a.a)(1,arguments);var m=Object(f.a)(),v=Object(o.a)(null!==(n=null!==(r=null!==(i=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(s=t.locale)||void 0===s||null===(u=s.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:m.firstWeekContainsDate)&&void 0!==r?r:null===(l=m.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==n?n:1),b=h(e,t),g=new Date(0);g.setUTCFullYear(b,0,v),g.setUTCHours(0,0,0,0);var y=p(g,t);return y}function v(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var b={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return v("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):v(n+1,2)},d:function(e,t){return v(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return v(e.getUTCHours()%12||12,t.length)},H:function(e,t){return v(e.getUTCHours(),t.length)},m:function(e,t){return v(e.getUTCMinutes(),t.length)},s:function(e,t){return v(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return v(Math.floor(r*Math.pow(10,n-3)),t.length)}},g="midnight",y="noon",O="morning",w="afternoon",k="evening",E="night";function x(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+v(i,2)}function S(e,t){return e%60==0?(e>0?"-":"+")+v(Math.abs(e)/60,2):j(e,t)}function j(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+v(Math.floor(o/60),2)+n+v(o%60,2)}var C={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return b.y(e,t)},Y:function(e,t,n,r){var o=h(e,r),i=o>0?o:1-o;return"YY"===t?v(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):v(i,t.length)},R:function(e,t){return v(l(e),t.length)},u:function(e,t){return v(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return v(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return v(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return b.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return v(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=function(e,t){Object(a.a)(1,arguments);var n=Object(i.a)(e),r=p(n,t).getTime()-m(n,t).getTime();return Math.round(r/6048e5)+1}(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):v(o,t.length)},I:function(e,t,n){var r=function(e){Object(a.a)(1,arguments);var t=Object(i.a)(e),n=u(t).getTime()-d(t).getTime();return Math.round(n/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):v(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):b.d(e,t)},D:function(e,t,n){var r=function(e){Object(a.a)(1,arguments);var t=Object(i.a)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):v(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return v(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return v(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return v(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?y:0===o?g:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?k:o>=12?w:o>=4?O:E,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return b.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):b.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):v(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):v(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):b.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):b.s(e,t)},S:function(e,t){return b.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return S(o);case"XXXX":case"XX":return j(o);case"XXXXX":case"XXX":default:return j(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return S(o);case"xxxx":case"xx":return j(o);case"xxxxx":case"xxx":default:return j(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+x(o,":");case"OOOO":default:return"GMT"+j(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+x(o,":");case"zzzz":default:return"GMT"+j(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return v(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return v((r._originalDate||e).getTime(),t.length)}},T=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},A={p:_,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return T(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",T(o,t)).replace("{{time}}",_(i,t))}},P=n(241),I=["D","DD"],M=["YY","YYYY"];function R(e){return-1!==I.indexOf(e)}function N(e){return-1!==M.indexOf(e)}function D(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var L=n(421),B=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z=/^'([^]*?)'?$/,U=/''/g,H=/[a-zA-Z]/;function W(e,t,n){var c,u,l,d,p,h,m,v,b,g,y,O,w,k,E,x,S,j;Object(a.a)(2,arguments);var T=String(t),_=Object(f.a)(),I=null!==(c=null!==(u=null==n?void 0:n.locale)&&void 0!==u?u:_.locale)&&void 0!==c?c:L.a,M=Object(o.a)(null!==(l=null!==(d=null!==(p=null!==(h=null==n?void 0:n.firstWeekContainsDate)&&void 0!==h?h:null==n||null===(m=n.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==p?p:_.firstWeekContainsDate)&&void 0!==d?d:null===(b=_.locale)||void 0===b||null===(g=b.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==l?l:1);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=Object(o.a)(null!==(y=null!==(O=null!==(w=null!==(k=null==n?void 0:n.weekStartsOn)&&void 0!==k?k:null==n||null===(E=n.locale)||void 0===E||null===(x=E.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==w?w:_.weekStartsOn)&&void 0!==O?O:null===(S=_.locale)||void 0===S||null===(j=S.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==y?y:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var U=Object(i.a)(e);if(!Object(r.a)(U))throw new RangeError("Invalid time value");var W=Object(P.a)(U),q=s(U,W),G={firstWeekContainsDate:M,weekStartsOn:z,locale:I,_originalDate:U},K=T.match(F).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,A[t])(e,I.formatLong):e})).join("").match(B).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return V(r);var i=C[o];if(i)return null!=n&&n.useAdditionalWeekYearTokens||!N(r)||D(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||!R(r)||D(r,t,String(e)),i(q,r,I.localize,G);if(o.match(H))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("");return K}function V(e){var t=e.match(z);return t?t[1].replace(U,"'"):e}},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(e,t,n){var o,i=r[e];return o="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function i(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},c={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!=n&&n.width?String(n.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var a=e.defaultWidth,c=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[c]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function u(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a,c=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?d(s,(function(e){return e.test(c)})):l(s,(function(e){return e.test(c)}));a=e.valueCallback?e.valueCallback(u):u,a=n.valueCallback?n.valueCallback(a):a;var f=t.slice(c.length);return{value:a,rest:f}}}function l(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function d(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var f,p={code:"en-US",formatDistance:o,formatLong:a,formatRelative:function(e,t,n,r){return c[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(f={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(f.matchPattern);if(!n)return null;var r=n[0],o=e.match(f.parsePattern);if(!o)return null;var i=f.valueCallback?f.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;var a=e.slice(r.length);return{value:i,rest:a}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(1),l=n.n(u),d=n(10),f=n.n(d),p=n(14),h=n(4),m=n(18),v=n(30),b=n(71),g=n(213),y=n(148),O=n(100),w=n(110),k=n(298),E=n(383),x=n(260);function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e,t,n){var r,o=Object(x.b)(),i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=a.property,s=a.type,u=void 0===s?"enabled by default":s,l=a.description,d=void 0===l?"":l,f=a.condition,p=void 0===f?function(){return!0}:f;t.hasOwnProperty(c)&&p(t)&&console.warn("".concat(c," property for ").concat(e," is deprecated. ").concat(d," [Will be ").concat(u," in editor-core@").concat(o,"]"))}}catch(e){i.e(e)}finally{i.f()}},T=function(){function e(){var t=this;a()(this,e),l()(this,"listeners",[]),l()(this,"dispatchAnalyticsEvent",(function(e){t.eventDispatcher&&Object(y.b)(t.eventDispatcher)(O.f,{payload:e})})),l()(this,"getResolvedEditorState",o()(f.a.mark((function e(){var n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.editorView){e.next=2;break}throw new Error("Called getResolvedEditorState before editorView is ready");case 2:if(i=t.editorView.state,k.a.getState(i).useNativeCollabPlugin){e.next=10;break}return e.next=6,t.getValue();case 6:if(r=e.sent){e.next=9;break}throw new Error("editorValue is undefined");case 9:return e.abrupt("return",{content:r,title:null,stepVersion:-1});case 10:return o=t.editorView,e.next=13,Object(g.c)(o);case 13:return e.abrupt("return",null===(n=Object(E.a)(o.state))||void 0===n?void 0:n.getFinalAcknowledgedState());case 14:case"end":return e.stop()}var i}),e)}))))}var t,n;return s()(e,[{key:"_privateGetEditorView",value:function(){return this.editorView}},{key:"_privateGetEventDispatcher",value:function(){return this.eventDispatcher}},{key:"_privateRegisterEditor",value:function(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach((function(n){return n(e,t)}));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}},{key:"_privateUnregisterEditor",value:function(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0}},{key:"_privateSubscribe",value:function(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}},{key:"_privateUnsubscribe",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"focus",value:function(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)}},{key:"blur",value:function(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}},{key:"clear",value:function(){if(!this.editorView)return!1;var e=this.editorView,t=e.state,n=e.state.tr.setSelection(h.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}},{key:"__temporaryFixForConfigPanel",value:(n=o()(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorView){e.next=3;break}return e.abrupt("return");case 3:Object(g.a)(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getValue",value:(t=o()(f.a.mark((function e(){var t,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorView){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(g.c)(t);case 5:if(n=e.sent,r=Object(v.x)(n),this.contentEncode){e.next=9;break}return e.abrupt("return",r);case 9:return o=p.Node.fromJSON(this.editorView.state.schema,r),e.abrupt("return",this.contentEncode(o));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getNodeByLocalId",value:function(e){var t,n,r;if(null!==(t=this.editorView)&&void 0!==t&&t.state)return null===(n=Object(w.b)(null===(r=this.editorView)||void 0===r?void 0:r.state,e))||void 0===n?void 0:n.node}},{key:"getSelectedNode",value:function(){var e,t;if(null!==(e=this.editorView)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.selection){var n,r=this.editorView.state.selection;return r instanceof h.NodeSelection?r.node:null===(n=Object(m.findParentNode)((function(e){return Boolean(e.type.spec.selectable)}))(r))||void 0===n?void 0:n.node}}},{key:"isDocumentEmpty",value:function(){return!this.editorView||Object(b.g)(this.editorView.state.doc)}},{key:"replaceDocument",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return C("EditorActions.replaceDocument",{shouldAddToHistory:n},[{property:"shouldAddToHistory",description:"[ED-14158] EditorActions.replaceDocument does not use the shouldAddToHistory arg",type:"removed"}]),!(!this.editorView||null==e)&&(this.eventDispatcher&&this.eventDispatcher.emit("resetEditorState",{doc:e,shouldScrollToBottom:t}),!0)}},{key:"replaceSelection",value:function(e,t){if(!this.editorView)return!1;var n=this.editorView.state;if(!e){var r=n.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(r),!0}var o=n.schema,i=Object(b.m)(o,e);return!!i&&(this.editorView.dispatch(Object(m.safeInsert)(i,void 0,t)(n.tr).scrollIntoView()),!0)}},{key:"appendText",value:function(e){if(!this.editorView||!e)return!1;var t=this.editorView.state,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;var r=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(r),!0}}],[{key:"from",value:function(t,n,r){var o=new e;return o._privateRegisterEditor(t,n,r),o}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(241),o=n(61),i=n(56);function a(e){Object(i.a)(1,arguments);var t=Object(o.a)(e);return t.setHours(0,0,0,0),t}function c(e,t){Object(i.a)(2,arguments);var n=a(e),o=a(t),c=n.getTime()-Object(r.a)(n),s=o.getTime()-Object(r.a)(o);return Math.round((c-s)/864e5)}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n.n(c),u=n(12),l=n(505),d=n(393),f=n(3);function p(e){e.preventDefault(),e.stopPropagation()}function h(e){9!==e.keyCode&&p(e)}var m={onMouseDownCapture:p,onMouseUpCapture:p,onKeyDownCapture:h,onKeyUpCapture:h,onTouchStartCapture:p,onTouchEndCapture:p,onPointerDownCapture:p,onPointerUpCapture:p,onClickCapture:p,onClick:p},v={};var b=n(205),g=["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"];function y(){}var O={"> *":{pointerEvents:"none"}};t.a=s.a.forwardRef((function(e,t){var n=e.appearance,r=void 0===n?"default":n,i=e.buttonCss,s=e.spacing,p=void 0===s?"default":s,h=e.autoFocus,w=void 0!==h&&h,k=e.isDisabled,E=void 0!==k&&k,x=(e.shouldFitContainer,e.isSelected),S=void 0!==x&&x,j=e.iconBefore,C=e.iconAfter,T=e.children,_=e.className,A=e.href,P=e.overlay,I=e.tabIndex,M=void 0===I?0:I,R=e.type,N=void 0===R?A?void 0:"button":R,D=e.onMouseDown,L=void 0===D?y:D,B=e.onClick,F=void 0===B?y:B,z=e.component,U=void 0===z?A?"a":"button":z,H=e.testId,W=e.analyticsContext,V=a()(e,g),q=Object(c.useRef)(),G=Object(c.useCallback)((function(e){q.current=e,null!=t&&("function"!=typeof t?t.current=e:t(e))}),[q,t]);Object(d.a)(q,w);var K=Object(l.a)({fn:F,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.3.4",analyticsData:W}),$=Object(c.useCallback)((function(e){e.preventDefault(),L(e)}),[L]);Object(c.useEffect)((function(){var e=q.current;E&&e&&e===document.activeElement&&e.blur()}),[E]);var Y=Boolean(P),X=Object(b.c)({hasOverlay:Y}),J=!E&&!Y,Z={};return(S||E||"warning"===r)&&(Z={"[data-theme] & svg":{stroke:S||E?"var(--ds-text-subtle, ".concat(f.N500,")"):"var(--ds-text-warning-inverse, ".concat(f.N500,")")}}),Object(u.d)(U,o()({},V,{css:[i,J?null:O],className:_,ref:G,onClick:K,onMouseDown:$,disabled:E,href:J?A:void 0,"data-has-overlay":!!Y||void 0,"data-testid":H,type:N,tabIndex:E?-1:M},{isInteractive:J}.isInteractive?v:m),j?Object(u.d)("span",{css:[X,Object(b.d)({spacing:p})]},j):null,T?Object(u.d)("span",{css:[X,Object(b.a)({spacing:p})]},T):null,C?Object(u.d)("span",{css:[X,Object(b.d)({spacing:p})]},C):null,P?Object(u.d)("span",{css:[b.e,Z]},P):null)}))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M10.687 17.292a.983.983 0 00-1.397 0 1 1 0 000 1.407l1.964 1.98a1.082 1.082 0 001.538 0l1.919-1.933a1 1 0 000-1.408.983.983 0 00-1.398 0l-1.29 1.3-1.336-1.346z" fill-rule="nonzero"/><path d="M13.001 19.993L13 10.006C13 9.451 12.552 9 12 9s-1 .45-1 1.007l.001 9.987c0 .555.448 1.006 1 1.006s1-.45 1-1.007z" fill-rule="nonzero"/><path d="M7.938 5.48a4.8 4.8 0 00-.777-.062C4.356 5.418 2 7.62 2 10.498 2 13.409 4.385 16 7.1 16h2.881v-1.993H7.1c-1.657 0-3.115-1.663-3.115-3.508 0-1.778 1.469-3.087 3.104-3.087h.012c.389 0 .686.05.97.15l.17.063c.605.248.875-.246.875-.246l.15-.267c.73-1.347 2.201-2.096 3.716-2.12a4.14 4.14 0 014.069 3.645l.046.34s.071.525.665.525c.013 0 .012.005.023.005h.254c1.136 0 1.976.959 1.976 2.158 0 1.207-.987 2.342-2.07 2.342h-3.964V16h3.964C20.105 16 22 13.955 22 11.665c0-2-1.312-3.663-3.138-4.074-.707-2.707-3.053-4.552-5.886-4.591-1.975.02-3.901.9-5.038 2.48z"/></g></svg>'},e));a.displayName="DownloadIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var h=function(e){s()(n,e);var t=p(n);function n(e,r){var i;return o()(this,n),(i=t.call(this,e)).reason=e,i.attempts=r,i}return a()(n,[{key:"attributes",get:function(){return{reason:this.reason,attempts:this.attempts}}}]),n}(n(198).a);function m(e){return e instanceof h}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(21),a=n.n(i),c=n(1),s=n.n(c),u=n(12),l=n(0),d=n(536),f=n(98),p=n(112),h=n(75),m=n(373),v=n(1222),b=n(256),g=n.n(b),y=n(33),O=n(3),w=n(84),k=function(e){return Object(u.d)("span",{css:w.g,className:w.n,"data-testid":"emoji-delete-button"},Object(u.d)(v.a,{iconBefore:Object(u.d)(g.a,{label:f.i,primaryColor:Object(y.a)("color.text.subtle",O.N500),size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none"}))},E=n(123),x=n(1072),S="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=new Map,_=new WeakMap,A=0,P=void 0;function I(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(_.has(n)||(A+=1,_.set(n,A.toString())),_.get(n)):"0":e[t]);var n})).toString()}function M(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=P),void 0===window.IntersectionObserver&&void 0!==r){var o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var i=function(e){var t=I(e),n=T.get(t);if(!n){var r,o=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var n,i=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(n=o.get(t.target))||n.forEach((function(e){e(i,t)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:o},T.set(t,n)}return n}(n),a=i.id,c=i.observer,s=i.elements,u=s.get(e)||[];return s.has(e)||s.set(e,u),u.push(t),c.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(s.delete(e),c.unobserve(e)),0===s.size&&(c.disconnect(),T.delete(a))}}var R=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function N(e){return"function"!=typeof e.children}var D=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),N(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,C(t,n);var o=r.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,o=e.trackVisibility,i=e.delay,a=e.fallbackInView;this._unobserveCb=M(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:o,delay:i},a)}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!N(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,o=r.children,i=r.as,a=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,R);return l.createElement(i||"div",j({ref:this.handleNode},a),o)},r}(l.Component);D.displayName="InView",D.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var L=function(e){var t=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,o=t.trackVisibility,i=t.rootMargin,a=t.root,c=t.triggerOnce,s=t.skip,u=t.initialInView,d=t.fallbackInView,f=l.useRef(),p=l.useState({inView:!!u}),h=p[0],m=p[1],v=l.useCallback((function(e){void 0!==f.current&&(f.current(),f.current=void 0),s||e&&(f.current=M(e,(function(e,t){m({inView:e,entry:t}),t.isIntersecting&&c&&f.current&&(f.current(),f.current=void 0)}),{root:a,rootMargin:i,threshold:n,trackVisibility:o,delay:r},d))}),[Array.isArray(n)?n.toString():n,a,i,c,s,o,d,r]);Object(l.useEffect)((function(){f.current||!h.entry||c||s||m({inView:!!u})}));var b=[v,h.inView,h.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}(e);return S?t:[void 0,!0]};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===f.i)){var n=e.emoji,r=e.onSelected;t.preventDefault(),r&&Object(m.a)(t)&&r(Object(p.q)(n),n,t)}},z=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===f.i)){var n=e.emoji,r=e.onSelected;t.preventDefault(),!r||"Enter"!==t.key&&" "!==t.key||r(Object(p.q)(n),n,t)}},U=function(e,t){var n=e.emoji,r=e.onMouseMove;r&&r(Object(p.q)(n),n,t)},H=function(e){var t=e.emoji,n=e.fitToHeight,r=e.selected,o=e.selectOnHover,i=e.className,a=e.showTooltip,c=e.shouldBeInteractive,l=t.representation,d=l.sprite,f="".concat(w.s," ").concat(r?w.f:""," ").concat(o?w.J:""," ").concat(i||""),p={};n&&(p={width:"".concat(n,"px"),height:"".concat(n,"px"),minHeight:"".concat(n,"px"),minWidth:"".concat(n,"px")});var h=100/(d.column-1)*(l.xIndex-0),m=100/(d.row-1)*(l.yIndex-0),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundImage:"url(".concat(d.url,")"),backgroundPosition:"".concat(h,"% ").concat(m,"%"),backgroundSize:"".concat(100*d.column,"% ").concat(100*d.row,"%")},p);return Object(u.d)("span",{"data-testid":"sprite-emoji-".concat(t.shortName),"data-emoji-type":"sprite",tabIndex:c?0:void 0,role:c?"button":void 0,css:w.m,className:f,onKeyPress:function(t){return z(e,t)},onMouseDown:function(t){F(e,t)},onMouseMove:function(t){U(e,t)},"aria-label":t.shortName,title:a?t.shortName:""},Object(u.d)("span",{className:w.w,style:v},""))},W=function(e){var t,n,r,i,c=e.emoji,s=e.fitToHeight,f=e.selected,m=e.selectOnHover,v=e.className,b=e.showTooltip,g=e.showDelete,y=e.shouldBeInteractive,O=L({triggerOnce:!0}),x=a()(O,2),j=x[0],C=x[1],T=Object(E.c)(c),_="".concat(w.q," ").concat(w.s," ").concat(f?w.f:""," ").concat(m?w.J:""," ").concat(w.p," ").concat(v||""),A=Object(d.d)(c,s)?c.altRepresentation:c.representation;Object(p.i)(A)?(r=A.imagePath,t=A.width,n=A.height):Object(p.l)(A)&&(r=A.mediaPath,t=A.width,n=A.height),g&&(i=Object(u.d)(k,{onClick:function(t){return function(e,t){var n=e.emoji,r=e.onDelete;r&&r(Object(p.q)(n),n,t)}(e,t)}}));var P={};s&&t&&n&&(P={width:s/n*t,height:s});var I=Object(l.useCallback)((function(){var e=T.metrics.marks.find((function(e){return e.name===h.d.MOUNTED_END}));T.mark(h.d.ONLOAD_START,null==e?void 0:e.time)}),[T]),M=Object(l.useCallback)((function(){Object(E.a)(T,h.d.ONLOAD_START)||T.mark(h.d.ONLOAD_START)}),[T]);Object(l.useEffect)((function(){C&&M()}),[C,M]);var R=Object(u.d)("img",o()({loading:"lazy",src:r,key:r,alt:c.shortName,"data-emoji-short-name":c.shortName,"data-emoji-id":c.id,"data-emoji-text":c.fallback||c.shortName,className:"emoji",style:{visibility:"visible"},onError:function(t){!function(e,t){var n=e.emoji,r=e.onLoadError;t.target&&(t.target.style.visibility="hidden");r&&r(Object(p.q)(n),n,t)}(e,t)},onLoad:function(){Object(E.a)(T,h.d.ONLOAD_START)||I(),Object(E.a)(T,h.d.ONLOAD_END)||T.mark(h.d.ONLOAD_END),T.success({metadata:{IBSupported:S}})}},P));return Object(u.d)("span",{"data-testid":"image-emoji-".concat(c.shortName),"data-emoji-type":"image",css:w.x,tabIndex:y?0:void 0,role:y?"button":void 0,className:_,onKeyPress:function(t){return z(e,t)},onMouseDown:function(t){F(e,t)},onMouseMove:function(t){U(e,t)},"aria-label":c.shortName,title:b?c.shortName:"",ref:j},i,R)};t.a=function(e){var t=e.emoji;return Object(x.a)(E.d["emoji-rendered"].getInstance(t.id||t.shortName),f.b,{source:"emoji",emoji:t.shortName}),Object(l.useEffect)((function(){var e=Object(E.c)(t);Object(E.a)(e,"fmp")||e.markFMP(),Object(E.a)(e,h.d.MOUNTED_END)||e.mark(h.d.MOUNTED_END)}),[]),Object(p.o)(t.representation)?Object(u.d)(H,e):Object(u.d)(W,e)}},,,,,function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,s=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){c=r(n);for(var d=0;d<c.length;d++)i.call(n,c[d])&&(s[c[d]]=n[c[d]])}}return s}},function(e,t,n){var r=n(557);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(22),o=n.n(r),i=n(1),a=n.n(i),c=n(0),s=n(12),u=n(280),l=n(562),d=n(468);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(s.c)({display:"inline-block",flexShrink:0,lineHeight:1,"> svg":p(p({},d.a),{},{maxWidth:"100%",maxHeight:"100%",color:"var(--icon-primary-color)",fill:"var(--icon-secondary-color)",verticalAlign:"bottom"})}),m=Object(s.c)({"@media screen and (forced-colors: active)":{"> svg":{filter:"grayscale(1)","--icon-primary-color":"CanvasText","--icon-secondary-color":"Canvas"}}}),v=Object(s.c)({"@media screen and (forced-colors: active)":{"> svg":{"--icon-primary-color":"Canvas"}}}),b=Object(s.c)({"@media screen and (forced-colors: active)":{"> svg":{"--icon-secondary-color":"transparent"}}}),g=Object(c.memo)((function(e){var t=e,n=t.glyph,r=t.dangerouslySetGlyph,i=t.primaryColor,a=void 0===i?"currentColor":i,c=t.secondaryColor,f=t.size,p=t.testId,g=t.label,y=t.width,O=t.height,w=r?{dangerouslySetInnerHTML:{__html:r}}:{children:n?Object(s.d)(n,{role:"presentation"}):null},k=Object(d.b)({width:y,height:O,size:f}),E=Object(u.b)().mode;return Object(s.d)("span",o()({"data-testid":p,role:g?"img":"presentation","aria-label":g||void 0,"aria-hidden":!g||void 0,style:{"--icon-primary-color":a,"--icon-secondary-color":c||Object(l.a)(E)}},w,{css:[h,m,a===c&&v,"transparent"===c&&b,k&&Object(s.c)({width:k.width,height:k.height,"> svg":k})]}))}));t.b=g},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){var r=n(251)(n(179),"Map");e.exports=r},function(e,t,n){var r=n(272),o=n(196);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(833),o=n(840),i=n(842),a=n(843),c=n(844);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(568);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){(function(e){var r=n(179),o=n(856),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?r.Buffer:void 0,s=(c?c.isBuffer:void 0)||o;e.exports=s}).call(this,n(358)(e))},function(e,t,n){var r=n(858),o=n(859),i=n(860),a=i&&i.isTypedArray,c=a?o(a):r;e.exports=c},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),function(e){e.DEFAULT="DEFAULT",e.SPECIAL="SPECIAL",e.APP="APP"}(r||(r={}));var o={inline:!0,group:"inline",selectable:!0,attrs:{id:{default:""},text:{default:""},accessLevel:{default:""},userType:{default:null}},parseDOM:[{tag:"span[data-mention-id]",getAttrs:function(e){var t=e,n={id:t.getAttribute("data-mention-id")||o.attrs.id.default,text:t.textContent||o.attrs.text.default,accessLevel:t.getAttribute("data-access-level")||o.attrs.accessLevel.default},i=t.getAttribute("data-user-type");return r[i]&&(n.userType=i),n}}],toDOM:function(e){var t=e.attrs,n=t.id,r=t.accessLevel,o=t.text,i=t.userType,a={"data-mention-id":n,"data-access-level":r,contenteditable:"false"};return i&&(a["data-user-type"]=i),["span",a,o]}},i=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return function(e){return["userType"].indexOf(e)>-1}(n)&&!e.attrs[n]||(t[n]=e.attrs[n]),t}),{})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(14),o=function(e){var t=/(?:^|\s)language-([^\s]+)/.exec(e);if(t&&t[1])return t[1]},i={attrs:{language:{default:null},uniqueId:{default:null}},content:"(text | unsupportedInline)*",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e,n=function(e){if(e&&e.classList.contains("codehilite"))return o(e.className)}(t.parentElement)||function(e){return e.getAttribute("data-language")||void 0}(t.parentElement)||function(e){var t=e.firstElementChild;if(t&&"CODE"===t.nodeName)return t.getAttribute("data-language")||void 0}(t)||t.getAttribute("data-language");return t=function(e){var t=e&&e.parentElement;return t&&t.classList.contains("codehilite")&&(e.textContent=e.textContent.replace(/\n$/,"")),e}(t),{language:n}}},{tag:"div[style]",preserveWhitespace:"full",getAttrs:function(e){var t=e;return!!("pre"===t.style.whiteSpace||t.style.fontFamily&&t.style.fontFamily.toLowerCase().indexOf("monospace")>-1)&&{}},getContent:function(e,t){var n=e,o=Array.from(n.children).map((function(e){return e.textContent})).filter((function(e){return void 0!==e})).join("\n");return o?r.Fragment.from(t.text(o)):r.Fragment.empty}},{tag:"table[style]",preserveWhitespace:"full",getAttrs:function(e){return!!e.querySelector('td[class*="blob-code"]')&&{}}},{tag:"div.code-block",preserveWhitespace:"full",getAttrs:function(e){var t=e.querySelectorAll(".react-syntax-highlighter-line-number");return t.length>0&&t.forEach((function(e){return e.remove()})),{}}}],toDOM:function(e){return["pre",["code",{"data-language":e.attrs.language},0]]}},a=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return"uniqueId"===n||"language"===n&&null===e.attrs.language||(t[n]=e.attrs[n]),t}),{})}}},function(e,t,n){"use strict";function r(e){return{title:e.getAttribute("data-title"),__expanded:!0}}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var o={inline:!1,group:"block",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock)+",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"table//",tag:'div[data-node-type="expand"]',getAttrs:r},{context:"expand//",tag:'[data-node-type="expand"]',skip:!0},{context:"nestedExpand//",tag:'[data-node-type="expand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="expand"]',getAttrs:r}],toDOM:function(e){return["div",{"data-node-type":"expand","data-title":e.attrs.title,"data-expanded":e.attrs.__expanded},0]}},i=function(e){return{attrs:Object.keys(e.attrs).filter((function(e){return!e.startsWith("__")})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=".ak-ul",o={group:"block",content:"listItem+",selectable:!1,parseDOM:[{tag:"ul"}],marks:"unsupportedMark unsupportedNodeAttribute",toDOM:function(){return["ul",{class:r.substr(1)},0]}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=".ak-ol",o={group:"block",content:"listItem+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,parseDOM:[{tag:"ol"}],toDOM:function(){return["ol",{class:r.substr(1)},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var r,o=n(1),i=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.INFO="info",e.NOTE="note",e.TIP="tip",e.WARNING="warning",e.ERROR="error",e.SUCCESS="success",e.CUSTOM="custom"}(r||(r={}));var s=function(e){return{group:"block",content:"(paragraph | heading | bulletList | orderedList | blockCard | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{panelType:{default:"info"},panelIcon:{default:null},panelIconId:{default:null},panelIconText:{default:null},panelColor:{default:null}},parseDOM:[{tag:"div[data-panel-type]",getAttrs:function(t){return function(e,t){var n={panelType:t.getAttribute("data-panel-type")};return e?n=c(c({},n),{},{panelIcon:t.getAttribute("data-panel-icon"),panelIconId:t.getAttribute("data-panel-icon-id"),panelIconText:t.getAttribute("data-panel-icon-text"),panelColor:t.getAttribute("data-panel-color")}):n.panelType=n.panelType===r.CUSTOM?r.INFO:n.panelType,n}(e,t)}}],toDOM:function(e){var t;return["div",{"data-panel-type":(t=e.attrs).panelType,"data-panel-icon":t.panelIcon,"data-panel-icon-id":t.panelIconId,"data-panel-icon-text":t.panelIconText,"data-panel-color":t.panelColor},["div",{"data-panel-content":"true"},0]]}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(159),o='[data-node-type="'.concat("decisionList",'"]'),i={group:"block",defining:!0,content:"(decisionItem|unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{localId:{default:""}},parseDOM:[{tag:"ol".concat(o),priority:100,getAttrs:function(){return{localId:r.b.generate()}}}],toDOM:function(e){return["ol",{"data-node-type":"decisionList","data-decision-list-local-id":e.attrs.localId||"local-decision-list",style:"list-style: none; padding-left: 0"},0]}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(159),o='[data-node-type="'.concat("actionList",'"]'),i={group:"block",defining:!0,selectable:!1,content:"(taskItem|unsupportedBlock)+ (taskItem|taskList|unsupportedBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:""}},parseDOM:[{tag:"div".concat(o),priority:100,getAttrs:function(){return{localId:r.b.generate()}}}],toDOM:function(e){return["div",{"data-node-type":"actionList","data-task-list-local-id":e.attrs.localId||"local-task-list",style:"list-style: none; padding-left: 0"},0]}}},function(e,t,n){"use strict";function r(e){return"string"==typeof e?e:"".concat(e,"px")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(10),l=n.n(u),d=n(351),f=n(346),p=n(532),h=n(544),m=n(534),v=function(){function e(t,n){a()(this,e),this.mediaClientConfig=t,this.featureFlags=n,this.mediaStore=new f.a({authProvider:t.authProvider,initialAuth:t.initialAuth},n),this.config=t,this.collection=new p.a(this.mediaStore),this.file=new h.a(this.mediaStore),this.eventEmitter=new d.EventEmitter2,this.stargate=new m.a(t.stargateBaseUrl)}var t,r;return s()(e,[{key:"getImage",value:function(e,t,n,r){return this.mediaStore.getImage(e,t,n,r)}},{key:"getImageUrl",value:function(e,t){return this.mediaStore.getFileImageURL(e,t)}},{key:"getImageUrlSync",value:function(e,t){return this.mediaStore.getFileImageURLSync(e,t)}},{key:"getImageMetadata",value:(r=o()(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.getImageMetadata(t,n);case 2:return e.abrupt("return",e.sent.metadata);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"mobileUploadPromise",value:(t=o()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mobileUpload){e.next=2;break}return e.abrupt("return",this.mobileUpload);case 2:return e.next=4,n.e(155).then(n.bind(null,1136));case 4:return t=e.sent,this.mobileUpload=new t.MobileUploadImpl(this.mediaStore),e.abrupt("return",this.mobileUpload);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"off",value:function(e,t){this.eventEmitter.off(e,t)}},{key:"emit",value:function(e,t){return this.eventEmitter.emit(e,t)}}]),e}()},function(e,t,n){"use strict";var r=n(228).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},function(e,t,n){"use strict";var r=n(228);function o(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=o,t.observable=o(r.root),t.$$observable=t.observable},function(e,t,n){"use strict";var r=n(228);function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}t.symbolIteratorPonyfill=o,t.iterator=o(r.root),t.$$iterator=t.iterator},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,c,s=1,u={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[s]=o,r(s),s++},f.clearImmediate=p}function p(e){delete u[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(226),n(208))},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(23),a=n(231),c=n(160);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){return{name:"macro",pmPlugins:function(){return[{name:"macro",plugin:function(e){return function(e,t){return new i.a({state:{init:function(){return{macroProvider:null}},apply:function(t,n){var r=t.getMeta(c.a);if(r){var o=u(u({},n),r);return e(c.a,o),o}return n}},key:c.a,view:function(e){var n=function(t,n){return n&&Object(a.c)(n)(e)};return e.dom.parentNode&&t.subscribe("macroProvider",n),{destroy:function(){t.unsubscribe("macroProvider",n)}}}})}(e.dispatch,e.providerFactory)}}]}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(5),u=n.n(s),l=n(13),d=n.n(l),f=n(15),p=n.n(f),h=n(6),m=n.n(h),v=n(1),b=n.n(v),g=n(0),y=n.n(g),O=n(7),w=n.n(O),k=n(48),E=n(3),x=n(16),S=n(64),j=E.text,C=E.N30A,T="\n  cursor: pointer;\n  box-shadow: 0 0 0 1px ".concat(E.B300,";\n  outline: none;\n  user-select: none;\n  border-color: transparent;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n"),_=k.a.span(r||(r=w()(["\n  line-height: 16px;\n  padding: 2px 4px 2px 4px;\n  box-decoration-break: clone;\n  display: inline;\n  border-radius: ","px;\n  color: ",";\n  background-color: ",";\n  ",";\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),Object(x.d)(),j,Object(S.a)({light:C}),(function(e){return t=e.isSelected,t?T:"user-select: text";var t}),E.N40A);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var P=function(e){d()(n,e);var t=A(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),b()(u()(e),"handleClick",(function(t){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))})),b()(u()(e),"handleKeyPress",(function(t){if(" "===t.key||"Enter"===t.key){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))}})),b()(u()(e),"handleMouseDown",(function(e){e.preventDefault()})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.children,r=e.onClick,o=e.testId,i=Boolean(r);return y.a.createElement(_,{isSelected:t,tabIndex:i?0:void 0,role:i?"button":void 0,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onKeyPress:this.handleKeyPress,"data-testid":o},n)}}]),n}(y.a.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(305),o=n(12),i={overflow:"hidden",pointerEvents:"none",stop:{stopColor:"currentColor"}},a={small:Object(o.c)(r.a.small),medium:Object(o.c)(r.a.medium),large:Object(o.c)(r.a.large),xlarge:Object(o.c)(r.a.xlarge)},c=function(e){var t=e.width,n=e.height,o=e.size;return t&&n?{width:t,height:n}:o?r.a[o]:void 0}},function(e,t,n){"use strict";e.exports=n(815)},function(e,t,n){"use strict";var r=n(281),o=n.n(r);t.a=function(e,t){return o()(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={};function o(e){r[e]||(r[e]=!0,"undefined"!=typeof window&&console.warn(e))}},function(e,t,n){"use strict";var r=n(108),o=n(0),i=n(184),a=n(163);function c(e){var t=Object(i.a)(),n=t.formatMessage,r=t.textComponent,a=void 0===r?o.Fragment:r,c=e.id,s=e.description,u=e.defaultMessage,l=e.values,d=e.children,f=e.tagName,p=void 0===f?a:f,h=n({id:c,description:s,defaultMessage:u},l,{ignoreTag:e.ignoreTag});return"function"==typeof d?d(Array.isArray(h)?h:[h]):p?o.createElement(p,null,o.Children.toArray(h)):o.createElement(o.Fragment,null,h)}c.displayName="FormattedMessage";var s=o.memo(c,(function(e,t){var n=e.values,o=Object(r.c)(e,["values"]),i=t.values,c=Object(r.c)(t,["values"]);return Object(a.d)(i,n)&&Object(a.d)(o,c)}));s.displayName="MemoizedFormattedMessage",t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r,o,i=n(7),a=n.n(i),c=n(2),s=n(3),u=n(73),l=n(33),d=Object(c.c)(r||(r=a()(["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: ",";\n    line-height: 20px;\n    padding: 0;\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"])),Object(l.a)("color.text.subtle",s.N400),Object(u.db)(13),Object(l.a)("color.text.subtlest",s.N100)),f=function(e){return Object(c.c)(o||(o=a()(["\n  input& {\n    width: ","px;\n  }\n"])),e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(332),o=function(e){return Object(r.a)({type:"SHOW_CONFIRM_DIALOG",data:{buttonIndex:e}},(function(e){return e.setMeta("addToHistory",!1)}))},i=function(){return Object(r.a)({type:"HIDE_CONFIRM_DIALOG"},(function(e){return e.setMeta("addToHistory",!1)}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(1046),i=n(1048);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new a(e,t,n))}};var a=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=a;var c=function(e){function t(t,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var o;try{o=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapSubscriber=c},function(e,t,n){var r=n(1049),o=n(1050);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(19),o=n.n(r),i=n(10),a=n.n(i),c=n(216),s=n(170),u=n(158),l=n(405);function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=o()(a.a.mark((function e(t,n,r){var o,i,c,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("doc"!==t&&Object(s.d)(n)&&r||!Object(u.d)(n)){e.next=2;break}return e.abrupt("return",!0);case 2:if("video"!==t||!r){e.next=20;break}return e.next=5,r;case 5:if((o=e.sent.value)instanceof Blob){e.next=8;break}return e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,Object(l.a)(o);case 11:return i=e.sent,c=i.width,d=i.height,e.abrupt("return",!c&&!d);case 17:return e.prev=17,e.t0=e.catch(8),e.abrupt("return",!0);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}function p(e,t,n){return Object(c.from)(d(e,t,n))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v}));var r=n(45),o=n.n(r),i=n(14),a=n(4),c=n(231),s=n(160),u=n(99),l=n(110),d=n(38),f=n(93),p=n(18),h=function(e){var t=e.view,n=e.macroProvider;return function(){if(!t)throw new Error("Missing view. Can't update without EditorView");if(!n)throw new Error("Missing macroProvider. Can't use the macro browser for updates");var e=Object(l.f)(t.state,!0);if(!e)throw new Error("Missing nodeWithPos. Can't determine position of node");Object(c.a)(n,e.node,!0)(t)}},m=function(e){return{action:d.a.INVOKED,actionSubject:d.b.EXTENSION,actionSubjectId:d.c.EXTENSION_API,attributes:{functionName:e},eventType:d.e.TRACK}},v=function(e){var t=function(t,n){var r=n.opName;if("string"!=typeof t||""===t)throw new Error("".concat(r,"(): Invalid localId '").concat(t,"'."));var o=e.editorView.state,i=Object(l.b)(o,t);if(!i)throw new Error("".concat(r,"(): Could not find node with ID '").concat(t,"'."));return i};return{editInContextPanel:function(t,n){var r=e.editorView;Object(u.d)(t,n)(r.state,r.dispatch,r)},_editInLegacyMacroBrowser:function(){var t=e.editorView,n=e.editInLegacyMacroBrowser;if(!n){var r=s.a.getState(t.state);n=h({view:e.editorView,macroProvider:(null==r?void 0:r.macroProvider)||void 0})}n()},doc:{insertAfter:function(n,r,c){if("object"!==o()(r)||Array.isArray(r))throw new Error("insertAfter(): Invalid ADF given.");var s=t(n,{opName:"insertAfter"}),u=e.editorView,p=u.dispatch,h=u.state,v=h.tr,b=h.schema,g=b.nodes[r.type];if(!g)throw new Error("insertAfter(): Invalid ADF type '".concat(r.type,"'."));var y=i.Fragment.fromJSON(b,r.content),O=(r.marks||[]).map((function(e){return i.Mark.fromJSON(b,e)})),w=null==g?void 0:g.createChecked(r.attrs,y,O);if(!w)throw new Error("insertAfter(): Could not create a node for given ADFEntity.");var k=s.pos+s.node.nodeSize;v.insert(k,w);try{v.doc.check()}catch(e){throw new Error("insertAfter(): The given ADFEntity cannot be inserted in the current position.\n".concat(e))}var E=m("insertAfter");Object(f.a)(h,v,E);var x=[w];w.descendants((function(e){return x.push(e),!0})),x.forEach((function(e){var t=e.attrs,n=t.extensionKey,r=t.extensionType,o=Object(l.c)(e),i=(null==o?void 0:o.attrs.sources.map((function(e){return e})))||[],a=!!o,c=a?Object(l.d)(i,h):void 0,s={action:d.a.INSERTED,actionSubject:d.b.DOCUMENT,attributes:{nodeType:e.type.name,inputMethod:d.f.EXTENSION_API,hasReferentiality:a,nodeTypesReferenced:c,layout:e.attrs.layout,extensionType:r,extensionKey:n},eventType:d.e.TRACK};Object(f.a)(h,v,s)})),c&&c.allowSelectionToNewNode&&v.setSelection(new a.NodeSelection(v.doc.resolve(k))),p(v)},scrollTo:function(n){var r=t(n,{opName:"scrollTo"}),o=m("scrollTo"),i=e.editorView,a=i.dispatch,c=i.state,s=c.tr;s=Object(f.a)(c,s,o),a(s=(s=Object(p.setTextSelection)(r.pos)(s)).scrollIntoView())},update:function(n,r){var i,a=t(n,{opName:"update"}),c=a.node,s=a.pos,u=e.editorView,l=u.dispatch,d=u.state,p=d.tr,h=d.schema,v=r({attrs:c.attrs,marks:c.marks.map((function(e){return{type:e.type.name,attrs:e.attrs}}))}),b=null===(i=v.marks)||void 0===i?void 0:i.map((function(e){if("object"!==o()(e)||Array.isArray(e))throw new Error("update(): Invalid mark given.");var t=h.marks[e.type];if(!t)throw new Error("update(): Invalid ADF mark type '".concat(e.type,"'."));if(!c.type.allowsMarkType(t))throw new Error("update(): Node of type '".concat(c.type.name,"' does not allow marks of type '").concat(e.type,"'."));return{mark:t,attrs:e.attrs}})).map((function(e){var t=e.mark,n=e.attrs;return t.create(n)}));try{c.type.createChecked(v.attrs,c.content,b)}catch(e){throw new Error("update(): The given ADFEntity cannot be inserted in the current position.\n".concat(e))}p.setNodeMarkup(s,void 0,v.attrs,b);var g=m("update");Object(f.a)(d,p,g),l(p)}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(206),o=function(e,t){return e=e.setMeta(r.a,!0),!!t&&(t(e),!0)},i=function(e,t){t(e=e.setMeta(r.a,!1))}},function(e,t,n){var r=n(440);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(414),o=n(122),i=n(61),a=n(56);function c(e,t){Object(a.a)(2,arguments);var n=Object(i.a)(e),r=Object(o.a)(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var c=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var u=s.getDate();return c>=u?s:(n.setFullYear(s.getFullYear(),s.getMonth(),c),n)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return void 0!==e&&(e>="0"&&e<="9")}function d(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r>="0"&&r<="9",i=-1!==". ,/".indexOf(r);if(!o&&!i)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function f(e,t,n){if(!(e>t.length)){var o=function(e){return Object(r.c)({day:7,month:1,year:1992},e).replace(/\d+/g,(function(e){if(!e)return"";switch(parseInt(e)%100){case 92:return e.replace(/.{1}/g,"y");case 1:return 1===e.length?"m":"mm";case 7:return 1===e.length?"d":"dd"}return""}))}(n);if(o){var i=o.replace(/[^ymd]+$/g,""),a={d:"day",m:"month",y:"year"},c=a[i[0]],s=a[i[i.length-1]],u=["day","month","year"].filter((function(e){return e!==c&&e!==s}))[0];return function(e,t){for(var n=e-1,r=!0,o=t.replace(/[^0-9]+$/g,"");n>=0&&r;){l(o[n])||(r=!1),n-=1}return r}(e,t)?c:function(e,t){for(var n=e,r=!0,o=t.replace(/[^0-9]+$/g,"");n<o.length&&r;){l(o[n])||(r=!1),n+=1}return r}(e,t)?s:u}}}function p(e,t,n){var s=Object(r.b)(e),u="day"===t?function(e,t){Object(a.a)(2,arguments);var n=Object(i.a)(e),r=Object(o.a)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(s,n):"month"===t?c(s,n):function(e,t){Object(a.a)(2,arguments);var n=Object(o.a)(t);return c(e,12*n)}(s,n);return Object(r.a)(u)}function h(e){var t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=n(116),i=(n(273),n(437),function(e,t,n){for(var r=0,i=0;r=i,i=Object(o.h)(),38===r&&12===i&&(t[n]=1),!Object(o.o)(i);)Object(o.g)();return Object(o.m)(e,o.i)}),a=function(e,t){return Object(o.c)(function(e,t){var n=-1,r=44;do{switch(Object(o.o)(r)){case 0:38===r&&12===Object(o.h)()&&(t[n]=1),e[n]+=i(o.i-1,t,n);break;case 2:e[n]+=Object(o.d)(r);break;case 4:if(44===r){e[++n]=58===Object(o.h)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Object(o.e)(r)}}while(r=Object(o.g)());return e}(Object(o.a)(e),t))},c=new WeakMap,s=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||c.get(n))&&!r){c.set(e,!0);for(var o=[],i=a(t,o),s=n.props,u=0,l=0;u<i.length;u++)for(var d=0;d<s.length;d++,l++)e.props[l]=o[u]?i[u].replace(/&\f/g,s[d]):s[d]+" "+i[u]}}},u=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},l=[o.j];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||l;var a,c,d={},f=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)d[t[n]]=!0;f.push(e)}));var p=[s,u];var h,m=[o.n,Object(o.k)((function(e){h.insert(e)}))],v=Object(o.f)(p.concat(i,m));c=function(e,t,n,r){var i;h=n,i=e?e+"{"+t.styles+"}":t.styles,Object(o.l)(Object(o.b)(i),v),r&&(b.inserted[t.name]=!0)};var b={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:d,registered:{},insert:c};return b.sheet.hydrate(f),b}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c}));var r,o=n(128),i=n(262);function a(e){return"function"==typeof e}function c(e,t,n,s,u,l,d){if(1===e.length&&Object(o.e)(e[0]))return[{type:r.literal,value:e[0].value}];for(var f=[],p=0,h=e;p<h.length;p++){var m=h[p];if(Object(o.e)(m))f.push({type:r.literal,value:m.value});else if(Object(o.i)(m))"number"==typeof l&&f.push({type:r.literal,value:n.getNumberFormat(t).format(l)});else{var v=m.value;if(!u||!(v in u))throw new i.e(v,d);var b=u[v];if(Object(o.b)(m))b&&"string"!=typeof b&&"number"!=typeof b||(b="string"==typeof b||"number"==typeof b?String(b):""),f.push({type:"string"==typeof b?r.literal:r.object,value:b});else if(Object(o.c)(m)){var g="string"==typeof m.style?s.date[m.style]:Object(o.d)(m.style)?m.style.parsedOptions:void 0;f.push({type:r.literal,value:n.getDateTimeFormat(t,g).format(b)})}else if(Object(o.l)(m)){g="string"==typeof m.style?s.time[m.style]:Object(o.d)(m.style)?m.style.parsedOptions:s.time.medium;f.push({type:r.literal,value:n.getDateTimeFormat(t,g).format(b)})}else if(Object(o.f)(m)){(g="string"==typeof m.style?s.number[m.style]:Object(o.g)(m.style)?m.style.parsedOptions:void 0)&&g.scale&&(b*=g.scale||1),f.push({type:r.literal,value:n.getNumberFormat(t,g).format(b)})}else{if(Object(o.k)(m)){var y=m.children,O=m.value,w=u[O];if(!a(w))throw new i.d(O,"function",d);var k=w(c(y,t,n,s,u,l).map((function(e){return e.value})));Array.isArray(k)||(k=[k]),f.push.apply(f,k.map((function(e){return{type:"string"==typeof e?r.literal:r.object,value:e}})))}if(Object(o.j)(m)){if(!(E=m.options[b]||m.options.other))throw new i.c(m.value,b,Object.keys(m.options),d);f.push.apply(f,c(E.value,t,n,s,u))}else if(Object(o.h)(m)){var E;if(!(E=m.options["=".concat(b)])){if(!Intl.PluralRules)throw new i.b('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',i.a.MISSING_INTL_API,d);var x=n.getPluralRules(t,{type:m.pluralType}).select(b-(m.offset||0));E=m.options[x]||m.options.other}if(!E)throw new i.c(m.value,b,Object.keys(m.options),d);f.push.apply(f,c(E.value,t,n,s,u,b-(m.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===r.literal&&t.type===r.literal?n.value+=t.value:e.push(t),e}),[])}(f)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=1,t=new WeakMap,n=function(r,o){return"number"==typeof r||"string"==typeof r?o?"idx-"+o:"val-"+r:t.has(r)?"uid"+t.get(r):(t.set(r,e++),n(r))};return n},o=r()},function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,c=/,+\s*(?![^(]*[)])/g,s=/ +\s*(?![^(]*[)])/g,u=/ *[\0] */g,l=/,\r+?/g,d=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,p=/\W+/g,h=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,v=/:(read-only)/g,b=/\s+(?=[{\];=:>])/g,g=/([[}=:>])\s+/g,y=/(\{[^{]+?);(?=\})/g,O=/\s{2,}/g,w=/([^\(])(:+) */g,k=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,_="-webkit-",A="-moz-",P="-ms-",I=1,M=1,R=0,N=1,D=1,L=1,B=0,F=0,z=0,U=[],H=[],W=0,V=null,q=0,G=1,K="",$="",Y="";function X(e,t,o,i,a){for(var c,s,l=0,d=0,f=0,p=0,b=0,g=0,y=0,O=0,k=0,x=0,S=0,j=0,C=0,T=0,A=0,P=0,B=0,H=0,V=0,Z=o.length,oe=Z-1,ie="",ae="",ce="",se="",ue="",le="";A<Z;){if(y=o.charCodeAt(A),A===oe&&d+p+f+l!==0&&(0!==d&&(y=47===d?10:47),p=f=l=0,Z++,oe++),d+p+f+l===0){if(A===oe&&(P>0&&(ae=ae.replace(r,"")),ae.trim().length>0)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:ae+=o.charAt(A)}y=59}if(1===B)switch(y){case 123:case 125:case 59:case 34:case 39:case 40:case 41:case 44:B=0;case 9:case 13:case 10:case 32:break;default:for(B=0,V=A,b=y,A--,y=59;V<Z;)switch(o.charCodeAt(V++)){case 10:case 13:case 59:++A,y=b,V=Z;break;case 58:P>0&&(++A,y=b);case 123:V=Z}}switch(y){case 123:for(b=(ae=ae.trim()).charCodeAt(0),S=1,V=++A;A<Z;){switch(y=o.charCodeAt(A)){case 123:S++;break;case 125:S--;break;case 47:switch(g=o.charCodeAt(A+1)){case 42:case 47:A=re(g,A,oe,o)}break;case 91:y++;case 40:y++;case 34:case 39:for(;A++<oe&&o.charCodeAt(A)!==y;);}if(0===S)break;A++}switch(ce=o.substring(V,A),0===b&&(b=(ae=ae.replace(n,"").trim()).charCodeAt(0)),b){case 64:switch(P>0&&(ae=ae.replace(r,"")),g=ae.charCodeAt(1)){case 100:case 109:case 115:case 45:c=t;break;default:c=U}if(V=(ce=X(t,c,ce,g,a+1)).length,z>0&&0===V&&(V=ae.length),W>0&&(s=ne(3,ce,c=J(U,ae,H),t,M,I,V,g,a,i),ae=c.join(""),void 0!==s&&0===(V=(ce=s.trim()).length)&&(g=0,ce="")),V>0)switch(g){case 115:ae=ae.replace(E,te);case 100:case 109:case 45:ce=ae+"{"+ce+"}";break;case 107:ce=(ae=ae.replace(h,"$1 $2"+(G>0?K:"")))+"{"+ce+"}",ce=1===D||2===D&&ee("@"+ce,3)?"@"+_+ce+"@"+ce:"@"+ce;break;default:ce=ae+ce,112===i&&(se+=ce,ce="")}else ce="";break;default:ce=X(t,J(t,ae,H),ce,i,a+1)}ue+=ce,j=0,B=0,T=0,P=0,H=0,C=0,ae="",ce="",y=o.charCodeAt(++A);break;case 125:case 59:if((V=(ae=(P>0?ae.replace(r,""):ae).trim()).length)>1)switch(0===T&&(45===(b=ae.charCodeAt(0))||b>96&&b<123)&&(V=(ae=ae.replace(" ",":")).length),W>0&&void 0!==(s=ne(1,ae,t,e,M,I,se.length,i,a,i))&&0===(V=(ae=s.trim()).length)&&(ae="\0\0"),b=ae.charCodeAt(0),g=ae.charCodeAt(1),b){case 0:break;case 64:if(105===g||99===g){le+=ae+o.charAt(A);break}default:if(58===ae.charCodeAt(V-1))break;se+=Q(ae,b,g,ae.charCodeAt(2))}j=0,B=0,T=0,P=0,H=0,ae="",y=o.charCodeAt(++A)}}switch(y){case 13:case 10:if(d+p+f+l+F===0)switch(x){case 41:case 39:case 34:case 64:case 126:case 62:case 42:case 43:case 47:case 45:case 58:case 44:case 59:case 123:case 125:break;default:T>0&&(B=1)}47===d?d=0:N+j===0&&107!==i&&ae.length>0&&(P=1,ae+="\0"),W*q>0&&ne(0,ae,t,e,M,I,se.length,i,a,i),I=1,M++;break;case 59:case 125:if(d+p+f+l===0){I++;break}default:switch(I++,ie=o.charAt(A),y){case 9:case 32:if(p+l+d===0)switch(O){case 44:case 58:case 9:case 32:ie="";break;default:32!==y&&(ie=" ")}break;case 0:ie="\\0";break;case 12:ie="\\f";break;case 11:ie="\\v";break;case 38:p+d+l===0&&N>0&&(H=1,P=1,ie="\f"+ie);break;case 108:if(p+d+l+R===0&&T>0)switch(A-T){case 2:112===O&&58===o.charCodeAt(A-3)&&(R=O);case 8:111===k&&(R=k)}break;case 58:p+d+l===0&&(T=A);break;case 44:d+f+p+l===0&&(P=1,ie+="\r");break;case 34:case 39:0===d&&(p=p===y?0:0===p?y:p);break;case 91:p+d+f===0&&l++;break;case 93:p+d+f===0&&l--;break;case 41:p+d+l===0&&f--;break;case 40:if(p+d+l===0){if(0===j)switch(2*O+3*k){case 533:break;default:S=0,j=1}f++}break;case 64:d+f+p+l+T+C===0&&(C=1);break;case 42:case 47:if(p+l+f>0)break;switch(d){case 0:switch(2*y+3*o.charCodeAt(A+1)){case 235:d=47;break;case 220:V=A,d=42}break;case 42:47===y&&42===O&&V+2!==A&&(33===o.charCodeAt(V+2)&&(se+=o.substring(V,A+1)),ie="",d=0)}}if(0===d){if(N+p+l+C===0&&107!==i&&59!==y)switch(y){case 44:case 126:case 62:case 43:case 41:case 40:if(0===j){switch(O){case 9:case 32:case 10:case 13:ie+="\0";break;default:ie="\0"+ie+(44===y?"":"\0")}P=1}else switch(y){case 40:T+7===A&&108===O&&(T=0),j=++S;break;case 41:0==(j=--S)&&(P=1,ie+="\0")}break;case 9:case 32:switch(O){case 0:case 123:case 125:case 59:case 44:case 12:case 9:case 32:case 10:case 13:break;default:0===j&&(P=1,ie+="\0")}}ae+=ie,32!==y&&9!==y&&(x=y)}}k=O,O=y,A++}if(V=se.length,z>0&&0===V&&0===ue.length&&0===t[0].length==0&&(109!==i||1===t.length&&(N>0?$:Y)===t[0])&&(V=t.join(",").length+2),V>0){if(c=0===N&&107!==i?function(e){for(var t,n,o=0,i=e.length,a=Array(i);o<i;++o){for(var c=e[o].split(u),s="",l=0,d=0,f=0,p=0,h=c.length;l<h;++l)if(!(0===(d=(n=c[l]).length)&&h>1)){if(f=s.charCodeAt(s.length-1),p=n.charCodeAt(0),t="",0!==l)switch(f){case 42:case 126:case 62:case 43:case 32:case 40:break;default:t=" "}switch(p){case 38:n=t+$;case 126:case 62:case 43:case 32:case 41:case 40:break;case 91:n=t+n+$;break;case 58:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(L>0){n=t+n.substring(8,d-1);break}default:(l<1||c[l-1].length<1)&&(n=t+$+n)}break;case 44:t="";default:n=d>1&&n.indexOf(":")>0?t+n.replace(w,"$1"+$+"$2"):t+n+$}s+=n}a[o]=s.replace(r,"").trim()}return a}(t):t,W>0&&void 0!==(s=ne(2,se,c,e,M,I,V,i,a,i))&&0===(se=s).length)return le+se+ue;if(se=c.join(",")+"{"+se+"}",D*R!=0){switch(2!==D||ee(se,2)||(R=0),R){case 111:se=se.replace(v,":-moz-$1")+se;break;case 112:se=se.replace(m,"::"+_+"input-$1")+se.replace(m,"::-moz-$1")+se.replace(m,":-ms-input-$1")+se}R=0}}return le+se+ue}function J(e,t,n){var r=t.trim().split(l),o=r,i=r.length,a=e.length;switch(a){case 0:case 1:for(var c=0,s=0===a?"":e[0]+" ";c<i;++c)o[c]=Z(s,o[c],n,a).trim();break;default:c=0;var u=0;for(o=[];c<i;++c)for(var d=0;d<a;++d)o[u++]=Z(e[d]+" ",r[c],n,a).trim()}return o}function Z(e,t,n,r){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case 38:switch(N+r){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(d,"$1"+e.trim())}break;case 58:switch(o.charCodeAt(1)){case 103:if(L>0&&N>0)return o.replace(f,"$1").replace(d,"$1"+Y);break;default:return e.trim()+o.replace(d,"$1"+e.trim())}default:if(n*N>0&&o.indexOf("\f")>0)return o.replace(d,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+o}function Q(e,t,n,r){var u,l=0,d=e+";",f=2*t+3*n+4*r;if(944===f)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),o=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*G){case 0:break;case 45:if(110!==e.charCodeAt(10))break;default:var i=o.split((o="",c)),a=0;for(n=0,t=i.length;a<t;n=0,++a){for(var u=i[a],l=u.split(s);u=l[n];){var d=u.charCodeAt(0);if(1===G&&(d>64&&d<90||d>96&&d<123||95===d||45===d&&45!==u.charCodeAt(1)))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=K}}l[n++]=u}o+=(0===a?"":",")+l.join(" ")}}return o=r+o+";",1===D||2===D&&ee(o,1)?_+o+o:o}(d);if(0===D||2===D&&!ee(d,1))return d;switch(f){case 1015:return 97===d.charCodeAt(10)?_+d+d:d;case 951:return 116===d.charCodeAt(3)?_+d+d:d;case 963:return 110===d.charCodeAt(5)?_+d+d:d;case 1009:if(100!==d.charCodeAt(4))break;case 969:case 942:return _+d+d;case 978:return _+d+A+d+d;case 1019:case 983:return _+d+A+d+P+d+d;case 883:return 45===d.charCodeAt(8)?_+d+d:d.indexOf("image-set(",11)>0?d.replace(T,"$1"+_+"$2")+d:d;case 932:if(45===d.charCodeAt(4))switch(d.charCodeAt(5)){case 103:return _+"box-"+d.replace("-grow","")+_+d+P+d.replace("grow","positive")+d;case 115:return _+d+P+d.replace("shrink","negative")+d;case 98:return _+d+P+d.replace("basis","preferred-size")+d}return _+d+P+d+d;case 964:return _+d+P+"flex-"+d+d;case 1023:if(99!==d.charCodeAt(8))break;return u=d.substring(d.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),_+"box-pack"+u+_+d+P+"flex-pack"+u+d;case 1005:return i.test(d)?d.replace(o,":"+_)+d.replace(o,":"+A)+d:d;case 1e3:switch(l=(u=d.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(l)){case 226:u=d.replace(k,"tb");break;case 232:u=d.replace(k,"tb-rl");break;case 220:u=d.replace(k,"lr");break;default:return d}return _+d+P+u+d;case 1017:if(-1===d.indexOf("sticky",9))return d;case 975:switch(l=(d=e).length-10,f=(u=(33===d.charCodeAt(l)?d.substring(0,l):d).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(u.charCodeAt(8)<111)break;case 115:d=d.replace(u,_+u)+";"+d;break;case 207:case 102:d=d.replace(u,_+(f>102?"inline-":"")+"box")+";"+d.replace(u,_+u)+";"+d.replace(u,P+u+"box")+";"+d}return d+";";case 938:if(45===d.charCodeAt(5))switch(d.charCodeAt(6)){case 105:return u=d.replace("-items",""),_+d+_+"box-"+u+P+"flex-"+u+d;case 115:return _+d+P+"flex-item-"+d.replace(S,"")+d;default:return _+d+P+"flex-line-pack"+d.replace("align-content","").replace(S,"")+d}break;case 973:case 989:if(45!==d.charCodeAt(3)||122===d.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Q(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):d.replace(u,_+u)+d.replace(u,A+u.replace("fill-",""))+d;break;case 962:if(d=_+d+(102===d.charCodeAt(5)?P+d:"")+d,n+r===211&&105===d.charCodeAt(13)&&d.indexOf("transform",10)>0)return d.substring(0,d.indexOf(";",27)+1).replace(a,"$1"+_+"$2")+d}return d}function ee(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),o=e.substring(n+1,e.length-1);return V(2!==t?r:r.replace(j,"$1"),o,t)}function te(e,t){var n=Q(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function ne(e,t,n,r,o,i,a,c,s,u){for(var l,d=0,f=t;d<W;++d)switch(l=H[d].call(ie,e,f,n,r,o,i,a,c,s,u)){case void 0:case!1:case!0:case null:break;default:f=l}if(f!==t)return f}function re(e,t,n,r){for(var o=t+1;o<n;++o)switch(r.charCodeAt(o)){case 47:if(42===e&&42===r.charCodeAt(o-1)&&t+2!==o)return o+1;break;case 10:if(47===e)return o+1}return o}function oe(e){for(var t in e){var n=e[t];switch(t){case"keyframe":G=0|n;break;case"global":L=0|n;break;case"cascade":N=0|n;break;case"compress":B=0|n;break;case"semicolon":F=0|n;break;case"preserve":z=0|n;break;case"prefix":V=null,n?"function"!=typeof n?D=1:(D=2,V=n):D=0}}return oe}function ie(t,n){if(void 0!==this&&this.constructor===ie)return e(t);var o=t,i=o.charCodeAt(0);i<33&&(i=(o=o.trim()).charCodeAt(0)),G>0&&(K=o.replace(p,91===i?"":"-")),i=1,1===N?Y=o:$=o;var a,c=[Y];W>0&&void 0!==(a=ne(-1,n,c,c,M,I,0,0,0,0))&&"string"==typeof a&&(n=a);var s=X(U,c,n,0,0);return W>0&&void 0!==(a=ne(-2,s,c,c,M,I,s.length,0,0,0))&&"string"!=typeof(s=a)&&(i=0),K="",Y="",$="",R=0,M=1,I=1,B*i==0?s:function(e){return e.replace(r,"").replace(b,"").replace(g,"$1").replace(y,"$1").replace(O," ")}(s)}return ie.use=function e(t){switch(t){case void 0:case null:W=H.length=0;break;default:if("function"==typeof t)H[W++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else q=0|!!t}return e},ie.set=oe,void 0!==t&&oe(t),ie}(null)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,l=u&&u(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(l){var f=u(n);f&&f!==l&&e(t,f,d)}var p=a(n);c&&(p=p.concat(c(n)));for(var h=0;h<p.length;++h){var m=p[h];if(!(r[m]||o[m]||d&&d[m])){var v=s(n,m);try{i(t,m,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";e.exports=function(e){var t="";return function e(n){if("string"==typeof n||"number"==typeof n)t+=n;else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var r=n.props.children;Array.isArray(r)?r.forEach((function(t){return e(t)})):e(r)}}(e),t}},function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"65.0.0"}')},function(e){e.exports=JSON.parse('{"a":"@atlaskit/smart-card","b":"20.1.4"}')},function(e){e.exports=JSON.parse('{"a":"@atlaskit/status","b":"1.1.3"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>void 0===e?null:e},function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n(0),o=n.n(r),i=n(389),a=n(21),c=n.n(a),s={appear:!0,isExiting:!1},u=Object(r.createContext)(s),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return o.a.createElement(u.Provider,{key:"".concat(e.key,"-provider"),value:t},e)},d=function(e){return e.reduce((function(e,t){return e[t.key]=t,e}),{})},f=Object(r.memo)((function(e){var t,n,o=e.appear,a=void 0!==o&&o,s=e.children,u=e.exitThenEnter,f=function(e){var t=[];return r.Children.toArray(e).forEach((function(e){"boolean"!=typeof e&&Boolean(e)&&t.push(e)})),t}(s),p=d(f),h=Object(r.useRef)([]),m=Object(r.useRef)([]),v=(t=Object(r.useState)({}),n=c()(t,2)[1],Object(r.useCallback)((function(){return n({})}),[])),b=Object(r.useRef)({}),g=Object(r.useRef)(a),y=Object(r.useMemo)((function(){return{appear:g.current,isExiting:!1}}),[g.current]);return Object(i.a)()?f:(g.current||(g.current=!0),h.current.length&&function(e,t){for(var n=0;n<t.length;n++){if(!e[t[n].key])return!0}return!1}(p,h.current)?((0===m.current.length||function(e,t){var n=!1;return t.forEach((function(t){e.current[t.key]&&(n=!0,delete e.current[t.key])})),n}(b,f))&&(m.current=h.current),h.current=f,(u?m.current:function(e,t){for(var n=t.concat([]),r=d(t),o=0;o<e.length;o++){var i=e[o];!r[i.key]&&n.splice(o+1,0,i)}return n}(f,m.current)).map((function(e){var t=p[e.key];return t?l(t,y):(b.current[e.key]=!0,l(e,{isExiting:!0,appear:!0,onFinish:function(){delete b.current[e.key],0===Object.keys(b.current).length&&(h.current=[],m.current=[],v())}}))}))):(h.current=f,f.map((function(e){return l(e,y)}))))})),p=function(){return Object(r.useContext)(u)};f.displayName="ExitingPersistence";t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(1),o=n.n(r),i=n(16),a=n(109),c=n(96),s=n(3),u=n(64);var l="#067384",d=function(e){return{fontFamily:Object(i.e)(),fontFamilyItalic:"SFMono-MediumItalic, ".concat(Object(i.e)()),backgroundColor:Object(u.a)({light:"var(--ds-background-neutral, ".concat(s.N20,")"),dark:"var(--ds-background-neutral, ".concat(s.DN50,")")})({theme:e}),textColor:Object(u.a)({light:"var(--ds-text, ".concat(s.N800,")"),dark:"var(--ds-text, ".concat(s.DN800,")")})({theme:e}),lineNumberColor:Object(u.a)({light:"var(--ds-text-subtlest, ".concat(s.N400,")"),dark:"var(--ds-text-subtlest, ".concat(s.DN400,")")})({theme:e}),lineNumberBgColor:Object(u.a)({light:"var(--ds-background-neutral, ".concat(s.N30,")"),dark:"var(--ds-background-neutral, ".concat(s.DN20,")")})({theme:e})}},f=(d({mode:"light"}),Object(c.a)((function(e){var t={theme:e};return{highlightedLineBgColor:Object(u.a)({light:"var(--ds-background-neutral, ".concat(s.N30,")"),dark:"var(--ds-background-neutral, ".concat("#3A434E",")")})(t),highlightedLineBorderColor:Object(u.a)({light:"var(--ds-border-focused, ".concat(s.B200,")"),dark:"var(--ds-border-focused, ".concat(s.B100,")")})(t),substringColor:Object(u.a)({light:"var(--ds-text-subtlest, ".concat(s.N400,")"),dark:"var(--ds-text-subtlest, ".concat(s.DN400,")")})(t),keywordColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),attributeColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),selectorTagColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),docTagColor:Object(u.a)({light:"var(--ds-text-accent-yellow, ".concat("#7A5D1A",")"),dark:"var(--ds-text-accent-yellow, ".concat(s.Y300,")")})(t),nameColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),builtInColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),literalColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),bulletColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),codeColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),regexpColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),symbolColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),variableColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),templateVariableColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),linkColor:Object(u.a)({light:"var(--ds-text-accent-purple, ".concat(s.P300,")"),dark:"var(--ds-text-accent-purple, ".concat(s.P75,")")})(t),selectorAttributeColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),selectorPseudoColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T200,")")})(t),typeColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),stringColor:Object(u.a)({light:"var(--ds-text-accent-green, ".concat(s.G500,")"),dark:"var(--ds-text-accent-green, ".concat(s.G200,")")})(t),selectorIdColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),selectorClassColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),quoteColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),templateTagColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),titleColor:Object(u.a)({light:"var(--ds-text-accent-purple, ".concat(s.P300,")"),dark:"var(--ds-text-accent-purple, ".concat(s.P75,")")})(t),sectionColor:Object(u.a)({light:"var(--ds-text-accent-purple, ".concat(s.P300,")"),dark:"var(--ds-text-accent-purple, ".concat(s.P75,")")})(t),commentColor:Object(u.a)({light:"var(--ds-text-subtlest, ".concat(s.N400,")"),dark:"var(--ds-text-subtlest, ".concat(s.DN400,")")})(t),metaKeywordColor:Object(u.a)({light:"var(--ds-text-accent-green, ".concat(s.G500,")"),dark:"var(--ds-text-accent-green, ".concat(s.G200,")")})(t),metaColor:Object(u.a)({light:"var(--ds-text-subtlest, ".concat(s.N400,")"),dark:"var(--ds-text-subtlest, ".concat(s.DN400,")")})(t),functionColor:Object(u.a)({light:"var(--ds-text, ".concat(s.N800,")"),dark:"var(--ds-text, ".concat(s.DN800,")")})(t),numberColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),prologColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),cdataColor:Object(u.a)({light:"var(--ds-text-subtlest, ".concat(s.N400,")"),dark:"var(--ds-text-subtlest, ".concat(s.B75,")")})(t),punctuationColor:Object(u.a)({light:"var(--ds-text, ".concat(s.N800,")"),dark:"var(--ds-text, ".concat(s.DN800,")")})(t),propertyColor:Object(u.a)({light:"var(--ds-text-accent-purple, ".concat(s.P300,")"),dark:"var(--ds-text-accent-purple, ".concat(s.P75,")")})(t),constantColor:Object(u.a)({light:"var(--ds-text-accent-teal, ".concat(l,")"),dark:"var(--ds-text-accent-teal, ".concat(s.T100,")")})(t),booleanColor:Object(u.a)({light:"var(--ds-text-accent-blue, ".concat(s.B400,")"),dark:"var(--ds-text-accent-blue, ".concat(s.B75,")")})(t),charColor:Object(u.a)({light:"var(--ds-text, ".concat(s.N800,")"),dark:"var(--ds-text, ".concat(s.DN800,")")})(t),insertedColor:Object(u.a)({light:"var(--ds-text-accent-green, ".concat(s.G500,")"),dark:"var(--ds-text-accent-green, ".concat(s.B75,")")})(t),deletedColor:Object(u.a)({light:"var(--ds-text-accent-red, ".concat(s.R500,")"),dark:"var(--ds-text-accent-red, ".concat(s.B75,")")})(t),operatorColor:Object(u.a)({light:"var(--ds-text, ".concat(s.N800,")"),dark:"var(--ds-text, ".concat(s.B75,")")})(t),atruleColor:Object(u.a)({light:"var(--ds-text-accent-green, ".concat(s.G500,")"),dark:"var(--ds-text-accent-green, ".concat(s.G200,")")})(t),importantColor:Object(u.a)({light:"var(--ds-text-accent-yellow, ".concat("#7A5D1A",")"),dark:"var(--ds-text-accent-yellow, ".concat(s.Y300,")")})(t)}})));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){return{minWidth:"calc(".concat(e.lineNumberWidth," + ").concat(a.d,"px) !important"),fontStyle:"normal !important",color:"".concat(e.lineNumberColor," !important"),flexShrink:0,boxSizing:"border-box",paddingRight:"".concat(a.e,"px !important"),paddingLeft:a.e,marginRight:a.e,textAlign:"right",userSelect:"none",display:"block"}},v=function(e){return{fontSize:a.a,fontFamily:e.fontFamily,fontWeight:"normal",backgroundColor:"var(".concat(a.f,",").concat(e.backgroundColor,")"),color:e.textColor,borderStyle:"none",borderRadius:"".concat(Object(i.d)(),"px")}},b=function(e){return function(t,n,r){return h(h(h({'code[class*="language-"], pre[class*="language-"], code':{all:"unset",padding:r?"".concat(a.e,"px 0"):a.e},display:"flex",lineHeight:a.b,overflowX:"auto",whiteSpace:"pre"},v(e)),function(e){return{".token":{"&:not([class=token],[data-ds--code--row--highlight])":{all:"unset"},"&.key,&.keyword":{color:e.keywordColor,fontWeight:"bolder"},"&.attr-name":{color:e.attributeColor},"&.selector":{color:e.selectorTagColor},"&.comment,&.block-comment":{color:e.commentColor,fontFamily:e.fontFamilyItalic,fontStyle:"italic"},"&.function-name":{color:e.sectionColor},"&.doctype":{color:e.docTagColor},"&.substr":{color:e.substringColor},"&.namespace":{color:e.nameColor},"&.builtin":{color:e.builtInColor},"&.entity":{color:e.literalColor},"&.bullet":{color:e.bulletColor},"&.code":{color:e.codeColor},"&.regex":{color:e.regexpColor},"&.symbol":{color:e.symbolColor},"&.variable":{color:e.variableColor},"&.url":{color:e.linkColor},"&.selector-attr":{color:e.selectorAttributeColor},"&.selector-pseudo":{color:e.selectorPseudoColor},"&.type":{color:e.typeColor},"&.quote":{color:e.quoteColor},"&.tag":{color:e.templateTagColor},"&.string":{color:e.stringColor},"&.class-name":{color:e.sectionColor},"&.title":{color:e.titleColor},"&.section":{color:e.sectionColor},"&.meta-keyword":{color:e.metaKeywordColor},"&.meta":{color:e.metaColor},"&.italic":{fontStyle:"italic"},"&.bold":{fontWeight:"bolder"},"&.function":{color:e.functionColor},"&.number":{color:e.numberColor},"&.attr-value":{color:e.attributeColor},"&.prolog":{color:e.prologColor},"&.cdata":{color:e.cdataColor},"&.punctuation":{color:e.punctuationColor},"&.property":{color:e.propertyColor},"&.constant":{color:e.constantColor},"&.deleted":{color:e.deletedColor},"&.boolean":{color:e.booleanColor},"&.char":{color:e.charColor},"&.inserted":{color:e.insertedColor},"&.operator":{color:e.operatorColor},"&.atrule":{color:e.atruleColor},"&.important":{color:e.importantColor,fontWeight:"bold"}}}}(e)),{},{"& .linenumber, .react-syntax-highlighter-line-number":m(e),"& .linenumber":{display:"inline-block !important"},"& [data-ds--code--row]":{display:"block",paddingRight:"".concat(a.e,"px !important"),marginRight:"-".concat(a.e,"px")},"& [data-ds--code--row--highlight]":{background:"".concat(e.highlightedLineBgColor),"&::before, &::after":{clipPath:"inset(100%)",clip:"rect(1px, 1px, 1px, 1px)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},"&::before":{content:'", '.concat(t,', "')},"&::after":{content:'", '.concat(n,', "')}},"& [data-ds--code--row--highlight] .linenumber":{borderLeft:"".concat(a.c," solid ").concat(e.highlightedLineBorderColor),paddingLeft:"".concat(a.e/2,"px !important"),position:"relative"},"& [data-ds--code--row--highlight] .linenumber::before":{content:'""',position:"absolute",width:a.c,top:"-1px",left:"-".concat(a.c),borderTop:"1px solid ".concat(e.highlightedLineBorderColor)},"[data-ds--code--row--highlight] + [data-ds--code--row]:not([data-ds--code--row--highlight]), [data-ds--code--row]:not([data-ds--code--row--highlight]) + [data-ds--code--row--highlight]":{borderTop:"1px dashed transparent"},"[data-ds--code--row--highlight]:last-child":{borderBottom:"1px dashed transparent"},"& code:first-of-type":{paddingRight:"0px !important",backgroundImage:r?"linear-gradient(to right, var(".concat(a.g,",").concat(e.lineNumberBgColor,"), var(").concat(a.g,",").concat(e.lineNumberBgColor,")\n    calc(").concat(e.lineNumberWidth," + ").concat(a.d,"px), transparent calc(").concat(e.lineNumberWidth," + ").concat(a.d,"px), transparent)"):void 0},"& code:last-of-type":{paddingRight:"".concat(a.e,"px !important"),flex:"1 0 auto"},"code > span:only-child:empty:before, code > span:only-child > span:only-child:empty:before":{content:'" "'}})}},g=function(e){var t="theme"in e?e.theme:e,n=d(t);return h(h({},v(n)),{},{display:"inline",fontSize:"0.875em",padding:"2px 0.5ch",whiteSpace:"pre-wrap",overflowWrap:"break-word",overflow:"auto",boxDecorationBreak:"clone"})},y=function(e,t){return h(h(h({},d(e)),f(e)),{},{lineNumberWidth:t?(n=t,n?"".concat(n.toFixed(0).length,"ch"):"1ch"):void 0});var n}},function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return E}));var r,o=n(7),i=n.n(o),a=n(2),c=n(41),s=n(73),u=n(749),l=n(3),d=n(64),f=n(16),p=n(33),h=n(192),m=24,v=16,b=8,g=48,y=140,O=1,w=8,k={TABLE_CONTAINER:"".concat(c.m,"-container"),TABLE_NODE_WRAPPER:"".concat(c.m,"-wrapper"),TABLE_LEFT_SHADOW:"".concat(c.m,"-with-left-shadow"),TABLE_RIGHT_SHADOW:"".concat(c.m,"-with-right-shadow"),TABLE_STICKY_SHADOW:"".concat(c.m,"-sticky-shadow"),TABLE_STICKY_WRAPPER:"".concat(c.m,"-sticky-wrapper"),TABLE_STICKY_SENTINEL_TOP:"".concat(c.m,"-sticky-sentinel-top"),TABLE_STICKY_SENTINEL_BOTTOM:"".concat(c.m,"-sticky-sentinel-bottom"),TABLE_CELL_NODEVIEW_CONTENT_DOM:c.h,TABLE_CELL_WRAPPER:c.j,TABLE_HEADER_CELL_WRAPPER:c.l},E=function(e){return Object(a.c)(r||(r=i()(["\n  ."," {\n    position: relative;\n    margin: 0 auto ","px;\n    box-sizing: border-box;\n\n    /**\n     * Fix block top alignment inside table cells.\n     */\n    .decisionItemView-content-wrap:first-of-type > div {\n      margin-top: 0;\n    }\n  }\n  .","[data-number-column='true'] {\n    padding-left: ","px;\n    clear: both;\n  }\n  ."," > table {\n    margin: ","px 0 0 0;\n  }\n\n  ."," > table,\n  ."," > table {\n    margin: ","px ","px 0 0;\n  }\n\n  /* avoid applying styles to nested tables (possible via extensions) */\n  ."," > table,\n  ."," > table,\n  ."," > table {\n    border-collapse: collapse;\n    border: ","px solid\n      ",";\n    table-layout: fixed;\n    font-size: 1em;\n    width: 100%;\n\n    &[data-autosize='true'] {\n      table-layout: auto;\n    }\n\n    & {\n      * {\n        box-sizing: border-box;\n      }\n      hr {\n        box-sizing: content-box;\n      }\n\n      tbody {\n        border-bottom: none;\n      }\n      th td {\n        background-color: ",";\n      }\n      th,\n      td {\n        min-width: ","px;\n        font-weight: normal;\n        vertical-align: top;\n        border: 1px solid\n          ",";\n        border-right-width: 0;\n        border-bottom-width: 0;\n        padding: ","px;\n        /* https://stackoverflow.com/questions/7517127/borders-not-shown-in-firefox-with-border-collapse-on-table-position-relative-o */\n        ","\n\n        ",";\n\n        > :first-child:not(style),\n        > style:first-child + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor.-right:first-of-type + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor:first-of-type + span + * {\n          margin-top: 0;\n        }\n\n        th p:not(:first-of-type),\n        td p:not(:first-of-type) {\n          margin-top: 12px;\n        }\n      }\n      th {\n        background-color: ",";\n        text-align: left;\n\n        /* only apply this styling to codeblocks in default background headercells */\n        /* TODO this needs to be overhauled as it relies on unsafe selectors */\n        &:not([style]) {\n          .code-block {\n            background-image: ",";\n            background-attachment: local, scroll, scroll;\n            background-position: 100% 0, 100% 0, 0 0;\n            background-color: ",";\n\n            .line-number-gutter {\n              background-color: ",";\n            }\n\n            /* this is only relevant to the element taken care of by renderer */\n            > [data-ds--code--code-block] {\n              background-image: ","!important;\n\n              background-color: ","!important;\n\n              // selector lives inside @atlaskit/code\n              --ds--code--line-number-bg-color: ",";\n            }\n          }\n        }\n      }\n    }\n  }\n"])),k.TABLE_CONTAINER,v,k.TABLE_CONTAINER,s.P-1,k.TABLE_NODE_WRAPPER,m,k.TABLE_CONTAINER,k.TABLE_STICKY_WRAPPER,m,b,k.TABLE_CONTAINER,k.TABLE_NODE_WRAPPER,k.TABLE_STICKY_WRAPPER,O,Object(d.a)({light:Object(p.a)("color.border",s.M),dark:Object(p.a)("color.border",s.N)})(e),Object(p.a)("color.background.neutral.subtle","white"),g,Object(d.a)({light:Object(p.a)("color.border",s.M),dark:Object(p.a)("color.border",s.N)})(e),w,h.a.gecko||h.a.ie||h.a.mac&&h.a.chrome?"background-clip: padding-box;":"",Object(d.a)({dark:s.bb})(e),Object(d.a)({light:Object(p.a)("color.background.neutral",s.Q),dark:Object(p.a)("color.background.neutral",s.R)})(e),Object(u.a)({background:Object(d.a)({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"})(e),width:"".concat(Object(f.i)(),"px")}),Object(d.a)({light:Object(p.a)("color.background.neutral","rgb(235, 237, 240)"),dark:Object(p.a)("color.background.neutral","rgb(36, 47, 66)")})(e),Object(d.a)({light:Object(p.a)("color.background.neutral","rgb(226, 229, 233)"),dark:Object(p.a)("color.background.neutral",l.DN20)})(e),Object(u.a)({background:Object(d.a)({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"})(e),width:"".concat(Object(f.i)(),"px")}),Object(d.a)({light:Object(p.a)("color.background.neutral","rgb(235, 237, 240)"),dark:Object(p.a)("color.background.neutral","rgb(36, 47, 66)")})(e),Object(d.a)({light:Object(p.a)("color.background.neutral","rgb(226, 229, 233)"),dark:Object(p.a)("color.background.neutral",l.DN20)})(e))},x=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"full-width":return"".concat(t?Math.min(t-(n?s.e:0),s.s):s.s,"px");case"wide":return"".concat(t?Math.min(t-(n?s.e:0),s.V):s.V,"px");default:return"inherit"}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}}},,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return g}));var r=n(21),o=n.n(r),i=n(0),a=n.n(i),c=n(66),s=n.n(c),u=function(e){return!!e.data},l=function(e){return e.isDefaultPrevented()&&(d()||f(e)||p(e))},d=function(){return window.parent!==parent},f=function(e){return e.metaKey||e.ctrlKey},p=function(e){return 1===e.button},h=function(e){if(e){var t=m[e.toLowerCase()];if(t){var n=o()(t,2),r=n[0],i=n[1];if(i){var c=s()({loader:function(){return i().then((function(e){return e.default}))},loading:function(){return null}});return a.a.createElement(c,{label:r})}}}},m={"text/plain":["Document",function(){return n.e(13).then(n.t.bind(null,497,7))}],"application/vnd.oasis.opendocument.text":["Document",function(){return n.e(13).then(n.t.bind(null,497,7))}],"application/vnd.apple.pages":["Document",function(){return n.e(13).then(n.t.bind(null,497,7))}],"application/vnd.google-apps.document":["Google Doc",function(){return n.e(17).then(n.t.bind(null,1126,7))}],"application/msword":["Word document",function(){return n.e(11).then(n.t.bind(null,767,7))}],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["Word document",function(){return n.e(11).then(n.t.bind(null,767,7))}],"application/pdf":["PDF document",function(){return n.e(21).then(n.t.bind(null,1127,7))}],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",function(){return n.e(28).then(n.t.bind(null,756,7))}],"application/vnd.apple.numbers":["Spreadsheet",function(){return n.e(28).then(n.t.bind(null,756,7))}],"application/vnd.google-apps.spreadsheet":["Google Sheet",function(){return n.e(19).then(n.t.bind(null,1128,7))}],"application/vnd.ms-excel":["Excel spreadsheet",function(){return n.e(9).then(n.t.bind(null,768,7))}],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["Excel spreadsheet",function(){return n.e(9).then(n.t.bind(null,768,7))}],"application/vnd.oasis.opendocument.presentation":["Presentation",function(){return n.e(27).then(n.t.bind(null,757,7))}],"application/vnd.apple.keynote":["Presentation",function(){return n.e(27).then(n.t.bind(null,757,7))}],"application/vnd.google-apps.presentation":["Google Slide",function(){return n.e(20).then(n.t.bind(null,1129,7))}],"application/vnd.ms-powerpoint":["PowerPoint presentation",function(){return n.e(10).then(n.t.bind(null,769,7))}],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["PowerPoint presentation",function(){return n.e(10).then(n.t.bind(null,769,7))}],"application/vnd.google-apps.form":["Google Form",function(){return n.e(18).then(n.t.bind(null,1130,7))}],"image/png":["Image",function(){return n.e(3).then(n.t.bind(null,338,7))}],"image/jpeg":["Image",function(){return n.e(3).then(n.t.bind(null,338,7))}],"image/bmp":["Image",function(){return n.e(3).then(n.t.bind(null,338,7))}],"image/webp":["Image",function(){return n.e(3).then(n.t.bind(null,338,7))}],"image/svg+xml":["Image",function(){return n.e(3).then(n.t.bind(null,338,7))}],"image/gif":["GIF",function(){return n.e(16).then(n.t.bind(null,1131,7))}],"audio/midi":["Audio",function(){return n.e(2).then(n.t.bind(null,339,7))}],"audio/mpeg":["Audio",function(){return n.e(2).then(n.t.bind(null,339,7))}],"audio/webm":["Audio",function(){return n.e(2).then(n.t.bind(null,339,7))}],"audio/ogg":["Audio",function(){return n.e(2).then(n.t.bind(null,339,7))}],"audio/wav":["Audio",function(){return n.e(2).then(n.t.bind(null,339,7))}],"video/mp4":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/quicktime":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/mov":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/webm":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/ogg":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/x-ms-wmv":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"video/x-msvideo":["Video",function(){return n.e(0).then(n.t.bind(null,264,7))}],"application/zip":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/x-tar":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/x-gtar":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/x-7z-compressed":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/x-apple-diskimage":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/vnd.rar":["Archive",function(){return n.e(1).then(n.t.bind(null,309,7))}],"application/dmg":["Executable",function(){return n.e(14).then(n.t.bind(null,1132,7))}],"text/css":["Source Code",function(){return n.e(7).then(n.t.bind(null,542,7))}],"text/html":["Source Code",function(){return n.e(7).then(n.t.bind(null,542,7))}],"application/javascript":["Source Code",function(){return n.e(7).then(n.t.bind(null,542,7))}],"application/octet-stream":["Binary file",function(){return n.e(26).then(n.t.bind(null,752,7))}],"application/invision.prototype":["Prototype",function(){return n.e(26).then(n.t.bind(null,752,7))}],"application/sketch":["Sketch",function(){return n.e(22).then(n.t.bind(null,1133,7))}],folder:["Folder",function(){return n.e(15).then(n.t.bind(null,1134,7))}]},v=function(e){return e?void 0:"allow-downloads allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"},b=function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}},g=function(){return"undefined"!=typeof IntersectionObserver}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(1051),o=n(1052),i=n(1053);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=c(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|p(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?c(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=c(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,c=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,c/=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<c;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+s>c&&(n=c-s),i=n;i>=0;i--){for(var d=!0,f=0;f<s;f++)if(u(e,i+f)!==u(t,f)){d=!1;break}if(d)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;e[n+a]=c}return a}function O(e,t,n,r){return H(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return H(U(t),e,n,r)}function x(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,c,s,u=e[o],l=null,d=u>239?4:u>223?3:u>191?2:1;if(o+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(s=(31&u)<<6|63&i)>127&&(l=s);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(s=(15&u)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:i=e[o+1],a=e[o+2],c=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&c)&&(s=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&c)>65535&&s<1114112&&(l=s)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return u(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?c(e,t):void 0!==n?"string"==typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return d(null,e)},s.allocUnsafeSlow=function(e){return d(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,o){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),c=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),d=0;d<c;++d)if(u[d]!==l[d]){i=u[d],a=l[d];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function _(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;n=new s(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,c=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===c&&0!==this[t+i-1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,c=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===c&&0!==this[t+i+1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:z(new s(e,r).toString()),c=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(226))},function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return j}));var r,o,i,a,c,s,u,l,d,f=n(7),p=n.n(f),h=n(48),m="\n  & > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    line-height: 14px;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",v="\n  & > * > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",b=h.a.span(r||(r=p()(["\n  user-select: none;\n  ","\n  ","\n"])),v,m),g=h.a.span(o||(o=p()(["\n  display: inline-block;\n  margin-right: 2px;\n  user-select: none;\n  ","\n  ","\n"])),v,m),y=h.a.span(i||(i=p()(["\n  white-space: pre-wrap;\n  word-break: break-all;\n"]))),O=h.a.span(a||(a=p()(["\n  display: inline-block;\n  vertical-align: 1px;\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),w=h.a.span(c||(c=p()(["\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),k=h.a.span(s||(s=p()(["\n  margin-left: 2px;\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"]))),E=h.a.span(u||(u=p()(["\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"]))),x=h.a.span(l||(l=p()(["\n  width: 14px;\n  height: 100%;\n  display: inline-block;\n  opacity: 0;\n"]))),S="smart-link-title-wrapper",j=h.a.span(d||(d=p()([""])))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,o=n(0),i=n.n(o),a=n(280),c=n(7),s=n.n(c),u=n(48),l=n(3),d=n(16),f=n(64),p=n(33),h=n(502),m="\n  cursor: pointer;\n  box-shadow: 0 0 0 2px ".concat(Object(p.a)("color.border.selected",l.B100),";\n  outline: none;\n  user-select: none;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n"),v=u.a.a(r||(r=s()(["\n  line-height: 16px;\n  padding: 1px 0.24em 2px 0.24em;\n  ","\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ","px;\n  color: ",";\n  background-color: ",";\n  ","\n  ","\n  ",";\n  ","\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n\n  &:hover span."," {\n    text-decoration: ",";\n  }\n"])),(function(e){return e.withoutBackground?"padding-left: 0; margin-left:-2px;":""}),Object(d.d)(),Object(f.a)({light:Object(p.a)("color.link",l.B400),dark:Object(p.a)("color.link","#4794FF")}),(function(e){return e.withoutBackground?"":Object(f.a)({light:Object(p.a)("elevation.surface.raised","white"),dark:Object(p.a)("elevation.surface.raised","#262B31")})}),(function(e){return e.withoutBackground?"":Object(f.a)({light:"box-shadow: ".concat(Object(p.a)("elevation.shadow.raised","0 1px 1px ".concat(l.N50A,", 0 0 1px 1px ").concat(l.N40A)),";"),dark:"box-shadow: ".concat(Object(p.a)("elevation.shadow.raised","0 1px 1px ".concat(l.DN50A,", 0 0 1px 1px ").concat(l.DN40A)),";")})}),(function(e){return t=e.isInteractive,t?"\n      cursor: pointer;\n      :hover {\n        background-color: ".concat(Object(f.a)({light:Object(p.a)("color.background.neutral.subtle.hovered",l.N20),dark:Object(p.a)("color.background.neutral.subtle.hovered","#262B31")}),";\n        text-decoration: none;\n      }\n      :active {\n        background-color: ").concat(Object(f.a)({light:Object(p.a)("color.background.selected",l.B50),dark:Object(p.a)("color.background.selected","#262B31")}),";\n        text-decoration: none;\n      }\n      :focus {\n        ").concat(m,"\n        text-decoration: none;\n      }\n    "):"";var t}),(function(e){return t=e.isSelected,t?m:"user-select: text";var t}),(function(e){return t=e.withoutHover,t?"\n    &:hover {\n      text-decoration: none;\n    }\n  ":"";var t}),h.j,(function(e){return e.withoutHover?"none":"underline"})),b=function(e){var t=e.isSelected,n=e.children,r=e.onClick,c=e.link,s=e.withoutBackground,u=e.withoutHover,l=e.testId,d=e.className,f=Object(o.useCallback)((function(e){r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[r]),p=Object(o.useCallback)((function(e){" "!==e.key&&"Enter"!==e.key||r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[r]),h=Boolean(r);return i.a.createElement(v,{theme:Object(a.b)(),href:c,withoutBackground:s,withoutHover:u,isSelected:t,isInteractive:h,tabIndex:h?0:void 0,role:h?"button":void 0,onClick:f,onKeyPress:p,"data-testid":l,className:d},n)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r="ArrowUp",o="ArrowDown",i="Home",a="End",c="Escape"},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),o=n.n(r),i=n(0),a=n(238),c=n(187);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){var t=e.fn,n=e.action,r=e.componentName,u=e.actionSubject,l=e.packageName,d=e.packageVersion,f=e.analyticsData,p=Object(a.a)().createAnalyticsEvent,h=Object(c.a)(f),m=Object(c.a)(t);return Object(i.useCallback)((function(e){var t=p({action:n,actionSubject:u||r,attributes:{componentName:r,packageName:l,packageVersion:d}}),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({componentName:r,packageName:l,packageVersion:d},h.current);t.context.push(i);var a=t.clone();a&&a.fire("atlaskit"),m.current(e,t)}),[n,r,u,l,d,p,h,m])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 01-1-1V9a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));a.displayName="WarningIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e){return{image:e,isLoaded:!1,isErrored:!1}}function c(e,t){return e.src!==t.src}var s=function(e){function t(){var e,n,r;o(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={isLoaded:!1,isErrored:!1},r.handleLoad=function(){var e=r.props.onLoad;r.unload(),r.setState({isLoaded:!0},(function(){e&&e()}))},r.handleError=function(){var e=r.props.onError;r.unload(),r.setState({isErrored:!0},(function(){e&&e()}))},i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"load",value:function(){var e=this.props.src,t=this.state.image;t&&(t.onload=this.handleLoad,t.onerror=this.handleError,t.src=e)}},{key:"unload",value:function(){var e=this.state.image;e&&(e.onload=void 0,e.onerror=void 0)}},{key:"componentWillMount",value:function(){"undefined"!=typeof window&&this.setState(a(new Image))}},{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(e){c(this.props,e)&&this.setState(a(new Image))}},{key:"componentDidUpdate",value:function(e){c(e,this.props)&&(this.unload(),this.load())}},{key:"componentWillUnmount",value:function(){this.unload()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.loaded,r=e.errored,o=e.children,i=this.state,a=i.image,c=i.isLoaded,s=i.isErrored;return c&&n?n:s&&r?r:c||s||!t?o?o({image:c?a:void 0,loaded:c,errored:s}):null:t}}]),t}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)).Component);t.default=s},function(e,t,n){var r=n(272),o=n(250);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(854),o=n(250),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994zM4.667 3C3.747 3 3 3.746 3 4.667v6.666C3 12.253 3.746 13 4.667 13h6.666c.92 0 1.667-.746 1.667-1.667V4.667C13 3.747 12.254 3 11.333 3H4.667zM5 5v6h6V5H5z"/></svg>'},e,{size:"small"}));a.displayName="Task16Icon";var c=a;t.default=c},function(e,t){function n(e){this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap={}}n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e.newer&&(e===this.oldest&&(this.oldest=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.newest,this.newest&&(this.newest.newer=e),this.newest=e)},n.prototype.put=function(e,t){var n=this._keymap[e];return n?(n.value=t,void this._markEntryAsUsed(n)):(this._keymap[e]=n={key:e,value:t,older:void 0,newer:void 0},this.newest?(this.newest.newer=n,n.older=this.newest):this.oldest=n,this.newest=n,this.size++,this.size>this.limit?this.shift():void 0)},n.prototype.shift=function(){var e=this.oldest;return e&&(this.oldest.newer?(this.oldest=this.oldest.newer,this.oldest.older=void 0):(this.oldest=void 0,this.newest=void 0),e.newer=e.older=void 0,delete this._keymap[e.key],this.size--),e},n.prototype.get=function(e,t){var n=this._keymap[e];if(void 0!==n)return this._markEntryAsUsed(n),t?n:n.value},n.prototype.find=function(e){return this._keymap[e]},n.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},n.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.oldest=t.newer):t.older?(t.older.newer=void 0,this.newest=t.older):this.oldest=this.newest=void 0,this.size--,t.value},n.prototype.removeAll=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?n.prototype.keys=function(){return Object.keys(this._keymap)}:n.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},n.prototype.forEach=function(e,t,n){var r;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(r=this.newest;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.oldest;r;)e.call(t,r.key,r.value,this),r=r.newer},n.prototype.toJSON=function(){for(var e=new Array(this.size),t=0,n=this.oldest;n;)e[t++]={key:n.key,value:n.value},n=n.newer;return e},n.prototype.toString=function(){for(var e="",t=this.oldest;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=n)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(1),l=n.n(u),d=n(10),f=n.n(d),p=n(428);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={poll_intervalMs:3e3,poll_maxAttempts:30,poll_backoffFactor:1.25,poll_maxIntervalMs:2e5},b=function(){function e(t){a()(this,e),l()(this,"poll_intervalMs",0),l()(this,"attempt",1),l()(this,"shouldIterate",!0),l()(this,"timeoutId",0),this.options=m(m({},v),t),this.poll_intervalMs=this.options.poll_intervalMs}var t;return s()(e,[{key:"execute",value:(t=o()(f.a.mark((function e(t){var n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=this.options.poll_maxAttempts)){e.next=3;break}return e.abrupt("return",this.fail(new p.a("pollingMaxAttemptsExceeded",this.attempt)));case 3:return e.prev=3,this.shouldIterate=!1,e.next=7,t();case 7:if(this.shouldIterate){e.next=9;break}return e.abrupt("return");case 9:if(!(this.attempt>=n)){e.next=11;break}return e.abrupt("return",this.fail(new p.a("pollingMaxAttemptsExceeded",this.attempt)));case 11:this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((function(){return r.execute(t)}),this.poll_intervalMs),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.fail(e.t0);case 19:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(e){return t.apply(this,arguments)})},{key:"fail",value:function(e){var t=this.onError;this.cancel(),t&&t(e)}},{key:"getIntervalMsForIteration",value:function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}},{key:"next",value:function(){this.shouldIterate=!0}},{key:"cancel",value:function(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),o=function(e){var t,n,o,i,a;switch(e){case"brand":t=r.B400,n=r.B200,o=r.B200,i="var(--ds-text, ".concat(r.N800,")"),a=r.B400;break;case"neutral":t=r.N600,n=r.N100,o=r.N100,i=r.N400,a=r.N400;break;case"inverse":t=r.N50,n=r.N0,o=r.N0,i="var(--ds-text-inverse, ".concat(r.N0,")"),a="var(--ds-text-inverse, ".concat(r.N0,")")}return{iconGradientStart:t,iconGradientStop:n,iconColor:o,textColor:i,atlassianLogoTextColor:a}}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(1),a=n.n(i),c=n(34),s=n.n(c),u=n(21),l=n.n(u),d=n(12),f=n(233),p=["label","svg","size","appearance","iconGradientStart","iconGradientStop","iconColor","textColor","testId"],h=Object(d.c)({display:"inline-block",position:"relative",color:"var(".concat("--logo-color",")"),fill:"var(".concat("--logo-fill",")"),userSelect:"none","> svg":{height:"100%",fill:"inherit"}}),m=Object(d.c)({stop:{stopColor:"currentColor"}}),v=Object.entries(f.b).reduce((function(e,t){var n=l()(t,2),r=n[0],o=n[1];return e[r]=Object(d.c)({height:"".concat(o,"px")}),e}),{});t.a=function(e){var t,n=e.label,r=e.svg,i=e.size,c=e.appearance,u=e.iconGradientStart,l=e.iconGradientStop,f=e.iconColor,b=e.textColor,g=e.testId,y=s()(e,p),O="inherit"===u&&"inherit"===l&&void 0===c,w=g&&"".concat(g,"--wrapper");return Object(d.d)("span",o()({css:[h,O&&m,i&&v[i]],"data-testid":w,style:(t={},a()(t,"--logo-color",f),a()(t,"--logo-fill",b),t),"aria-label":n||void 0,role:n?"img":"presentation",dangerouslySetInnerHTML:{__html:r}},y))}},function(e,t,n){"use strict";var r=n(21),o=n.n(r),i=n(0),a=n.n(i),c=n(12),s=n(387),u=n(1193),l=n(1218),d=n(16),f=n(22),p=n.n(f),h=n(1194),m=n(3),v=function(e){var t=e.children,n=e.update,r=Object(i.useRef)(!0);return Object(i.useLayoutEffect)((function(){r.current?r.current=!1:n()}),[n]),a.a.createElement(i.Fragment,null,t)},b=n(155);function g(){}var y=n(523),O=n.n(y),w=function(){},k=Object(c.c)({display:"block",boxSizing:"border-box",zIndex:d.j.layer(),flex:"1 1 auto",backgroundColor:"var(--ds-surface-overlay, ".concat(m.N0,")"),borderRadius:"".concat(Object(d.d)(),"px"),boxShadow:"var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(m.N50A,", 0 0 1px ").concat(m.N60A),")"),overflow:"auto",":focus":{outline:"none"}}),E=Object(i.forwardRef)((function(e,t){return Object(c.d)("div",p()({css:k,ref:t},e))}));var x=function(e){var t=e.isOpen,n=e.id,r=e.offset,a=e.testId,s=e.content,u=e.fallbackPlacements,l=e.onClose,d=e.boundary,f=e.rootBoundary,p=e.shouldFlip,m=e.placement,y=void 0===m?"auto":m,k=e.popupComponent,x=void 0===k?E:k,S=e.autoFocus,j=void 0===S||S,C=e.triggerRef,T=e.shouldUseCaptureOnOutsideClick,_=Object(i.useState)(null),A=o()(_,2),P=A[0],I=A[1],M=Object(i.useState)(null),R=o()(M,2),N=R[0],D=R[1];!function(e){var t=e.popupRef,n=e.initialFocusRef;Object(i.useEffect)((function(){if(!t)return w;var e={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:n||t,fallbackFocus:t,returnFocusOnDeactivate:!0},r=O()(t,e),o=requestAnimationFrame((function(){o=null,r.activate()}));return function(){null!=o&&(cancelAnimationFrame(o),o=null),r.deactivate()}}),[t,n])}({initialFocusRef:N,popupRef:P}),function(e){var t=e.isOpen,n=e.onClose,r=e.popupRef,o=e.triggerRef,a=e.shouldUseCaptureOnOutsideClick;Object(i.useEffect)((function(){if(!t||!r)return g;var e=function(){n&&n()};return Object(b.bindAll)(window,[{type:"click",listener:function(t){var n=t.target;if(document.body.contains(n)){var i=r&&r.contains(n),a=o&&o.contains(n);i||a||e()}},options:{capture:a}},{type:"keydown",listener:function(t){var n=t.key;"Escape"!==n&&"Esc"!==n||e()}}])}),[t,n,r,o,a])}({isOpen:t,onClose:l,popupRef:P,triggerRef:C,shouldUseCaptureOnOutsideClick:T});var L=Object(i.useMemo)((function(){return[{name:"flip",enabled:p,options:{rootBoundary:f,boundary:d,fallbackPlacements:u}}]}),[p,f,d,u]);return Object(c.d)(h.a,{placement:y,offset:r,modifiers:L},(function(e){var r=e.ref,o=e.style,i=e.placement,u=e.update;return Object(c.d)(x,{id:n,"data-placement":i,"data-testid":a,ref:function(e){e&&("function"==typeof r?r(e):r.current=e,I(e))},style:o,tabIndex:j?0:void 0},Object(c.d)(v,{update:u},s({update:u,isOpen:t,onClose:l,setInitialFocusRef:D})))}))},S=d.j.layer(),j=Object(i.memo)((function(e){var t=e.isOpen,n=e.id,r=e.offset,a=e.testId,d=e.trigger,f=e.content,p=e.onClose,h=e.boundary,m=e.rootBoundary,v=void 0===m?"viewport":m,b=e.shouldFlip,g=void 0===b||b,y=e.placement,O=void 0===y?"auto":y,w=e.fallbackPlacements,k=e.popupComponent,E=e.autoFocus,j=void 0===E||E,C=e.zIndex,T=void 0===C?S:C,_=e.shouldUseCaptureOnOutsideClick,A=void 0!==_&&_,P=Object(i.useState)(null),I=o()(P,2),M=I[0],R=I[1];return Object(c.d)(s.a,null,Object(c.d)(u.a,null,(function(e){var r=e.ref;return d({ref:function(e){e&&t&&("function"==typeof r?r(e):r.current=e,R(e))},"aria-controls":n,"aria-expanded":t,"aria-haspopup":!0})})),t&&Object(c.d)(l.a,{zIndex:T},Object(c.d)(x,{content:f,isOpen:t,placement:O,fallbackPlacements:w,boundary:h,rootBoundary:v,shouldFlip:g,offset:r,popupComponent:k,id:n,testId:a,onClose:p,autoFocus:j,shouldUseCaptureOnOutsideClick:A,triggerRef:M})))}));t.a=j},,,,function(e,t,n){"use strict";var r=n(20),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(5),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(1),g=n.n(b),y=n(0),O=n.n(y),w=n(59),k=n.n(w),E=n(147);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var S={getAtlaskitAnalyticsContext:k.a.func,getAtlaskitAnalyticsEventHandlers:k.a.func},j=function(){return[]},C=function(e){f()(n,e);var t=x(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(l()(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),g()(l()(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext,n=void 0===t?j:t;return[].concat(o()(n()),[e])})),g()(l()(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?j:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return s()(n,[{key:"render",value:function(){var e=this.props.children;return O.a.createElement(E.a.Provider,{value:this.contextValue},e)}}]),n}(y.Component);g()(C,"contextTypes",S),g()(C,"childContextTypes",S),t.a=C},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="mediaCtx"},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(900),o=null;function i(e){e&&e.focus&&e!==document.activeElement&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}e.exports=function(e,t){var n=[],a=null,c=null,s=null,u=!1,l=!1,d=null,f="string"==typeof e?document.querySelector(e):e,p=t||{};p.returnFocusOnDeactivate=!t||void 0===t.returnFocusOnDeactivate||t.returnFocusOnDeactivate,p.escapeDeactivates=!t||void 0===t.escapeDeactivates||t.escapeDeactivates;var h={activate:function(e){if(u)return;var t={onActivate:e&&void 0!==e.onActivate?e.onActivate:p.onActivate};u=!0,l=!1,s=document.activeElement,t.onActivate&&t.onActivate();return v(),h},deactivate:m,pause:function(){if(l||!u)return;l=!0,b()},unpause:function(){if(!l||!u)return;l=!1,v()}};return h;function m(e){if(u){var t={returnFocus:e&&void 0!==e.returnFocus?e.returnFocus:p.returnFocusOnDeactivate,onDeactivate:e&&void 0!==e.onDeactivate?e.onDeactivate:p.onDeactivate};return b(),t.onDeactivate&&t.onDeactivate(),t.returnFocus&&setTimeout((function(){i(s)}),0),u=!1,l=!1,this}}function v(){if(u)return o&&o.pause(),o=h,E(),setTimeout((function(){i(function(){var e;e=null!==g("initialFocus")?g("initialFocus"):f.contains(document.activeElement)?document.activeElement:n[0]||g("fallbackFocus");if(!e)throw new Error("You can't have a focus-trap without at least one focusable element");return e}())}),0),document.addEventListener("focus",w,!0),document.addEventListener("click",O,!0),document.addEventListener("mousedown",y,!0),document.addEventListener("touchstart",y,!0),document.addEventListener("keydown",k,!0),h}function b(){if(u&&o===h)return document.removeEventListener("focus",w,!0),document.removeEventListener("click",O,!0),document.removeEventListener("mousedown",y,!0),document.removeEventListener("touchstart",y,!0),document.removeEventListener("keydown",k,!0),o=null,h}function g(e){var t=p[e],n=t;if(!t)return null;if("string"==typeof t&&!(n=document.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(n=t()))throw new Error("`"+e+"` did not return a node");return n}function y(e){p.clickOutsideDeactivates&&!f.contains(e.target)&&m({returnFocus:!1})}function O(e){p.clickOutsideDeactivates||f.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function w(e){f.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),"function"==typeof e.target.blur&&e.target.blur(),d&&function(e){if(e.shiftKey)return i(c);i(a)}(d))}function k(e){"Tab"!==e.key&&9!==e.keyCode||function(e){if(E(),e.target.hasAttribute("tabindex")&&Number(e.target.getAttribute("tabindex"))<0)return d=e;e.preventDefault();var t=n.indexOf(e.target);if(e.shiftKey)return e.target===a||-1===n.indexOf(e.target)?i(c):i(n[t-1]);if(e.target===c)return i(a);i(n[t+1])}(e),!1!==p.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&m()}function E(){n=r(f),a=n[0],c=n[n.length-1]}}},function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,o="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var c,s,u,l;if(Array.isArray(t)){if((c=t.length)!=a.length)return!1;for(s=c;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(r&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!a.has(s.value[0]))return!1;for(l=t.entries();!(s=l.next()).done;)if(!e(s.value[1],a.get(s.value[0])))return!1;return!0}if(o&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(l=t.entries();!(s=l.next()).done;)if(!a.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((c=t.length)!=a.length)return!1;for(s=c;0!=s--;)if(t[s]!==a[s])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((c=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(s=c;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,u[s]))return!1;if(n&&t instanceof Element)return!1;for(s=c;0!=s--;)if(("_owner"!==u[s]&&"__v"!==u[s]&&"__o"!==u[s]||!t.$$typeof)&&!e(t[u[s]],a[u[s]]))return!1;return!0}return t!=t&&a!=a}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n(12),c=n(16);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Object(a.c)({zindex:"var(".concat("tooltipPrimitiveZindex",")"),cursor:"default"}),d=Object(i.forwardRef)((function(e,t){var n=e.style,r=e.className,i=e.children,s=e.placement,d=e.testId,f=e.onMouseOut,p=e.onMouseOver,h=e.id,m=u(u({},n),{},o()({},"tooltipPrimitiveZindex",c.j.tooltip()));return Object(a.d)("div",{ref:t,style:m,"data-testid":"".concat(d,"--wrapper")},Object(a.d)("div",{role:"tooltip",className:r,onMouseOut:f,onMouseOver:p,css:l,"data-placement":s,"data-testid":d,id:h},i))}));d.displayName="TooltipPrimitive",t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.823 15.883a5.5 5.5 0 111.06-1.06l2.647 2.647c.293.293.53.59 0 1.06-.53.47-.767.293-1.06 0l-2.647-2.647zM11.5 15.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor"/></svg>'},e));a.displayName="EditorSearchIcon";var c=a;t.default=c},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var c,s=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(f[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function b(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(d,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function y(e){return v(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function k(e){var t,n,r,o,i,a,c,u,l,d,f,h=[],v=e.length,b=0,g=128,O=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=b,a=1,c=36;o>=v&&m("invalid-input"),((u=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||u>p((s-b)/a))&&m("overflow"),b+=u*a,!(u<(l=c<=O?1:c>=O+26?26:c-O));c+=36)a>p(s/(d=36-l))&&m("overflow"),a*=d;O=w(b-i,t=h.length+1,0==i),p(b/t)>s-g&&m("overflow"),g+=p(b/t),b%=t,h.splice(b++,0,g)}return y(h)}function E(e){var t,n,r,o,i,a,c,u,l,d,f,v,b,y,k,E=[];for(v=(e=g(e)).length,t=128,n=0,i=72,a=0;a<v;++a)(f=e[a])<128&&E.push(h(f));for(r=o=E.length,o&&E.push("-");r<v;){for(c=s,a=0;a<v;++a)(f=e[a])>=t&&f<c&&(c=f);for(c-t>p((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<v;++a)if((f=e[a])<t&&++n>s&&m("overflow"),f==t){for(u=n,l=36;!(u<(d=l<=i?1:l>=i+26?26:l-i));l+=36)k=u-d,y=36-d,E.push(h(O(d+k%y,0))),u=p(k/y);E.push(h(O(u,0))),i=w(n,b,r==o),n=0,++r}++n,++t}return E.join("")}c={version:"1.4.1",ucs2:{decode:g,encode:y},decode:k,encode:E,toASCII:function(e){return b(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return b(e,(function(e){return u.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(358)(e),n(226))},function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(5),o=n(1),i=o.toHex,a=o.ceilHeapSize,c=n(6),s=function(e){for(e+=9;e%64>0;e+=1);return e},u=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),o=new DataView(r.buffer);return o.setInt32(0,n[0],!1),o.setInt32(4,n[1],!1),o.setInt32(8,n[2],!1),o.setInt32(12,n[3],!1),o.setInt32(16,n[4],!1),r},l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=t,this._padMaxChunkLen=s(t),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new r({Int32Array:Int32Array},{},this._heap)}return e.prototype._initState=function(e,t){this._offset=0;var n=new Int32Array(e,t+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},e.prototype._padChunk=function(e,t){var n=s(e),r=new Int32Array(this._heap,0,n>>2);return function(e,t){var n=new Uint8Array(e.buffer),r=t%4,o=t-r;switch(r){case 0:n[o+3]=0;case 1:n[o+2]=0;case 2:n[o+1]=0;case 3:n[o+0]=0}for(var i=1+(t>>2);i<e.length;i++)e[i]=0}(r,e),function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/(1<<29)|0,e[15+(2+(t>>2)&-16)]=n<<3}(r,e,t),n},e.prototype._write=function(e,t,n,r){c(e,this._h8,this._h32,t,n,r||0)},e.prototype._coreCall=function(e,t,n,r,o){var i=n;this._write(e,t,n),o&&(i=this._padChunk(n,r)),this._core.hash(i,this._padMaxChunkLen)},e.prototype.rawDigest=function(e){var t=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;t>n+r;n+=r)this._coreCall(e,n,r,t,!1);return this._coreCall(e,n,t-n,t,!0),u(this._heap,this._padMaxChunkLen)},e.prototype.digest=function(e){return i(this.rawDigest(e).buffer)},e.prototype.digestFromString=function(e){return this.digest(e)},e.prototype.digestFromBuffer=function(e){return this.digest(e)},e.prototype.digestFromArrayBuffer=function(e){return this.digest(e)},e.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},e.prototype.append=function(e){var t=0,n=e.byteLength||e.length||e.size||0,r=this._offset%this._maxChunkLen,o=void 0;for(this._offset+=n;t<n;)o=Math.min(n-t,this._maxChunkLen-r),this._write(e,t,o,r),t+=o,(r+=o)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),r=0);return this},e.prototype.getState=function(){var e=void 0;if(this._offset%this._maxChunkLen)e=this._heap.slice(0);else{var t=new Int32Array(this._heap,this._padMaxChunkLen+320,5);e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}return{offset:this._offset,heap:e}},e.prototype.setState=function(e){return this._offset=e.offset,20===e.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(e.heap)):this._h32.set(new Int32Array(e.heap)),this},e.prototype.rawEnd=function(){var e=this._offset,t=e%this._maxChunkLen,n=this._padChunk(t,e);this._core.hash(n,this._padMaxChunkLen);var r=u(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),r},e.prototype.end=function(){return i(this.rawEnd().buffer)},e}();e.exports=l,e.exports._core=r},function(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);e.exports.toHex=function(e){for(var t=new Uint8Array(e),r=new Array(e.byteLength),o=0;o<r.length;o++)r[o]=n[t[o]];return r.join("")},e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t},e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,n="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!n&&!r}},function(e,t,n){e.exports=function(){var e=n(0),t=function(e,n,r,o,i){var a=new self.FileReader;a.onloadend=function(){if(a.error)return i(a.error);var c=a.result;n+=a.result.byteLength;try{e.append(c)}catch(e){return void i(e)}n<o.size?t(e,n,r,o,i):i(null,e.end())},a.readAsArrayBuffer(o.slice(n,n+r))},r=!0;return self.onmessage=function(n){if(r){var o=n.data.data,i=n.data.file,a=n.data.id;if(void 0!==a&&(i||o)){var c=n.data.blockSize||4194304,s=new e(c);s.resetState();var u=function(e,t){e?self.postMessage({id:a,error:e.name}):self.postMessage({id:a,hash:t})};o&&function(e,t,n){try{n(null,e.digest(t))}catch(e){return n(e)}}(s,o,u),i&&t(s,0,c,i,u)}}},function(){r=!1}}},function(e,t,n){var r=n(4),o=n(0),i=n(7),a=n(2),c=n(1).isDedicatedWorkerScope,s="undefined"!=typeof self&&c(self);o.disableWorkerBehaviour=s?a():function(){},o.createWorker=function(){var e=r(2),t=e.terminate;return e.terminate=function(){URL.revokeObjectURL(e.objectURL),t.call(e)},e},o.createHash=i,e.exports=o},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(e,t,r){var i={};i[r]=[];var a=t.toString(),c=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return i;for(var s,u=c[1],l=new RegExp("(\\\\n|\\W)"+o(u)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");s=l.exec(a);)"dll-reference"!==s[3]&&i[r].push(s[3]);for(l=new RegExp("\\("+o(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");s=l.exec(a);)e[s[2]]||(i[r].push(s[1]),e[s[2]]=n(s[1]).m),i[s[2]]=i[s[2]]||[],i[s[2]].push(s[4]);return i}function a(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var o={main:n.m},c=t.all?{main:Object.keys(o)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};a(n);)for(var c=Object.keys(n),s=0;s<c.length;s++){var u=c[s],l=n[u].pop();if(o[u]=o[u]||{},!o[u][l]&&e[u][l]){o[u][l]=!0,r[u]=r[u]||[],r[u].push(l);for(var d=i(e,e[u][l],u),f=Object.keys(d),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(d[f[p]])}}return r}(o,e),s="";Object.keys(c).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;c[e][t];)t++;c[e].push(t),o[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+c[e].map((function(t){return JSON.stringify(t)+": "+o[e][t].toString()})).join(",")+"});\n"})),s=s+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+c.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"})(self);";var u=new window.Blob([s],{type:"text/javascript"});if(t.bare)return u;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(l);return d.objectURL=l,d}},function(e,t){e.exports=function(e,t,n){"use asm";var r=new e.Int32Array(n);function o(e,t){e=e|0;t=t|0;var n=0,o=0,i=0,a=0,c=0,s=0,u=0,l=0,d=0,f=0,p=0,h=0,m=0,v=0;i=r[t+320>>2]|0;c=r[t+324>>2]|0;u=r[t+328>>2]|0;d=r[t+332>>2]|0;p=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){a=i;s=c;l=u;f=d;h=p;for(o=0;(o|0)<64;o=o+4|0){v=r[n+o>>2]|0;m=((i<<5|i>>>27)+(c&u|~c&d)|0)+((v+p|0)+1518500249|0)|0;p=d;d=u;u=c<<30|c>>>2;c=i;i=m;r[e+o>>2]=v}for(o=e+64|0;(o|0)<(e+80|0);o=o+4|0){v=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;m=((i<<5|i>>>27)+(c&u|~c&d)|0)+((v+p|0)+1518500249|0)|0;p=d;d=u;u=c<<30|c>>>2;c=i;i=m;r[o>>2]=v}for(o=e+80|0;(o|0)<(e+160|0);o=o+4|0){v=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;m=((i<<5|i>>>27)+(c^u^d)|0)+((v+p|0)+1859775393|0)|0;p=d;d=u;u=c<<30|c>>>2;c=i;i=m;r[o>>2]=v}for(o=e+160|0;(o|0)<(e+240|0);o=o+4|0){v=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;m=((i<<5|i>>>27)+(c&u|c&d|u&d)|0)+((v+p|0)-1894007588|0)|0;p=d;d=u;u=c<<30|c>>>2;c=i;i=m;r[o>>2]=v}for(o=e+240|0;(o|0)<(e+320|0);o=o+4|0){v=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;m=((i<<5|i>>>27)+(c^u^d)|0)+((v+p|0)-899497514|0)|0;p=d;d=u;u=c<<30|c>>>2;c=i;i=m;r[o>>2]=v}i=i+a|0;c=c+s|0;u=u+l|0;d=d+f|0;p=p+h|0}r[t+320>>2]=i;r[t+324>>2]=c;r[t+328>>2]=u;r[t+332>>2]=d;r[t+336>>2]=p}return{hash:o}}},function(e,t){var n=this,r=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(r=new self.FileReaderSync);var o=function(e,t,n,r,o,i){var a=void 0,c=i%4,s=(o+c)%4,u=o-s;switch(c){case 0:t[i]=e[r+3];case 1:t[i+1-(c<<1)|0]=e[r+2];case 2:t[i+2-(c<<1)|0]=e[r+1];case 3:t[i+3-(c<<1)|0]=e[r]}if(!(o<s+(4-c))){for(a=4-c;a<u;a=a+4|0)n[i+a>>2|0]=e[r+a]<<24|e[r+a+1]<<16|e[r+a+2]<<8|e[r+a+3];switch(s){case 3:t[i+u+1|0]=e[r+u+2];case 2:t[i+u+2|0]=e[r+u+1];case 1:t[i+u+3|0]=e[r+u]}}};e.exports=function(e,t,i,a,c,s){if("string"==typeof e)return function(e,t,n,r,o,i){var a=void 0,c=i%4,s=(o+c)%4,u=o-s;switch(c){case 0:t[i]=e.charCodeAt(r+3);case 1:t[i+1-(c<<1)|0]=e.charCodeAt(r+2);case 2:t[i+2-(c<<1)|0]=e.charCodeAt(r+1);case 3:t[i+3-(c<<1)|0]=e.charCodeAt(r)}if(!(o<s+(4-c))){for(a=4-c;a<u;a=a+4|0)n[i+a>>2]=e.charCodeAt(r+a)<<24|e.charCodeAt(r+a+1)<<16|e.charCodeAt(r+a+2)<<8|e.charCodeAt(r+a+3);switch(s){case 3:t[i+u+1|0]=e.charCodeAt(r+u+2);case 2:t[i+u+2|0]=e.charCodeAt(r+u+1);case 1:t[i+u+3|0]=e.charCodeAt(r+u)}}}(e,t,i,a,c,s);if(e instanceof Array)return o(e,t,i,a,c,s);if(n&&n.Buffer&&n.Buffer.isBuffer(e))return o(e,t,i,a,c,s);if(e instanceof ArrayBuffer)return o(new Uint8Array(e),t,i,a,c,s);if(e.buffer instanceof ArrayBuffer)return o(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t,i,a,c,s);if(e instanceof Blob)return function(e,t,n,o,i,a){var c=void 0,s=a%4,u=(i+s)%4,l=i-u,d=new Uint8Array(r.readAsArrayBuffer(e.slice(o,o+i)));switch(s){case 0:t[a]=d[3];case 1:t[a+1-(s<<1)|0]=d[2];case 2:t[a+2-(s<<1)|0]=d[1];case 3:t[a+3-(s<<1)|0]=d[0]}if(!(i<u+(4-s))){for(c=4-s;c<l;c=c+4|0)n[a+c>>2|0]=d[c]<<24|d[c+1]<<16|d[c+2]<<8|d[c+3];switch(u){case 3:t[a+l+1|0]=d[l+2];case 2:t[a+l+2|0]=d[l+1];case 1:t[a+l+3|0]=d[l]}}}(e,t,i,a,c,s);throw new Error("Unsupported data type.")}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(1).toHex,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rusha=new o,this._rusha.resetState()}return e.prototype.update=function(e){return this._rusha.append(e),this},e.prototype.digest=function(e){var t=this._rusha.rawEnd().buffer;if(!e)return t;if("hex"===e)return i(t);throw new Error("unsupported digest encoding")},r(e,[{key:"state",get:function(){return this._rusha.getState()},set:function(e){this._rusha.setState(e)}}]),e}();e.exports=function(){return new a}}])},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 00.994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="DocumentFilledIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=e[t];if(n&&n.url)return n.url}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),o=n.n(r),i=n(10),a=n.n(i),c=n(113);function s(e){return u.apply(this,arguments)}function u(){return(u=o()(a.a.mark((function e(t){var n,r,o,i,s,u,l,d,f,p,h,m,v,b=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},r=b.length>2?b[2]:void 0,o=n.method,i=void 0===o?"GET":o,s=n.endpoint,u=n.auth,l=n.params,d=n.headers,f=n.body,p=n.clientOptions,h=(void 0===p?{}:p).retryOptions,m={method:i,endpoint:s},v=function(){return fetch(Object(c.d)(t,{params:l}),{method:i,body:f,headers:Object(c.k)(u)(d),signal:r&&r.signal}).then(Object(c.c)(m))},e.abrupt("return",Object(c.e)(v,m,h));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(20),o=n.n(r),i=n(19),a=n.n(i),c=n(1),s=n.n(c),u=n(8),l=n.n(u),d=n(9),f=n.n(d),p=n(10),h=n.n(p),m=n(319),v=n(214),b=n(166),g=n(1071);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={},k=function(){function e(t){l()(this,e),this.mediaStore=t}var t,n;return f()(e,[{key:"createFileStateObserver",value:function(e,t){var n=new m.ReplaySubject(1),r=O({id:e},t),o=Object(b.h)({data:r});return n.next(o),n}},{key:"populateCache",value:function(e){var t=this;e.forEach((function(e){var n=t.createFileStateObserver(e.id,e.details);Object(v.b)().set(e.id,n)}))}},{key:"removeFromCache",value:function(e,t){var n=w[t].items.findIndex((function(t){return t.id===e}));-1!==n&&(Object(v.b)().remove(e),w[t].items.splice(n,1))}},{key:"getItems",value:function(e,t){var n=this;w[e]||(w[e]={items:[],subject:new m.ReplaySubject(1),isLoadingNextPage:!1});var r=w[e],o=r.subject;return this.mediaStore.getCollectionItems(e,O(O({},t),{},{details:"full"})).then((function(e){var t=e.data,i=t.contents,a=t.nextInclusiveStartKey;n.populateCache(i),r.items=e.data.contents,r.nextInclusiveStartKey=a,o.next(r.items)})).catch((function(e){return o.error(e)})),Object(g.b)(o)}},{key:"removeFile",value:(n=a()(h.a.mark((function e(t,n,r){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.removeCollectionFile(t,n,r);case 2:this.removeFromCache(t,n),(o=w[n]).subject.next(o.items);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"loadNextPage",value:(t=a()(h.a.mark((function e(t,n){var r,i,a,c,s,u,l,d,f,p,m,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w[t],i=!!r&&r.isLoadingNextPage,r&&r.nextInclusiveStartKey&&!i){e.next=4;break}return e.abrupt("return");case 4:return r.isLoadingNextPage=!0,a=w[t],c=a.nextInclusiveStartKey,s=a.items,u=a.subject,e.next=8,this.mediaStore.getCollectionItems(t,O(O({},n),{},{inclusiveStartKey:c,details:"full"}));case 8:l=e.sent,d=l.data,f=d.contents,p=d.nextInclusiveStartKey,this.populateCache(f),m=l.data.contents,v=[].concat(o()(s),o()(m)),u.next(v),w[t]={items:v,nextInclusiveStartKey:p,subject:u,isLoadingNextPage:!1};case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(149),o={on:function(e,t){r.mediaState.eventEmitter&&r.mediaState.eventEmitter.on(e,t)},off:function(e,t){r.mediaState.eventEmitter&&r.mediaState.eventEmitter.off(e,t)},emit:function(e,t){if(r.mediaState.eventEmitter)return r.mediaState.eventEmitter.emit(e,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(10),l=n.n(u),d=function(){function e(t){a()(this,e),this.baseUrl=t||"/gateway/api"}var t;return s()(e,[{key:"fetchToken",value:(t=o()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/media/auth/smartedge"),{credentials:"include",headers:{"x-client-id":t}});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isTokenExpired",value:function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d),p=n(0),h=n.n(p),m=n(507),v=n.n(m),b=n(658),g=n(152),y=n(344),O=n.n(y);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var k=function(e){s()(n,e);var t=w(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"renderAtlaskitIcon",value:function(){var e=this.props,t=e.icon,n=e.emoji;return n?h.a.createElement(g.a,null,n):t&&"string"!=typeof t?h.a.createElement(g.e,null,t):null}},{key:"renderImageIcon",value:function(e,t){var n=this.props.icon;return n&&"string"==typeof n?h.a.createElement(v.a,{src:n,loaded:h.a.createElement(b.b,{className:"smart-link-icon",src:n,"data-testid":"".concat(t,"-image")}),errored:e}):null}},{key:"renderIconPlaceholder",value:function(e){var t=this.props.defaultIcon;return t?h.a.createElement(g.e,null,t):h.a.createElement(g.e,null,h.a.createElement(O.a,{label:"link",size:"small",testId:"".concat(e,"-default")}))}},{key:"renderIcon",value:function(e){var t=this.renderAtlaskitIcon();if(t)return t;var n=this.renderIconPlaceholder(e);return this.renderImageIcon(n,e)||n}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.titleColor,o=e.testId,i=void 0===o?"media-inline-card-icon-and-title":o;return h.a.createElement(h.a.Fragment,null,h.a.createElement(g.d,{style:{color:r}},h.a.createElement(g.c,null,t||h.a.createElement(h.a.Fragment,null,h.a.createElement(g.b,null),this.renderIcon(i))),h.a.createElement(g.g,null,n)))}}]),n}(h.a.Component)},function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"d",(function(){return E}));var r=n(1),o=n.n(r),i=n(34),a=n.n(i),c=n(276),s=n(112),u=n(343),l=["getRatio"],d=["queryParams"],f=["representation","altRepresentations"],p=["representation","skinVariations","altRepresentations"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=e.getRatio,r=void 0===n?g:n,o=a()(e,l),i=b(r),s=t||{},u=s.queryParams,f=void 0===u?{}:u,p=m(m({},a()(s,d)),{},{queryParams:m(m(m({},i),f),{},{preferredRepresentation:"IMAGE"})});return c.b.requestService(o,p)},b=function(e){return e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"}},g=function(){return"undefined"==typeof window?0:window.devicePixelRatio},y=function(e){return e[b(g).altScale]},O=function(e,t){if(Object(s.p)(e)&&t&&t.spriteSheets){var n=e,r=n.height,o=n.width,i=n.x,a=n.y,c=n.xIndex,l=n.yIndex,d=n.spriteRef,f=t.spriteSheets[d];if(f)return{sprite:f,height:r,width:o,x:i,y:a,xIndex:c,yIndex:l}}else if(Object(s.i)(e)){var p=e.height,h=e.width,m=e.imagePath;return function(e,t){return!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url))}(m,t)?Object(s.c)(e):{height:p,width:h,imagePath:m}}Object(u.a)("failed conversion for representation",e,t)},w=function(e,t){return e&&0!==Object.keys(e).length?O(y(e),t):void 0},k=function(e){return{emojis:e.emojis.map((function(t){var n=O(t.representation,e.meta),r=w(t.altRepresentations,e.meta),o=function(e,t){if(!e.skinVariations)return[];var n=e.skinVariations,r=e.id;return n.map((function(e){var n=e.representation,o=e.altRepresentations,i=a()(e,f);return m({baseId:r,representation:O(n,t),altRepresentation:w(o,t)},i)}))}(t,e.meta),i=(t.representation,t.skinVariations,t.altRepresentations,m(m({},a()(t,p)),{},{representation:n,skinVariations:o}));return Object(s.a)(i,r)})),mediaApiToken:e.meta&&e.meta.mediaApiToken}},E=function(e,t){return!!(t&&e.altRepresentation&&function(e){return g()>1?2*e:e}(t)>e.representation.height)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorWarningIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(0),o=n.n(r),i=n(539),a="smart-link-loading-placeholder",c=function(e){var t=e.isSelected,n=e.url,r=e.placeholder;return o.a.createElement(i.a,{key:"lazy-render-key",testId:"lazy-render-placeholder","data-trello-do-not-use-override":"lazy-render-placeholder-trello",isSelected:t,link:n,className:a,placeholder:r})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(22),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(0),v=n.n(m),b=n(503);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var y=function(e){l()(n,e);var t=g(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return v.a.createElement(b.a,o()({withoutBackground:!0},this.props),this.props.placeholder||this.props.link)}}]),n}(v.a.PureComponent)},function(e,t,n){"use strict";n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return I})),n.d(t,"g",(function(){return M})),n.d(t,"i",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"f",(function(){return L})),n.d(t,"a",(function(){return B})),n.d(t,"d",(function(){return F}));var r,o,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y=n(7),O=n.n(y),w=n(48),k=n(16),E=n(3),x=n(33),S=n(247),j="media-card-frame",C="\n  border-radius: ".concat(Object(k.d)(),"px;\n"),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    max-width: ".concat(e).concat(t,";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  ")},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    width: ".concat(e).concat(t,";\n    height: ").concat(e).concat(t,";\n  ")};var A=function(e){return"\n  ".concat(C,"\n  ").concat(function(e){var t=e.minWidth;return t?"min-width: ".concat(t,"px;"):""}(e),"\n  ").concat(function(e){var t=e.maxWidth;return t?"max-width: ".concat(t,"px; margin: 0 auto;"):"margin: 0 auto;"}(e),"\n  ").concat((o=e,i=o.isInteractive,a=o.isFrameVisible?P:"",c=i?"\n  &:hover {\n    ".concat(P,"\n  }\n  &:active {\n    background-color: ").concat(Object(x.a)("color.background.selected",E.B50),";\n  }\n"):"","".concat(a).concat(c)),"\n  ").concat((r=e,r.isVisible?P:""),"\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  font-family: ").concat(Object(k.f)(),";\n  width: 100%;\n  user-select: none;\n  line-height: initial;\n  transition: background 0.3s;\n  position: relative;\n  ").concat((n=e,n.inheritDimensions?"height: 100%;":"height: ".concat(Object(S.b)(54))),";\n  ").concat((t=e,t.isSelected?"\n    ".concat(P,"\n    &::after {\n      cursor: pointer;\n      box-shadow: 0 0 0 3px ").concat(Object(x.a)("color.border.selected",E.B100),";\n      content: '';\n      outline: none;\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      ").concat(C,"\n    }\n    "):""),"\n\n  &:after {\n    content: '';\n    background: transparent;\n    transition: background 0.3s, box-shadow 0.3s;\n    position: absolute;\n    width: calc(100% + ").concat(Object(S.b)(2),");\n    height: calc(100% + ").concat(Object(S.b)(1),");\n    left: -").concat(Object(S.b)(1),";\n    ").concat(C,"\n  }\n");var t,n,r,o,i,a,c},P="\n  background-color: ".concat(Object(x.a)("color.background.neutral.subtle",E.N30),";\n\n  &:after {\n    background: ").concat(Object(x.a)("color.background.neutral",E.N30)," !important;\n  }\n  .embed-header {\n    opacity: 1;\n  }");var I=w.a.div(r||(r=O()(["\n  "," &:hover {\n    text-decoration: none;\n  }\n"])),(function(e){return A(e)})),M=w.a.div(o||(o=O()(["\n  ",";\n  margin-top: 10px;\n"])),(function(e){return A(e)})),R=32,N=w.a.div(i||(i=O()(["\n  height: ","px;\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: ",";\n  opacity: 0;\n  transition: 300ms opacity cubic-bezier(0.15, 1, 0.3, 1);\n"])),R,Object(x.a)("color.icon",E.N300)),D=w.a.div(a||(a=O()(["\n  ","\n  ","\n  "," margin-right: 4px;\n"])),C,_(16),(function(e){return e.isPlaceholder?"\n      background-color: ".concat(Object(x.a)("color.skeleton",E.N30),";\n    "):""})),L=w.a.div(c||(c=O()(["\n  "," color: ",";\n  font-size: 12px;\n  line-height: 16px;\n  ",";\n"])),(function(e){return e.isPlaceholder?"\n        ".concat(C,"\n        width: 125px;\n        height: 12px;\n        background-color: ").concat(Object(x.a)("color.skeleton",E.N30),";\n      "):""}),Object(x.a)("color.text.subtlest",E.N300),T("none")),B=w.a.div(s||(s=O()(["\n  ","\n  ","\n  background-color: ",";\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  top: ",";\n  overflow: hidden;\n  height: calc(100% - ",");\n  transition: box-shadow 0.3s;\n\n  > .calc-height > div > div {\n    left: unset !important;\n    width: unset !important;\n    height: unset !important;\n    position: initial !important;\n    padding-bottom: unset !important;\n  }\n  > .embed-preview > div {\n    margin: 0 auto;\n  }\n\n  ",";\n"])),C,"",Object(x.a)("elevation.surface","white"),Object(S.b)(4),Object(S.b)(4),(function(e){return e.isInteractive?"\n          .".concat(j,":hover & {\n            box-shadow: ").concat(Object(x.a)("elevation.shadow.overlay","0 4px 8px -2px rgba(23, 43, 77, 0.32), 0 0 1px rgba(23, 43, 77, 0.25)"),";\n          }\n        "):""})),F=w.a.img(u||(u=O()(["\n  ","\n  ","\n\n  /* hide the alt text when the image cannot be found */\n  overflow: hidden;\n"])),(function(e){var t=e.size;return _(t)}),C);w.a.div(l||(l=O()(["\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  padding: 8px 12px 12px 12px;\n"]))),w.a.div(d||(d=O()(["\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"])),Object(x.a)("color.text",E.N900),1.25,80),w.a.div(f||(f=O()(["\n  margin-top: 4px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  ",";\n"])),Object(x.a)("color.text.subtlest",E.N300),16/12,T("100%")),w.a.div(p||(p=O()(["\n  margin-top: 7px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"])),Object(x.a)("color.text",E.N800),1.5,54),w.a.div(h||(h=O()(["\n  margin-top: 4px;\n"]))),w.a.div(m||(m=O()(["\n  ","\n  ","\n  float: right;\n  margin: 4px 0 12px 12px;\n  background-color: ",";\n  background-image: url(",");\n  background-size: cover;\n"])),C,_(48),Object(x.a)("color.skeleton",E.N30),(function(e){return e.src})),w.a.div(v||(v=O()(["\n  margin-top: 8px;\n"]))),w.a.div(b||(b=O()(["\n  margin-top: 8px;\n  text-align: right;\n\n  > * {\n    margin-top: 4px;\n  }\n\n  > * + * {\n    margin-left: 4px;\n  }\n"]))),w.a.div(g||(g=O()(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  pointer-events: none;\n  /* z-index has to be 1 higher than the number of avatars in the avatar stack */\n  z-index: ",";\n"])),7)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),c=n(10),s=n.n(c),u=n(706),l=n(162),d=n(293),f=n(707),p=n(708),h=n(364),m=n(156),v=n(476);function b(){return(b=a()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}return e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e,t){return Object(v.mergeMap)(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(r){return new m.Observable((function(o){t.push(function(e,t,n){var r={notifyIfReady:function(){return!1}};return e.then((function(e){r.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(r)}),(function(e){r.notifyIfReady=function(){return t.error(e),!0},n(r)})),r}(e(r),o,n))}))}}(e),t)};function y(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var O=function(e){return function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(){n(this.result)},t.onerror=r,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(y)},w=n(216);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e,t,n){return Object(f.fromPromise)(function(e){return b.apply(this,arguments)}(e)).pipe(Object(l.concatMap)((function(e){var r,o,i,a,c=t.chunkSize,s=n.onProgress,f=Math.ceil(e.size/c),m=function(e,t){var n=t.size,r=Math.ceil(e.size/n);return Object(p.range)(0,r).pipe(Object(h.map)((function(t){return{partNumber:t+1,blob:e.slice(t*n,(t+1)*n)}})))}(e,{size:c}),v=function(e,t){var n=t.batchSize,r=t.prober;return e.pipe(Object(d.bufferCount)(n),Object(l.concatMap)((function(e){return r(e).then((function(t){return e.map((function(e,n){return E(E({},e),{},{exists:t[n]})}))}))})),Object(l.concatMap)((function(e){return Object(w.from)(e)})))}((r=m,o={concurrency:t.hashingConcurrency,hasher:t.hashingFunction},i=o.hasher,a=o.concurrency,g(function(e){return function(t){return e(t.blob).then((function(e){return{blob:t.blob,hash:"".concat(e,"-").concat(t.blob.size),partNumber:t.partNumber}}))}}(i||O),a)(r)),{batchSize:t.probingBatchSize,prober:t.probingFunction}),b=0,y=function(e,t){return e.pipe(g((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(v,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return s&&(y=y.pipe(Object(u.tap)((function(){s((b+=1)/f)})))),function(e,t){return e.pipe(Object(d.bufferCount)(t.batchSize)).pipe(Object(l.concatMap)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(y,{batchSize:t.processingBatchSize,processor:t.processingFunction}).pipe(Object(l.concatMap)((function(e){return Object(w.from)(e)})),Object(d.bufferCount)(f))})))},S=null,j=function(){var e=a()(s.a.mark((function e(){var t,r,o,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=3,S){e.next=17;break}return e.prev=2,e.next=5,n.e(169).then(n.bind(null,1995));case 5:r=e.sent,o=r.WorkerHasher,S=new o(t),e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,n.e(168).then(n.bind(null,1996));case 14:i=e.sent,a=i.SimpleHasher,S=new a;case 17:return e.abrupt("return",S);case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),C=n(8),T=n.n(C),_=n(9),A=n.n(_),P=n(13),I=n.n(P),M=n(15),R=n.n(M),N=n(6),D=n.n(N);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var o=D()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R()(this,n)}}var B=function(e){I()(n,e);var t=L(n);function n(e,r,o){var i;return T()(this,n),(i=t.call(this,e)).reason=e,i.id=r,i.metadata=o,i}return A()(n,[{key:"attributes",get:function(){var e=this.reason,t=this.id,n=this.metadata;return{reason:e,id:t,collectionName:(n=void 0===n?{}:n).collectionName,occurrenceKey:n.occurrenceKey}}}]),n}(n(198).a);var F=n(157),z=n(161),U=n(1076);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){var e=a()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return n=e.sent,e.abrupt("return",n.hash(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e,t,n){return function(){var r=a()(s.a.mark((function r(o){var i,a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=e,r.t1=X(o),r.t2=n,!Object(U.c)("mediaUploadApiV2",e.featureFlags)){r.next=9;break}return r.next=6,t;case 6:r.t3=r.sent,r.next=10;break;case 9:r.t3=void 0;case 10:return r.t4=r.t3,r.t5={collectionName:r.t2,uploadId:r.t4},r.next=14,r.t0.probeChunks.call(r.t0,r.t1,r.t5);case 14:return i=r.sent,a=i.data.results,r.abrupt("return",Object.values(a).map((function(e){return e.exists})));case 17:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},G=function(e,t,n){return function(){var r=a()(s.a.mark((function r(o){var i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(U.c)("mediaUploadApiV2",e.featureFlags)){r.next=8;break}return r.t1=o.partNumber,r.next=4,t;case 4:r.t2=r.sent,r.t0={partNumber:r.t1,uploadId:r.t2},r.next=9;break;case 8:r.t0={};case 9:return i=r.t0,r.next=12,e.uploadChunk(o.hash,o.blob,W({collectionName:n},i));case 12:return r.abrupt("return",r.sent);case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},K=function(e,t,n){var r=0;return function(){var o=a()(s.a.mark((function o(i){return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=e,o.next=3,t;case 3:return o.t1=o.sent,o.t2={chunks:X(i),offset:r},o.t3=n,o.next=8,o.t0.appendChunksToUpload.call(o.t0,o.t1,o.t2,o.t3);case 8:r+=i.length;case 9:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},$=function(){var e=a()(s.a.mark((function e(t,n,r,o){var i,a,c,u,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.collection,a=t.name,c=t.mimeType,u=r.id,l=r.occurrenceKey,e.abrupt("return",n.createFileFromUpload({uploadId:o,name:a,mimeType:c},{occurrenceKey:l,collection:i,replaceFileId:u}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),Y=function(e,t,n,r){var o=e.content,i=e.collection,a=n.deferredUploadId,c=n.id,s=n.occurrenceKey,u=F.a;try{o instanceof Blob&&Object(U.c)("mediaUploadApiV2",t.featureFlags)&&(u=function(e){if(e>F.d)throw new Error("fileSizeExceedsLimit");return e<=5*z.a.GB?5*z.a.MB:e>5*z.a.GB&&e<=50*z.a.GB?50*z.a.MB:e>50*z.a.GB&&e<=.95*z.a.TB?100*z.a.MB:210*z.a.MB}(o.size))}catch(e){return e instanceof Error&&"fileSizeExceedsLimit"===e.message&&(null==r||r.onUploadFinish(new B(e.message,c,{collectionName:i,occurrenceKey:s}))),{cancel:function(){null==r||r.onUploadFinish("canceled")}}}var d=function(e,t,n){return x(e,t,n)}(o,{hashingFunction:V,hashingConcurrency:5,probingBatchSize:100,chunkSize:u,uploadingConcurrency:3,uploadingFunction:G(t,a,i),probingFunction:q(t,a,i),processingBatchSize:F.e,processingFunction:K(t,a,i)},{onProgress:function(e){r&&r.onProgress(e)}}),f=r&&r.onUploadFinish||function(){},p=Object(w.from)(a).pipe(Object(l.concatMap)((function(r){return d.pipe(Object(l.concatMap)((function(){return Object(w.from)($(e,t,n,r))})))}))).subscribe({error:function(e){return f(e)},complete:function(){return f()}});return{cancel:function(){p.unsubscribe(),f("canceled")}}},X=function(e){return e.map((function(e){return e.hash}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(19),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(1),l=n.n(u),d=n(10),f=n.n(d),p=n(211),h=n(704),m=n(364),v=n(162),b=n(477),g=n.n(b),y=(n(465),n(149)),O=n(709),w=n(346),k=n(166),E=n(258),x=n(543),S=n(214),j=n(533),C=n(157),T=n(652),_=n.n(T),A=n(654),P=n(279),I=function(e,t){return Object(k.a)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},M=n(1071),R=n(545),N=n(215),D=n(170),L=n(478),B=n(513),F=n(653);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){function e(t){var n=this;a()(this,e),l()(this,"createDownloadFileStream",(function(e,t,r){var i=Object(N.a)(),a=new B.a;return a.onError=function(e){return i.error(e)},a.execute(o()(f.a.mark((function o(){var c,s;return f.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.dataloader.load({id:e,collectionName:t});case 2:if(c=o.sent){o.next=5;break}throw new E.a("emptyItems",e,{collectionName:t,occurrenceKey:r});case 5:if(!Object(F.a)(c)){o.next=7;break}throw new E.a("zeroVersionFile",e,{collectionName:t,occurrenceKey:r});case 7:s=Object(k.i)(e,c),i.next(s),o.t0=s.status,o.next="processing"===o.t0?12:"processed"===o.t0?14:16;break;case 12:return a.next(),o.abrupt("break",16);case 14:return i.complete(),o.abrupt("break",16);case 16:case"end":return o.stop()}}),o)})))),i})),this.mediaStore=t,this.dataloader=Object(A.a)(t)}var t,n,r;return s()(e,[{key:"getFileState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.collectionName,o=n.occurrenceKey;if(!_()(e)){var i=Object(N.a)();return i.error(new E.a("invalidFileId",e,{collectionName:r,occurrenceKey:o})),Object(M.b)(i)}return Object(M.b)(Object(S.b)().getOrInsert(e,(function(){return t.createDownloadFileStream(e,r)})))}},{key:"getCurrentState",value:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.Subscription;return new Promise((function(n,r){return t.add(e.subscribe({next:function(e){n(e),t.unsubscribe()},error:function(e){r(e),t.unsubscribe()}}))}))}(this.getFileState(e,t))}},{key:"getArtifactURL",value:function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}},{key:"getFileBinaryURL",value:function(e,t){return this.mediaStore.getFileBinaryURL(e,t)}},{key:"touchFiles",value:function(e,t){return this.mediaStore.touchFiles({descriptors:e},{collection:t}).then((function(e){return e.data}))}},{key:"generateUploadableFileUpfrontIds",value:function(e){var t=g()(),n=g()(),r={fileId:t,occurrenceKey:n,collection:e};return{id:t,occurrenceKey:n,deferredUploadId:this.touchFiles([r],e).then((function(e){return e.created[0].uploadId}))}}},{key:"uploadExternal",value:(r=o()(f.a.mark((function e(t,n){var r,i,a,c,s,u,l,d,p=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.generateUploadableFileUpfrontIds(n),i=r.id,a=r.occurrenceKey,c=Object(N.a)(),s=fetch(t).then((function(e){return e.blob()})).catch((function(){})),u=new Promise(function(){var e=o()(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:(r=e.sent)||n("Could not fetch the blob"),t({value:r,origin:"remote"});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=t.split("/").pop()||"",d={status:"processing",name:l,size:0,mediaType:"unknown",mimeType:"",id:i,occurrenceKey:a,preview:u},c.next(d),Object(S.b)().set(i,c),e.abrupt("return",new Promise(function(){var e=o()(f.a.mark((function e(t,o){var d,h,m,v,b,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:if(d=e.sent){e.next=5;break}return e.abrupt("return",o("Could not download remote file"));case 5:return h=d.type,m=d.size,v={content:d,mimeType:h,collection:n,name:l},b=Object(P.a)(h),c.next({status:"processing",name:l,size:m,mediaType:b,mimeType:h,id:i,occurrenceKey:a,preview:u}),p.upload(v,void 0,r),e.next=12,Object(R.a)(b,d);case 12:g=e.sent,t({dimensions:g,uploadableFileUpfrontIds:r});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"upload",value:function(e,t,n){var r=this;"string"==typeof e.content&&(e.content=function(e){for(var t=e.split(",")[1],n=atob(t),r=[],o=function(e){var t=n.slice(e,e+512),o=t.split("").map((function(e,n){return t.charCodeAt(n)})),i=new Uint8Array(o);r.push(i)},i=0;i<n.length;i+=512)o(i);return new Blob(r,{type:"image/jpeg"})}(e.content));var o=e.content,i=e.name,a=void 0===i?"":i,c=e.collection;n||(n=this.generateUploadableFileUpfrontIds(c));var s,u=n.id,l=n.occurrenceKey,d="",f=0,b=function(e){if(e.content instanceof Blob){var t=e.content.type;return Object(P.a)(t)}return"unknown"}(e),g=Object(N.a)(),y=new p.Subscription;o instanceof Blob&&(f=o.size,d=o.type,Object(D.d)(o.type)&&(s={value:o,origin:"local"}));var O={id:u,occurrenceKey:l,name:a,size:f,mediaType:b,mimeType:d,preview:s},w=function(e){g.next(U(U({status:"uploading"},O),{},{progress:e}))},k=Object(x.a)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e)return g.error(e);y.add(Object(L.b)(b,d,s).pipe(Object(v.concatMap)((function(e){return e?r.createDownloadFileStream(u,c,l).pipe(Object(m.map)((function(e){return U(U(U({},O),e),I(e,b))}))):Object(h.of)(U({status:"processing",representations:{}},O))}))).subscribe(g))},onProgress:w}).cancel;return Object(S.b)().set(u,g),setTimeout((function(){w(0)}),0),t&&t.setAbort((function(){k(),y.unsubscribe()})),Object(M.b)(g)}},{key:"downloadBinary",value:(n=o()(f.a.mark((function e(t){var n,r,o,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"download",r=i.length>2?i[2]:void 0,e.next=4,this.mediaStore.getFileBinaryURL(t,r);case 4:o=e.sent,Object(O.a)(o,{name:n}),j.a.emit("media-viewed",{fileId:t,isUserCollection:r===C.f,viewingLevel:"download"});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"copyFile",value:(t=o()(f.a.mark((function e(t,n){var r,o,i,a,c,s,u,l,d,p,h,m,v,b,g,O,E,x,j,C,T,_,A,M,R,D,B,F=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F.length>2&&void 0!==F[2]?F[2]:{},o=t.authProvider,i=t.collection,a=t.id,c=n.authProvider,s=n.collection,u=n.replaceFileId,l=n.occurrenceKey,d=r.preview,p=r.mimeType,h=n.mediaStore||new w.a({authProvider:c}),e.t0=y.authToOwner,e.next=8,o({collectionName:i});case 8:return e.t1=e.sent,m=(0,e.t0)(e.t1),v={sourceFile:{id:a,collection:i,owner:m}},b={collection:s,replaceFileId:u,occurrenceKey:l},g=Object(S.b)(),e.prev=13,e.next=16,h.copyFileWithToken(v,b);case 16:if(E=e.sent,x=E.data,j=U(U({},x),p?{mimeType:p}:void 0),C=j.id,T=j.mimeType,_=T?Object(P.a)(T):"unknown",A=Object(k.h)({data:j}),M=g.get(C),R=M||Object(N.a)(),D=!Object(k.a)(A)&&d?{preview:d}:{},e.t2=!Object(k.b)(A)&&T,!e.t2){e.next=30;break}return e.next=29,Object(L.a)(_,T,d);case 29:e.t2=e.sent;case 30:if(!e.t2){e.next=35;break}R.next(U(U(U({},A),I(A,_)),D)),O=this.createDownloadFileStream(C,s,l).subscribe({next:function(e){return R.next(U(U(U({},e),I(e,_)),!Object(k.a)(e)&&D))},error:function(e){return R.error(e)},complete:function(){return R.complete()}}),e.next=36;break;case 35:Object(k.f)(A)||R.next(U(U({},A),!Object(k.a)(A)&&D));case 36:return g.has(C)||Object(S.b)().set(C,R),e.abrupt("return",x);case 40:throw e.prev=40,e.t3=e.catch(13),O&&O.unsubscribe(),u&&((B=g.get(u))?B.error(e.t3):g.set(a,Object(N.a)(e.t3))),e.t3;case 45:case"end":return e.stop()}}),e,this,[[13,40]])}))),function(e,n){return t.apply(this,arguments)})}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(19),o=n.n(r),i=n(10),a=n.n(i),c=function(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.onload=function(){return t({width:r.width,height:r.height})},r.onerror=n}))},s=n(405),u=function(){var e=o()(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="image"===e.t0?3:"video"===e.t0?11:12;break;case 3:return r=URL.createObjectURL(n),e.prev=4,e.next=7,c(r);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,URL.revokeObjectURL(r),e.finish(8);case 11:return e.abrupt("return",Object(s.a)(n));case 12:throw new Error("Can't extract dimensions from ".concat(t));case 13:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(13),s=n.n(c),u=n(15),l=n.n(u),d=n(6),f=n.n(d),p=n(1),h=n.n(p),m=n(0),v=n.n(m),b=n(59),g=n.n(b),y=n(19),O=n.n(y),w=n(10),k=n.n(w),E=n(410),x=function(e){var t=e.children,n=e.emojiContextValue,r=Object(m.useMemo)((function(){return n}),[n]);return Object(m.useEffect)((function(){function e(){return(e=O()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==r?void 0:r.emoji.emojiProvider.fetchEmojiProvider();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),v.a.createElement(E.a.Provider,{value:r},t)};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var j=function(e){s()(n,e);var t=S(n);function n(e,r){var i;return o()(this,n),(i=t.call(this,e,r)).state={prioritisedContextValue:r.emoji?r:i.props.emojiContextValue},i}return a()(n,[{key:"render",value:function(){return this.state.prioritisedContextValue?v.a.createElement(x,{emojiContextValue:this.state.prioritisedContextValue},this.props.children):this.props.children}}]),n}(m.Component);h()(j,"contextTypes",{emoji:g.a.object})},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return c}));var r=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t},e}(),o=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function i(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}var a=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){this._tokenToIdfCache={};var r,o=this._tokenMap;"object"!=typeof o[e]?o[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=o[e]).$totalNumOccurrences++;var i=r.$uidMap;"object"!=typeof i[t]?(r.$numDocumentOccurrences++,i[t]={$document:n,$numTokenOccurrences:1}):i[t].$numTokenOccurrences++},t.search=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],a=this._tokenMap[i];if(!a)return[];if(0===r)for(var c=0,s=(u=Object.keys(a.$uidMap)).length;c<s;c++){n[l=u[c]]=a.$uidMap[l].$document}else{var u;for(c=0,s=(u=Object.keys(n)).length;c<s;c++){var l=u[c];"object"!=typeof a.$uidMap[l]&&delete n[l]}}}var d=[];for(var l in n)d.push(n[l]);var f=this._createCalculateTfIdf();return d.sort((function(n,r){return f(e,r,t)-f(e,n,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,a){for(var c=0,s=0,u=r.length;s<u;++s){var l,d=r[s],f=n(d,a);f===1/0&&(f=0),l=t instanceof Array?o&&i(o,t):o&&o[t],c+=(void 0!==e[d]&&void 0!==e[d].$uidMap[l]?e[d].$uidMap[l].$numTokenOccurrences:0)*f}return c}},e}(),c=function(){function e(){this._tokenToUidToDocumentMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){"object"!=typeof this._tokenToUidToDocumentMap[e]&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=n},t.search=function(e,t){for(var n={},r=this._tokenToUidToDocumentMap,o=0,i=e.length;o<i;o++){var a=r[e[o]];if(!a)return[];if(0===o)for(var c=0,s=(u=Object.keys(a)).length;c<s;c++){n[d=u[c]]=a[d]}else for(c=0,s=(u=Object.keys(n)).length;c<s;c++){"object"!=typeof a[d=u[c]]&&delete n[d]}}var u,l=[];for(o=0,s=(u=Object.keys(n)).length;o<s;o++){var d=u[o];l.push(n[d])}return l},e}(),s=/[^a-z-0-9\-']+/i,u=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(s).filter((function(e){return e}))},e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new r,this._searchIndex=new a(e),this._sanitizer=new o,this._tokenizer=new u,this._documents=[],this._searchableFields=[]}var t,n,c,s=e.prototype;return s.addDocument=function(e){this.addDocuments([e])},s.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},s.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},s.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},s.indexDocuments_=function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,a=this._tokenizer,c=this._uidFieldName,s=0,u=e.length;s<u;s++){var l,d=e[s];l=c instanceof Array?i(d,c):d[c];for(var f=0,p=t.length;f<p;f++){var h,m=t[f];if(null!=(h=m instanceof Array?i(d,m):d[m])&&"string"!=typeof h&&h.toString&&(h=h.toString()),"string"==typeof h)for(var v=a.tokenize(r.sanitize(h)),b=0,g=v.length;b<g;b++)for(var y=v[b],O=n.expandToken(y),w=0,k=O.length;w<k;w++){var E=O[w];o.indexDocument(E,l,d)}}}},t=e,(n=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&l(t.prototype,n),c&&l(t,c),e}()},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(226))},function(e,t,n){var r=n(806),o=n(196),i=n(508),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={light:"var(--ds-surface, #FFFFFF)",dark:"var(--ds-surface, #1B2638)"},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return r[e]}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){var r=n(354),o=n(824),i=n(825),a=n(826),c=n(827),s=n(828);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=c,u.prototype.set=s,e.exports=u},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(441),o=n(314);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){var r=n(251),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(179).Uint8Array;e.exports=r},function(e,t,n){var r=n(571)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var r=n(574),o=n(864),i=n(359);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(863),o=n(509),i=n(310),a=n(443),c=n(510),s=n(444),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&s(e),p=n||l||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||c(v,m))||h.push(v);return h}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(314),o=n(359),i=n(510),a=n(196);e.exports=function(e,t,n){if(!a(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&i(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(872);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(874),o=n(877),i=n(878);e.exports=function(e,t,n,a,c,s){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,v=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++h<l;){var b=e[h],g=t[h];if(a)var y=u?a(g,b,h,t,e,s):a(b,g,h,e,t,s);if(void 0!==y){if(y)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(b===e||c(b,e,n,a,s)))return v.push(t)}))){m=!1;break}}else if(b!==g&&!c(b,g,n,a,s)){m=!1;break}}return s.delete(e),s.delete(t),m}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={content:"(block|layoutSection)+",marks:"alignment breakout dataConsumer fragment indentation unsupportedMark unsupportedNodeAttribute"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=["p",0],o={selectable:!1,content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline confluenceInlineComment action annotation unsupportedMark unsupportedNodeAttribute dataConsumer fragment",parseDOM:[{tag:"p"}],toDOM:function(){return r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={group:"inline",toDebugString:function(){return"text_node"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={content:"(paragraph | mediaSingle | codeBlock) (paragraph | bulletList | orderedList | mediaSingle | codeBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",defining:!0,selectable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={content:"(paragraph | unsupportedBlock)+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=["hr"],o={group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return r}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={group:"inline",inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:null}},draggable:!0,parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs:function(e){var t=e;return{src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title")}}}],toDOM:function(e){return["img",e.attrs]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={content:"(text|hardBreak|mention|emoji|date|placeholder|inlineCard|status)*",isolating:!0,marks:"_",selectable:!1,parseDOM:[{tag:"figcaption[data-caption]"}],toDOM:function(e){return["figcaption",{"data-caption":"true"},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!1,group:"block",content:"(media|unsupportedBlock)+",attrs:{},marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,parseDOM:[{tag:'div[data-node-type="mediaGroup"]'},{tag:'div[class="MediaGroup"]'}],toDOM:function(){return["div",{"data-node-type":"mediaGroup"},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(253),o=Object(r.b)(r.c,!0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!0,group:"inline",selectable:!1,marks:"",attrs:{text:{default:""}},parseDOM:[{tag:"span[data-placeholder]",getAttrs:function(e){return{text:e.getAttribute("data-placeholder")||r.attrs.text.default}}}],toDOM:function(e){var t=e.attrs.text;return["span",{"data-placeholder":t,contenteditable:"true"},t]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={content:"(block|unsupportedBlock)+",isolating:!0,marks:"alignment indentation dataConsumer fragment unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{width:{default:void 0}},parseDOM:[{context:"layoutColumn//",tag:"div[data-layout-column]",skip:!0},{tag:"div[data-layout-column]",getAttrs:function(e){return{width:Number(e.getAttribute("data-column-width"))||void 0}}}],toDOM:function(e){var t={"data-layout-column":"true"},n=e.attrs.width;n&&(t.style="flex-basis: ".concat(n,"%"),t["data-column-width"]=n);return["div",t,["div",{"data-layout-content":"true"},0]]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="confluenceJiraIssue",o={group:"inline",inline:!0,atom:!0,attrs:{issueKey:{default:""},macroId:{default:null},schemaVersion:{default:null},server:{default:null},serverId:{default:null}},parseDOM:[{tag:'span[data-node-type="'.concat(r,'"]'),getAttrs:function(e){var t=e;return{issueKey:t.textContent,macroId:t.dataset&&t.dataset.macroId,schemaVersion:t.dataset&&t.dataset.schemaVersion,server:t.dataset&&t.dataset.server,serverId:t.dataset&&t.dataset.serverId}}}],toDOM:function(e){return["span",{"data-node-type":r,"data-macro-id":e.attrs.macroId,"data-schema-version":e.attrs.schemaVersion,"data-server":e.attrs.server,"data-server-id":e.attrs.serverId,"data-jira-issue":e.attrs.issueKey},e.attrs.issueKey]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="confluenceUnsupportedInline",o={group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},toDOM:function(e){return["div",{"data-node-type":r,"data-confluence-unsupported":"inline","data-confluence-unsupported-inline-cxhtml":e.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(r,'"]'),getAttrs:function(e){return{cxhtml:e.getAttribute("data-confluence-unsupported-inline-cxhtml")}}}]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="confluenceUnsupportedBlock",o={group:"block",attrs:{cxhtml:{default:null}},toDOM:function(e){return["div",{"data-node-type":r,"data-confluence-unsupported":"block","data-confluence-unsupported-block-cxhtml":e.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(r,'"]'),getAttrs:function(e){return{cxhtml:e.getAttribute("data-confluence-unsupported-block-cxhtml")}}}]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(159),o={content:"inline*",defining:!0,marks:"_",attrs:{localId:{default:""},state:{default:"DECIDED"}},parseDOM:[{tag:"li[data-decision-local-id]",priority:100,getAttrs:function(e){return{localId:r.b.generate(),state:e.getAttribute("data-decision-state")}}}],toDOM:function(e){var t=e.attrs;return["li",{"data-decision-local-id":t.localId||"local-decision","data-decision-state":t.state},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(159),o={content:"inline*",defining:!0,selectable:!1,marks:"_",attrs:{localId:{default:""},state:{default:"TODO"}},parseDOM:[{tag:"div[data-task-local-id]",priority:100,getAttrs:function(e){return{localId:r.b.generate(),state:e.getAttribute("data-task-state")||"TODO"}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-task-local-id":t.localId||"local-task","data-task-state":t.state||"TODO"},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!0,group:"inline",selectable:!0,attrs:{timestamp:{default:""}},parseDOM:[{tag:'span[data-node-type="date"]',getAttrs:function(e){return{timestamp:e.getAttribute("data-timestamp")}}}],toDOM:function(e){return["span",{"data-node-type":"date","data-timestamp":e.attrs.timestamp}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(159),o={inline:!0,group:"inline",selectable:!0,attrs:{text:{default:""},color:{default:""},localId:{default:r.b.generate()},style:{default:""}},parseDOM:[{tag:'span[data-node-type="status"]',getAttrs:function(e){var t=e;return{text:t.textContent.replace(/\n/,"").trim(),color:t.getAttribute("data-color"),localId:r.b.generate(),style:t.getAttribute("data-style")}}}],toDOM:function(e){var t=e.attrs,n=t.text;return["span",{"data-node-type":"status","data-color":t.color,"data-local-id":t.localId,"data-style":t.style,contenteditable:"false"},n]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!1,marks:"unsupportedMark unsupportedNodeAttribute",content:"(paragraph | heading | mediaSingle | mediaGroup | unsupportedBlock)+",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"nestedExpand//",tag:'[data-node-type="nestedExpand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="nestedExpand"]',getAttrs:function(e){return{title:e.getAttribute("data-title"),__expanded:!0}}}],toDOM:function(e){return["div",{"data-node-type":"nestedExpand","data-title":e.attrs.title,"data-expanded":e.attrs.__expanded},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(284),o={inline:!1,group:"block",atom:!0,selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{tag:'[data-node-type="extension"]',getAttrs:function(e){return Object(r.a)(e)}}],toDOM:function(e){return["div",{"data-node-type":"extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(284),o={inline:!0,group:"inline",selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},localId:{default:null}},parseDOM:[{tag:"span[data-extension-type]",getAttrs:function(e){return Object(r.a)(e,!0)}}],toDOM:function(e){return["span",{"data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-local-id:":e.attrs.localId,contenteditable:"false"}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(284),o={inline:!1,group:"block",marks:"dataConsumer fragment",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | extension | unsupportedBlock | embedCard)+",defining:!0,selectable:!0,isolating:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{context:"bodiedExtension//",tag:'[data-node-type="bodied-extension"]',skip:!0},{tag:'[data-node-type="bodied-extension"]',getAttrs:function(e){return Object(r.a)(e)}}],toDOM:function(e){return["div",{"data-node-type":"bodied-extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!0,group:"inline",selectable:!0,draggable:!0,attrs:{url:{default:null},data:{default:null}},parseDOM:[{tag:"a[data-inline-card], span[data-inline-card]",priority:100,getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("href")||t.getAttribute("data-card-url")||null,data:n?JSON.parse(n):null}}},{tag:"div[data-inline-card]",getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("data-card-url"),data:n?JSON.parse(n):null}}}],toDOM:function(e){var t={"data-inline-card":"",href:e.attrs.url||"","data-card-data":e.attrs.data?JSON.stringify(e.attrs.data):""};return e.attrs.url?["a",t,e.attrs.url]:["a",t]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!1,group:"block",draggable:!0,selectable:!0,attrs:{url:{default:null},data:{default:null}},parseDOM:[{tag:"a[data-block-card]",priority:100,getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("href")||null,data:n?JSON.parse(n):null}}},{tag:"div[data-block-card]",getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("data-card-url")||null,data:n?JSON.parse(n):null}}}],toDOM:function(e){return["a",{"data-block-card":"",href:e.attrs.url||"","data-card-data":e.attrs.data?JSON.stringify(e.attrs.data):""}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!1,group:"block",selectable:!0,attrs:{url:{default:""},layout:{default:"center"},width:{default:100},originalWidth:{default:null},originalHeight:{default:null}},parseDOM:[{tag:"div[data-embed-card]",getAttrs:function(e){return{url:e.getAttribute("data-card-url"),layout:e.getAttribute("data-layout")||"center",width:Number(e.getAttribute("data-width"))||null,originalWidth:Number(e.getAttribute("data-card-original-width"))||null,originalHeight:Number(e.getAttribute("data-card-original-height"))||null}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-embed-card":"","data-card-url":t.url,"data-layout":t.layout,"data-width":t.width,"data-original-width":t.originalWidth,"data-original-height":t.originalHeight}]}}},function(e,t,n){"use strict";t.a={group:"block",content:"inline+",marks:"_",toDOM:function(){return["div",{"data-node-type":"unknownBlock"},0]},parseDOM:[{tag:'div[data-node-type="'.concat("unknownBlock",'"]')}]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]',getAttrs:function(e){return{originalValue:JSON.parse(e.getAttribute("data-original-value")||"{}")}}}],toDOM:function(e){return["div",{"data-node-type":"unsupportedBlock","data-original-value":JSON.stringify(e.attrs.originalValue)},"Unsupported content"]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]',getAttrs:function(e){return{originalValue:JSON.parse(e.getAttribute("data-original-value")||"{}")}}}],toDOM:function(e){return["span",{"data-node-type":"unsupportedInline","data-original-value":JSON.stringify(e.attrs.originalValue)},"Unsupported content"]}}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(335),o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=parseInt("".concat(e),10),o=Object.keys(n),a=o[0];return o.forEach((function(e){r<n[e]&&!t&&(t=e)})),t||a},i={small:173,medium:225,large:300,xlarge:1/0},a=function(e){switch(e.breakpointSize){case"small":return"\n        .title {\n          font-size: 12px;\n        }\n        .file-type-icon span {\n          // We need to use important here since we can't use the dimensions provided by the Icon component\n          ".concat(Object(r.f)("14px !important"),"\n        }\n      ");case"medium":return"\n        .title {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ".concat(Object(r.f)("16px !important"),"\n        }\n      ");case"large":return"\n        .overlay {\n          padding: 24px;\n        }\n        .title {\n          font-size: 14px;\n        }\n        .file-size {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ".concat(Object(r.f)("18px !important"),"\n        }\n      ");case"xlarge":return"\n        border-radius: 2px;\n\n        .title {\n          font-size: 16px;\n        }\n\n        .file-size {\n          font-size: 14px;\n        }\n        \n        .wrapper, .img-wrapper {\n          border-radius: 2px;\n        }\n\n        .overlay {\n          padding: 24px;\n        }\n\n        .file-type-icon span {\n          ".concat(Object(r.f)("18px !important"),"\n        }\n      ")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(335),o=n(748),i=n(306),a=function(e){var t=e.selected;return"\n    ".concat(o.b,"\n\n    &::after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      box-sizing: border-box;\n      pointer-events: none;\n      ").concat(r.b,"\n      ").concat(t?Object(o.a)([i.a.Border]):"","\n    }\n  ")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=void 0,t.bind=function(e,t){var n=t.type,r=t.listener,o=t.options;return e.addEventListener(n,r,o),function(){e.removeEventListener(n,r,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchScrollable=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=n(349),c=n(361);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TouchScrollable=function(e){function t(){var e,n,r;s(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getScrollableArea=function(e){r.scrollableArea=e},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){a.canUseEventListeners&&(this.scrollableArea.addEventListener("touchstart",c.preventInertiaScroll,c.listenerOptions),this.scrollableArea.addEventListener("touchmove",c.allowTouchMove,c.listenerOptions))}},{key:"componentWillUnmount",value:function(){a.canUseEventListeners&&(this.scrollableArea.removeEventListener("touchstart",c.preventInertiaScroll,c.listenerOptions),this.scrollableArea.removeEventListener("touchmove",c.allowTouchMove,c.listenerOptions))}},{key:"render",value:function(){var e=this.props,t=e.children,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children"]);return"function"==typeof t?t(this.getScrollableArea):(0,i.cloneElement)(t,r({ref:this.getScrollableArea},n))}}]),t}(i.PureComponent)},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(915),o=n(916),i=n(919),a=RegExp("[']","g");e.exports=function(e){return function(t){return r(i(o(t).replace(a,"")),e,"")}}},function(e,t,n){"use strict";e.exports=n(926)},function(e,t,n){"use strict";t.Any=n(448),t.Cc=n(449),t.Cf=n(931),t.P=n(315),t.Z=n(450)},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&c.push(i.token-1));for(;c.length;){for(r=(n=c.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(126!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,length:0,jump:n,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1&&t[n-1].marker===r.marker,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=c?"strong_open":"em_open",i.tag=c?"strong":"em",i.nesting=1,i.markup=c?a+a:a,i.content="",(i=e.tokens[o.token]).type=c?"strong_close":"em_close",i.tag=c?"strong":"em",i.nesting=-1,i.markup=c?a+a:a,i.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,jump:n,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";e.exports=n(979)},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&c.push(i.token-1));for(;c.length;){for(r=(n=c.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(126!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=c?"strong_open":"em_open",i.tag=c?"strong":"em",i.nesting=1,i.markup=c?a+a:a,i.content="",(i=e.tokens[o.token]).type=c?"strong_close":"em_close",i.tag=c?"strong":"em",i.nesting=-1,i.markup=c?a+a:a,i.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(e,n[t].delimiters)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r),i=n(25),a=n(629),c=n.n(a),s=n(17),u=n(127),l=n(133),d=n(85),f=Object(i.b)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),p=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),c=a&&!a.isCollapsed&&a.getRangeAt(0);if(!c)return n;var s=r.getBoundingClientRect(),u=t.state.selection,l=u.head,d=u.anchor,f=t.coordsAtPos(Math.min(l,d)),p=t.coordsAtPos(Math.max(l,d)-Math.min(c.endOffset,1)),h=(f.top||0)-1.5*s.height,m=0;if(f.top!==p.top){m=l>d?Math.max(f.right,p.right):Math.min(f.left,p.left);var v=c.getClientRects()[0];v.right<m&&(m=v.left+v.width/2)}else m=f.left+(p.right-f.left)/2;return m-=s.width/2,{top:h-i.top+o.scrollTop,left:Math.max(0,m-i.left)}}},h=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),c=a&&!a.isCollapsed&&a.getRangeAt(0);if(!c)return n;var s,u=r.getBoundingClientRect(),l=t.state.selection,d=l.head,f=l.anchor,p=t.coordsAtPos(Math.min(d,f)),h=t.coordsAtPos(Math.max(d,f)-Math.min(c.endOffset,1));s=d>f&&p.top!==h.top?(h.top||0)+u.height/1.15:(p.top||0)-1.5*u.height;var m=(d>f?h.right:p.left)-u.width/2;return{top:s-i.top+o.scrollTop,left:Math.max(0,m-i.left)}}},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.schema,i=Object(d.j)(e);if(i!==l.a.INVALID){var a=t.formatMessage(f.createComment),m=t.formatMessage(f.createCommentInvalid),v={type:"button",showTitle:!0,disabled:i===l.a.DISABLED,testId:l.b.floatingToolbarCreateButton,icon:c.a,tooltipContent:i===l.a.DISABLED?m:o.a.createElement(s.ToolTipContent,{description:a,keymap:s.addInlineComment}),title:a,onClick:function(e,t){return Object(u.e)(!0)(e,t)}},b=r.marks.annotation,g=Object.keys(r.nodes).reduce((function(e,t){var n=r.nodes[t];return n.allowsMarkType(b)&&e.push(n),e}),[]),y=t.formatMessage(f.toolbar),O=n?p:h,w=O(y);return{title:y,nodeType:g,items:[v],onPositionCalculated:w}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e));a.displayName="CommentIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 4a1 1 0 00-1 1v6a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H3zm1 2v4h8V6H4z"/></svg>'},e,{size:"small"}));a.displayName="Issue16Icon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 12a4 4 0 100-8 4 4 0 000 8z"/></svg>'},e,{size:"small"}));a.displayName="Bug16Icon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 11l-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426L8 11zm0-2.371l2 1.274V5H6v4.902L8 8.63z"/></svg>'},e,{size:"small"}));a.displayName="Story16Icon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M6.972 6.128a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zm7 0a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));a.displayName="Blog16Icon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o={};function i(e){var t=Object(r.useRef)(o);return t.current===o&&(t.current=e()),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0),o=n.n(r);function i(){return o.a.createElement("svg",{focusable:"false","aria-hidden":!0,width:40,height:40},o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},o.a.createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),o.a.createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),o.a.createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),o.a.createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),o.a.createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),o.a.createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),o.a.createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),o.a.createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"})))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var a=n[i];if(!o(a))return!1;if(e[a]!==t[a])return!1}return!0},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0};function i(e,t){var n;return e.descendants((function(e){return!n&&(!t(e)||(n=e,!1))})),n}},function(e,t,n){var r=n(559),o=n(558),i=n(435),a=n(560);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="ChevronRightIcon";var c=a;t.default=c},function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";t.errorObject={e:{}}},function(e,t,n){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(211).Subscription);t.SubjectSubscription=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(229),i=n(1044);t.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=a;var c=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return r(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new s(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=c;var s=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(156),i=n(648),a=n(649),c=n(1045),s=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];c.isScheduler(r)?e.pop():r=null;var o=e.length;return o>1?new t(e,r):1===o?new i.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t[n]),o.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var i=0;i<r&&!e.closed;i++)e.next(n[i]);e.complete()},t}(o.Observable);t.ArrayObservable=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;t?r.complete():(r.next(n),r.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(n(156).Observable);t.ScalarObservable=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n(156).Observable);t.EmptyObservable=o},function(e,t,n){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},function(e,t,n){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},function(e,t,n){(function(t){for(var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,r=[],o=0;o<256;o++)r[o]=(o+256).toString(16).substr(1);e.exports=function(e,o){var a;if(t.isBuffer(e))a=function(e,t){var n=t||0,o=r;return o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+"-"+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]+o[e[n++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;a=e}if(a=a.toLowerCase(),!n.test(a))return!1;if(void 0===o)o=i(a);else if(i(a)!==o)return!1;switch(o){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(a.charAt(19));default:throw new Error("Invalid version provided.")}};var i=e.exports.version=function(e){return 0|e.charAt(14)}}).call(this,n(501).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.artifacts,r=e.mediaType,o=e.mimeType,i=e.name,a=e.processingStatus,c=e.representations,s=e.size,u=e.createdAt;if(!(n||r||o||i||a||c||s||"number"!=typeof u)){var l=t-u;if(l>432e5)return!0}return!1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(20),o=n.n(r),i=n(19),a=n.n(i),c=n(10),s=n.n(c),u=(n(465),n(705)),l=n.n(u),d=function(e,t){return t?"".concat(e,"-").concat(t):e},f=function(e,t){var n=t.reduce((function(e,t){var n=t.id,r=t.collection;return e[d(n,r)]=t.error instanceof Error?t.error:t.details,e}),{});return e.map((function(e){var t=e.id,r=e.collectionName,o=d(t,r);return n[o]||null}))};function p(e){return new l.a(function(e){return function(){var t=a()(s.a.mark((function t(n){var r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"__media-single-file-collection__",r=n.reduce((function(e,t){var n=t.collectionName||"__media-single-file-collection__",r=e[n]||[];return-1===r.indexOf(t.id)&&r.push(t.id),e[n]=r,e}),{}),i=[],t.next=5,Promise.all(Object.keys(r).map(function(){var t=a()(s.a.mark((function t(n){var a,c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r[n],c="__media-single-file-collection__"===n?void 0:n,t.prev=2,t.next=5,e.getItems(a,c);case 5:u=t.sent,i.push.apply(i,o()(u.data.items)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a.forEach((function(e){i.push({id:e,collection:c,error:t.t0})}));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",f(n,i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e),{maxBatchSize:100})}},function(e,t,n){"use strict";var r=n(320),o="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=function(){function e(e){var t=this;this.loadVideo=function(e){return void 0===e&&(e=0),new Promise((function(n,r){var i=document.createElement("video");if(i.preload="metadata",i.src=t.videoUrl,i.muted=!0,0===e)i.play();else{if("number"==typeof e)i.currentTime=e;else if("string"==typeof e){var a=i.duration;i.currentTime=t.getSmartTime(e,a)}o&&i.play()}i.addEventListener("timeupdate",(function e(){i.removeEventListener("timeupdate",e),i.pause(),n(i)})),i.addEventListener("error",(function(){r(new Error("failed to load video"))}))}))},this.getDimensions=function(){return Object(r.b)(t,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.loadVideo()];case 1:return[2,{width:(e=t.sent()).videoWidth,height:e.videoHeight}]}}))}))};var n=URL.createObjectURL(e);this.videoUrl=n}return e.prototype.takeSnapshot=function(e){return Object(r.b)(this,void 0,void 0,(function(){var t,n,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.loadVideo(e)];case 1:if(t=r.sent(),n=document.createElement("canvas"),!t.videoWidth&&!t.videoHeight)throw new Error("error retrieving video dimensions");if(n.width=t.videoWidth,n.height=t.videoHeight,!(o=n.getContext("2d")))throw new Error("error creating canvas context");return o.drawImage(t,0,0,n.width,n.height),[2,n.toDataURL()]}}))}))},e.prototype.end=function(){this.revoke()},e.prototype.revoke=function(){URL.revokeObjectURL(this.videoUrl)},e.prototype.getSmartTime=function(e,t){return void 0===t&&(t=0),{start:0,middle:t/2,end:t}[e]},e}();t.a=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(228),i=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then((function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return r.schedule(a,0,{value:this.value,subscriber:e})}else n.then((function(n){t.value=n,t._isScalar=!0,e.closed||e.add(r.schedule(a,0,{value:n,subscriber:e}))}),(function(t){e.closed||e.add(r.schedule(c,0,{err:t,subscriber:e}))})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}))},t}(n(156).Observable);function a(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function c(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}t.PromiseObservable=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#fff" fill-opacity=".01" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.207 5.793a1 1 0 010 1.414L8.414 11H18a1 1 0 110 2H8.414l3.793 3.793a1 1 0 11-1.415 1.414l-5.499-5.5A.997.997 0 015 12.028v-.057a.996.996 0 01.293-.678l5.499-5.5a1 1 0 011.415 0z" fill="currentColor"/></svg>'},e));a.displayName="ArrowLeftIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r,o,i=n(7),a=n.n(i),c=n(48),s=c.a.img(r||(r=a()(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n  border-radius: 2px;\n  user-select: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),u=c.a.span(o||(o=a()(["\n  margin-right: -2px;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V3.993A.997.997 0 0012 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 003 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0021 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="AddIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),o=n(374),i=n(84),a=function(e){var t=e.emoji;return Object(r.d)("div",{css:i.F},Object(r.d)("span",{css:i.H},Object(r.d)(o.a,{emoji:t})),Object(r.d)("div",{css:i.I},t.name&&Object(r.d)("div",{css:i.r},t.name),Object(r.d)("div",{css:i.v},t.shortName)))}},function(e,t,n){"use strict";n.r(t),n.d(t,"JiraIcon",(function(){return l}));var r=n(0),o=n.n(r),i=n(485),a=n(233),c=n(514),s=n(515),u=function(e){var t=e.appearance,n=(e.size,e.iconGradientStart),r=e.iconGradientStop,o={iconGradientStart:n,iconGradientStop:r,iconColor:e.iconColor},a=Object(i.b)({iconGradientStart:r});return t&&(o=Object(c.a)(t),a="jiraIcon-".concat(t)),'\n  <svg viewBox="0 0 32 32" height="32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="'.concat(a,'">\n        <stop stop-color="').concat(o.iconGradientStart,'" ').concat("inherit"===o.iconGradientStart?'stop-opacity="0.4"':"",' offset="18%"></stop>\n        <stop stop-color="').concat(o.iconGradientStop,'" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path fill="').concat(o.iconColor,'" d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z"></path>\n      <path fill="url(#').concat(a,')" d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z"></path>\n      <path fill="url(#').concat(a,')" d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z"></path>\n    </g>\n  </svg>')},l=function(e){var t=e.appearance,n=e.label,r=void 0===n?"Jira":n,i=e.size,c=void 0===i?a.a.size:i,l=e.testId,d=e.textColor,f=void 0===d?a.a.textColor:d,p=e.iconColor,h=void 0===p?a.a.iconColor:p,m=e.iconGradientStart,v=void 0===m?a.a.iconGradientStart:m,b=e.iconGradientStop,g=void 0===b?a.a.iconGradientStop:b;return o.a.createElement(s.a,{appearance:t,label:r,svg:u({appearance:t,iconGradientStart:v,iconGradientStop:g,iconColor:h,size:c}),iconColor:h,iconGradientStart:v,iconGradientStop:g,size:c,testId:l,textColor:f})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 10-1.414 1.414l2 2a1 1 0 001.414 0l4-4a1 1 0 10-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e));a.displayName="CheckCircleIcon";var c=a;t.default=c},function(e,t,n){"use strict";var r,o=n(7),i=n.n(o),a=n(2),c=n(745),s=Object(a.c)(r||(r=i()(["\n  display: flex;\n  justify-content: center;\n  margin-top: 64px;\n"])));t.a=function(){return Object(a.d)("div",{css:s},Object(a.d)(c.a,{size:"small"}))}},function(e,t,n){var r=n(1062),o=n(1063),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i={error:null},a=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=i,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n),a.getDerivedStateFromError=function(e){return{error:e}};var c=a.prototype;return c.reset=function(){this.setState(i)},c.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},c.componentDidUpdate=function(e,t){var n,r,o,i,a=this.state.error,c=this.props.resetKeys;null!==a&&null!==t.error&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(i=c)&&(i=[]),o.length!==i.length||o.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,c),this.reset())},c.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof n)return n(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},a}(r.Component);e.ErrorBoundary=a,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],o=t[1];if(null!=e)throw e;if(null!=n)throw n;return o},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(a,t,r.createElement(e,n))},o=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));a.displayName="ChevronRightCircleIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return R})),n.d(t,"d",(function(){return N}));var r=n(5),o=n.n(r),i=n(13),a=n.n(i),c=n(15),s=n.n(c),u=n(6),l=n.n(u),d=n(1),f=n.n(d),p=n(9),h=n.n(p),m=n(8),v=n.n(m),b=n(12),g=n(745),y=n(0),O=n(472),w=n(112),k=n(340),E=n(209);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l()(e);if(t){var o=l()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var S=function(e){a()(n,e);var t=x(n);function n(){return v()(this,n),t.apply(this,arguments)}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,r=e.className;return Object(b.d)("div",{id:t,"data-category-id":t,className:r},Object(b.d)("div",{css:E.f},Object(w.m)(n)?Object(b.d)(O.a,k.a[n]):n))}}]),n}(y.PureComponent),j=n(374);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l()(e);if(t){var o=l()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var T=function(e){a()(n,e);var t=C(n);function n(){return v()(this,n),t.apply(this,arguments)}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.emojis,n=e.onSelected,r=e.onMouseMove,o=e.title,i=e.showDelete,a=e.onDelete;return Object(b.d)("div",{css:E.l},t.map((function(e){var t=e.shortName,c=e.id,s=c?"".concat(c,"-").concat(o):"".concat(t,"-").concat(o);return Object(b.d)("span",{css:E.g,key:s},Object(b.d)(j.a,{emoji:e,selectOnHover:!0,onSelected:n,onMouseMove:r,showDelete:i,onDelete:a,placeholderSize:24,shouldBeInteractive:!0}))})))}}]),n}(y.PureComponent),_=n(418);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l()(e);if(t){var o=l()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var P=h()((function e(t,n){v()(this,e),this.props=t,this.height=n})),I=function(e){a()(n,e);var t=A(n);function n(e){var r;return v()(this,n),r=t.call(this,e,_.a.emojiRowHeight),f()(o()(r),"renderItem",(function(){return Object(b.d)(T,r.props)})),r}return h()(n)}(P),M=function(e){a()(n,e);var t=A(n);function n(){var e;return v()(this,n),e=t.call(this,{},_.a.loadingRowHeight),f()(o()(e),"renderItem",(function(){return Object(b.d)("div",{css:E.m},Object(b.d)("div",null,Object(b.d)(g.a,{size:"medium"})))})),e}return h()(n)}(P),R=function(e){a()(n,e);var t=A(n);function n(e){var r;return v()(this,n),r=t.call(this,e,_.a.categoryHeadingHeight),f()(o()(r),"renderItem",(function(){return Object(b.d)(S,r.props)})),r}return h()(n)}(P),N=function(e,t){var n=t.index,r=t.key,o=t.style,i=e[n];return Object(b.d)("div",{style:o,key:r},i.renderItem(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={smile:["1f642",":slight_smile:",""],sad:["1f641",":slight_frown:",""],cheeky:["1f61b",":stuck_out_tongue:",""],laugh:["1f600",":grinning:",""],wink:["1f609",":wink:",""],information:["2139",":information_source:",""],tick:["2705",":white_check_mark:",""],cross:["274c",":x:",""],warning:["26a0",":warning:",""],plus:["2795",":heavy_plus_sign:",""],minus:["2796",":heavy_minus_sign:",""],question:["2753",":question:","?"],"thumbs-up":["1f44d",":thumbsup:",""],"thumbs-down":["1f44e",":thumbsdown:",""],"light-on":["1f4a1",":bulb:",""],"yellow-star":["2b50",":star:",""],"light-off":["1f6ab",":no_entry_sign:",""],"red-star":["2764",":heart:",""],"green-star":["1f49a",":green_heart:",""],"blue-star":["1f499",":blue_heart:",""],heart:["2764",":heart:",""],"broken-heart":["1f494",":broken_heart:",""]};var o={inline:!0,group:"inline",selectable:!0,attrs:{shortName:{default:""},id:{default:""},text:{default:""}},parseDOM:[{tag:"div.ak-editor-panel__icon span",ignore:!0},{tag:"span[data-emoji-short-name]",getAttrs:function(e){var t=e;return{shortName:t.getAttribute("data-emoji-short-name")||o.attrs.shortName.default,id:t.getAttribute("data-emoji-id")||o.attrs.id.default,text:t.getAttribute("data-emoji-text")||o.attrs.text.default}}},{tag:"img[data-emoticon-name]",getAttrs:function(e){return t=e.getAttribute("data-emoticon-name"),(n=r[t])?{id:n[0],shortName:n[1],text:n[2]}:{id:"2b50",shortName:":".concat(t,":"),text:""};var t,n}},{tag:"img[data-hipchat-emoticon]",getAttrs:function(e){return t=e.getAttribute("data-hipchat-emoticon"),{id:"".concat("atlassian-").concat(t),shortName:":".concat(t,":"),text:""};var t}},{tag:"img.emoji[data-emoji-short-name]",getAttrs:function(e){var t=e;return{shortName:t.getAttribute("data-emoji-short-name")||o.attrs.shortName.default,id:t.getAttribute("data-emoji-id")||o.attrs.id.default,text:t.getAttribute("data-emoji-text")||o.attrs.text.default}}}],toDOM:function(e){var t=e.attrs,n=t.shortName,r=t.id,o=t.text;return["span",{"data-emoji-short-name":n,"data-emoji-id":r,"data-emoji-text":o,contenteditable:"false"},o]}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m}));n(1),n(10),n(19);var r=n(13),o=n.n(r),i=n(15),a=n.n(i),c=n(6),s=n.n(c),u=n(8),l=n.n(u),d=n(9),f=n.n(d),p=(n(276),n(97),n(177));n(82),n(210);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s()(e);if(t){var o=s()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a()(this,n)}}var m=function(e){o()(n,e);var t=h(n);function n(){return l()(this,n),t.apply(this,arguments)}return f()(n,[{key:"shouldHighlightMention",value:function(e){return!1}},{key:"filter",value:function(e){throw new Error("not yet implemented.\nParams: query=".concat(e))}},{key:"recordMentionSelection",value:function(e){}},{key:"isFiltering",value:function(e){return!1}},{key:"_notifyListeners",value:function(e,t){Object(p.a)("ak-mention-resource._notifyListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.changeListeners.forEach((function(n,r){try{n(e.mentions.slice(0,20),e.query,t)}catch(e){Object(p.a)("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyAllResultsListeners",value:function(e){Object(p.a)("ak-mention-resource._notifyAllResultsListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.allResultsListeners.forEach((function(t,n){try{t(e.mentions.slice(0,20),e.query)}catch(e){Object(p.a)("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyErrorListeners",value:function(e,t){this.errListeners.forEach((function(n,r){try{n(e,t)}catch(e){Object(p.a)("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyInfoListeners",value:function(e){this.infoListeners.forEach((function(t,n){try{t(e)}catch(e){Object(p.a)("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyAnalyticsListeners",value:function(e,t,n,r){this.analyticsListeners.forEach((function(o,i){try{o(e,t,n,r)}catch(e){Object(p.a)("error from listener '".concat(i,"', ignoring"),e)}}))}}]),n}(function(){function e(){l()(this,e),this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map,this.analyticsListeners=new Map}return f()(e,[{key:"subscribe",value:function(e,t,n,r,o,i){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),r&&this.infoListeners.set(e,r),o&&this.allResultsListeners.set(e,o),i&&this.analyticsListeners.set(e,i)}},{key:"unsubscribe",value:function(e){this.changeListeners.delete(e),this.errListeners.delete(e),this.infoListeners.delete(e),this.allResultsListeners.delete(e),this.analyticsListeners.delete(e)}}]),e}()),v=function(e){return!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving())}},function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return E}));var r=n(1),o=n.n(r),i=n(19),a=n.n(i),c=n(20),s=n.n(c),u=n(10),l=n.n(u),d=n(321);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){var n,r=e.map((function(e){return(e.modules.quickInsert||[]).map((function(t){return function(e,t){var n=t.title||e.title,r="".concat(e.key,":").concat(t.key),o=Object(d.a)(t.action,e);if(!o)throw new Error("Couldn't find any action for ".concat(n," (").concat(r,")"));return{key:r,title:n,extensionType:e.type,keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:o}}(e,t)}))}));return(n=[]).concat.apply(n,s()(r)).map(t)};function v(e){return b.apply(this,arguments)}function b(){return(b=a()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=a()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.modules.autoConvert||!t.modules.autoConvert.url){e.next=2;break}return e.abrupt("return",t.modules.autoConvert.url);case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",(n=[]).concat.apply(n,s()(r)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){return function(t){var n,r=p(e);try{for(r.s();!(n=r.n()).done;){var o=(0,n.value)(t);if(o)return o}}catch(e){r.e(e)}finally{r.f()}}};function y(e){return O.apply(this,arguments)}function O(){return(O=a()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,n.getAutoConverter();case 5:return r=e.sent,e.abrupt("return",g(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).error.apply(t,[e].concat(r))},k=function(e,t){var n=e.tooltip,r=e.key,i=e.label,a=e.icon,c=e.action,s=e.disabled,u=[t,r].join(":");"function"!=typeof c&&w("Provided action is not a function for extension toolbar button: ".concat(i," (").concat(u,")"));var l={};switch(e.display){case"icon":a||w("icon should be provided for extension toolbar button (".concat(u,"), when display is set to 'icon'")),l={icon:a};break;case"label":i||w("label should be provided for extension toolbar button (".concat(u,"), when display is set to 'label'")),l={label:i};break;default:i&&a||w("label and icon should be provided for extension toolbar button (".concat(u,"), when display is not set or set to 'icon-and-label'")),l={icon:a,label:i}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:u,tooltip:n,action:c,disabled:s},l)},E=function(e,t,n){return e.map((function(e){if(e.modules.contextualToolbars){var r=function(e){if(e.length>1){var t=e.map((function(e){return e.context}));return t.find((function(e,n){return n!==t.findIndex((function(t){return function(e,t){if(e.type===t.type&&e.nodeType===t.nodeType){if("node"===e.type)return!0;if("extension"===e.type&&"extension"===t.type)return e.extensionKey===t.extensionKey&&e.extensionType===t.extensionType}return!1}(e,t)}))}))}}(e.modules.contextualToolbars);return r?(w("[contextualToolbars] Duplicate context detected - ".concat(JSON.stringify(r),".")),[]):e.modules.contextualToolbars.map((function(e){if(function(e,t){var n;if("node"===e.context.type&&e.context.nodeType===t.type)return!0;if("extension"!==e.context.type||t.type!==e.context.nodeType)return!1;var r,o,i=e.context,a=i.extensionType,c=i.extensionKey;if(a&&a!==(null===(n=t.attrs)||void 0===n?void 0:n.extensionType))return!1;return"string"==typeof c?c===(null===(r=t.attrs)||void 0===r?void 0:r.extensionKey):!(!Array.isArray(c)||!c.length)&&c.includes(null===(o=t.attrs)||void 0===o?void 0:o.extensionKey)}(e,t)){var r=e.toolbarItems;return"function"==typeof r?r(t,n):r}return[]})).flatMap((function(t){return t.map((function(t){return k(t,e.key)}))}))}return[]})).flatMap((function(e){return e}))}},function(e,t,n){"use strict";(function(e){var r,o=n(520),i=n(674);r=void 0!==e&&e.env.ANALYTICS_NEXT_MODERN_CONTEXT?i.a:o.a,t.a=r}).call(this,n(208))},function(e,t,n){"use strict";var r=n(20),o=n.n(r),i=n(0),a=n.n(i),c=n(147),s=n(283),u=n(187);t.a=function(e){var t=e.data,n=e.children,r=Object(u.a)(t),l=Object(s.a)(),d=Object(i.useCallback)((function(){return[].concat(o()(l.getAtlaskitAnalyticsContext()),[r.current])}),[l,r]),f=Object(i.useMemo)((function(){return{getAtlaskitAnalyticsContext:d,getAtlaskitAnalyticsEventHandlers:l.getAtlaskitAnalyticsEventHandlers}}),[l,d]);return a.a.createElement(c.a.Provider,{value:f},n)}},function(e,t,n){"use strict";var r=n(20),o=n.n(r),i=n(0),a=n.n(i),c=n(147),s=n(283),u=n(187);t.a=function(e){var t=e.children,n=e.channel,r=e.onEvent,l=Object(s.a)(),d=Object(u.a)(r),f=Object(u.a)(n),p=Object(i.useCallback)((function(){return[].concat(o()(l.getAtlaskitAnalyticsEventHandlers()),[function(e,t){"*"!==f.current&&f.current!==t||d.current(e,t)}])}),[l,f,d]),h=Object(i.useMemo)((function(){return{getAtlaskitAnalyticsEventHandlers:p,getAtlaskitAnalyticsContext:l.getAtlaskitAnalyticsContext}}),[l,p]);return a.a.createElement(c.a.Provider,{value:h},t)}},function(e,t,n){"use strict";var r=n(20),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(5),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(1),g=n.n(b),y=n(0),O=n.n(y),w=n(59),k=n.n(w),E=n(147);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var S={getAtlaskitAnalyticsEventHandlers:k.a.func,getAtlaskitAnalyticsContext:k.a.func},j=function(){return[]},C=function(e){f()(n,e);var t=x(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(l()(r),"getChildContext",(function(){return{getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:r.getAtlaskitAnalyticsContext}})),g()(l()(r),"getAnalyticsEventHandlers",(function(){var e=r.props,t=e.channel,n=e.onEvent,i=r.context.getAtlaskitAnalyticsEventHandlers,a=void 0===i?j:i;return[function(e,r){"*"!==t&&t!==r||n(e,r)}].concat(o()(a()))})),g()(l()(r),"getAtlaskitAnalyticsContext",(function(){var e=r.context.getAtlaskitAnalyticsContext;return(void 0===e?j:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return s()(n,[{key:"render",value:function(){var e=this.props.children;return O.a.createElement(E.a.Provider,{value:this.contextValue},e)}}]),n}(y.Component);g()(C,"contextTypes",S),g()(C,"childContextTypes",S),t.a=C},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(1),o=n.n(r),i=n(0),a=n.n(i),c=n(124),s=n(73),u=n(280),l=n(16),d=n(385);function f(e){switch(e){case"M":return 760;case"L":return 850;default:return 680}}function p(e){var t=e.baseFontSize,n=e.children,r=Object(u.b)().mode,d=Object(i.useMemo)((function(){return o()({baseFontSize:t||Object(l.g)(),layoutMaxWidth:s.i},l.a,{mode:r})}),[t,r]);return a.a.createElement(c.e,{theme:d},n)}function h(e){var t=e.children,n=e.baseFontSize;return a.a.createElement(d.a,null,(function(e){var r=e.breakpoint;return a.a.createElement(p,{breakpoint:r,baseFontSize:n},a.a.createElement(a.a.Fragment,null,t))}))}},function(e,t,n){var r=n(897),o=n(898),i=o;i.v1=r,i.v4=o,e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M6 14c0-1.105.902-2 2.009-2h7.982c1.11 0 2.009.894 2.009 2.006v4.44c0 3.405-12 3.405-12 0V14z"/><circle cx="12" cy="7" r="4"/></g></svg>'},e));a.displayName="PersonIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M6 12h8v-2H6v2zM4 8.99C4 8.445 4.456 8 5.002 8h9.996C15.55 8 16 8.451 16 8.99V14H4V8.99z" fill-rule="nonzero"/><path d="M6 7.005C6 5.898 6.898 5 7.998 5h2.004C11.106 5 12 5.894 12 7.005V10H6V7.005zm4 0V7H7.999c.005 0 .002.003.002.005V8h2v-.995z"/><path d="M4.5 17h13.994l1.002-3H4.14l.36 3zm-2.495-4.012A.862.862 0 012.883 12h18.393c.55 0 .857.417.681.944l-1.707 5.112c-.174.521-.758.944-1.315.944H3.725a1.149 1.149 0 01-1.118-.988l-.602-5.024z" fill-rule="nonzero"/></g></svg>'},e));a.displayName="ShipIcon";var c=a;t.default=c},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(12),s=["maxWidth","minWidth","minHeight","maxHeight","testId","role"],u=Object(c.c)({display:"flex",flexDirection:"column",overflow:"auto"});t.a=function(e){var t=e.maxWidth,n=e.minWidth,r=e.minHeight,i=e.maxHeight,l=e.testId,d=e.role,f=a()(e,s);return Object(c.d)("div",o()({style:{minWidth:n,maxWidth:t,minHeight:r,maxHeight:i},css:u,"data-testid":l,role:d},f))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="cubic-bezier(0.15,1,0.3,1)"},function(e,t,n){"use strict";var r=n(902),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,o,i,a,c,s,u,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(o[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},function(e,t,n){"use strict";(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function s(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:s(c(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?l:10===e?d:l||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,c,s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return"BODY"===(c=(a=s).nodeName)||"HTML"!==c&&p(a.firstElementChild)!==a?p(s):s;var u=h(e);return u.host?m(u.host,t):m(e,h(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v(t,"top"),o=v(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function g(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function O(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function j(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=v(e,"top"),r=v(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?O(e.ownerDocument):{},c=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,u=e.offsetWidth-c,l=e.offsetHeight-s;if(u||l){var d=a(e);u-=g(d,"x"),l-=g(d,"y"),o.width-=u,o.height-=l}return S(o)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),o="HTML"===t.nodeName,i=j(e),c=j(t),u=s(e),l=a(t),d=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&o&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var h=S({top:i.top-c.top-d,left:i.left-c.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var m=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);h.top-=d-m,h.bottom-=d-m,h.left-=p-v,h.right-=p-v,h.marginTop=m,h.marginLeft=v}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=b(h,t)),h}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:v(n),c=t?0:v(n,"left"),s={top:a-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:o,height:i};return S(s)}function _(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=c(e);return!!n&&_(n)}function A(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function P(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?A(e):m(e,u(t));if("viewport"===r)i=T(a,o);else{var l=void 0;"scrollParent"===r?"BODY"===(l=s(c(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var d=C(l,a,o);if("HTML"!==l.nodeName||_(a))i=d;else{var f=O(e.ownerDocument),p=f.height,h=f.width;i.top+=d.top-d.marginTop,i.bottom=p+d.top,i.left+=d.left-d.marginLeft,i.right=h+d.left}}var v="number"==typeof(n=n||0);return i.left+=v?n:n.left||0,i.top+=v?n:n.top||0,i.right-=v?n:n.right||0,i.bottom-=v?n:n.bottom||0,i}function I(e){return e.width*e.height}function M(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=P(n,r,i,o),c={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(c).map((function(e){return x({key:e},c[e],{area:I(c[e])})})).sort((function(e,t){return t.area-e.area})),u=s.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:s[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?A(t):m(t,u(n));return C(n,o,r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function D(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function L(e,t,n){n=n.split("-")[0];var r=N(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",c=i?"left":"top",s=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[s]/2-r[s]/2,o[c]=n===c?t[c]-r[u]:t[D(c)],o}function B(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=B(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))})),t}function z(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=L(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=F(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function H(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function W(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function q(e,t,n,r){n.updateBound=r,V(e).addEventListener("resize",n.updateBound,{passive:!0});var o=s(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(s(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function G(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function $(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&$(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var X=n&&/Firefox/i.test(navigator.userAgent);function J(e,t,n){var r=B(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=Z.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),r=Q.slice(n+1).concat(Q.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function oe(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),c=a.indexOf(B(a,(function(e){return-1!==e.search(/,|\s/)})));a[c]&&-1===a[c].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,u=-1!==c?[a.slice(0,c).concat([a[c].split(s)[0]]),[a[c].split(s)[1]].concat(a.slice(c+1))]:[a];return(u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var c=void 0;switch(a){case"%p":c=n;break;case"%":case"%r":default:c=r}return S(c)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){$(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ie={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,c=-1!==["bottom","top"].indexOf(n),s=c?"left":"top",u=c?"width":"height",l={start:E({},s,i[s]),end:E({},s,i[s]+i[u]-a[u])};e.offsets.popper=x({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,c=r.split("-")[0],s=void 0;return s=$(+n)?[+n,0]:oe(n,i,a,c),"left"===c?(i.top+=s[0],i.left-=s[1]):"right"===c?(i.top+=s[0],i.left+=s[1]):"top"===c?(i.left+=s[0],i.top-=s[1]):"bottom"===c&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=H("transform"),o=e.instance.popper.style,i=o.top,a=o.left,c=o[r];o.top="",o.left="",o[r]="";var s=P(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=c,t.boundaries=s;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(l[e],s[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>s[e]&&!t.escapeWithReference&&(r=Math.min(l[n],s[e]-("right"===e?l.width:l.height))),E({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,d[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),c=a?"right":"bottom",s=a?"left":"top",u=a?"width":"height";return n[c]<i(r[s])&&(e.offsets.popper[s]=i(r[s])-n[u]),n[s]>i(r[c])&&(e.offsets.popper[s]=i(r[c])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,c=i.popper,s=i.reference,u=-1!==["left","right"].indexOf(o),l=u?"height":"width",d=u?"Top":"Left",f=d.toLowerCase(),p=u?"left":"top",h=u?"bottom":"right",m=N(r)[l];s[h]-m<c[f]&&(e.offsets.popper[f]-=c[f]-(s[h]-m)),s[f]+m>c[h]&&(e.offsets.popper[f]+=s[f]+m-c[h]),e.offsets.popper=S(e.offsets.popper);var v=s[f]+s[l]/2-m/2,b=a(e.instance.popper),g=parseFloat(b["margin"+d]),y=parseFloat(b["border"+d+"Width"]),O=v-e.offsets.popper[f]-g-y;return O=Math.max(Math.min(c[l]-m,O),0),e.arrowElement=r,e.offsets.arrow=(E(n={},f,Math.round(O)),E(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=P(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=D(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case te:a=[r,o];break;case ne:a=ee(r);break;case re:a=ee(r,!0);break;default:a=t.behavior}return a.forEach((function(c,s){if(r!==c||a.length===s+1)return e;r=e.placement.split("-")[0],o=D(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),p=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),b="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&v,g=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(g&&"start"===i&&p||g&&"end"===i&&h||!g&&"start"===i&&m||!g&&"end"===i&&v),O=!!t.flipVariationsByContent&&(g&&"start"===i&&h||g&&"end"===i&&p||!g&&"start"===i&&v||!g&&"end"===i&&m),w=y||O;(f||b||w)&&(e.flipped=!0,(f||b)&&(r=a[s+1]),w&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=x({},e.offsets.popper,L(e.instance.popper,e.offsets.reference,e.placement)),e=F(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),c=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(c?o[a?"width":"height"]:0),e.placement=D(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=B(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=B(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,c=p(e.instance.popper),s=j(c),u={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,c=function(e){return e},s=i(o.width),u=i(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?l||d||s%2==u%2?i:a:c,p=t?i:c;return{left:f(s%2==1&&u%2==1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!X),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=H("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+l.bottom:-s.height+l.bottom:l.top,m="right"===f?"HTML"===c.nodeName?-c.clientWidth+l.right:-s.width+l.right:l.left,a&&h)u[h]="translate3d("+m+"px, "+v+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var b="bottom"===d?-1:1,g="right"===f?-1:1;u[d]=v*b,u[f]=m*g,u.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=x({},y,e.attributes),e.styles=x({},u,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=R(o,t,e,n.positionFixed),a=M(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ae=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=x({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var c=this.options.eventsEnabled;c&&this.enableEventListeners(),this.state.eventsEnabled=c}return k(e,[{key:"update",value:function(){return z.call(this)}},{key:"destroy",value:function(){return W.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),e}();ae.Utils=("undefined"!=typeof window?window:e).PopperUtils,ae.placements=Z,ae.Defaults=ie,t.a=ae}).call(this,n(226))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EmojiKeyboardIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 000 1.49l4.547 4.557a1 1 0 001.416 0l4.55-4.558a1.051 1.051 0 10-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 00-1.487 0z" fill="currentColor"/></svg>'},e));a.displayName="HipchatChevronDownIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.294 8.708l-.001.001-4.549 4.559a1.051 1.051 0 101.486 1.488l.001-.001 3.77-3.776 3.768 3.776a1.05 1.05 0 001.486.001h.001a1.054 1.054 0 00.001-1.489l-4.548-4.558a1 1 0 00-1.415-.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="HipchatChevronUpIcon";var c=a;t.default=c},function(e,t,n){var r=n(618)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=r},function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,o=e.length,i=0,a=0,c=!1,s=0;for(t=e.charCodeAt(r);r<o;)96===t?c?(c=!1,s=r):i%2==0&&(c=!0,s=r):124!==t||i%2!=0||c||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&c&&(c=!1,r=s+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,i,a){var c,s,u,l,d,f,p,h,m,v,b;if(t+2>i)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((u=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(c=e.src.charCodeAt(u++))&&45!==c&&58!==c)return!1;for(;u<e.eMarks[d];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!n(c))return!1;u++}for(f=(s=r(e,t+1)).split("|"),h=[],l=0;l<f.length;l++){if(!(m=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?h.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(s=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=o(s.replace(/^\||\|$/g,""))).length>h.length)return!1;if(a)return!0;for((p=e.push("table_open","table",1)).map=v=[t,0],(p=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<f.length;l++)(p=e.push("th_open","th",1)).map=[t,t+1],h[l]&&(p.attrs=[["style","text-align:"+h[l]]]),p=e.push("paragraph_open","p",1),(p=e.push("inline","",0)).content=f[l].trim(),p.map=[t,t+1],p.children=[],p=e.push("paragraph_close","p",-1),p=e.push("th_close","th",-1);for((p=e.push("tr_close","tr",-1)).map=b=[t+2,0],d=t+2;d<i&&!(e.sCount[d]<e.blkIndent)&&-1!==(s=r(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){f=o(s.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1);for(var g=0,y=1;g<f.length;g++){p=e.push("td_open","td",1),h[g]&&(p.attrs=[["style","text-align:"+h[g]]]);var O=" "===f[g][0]||/^(\d+\.|\*|-)$/.test(f[g].trim())?1:0;e.bMarks[d]+=y+O,y=(f[g]||"").length+(O?0:1),e.eMarks[d]=e.bMarks[d]+y-1,e.lineMax=1,e.md.block.tokenize(e,d,d+1),p=e.push("td_close","td",-1)}p=e.push("tr_close","tr",-1)}return p=e.push("table_close","table",-1),v[1]=b[1]=d,e.line=d,!0}},function(e,t,n){"use strict";e.exports=n(978)},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t,n){f("listener called"),e.success=!0,t.forEach((function(t,r){n.clipboardData.setData(r,t),r===m&&n.clipboardData.getData(r)!=t&&(f("setting text/plain failed"),e.success=!1)})),n.preventDefault()}function o(e){var t=new b,n=r.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function i(e,t){a(e);var n=o(t);return c(),n}function a(e){var t=document.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}function c(){document.getSelection().removeAllRanges()}function s(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}function u(){return new l.Promise((function(e,t){var n=window.clipboardData.getData("Text");""===n?t(new Error("Empty clipboard or could not read plain text from clipboard")):e(n)}))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),d=n(5),f=function(e){},p=!0,h=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),m="text/plain",v=function(){function e(){}return e.setDebugLog=function(e){f=e},e.suppressWarnings=function(){p=!1,d.suppressDTWarnings()},e.write=function(e){return p&&!e.getData(m)&&h("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),new l.Promise((function(t,n){if(s())!function(e){var t=e.getData(m);if(void 0!==t)return window.clipboardData.setData("Text",t);throw"No `text/plain` value was specified."}(e)?n(new Error("Copying failed, possibly because the user rejected it.")):t();else{if(o(e))return f("regular execCopy worked"),void t();if(navigator.userAgent.indexOf("Edge")>-1)return f('UA "Edge" => assuming success'),void t();if(i(document.body,e))return f("copyUsingTempSelection worked"),void t();if(function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=i(t,e);return document.body.removeChild(t),n}(e))return f("copyUsingTempElem worked"),void t();var r=e.getData(m);if(void 0!==r&&function(e){f("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(f("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=e,n.appendChild(r),document.body.appendChild(t),a(r);var o=document.execCommand("copy");return c(),document.body.removeChild(t),o}(r))return f("copyTextUsingDOM worked"),void t();n(new Error("Copy command failed."))}}))},e.writeText=function(e){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);var t=new d.DT;return t.setData(m,e),this.write(t)},e.read=function(){return new l.Promise((function(e,t){s()?u().then((function(t){return e(function(e){var t=new d.DT;return t.setData(m,e),t}(t))}),t):t("Read is not supported in your browser.")}))},e.readText=function(){return navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText():s()?u():new l.Promise((function(e,t){t("Read is not supported in your browser.")}))},e.DT=d.DT,e}();t.default=v;var b=function(){this.success=!1};e.exports=v},function(e,t,n){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){return"function"==typeof e}function o(){var e=setTimeout;return function(){return e(i,1)}}function i(){for(var e=0;e<E;e+=2)(0,I[e])(I[e+1]),I[e]=void 0,I[e+1]=void 0;E=0}function a(e,t){var n=arguments,r=this,o=new this.constructor(s);void 0===o[R]&&y(o);var i=r._state;return i?function(){var e=n[i-1];j((function(){return g(i,o,e,r._result)}))}():m(r,o,e,t),o}function c(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(s);return d(t,e),t}function s(){}function u(e){try{return e.then}catch(e){return B.error=e,B}}function l(t,n,r){n.constructor===t.constructor&&r===a&&n.constructor.resolve===c?function(e,t){t._state===D?p(e,t._result):t._state===L?h(e,t._result):m(t,void 0,(function(t){return d(e,t)}),(function(t){return h(e,t)}))}(t,n):r===B?(h(t,B.error),B.error=null):void 0===r?p(t,n):e(r)?function(e,t,n){j((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?d(e,n):p(e,n))}),(function(t){r||(r=!0,h(e,t))}),e._label);!r&&o&&(r=!0,h(e,o))}),e)}(t,n,r):p(t,n)}function d(e,t){e===t?h(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?l(e,t,u(t)):p(e,t)}function f(e){e._onerror&&e._onerror(e._result),v(e)}function p(e,t){e._state===N&&(e._result=t,e._state=D,0!==e._subscribers.length&&j(v,e))}function h(e,t){e._state===N&&(e._state=L,e._result=t,j(f,e))}function m(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+D]=n,o[i+L]=r,0===i&&e._state&&j(v,e)}function v(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?g(n,r,o,i):o(i);e._subscribers.length=0}}function b(){this.error=null}function g(t,n,r,o){var i=e(r),a=void 0,c=void 0,s=void 0,u=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return F.error=e,F}}(r,o))===F?(u=!0,c=a.error,a.error=null):s=!0,n===a)return void h(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,s=!0;n._state!==N||(i&&s?d(n,a):u?h(n,c):t===D?p(n,a):t===L&&h(n,a))}function y(e){e[R]=z++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,t){this._instanceConstructor=e,this.promise=new e(s),this.promise[R]||y(this.promise),k(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&p(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}function w(e){this[R]=z++,this._result=this._state=void 0,this._subscribers=[],s!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof w?function(e,t){try{t((function(t){d(e,t)}),(function(t){h(e,t)}))}catch(t){h(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var k=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},E=0,x=void 0,S=void 0,j=function(e,t){I[E]=e,I[E+1]=t,2===(E+=2)&&(S?S(i):M())},C="undefined"!=typeof window?window:void 0,T=C||{},_=T.MutationObserver||T.WebKitMutationObserver,A="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),P="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,I=new Array(1e3),M=void 0;M=A?function(){return t.nextTick(i)}:_?function(){var e=0,t=new _(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():P?function(){var e=new MessageChannel;return e.port1.onmessage=i,function(){return e.port2.postMessage(0)}}():void 0===C?function(){try{var e=n(4);return void 0!==(x=e.runOnLoop||e.runOnContext)?function(){x(i)}:o()}catch(e){return o()}}():o();var R=Math.random().toString(36).substring(16),N=void 0,D=1,L=2,B=new b,F=new b,z=0;return O.prototype._enumerate=function(e){for(var t=0;this._state===N&&t<e.length;t++)this._eachEntry(e[t],t)},O.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=u(e);if(o===a&&e._state!==N)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===w){var i=new n(s);l(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},O.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===N&&(this._remaining--,e===L?h(r,n):this._result[t]=n),0===this._remaining&&p(r,this._result)},O.prototype._willSettleAt=function(e,t){var n=this;m(e,void 0,(function(e){return n._settledAt(D,t,e)}),(function(e){return n._settledAt(L,t,e)}))},w.all=function(e){return new O(this,e).promise},w.race=function(e){var t=this;return new t(k(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},w.resolve=c,w.reject=function(e){var t=new this(s);return h(t,e),t},w._setScheduler=function(e){S=e},w._setAsap=function(e){j=e},w._asap=j,w.prototype={constructor:w,then:a,catch:function(e){return this.then(null,e)}},w.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=w},w.Promise=w,w}))}).call(t,n(2),n(3))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){h&&f&&(h=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=p.length;t;){for(f=p,p=[];++m<t;)f&&f[m].run();m=-1,t=p.length}f=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,l,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var f,p=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["text/plain","text/html"],o=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),i=!0;t.suppressDTWarnings=function(){i=!1};var a=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){i&&-1===r.indexOf(e)&&o("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}();t.DT=a}])},function(e,t,n){var r=n(616),o=n(576),i=n(1027),a=Math.ceil,c=Math.max;e.exports=function(e,t,n){t=(n?o(e,t,n):void 0===t)?1:c(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,l=0,d=Array(a(s/t));u<s;)d[l++]=r(e,u,u+=t);return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));a.displayName="UndoIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.101 13.569c-.247.5-.026 1.095.493 1.333.52.237 1.142.025 1.388-.473C7.011 12.351 9.193 11 11.63 11c2.266 0 4.319 1.167 5.425 3.021.286.479.922.645 1.421.371a.98.98 0 00.386-1.366C17.389 10.557 14.65 9 11.63 9c-3.247 0-6.158 1.802-7.529 4.569z"/><path d="M17.497 10v3h-2.995a1 1 0 100 2h3.896c.608 0 1.102-.493 1.102-1.1V10a1.001 1.001 0 00-2.003 0z"/></g></svg>'},e));a.displayName="RedoIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTextStyleIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBoldIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorItalicIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignRightIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignCenterIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z"/><rect x="8" y="12" width="8" height="2" rx="1"/><rect x="8" y="15" width="4" height="2" rx="1"/></g></svg>'},e));a.displayName="FileIcon";var c=a;t.default=c},function(e,t,n){"use strict";var r=n(647);t.of=r.ArrayObservable.of},function(e,t,n){"use strict";(function(t,n){var r,o=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){if(e&&!1===e.batch)return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw new TypeError("maxBatchSize must be a positive number: "+t);return t}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return i;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){if(e&&!1===e.cache)return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return t}(t),this._batch=null}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize&&(!t.cacheHits||t.cacheHits.length<e._maxBatchSize))return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void c(t);var n=e._batchLoadFn(t.keys);if(!n||"function"!=typeof n.then)return a(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!s(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));c(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){a(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var o=n.get(r);if(o){var i=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){i.push((function(){e(o)}))}))}}t.keys.push(e);var u=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,u),u},t.loadMany=function(e){if(!s(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,o=this._cacheKeyFn(e);if(void 0===n.get(o))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(o,r)}return this},e}(),i="object"==typeof t&&"function"==typeof t.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){t.nextTick(e)}))}:"function"==typeof n?function(e){n(e)}:function(e){setTimeout(e)};function a(e,t,n){c(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function c(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function s(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=o}).call(this,n(208),n(1054).setImmediate)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(229);t.tap=function(e,t,n){return function(r){return r.lift(new i(e,t,n))}};var i=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,r,i){e.call(this,t);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return r(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(o.Subscriber)},function(e,t,n){"use strict";var r=n(656);t.fromPromise=r.PromiseObservable.create},function(e,t,n){"use strict";var r=n(1058);t.range=r.RangeObservable.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode,r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o="media-download-iframe",i=document.createElement("a"),a=document.getElementById(o);a||((a=document.createElement("iframe")).style.display="none",a.id=o,a.name=o,document.body.appendChild(a)),i.href=e,t&&t.name&&(i.download=t.name),i.target=n||r?"_blank":o,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},function(e,t){function n(e,t,n){var r,o,i,a,c;function s(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(s,t-u):(r=null,n||(c=e.apply(i,o),i=o=null))}null==t&&(t=100);var u=function(){i=this,o=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(s,t)),u&&(c=e.apply(i,o),i=o=null),c};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(c=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},u}n.debounce=n,e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.793 5.793a.999.999 0 000 1.414L15.586 11H6a1 1 0 000 2h9.586l-3.793 3.793a.999.999 0 000 1.414c.39.39 1.024.39 1.415 0l5.499-5.5a.997.997 0 00.293-.679v-.057a.996.996 0 00-.293-.678l-5.499-5.5a1 1 0 00-1.415 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="ArrowRightIcon";var c=a;t.default=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),u=n(1059),l=c(n(1060)),d={width:"auto",height:"auto"},f=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=l.default((function(e,t){return Math.round(e/t)*t})),h=l.default((function(e,t){return new RegExp(e,"i").test(t)})),m=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),v=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),b=l.default((function(e){return"auto"===(e=e.toString())||v(e,"px")||v(e,"%")||v(e,"vh")||v(e,"vw")||v(e,"vmax")||v(e,"vmin")?e:e+"px"})),g=l.default((function(e,t,n,r,o){if(t&&"string"==typeof t&&v(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&v(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(r&&"string"==typeof r&&v(r,"%")){i=Number(r.replace("%",""))/100;r=e.width*i}if(o&&"string"==typeof o&&v(o,"%")){i=Number(o.replace("%",""))/100;o=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),y=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],O=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&v(e.propsSize[t].toString(),"%")){if(v(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return b(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?b(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?b(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,c=this.props,s=c.lockAspectRatio,u=c.lockAspectRatioExtraHeight,l=c.lockAspectRatioExtraWidth,d=a.width,f=a.height,p=u||0,m=l||0;return h("right",i)&&(d=a.width+(e-a.x)*r/n,s&&(f=(d-m)/this.ratio+p)),h("left",i)&&(d=a.width-(e-a.x)*r/n,s&&(f=(d-m)/this.ratio+p)),h("bottom",i)&&(f=a.height+(t-a.y)*r/n,s&&(d=(f-p)*this.ratio+m)),h("top",i)&&(f=a.height-(t-a.y)*r/n,s&&(d=(f-p)*this.ratio+m)),{newWidth:d,newHeight:f}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,s=void 0===r.width?10:r.width,u=void 0===n.width||n.width<0?e:n.width,l=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,p=a||0,h=c||0;if(i){var m=(l-p)*this.ratio+h,v=(d-p)*this.ratio+h,b=(s-h)/this.ratio+p,g=(u-h)/this.ratio+p,y=Math.max(s,m),O=Math.min(u,v),w=Math.max(l,b),k=Math.min(d,g);e=f(e,y,O),t=f(t,w,k)}else e=f(e,s,u),t=f(t,l,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top;this.resizableLeft=o,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,c=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,s=this.state,u=s.direction,l=s.original,d=s.width,f=s.height,h=this.getParentSize(),b=g(h,n,r,o,i);n=b.maxWidth,r=b.maxHeight,o=b.minWidth,i=b.minHeight;var y=this.calculateNewSizeFromDirection(a,c),O=y.newHeight,w=y.newWidth,k=this.calculateNewMaxFromBoundary(n,r),E=this.calculateNewSizeFromAspectRatio(w,O,{width:k.maxWidth,height:k.maxHeight},{width:o,height:i});if(w=E.newWidth,O=E.newHeight,this.props.grid){var x=p(w,this.props.grid[0]),S=p(O,this.props.grid[1]),j=this.props.snapGap||0;w=0===j||Math.abs(x-w)<=j?x:w,O=0===j||Math.abs(S-O)<=j?S:O}this.props.snap&&this.props.snap.x&&(w=m(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(O=m(O,this.props.snap.y,this.props.snapGap));var C={width:w-l.width,height:O-l.height};if(d&&"string"==typeof d)if(v(d,"%"))w=w/h.width*100+"%";else if(v(d,"vw")){w=w/window.innerWidth*100+"vw"}else if(v(d,"vh")){w=w/window.innerHeight*100+"vh"}if(f&&"string"==typeof f)if(v(f,"%"))O=O/h.height*100+"%";else if(v(f,"vw")){O=O/window.innerWidth*100+"vw"}else if(v(f,"vh")){O=O/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(O,"height")}),this.props.onResize&&this.props.onResize(e,u,this.resizable,C)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,c=t.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(u.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},c&&c[t]?c[t]:null):null}));return s.createElement("span",{className:a,style:i},l)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==y.indexOf(n)||(t[n]=e.props[n]),t}),{});return s.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorAttachmentIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageLeftIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageCenterIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageRightIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapLeftIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapRightIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHintIcon";var c=a;t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(0),o=n.n(r);function i(){return o.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",focusable:"false","aria-hidden":!0},o.a.createElement("rect",{width:"40",height:"40",fill:"white"}),o.a.createElement("path",{d:"M8 13C8 12.4477 8.44772 12 9 12H40V28H9C8.44772 28 8 27.5523 8 27V13Z",fill:"#E6FCFF"}),o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("path",{d:"M19.9999 16.2222C15.5817 16.2222 12.2222 19.5818 12.2222 24H16.0093C16.0093 21.7962 17.7964 20.0093 19.9999 20.0093V16.2222Z",fill:"#8767AC"}),o.a.createElement("path",{d:"M12 23.9998H12.676C12.676 19.9578 15.9502 16.6809 19.9909 16.676V16C15.5767 16.0051 12 19.5847 12 23.9998Z",fill:"#EB2027"}),o.a.createElement("path",{d:"M12.6851 24H13.3517C13.3517 20.3262 16.3273 17.3478 19.9999 17.3429V16.6762C15.9593 16.6811 12.6851 19.958 12.6851 24Z",fill:"#F19020"}),o.a.createElement("path",{d:"M13.3518 24H14.0185C14.0185 20.6945 16.6956 18.0145 20 18.0096V17.3429C16.3274 17.3478 13.3518 20.3262 13.3518 24Z",fill:"#FFCB4C"}),o.a.createElement("path",{d:"M14.0184 24H14.6851C14.6851 21.0629 17.064 18.6811 20 18.6762V18.0096C16.6955 18.0144 14.0184 20.6944 14.0184 24Z",fill:"#5C903F"}),o.a.createElement("path",{d:"M14.6851 24H15.3517C15.3517 21.4311 17.4322 19.348 19.9999 19.3431V18.6762C17.0639 18.6811 14.6851 21.0629 14.6851 24Z",fill:"#226798"})),o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(12 16)"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 4h8a2 2 0 012 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-5zm0 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNoteIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 00-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 00-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 001.414 1.414l2.121-2.12 2.121 2.12a1 1 0 101.415-1.414l-2.122-2.121zM12 20a8 8 0 110-16 8 8 0 010 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorErrorIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect width="24" height="24" rx="3" fill="#fff" fill-opacity=".01"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.842 8.67a7 7 0 009.487 9.488l-1.12-1.121A5.47 5.47 0 0112 17.5 5.506 5.506 0 016.5 12a5.5 5.5 0 01.464-2.207L5.842 8.67zm11.195 5.539A5.47 5.47 0 0017.5 12c0-3.033-2.467-5.5-5.5-5.5a5.5 5.5 0 00-2.207.464L8.67 5.842a7 7 0 019.487 9.487l-1.12-1.12z" fill="currentColor"/><rect x="4.319" y="5.556" width="1.75" height="19.976" rx=".875" transform="rotate(-45 4.319 5.556)" fill="currentColor"/></svg>'},e));a.displayName="EditorRemoveEmojiIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaCenterIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.148 6.852a.502.502 0 01.708.004l2.288 2.288a.5.5 0 01.004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEditIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeEqualIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect x="4" y="5" width="16" height="14" rx="2" fill="currentColor"/></svg>'},e));a.displayName="EditorLayoutSingleIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoRightSidebarIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoLeftSidebarIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeWithSidebarsIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNumberListIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9H6.49a.495.495 0 00-.49.505v.99c0 .291.22.505.49.505H9v2l3-3-3-3v2zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorIndentIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9V7l-3 3 3 3v-2h2.51a.49.49 0 00.49-.505v-.99A.495.495 0 0011.51 9H9zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorOutdentIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 5a7 7 0 110 14 7 7 0 010-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 006.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 110-2 1 1 0 010 2zm3 0a1 1 0 110-2 1 1 0 010 2zm.27 1.583a.626.626 0 01.932.834A3.63 3.63 0 0112 15.125a3.63 3.63 0 01-2.698-1.204.625.625 0 01.93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEmojiIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTableIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorCodeIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="QuoteIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHorizontalRuleIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDateIcon";var c=a;t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(36);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 001.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e));a.displayName="StatusIcon";var c=a;t.default=c},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(223),o=n(132),i=n(26),a=n(31),c=n(245),s=n(742),u=n(193),l=n(242),d=n(62),f=n(743);const p=[];p[0]=(e,t,n,r,o)=>{i.n(e,0);const a=c.b(t,e,n.doc,n);r&&a===c.a&&!n.synced&&(n.synced=!0)},p[3]=(e,t,n,r,o)=>{i.n(e,1),i.o(e,u.c(n.awareness,Array.from(n.awareness.getStates().keys())))},p[1]=(e,t,n,r,o)=>{u.b(n.awareness,a.l(t),n)},p[2]=(e,t,n,r,o)=>{s.a(t,n.doc,h)};const h=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),m=(e,t,n)=>{const r=a.e(t),o=i.e(),c=a.k(r),s=e.messageHandlers[c];return s?s(o,r,e,n,c):console.error("Unable to compute message"),o},v=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=o.a();const r=m(e,new Uint8Array(n.data),!0);i.f(r)>1&&t.send(i.g(r))},t.onerror=t=>{e.emit("connection-error",[t,e])},t.onclose=t=>{e.emit("connection-close",[t,e]),e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,u.d(e.awareness,Array.from(e.awareness.getStates().keys()).filter(t=>t!==e.doc.clientID),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(v,d.g(100*d.h(2,e.wsUnsuccessfulReconnects),e.maxBackoffTime),e)},t.onopen=()=>{e.wsLastMessageReceived=o.a(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=i.e();if(i.n(n,0),c.c(n,e.doc),t.send(i.g(n)),null!==e.awareness.getLocalState()){const n=i.e();i.n(n,1),i.o(n,u.c(e.awareness,[e.doc.clientID])),t.send(i.g(n))}},e.emit("status",[{status:"connecting"}])}},b=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&r.a(e.bcChannel,t,e)};class g extends l.a{constructor(t,n,a,{connect:s=!0,awareness:l=new u.a(a),params:d={},WebSocketPolyfill:h=WebSocket,resyncInterval:v=-1,maxBackoffTime:g=2500,disableBc:y=!1}={}){for(super();"/"===t[t.length-1];)t=t.slice(0,t.length-1);const O=f.a(d);this.maxBackoffTime=g,this.bcChannel=t+"/"+n,this.url=t+"/"+n+(0===O.length?"":"?"+O),this.roomname=n,this.doc=a,this._WS=h,this.awareness=l,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=y,this.wsUnsuccessfulReconnects=0,this.messageHandlers=p.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=s,this._resyncInterval=0,v>0&&(this._resyncInterval=setInterval(()=>{if(this.ws){const e=i.e();i.n(e,0),c.c(e,a),this.ws.send(i.g(e))}},v)),this._bcSubscriber=(e,t)=>{if(t!==this){const t=m(this,new Uint8Array(e),!1);i.f(t)>1&&r.a(this.bcChannel,i.g(t),this)}},this._updateHandler=(e,t)=>{if(t!==this){const t=i.e();i.n(t,0),c.e(t,e),b(this,i.g(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},r)=>{const o=e.concat(t).concat(n),a=i.e();i.n(a,1),i.o(a,u.c(l,o)),b(this,i.g(a))},this._beforeUnloadHandler=()=>{u.d(this.awareness,[a.clientID],"window unload")},"undefined"!=typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.on("exit",this._beforeUnloadHandler),l.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&3e4<o.a()-this.wsLastMessageReceived&&this.ws.close()},3e3),s&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!=typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):void 0!==e&&e.off("exit",this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(r.b(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=i.e();i.n(e,0),c.c(e,this.doc),r.a(this.bcChannel,i.g(e),this);const t=i.e();i.n(t,0),c.d(t,this.doc),r.a(this.bcChannel,i.g(t),this);const n=i.e();i.n(n,3),r.a(this.bcChannel,i.g(n),this);const o=i.e();i.n(o,1),i.o(o,u.c(this.awareness,[this.doc.clientID])),r.a(this.bcChannel,i.g(o),this)}disconnectBc(){const e=i.e();i.n(e,1),i.o(e,u.c(this.awareness,[this.doc.clientID],new Map)),b(this,i.g(e)),this.bcconnected&&(r.c(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(v(this),this.connectBc())}}}).call(this,n(208))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(26);var r=n(31);const o=(e,t,n)=>{switch(r.k(e)){case 0:n(t,r.j(e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(190);const o=e=>r.e(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&")},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(61),o=n(56);function i(e,t){Object(o.a)(2,arguments);var n=Object(r.a)(e),i=Object(r.a)(t),a=n.getFullYear()-i.getFullYear(),c=n.getMonth()-i.getMonth();return 12*a+c}var a=n(301);function c(e){Object(o.a)(1,arguments);var t=Object(r.a)(e);return t.setHours(23,59,59,999),t}function s(e){Object(o.a)(1,arguments);var t=Object(r.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function u(e){Object(o.a)(1,arguments);var t=Object(r.a)(e);return c(t).getTime()===s(t).getTime()}function l(e,t){Object(o.a)(2,arguments);var n,c=Object(r.a)(e),s=Object(r.a)(t),l=Object(a.a)(c,s),d=Math.abs(i(c,s));if(d<1)n=0;else{1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-l*d);var f=Object(a.a)(c,s)===-l;u(Object(r.a)(e))&&1===d&&1===Object(a.a)(e,s)&&(f=!1),n=l*(d-Number(f))}return 0===n?0:n}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(12),a=n(3),c=n(280),s={xsmall:8,small:16,medium:24,large:48,xlarge:96};var u=Object(i.e)({to:{transform:"rotate(360deg)"}}),l=Object(i.c)({animation:"".concat(u," 0.86s infinite"),animationTimingFunction:"cubic-bezier(0.4, 0.15, 0.6, 0.85)",transformOrigin:"center"}),d=Object(i.e)({from:{transform:"rotate(50deg)",opacity:0,strokeDashoffset:60},to:{transform:"rotate(230deg)",opacity:1,strokeDashoffset:50}}),f=Object(i.c)({animation:"".concat(d," 1s ease-in-out"),animationFillMode:"forwards",opacity:0}),p=Object(i.c)({display:"inline-flex",verticalAlign:"middle"}),h=Object(i.c)({fill:"none",strokeDasharray:60,strokeDashoffset:"inherit",strokeLinecap:"round",strokeWidth:1.5,"@media screen and (forced-colors: active)":{filter:"grayscale(100%)",stroke:"CanvasText"}});t.a=o.a.memo(o.a.forwardRef((function(e,t){var n=e.testId,r=e.appearance,o=void 0===r?"inherit":r,u=e.delay,d=void 0===u?0:u,m=e.size,v=void 0===m?"medium":m,b="number"==typeof v?v:s[v],g="".concat(d,"ms"),y=function(e){var t=e.mode,n=e.appearance;return"light"===t?"inherit"===n?"var(--ds-text-subtle, ".concat(a.N500,")"):"var(--ds-text-inverse, ".concat(a.N0,")"):"inherit"===n?"var(--ds-text-subtle, ".concat(a.DN900,")"):"var(--ds-text-inverse, ".concat(a.DN500,")")}({mode:Object(c.b)().mode,appearance:o});return Object(i.d)("span",{css:[p,l],"data-testid":n&&"".concat(n,"-wrapper"),style:{animationDelay:g,width:b,height:b}},Object(i.d)("svg",{height:b,width:b,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":n,ref:t,css:f,style:{animationDelay:g}},Object(i.d)("circle",{cx:"8",cy:"8",r:"7",css:h,style:{stroke:y}})))})))},function(e,t,n){"use strict";n.d(t,"a",(function(){return we})),n.d(t,"b",(function(){return ke}));var r=n(1),o=n.n(r),i=n(14),a=n(88),c=n(1175),s=n(1177),u=n(1178),l=n(1179),d=n(1180),f=n(1181),p=n(1182),h=n(1183),m=n(1184),v=n(1185),b=n(1186),g=n(1187),y=n(1176),O=n(1067),w=n(1188),k=n(1189),E=n(1190),x=n(579),S=n(580),j=n(581),C=n(451),T=n(452),_=n(582),A=n(583),P=n(584),I=n(446),M=n(453),R=n(585),N=n(586),D=n(445),L=n(587),B=n(253),F=n(588),z=n(360),U=n(589),H=n(590),W=n(367),V=n(591),q=n(592),G=n(670),K=n(41),$=n(593),Y=n(594),X=n(595),J=n(454),Z=n(596),Q=n(455),ee=n(597),te=n(598),ne=n(599),re=n(447),oe=n(600),ie=n(601),ae=n(602),ce=n(603),se=n(604),ue=n(605),le=n(606),de=n(607),fe=n(608),pe=n(609);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};var r=e.reduce((function(e,r){var o=r.name,i=r.spec;return-1!==t.indexOf(o)&&(e[o]=n[o]||i),e}),{});return Object.keys(n).reduce((function(e,t){return e[t]||(e[t]=n[t]),e}),r)}function ve(e){return{name:"__".concat(e,"GroupDeclaration"),spec:{group:e}}}var be=[ve(a.b),ve(a.c),ve(a.f),ve(a.e)],ge=be.map((function(e){return e.name})),ye=[{name:"doc",spec:x.a},{name:"paragraph",spec:S.a},{name:"text",spec:j.a},{name:"bulletList",spec:C.a},{name:"orderedList",spec:T.a},{name:"listItem",spec:_.a},{name:"heading",spec:A.a},{name:"blockquote",spec:P.a},{name:"codeBlock",spec:I.a},{name:"panel",spec:Object(M.b)(!0)},{name:"rule",spec:R.a},{name:"image",spec:N.a},{name:"mention",spec:D.a},{name:"caption",spec:L.a},{name:"media",spec:B.d},{name:"mediaGroup",spec:F.a},{name:"mediaSingle",spec:z.b},{name:"mediaInline",spec:U.a},{name:"placeholder",spec:H.a},{name:"layoutSection",spec:W.a},{name:"layoutColumn",spec:V.a},{name:"hardBreak",spec:q.a},{name:"emoji",spec:G.a},{name:"table",spec:K.c},{name:"tableCell",spec:K.g},{name:"tableRow",spec:K.n},{name:"tableHeader",spec:K.k},{name:"confluenceJiraIssue",spec:$.a},{name:"confluenceUnsupportedInline",spec:Y.a},{name:"confluenceUnsupportedBlock",spec:X.a},{name:"decisionList",spec:J.a},{name:"decisionItem",spec:Z.a},{name:"taskList",spec:Q.a},{name:"taskItem",spec:ee.a},{name:"date",spec:te.a},{name:"status",spec:ne.a},{name:"expand",spec:re.a},{name:"nestedExpand",spec:oe.a},{name:"extension",spec:ie.a},{name:"inlineExtension",spec:ae.a},{name:"bodiedExtension",spec:ce.a},{name:"inlineCard",spec:se.a},{name:"blockCard",spec:ue.a},{name:"embedCard",spec:le.a},{name:"unknownBlock",spec:de.a},{name:"unsupportedBlock",spec:fe.a},{name:"unsupportedInline",spec:pe.a}],Oe=[{name:"link",spec:c.a},{name:"em",spec:s.a},{name:"strong",spec:u.a},{name:"textColor",spec:l.c},{name:"strike",spec:d.a},{name:"subsup",spec:f.a},{name:"underline",spec:p.a},{name:"code",spec:h.a},{name:"typeAheadQuery",spec:m.a},{name:"alignment",spec:v.a},{name:"annotation",spec:b.b},{name:"confluenceInlineComment",spec:{inclusive:!1,excludes:"",attrs:{reference:{default:""}},parseDOM:[{tag:'span[data-mark-type="confluenceInlineComment"]'}],toDOM:function(e){return["span",{"data-mark-type":"confluenceInlineComment","data-reference":e.attrs.reference}]}}}].concat(be,[{name:"breakout",spec:g.a},{name:"dataConsumer",spec:y.a},{name:"fragment",spec:O.a},{name:"indentation",spec:w.a},{name:"unsupportedMark",spec:k.a},{name:"unsupportedNodeAttribute",spec:E.a}]);function we(e){var t=e.customNodeSpecs,n=e.customMarkSpecs,r=Object.keys(t||{}).concat(e.nodes),o=Object.keys(n||{}).concat(e.marks||[]).concat(ge),a=me(ye,r,t),c=me(Oe,o,n);return a=ke(a,c),new i.Schema({nodes:a,marks:c})}function ke(e,t){return Object.keys(e).forEach((function(n){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e[n]);r.marks&&"_"!==r.marks&&(r.marks=r.marks.split(" ").filter((function(e){return!!t[e]})).join(" ")),r.content&&(r.content=function(e,t){return t.replace(/\W/g," ").split(" ").filter((function(t){return!function(e,t){if(Object.keys(e).indexOf(t)>-1)return!0;for(var n in e){var r=e[n];if(r&&r.group===t)return!0}return!1}(e,t)})).reduce((function(e,t){return function(e,t){if(!t.length)return e||"";if(!e||!e.match(/\w/))return"";var n="(".concat(t,"((\\s)*\\|)+)|((\\|(\\s)*)+").concat(t,")|(").concat(t,"$)|(").concat(t,"(\\+|\\*))");return e.replace(new RegExp(n,"g"),"").replace("  "," ").trim()}(e,t)}),t)}(e,r.content)),e[n]=r})),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(56);function o(e){return Object(r.a)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}var i=n(61);function a(e){if(Object(r.a)(1,arguments),!o(e)&&"number"!=typeof e)return!1;var t=Object(i.a)(e);return!isNaN(Number(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(33),o=n(73),i=n(306),a=function(e){return e.map((function(e){return s(e)})).concat(c).join("\n")},c="\n  ::selection,*::selection {\n    background-color: transparent;\n  }\n  ::-moz-selection,*::-moz-selection {\n    background-color: transparent;\n  }\n",s=function(e){switch(e){case i.a.Border:return"border: ".concat(o.C,";");case i.a.BoxShadow:return"\n        box-shadow: ".concat(o.G,";\n        border-color: transparent;\n        ");case i.a.Background:return"background-color: ".concat(Object(r.a)("color.background.selected",o.B),";");case i.a.Blanket:return"\n        position: relative;\n\n        // Fixes ED-9263, where emoji or inline card in panel makes selection go outside the panel\n        // in Safari. Looks like it's caused by user-select: all in the emoji element\n        -webkit-user-select: text;\n\n        ::after {\n          position: absolute;\n          content: '';\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          pointer-events: none;\n          background-color: ".concat(Object(r.a)("color.blanket.selected","#B3D4FF4C"),"\n        }");default:return""}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n(7),i=n.n(o),a=n(2),c=function(e){var t=e.background,n=e.width;return Object(a.c)(r||(r=i()(["\n/* shadow cover right */\n  linear-gradient(\n    to left,\n    "," ",",\n    transparent ","\n  ),\n/* overflow shadow right */\n  linear-gradient(\n    to left,\n    rgba(9, 30, 66, 0.13) 0,\n    rgba(99, 114, 130, 0) ","\n  ),\n/* overflow shadow left */\n  linear-gradient(\n    to right,\n    rgba(9, 30, 66, 0.13) 0,\n    rgba(99, 114, 130, 0) ","\n  )\n"])),t,n,n,n,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(201),o=new Map;function i(e){Object(r.a)()&&(performance.mark("".concat(e,"::start")),o.set(e,performance.now()))}function a(e,t){if(Object(r.a)()){performance.mark("".concat(e,"::end"));var n=t?o.get(e):void 0;try{performance.measure(e,"".concat(e,"::start"),"".concat(e,"::end"))}catch(e){}finally{if(t){var i=performance.getEntriesByName(e).pop();i?t(i.duration,i.startTime):n&&t(performance.now()-n,n)}c(e)}}}function c(e){Object(r.a)()&&(o.delete(e),performance.clearMarks("".concat(e,"::start")),performance.clearMarks("".concat(e,"::end")),performance.clearMeasures(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(20),o=n.n(r),i=function(e){return e.replace(/_/g,"-")},a=function(e){return new Date(e.year,e.month-1,e.day)},c=new Date(NaN),s={year:1993,month:2,day:18},u=a(s),l=/(\d+)[^\d]+(\d+)[^\d]+(\d+)\.?/,d=/(\d+)[^\d]*(\d+)?[^\d]*(\d+)?\.?/,f=function(e){return e.replace(/\u200E/g,"")},p=function(e){return e.splice(1,4).map((function(e){return parseInt(e,10)}))},h=function(e){var t=i(e),n=Intl.DateTimeFormat(t).format(u),r=f(n).match(l);if(!r)throw new Error("Unable to create DateParser");var o=p(r),h=o.indexOf(s.year),m=o.indexOf(s.month),v=o.indexOf(s.day);return function(e){var t=f(e).match(d);if(!t)return c;var n=p(t),r=function(e){var t=function(e){return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}(new Date),n=e.year,r=e.month,o=e.day,i=n<100?2e3+n:n;return{year:isNaN(i)?t.year:i,month:isNaN(r)||0===r?t.month:r,day:isNaN(o)||0===o?t.day:o}}({year:n[h],month:n[m],day:n[v]});return function(e){var t=e.year,n=e.month,r=e.day,o=function(e,t){return 2===t&&function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:[31,28,31,30,31,30,31,31,30,31,30,31][t-1]}(t,n);return 1<=n&&n<=12&&1<=r&&r<=o}(r)?a(r):c}},m=n(1),v=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return e.reduce((function(e,t){return g(g({},e),{},v()({},t.type,t.value))}),{})},O=function(e,t){var n=i(e);return{getDaysShort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Intl.DateTimeFormat(n,{weekday:"short"}),r=[0,1,2,3,4,5,6],i=e>0?[].concat(o()(r.slice(e)),o()(r.slice(0,e))):r;return i.map((function(e){return t.format(new Date(2e3,9,e+1,12)).replace(/[\s\u200E]/g,"").substring(0,3)}))},getMonthsLong:function(){var e=Intl.DateTimeFormat(n,{month:"long"});return[0,1,2,3,4,5,6,7,8,9,10,11].map((function(t){return e.format(new Date(2020,t,1))}))},formatDate:function(e){return Intl.DateTimeFormat(n).format(e)},formatTime:function(e){return Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric"}).format(e)},parseDate:function(e){return h(n)(e)},formatToParts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,r=new Intl.DateTimeFormat(n,t),o=new Date(e);o.setFullYear(2020);var i=y(r.formatToParts(o)),a=y(r.formatToParts(e));return i.year&&(i.year=a.year),"00"===i.hour&&12===o.getHours()&&(i.hour="12"),i}}}},,,,,,,,,function(e,t,n){var r=n(441),o=n(314),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(868),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),s=Array(c);++a<c;)s[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),r(e,this,u)}}},function(e,t,n){var r=n(869),o=n(871)(r);e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=n(353),o=n(1030);function i(t,n,a){return o()?(e.exports=i=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(434),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function O(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=O.prototype;var E=k.prototype=new w;E.constructor=k,r(E,O.prototype),E.isPureReactComponent=!0;var x={current:null},S=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!j.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:c,props:o,_owner:x.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g,A=[];function P(e,t,n,r){if(A.length){var o=A.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,o){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var s=!1;if(null===t)s=!0;else switch(c){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case i:case a:s=!0}}if(s)return r(o,t,""===n?"."+R(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+R(c=t[u],u);s+=e(c,l,r,o)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),u=0;!(c=t.next()).done;)s+=e(c=c.value,l=n+R(c,u++),r,o);else if("object"===c)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(_,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(_,"$&/")+"/"),M(e,D,t=P(t,i,r,o)),I(t)}var B={current:null};function F(){var e=B.current;if(null===e)throw Error(b(321));return e}var z={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,N,t=P(null,null,t,n)),I(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(b(143));return e}},t.Component=O,t.Fragment=c,t.Profiler=u,t.PureComponent=k,t.StrictMode=s,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var o=r({},e.props),a=e.key,c=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!j.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:c,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(434),i=n(802);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function c(e,t,n,r,o,i,a,c,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var s=!1,u=null,l=!1,d=null,f={onError:function(e){s=!0,u=e}};function p(e,t,n,r,o,i,a,l,d){s=!1,u=null,c.apply(f,arguments)}var h=null,m=null,v=null;function b(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,o,i,c,f,h){if(p.apply(this,arguments),s){if(!s)throw Error(a(198));var m=u;s=!1,u=null,l||(l=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var g=null,y={};function O(){if(g)for(var e in y){var t=y[e],n=g.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!k[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in k[n]=t,n=t.eventTypes){var o=void 0,i=n[r],c=t,s=r;if(E.hasOwnProperty(s))throw Error(a(99,s));E[s]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&w(u[o],c,s);o=!0}else i.registrationName?(w(i.registrationName,c,s),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function w(e,t,n){if(x[e])throw Error(a(100,e));x[e]=t,S[e]=t.eventTypes[n].dependencies}var k=[],E={},x={},S={};function j(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&O()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),T=null,_=null,A=null;function P(e){if(e=m(e)){if("function"!=typeof T)throw Error(a(280));var t=e.stateNode;t&&(t=h(t),T(e.stateNode,e.type,t))}}function I(e){_?A?A.push(e):A=[e]:_=e}function M(){if(_){var e=_,t=A;if(A=_=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function R(e,t){return e(t)}function N(e,t,n,r,o){return e(t,n,r,o)}function D(){}var L=R,B=!1,F=!1;function z(){null===_&&null===A||(D(),M())}function U(e,t,n){if(F)return e(t,n);F=!0;try{return L(e,t,n)}finally{F=!1,z()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,V={},q={};function G(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace($,Y);K[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace($,Y);K[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace($,Y);K[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var o=K.hasOwnProperty(t)?K[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!W.call(q,e)||!W.call(V,e)&&(H.test(e)?q[e]=!0:(V[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,ne=Q?Symbol.for("react.fragment"):60107,re=Q?Symbol.for("react.strict_mode"):60108,oe=Q?Symbol.for("react.profiler"):60114,ie=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,ce=Q?Symbol.for("react.concurrent_mode"):60111,se=Q?Symbol.for("react.forward_ref"):60112,ue=Q?Symbol.for("react.suspense"):60113,le=Q?Symbol.for("react.suspense_list"):60120,de=Q?Symbol.for("react.memo"):60115,fe=Q?Symbol.for("react.lazy"):60116,pe=Q?Symbol.for("react.block"):60121,he="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=he&&e[he]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case oe:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case ie:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ve(e.type);case pe:return ve(e.render);case fe:if(e=1===e._status?e._result:null)return ve(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=ve(e.type);n=null,r&&(n=ve(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(Z,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Oe(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ke(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){xe(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Te(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function _e(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Ie(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Fe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},We={},Ve={};function qe(e){if(We[e])return We[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return We[e]=n[t];return e}C&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Ge=qe("animationend"),Ke=qe("animationiteration"),$e=qe("animationstart"),Ye=qe("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return tt(o),e;if(i===r)return tt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var c=!1,s=o.child;s;){if(s===n){c=!0,n=o,r=i;break}if(s===r){c=!0,r=o,n=i;break}s=s.sibling}if(!c){for(s=i.child;s;){if(s===n){c=!0,n=i,r=o;break}if(s===r){c=!0,r=i,n=o;break}s=s.sibling}if(!c)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var it=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)b(e,t[r],n[r]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(it=rt(it,e)),e=it,it=null,e){if(ot(e,at),it)throw Error(a(95));if(l)throw e=d,l=!1,d=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var lt=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function ft(e,t,n,r){if(lt.length){var o=lt.pop();return o.topLevelType=e,o.eventSystemFlags=r,o.nativeEvent=t,o.targetInst=n,o}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=st(e.nativeEvent);r=e.topLevelType;var i=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var c=null,s=0;s<k.length;s++){var u=k[s];u&&(u=u.extractEvents(r,t,i,o,a))&&(c=rt(c,u))}ct(c)}}function ht(e,t,n){if(!n.has(e)){switch(e){case"scroll":$t(t,"scroll",!0);break;case"focus":case"blur":$t(t,"focus",!0),$t(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&$t(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,vt,bt,gt=!1,yt=[],Ot=null,wt=null,kt=null,Et=new Map,xt=new Map,St=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Tt(e,t,n,r,o){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:o,container:r}}function _t(e,t){switch(e){case"focus":case"blur":Ot=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function At(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=Tt(t,n,r,o,i),null!==t&&(null!==(t=Tn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=Cn(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Tn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){It(e)&&n.delete(t)}function Rt(){for(gt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Tn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==Ot&&It(Ot)&&(Ot=null),null!==wt&&It(wt)&&(wt=null),null!==kt&&It(kt)&&(kt=null),Et.forEach(Mt),xt.forEach(Mt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Dt(e){function t(t){return Nt(t,e)}if(0<yt.length){Nt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Nt(Ot,e),null!==wt&&Nt(wt,e),null!==kt&&Nt(kt,e),Et.forEach(t),xt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var Lt={},Bt=new Map,Ft=new Map,zt=["abort","abort",Ge,"animationEnd",Ke,"animationIteration",$e,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1],i="on"+(o[0].toUpperCase()+o.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),Bt.set(r,i),Lt[o]=i}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(zt,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Ht.length;Wt++)Ft.set(Ht[Wt],0);var Vt=i.unstable_UserBlockingPriority,qt=i.unstable_runWithPriority,Gt=!0;function Kt(e,t){$t(t,e,!1)}function $t(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){B||D();var o=Jt,i=B;B=!0;try{N(o,e,t,n,r)}finally{(B=i)||z()}}function Xt(e,t,n,r){qt(Vt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<yt.length&&-1<jt.indexOf(e))e=Tt(null,e,t,n,r),yt.push(e);else{var o=Zt(e,t,n,r);if(null===o)_t(e,r);else if(-1<jt.indexOf(e))e=Tt(o,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,o){switch(t){case"focus":return Ot=At(Ot,e,t,n,r,o),!0;case"dragenter":return wt=At(wt,e,t,n,r,o),!0;case"mouseover":return kt=At(kt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Et.set(i,At(Et.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xt.set(i,At(xt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r)){_t(e,r),e=ft(e,r,null,t);try{U(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=Cn(n=st(r)))){var o=Qe(n);if(null===o)n=null;else{var i=o.tag;if(13===i){if(null!==(n=et(o)))return n;n=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}e=ft(e,r,n,t);try{U(pt,e)}finally{dt(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Qt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var rn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=Re;function sn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)ht(t[r],e,n)}function un(){}function ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"==typeof setTimeout?setTimeout:void 0,On="function"==typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+En,Sn="__reactEventHandlers$"+En,jn="__reactContainere$"+En;function Cn(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kn(e);null!==e;){if(n=e[xn])return n;e=kn(e)}return t}n=(e=n).parentNode}return null}function Tn(e){return!(e=e[xn]||e[jn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _n(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Sn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function In(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=In(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=In(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Ln(e){ot(e,Rn)}var Bn=null,Fn=null,zn=null;function Un(){if(zn)return zn;var e,t,n=Fn,r=n.length,o="value"in Bn?Bn.value:Bn.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return zn=o.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Wn(){return!1}function Vn(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Wn,this.isPropagationStopped=Wn,this}function qn(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=qn,e.release=Gn}o(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Wn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Kn(n),n},Kn(Vn);var $n=Vn.extend({data:null}),Yn=Vn.extend({data:null}),Xn=[9,13,27,32],Jn=C&&"CompositionEvent"in window,Zn=null;C&&"documentMode"in document&&(Zn=document.documentMode);var Qn=C&&"TextEvent"in window&&!Zn,er=C&&(!Jn||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function or(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var cr={eventTypes:nr,extractEvents:function(e,t,n,r){var o;if(Jn)e:{switch(e){case"compositionstart":var i=nr.compositionStart;break e;case"compositionend":i=nr.compositionEnd;break e;case"compositionupdate":i=nr.compositionUpdate;break e}i=void 0}else ar?or(e,n)&&(i=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=nr.compositionStart);return i?(er&&"ko"!==n.locale&&(ar||i!==nr.compositionStart?i===nr.compositionEnd&&ar&&(o=Un()):(Fn="value"in(Bn=r)?Bn.value:Bn.textContent,ar=!0)),i=$n.getPooled(i,t,n,r),o?i.data=o:null!==(o=ir(n))&&(i.data=o),Ln(i),o=i):o=null,(e=Qn?function(e,t){switch(e){case"compositionend":return ir(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Jn&&or(e,t)?(e=Un(),zn=Fn=Bn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,Ln(t)):t=null,null===o?t:null===t?o:[o,t]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Vn.getPooled(lr.change,e,t,n)).type="change",I(n),Ln(e),e}var fr=null,pr=null;function hr(e){ct(e)}function mr(e){if(we(_n(e)))return e}function vr(e,t){if("change"===e)return t}var br=!1;function gr(){fr&&(fr.detachEvent("onpropertychange",yr),pr=fr=null)}function yr(e){if("value"===e.propertyName&&mr(pr))if(e=dr(pr,e,st(e)),B)ct(e);else{B=!0;try{R(hr,e)}finally{B=!1,z()}}}function Or(e,t,n){"focus"===e?(gr(),pr=n,(fr=t).attachEvent("onpropertychange",yr)):"blur"===e&&gr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function kr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}C&&(br=ut("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:lr,_isInputEventSupported:br,extractEvents:function(e,t,n,r){var o=t?_n(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=vr;else if(ur(o))if(br)a=Er;else{a=wr;var c=Or}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=kr);if(a&&(a=a(e,t)))return dr(a,n,r);c&&c(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Ce(o,"number",o.value)}},Sr=Vn.extend({view:null,detail:null}),jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Tr(){return Cr}var _r=0,Ar=0,Pr=!1,Ir=!1,Mr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=_r;return _r=e.screenX,Pr?"mousemove"===e.type?e.screenX-t:0:(Pr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,Ir?"mousemove"===e.type?e.screenY-t:0:(Ir=!0,0)}}),Rr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Nr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Cn(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var c=Mr,s=Nr.mouseLeave,u=Nr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(c=Rr,s=Nr.pointerLeave,u=Nr.pointerEnter,l="pointer");if(e=null==a?i:_n(a),i=null==t?i:_n(t),(s=c.getPooled(s,a,n,r)).type=l+"leave",s.target=e,s.relatedTarget=i,(n=c.getPooled(u,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(u=l,a=0,e=c=r;e;e=Pn(e))a++;for(e=0,t=u;t;t=Pn(t))e++;for(;0<a-e;)c=Pn(c),a--;for(;0<e-a;)u=Pn(u),e--;for(;a--;){if(c===u||c===u.alternate)break e;c=Pn(c),u=Pn(u)}c=null}else c=null;for(u=c,c=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)c.push(r),r=Pn(r);for(r=[];l&&l!==u&&(null===(a=l.alternate)||a!==u);)r.push(l),l=Pn(l);for(l=0;l<c.length;l++)Nn(c[l],"bubbled",s);for(l=r.length;0<l--;)Nn(r[l],"captured",n);return 0==(64&o)?[s]:[s,n]}};var Lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Br=Object.prototype.hasOwnProperty;function Fr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!Lr(e[n[r]],t[n[r]]))return!1;return!0}var zr=C&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Wr=null,Vr=null,qr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qr||null==Hr||Hr!==ln(n)?null:("selectionStart"in(n=Hr)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vr&&Fr(Vr,n)?null:(Vr=n,(e=Vn.getPooled(Ur.select,Wr,e,t)).type="select",e.target=Hr,Ln(e),e))}var Kr={eventTypes:Ur,extractEvents:function(e,t,n,r,o,i){if(!(i=!(o=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{o=Ze(o),i=S.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?_n(t):window,e){case"focus":(ur(o)||"true"===o.contentEditable)&&(Hr=o,Wr=t,Vr=null);break;case"blur":Vr=Wr=Hr=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Gr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Gr(n,r)}return null}},$r=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Vn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xr=Sr.extend({relatedTarget:null});function Jr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo=Sr.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tr,charCode:function(e){return"keypress"===e.type?Jr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),to=Mr.extend({dataTransfer:null}),no=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tr}),ro=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),oo=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),io={eventTypes:Lt,extractEvents:function(e,t,n,r){var o=Bt.get(e);if(!o)return null;switch(e){case"keypress":if(0===Jr(n))return null;case"keydown":case"keyup":e=eo;break;case"blur":case"focus":e=Xr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=to;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=no;break;case Ge:case Ke:case $e:e=$r;break;case Ye:e=ro;break;case"scroll":e=Sr;break;case"wheel":e=oo;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rr;break;default:e=Vn}return Ln(t=e.getPooled(o,t,n,r)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O(),h=An,m=Tn,v=_n,j({SimpleEventPlugin:io,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:xr,SelectEventPlugin:Kr,BeforeInputEventPlugin:cr});var ao=[],co=-1;function so(e){0>co||(e.current=ao[co],ao[co]=null,co--)}function uo(e,t){co++,ao[co]=e.current,e.current=t}var lo={},fo={current:lo},po={current:!1},ho=lo;function mo(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vo(e){return null!=(e=e.childContextTypes)}function bo(){so(po),so(fo)}function go(e,t,n){if(fo.current!==lo)throw Error(a(168));uo(fo,t),uo(po,n)}function yo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,ve(t)||"Unknown",i));return o({},n,{},r)}function Oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,ho=fo.current,uo(fo,e),uo(po,po.current),!0}function wo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yo(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,so(po),so(fo),uo(fo,e)):so(po),uo(po,n)}var ko=i.unstable_runWithPriority,Eo=i.unstable_scheduleCallback,xo=i.unstable_cancelCallback,So=i.unstable_requestPaint,jo=i.unstable_now,Co=i.unstable_getCurrentPriorityLevel,To=i.unstable_ImmediatePriority,_o=i.unstable_UserBlockingPriority,Ao=i.unstable_NormalPriority,Po=i.unstable_LowPriority,Io=i.unstable_IdlePriority,Mo={},Ro=i.unstable_shouldYield,No=void 0!==So?So:function(){},Do=null,Lo=null,Bo=!1,Fo=jo(),zo=1e4>Fo?jo:function(){return jo()-Fo};function Uo(){switch(Co()){case To:return 99;case _o:return 98;case Ao:return 97;case Po:return 96;case Io:return 95;default:throw Error(a(332))}}function Ho(e){switch(e){case 99:return To;case 98:return _o;case 97:return Ao;case 96:return Po;case 95:return Io;default:throw Error(a(332))}}function Wo(e,t){return e=Ho(e),ko(e,t)}function Vo(e,t,n){return e=Ho(e),Eo(e,t,n)}function qo(e){return null===Do?(Do=[e],Lo=Eo(To,Ko)):Do.push(e),Mo}function Go(){if(null!==Lo){var e=Lo;Lo=null,xo(e)}Ko()}function Ko(){if(!Bo&&null!==Do){Bo=!0;var e=0;try{var t=Do;Wo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Do=null}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Eo(To,Go),t}finally{Bo=!1}}}function $o(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xo={current:null},Jo=null,Zo=null,Qo=null;function ei(){Qo=Zo=Jo=null}function ti(e){var t=Xo.current;so(Xo),e.type._context._currentValue=t}function ni(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ri(e,t){Jo=e,Qo=Zo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function oi(e,t){if(Qo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zo){if(null===Jo)throw Error(a(308));Zo=t,Jo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zo=Zo.next=t;return e._currentValue}var ii=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function si(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ui(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function li(e,t){var n=e.alternate;null!==n&&ci(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function di(e,t,n,r){var i=e.updateQueue;ii=!1;var a=i.baseQueue,c=i.shared.pending;if(null!==c){if(null!==a){var s=a.next;a.next=c.next,c.next=s}a=c,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=c))}if(null!==a){s=a.next;var u=i.baseState,l=0,d=null,f=null,p=null;if(null!==s)for(var h=s;;){if((c=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=m,d=u):p=p.next=m,c>l&&(l=c)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),is(c,h.suspenseConfig);e:{var v=e,b=h;switch(c=t,m=n,b.tag){case 1:if("function"==typeof(v=b.payload)){u=v.call(m,u,c);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(c="function"==typeof(v=b.payload)?v.call(m,u,c):v))break e;u=o({},u,c);break e;case 2:ii=!0}}null!==h.callback&&(e.effectTag|=32,null===(c=i.effects)?i.effects=[h]:c.push(h))}if(null===(h=h.next)||h===s){if(null===(c=i.shared.pending))break;h=a.next=c.next,c.next=s,i.baseQueue=a=c,i.shared.pending=null}}null===p?d=u:p.next=f,i.baseState=d,i.baseQueue=p,as(l),e.expirationTime=l,e.memoizedState=u}}function fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(a(191,r));r.call(o)}}}var pi=X.ReactCurrentBatchConfig,hi=(new r.Component).refs;function mi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gc(),o=pi.suspense;(o=si(r=Kc(r,e,o),o)).payload=t,null!=n&&(o.callback=n),ui(e,o),$c(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gc(),o=pi.suspense;(o=si(r=Kc(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),ui(e,o),$c(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gc(),r=pi.suspense;(r=si(n=Kc(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ui(e,r),$c(e,n)}};function bi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fr(n,r)||!Fr(o,i))}function gi(e,t,n){var r=!1,o=lo,i=t.contextType;return"object"==typeof i&&null!==i?i=oi(i):(o=vo(t)?ho:fo.current,i=(r=null!=(r=t.contextTypes))?mo(e,o):lo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function yi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function Oi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=hi,ai(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=oi(i):(i=vo(t)?ho:fo.current,o.context=mo(e,i)),di(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(mi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&vi.enqueueReplaceState(o,o.state,null),di(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var wi=Array.isArray;function ki(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===hi&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ei(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function xi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=js(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function c(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=_s(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=ki(e,t,n),r.return=e,r):((r=Cs(n.type,n.key,n.props,null,e.mode,r)).ref=ki(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=As(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ts(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=_s(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Cs(t.type,t.key,t.props,null,e.mode,n)).ref=ki(e,null,t),n.return=e,n;case te:return(t=As(t,e.mode,n)).return=e,t}if(wi(t)||me(t))return(t=Ts(t,e.mode,n,null)).return=e,t;Ei(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===o?n.type===ne?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case te:return n.key===o?l(e,t,n,r):null}if(wi(n)||me(n))return null!==o?null:d(e,t,n,r,null);Ei(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(wi(r)||me(r))return d(t,e=e.get(n)||null,r,o,null);Ei(t,r)}return null}function m(o,a,c,s){for(var u=null,l=null,d=a,m=a=0,v=null;null!==d&&m<c.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var b=p(o,d,c[m],s);if(null===b){null===d&&(d=v);break}e&&d&&null===b.alternate&&t(o,d),a=i(b,a,m),null===l?u=b:l.sibling=b,l=b,d=v}if(m===c.length)return n(o,d),u;if(null===d){for(;m<c.length;m++)null!==(d=f(o,c[m],s))&&(a=i(d,a,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(o,d);m<c.length;m++)null!==(v=h(d,o,m,c[m],s))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=i(v,a,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(o,e)})),u}function v(o,c,s,u){var l=me(s);if("function"!=typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var d=l=null,m=c,v=c=0,b=null,g=s.next();null!==m&&!g.done;v++,g=s.next()){m.index>v?(b=m,m=null):b=m.sibling;var y=p(o,m,g.value,u);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(o,m),c=i(y,c,v),null===d?l=y:d.sibling=y,d=y,m=b}if(g.done)return n(o,m),l;if(null===m){for(;!g.done;v++,g=s.next())null!==(g=f(o,g.value,u))&&(c=i(g,c,v),null===d?l=g:d.sibling=g,d=g);return l}for(m=r(o,m);!g.done;v++,g=s.next())null!==(g=h(m,o,v,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),c=i(g,c,v),null===d?l=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(o,e)})),l}return function(e,r,i,s){var u="object"==typeof i&&null!==i&&i.type===ne&&null===i.key;u&&(i=i.props.children);var l="object"==typeof i&&null!==i;if(l)switch(i.$$typeof){case ee:e:{for(l=i.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(i.type===ne){n(e,u.sibling),(r=o(u,i.props.children)).return=e,e=r;break e}break;default:if(u.elementType===i.type){n(e,u.sibling),(r=o(u,i.props)).ref=ki(e,u,i),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}i.type===ne?((r=Ts(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Cs(i.type,i.key,i.props,null,e.mode,s)).ref=ki(e,r,i),s.return=e,e=s)}return c(e);case te:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=As(i,e.mode,s)).return=e,e=r}return c(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=_s(i,e.mode,s)).return=e,e=r),c(e);if(wi(i))return m(e,r,i,s);if(me(i))return v(e,r,i,s);if(l&&Ei(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Si=xi(!0),ji=xi(!1),Ci={},Ti={current:Ci},_i={current:Ci},Ai={current:Ci};function Pi(e){if(e===Ci)throw Error(a(174));return e}function Ii(e,t){switch(uo(Ai,t),uo(_i,e),uo(Ti,Ci),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Ti),uo(Ti,t)}function Mi(){so(Ti),so(_i),so(Ai)}function Ri(e){Pi(Ai.current);var t=Pi(Ti.current),n=Le(t,e.type);t!==n&&(uo(_i,e),uo(Ti,n))}function Ni(e){_i.current===e&&(so(Ti),so(_i))}var Di={current:0};function Li(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bi(e,t){return{responder:e,props:t}}var Fi=X.ReactCurrentDispatcher,zi=X.ReactCurrentBatchConfig,Ui=0,Hi=null,Wi=null,Vi=null,qi=!1;function Gi(){throw Error(a(321))}function Ki(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lr(e[n],t[n]))return!1;return!0}function $i(e,t,n,r,o,i){if(Ui=i,Hi=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fi.current=null===e||null===e.memoizedState?ba:ga,e=n(r,o),t.expirationTime===Ui){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(a(301));i+=1,Vi=Wi=null,t.updateQueue=null,Fi.current=ya,e=n(r,o)}while(t.expirationTime===Ui)}if(Fi.current=va,t=null!==Wi&&null!==Wi.next,Ui=0,Vi=Wi=Hi=null,qi=!1,t)throw Error(a(300));return e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vi?Hi.memoizedState=Vi=e:Vi=Vi.next=e,Vi}function Xi(){if(null===Wi){var e=Hi.alternate;e=null!==e?e.memoizedState:null}else e=Wi.next;var t=null===Vi?Hi.memoizedState:Vi.next;if(null!==t)Vi=t,Wi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Wi=e).memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},null===Vi?Hi.memoizedState=Vi=e:Vi=Vi.next=e}return Vi}function Ji(e,t){return"function"==typeof t?t(e):t}function Zi(e){var t=Xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Wi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var c=o.next;o.next=i.next,i.next=c}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var s=c=i=null,u=o;do{var l=u.expirationTime;if(l<Ui){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(c=s=d,i=r):s=s.next=d,l>Hi.expirationTime&&(Hi.expirationTime=l,as(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),is(l,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==o);null===s?i=r:s.next=c,Lr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qi(e){var t=Xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var c=o=o.next;do{i=e(i,c.action),c=c.next}while(c!==o);Lr(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ea(e){var t=Yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e}).dispatch=ma.bind(null,Hi,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Hi.updateQueue)?(t={lastEffect:null},Hi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Xi().memoizedState}function ra(e,t,n,r){var o=Yi();Hi.effectTag|=e,o.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function oa(e,t,n,r){var o=Xi();r=void 0===r?null:r;var i=void 0;if(null!==Wi){var a=Wi.memoizedState;if(i=a.destroy,null!==r&&Ki(r,a.deps))return void ta(t,n,i,r)}Hi.effectTag|=e,o.memoizedState=ta(1|t,n,i,r)}function ia(e,t){return ra(516,4,e,t)}function aa(e,t){return oa(516,4,e,t)}function ca(e,t){return oa(4,2,e,t)}function sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,oa(4,2,sa.bind(null,t,e),n)}function la(){}function da(e,t){return Yi().memoizedState=[e,void 0===t?null:t],e}function fa(e,t){var n=Xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ha(e,t,n){var r=Uo();Wo(98>r?98:r,(function(){e(!0)})),Wo(97<r?97:r,(function(){var r=zi.suspense;zi.suspense=void 0===t?null:t;try{e(!1),n()}finally{zi.suspense=r}}))}function ma(e,t,n){var r=Gc(),o=pi.suspense;o={expirationTime:r=Kc(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===Hi||null!==i&&i===Hi)qi=!0,o.expirationTime=Ui,Hi.expirationTime=Ui;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,c=i(a,n);if(o.eagerReducer=i,o.eagerState=c,Lr(c,a))return}catch(e){}$c(e,r)}}var va={readContext:oi,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useResponder:Gi,useDeferredValue:Gi,useTransition:Gi},ba={readContext:oi,useCallback:da,useContext:oi,useEffect:ia,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Hi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yi().memoizedState=e},useState:ea,useDebugValue:la,useResponder:Bi,useDeferredValue:function(e,t){var n=ea(e),r=n[0],o=n[1];return ia((function(){var n=zi.suspense;zi.suspense=void 0===t?null:t;try{o(e)}finally{zi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(ha.bind(null,t,e),[t,e]),n]}},ga={readContext:oi,useCallback:fa,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:ca,useMemo:pa,useReducer:Zi,useRef:na,useState:function(){return Zi(Ji)},useDebugValue:la,useResponder:Bi,useDeferredValue:function(e,t){var n=Zi(Ji),r=n[0],o=n[1];return aa((function(){var n=zi.suspense;zi.suspense=void 0===t?null:t;try{o(e)}finally{zi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zi(Ji),n=t[0];return t=t[1],[fa(ha.bind(null,t,e),[t,e]),n]}},ya={readContext:oi,useCallback:fa,useContext:oi,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:ca,useMemo:pa,useReducer:Qi,useRef:na,useState:function(){return Qi(Ji)},useDebugValue:la,useResponder:Bi,useDeferredValue:function(e,t){var n=Qi(Ji),r=n[0],o=n[1];return aa((function(){var n=zi.suspense;zi.suspense=void 0===t?null:t;try{o(e)}finally{zi.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qi(Ji),n=t[0];return t=t[1],[fa(ha.bind(null,t,e),[t,e]),n]}},Oa=null,wa=null,ka=!1;function Ea(e,t){var n=xs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(ka){var t=wa;if(t){var n=t;if(!xa(e,t)){if(!(t=wn(n.nextSibling))||!xa(e,t))return e.effectTag=-1025&e.effectTag|2,ka=!1,void(Oa=e);Ea(Oa,n)}Oa=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ka=!1,Oa=e}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Ca(e){if(e!==Oa)return!1;if(!ka)return ja(e),ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=wa;t;)Ea(e,t),t=wn(t.nextSibling);if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wa=null}}else wa=Oa?wn(e.stateNode.nextSibling):null;return!0}function Ta(){wa=Oa=null,ka=!1}var _a=X.ReactCurrentOwner,Aa=!1;function Pa(e,t,n,r){t.child=null===e?ji(t,null,n,r):Si(t,e.child,n,r)}function Ia(e,t,n,r,o){n=n.render;var i=t.ref;return ri(t,o),r=$i(e,t,n,r,i,o),null===e||Aa?(t.effectTag|=1,Pa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),$a(e,t,o))}function Ma(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Ss(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cs(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Fr)(o,r)&&e.ref===t.ref)?$a(e,t,i):(t.effectTag|=1,(e=js(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,o,i){return null!==e&&Fr(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,o<i)?(t.expirationTime=e.expirationTime,$a(e,t,i)):Da(e,t,n,r,i)}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,r,o){var i=vo(n)?ho:fo.current;return i=mo(t,i),ri(t,o),n=$i(e,t,n,r,i,o),null===e||Aa?(t.effectTag|=1,Pa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),$a(e,t,o))}function La(e,t,n,r,o){if(vo(n)){var i=!0;Oo(t)}else i=!1;if(ri(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),gi(t,n,r),Oi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,c=t.memoizedProps;a.props=c;var s=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=oi(u):u=mo(t,u=vo(n)?ho:fo.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==r||s!==u)&&yi(t,a,r,u),ii=!1;var f=t.memoizedState;a.state=f,di(t,r,a,o),s=t.memoizedState,c!==r||f!==s||po.current||ii?("function"==typeof l&&(mi(t,n,l,r),s=t.memoizedState),(c=ii||bi(t,n,c,r,f,s,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=c):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ci(e,t),c=t.memoizedProps,a.props=t.type===t.elementType?c:Yo(t.type,c),s=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=oi(u):u=mo(t,u=vo(n)?ho:fo.current),(d="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==r||s!==u)&&yi(t,a,r,u),ii=!1,s=t.memoizedState,a.state=s,di(t,r,a,o),f=t.memoizedState,c!==r||s!==f||po.current||ii?("function"==typeof l&&(mi(t,n,l,r),f=t.memoizedState),(l=ii||bi(t,n,c,r,s,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||c===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||c===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ba(e,t,n,r,i,o)}function Ba(e,t,n,r,o,i){Na(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&wo(t,n,!1),$a(e,t,i);r=t.stateNode,_a.current=t;var c=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,c,i)):Pa(e,t,c,i),t.memoizedState=r.state,o&&wo(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?go(0,t.pendingContext,t.pendingContext!==t.context):t.context&&go(0,t.context,!1),Ii(e,t.containerInfo)}var za,Ua,Ha,Wa={dehydrated:null,retryTime:0};function Va(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Di.current,c=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(c=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),uo(Di,1&a),null===e){if(void 0!==i.fallback&&Sa(t),c){if(c=i.fallback,(i=Ts(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ts(c,o,n,null)).return=t,i.sibling=n,t.memoizedState=Wa,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=ji(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,c){if(i=i.fallback,(n=js(e,e.pendingProps)).return=t,0==(2&t.mode)&&(c=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=c;null!==c;)c.return=n,c=c.sibling;return(o=js(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Wa,t.child=n,o}return n=Si(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,c){if(c=i.fallback,(i=Ts(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Ts(c,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=Wa,t.child=i,n}return t.memoizedState=null,t.child=Si(t,e,i.children,n)}function qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ni(e.return,t)}function Ga(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function Ka(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Pa(e,t,r.children,n),0!=(2&(r=Di.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,n);else if(19===e.tag)qa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Di,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Li(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ga(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Li(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ga(t,!0,n,null,i,t.lastEffect);break;case"together":Ga(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function $a(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&as(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=js(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=js(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vo(t.type)&&bo(),null;case 3:return Mi(),so(po),so(fo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:Ni(t),n=Pi(Ai.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Pi(Ti.current),Ca(t)){r=t.stateNode,i=t.type;var c=t.memoizedProps;switch(r[xn]=t,r[Sn]=c,i){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Kt(Xe[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Ee(r,c),Kt("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Kt("invalid",r),sn(n,"onChange");break;case"textarea":Pe(r,c),Kt("invalid",r),sn(n,"onChange")}for(var s in on(i,c),e=null,c)if(c.hasOwnProperty(s)){var u=c[s];"children"===s?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):x.hasOwnProperty(s)&&null!=u&&sn(n,s)}switch(i){case"input":Oe(r),je(r,c,!0);break;case"textarea":Oe(r),Me(r);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=De(i)),e===cn?"script"===i?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(i,{is:r.is}):(e=s.createElement(i),"select"===i&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,i),e[xn]=t,e[Sn]=r,za(e,t),t.stateNode=e,s=an(i,r),i){case"iframe":case"object":case"embed":Kt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Xe.length;u++)Kt(Xe[u],e);u=r;break;case"source":Kt("error",e),u=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),u=r;break;case"form":Kt("reset",e),Kt("submit",e),u=r;break;case"details":Kt("toggle",e),u=r;break;case"input":Ee(e,r),u=ke(e,r),Kt("invalid",e),sn(n,"onChange");break;case"option":u=Te(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=o({},r,{value:void 0}),Kt("invalid",e),sn(n,"onChange");break;case"textarea":Pe(e,r),u=Ae(e,r),Kt("invalid",e),sn(n,"onChange");break;default:u=r}on(i,u);var l=u;for(c in l)if(l.hasOwnProperty(c)){var d=l[c];"style"===c?nn(e,d):"dangerouslySetInnerHTML"===c?null!=(d=d?d.__html:void 0)&&Fe(e,d):"children"===c?"string"==typeof d?("textarea"!==i||""!==d)&&ze(e,d):"number"==typeof d&&ze(e,""+d):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(x.hasOwnProperty(c)?null!=d&&sn(n,c):null!=d&&J(e,c,d,s))}switch(i){case"input":Oe(e),je(e,r,!1);break;case"textarea":Oe(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?_e(e,!!r.multiple,n,!1):null!=r.defaultValue&&_e(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=un)}bn(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Pi(Ai.current),Pi(Ti.current),Ca(t)?(n=t.stateNode,r=t.memoizedProps,n[xn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=t,t.stateNode=n)}return null;case 13:return so(Di),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=i,i.nextEffect=c):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Di.current)?Cc===Oc&&(Cc=wc):(Cc!==Oc&&Cc!==wc||(Cc=kc),0!==Ic&&null!==xc&&(Ms(xc,jc),Rs(xc,Ic)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mi(),null;case 10:return ti(t),null;case 17:return vo(t.type)&&bo(),null;case 19:if(so(Di),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(c=r.rendering)){if(i)Ya(r,!1);else if(Cc!==Oc||null!==e&&0!=(64&e.effectTag))for(c=t.child;null!==c;){if(null!==(e=Li(c))){for(t.effectTag|=64,Ya(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)c=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=c,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,c=e.dependencies,i.dependencies=null===c?null:{expirationTime:c.expirationTime,firstContext:c.firstContext,responders:c.responders}),r=r.sibling;return uo(Di,1&Di.current|2),t.child}c=c.sibling}}else{if(!i)if(null!==(e=Li(c))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ya(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zo()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Ya(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=zo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zo(),n.sibling=null,t=Di.current,uo(Di,i?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:vo(e.type)&&bo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mi(),so(po),so(fo),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ni(e),null;case 13:return so(Di),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return so(Di),null;case 4:return Mi(),null;case 10:return ti(e),null;default:return null}}function Za(e,t){return{value:e,source:t,stack:be(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var c,s,u=t.stateNode;switch(Pi(Ti.current),e=null,n){case"input":a=ke(u,a),r=ke(u,r),e=[];break;case"option":a=Te(u,a),r=Te(u,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),r=Ae(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=un)}for(c in on(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c)for(s in u=a[c])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(x.hasOwnProperty(c)?e||(e=[]):(e=e||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(c,l)):"children"===c?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(x.hasOwnProperty(c)?(null!=l&&sn(i,c),e||u===l||(e=[])):(e=e||[]).push(c,l))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Ha=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function ec(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=be(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function tc(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){gs(e,t)}else t.current=null}function nc(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void oc(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fi(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fi(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function ac(e,t,n){switch("function"==typeof ks&&ks(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Wo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){gs(o,e)}}e=e.next}while(e!==r)}))}break;case 1:tc(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){gs(e,t)}}(t,n);break;case 5:tc(t);break;case 4:lc(e,t,n)}}function cc(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&cc(t)}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function uc(e){e:{for(var t=e.return;null!==t;){if(sc(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||sc(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function lc(e,t,n){for(var r,o,i=t,c=!1;;){if(!c){c=i.return;e:for(;;){if(null===c)throw Error(a(160));switch(r=c.stateNode,c.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}c=c.return}c=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=n,d=u;;)if(ac(s,d,l),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(ac(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(c=!1)}i.sibling.return=i.return,i=i.sibling}}function dc(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rc(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),an(e,o),t=an(e,r),o=0;o<i.length;o+=2){var c=i[o],s=i[o+1];"style"===c?nn(n,s):"dangerouslySetInnerHTML"===c?Fe(n,s):"children"===c?ze(n,s):J(n,c,s,t)}switch(e){case"input":Se(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?_e(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?_e(n,!!r.multiple,r.defaultValue,!0):_e(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Rc=zo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=tn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fc(t);case 19:return void fc(t);case 17:return}throw Error(a(163))}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Os.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var pc="function"==typeof WeakMap?WeakMap:Map;function hc(e,t,n){(n=si(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dc||(Dc=!0,Lc=r),ec(e,t)},n}function mc(e,t,n){(n=si(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ec(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Bc?Bc=new Set([this]):Bc.add(this),ec(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vc,bc=Math.ceil,gc=X.ReactCurrentDispatcher,yc=X.ReactCurrentOwner,Oc=0,wc=3,kc=4,Ec=0,xc=null,Sc=null,jc=0,Cc=Oc,Tc=null,_c=1073741823,Ac=1073741823,Pc=null,Ic=0,Mc=!1,Rc=0,Nc=null,Dc=!1,Lc=null,Bc=null,Fc=!1,zc=null,Uc=90,Hc=null,Wc=0,Vc=null,qc=0;function Gc(){return 0!=(48&Ec)?1073741821-(zo()/10|0):0!==qc?qc:qc=1073741821-(zo()/10|0)}function Kc(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Uo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ec))return jc;if(null!==n)e=$o(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$o(e,150,100);break;case 97:case 96:e=$o(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==xc&&e===jc&&--e,e}function $c(e,t){if(50<Wc)throw Wc=0,Vc=null,Error(a(185));if(null!==(e=Yc(e,t))){var n=Uo();1073741823===t?0!=(8&Ec)&&0==(48&Ec)?Qc(e):(Jc(e),0===Ec&&Go()):Jc(e),0==(4&Ec)||98!==n&&99!==n||(null===Hc?Hc=new Map([[e,t]]):(void 0===(n=Hc.get(e))||n>t)&&Hc.set(e,t))}}function Yc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(xc===o&&(as(t),Cc===kc&&Ms(o,jc)),Rs(o,t)),o}function Xc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Is(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Jc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qo(Qc.bind(null,e));else{var t=Xc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Mo&&xo(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?qo(Qc.bind(null,e)):Vo(r,Zc.bind(null,e),{timeout:10*(1073741821-t)-zo()}),e.callbackNode=t}}}function Zc(e,t){if(qc=0,t)return Ns(e,t=Gc()),Jc(e),null;var n=Xc(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ec))throw Error(a(327));if(ms(),e===xc&&n===jc||ns(e,n),null!==Sc){var r=Ec;Ec|=16;for(var o=os();;)try{ss();break}catch(t){rs(e,t)}if(ei(),Ec=r,gc.current=o,1===Cc)throw t=Tc,ns(e,n),Ms(e,n),Jc(e),t;if(null===Sc)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Cc,xc=null,r){case Oc:case 1:throw Error(a(345));case 2:Ns(e,2<n?2:n);break;case wc:if(Ms(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ds(o)),1073741823===_c&&10<(o=Rc+500-zo())){if(Mc){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,ns(e,n);break}}if(0!==(i=Xc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(fs.bind(null,e),o);break}fs(e);break;case kc:if(Ms(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ds(o)),Mc&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,ns(e,n);break}if(0!==(o=Xc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ac?r=10*(1073741821-Ac)-zo():1073741823===_c?r=0:(r=10*(1073741821-_c)-5e3,0>(r=(o=zo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bc(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(fs.bind(null,e),r);break}fs(e);break;case 5:if(1073741823!==_c&&null!==Pc){i=_c;var c=Pc;if(0>=(r=0|c.busyMinDurationMs)?r=0:(o=0|c.busyDelayMs,r=(i=zo()-(10*(1073741821-i)-(0|c.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Ms(e,n),e.timeoutHandle=yn(fs.bind(null,e),r);break}}fs(e);break;default:throw Error(a(329))}if(Jc(e),e.callbackNode===t)return Zc.bind(null,e)}}return null}function Qc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ec))throw Error(a(327));if(ms(),e===xc&&t===jc||ns(e,t),null!==Sc){var n=Ec;Ec|=16;for(var r=os();;)try{cs();break}catch(t){rs(e,t)}if(ei(),Ec=n,gc.current=r,1===Cc)throw n=Tc,ns(e,t),Ms(e,t),Jc(e),n;if(null!==Sc)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,xc=null,fs(e),Jc(e)}return null}function es(e,t){var n=Ec;Ec|=1;try{return e(t)}finally{0===(Ec=n)&&Go()}}function ts(e,t){var n=Ec;Ec&=-2,Ec|=8;try{return e(t)}finally{0===(Ec=n)&&Go()}}function ns(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,On(n)),null!==Sc)for(n=Sc.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bo();break;case 3:Mi(),so(po),so(fo);break;case 5:Ni(r);break;case 4:Mi();break;case 13:case 19:so(Di);break;case 10:ti(r)}n=n.return}xc=e,Sc=js(e.current,null),jc=t,Cc=Oc,Tc=null,Ac=_c=1073741823,Pc=null,Ic=0,Mc=!1}function rs(e,t){for(;;){try{if(ei(),Fi.current=va,qi)for(var n=Hi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ui=0,Vi=Wi=Hi=null,qi=!1,null===Sc||null===Sc.return)return Cc=1,Tc=t,Sc=null;e:{var o=e,i=Sc.return,a=Sc,c=t;if(t=jc,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var s=c;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Di.current),d=i;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(f){var m=d.updateQueue;if(null===m){var v=new Set;v.add(s),d.updateQueue=v}else m.add(s);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=si(1073741823,null);b.tag=2,ui(a,b)}a.expirationTime=1073741823;break e}c=void 0,a=t;var g=o.pingCache;if(null===g?(g=o.pingCache=new pc,c=new Set,g.set(s,c)):void 0===(c=g.get(s))&&(c=new Set,g.set(s,c)),!c.has(a)){c.add(a);var y=ys.bind(null,o,s,a);s.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);c=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(a))}5!==Cc&&(Cc=2),c=Za(c,a),d=i;do{switch(d.tag){case 3:s=c,d.effectTag|=4096,d.expirationTime=t,li(d,hc(d,s,t));break e;case 1:s=c;var O=d.type,w=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof O.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Bc||!Bc.has(w)))){d.effectTag|=4096,d.expirationTime=t,li(d,mc(d,s,t));break e}}d=d.return}while(null!==d)}Sc=ls(Sc)}catch(e){t=e;continue}break}}function os(){var e=gc.current;return gc.current=va,null===e?va:e}function is(e,t){e<_c&&2<e&&(_c=e),null!==t&&e<Ac&&2<e&&(Ac=e,Pc=t)}function as(e){e>Ic&&(Ic=e)}function cs(){for(;null!==Sc;)Sc=us(Sc)}function ss(){for(;null!==Sc&&!Ro();)Sc=us(Sc)}function us(e){var t=vc(e.alternate,e,jc);return e.memoizedProps=e.pendingProps,null===t&&(t=ls(e)),yc.current=null,t}function ls(e){Sc=e;do{var t=Sc.alternate;if(e=Sc.return,0==(2048&Sc.effectTag)){if(t=Xa(t,Sc,jc),1===jc||1!==Sc.childExpirationTime){for(var n=0,r=Sc.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}Sc.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Sc.firstEffect),null!==Sc.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Sc.firstEffect),e.lastEffect=Sc.lastEffect),1<Sc.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Sc:e.firstEffect=Sc,e.lastEffect=Sc))}else{if(null!==(t=Ja(Sc)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Sc.sibling))return t;Sc=e}while(null!==Sc);return Cc===Oc&&(Cc=5),null}function ds(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function fs(e){var t=Uo();return Wo(99,ps.bind(null,e,t)),null}function ps(e,t){do{ms()}while(null!==zc);if(0!=(48&Ec))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=ds(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===xc&&(Sc=xc=null,jc=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Ec;Ec|=32,yc.current=null,mn=Gt;var c=pn();if(hn(c)){if("selectionStart"in c)var s={start:c.selectionStart,end:c.selectionEnd};else e:{var u=(s=(s=c.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(u&&0!==u.rangeCount){s=u.anchorNode;var l=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{s.nodeType,d.nodeType}catch(e){s=null;break e}var f=0,p=-1,h=-1,m=0,v=0,b=c,g=null;t:for(;;){for(var y;b!==s||0!==l&&3!==b.nodeType||(p=f+l),b!==d||0!==u&&3!==b.nodeType||(h=f+u),3===b.nodeType&&(f+=b.nodeValue.length),null!==(y=b.firstChild);)g=b,b=y;for(;;){if(b===c)break t;if(g===s&&++m===l&&(p=f),g===d&&++v===u&&(h=f),null!==(y=b.nextSibling))break;g=(b=g).parentNode}b=y}s=-1===p||-1===h?null:{start:p,end:h}}else s=null}s=s||{start:0,end:0}}else s=null;vn={activeElementDetached:null,focusedElem:c,selectionRange:s},Gt=!1,Nc=o;do{try{hs()}catch(e){if(null===Nc)throw Error(a(330));gs(Nc,e),Nc=Nc.nextEffect}}while(null!==Nc);Nc=o;do{try{for(c=e,s=t;null!==Nc;){var O=Nc.effectTag;if(16&O&&ze(Nc.stateNode,""),128&O){var w=Nc.alternate;if(null!==w){var k=w.ref;null!==k&&("function"==typeof k?k(null):k.current=null)}}switch(1038&O){case 2:uc(Nc),Nc.effectTag&=-3;break;case 6:uc(Nc),Nc.effectTag&=-3,dc(Nc.alternate,Nc);break;case 1024:Nc.effectTag&=-1025;break;case 1028:Nc.effectTag&=-1025,dc(Nc.alternate,Nc);break;case 4:dc(Nc.alternate,Nc);break;case 8:lc(c,l=Nc,s),cc(l)}Nc=Nc.nextEffect}}catch(e){if(null===Nc)throw Error(a(330));gs(Nc,e),Nc=Nc.nextEffect}}while(null!==Nc);if(k=vn,w=pn(),O=k.focusedElem,s=k.selectionRange,w!==O&&O&&O.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(O.ownerDocument.documentElement,O)){null!==s&&hn(O)&&(w=s.start,void 0===(k=s.end)&&(k=w),"selectionStart"in O?(O.selectionStart=w,O.selectionEnd=Math.min(k,O.value.length)):(k=(w=O.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),l=O.textContent.length,c=Math.min(s.start,l),s=void 0===s.end?c:Math.min(s.end,l),!k.extend&&c>s&&(l=s,s=c,c=l),l=fn(O,c),d=fn(O,s),l&&d&&(1!==k.rangeCount||k.anchorNode!==l.node||k.anchorOffset!==l.offset||k.focusNode!==d.node||k.focusOffset!==d.offset)&&((w=w.createRange()).setStart(l.node,l.offset),k.removeAllRanges(),c>s?(k.addRange(w),k.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),k.addRange(w))))),w=[];for(k=O;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"==typeof O.focus&&O.focus(),O=0;O<w.length;O++)(k=w[O]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Gt=!!mn,vn=mn=null,e.current=n,Nc=o;do{try{for(O=e;null!==Nc;){var E=Nc.effectTag;if(36&E&&ic(O,Nc.alternate,Nc),128&E){w=void 0;var x=Nc.ref;if(null!==x){var S=Nc.stateNode;switch(Nc.tag){case 5:w=S;break;default:w=S}"function"==typeof x?x(w):x.current=w}}Nc=Nc.nextEffect}}catch(e){if(null===Nc)throw Error(a(330));gs(Nc,e),Nc=Nc.nextEffect}}while(null!==Nc);Nc=null,No(),Ec=i}else e.current=n;if(Fc)Fc=!1,zc=e,Uc=t;else for(Nc=o;null!==Nc;)t=Nc.nextEffect,Nc.nextEffect=null,Nc=t;if(0===(t=e.firstPendingTime)&&(Bc=null),1073741823===t?e===Vc?Wc++:(Wc=0,Vc=e):Wc=0,"function"==typeof ws&&ws(n.stateNode,r),Jc(e),Dc)throw Dc=!1,e=Lc,Lc=null,e;return 0!=(8&Ec)||Go(),null}function hs(){for(;null!==Nc;){var e=Nc.effectTag;0!=(256&e)&&nc(Nc.alternate,Nc),0==(512&e)||Fc||(Fc=!0,Vo(97,(function(){return ms(),null}))),Nc=Nc.nextEffect}}function ms(){if(90!==Uc){var e=97<Uc?97:Uc;return Uc=90,Wo(e,vs)}}function vs(){if(null===zc)return!1;var e=zc;if(zc=null,0!=(48&Ec))throw Error(a(331));var t=Ec;for(Ec|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rc(5,n),oc(5,n)}}catch(t){if(null===e)throw Error(a(330));gs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ec=t,Go(),!0}function bs(e,t,n){ui(e,t=hc(e,t=Za(n,t),1073741823)),null!==(e=Yc(e,1073741823))&&Jc(e)}function gs(e,t){if(3===e.tag)bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Bc||!Bc.has(r))){ui(n,e=mc(n,e=Za(t,e),1073741823)),null!==(n=Yc(n,1073741823))&&Jc(n);break}}n=n.return}}function ys(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),xc===e&&jc===n?Cc===kc||Cc===wc&&1073741823===_c&&zo()-Rc<500?ns(e,jc):Mc=!0:Is(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Jc(e)))}function Os(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Kc(t=Gc(),e,null)),null!==(e=Yc(e,t))&&Jc(e)}vc=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||po.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:Fa(t),Ta();break;case 5:if(Ri(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vo(t.type)&&Oo(t);break;case 4:Ii(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,o=t.type._context,uo(Xo,o._currentValue),o._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Va(e,t,n):(uo(Di,1&Di.current),null!==(t=$a(e,t,n))?t.sibling:null);uo(Di,1&Di.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ka(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(Di,Di.current),!r)return null}return $a(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=mo(t,fo.current),ri(t,n),o=$i(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vo(r)){var i=!0;Oo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(t);var c=r.getDerivedStateFromProps;"function"==typeof c&&mi(t,r,c,e),o.updater=vi,t.stateNode=o,o._reactInternalFiber=t,Oi(t,r,e,n),t=Ba(null,t,r,!0,i,n)}else t.tag=0,Pa(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return Ss(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===de)return 14}return 2}(o),e=Yo(o,e),i){case 0:t=Da(null,t,o,e,n);break e;case 1:t=La(null,t,o,e,n);break e;case 11:t=Ia(null,t,o,e,n);break e;case 14:t=Ma(null,t,o,Yo(o.type,e),r,n);break e}throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,Da(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 1:return r=t.type,o=t.pendingProps,La(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 3:if(Fa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ci(e,t),di(t,r,null,n),(r=t.memoizedState.element)===o)Ta(),t=$a(e,t,n);else{if((o=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),Oa=t,o=ka=!0),o)for(n=ji(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,r,n),Ta();t=t.child}return t;case 5:return Ri(t),null===e&&Sa(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,c=o.children,gn(r,o)?c=null:null!==i&&gn(r,i)&&(t.effectTag|=16),Na(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,c,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Va(e,t,n);case 4:return Ii(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Si(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ia(e,t,r,o=t.elementType===r?o:Yo(r,o),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,o=t.pendingProps,c=t.memoizedProps,i=o.value;var s=t.type._context;if(uo(Xo,s._currentValue),s._currentValue=i,null!==c)if(s=c.value,0===(i=Lr(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(c.children===o.children&&!po.current){t=$a(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){c=s.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&i)){1===s.tag&&((l=si(n,null)).tag=2,ui(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ni(s.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else c=10===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}Pa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,ri(t,n),r=r(o=oi(o,i.unstable_observedBits)),t.effectTag|=1,Pa(e,t,r,n),t.child;case 14:return i=Yo(o=t.type,t.pendingProps),Ma(e,t,o,i=Yo(o.type,i),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Yo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vo(r)?(e=!0,Oo(t)):e=!1,ri(t,n),gi(t,r,o),Oi(t,r,o,n),Ba(null,t,r,!0,e,n);case 19:return Ka(e,t,n)}throw Error(a(156,t.tag))};var ws=null,ks=null;function Es(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xs(e,t,n,r){return new Es(e,t,n,r)}function Ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function js(e,t){var n=e.alternate;return null===n?((n=xs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,o,i){var c=2;if(r=e,"function"==typeof e)Ss(e)&&(c=1);else if("string"==typeof e)c=5;else e:switch(e){case ne:return Ts(n.children,o,i,t);case ce:c=8,o|=7;break;case re:c=8,o|=1;break;case oe:return(e=xs(12,n,t,8|o)).elementType=oe,e.type=oe,e.expirationTime=i,e;case ue:return(e=xs(13,n,t,o)).type=ue,e.elementType=ue,e.expirationTime=i,e;case le:return(e=xs(19,n,t,o)).elementType=le,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ie:c=10;break e;case ae:c=9;break e;case se:c=11;break e;case de:c=14;break e;case fe:c=16,r=null;break e;case pe:c=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xs(c,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Ts(e,t,n,r){return(e=xs(7,e,r,t)).expirationTime=n,e}function _s(e,t,n){return(e=xs(6,e,null,t)).expirationTime=n,e}function As(e,t,n){return(t=xs(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ps(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Is(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ms(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rs(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ns(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ds(e,t,n,r){var o=t.current,i=Gc(),c=pi.suspense;i=Kc(i,o,c);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(vo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vo(u)){n=yo(n,u,s);break e}}n=s}else n=lo;return null===t.context?t.context=n:t.pendingContext=n,(t=si(i,c)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ui(o,t),$c(o,i),i}function Ls(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fs(e,t){Bs(e,t),(e=e.alternate)&&Bs(e,t)}function zs(e,t,n){var r=new Ps(e,t,n=null!=n&&!0===n.hydrate),o=xs(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,ai(o),e[jn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);jt.forEach((function(e){ht(e,t,n)})),Ct.forEach((function(e){ht(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Us(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var c=o;o=function(){var e=Ls(a);c.call(e)}}Ds(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zs(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var s=o;o=function(){var e=Ls(a);s.call(e)}}ts((function(){Ds(t,a,e,o)}))}return Ls(a)}function Ws(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Us(t))throw Error(a(200));return Ws(e,t,null,n)}zs.prototype.render=function(e){Ds(e,this._internalRoot,null,null)},zs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ds(null,e,null,(function(){t[jn]=null}))},mt=function(e){if(13===e.tag){var t=$o(Gc(),150,100);$c(e,t),Fs(e,t)}},vt=function(e){13===e.tag&&($c(e,3),Fs(e,3))},bt=function(e){if(13===e.tag){var t=Gc();$c(e,t=Kc(t,e,null)),Fs(e,t)}},T=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=An(r);if(!o)throw Error(a(90));we(r),Se(r,o)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&_e(e,!!n.multiple,t,!1)}},R=es,N=function(e,t,n,r,o){var i=Ec;Ec|=4;try{return Wo(98,e.bind(null,t,n,r,o))}finally{0===(Ec=i)&&Go()}},D=function(){0==(49&Ec)&&(function(){if(null!==Hc){var e=Hc;Hc=null,e.forEach((function(e,t){Ns(t,e),Jc(t)})),Go()}}(),ms())},L=function(e,t){var n=Ec;Ec|=2;try{return e(t)}finally{0===(Ec=n)&&Go()}};var qs,Gs,Ks={Events:[Tn,_n,An,j,E,Ln,function(e){ot(e,Dn)},I,M,Jt,ct,ms,{current:!1}]};Gs=(qs={findFiberByHostInstance:Cn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ws=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},ks=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},qs,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gs?Gs(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ks,t.createPortal=Vs,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ec))throw Error(a(187));var n=Ec;Ec|=1;try{return Wo(99,e.bind(null,t))}finally{Ec=n,Go()}},t.hydrate=function(e,t,n){if(!Us(t))throw Error(a(200));return Hs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Us(t))throw Error(a(200));return Hs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Us(e))throw Error(a(40));return!!e._reactRootContainer&&(ts((function(){Hs(null,null,e,!1,(function(){e._reactRootContainer=null,e[jn]=null}))})),!0)},t.unstable_batchedUpdates=es,t.unstable_createPortal=function(e,t){return Vs(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Us(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Hs(e,t,n,!1,r)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(803)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a,c;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,u=null,l=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(l,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(l,0))},o=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},c=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var b=p.now();t.unstable_now=function(){return p.now()-b}}var g=!1,y=null,O=-1,w=5,k=0;a=function(){return t.unstable_now()>=k},c=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,x=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+w;try{y(!0,e)?x.postMessage(null):(g=!1,y=null)}catch(e){throw x.postMessage(null),e}}else g=!1},r=function(e){y=e,g||(g=!0,x.postMessage(null))},o=function(e,n){O=h((function(){e(t.unstable_now())}),n)},i=function(){m(O),O=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function j(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],c=i+1,s=e[c];if(void 0!==a&&0>T(a,n))void 0!==s&&0>T(s,a)?(e[r]=s,e[c]=n,r=c):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[c]=n,r=c}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],A=[],P=1,I=null,M=3,R=!1,N=!1,D=!1;function L(e){for(var t=j(A);null!==t;){if(null===t.callback)C(A);else{if(!(t.startTime<=e))break;C(A),t.sortIndex=t.expirationTime,S(_,t)}t=j(A)}}function B(e){if(D=!1,L(e),!N)if(null!==j(_))N=!0,r(F);else{var t=j(A);null!==t&&o(B,t.startTime-e)}}function F(e,n){N=!1,D&&(D=!1,i()),R=!0;var r=M;try{for(L(n),I=j(_);null!==I&&(!(I.expirationTime>n)||e&&!a());){var c=I.callback;if(null!==c){I.callback=null,M=I.priorityLevel;var s=c(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?I.callback=s:I===j(_)&&C(_),L(n)}else C(_);I=j(_)}if(null!==I)var u=!0;else{var l=j(A);null!==l&&o(B,l.startTime-n),u=!1}return u}finally{I=null,M=r,R=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=c;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||R||(N=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return j(_)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,a){var c=t.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?c+s:c,a="number"==typeof a.timeout?a.timeout:z(e)}else a=z(e),s=c;return e={id:P++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>c?(e.sortIndex=s,S(A,e),null===j(_)&&e===j(A)&&(D?i():D=!0,o(B,s-c))):(e.sortIndex=a,S(_,e),N||R||(N=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=j(_);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},function(e,t,n){var r=n(45).default;function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new j(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function h(){}function m(){}function v(){}var b={};l(b,c,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==n&&i.call(y,c)&&(b=y);var O=v.prototype=h.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){var n;this._invoke=function(o,a){function c(){return new t((function(n,c){!function n(o,a,c,s){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}(o,a,n,c)}))}return n=n?n.then(c,c):c()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=v,l(O,"constructor",v),l(v,"constructor",m),m.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},w(k.prototype),l(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new k(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(O),l(O,u,"Generator"),l(O,c,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(179);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(807),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(348),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(557);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(353);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case b:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return k(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=c,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||k(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return k(e)===l},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return k(e)===p},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===b},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===c},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===c||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===O||e.$$typeof===w||e.$$typeof===g)},t.typeOf=k},function(e,t,n){"use strict";var r=n(817);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(565),o=n(567),i=n(845),a=n(847),c=n(196),s=n(573),u=n(572);e.exports=function e(t,n,l,d,f){t!==n&&i(n,(function(i,s){if(f||(f=new r),c(i))a(t,n,s,l,e,d,f);else{var p=d?d(u(t,s),i,s+"",t,n,f):void 0;void 0===p&&(p=i),o(t,s,p)}}),s)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(355),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(355);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(355);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(355);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(354);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(354),o=n(438),i=n(440);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(439),o=n(830),i=n(196),a=n(566),c=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,l=s.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:c).test(a(e))}},function(e,t,n){var r,o=n(831),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(179)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(834),o=n(354),i=n(438);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(835),o=n(836),i=n(837),a=n(838),c=n(839);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=c,e.exports=s},function(e,t,n){var r=n(356);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(356),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(356),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(356);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(357);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(357);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(357);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(357);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(846)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var s=a[e?c:++o];if(!1===n(i[s],s,i))break}return t}}},function(e,t,n){var r=n(567),o=n(848),i=n(849),a=n(851),c=n(852),s=n(509),u=n(310),l=n(855),d=n(443),f=n(439),p=n(196),h=n(857),m=n(444),v=n(572),b=n(861);e.exports=function(e,t,n,g,y,O,w){var k=v(e,n),E=v(t,n),x=w.get(E);if(x)r(e,n,x);else{var S=O?O(k,E,n+"",e,t,w):void 0,j=void 0===S;if(j){var C=u(E),T=!C&&d(E),_=!C&&!T&&m(E);S=E,C||T||_?u(k)?S=k:l(k)?S=a(k):T?(j=!1,S=o(E,!0)):_?(j=!1,S=i(E,!0)):S=[]:h(E)||s(E)?(S=k,s(k)?S=b(k):p(k)&&!f(k)||(S=c(E))):j=!1}j&&(w.set(E,S),y(S,E,g,O,w),w.delete(E)),r(e,n,S)}}},function(e,t,n){(function(e){var r=n(179),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(358)(e))},function(e,t,n){var r=n(850);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(569);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(853),o=n(570),i=n(442);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(196),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(272),o=n(250);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(359),o=n(250);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(272),o=n(570),i=n(250),a=Function.prototype,c=Object.prototype,s=a.toString,u=c.hasOwnProperty,l=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==l}},function(e,t,n){var r=n(272),o=n(522),i=n(250),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(555),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,c=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=c}).call(this,n(358)(e))},function(e,t,n){var r=n(862),o=n(573);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(760),o=n(441);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var u=t[c],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(196),o=n(442),i=n(865),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&a.call(e,c))&&n.push(c);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(867),o=n(576);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(n[0],n[1],c)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}},function(e,t,n){var r=n(575),o=n(761),i=n(762);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(870),o=n(568),i=n(575),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(873),o=n(250);e.exports=function e(t,n,i,a,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,c))}},function(e,t,n){var r=n(565),o=n(578),i=n(879),a=n(882),c=n(891),s=n(310),u=n(443),l=n(444),d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,m){var v=s(e),b=s(t),g=v?"[object Array]":c(e),y=b?"[object Array]":c(t),O=(g="[object Arguments]"==g?d:g)==d,w=(y="[object Arguments]"==y?d:y)==d,k=g==y;if(k&&u(e)){if(!u(t))return!1;v=!0,O=!1}if(k&&!O)return m||(m=new r),v||l(e)?o(e,t,n,p,h,m):i(e,t,g,n,p,h,m);if(!(1&n)){var E=O&&f.call(e,"__wrapped__"),x=w&&f.call(t,"__wrapped__");if(E||x){var S=E?e.value():e,j=x?t.value():t;return m||(m=new r),h(S,j,n,p,m)}}return!!k&&(m||(m=new r),a(e,t,n,p,h,m))}},function(e,t,n){var r=n(440),o=n(875),i=n(876);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(348),o=n(569),i=n(314),a=n(578),c=n(880),s=n(881),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=c;case"[object Set]":var h=1&r;if(p||(p=s),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var v=a(p(e),p(t),r,u,d,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(883),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,c){var s=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!s)return!1;for(var d=l;d--;){var f=u[d];if(!(s?f in t:o.call(t,f)))return!1}var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var m=!0;c.set(e,t),c.set(t,e);for(var v=s;++d<l;){var b=e[f=u[d]],g=t[f];if(i)var y=s?i(g,b,f,t,e,c):i(b,g,f,e,t,c);if(!(void 0===y?b===g||a(b,g,n,i,c):y)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var O=e.constructor,w=t.constructor;O==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof O&&O instanceof O&&"function"==typeof w&&w instanceof w||(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t,n){var r=n(884),o=n(885),i=n(888);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(763),o=n(310);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t,n){var r=n(886),o=n(887),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(574),o=n(889),i=n(359);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(442),o=n(890),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(571)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(892),o=n(438),i=n(893),a=n(894),c=n(895),s=n(272),u=n(566),l=u(r),d=u(o),f=u(i),p=u(a),h=u(c),m=s;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||c&&"[object WeakMap]"!=m(new c))&&(m=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(251)(n(179),"DataView");e.exports=r},function(e,t,n){var r=n(251)(n(179),"Promise");e.exports=r},function(e,t,n){var r=n(251)(n(179),"Set");e.exports=r},function(e,t,n){var r=n(251)(n(179),"WeakMap");e.exports=r},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(448).source,t.src_Cc=n(449).source,t.src_Z=n(450).source,t.src_P=n(315).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){var r,o,i=n(610),a=n(611),c=0,s=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:s+1,v=h-c+(m-s)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,s=m,o=f;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var g=h/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},function(e,t,n){var r=n(610),o=n(611);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}},function(e,t,n){var r=n(6);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){t=t||{};var n,r,o,i=e.ownerDocument||e,a=[],c=[],s=function(e){var t=[];return function(n){if(n===e.documentElement)return!1;var r=e.defaultView.getComputedStyle(n);return!!function n(r,o){if(r===e.documentElement)return!1;for(var i=0,a=t.length;i<a;i++)if(t[i][0]===r)return t[i][1];var c=!1;return"none"===(o=o||e.defaultView.getComputedStyle(r)).display?c=!0:r.parentNode&&(c=n(r.parentNode)),t.push([r,c]),c}(n,r)||"hidden"===r.visibility}}(i),u=["input","select","a[href]","textarea","button","[tabindex]"],l=e.querySelectorAll(u.join(","));if(t.includeContainer){var d=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;u.some((function(t){return d.call(e,t)}))&&(l=Array.prototype.slice.apply(l)).unshift(e)}for(var f=0,p=l.length;f<p;f++)n=l[f],r=parseInt(n.getAttribute("tabindex"),10),(o=isNaN(r)?n.tabIndex:r)<0||"INPUT"===n.tagName&&"hidden"===n.type||n.disabled||s(n,i)||(0===o?a.push(n):c.push({index:f,tabIndex:o,node:n}));var h=c.sort((function(e,t){return e.tabIndex===t.tabIndex?e.index-t.index:e.tabIndex-t.tabIndex})).map((function(e){return e.node}));return Array.prototype.push.apply(h,a),h}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=void 0;var o=n(614);function i(e){if(void 0!==e)return"boolean"==typeof e?{capture:e}:e}t.bindAll=function(e,t,n){var a=t.map((function(t){var a=function(e,t){return null==t?e:r(r({},e),{options:r(r({},i(t)),i(e.options))})}(t,n);return(0,o.bind)(e,a)}));return function(){a.forEach((function(e){return e()}))}}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=d(o),a=n(349),c=n(615),s=d(n(904)),u=d(n(905)),l=n(361);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){a.canUseDOM&&(this.initialHeight=window.innerHeight)}},{key:"componentWillUnmount",value:function(){var e=window.innerHeight-this.initialHeight;e&&window.scrollTo(0,window.pageYOffset+e),this.initialHeight=window.innerHeight}},{key:"render",value:function(){var e=this.props.children;return e?i.default.createElement(c.TouchScrollable,null,e):null}}]),t}(o.PureComponent),m=(0,l.pipe)(u.default,s.default)(h),v=function(e){return e.isActive?i.default.createElement(m,e):e.children};v.defaultProps={accountForScrollbars:!0,children:null,isActive:!0},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return function(t){function n(){var e,t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=u(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.addSheet=function(){var e=r.getStyles(),t=(0,c.makeStyleTag)();t&&((0,c.injectStyles)(t,e),(0,c.insertStyleTag)(t),r.sheet=t)},r.getStyles=function(){var e=r.props.accountForScrollbars,t=(0,c.getDocumentHeight)(),n=e?(0,c.getPadding)():null;return"body {\n        box-sizing: border-box !important;\n        overflow: hidden !important;\n        position: relative !important;\n        "+(t?"height: "+t+"px !important;":"")+"\n        "+(n?"padding-right: "+n+"px !important;":"")+"\n      }"},u(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){this.addSheet()}},{key:"removeSheet",value:function(){this.sheet&&(this.sheet.parentNode.removeChild(this.sheet),this.sheet=null)}},{key:"componentWillUnmount",value:function(){this.removeSheet()}},{key:"render",value:function(){return a.default.createElement(e,this.props)}}]),n}(i.PureComponent)};var o,i=n(0),a=(o=i)&&o.__esModule?o:{default:o},c=n(361);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return function(t){function n(){return u(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentDidMount",value:function(){c.canUseDOM&&(0,s.isTouchDevice)()&&document.addEventListener("touchmove",s.preventTouchMove,s.listenerOptions)}},{key:"componentWillUnmount",value:function(){c.canUseDOM&&(0,s.isTouchDevice)()&&document.removeEventListener("touchmove",s.preventTouchMove,s.listenerOptions)}},{key:"render",value:function(){return a.default.createElement(e,this.props)}}]),n}(i.PureComponent)};var o,i=n(0),a=(o=i)&&o.__esModule?o:{default:o},c=n(349),s=n(361);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}},function(e,t,n){var r=n(350),o=n(909);e.exports=function(e){return o(r(e).toLowerCase())}},function(e,t,n){var r=n(348),o=n(908),i=n(310),a=n(508),c=r?r.prototype:void 0,s=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(910)("toUpperCase");e.exports=r},function(e,t,n){var r=n(911),o=n(617),i=n(912),a=n(350);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,c=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return c[e]()+s}}},function(e,t,n){var r=n(616);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t,n){var r=n(913),o=n(617),i=n(914);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[i,a,c].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),l="(?:"+[i+r+"?",r,a,c,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+l+u,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},function(e,t,n){var r=n(917),o=n(350),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(a,"")}},function(e,t,n){var r=n(918)({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(920),o=n(921),i=n(350),a=n(922);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?a(e):r(e):e.match(t)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",o="\\d+",i="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",c="[^\\ud800-\\udfff"+n+o+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",l="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+c+")",f="(?:"+l+"|"+c+")",p="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",h="[\\ufe0e\\ufe0f]?"+p+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,u].join("|")+")[\\ufe0e\\ufe0f]?"+p+")*"),m="(?:"+[i,s,u].join("|")+")"+h,v=RegExp([l+"?"+a+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[r,l,"$"].join("|")+")",f+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[r,l+d,"$"].join("|")+")",l+"?"+d+"+(?:['](?:d|ll|m|re|s|t|ve))?",l+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,m].join("|"),"g");e.exports=function(e){return e.match(v)||[]}},function(e,t,n){var r,o,i=n(563),a=n(564),c=0,s=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:s+1,v=h-c+(m-s)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,s=m,o=f;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var g=h/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(0),o=Object(r.createContext)(void 0);function i(){var e=Object(r.useContext)(o);if(!e)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return e}},function(e,t,n){"use strict";var r=n(91),o=n(932),i=n(936),a=n(937),c=n(945),s=n(959),u=n(317),l=n(362),d=n(527),f={default:n(972),zero:n(973),commonmark:n(974)},p=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!p.test(t)||!!h.test(t)}var v=["http:","https:","mailto:"];function b(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function g(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t))}function y(e,t){if(!(this instanceof y))return new y(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new u,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=g,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return r.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=f[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,c,s,u,l="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),u=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(c=e.charCodeAt(i),n&&37===c&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))l+=e.slice(i,i+3),i+=2;else if(c<128)l+=u[c];else if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&i+1<a&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){l+=encodeURIComponent(e[i]+e[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[i]);return l}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,o,i,a,c,s,u="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?u+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(u+=(s=o<<6&1984|63&i)<128?"":String.fromCharCode(s),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(u+=(s=o<<12&61440|i<<6&4032|63&a)<2048||s>=55296&&s<=57343?"":String.fromCharCode(s),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),c=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&c))?((s=o<<18&1835008|i<<12&258048|a<<6&4032|63&c)<65536||s>1114111?u+="":(s-=65536,u+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):u+="";return u}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),s=["'"].concat(c),u=["%","/","?",";","#"].concat(s),l=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,c,s,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var v=a.exec(m);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var b=o.exec(m);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,m=m.substr(b.length)),(t||b||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(s="//"===m.substr(0,2))||b&&p[b]||(m=m.substr(2),this.slashes=!0)),!p[b]&&(s||b&&!h[b])){var g,y,O=-1;for(n=0;n<l.length;n++)-1!==(c=m.indexOf(l[n]))&&(-1===O||c<O)&&(O=c);for(-1!==(y=-1===O?m.lastIndexOf("@"):m.lastIndexOf("@",O))&&(g=m.slice(0,y),m=m.slice(y+1),this.auth=g),O=-1,n=0;n<u.length;n++)-1!==(c=m.indexOf(u[n]))&&(-1===O||c<O)&&(O=c);-1===O&&(O=m.length),":"===m[O-1]&&O--;var w=m.slice(0,O);m=m.slice(O),this.parseHost(w),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var E=this.hostname.split(/\./);for(n=0,r=E.length;n<r;n++){var x=E[n];if(x&&!x.match(d)){for(var S="",j=0,C=x.length;j<C;j++)x.charCodeAt(j)>127?S+="x":S+=x[j];if(!S.match(d)){var T=E.slice(0,n),_=E.slice(n+1),A=x.match(f);A&&(T.push(A[1]),_.unshift(A[2])),_.length&&(m=_.join(".")+m),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var P=m.indexOf("#");-1!==P&&(this.hash=m.substr(P),m=m.slice(0,P));var I=m.indexOf("?");return-1!==I&&(this.search=m.substr(I),m=m.slice(0,I)),m&&(this.pathname=m),h[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(933),t.parseLinkDestination=n(934),t.parseLinkTitle=n(935)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c=-1,s=e.posMax,u=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=u,-1}return o&&(c=e.pos),e.pos=u,c}},function(e,t,n){"use strict";var r=n(91).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return c;if(62===o)return c.pos=t+1,c.str=r(e.slice(a+1,t)),c.ok=!0,c;92===o&&t+1<n?t+=2:t++}return c}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n)t+=2;else{if(40===o&&i++,41===o){if(0===i)break;i--}t++}return a===t||0!==i||(c.str=r(e.slice(a,t)),c.lines=0,c.pos=t,c.ok=!0),c}},function(e,t,n){"use strict";var r=n(91).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,c=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(c+1,t)),s.ok=!0,s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},function(e,t,n){"use strict";var r=n(91).assign,o=n(91).unescapeAll,i=n(91).escapeHtml,a={};function c(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var c,s,u,l,d=e[t],f=d.info?o(d.info).trim():"",p="";return f&&(p=f.split(/\s+/g)[0]),0===(c=n.highlight&&n.highlight(d.content,p)||i(d.content)).indexOf("<pre")?c+"\n":f?(s=d.attrIndex("class"),u=d.attrs?d.attrs.slice():[],s<0?u.push(["class",n.langPrefix+p]):u[s][1]+=" "+n.langPrefix+p,l={attrs:u},"<pre><code"+a.renderAttrs(l)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(d)+">"+c+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},c.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,c=e.length;a<c;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},c.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type&&(r+=this.renderInlineAsText(e[o].children,t,n));return r},c.prototype.render=function(e,t,n){var r,o,i,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==c[i]?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=c},function(e,t,n){"use strict";var r=n(457),o=[["normalize",n(938)],["block",n(939)],["inline",n(940)],["linkify",n(941)],["replacements",n(942)],["smartquotes",n(943)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(944),e.exports=i},function(e,t,n){"use strict";var r=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,""),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var r=n(91).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(a=w[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(O=s.content,/^<a[>\s]/i.test(O)&&m>0&&m--,o(s.content)&&m++),!(m>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,y=e.md.linkify.match(d),u=[],h=s.level,p=0,l=0;l<y.length;l++)v=y[l].url,b=e.md.normalizeLink(v),e.md.validateLink(b)&&(g=y[l].text,g=y[l].schema?"mailto:"!==y[l].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),(f=y[l].index)>p&&((c=new e.Token("text","",0)).content=d.slice(p,f),c.level=h,u.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",b]],c.level=h++,c.markup="linkify",c.info="auto",u.push(c),(c=new e.Token("text","",0)).content=g,c.level=h,u.push(c),(c=new e.Token("link_close","a",-1)).level=--h,c.markup="linkify",c.info="auto",u.push(c),p=y[l].lastIndex);p<d.length&&((c=new e.Token("text","",0)).content=d.slice(p),c.level=h,u.push(c)),w[n].children=a=r(a,t,u)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"",r:"",p:"",tm:""};function c(e,t){return a[t.toLowerCase()]}function s(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,c)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function u(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&s(e.tokens[t].children),r.test(e.tokens[t].content)&&u(e.tokens[t].children))}},function(e,t,n){"use strict";var r=n(91).isWhiteSpace,o=n(91).isPunctChar,i=n(91).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function s(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function u(e,t){var n,a,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C;for(S=[],n=0;n<e.length;n++){for(a=e[n],p=e[n].level,E=S.length-1;E>=0&&!(S[E].level<=p);E--);if(S.length=E+1,"text"===a.type){d=0,f=(u=a.content).length;e:for(;d<f&&(c.lastIndex=d,l=c.exec(u));){if(w=k=!0,d=l.index+1,x="'"===l[0],m=32,l.index-1>=0)m=u.charCodeAt(l.index-1);else for(E=n-1;E>=0&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E--)if("text"===e[E].type){m=e[E].content.charCodeAt(e[E].content.length-1);break}if(v=32,d<f)v=u.charCodeAt(d);else for(E=n+1;E<e.length&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E++)if("text"===e[E].type){v=e[E].content.charCodeAt(0);break}if(b=i(m)||o(String.fromCharCode(m)),g=i(v)||o(String.fromCharCode(v)),y=r(m),(O=r(v))?w=!1:g&&(y||b||(w=!1)),y?k=!1:b&&(O||g||(k=!1)),34===v&&'"'===l[0]&&m>=48&&m<=57&&(k=w=!1),w&&k&&(w=!1,k=g),w||k){if(k)for(E=S.length-1;E>=0&&(h=S[E],!(S[E].level<p));E--)if(h.single===x&&S[E].level===p){h=S[E],x?(j=t.md.options.quotes[2],C=t.md.options.quotes[3]):(j=t.md.options.quotes[0],C=t.md.options.quotes[1]),a.content=s(a.content,l.index,C),e[h.token].content=s(e[h.token].content,h.pos,j),d+=C.length-1,h.token===n&&(d+=j.length-1),f=(u=a.content).length,S.length=E;continue e}w?S.push({token:n,pos:l.index,single:x,level:p}):k&&x&&(a.content=s(a.content,l.index,""))}else x&&(a.content=s(a.content,l.index,""))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(458);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(457),o=[["table",n(946),["paragraph","reference"]],["code",n(947)],["fence",n(948),["paragraph","reference","blockquote","list"]],["blockquote",n(949),["paragraph","reference","blockquote","list"]],["hr",n(950),["paragraph","reference","blockquote","list"]],["list",n(951),["paragraph","reference","blockquote"]],["reference",n(952)],["heading",n(953),["paragraph","reference","blockquote"]],["lheading",n(954)],["html_block",n(955),["paragraph","reference","blockquote"]],["paragraph",n(957)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,c=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(a=e.line)<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(958),e.exports=i},function(e,t,n){"use strict";var r=n(91).isSpace;function o(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=0,a=0,c=!1,s=0;for(t=e.charCodeAt(r);r<o;)96===t?c?(c=!1,s=r):i%2==0&&(c=!0,s=r):124!==t||i%2!=0||c||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&c&&(c=!1,r=s+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,n,a){var c,s,u,l,d,f,p,h,m,v,b,g;if(t+2>n)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((u=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(c=e.src.charCodeAt(u++))&&45!==c&&58!==c)return!1;for(;u<e.eMarks[d];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!r(c))return!1;u++}for(f=(s=o(e,t+1)).split("|"),m=[],l=0;l<f.length;l++){if(!(v=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?m.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=(f=i(s.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(a)return!0;for((h=e.push("table_open","table",1)).map=b=[t,0],(h=e.push("thead_open","thead",1)).map=[t,t+1],(h=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<f.length;l++)(h=e.push("th_open","th",1)).map=[t,t+1],m[l]&&(h.attrs=[["style","text-align:"+m[l]]]),(h=e.push("inline","",0)).content=f[l].trim(),h.map=[t,t+1],h.children=[],h=e.push("th_close","th",-1);for(h=e.push("tr_close","tr",-1),h=e.push("thead_close","thead",-1),(h=e.push("tbody_open","tbody",1)).map=g=[t+2,0],d=t+2;d<n&&!(e.sCount[d]<e.blkIndent)&&-1!==(s=o(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){for(f=i(s.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1),l=0;l<p;l++)h=e.push("td_open","td",1),m[l]&&(h.attrs=[["style","text-align:"+m[l]]]),(h=e.push("inline","",0)).content=f[l]?f[l].trim():"",h.children=[],h=e.push("td_close","td",-1);h=e.push("tr_close","tr",-1)}return h=e.push("tbody_close","tbody",-1),h=e.push("table_close","table",-1),b[1]=g[1]=d,e.line=d,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,c,s,u,l,d=!1,f=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(o=e.src.charCodeAt(f))&&96!==o)return!1;if(s=f,(i=(f=e.skipChars(f,o))-s)<3)return!1;if(l=e.src.slice(s,f),a=e.src.slice(f,p),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(c=t;!(++c>=n)&&!((f=s=e.bMarks[c]+e.tShift[c])<(p=e.eMarks[c])&&e.sCount[c]<e.blkIndent);)if(e.src.charCodeAt(f)===o&&!(e.sCount[c]-e.blkIndent>=4||(f=e.skipChars(f,o))-s<i||(f=e.skipSpaces(f))<p)){d=!0;break}return i=e.sCount[t],e.line=c+(d?1:0),(u=e.push("fence","code",0)).info=a,u.content=e.getLines(t+1,c,i,!0),u.markup=l,u.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(91).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S=e.lineMax,j=e.bMarks[t]+e.tShift[t],C=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(j++))return!1;if(o)return!0;for(s=p=e.sCount[t]+j-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(j)?(j++,s++,p++,i=!1,O=!0):9===e.src.charCodeAt(j)?(O=!0,(e.bsCount[t]+p)%4==3?(j++,s++,p++,i=!1):i=!0):O=!1,h=[e.bMarks[t]],e.bMarks[t]=j;j<C&&(a=e.src.charCodeAt(j),r(a));)9===a?p+=4-(p+e.bsCount[t]+(i?1:0))%4:p++,j++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(O?1:0),l=j>=C,g=[e.sCount[t]],e.sCount[t]=p-s,y=[e.tShift[t]],e.tShift[t]=j-e.bMarks[t],k=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",x=!1,f=t+1;f<n&&(e.sCount[f]<e.blkIndent&&(x=!0),!((j=e.bMarks[f]+e.tShift[f])>=(C=e.eMarks[f])));f++)if(62!==e.src.charCodeAt(j++)||x){if(l)break;for(w=!1,c=0,u=k.length;c<u;c++)if(k[c](e,f,n,!0)){w=!0;break}if(w){e.lineMax=f,0!==e.blkIndent&&(h.push(e.bMarks[f]),m.push(e.bsCount[f]),y.push(e.tShift[f]),g.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),m.push(e.bsCount[f]),y.push(e.tShift[f]),g.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=p=e.sCount[f]+j-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(j)?(j++,s++,p++,i=!1,O=!0):9===e.src.charCodeAt(j)?(O=!0,(e.bsCount[f]+p)%4==3?(j++,s++,p++,i=!1):i=!0):O=!1,h.push(e.bMarks[f]),e.bMarks[f]=j;j<C&&(a=e.src.charCodeAt(j),r(a));)9===a?p+=4-(p+e.bsCount[f]+(i?1:0))%4:p++,j++;l=j>=C,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(O?1:0),g.push(e.sCount[f]),e.sCount[f]=p-s,y.push(e.tShift[f]),e.tShift[f]=j-e.bMarks[f]}for(v=e.blkIndent,e.blkIndent=0,(E=e.push("blockquote_open","blockquote",1)).markup=">",E.map=d=[t,0],e.md.block.tokenize(e,t,f),(E=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=b,d[1]=e.line,c=0;c<y.length;c++)e.bMarks[c+t]=h[c],e.tShift[c+t]=y[c],e.sCount[c+t]=g[c],e.bsCount[c+t]=m[c];return e.blkIndent=v,!0}},function(e,t,n){"use strict";var r=n(91).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(a=1;u<l;){if((c=e.src.charCodeAt(u++))!==i&&!r(c))return!1;c===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},function(e,t,n){"use strict";var r=n(91).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C,T,_,A,P,I,M,R=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(R=!0),(T=i(e,t))>=0){if(f=!0,A=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(A,T-A-1)),R&&1!==g)return!1}else{if(!((T=o(e,t))>=0))return!1;f=!1}if(R&&e.skipSpaces(T)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(T-1),r)return!0;for(v=e.tokens.length,f?(M=e.push("ordered_list_open","ol",1),1!==g&&(M.attrs=[["start",g]])):M=e.push("bullet_list_open","ul",1),M.map=m=[t,0],M.markup=String.fromCharCode(b),O=t,_=!1,I=e.md.block.ruler.getRules("list"),E=e.parentType,e.parentType="list";O<n;){for(C=T,y=e.eMarks[O],d=w=e.sCount[O]+T-(e.bMarks[t]+e.tShift[t]);C<y;){if(9===(a=e.src.charCodeAt(C)))w+=4-(w+e.bsCount[O])%4;else{if(32!==a)break;w++}C++}if((l=(c=C)>=y?1:w-d)>4&&(l=1),u=d+l,(M=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),M.map=p=[t,0],j=e.tight,S=e.tShift[t],x=e.sCount[t],k=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=w,c>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!_||(N=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=k,e.tShift[t]=S,e.sCount[t]=x,e.tight=j,(M=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),O=t=e.line,p[1]=O,c=e.bMarks[t],O>=n)break;if(e.sCount[O]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(P=!1,s=0,h=I.length;s<h;s++)if(I[s](e,O,n,!0)){P=!0;break}if(P)break;if(f){if((T=i(e,O))<0)break}else if((T=o(e,O))<0)break;if(b!==e.src.charCodeAt(T-1))break}return(M=f?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=O,e.line=O,e.parentType=E,N&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,v),!0}},function(e,t,n){"use strict";var r=n(91).normalizeReference,o=n(91).isSpace;e.exports=function(e,t,n,i){var a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k=0,E=e.bMarks[t]+e.tShift[t],x=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(E))return!1;for(;++E<x;)if(93===e.src.charCodeAt(E)&&92!==e.src.charCodeAt(E-1)){if(E+1===x)return!1;if(58!==e.src.charCodeAt(E+1))return!1;break}for(u=e.lineMax,O=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";S<u&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(y=!1,d=0,f=O.length;d<f;d++)if(O[d](e,S,u,!0)){y=!0;break}if(y)break}for(x=(g=e.getLines(t,S,e.blkIndent,!1).trim()).length,E=1;E<x;E++){if(91===(a=g.charCodeAt(E)))return!1;if(93===a){h=E;break}(10===a||92===a&&++E<x&&10===g.charCodeAt(E))&&k++}if(h<0||58!==g.charCodeAt(h+1))return!1;for(E=h+2;E<x;E++)if(10===(a=g.charCodeAt(E)))k++;else if(!o(a))break;if(!(v=e.md.helpers.parseLinkDestination(g,E,x)).ok)return!1;if(l=e.md.normalizeLink(v.str),!e.md.validateLink(l))return!1;for(c=E=v.pos,s=k+=v.lines,b=E;E<x;E++)if(10===(a=g.charCodeAt(E)))k++;else if(!o(a))break;for(v=e.md.helpers.parseLinkTitle(g,E,x),E<x&&b!==E&&v.ok?(w=v.str,E=v.pos,k+=v.lines):(w="",E=c,k=s);E<x&&(a=g.charCodeAt(E),o(a));)E++;if(E<x&&10!==g.charCodeAt(E)&&w)for(w="",E=c,k=s;E<x&&(a=g.charCodeAt(E),o(a));)E++;return!(E<x&&10!==g.charCodeAt(E))&&(!!(p=r(g.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:w,href:l}),e.parentType=m,e.line=t+k+1),!0))}},function(e,t,n){"use strict";var r=n(91).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=l)return!1;for(a=1,i=e.src.charCodeAt(++u);35===i&&u<l&&a<=6;)a++,i=e.src.charCodeAt(++u);return!(a>6||u<l&&!r(i))&&(o||(l=e.skipSpacesBack(l,u),(c=e.skipCharsBack(l,35,u))>u&&r(e.src.charCodeAt(c-1))&&(l=c),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,l).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c,s,u,l,d,f,p=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(f=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(s=e.bMarks[p]+e.tShift[p])<(u=e.eMarks[p])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=u)){l=61===d?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,p,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(c=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(d),c.map=[t,e.line],(c=e.push("inline","",0)).content=r,c.map=[t,e.line-1],c.children=[],(c=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(d),e.parentType=f,!0)}},function(e,t,n){"use strict";var r=n(956),o=n(621).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,l),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],s=e.src.slice(u,l),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(c=e.push("html_block","",0)).map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<l&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=u.length;o<i;o++)if(u[o](e,s,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}},function(e,t,n){"use strict";var r=n(458),o=n(91).isSpace;function i(e,t,n,r){var i,a,c,s,u,l,d,f;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,c=s=l=d=0,u=(a=this.src).length;s<u;s++){if(i=a.charCodeAt(s),!f){if(o(i)){l++,9===i?d+=4-d%4:d++;continue}f=!0}10!==i&&s!==u-1||(10!==i&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),f=!1,l=0,d=0,c=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,c,s,u,l,d,f=e;if(e>=t)return"";for(l=new Array(t-e),i=0;f<t;f++,i++){for(a=0,d=s=this.bMarks[f],u=f+1<t||r?this.eMarks[f]+1:this.eMarks[f];s<u&&a<n;){if(c=this.src.charCodeAt(s),o(c))9===c?a+=4-(a+this.bsCount[f])%4:a++;else{if(!(s-d<this.tShift[f]))break;a++}s++}l[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return l.join("")},i.prototype.Token=r,e.exports=i},function(e,t,n){"use strict";var r=n(457),o=[["text",n(960)],["newline",n(961)],["escape",n(962)],["backticks",n(963)],["strikethrough",n(622).tokenize],["emphasis",n(623).tokenize],["link",n(964)],["image",n(965)],["autolink",n(966)],["html_inline",n(967)],["entity",n(968)]],i=[["balance_pairs",n(969)],["strikethrough",n(622).postProcess],["emphasis",n(623).postProcess],["text_collapse",n(970)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,c=e.cache;if(void 0===c[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos}else e.pos=c[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,c=new this.State(e,t,n,r);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=n(971),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(91).isSpace;e.exports=function(e,t){var n,o,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(n=e.pending.length-1,o=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<o&&r(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},function(e,t,n){"use strict";for(var r=n(91).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=e.pos;if(96!==e.src.charCodeAt(s))return!1;for(n=s,s++,r=e.posMax;s<r&&96===e.src.charCodeAt(s);)s++;for(o=e.src.slice(n,s),i=a=s;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((c=e.push("code_inline","code",0)).markup=o,c.content=e.src.slice(s,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,n){"use strict";var r=n(91).normalizeReference,o=n(91).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,f,p="",h=e.pos,m=e.posMax,v=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(c=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=c+1)<m&&40===e.src.charCodeAt(u)){for(b=!1,u++;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=m)return!1;for(v=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?u=l.pos:p=""),v=u;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&v!==u&&l.ok)for(f=l.str,u=l.pos;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else f="";(u>=m||41!==e.src.charCodeAt(u))&&(b=!0),u++}if(b){if(void 0===e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(v=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(v,u++):u=c+1):u=c+1,a||(a=e.src.slice(s,c)),!(d=e.env.references[r(a)]))return e.pos=h,!1;p=d.href,f=d.title}return t||(e.pos=s,e.posMax=c,e.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(91).normalizeReference,o=n(91).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,f,p,h,m,v,b="",g=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=s+1)<y&&40===e.src.charCodeAt(l)){for(l++;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=y)return!1;for(v=l,(f=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(b=e.md.normalizeLink(f.str),e.md.validateLink(b)?l=f.pos:b=""),v=l;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(f=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<y&&v!==l&&f.ok)for(p=f.str,l=f.pos;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else p="";if(l>=y||41!==e.src.charCodeAt(l))return e.pos=g,!1;l++}else{if(void 0===e.env.references)return!1;if(l<y&&91===e.src.charCodeAt(l)?(v=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?c=e.src.slice(v,l++):l=s+1):l=s+1,c||(c=e.src.slice(u,s)),!(d=e.env.references[r(c)]))return e.pos=g,!1;b=d.href,p=d.title}return t||(a=e.src.slice(u,s),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",b],["alt",""]],h.children=m,h.content=a,p&&n.push(["title",p])),e.pos=l,e.posMax=y,!0}},function(e,t,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,i,a,c,s,u,l=e.pos;return 60===e.src.charCodeAt(l)&&(!((n=e.src.slice(l)).indexOf(">")<0)&&(o.test(n)?(c=(i=n.match(o))[0].slice(1,-1),s=e.md.normalizeLink(c),!!e.md.validateLink(s)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",s]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(c),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=i[0].length,!0)):!!r.test(n)&&(c=(a=n.match(r))[0].slice(1,-1),s=e.md.normalizeLink("mailto:"+c),!!e.md.validateLink(s)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",s]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(c),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=a[0].length,!0))))}},function(e,t,n){"use strict";var r=n(621).HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var r=n(619),o=n(91).has,i=n(91).isValidEntityCode,a=n(91).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,l=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(l))return!1;if(l+1<d)if(35===e.src.charCodeAt(l+1)){if(u=e.src.slice(l).match(c))return t||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=u[0].length,!0}else if((u=e.src.slice(l).match(s))&&o(r,u[1]))return t||(e.pending+=r[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c,s,u,l={},d=t.length;for(n=0;n<d;n++)if((o=t[n]).length=o.length||0,o.close){for(l.hasOwnProperty(o.marker)||(l[o.marker]=[-1,-1,-1]),a=l[o.marker][o.length%3],c=-1,r=n-o.jump-1;r>a;r-=i.jump+1)if((i=t[r]).marker===o.marker&&(-1===c&&(c=r),i.open&&i.end<0&&i.level===o.level&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s))){u=r>0&&!t[r-1].open?t[r-1].jump+1:0,o.jump=n-r+u,o.open=!1,i.end=n,i.jump=u,i.close=!1,c=-1;break}-1!==c&&(l[o.marker][(o.length||0)%3]=c)}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(0,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(0,n[t].delimiters)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var r=n(458),o=n(91).isWhiteSpace,i=n(91).isPunctChar,a=n(91).isMdAsciiPunct;function c(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}c.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},c.prototype.scanDelims=function(e,t){var n,r,c,s,u,l,d,f,p,h=e,m=!0,v=!0,b=this.posMax,g=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<b&&this.src.charCodeAt(h)===g;)h++;return c=h-e,r=h<b?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),p=a(r)||i(String.fromCharCode(r)),l=o(n),(f=o(r))?m=!1:p&&(l||d||(m=!1)),l?v=!1:d&&(f||p||(v=!1)),t?(s=m,u=v):(s=m&&(!v||d),u=v&&(!m||p)),{can_open:s,can_close:u,length:c}},c.prototype.Token=r,e.exports=c},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])m(s)||!O(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function c(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,e,r.depth)}function s(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=l(e,o,r)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),c=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(E(n)){var s=n.name?": "+n.name:"";return e.stylize("[Function"+s+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return d(n)}var u,O="",x=!1,S=["{","}"];(p(n)&&(x=!0,S=["[","]"]),E(n))&&(O=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(O=" "+RegExp.prototype.toString.call(n)),w(n)&&(O=" "+Date.prototype.toUTCString.call(n)),k(n)&&(O=" "+d(n)),0!==a.length||x&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=x?function(e,t,n,r,o){for(var i=[],a=0,c=t.length;a<c;++a)T(t,String(a))?i.push(f(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(f(e,t,n,r,o,!0))})),i}(e,n,r,c,a):a.map((function(t){return f(e,n,r,c,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,O,S)):S[0]+O+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o,i){var a,c,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),c||(e.seen.indexOf(s.value)<0?(c=m(n)?l(e,s.value,null):l(e,s.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function g(e){return void 0===e}function y(e){return O(e)&&"[object RegExp]"===x(e)}function O(e){return"object"==typeof e&&null!==e}function w(e){return O(e)&&"[object Date]"===x(e)}function k(e){return O(e)&&("[object Error]"===x(e)||e instanceof Error)}function E(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=y,t.isObject=O,t.isDate=w,t.isError=k,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(976);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(977),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var _="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function A(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(_&&e[_]){var t;if("function"!=typeof(t=e[_]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,_,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),_&&Object.defineProperty(t,_,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=_,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(A,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(208))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(92),o=n(980),i=n(984),a=n(985),c=n(994),s=n(1008),u=n(1022),l=n(362),d=n(527),f={default:n(1024),zero:n(1025),commonmark:n(1026)},p=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!p.test(t)||!!h.test(t)}var v=["http:","https:","mailto:"];function b(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function g(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||v.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t),l.decode.defaultChars+"%")}function y(e,t){if(!(this instanceof y))return new y(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new u,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=g,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return r.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=f[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e,t,n){"use strict";t.parseLinkLabel=n(981),t.parseLinkDestination=n(982),t.parseLinkTitle=n(983)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c=-1,s=e.posMax,u=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=u,-1}return o&&(c=e.pos),e.pos=u,c}},function(e,t,n){"use strict";var r=n(92).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return c;if(60===o)return c;if(62===o)return c.pos=t+1,c.str=r(e.slice(a+1,t)),c.ok=!0,c;92===o&&t+1<n?t+=2:t++}return c}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return c;if(41===o){if(0===i)break;i--}t++}return a===t||0!==i||(c.str=r(e.slice(a,t)),c.lines=0,c.pos=t,c.ok=!0),c}},function(e,t,n){"use strict";var r=n(92).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,c=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(c+1,t)),s.ok=!0,s;if(40===o&&41===i)return s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},function(e,t,n){"use strict";var r=n(92).assign,o=n(92).unescapeAll,i=n(92).escapeHtml,a={};function c(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var c,s,u,l,d,f=e[t],p=f.info?o(f.info).trim():"",h="",m="";return p&&(h=(u=p.split(/(\s+)/g))[0],m=u.slice(2).join("")),0===(c=n.highlight&&n.highlight(f.content,h,m)||i(f.content)).indexOf("<pre")?c+"\n":p?(s=f.attrIndex("class"),l=f.attrs?f.attrs.slice():[],s<0?l.push(["class",n.langPrefix+h]):(l[s]=l[s].slice(),l[s][1]+=" "+n.langPrefix+h),d={attrs:l},"<pre><code"+a.renderAttrs(d)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(f)+">"+c+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},c.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,c=e.length;a<c;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},c.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},c.prototype.render=function(e,t,n){var r,o,i,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==c[i]?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=c},function(e,t,n){"use strict";var r=n(459),o=[["normalize",n(986)],["block",n(987)],["inline",n(988)],["linkify",n(989)],["replacements",n(990)],["smartquotes",n(991)],["text_join",n(992)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(993),e.exports=i},function(e,t,n){"use strict";var r=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,""),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var r=n(92).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w=e.tokens;if(e.md.options.linkify)for(n=0,i=w.length;n<i;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(m=0,t=(a=w[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(O=s.content,/^<a[>\s]/i.test(O)&&m>0&&m--,o(s.content)&&m++),!(m>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,y=e.md.linkify.match(d),u=[],h=s.level,p=0,y.length>0&&0===y[0].index&&t>0&&"text_special"===a[t-1].type&&(y=y.slice(1)),l=0;l<y.length;l++)v=y[l].url,b=e.md.normalizeLink(v),e.md.validateLink(b)&&(g=y[l].text,g=y[l].schema?"mailto:"!==y[l].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),(f=y[l].index)>p&&((c=new e.Token("text","",0)).content=d.slice(p,f),c.level=h,u.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",b]],c.level=h++,c.markup="linkify",c.info="auto",u.push(c),(c=new e.Token("text","",0)).content=g,c.level=h,u.push(c),(c=new e.Token("link_close","a",-1)).level=--h,c.markup="linkify",c.info="auto",u.push(c),p=y[l].lastIndex);p<d.length&&((c=new e.Token("text","",0)).content=d.slice(p),c.level=h,u.push(c)),w[n].children=a=r(a,t,u)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},function(e,t,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r)\)/i,i=/\((c|tm|r)\)/gi,a={c:"",r:"",tm:""};function c(e,t){return a[t.toLowerCase()]}function s(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,c)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function u(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&s(e.tokens[t].children),r.test(e.tokens[t].content)&&u(e.tokens[t].children))}},function(e,t,n){"use strict";var r=n(92).isWhiteSpace,o=n(92).isPunctChar,i=n(92).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function s(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function u(e,t){var n,a,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C;for(S=[],n=0;n<e.length;n++){for(a=e[n],p=e[n].level,E=S.length-1;E>=0&&!(S[E].level<=p);E--);if(S.length=E+1,"text"===a.type){d=0,f=(u=a.content).length;e:for(;d<f&&(c.lastIndex=d,l=c.exec(u));){if(w=k=!0,d=l.index+1,x="'"===l[0],m=32,l.index-1>=0)m=u.charCodeAt(l.index-1);else for(E=n-1;E>=0&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E--)if(e[E].content){m=e[E].content.charCodeAt(e[E].content.length-1);break}if(v=32,d<f)v=u.charCodeAt(d);else for(E=n+1;E<e.length&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E++)if(e[E].content){v=e[E].content.charCodeAt(0);break}if(b=i(m)||o(String.fromCharCode(m)),g=i(v)||o(String.fromCharCode(v)),y=r(m),(O=r(v))?w=!1:g&&(y||b||(w=!1)),y?k=!1:b&&(O||g||(k=!1)),34===v&&'"'===l[0]&&m>=48&&m<=57&&(k=w=!1),w&&k&&(w=b,k=g),w||k){if(k)for(E=S.length-1;E>=0&&(h=S[E],!(S[E].level<p));E--)if(h.single===x&&S[E].level===p){h=S[E],x?(j=t.md.options.quotes[2],C=t.md.options.quotes[3]):(j=t.md.options.quotes[0],C=t.md.options.quotes[1]),a.content=s(a.content,l.index,C),e[h.token].content=s(e[h.token].content,h.pos,j),d+=C.length-1,h.token===n&&(d+=j.length-1),f=(u=a.content).length,S.length=E;continue e}w?S.push({token:n,pos:l.index,single:x,level:p}):k&&x&&(a.content=s(a.content,l.index,""))}else x&&(a.content=s(a.content,l.index,""))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o,i,a,c=e.tokens;for(t=0,n=c.length;t<n;t++)if("inline"===c[t].type){for(i=(r=c[t].children).length,o=0;o<i;o++)"text_special"===r[o].type&&(r[o].type="text");for(o=a=0;o<i;o++)"text"===r[o].type&&o+1<i&&"text"===r[o+1].type?r[o+1].content=r[o].content+r[o+1].content:(o!==a&&(r[a]=r[o]),a++);o!==a&&(r.length=a)}}},function(e,t,n){"use strict";var r=n(460);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(459),o=[["table",n(995),["paragraph","reference"]],["code",n(996)],["fence",n(997),["paragraph","reference","blockquote","list"]],["blockquote",n(998),["paragraph","reference","blockquote","list"]],["hr",n(999),["paragraph","reference","blockquote","list"]],["list",n(1e3),["paragraph","reference","blockquote"]],["reference",n(1001)],["html_block",n(1002),["paragraph","reference","blockquote"]],["heading",n(1004),["paragraph","reference","blockquote"]],["lheading",n(1005)],["paragraph",n(1006)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,c=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(a=e.line)<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(1007),e.exports=i},function(e,t,n){"use strict";var r=n(92).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function i(e){var t,n=[],r=0,o=e.length,i=!1,a=0,c="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(c+=e.substring(a,r-1),a=r):(n.push(c+e.substring(a,r)),c="",a=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(c+e.substring(a)),n}e.exports=function(e,t,n,a){var c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x;if(t+2>n)return!1;if(f=t+1,e.sCount[f]<e.blkIndent)return!1;if(e.sCount[f]-e.blkIndent>=4)return!1;if((u=e.bMarks[f]+e.tShift[f])>=e.eMarks[f])return!1;if(124!==(E=e.src.charCodeAt(u++))&&45!==E&&58!==E)return!1;if(u>=e.eMarks[f])return!1;if(124!==(x=e.src.charCodeAt(u++))&&45!==x&&58!==x&&!r(x))return!1;if(45===E&&r(x))return!1;for(;u<e.eMarks[f];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!r(c))return!1;u++}for(p=(s=o(e,t+1)).split("|"),v=[],l=0;l<p.length;l++){if(!(b=p[l].trim())){if(0===l||l===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;58===b.charCodeAt(b.length-1)?v.push(58===b.charCodeAt(0)?"center":"right"):58===b.charCodeAt(0)?v.push("left"):v.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=i(s)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),0===(h=p.length)||h!==v.length)return!1;if(a)return!0;for(O=e.parentType,e.parentType="table",k=e.md.block.ruler.getRules("blockquote"),(m=e.push("table_open","table",1)).map=g=[t,0],(m=e.push("thead_open","thead",1)).map=[t,t+1],(m=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<p.length;l++)m=e.push("th_open","th",1),v[l]&&(m.attrs=[["style","text-align:"+v[l]]]),(m=e.push("inline","",0)).content=p[l].trim(),m.children=[],m=e.push("th_close","th",-1);for(m=e.push("tr_close","tr",-1),m=e.push("thead_close","thead",-1),f=t+2;f<n&&!(e.sCount[f]<e.blkIndent);f++){for(w=!1,l=0,d=k.length;l<d;l++)if(k[l](e,f,n,!0)){w=!0;break}if(w)break;if(!(s=o(e,f).trim()))break;if(e.sCount[f]-e.blkIndent>=4)break;for((p=i(s)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),f===t+2&&((m=e.push("tbody_open","tbody",1)).map=y=[t+2,0]),(m=e.push("tr_open","tr",1)).map=[f,f+1],l=0;l<h;l++)m=e.push("td_open","td",1),v[l]&&(m.attrs=[["style","text-align:"+v[l]]]),(m=e.push("inline","",0)).content=p[l]?p[l].trim():"",m.children=[],m=e.push("td_close","td",-1);m=e.push("tr_close","tr",-1)}return y&&(m=e.push("tbody_close","tbody",-1),y[1]=f),m=e.push("table_close","table",-1),g[1]=f,e.parentType=O,e.line=f,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,c,s,u,l,d=!1,f=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(o=e.src.charCodeAt(f))&&96!==o)return!1;if(s=f,(i=(f=e.skipChars(f,o))-s)<3)return!1;if(l=e.src.slice(s,f),a=e.src.slice(f,p),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(c=t;!(++c>=n)&&!((f=s=e.bMarks[c]+e.tShift[c])<(p=e.eMarks[c])&&e.sCount[c]<e.blkIndent);)if(e.src.charCodeAt(f)===o&&!(e.sCount[c]-e.blkIndent>=4||(f=e.skipChars(f,o))-s<i||(f=e.skipSpaces(f))<p)){d=!0;break}return i=e.sCount[t],e.line=c+(d?1:0),(u=e.push("fence","code",0)).info=a,u.content=e.getLines(t+1,c,i,!0),u.markup=l,u.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(92).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S=e.lineMax,j=e.bMarks[t]+e.tShift[t],C=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(j++))return!1;if(o)return!0;for(s=p=e.sCount[t]+1,32===e.src.charCodeAt(j)?(j++,s++,p++,i=!1,O=!0):9===e.src.charCodeAt(j)?(O=!0,(e.bsCount[t]+p)%4==3?(j++,s++,p++,i=!1):i=!0):O=!1,h=[e.bMarks[t]],e.bMarks[t]=j;j<C&&(a=e.src.charCodeAt(j),r(a));)9===a?p+=4-(p+e.bsCount[t]+(i?1:0))%4:p++,j++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(O?1:0),l=j>=C,g=[e.sCount[t]],e.sCount[t]=p-s,y=[e.tShift[t]],e.tShift[t]=j-e.bMarks[t],k=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",f=t+1;f<n&&(x=e.sCount[f]<e.blkIndent,!((j=e.bMarks[f]+e.tShift[f])>=(C=e.eMarks[f])));f++)if(62!==e.src.charCodeAt(j++)||x){if(l)break;for(w=!1,c=0,u=k.length;c<u;c++)if(k[c](e,f,n,!0)){w=!0;break}if(w){e.lineMax=f,0!==e.blkIndent&&(h.push(e.bMarks[f]),m.push(e.bsCount[f]),y.push(e.tShift[f]),g.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),m.push(e.bsCount[f]),y.push(e.tShift[f]),g.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=p=e.sCount[f]+1,32===e.src.charCodeAt(j)?(j++,s++,p++,i=!1,O=!0):9===e.src.charCodeAt(j)?(O=!0,(e.bsCount[f]+p)%4==3?(j++,s++,p++,i=!1):i=!0):O=!1,h.push(e.bMarks[f]),e.bMarks[f]=j;j<C&&(a=e.src.charCodeAt(j),r(a));)9===a?p+=4-(p+e.bsCount[f]+(i?1:0))%4:p++,j++;l=j>=C,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(O?1:0),g.push(e.sCount[f]),e.sCount[f]=p-s,y.push(e.tShift[f]),e.tShift[f]=j-e.bMarks[f]}for(v=e.blkIndent,e.blkIndent=0,(E=e.push("blockquote_open","blockquote",1)).markup=">",E.map=d=[t,0],e.md.block.tokenize(e,t,f),(E=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=b,d[1]=e.line,c=0;c<y.length;c++)e.bMarks[c+t]=h[c],e.tShift[c+t]=y[c],e.sCount[c+t]=g[c],e.bsCount[c+t]=m[c];return e.blkIndent=v,!0}},function(e,t,n){"use strict";var r=n(92).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(a=1;u<l;){if((c=e.src.charCodeAt(u++))!==i&&!r(c))return!1;c===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},function(e,t,n){"use strict";var r=n(92).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C,T,_,A,P,I,M,R=!1,N=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(R=!0),(T=i(e,t))>=0){if(f=!0,A=e.bMarks[t]+e.tShift[t],g=Number(e.src.slice(A,T-1)),R&&1!==g)return!1}else{if(!((T=o(e,t))>=0))return!1;f=!1}if(R&&e.skipSpaces(T)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(T-1),r)return!0;for(v=e.tokens.length,f?(M=e.push("ordered_list_open","ol",1),1!==g&&(M.attrs=[["start",g]])):M=e.push("bullet_list_open","ul",1),M.map=m=[t,0],M.markup=String.fromCharCode(b),O=t,_=!1,I=e.md.block.ruler.getRules("list"),E=e.parentType,e.parentType="list";O<n;){for(C=T,y=e.eMarks[O],d=w=e.sCount[O]+T-(e.bMarks[t]+e.tShift[t]);C<y;){if(9===(a=e.src.charCodeAt(C)))w+=4-(w+e.bsCount[O])%4;else{if(32!==a)break;w++}C++}if((l=(c=C)>=y?1:w-d)>4&&(l=1),u=d+l,(M=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),M.map=p=[t,0],f&&(M.info=e.src.slice(A,T-1)),j=e.tight,S=e.tShift[t],x=e.sCount[t],k=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=w,c>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!_||(N=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=k,e.tShift[t]=S,e.sCount[t]=x,e.tight=j,(M=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),O=t=e.line,p[1]=O,c=e.bMarks[t],O>=n)break;if(e.sCount[O]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(P=!1,s=0,h=I.length;s<h;s++)if(I[s](e,O,n,!0)){P=!0;break}if(P)break;if(f){if((T=i(e,O))<0)break;A=e.bMarks[O]+e.tShift[O]}else if((T=o(e,O))<0)break;if(b!==e.src.charCodeAt(T-1))break}return(M=f?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=O,e.line=O,e.parentType=E,N&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,v),!0}},function(e,t,n){"use strict";var r=n(92).normalizeReference,o=n(92).isSpace;e.exports=function(e,t,n,i){var a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k=0,E=e.bMarks[t]+e.tShift[t],x=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(E))return!1;for(;++E<x;)if(93===e.src.charCodeAt(E)&&92!==e.src.charCodeAt(E-1)){if(E+1===x)return!1;if(58!==e.src.charCodeAt(E+1))return!1;break}for(u=e.lineMax,O=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";S<u&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(y=!1,d=0,f=O.length;d<f;d++)if(O[d](e,S,u,!0)){y=!0;break}if(y)break}for(x=(g=e.getLines(t,S,e.blkIndent,!1).trim()).length,E=1;E<x;E++){if(91===(a=g.charCodeAt(E)))return!1;if(93===a){h=E;break}(10===a||92===a&&++E<x&&10===g.charCodeAt(E))&&k++}if(h<0||58!==g.charCodeAt(h+1))return!1;for(E=h+2;E<x;E++)if(10===(a=g.charCodeAt(E)))k++;else if(!o(a))break;if(!(v=e.md.helpers.parseLinkDestination(g,E,x)).ok)return!1;if(l=e.md.normalizeLink(v.str),!e.md.validateLink(l))return!1;for(c=E=v.pos,s=k+=v.lines,b=E;E<x;E++)if(10===(a=g.charCodeAt(E)))k++;else if(!o(a))break;for(v=e.md.helpers.parseLinkTitle(g,E,x),E<x&&b!==E&&v.ok?(w=v.str,E=v.pos,k+=v.lines):(w="",E=c,k=s);E<x&&(a=g.charCodeAt(E),o(a));)E++;if(E<x&&10!==g.charCodeAt(E)&&w)for(w="",E=c,k=s;E<x&&(a=g.charCodeAt(E),o(a));)E++;return!(E<x&&10!==g.charCodeAt(E))&&(!!(p=r(g.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[p]&&(e.env.references[p]={title:w,href:l}),e.parentType=m,e.line=t+k+1),!0))}},function(e,t,n){"use strict";var r=n(1003),o=n(625).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,l),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],s=e.src.slice(u,l),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(c=e.push("html_block","",0)).map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";var r=n(92).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=l)return!1;for(a=1,i=e.src.charCodeAt(++u);35===i&&u<l&&a<=6;)a++,i=e.src.charCodeAt(++u);return!(a>6||u<l&&!r(i))&&(o||(l=e.skipSpacesBack(l,u),(c=e.skipCharsBack(l,35,u))>u&&r(e.src.charCodeAt(c-1))&&(l=c),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,l).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,c,s,u,l,d,f,p=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(f=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(s=e.bMarks[p]+e.tShift[p])<(u=e.eMarks[p])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=u)){l=61===d?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,p,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,(c=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(d),c.map=[t,e.line],(c=e.push("inline","",0)).content=r,c.map=[t,e.line-1],c.children=[],(c=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(d),e.parentType=f,!0)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<l&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=u.length;o<i;o++)if(u[o](e,s,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}},function(e,t,n){"use strict";var r=n(460),o=n(92).isSpace;function i(e,t,n,r){var i,a,c,s,u,l,d,f;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,c=s=l=d=0,u=(a=this.src).length;s<u;s++){if(i=a.charCodeAt(s),!f){if(o(i)){l++,9===i?d+=4-d%4:d++;continue}f=!0}10!==i&&s!==u-1||(10!==i&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),f=!1,l=0,d=0,c=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,c,s,u,l,d,f=e;if(e>=t)return"";for(l=new Array(t-e),i=0;f<t;f++,i++){for(a=0,d=s=this.bMarks[f],u=f+1<t||r?this.eMarks[f]+1:this.eMarks[f];s<u&&a<n;){if(c=this.src.charCodeAt(s),o(c))9===c?a+=4-(a+this.bsCount[f])%4:a++;else{if(!(s-d<this.tShift[f]))break;a++}s++}l[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return l.join("")},i.prototype.Token=r,e.exports=i},function(e,t,n){"use strict";var r=n(459),o=[["text",n(1009)],["linkify",n(1010)],["newline",n(1011)],["escape",n(1012)],["backticks",n(1013)],["strikethrough",n(626).tokenize],["emphasis",n(627).tokenize],["link",n(1014)],["image",n(1015)],["autolink",n(1016)],["html_inline",n(1017)],["entity",n(1018)]],i=[["balance_pairs",n(1019)],["strikethrough",n(626).postProcess],["emphasis",n(627).postProcess],["fragments_join",n(1020)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,c=e.cache;if(void 0===c[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos}else e.pos=c[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,c=new this.State(e,t,n,r);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=n(1021),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,t){var n,o,i,a,c,s,u;return!!e.md.options.linkify&&(!(e.linkLevel>0)&&(!((n=e.pos)+3>e.posMax)&&(58===e.src.charCodeAt(n)&&(47===e.src.charCodeAt(n+1)&&(47===e.src.charCodeAt(n+2)&&(!!(o=e.pending.match(r))&&(i=o[1],!!(a=e.md.linkify.matchAtStart(e.src.slice(n-i.length)))&&(c=(c=a.url).replace(/\*+$/,""),s=e.md.normalizeLink(c),!!e.md.validateLink(s)&&(t||(e.pending=e.pending.slice(0,-i.length),(u=e.push("link_open","a",1)).attrs=[["href",s]],u.markup="linkify",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(c),(u=e.push("link_close","a",-1)).markup="linkify",u.info="auto"),e.pos+=c.length-i.length,!0)))))))))}},function(e,t,n){"use strict";var r=n(92).isSpace;e.exports=function(e,t){var n,o,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&r(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},function(e,t,n){"use strict";for(var r=n(92).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i,a,c,s,u=e.pos,l=e.posMax;if(92!==e.src.charCodeAt(u))return!1;if(++u>=l)return!1;if(10===(n=e.src.charCodeAt(u))){for(t||e.push("hardbreak","br",0),u++;u<l&&(n=e.src.charCodeAt(u),r(n));)u++;return e.pos=u,!0}return c=e.src[u],n>=55296&&n<=56319&&u+1<l&&(i=e.src.charCodeAt(u+1))>=56320&&i<=57343&&(c+=e.src[u+1],u++),a="\\"+c,t||(s=e.push("text_special","",0),n<256&&0!==o[n]?s.content=c:s.content=a,s.markup=a,s.info="escape"),e.pos=u+1,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s,u,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,r=e.posMax;l<r&&96===e.src.charCodeAt(l);)l++;if(s=(o=e.src.slice(n,l)).length,e.backticksScanned&&(e.backticks[s]||0)<=n)return t||(e.pending+=o),e.pos+=s,!0;for(a=c=l;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<r&&96===e.src.charCodeAt(c);)c++;if((u=c-a)===s)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(l,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[u]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}},function(e,t,n){"use strict";var r=n(92).normalizeReference,o=n(92).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,f="",p="",h=e.pos,m=e.posMax,v=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(c=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=c+1)<m&&40===e.src.charCodeAt(u)){for(b=!1,u++;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=m)return!1;if(v=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok){for(f=e.md.normalizeLink(l.str),e.md.validateLink(f)?u=l.pos:f="",v=u;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&v!==u&&l.ok)for(p=l.str,u=l.pos;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);}(u>=m||41!==e.src.charCodeAt(u))&&(b=!0),u++}if(b){if(void 0===e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(v=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(v,u++):u=c+1):u=c+1,a||(a=e.src.slice(s,c)),!(d=e.env.references[r(a)]))return e.pos=h,!1;f=d.href,p=d.title}return t||(e.pos=s,e.posMax=c,e.push("link_open","a",1).attrs=n=[["href",f]],p&&n.push(["title",p]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,n){"use strict";var r=n(92).normalizeReference,o=n(92).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,f,p,h,m,v,b="",g=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=s+1)<y&&40===e.src.charCodeAt(l)){for(l++;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=y)return!1;for(v=l,(f=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(b=e.md.normalizeLink(f.str),e.md.validateLink(b)?l=f.pos:b=""),v=l;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(f=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<y&&v!==l&&f.ok)for(p=f.str,l=f.pos;l<y&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else p="";if(l>=y||41!==e.src.charCodeAt(l))return e.pos=g,!1;l++}else{if(void 0===e.env.references)return!1;if(l<y&&91===e.src.charCodeAt(l)?(v=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?c=e.src.slice(v,l++):l=s+1):l=s+1,c||(c=e.src.slice(u,s)),!(d=e.env.references[r(c)]))return e.pos=g,!1;b=d.href,p=d.title}return t||(a=e.src.slice(u,s),e.md.inline.parse(a,e.md,e.env,m=[]),(h=e.push("image","img",0)).attrs=n=[["src",b],["alt",""]],h.children=m,h.content=a,p&&n.push(["title",p])),e.pos=l,e.posMax=y,!0}},function(e,t,n){"use strict";var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,o=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,i,a,c,s,u,l=e.pos;if(60!==e.src.charCodeAt(l))return!1;for(s=e.pos,u=e.posMax;;){if(++l>=u)return!1;if(60===(c=e.src.charCodeAt(l)))return!1;if(62===c)break}return n=e.src.slice(s+1,l),o.test(n)?(i=e.md.normalizeLink(n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0)):!!r.test(n)&&(i=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(i)&&(t||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(n),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=n.length+2,!0))}},function(e,t,n){"use strict";var r=n(625).HTML_TAG_RE;e.exports=function(e,t){var n,o,i,a,c,s=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(s).match(r))&&(t||((a=e.push("html_inline","",0)).content=e.src.slice(s,s+o[0].length),c=a.content,/^<a[>\s]/i.test(c)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(a.content)&&e.linkLevel--),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var r=n(624),o=n(92).has,i=n(92).isValidEntityCode,a=n(92).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,l,d=e.pos,f=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1>=f)return!1;if(35===e.src.charCodeAt(d+1)){if(u=e.src.slice(d).match(c))return t||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),(l=e.push("text_special","",0)).content=i(n)?a(n):a(65533),l.markup=u[0],l.info="entity"),e.pos+=u[0].length,!0}else if((u=e.src.slice(d).match(s))&&o(r,u[1]))return t||((l=e.push("text_special","",0)).content=r[u[1]],l.markup=u[0],l.info="entity"),e.pos+=u[0].length,!0;return!1}},function(e,t,n){"use strict";function r(e,t){var n,r,o,i,a,c,s,u,l={},d=t.length;if(d){var f=0,p=-2,h=[];for(n=0;n<d;n++)if(o=t[n],h.push(0),t[f].marker===o.marker&&p===o.token-1||(f=n),p=o.token,o.length=o.length||0,o.close){for(l.hasOwnProperty(o.marker)||(l[o.marker]=[-1,-1,-1,-1,-1,-1]),a=l[o.marker][(o.open?3:0)+o.length%3],c=r=f-h[f]-1;r>a;r-=h[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s)){u=r>0&&!t[r-1].open?h[r-1]+1:0,h[n]=n-r+u,h[r]=u,o.open=!1,i.end=n,i.close=!1,c=-1,p=-2;break}-1!==c&&(l[o.marker][(o.open?3:0)+(o.length||0)%3]=c)}}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(r(0,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&r(0,n[t].delimiters)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var r=n(460),o=n(92).isWhiteSpace,i=n(92).isPunctChar,a=n(92).isMdAsciiPunct;function c(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}c.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},c.prototype.scanDelims=function(e,t){var n,r,c,s,u,l,d,f,p,h=e,m=!0,v=!0,b=this.posMax,g=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<b&&this.src.charCodeAt(h)===g;)h++;return c=h-e,r=h<b?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),p=a(r)||i(String.fromCharCode(r)),l=o(n),(f=o(r))?m=!1:p&&(l||d||(m=!1)),l?v=!1:d&&(f||p||(v=!1)),t?(s=m,u=v):(s=m&&(!v||d),u=v&&(!m||p)),{can_open:s,can_close:u,length:c}},c.prototype.Token=r,e.exports=c},function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(e){var t=e.re=n(1023)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?u(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,f(this,0)):null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,n){"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=n(448).source,t.src_Cc=n(449).source,t.src_Z=n(450).source,t.src_P=n(315).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},function(e,t,n){var r=n(1028);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(556);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(156),i=n(229),a=n(211),c=n(644),s=n(645),u=n(462),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(i.Subscriber);t.SubjectSubscriber=l;var d=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new s.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(o.Observable);t.Subject=d;var f=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(d);t.AnonymousSubject=f},function(e,t,n){"use strict";var r=n(229),o=n(462),i=n(643);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(i.empty)}},function(e,t,n){"use strict";var r,o=n(642);function i(){try{return r.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}t.tryCatch=function(e){return r=e,i}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(t,e),t}(Error);t.UnsubscriptionError=o},function(e,t,n){"use strict";var r=n(1036);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},t.pipeFromArray=o},function(e,t,n){"use strict";t.noop=function(){}},function(e,t,n){"use strict";var r=n(1038),o=n(1041);t.queue=new o.QueueScheduler(r.QueueAction)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(1039).AsyncAction);t.QueueAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(228),i=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.pending=!1,this.work=n}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;o.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(1040).Action);t.AsyncAction=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(211).Subscription);t.Action=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(n(1042).AsyncScheduler);t.QueueScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(n(1043).Scheduler);t.AsyncScheduler=o},function(e,t,n){"use strict";var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},function(e,t,n){"use strict";var r=n(156),o=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},function(e,t,n){"use strict";var r=n(228),o=n(650),i=n(651),a=n(641),c=n(156),s=n(464),u=n(1047),l=n(463);t.subscribeToResult=function(e,t,n,d){var f=new u.InnerSubscriber(e,n,d);if(f.closed)return null;if(t instanceof c.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):(f.syncErrorThrowable=!0,t.subscribe(f));if(o.isArrayLike(t)){for(var p=0,h=t.length;p<h&&!f.closed;p++)f.next(t[p]);f.closed||f.complete()}else{if(i.isPromise(t))return t.then((function(e){f.closed||(f.next(e),f.complete())}),(function(e){return f.error(e)})).then(null,(function(e){r.root.setTimeout((function(){throw e}))})),f;if(t&&"function"==typeof t[s.iterator])for(var m=t[s.iterator]();;){var v=m.next();if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}else if(t&&"function"==typeof t[l.observable]){var b=t[l.observable]();if("function"==typeof b.subscribe)return b.subscribe(new u.InnerSubscriber(e,n,d));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g="You provided "+(a.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(g))}}return null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(229).Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(229).Subscriber);t.OuterSubscriber=o},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],c=r[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===c&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,s[l++]=255&t);1===c&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,c=n-o;a<c;a+=16383)i.push(l(e,a,a+16383>c?c:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=a.length;c<s;++c)r[c]=a[c],o[a.charCodeAt(c)]=c;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],c=t;c<n;c+=3)o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,c=8*o-r-1,s=(1<<c)-1,u=s>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=c;l>0;i=256*i+e[t+d],d+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,c,s,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=l?(c=0,a=l):a+d>=1?(c=(t*s-1)*Math.pow(2,o),a+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&c,p+=h,c/=256,o-=8);for(a=a<<o|c,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(465),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(226))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(640),i=n(650),a=n(651),c=n(656),s=n(1056),u=n(647),l=n(1057),d=n(464),f=n(156),p=n(646),h=n(463),m=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[h.observable])return e instanceof f.Observable&&!n?e:new t(e,n);if(o.isArray(e))return new u.ArrayObservable(e,n);if(a.isPromise(e))return new c.PromiseObservable(e,n);if("function"==typeof e[d.iterator]||"string"==typeof e)return new s.IteratorObservable(e,n);if(i.isArrayLike(e))return new l.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[h.observable]().subscribe(e):t[h.observable]().subscribe(new p.ObserveOnSubscriber(e,n,0))},t}(f.Observable);t.FromObservable=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(228),i=n(156),a=n(464),c=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[a.iterator];if(!t&&"string"==typeof e)return new s(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[a.iterator]()}(t)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,o=e.subscriber;if(n)o.error(e.error);else{var i=r.next();i.done?o.complete():(o.next(i.value),e.index=t+1,o.closed?"function"==typeof r.return&&r.return():this.schedule(e))}},t.prototype._subscribe=function(e){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:0,iterator:n,subscriber:e});for(;;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof n.return&&n.return();break}}},t}(i.Observable);t.IteratorObservable=c;var s=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(n=t,"number"!=typeof n||!o.root.isFinite(n)))return t;var n;if((t=function(e){var t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>l)return l;return t}(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var l=Math.pow(2,53)-1},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(156),i=n(648),a=n(649),c=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new i.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,o=e.subscriber;o.closed||(n>=r?o.complete():(o.next(t[n]),e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.arrayLike,r=this.scheduler,o=n.length;if(r)return r.schedule(t.dispatch,0,{arrayLike:n,index:0,length:o,subscriber:e});for(var i=0;i<o&&!e.closed;i++)e.next(n[i]);e.complete()},t}(o.Observable);t.ArrayLikeObservable=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n,r){e.call(this),this.start=t,this._count=n,this.scheduler=r}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,r)},t.dispatch=function(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,r=this.start,o=this._count,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{index:n,count:o,start:r,subscriber:e});for(;;){if(n++>=o){e.complete();break}if(e.next(r++),e.closed)break}},t}(n(156).Observable);t.RangeObservable=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function c(){this.cache=Object.create(null)}c.prototype.has=function(e){return e in this.cache},c.prototype.get=function(e){return this.cache[e]},c.prototype.set=function(e,t){this.cache[e]=t};var s={create:function(){return new c}};e.exports=function(e,t){var n=t&&t.cache?t.cache:s,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},function(e,t,n){"use strict";var r,o,i=n(7),a=n.n(i),c=n(0),s=n.n(c),u=n(16),l=n(745),d=n(48),f=u.j.modal()+10,p=d.a.div(r||(r=a()(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),f);p.displayName="Blanket";var h=d.a.div(o||(o=a()(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));h.displayName="SpinnerWrapper";var m="none",v=!1;t.a=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return s.a.createElement(p,{style:{backgroundColor:t||m}},s.a.createElement(h,null,s.a.createElement(l.a,{size:"large",appearance:n||v?"invert":"inherit"})))}},function(e,t,n){var r,o,i=n(665),a=n(666),c=0,s=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:s+1,v=h-c+(m-s)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>c)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,s=m,o=f;var b=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var g=h/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var y=0;y<6;++y)l[u+y]=d[y];return t||a(l)}},function(e,t,n){var r=n(665),o=n(666);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}},function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n.n(o),a=n(68),c=n.n(a),s=n(19),u=n.n(s),l=n(8),d=n.n(l),f=n(9),p=n.n(f),h=n(5),m=n.n(h),v=n(13),b=n.n(v),g=n(15),y=n.n(g),O=n(6),w=n.n(O),k=n(1),E=n.n(k),x=n(7),S=n.n(x),j=n(10),C=n.n(j),T=n(2),_=n(59),A=n.n(_),P=n(96),I=n(282),M=n.n(I),R=n(260),N=n(20),D=n.n(N);!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(r||(r={}));var L=function(e){return e.status===r.FULFILLED},B=function(e){return{status:r.FULFILLED,value:e}},F=function(e){return{status:r.FAILED,reason:e}},z=function(e){return Promise.all(e.map((function(e){return e.then(B).catch(F)})))},U=function(e){var t=[];return new Promise((function(n,r){e.forEach((function(o){return o.then((function(e){if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((function(n){t.push(n),t.length===e.length&&r(n)}))}))}))},H=function(e){return e.filter(L).map((function(e){return e.value}))},W=function(e){if(0===e.length)throw new Error("At least one provider must be provided");var t=function(){var t=u()(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.map((function(e){return Promise.resolve(e)})));case 2:return n=t.sent,t.abrupt("return",H(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=u()(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent.map((function(e){return n(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(e,t){return function(n){var r=n[e];if("function"==typeof r)return r.apply(n,t);throw new Error('"'.concat(e,"\" isn't a function of the provider"))}};return{invokeSingle:function(){var e=u()(C.a.mark((function e(t,o){var i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(t,o),e.t0=U,e.next=4,n(i);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),invokeList:function(){var e=u()(C.a.mark((function e(t,o){var i,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(t,o),e.t0=z,e.next=4,n(i);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return a=e.sent,c=H(a),e.abrupt("return",(s=c,u=void 0,(u=[]).concat.apply(u,D()(s))).filter((function(e){return e})));case 10:case"end":return e.stop()}var s,u}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},V=function(e){var t=W(e),n=t.invokeSingle,r=t.invokeList;return{getExtensions:function(){return r("getExtensions")},getExtension:function(e,t){return n("getExtension",[e,t])},search:function(e){return r("search",[e])},getAutoConverter:function(){return r("getAutoConverter")}}};var q=function(){function e(){d()(this,e),E()(this,"providers",new Map),E()(this,"subscribers",new Map)}return p()(e,[{key:"destroy",value:function(){this.providers.clear(),this.subscribers.clear()}},{key:"isEmpty",value:function(){return!this.providers.size&&!this.subscribers.size}},{key:"setProvider",value:function(e,t){this.providers.get(e)!==t&&(void 0!==t?this.providers.set(e,t):this.providers.delete(e),this.notifyUpdated(e,t))}},{key:"removeProvider",value:function(e){this.providers.delete(e),this.notifyUpdated(e)}},{key:"subscribe",value:function(e,t){var n=this.subscribers.get(e)||[];n.push(t),this.subscribers.set(e,n);var r=this.providers.get(e);r&&t(e,r)}},{key:"unsubscribe",value:function(e,t){var n=this.subscribers.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length?this.subscribers.delete(e):this.subscribers.set(e,n)}}},{key:"unsubscribeAll",value:function(e){this.subscribers.get(e)&&this.subscribers.delete(e)}},{key:"hasProvider",value:function(e){return this.providers.has(e)}},{key:"notifyUpdated",value:function(e,t){var n=this.subscribers.get(e);n&&n.forEach((function(n){n(e,t)}))}}],[{key:"create",value:function(t){var n=new e;return Object.keys(t).forEach((function(e){n.setProvider(e,t[e])})),n}}]),e}(),G=n(316);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var $=Object(G.a)()(function(e){b()(n,e);var t=K(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.render;return t(e.createAnalyticsEvent)}}]),n}(i.a.Component)),Y=n(385),X=n(677),J=n(750),Z=n(100),Q=n(201);var ee=4e4,te=6e4,ne=5e3,re=8e3;var oe,ie=n(153),ae=n(307),ce={type:ie.b.Operation,performanceType:ie.a.Custom,platform:{component:"editor"}};!function(e){e.loadEditor="load",e.typing="type",e.interaction="interact",e.editSession="editSession"}(oe||(oe={}));var se=function(){function e(){d()(this,e),this.experiences=new Map;for(var t=0,n=Object.values(oe);t<n.length;t++){var r=n[t],o=new ae.a(r,ce);this.experiences.set(r,o)}}return p()(e,[{key:"get",value:function(e){return this.experiences.get(e)}},{key:"getActive",value:function(e){var t=this.experiences.get(e);if(null==t||!t.state.final)return t}},{key:"getAll",value:function(){return Array.from(this.experiences.values())}},{key:"start",value:function(e,t){var n;null===(n=this.get(e))||void 0===n||n.start(t)}},{key:"addMetadata",value:function(e,t){var n;null===(n=this.get(e))||void 0===n||n.addMetadata(t)}},{key:"mark",value:function(e,t,n){var r;null===(r=this.get(e))||void 0===r||r.mark(t,n)}},{key:"success",value:function(e,t){var n;return null===(n=this.getActive(e))||void 0===n?void 0:n.success({metadata:t})}},{key:"fail",value:function(e,t){var n;null===(n=this.getActive(e))||void 0===n||n.failure({metadata:t})}},{key:"abort",value:function(e,t){var n=this;setTimeout((function(){var r;null===(r=n.getActive(e))||void 0===r||r.abort({metadata:t})}),0)}},{key:"abortAll",value:function(e){var t=this;this.experiences.forEach((function(n){t.abort(n.id,e)}))}},{key:"failAll",value:function(e){var t=this;this.experiences.forEach((function(n){t.fail(n.id,e)}))}}],[{key:"getInstance",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.stores.get(t)||null!=n&&n.forceNewInstance){var r=new e;this.stores.set(t,r)}return this.stores.get(t)}}]),e}();E()(se,"stores",new WeakMap);var ue,le,de,fe,pe,he=n(73),me=n(63),ve=n(90),be=n(455),ge=n(454),ye=n(124),Oe=Object(T.c)(ue||(ue=S()(["\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"]))),we=Object(T.c)(le||(le=S()(["\n  & p {\n    font-size: 1em;\n    line-height: ",";\n    font-weight: normal;\n    margin-top: ",";\n    margin-bottom: 0;\n    letter-spacing: -0.005em;\n  }\n"])),he.v,he.Y),ke=n(452),Ee=n(451),xe=n(192),Se=Object(T.c)(de||(de=S()(["\n  /* =============== INDENTATION SPACING ========= */\n\n  ul,\n  ol {\n    box-sizing: border-box;\n    padding-left: 24px;\n\n    /*\n    Firefox does not handle empty block element inside li tag.\n    If there is not block element inside li tag,\n      then firefox sets inherited height to li\n    However, if there is any block element and if it's empty\n      (or has empty inline element) then\n    firefox sets li tag height to zero.\n    More details at\n    https://product-fabric.atlassian.net/wiki/spaces/~455502413/pages/3149365890/ED-14110+Investigation\n    */\n    li p:empty,\n    li p > span:empty {\n      ","\n    }\n  }\n\n  ",", "," {\n    /*\n      Ensures list item content adheres to the list's margin instead\n      of filling the entire block row. This is important to allow\n      clicking interactive elements which are floated next to a list.\n\n      For some history and context on this block, see PRs related to tickets.:\n      @see ED-6551 - original issue.\n      @see ED-7015 - follow up issue.\n      @see ED-7447 - flow-root change.\n\n      We use 'display: table' (old clear fix / new block formatting context hack)\n      for older browsers and 'flow-root' for modern browsers.\n\n      @see https://css-tricks.com/display-flow-root/\n    */\n    // For older browsers the do not support flow-root.\n    /* stylelint-disable declaration-block-no-duplicate-properties */\n    display: table;\n    display: flow-root;\n    /* stylelint-enable declaration-block-no-duplicate-properties */\n  }\n\n  /* =============== INDENTATION AESTHETICS ========= */\n\n  /**\n        We support nested lists up to six levels deep.\n    **/\n\n  /* LEGACY LISTS */\n\n  ul,\n  ul ul ul ul {\n    list-style-type: disc;\n  }\n\n  ul ul,\n  ul ul ul ul ul {\n    list-style-type: circle;\n  }\n\n  ul ul ul,\n  ul ul ul ul ul ul {\n    list-style-type: square;\n  }\n\n  ol,\n  ol ol ol ol {\n    list-style-type: decimal;\n  }\n  ol ol,\n  ol ol ol ol ol {\n    list-style-type: lower-alpha;\n  }\n  ol ol ol,\n  ol ol ol ol ol ol {\n    list-style-type: lower-roman;\n  }\n\n  /* PREDICTABLE LISTS */\n\n  ol[data-indent-level='1'],\n  ol[data-indent-level='4'] {\n    list-style-type: decimal;\n  }\n\n  ol[data-indent-level='2'],\n  ol[data-indent-level='5'] {\n    list-style-type: lower-alpha;\n  }\n\n  ol[data-indent-level='3'],\n  ol[data-indent-level='6'] {\n    list-style-type: lower-roman;\n  }\n\n  ul[data-indent-level='1'],\n  ul[data-indent-level='4'] {\n    list-style-type: disc;\n  }\n\n  ul[data-indent-level='2'],\n  ul[data-indent-level='5'] {\n    list-style-type: circle;\n  }\n\n  ul[data-indent-level='3'],\n  ul[data-indent-level='6'] {\n    list-style-type: square;\n  }\n"])),xe.a.gecko?"display: inline-block;":"",ke.b,Ee.b),je=Object(T.c)(fe||(fe=S()(["\n  .fabric-editor-indentation-mark {\n    &[data-level='1'] {\n      margin-left: 30px;\n    }\n    &[data-level='2'] {\n      margin-left: 60px;\n    }\n    &[data-level='3'] {\n      margin-left: 90px;\n    }\n    &[data-level='4'] {\n      margin-left: 120px;\n    }\n    &[data-level='5'] {\n      margin-left: 150px;\n    }\n    &[data-level='6'] {\n      margin-left: 180px;\n    }\n  }\n"]))),Ce=n(3),Te=n(22),_e=n.n(Te);!function(e){e.SHOW_LEFT_SHADOW="showLeftShadow",e.SHOW_RIGHT_SHADOW="showRightShadow"}(pe||(pe={}));var Ae="sentinel-left",Pe="sentinel-right",Ie="with-shadow-observer",Me=function(){function e(t){var n,r=this,o=t.scrollContainer,i=t.onUpdateShadows;d()(this,e),E()(this,"sentinels",{}),E()(this,"shadowStates",(n={},E()(n,pe.SHOW_LEFT_SHADOW,!1),E()(n,pe.SHOW_RIGHT_SHADOW,!1),n)),E()(this,"init",(function(){r.scrollContainer&&!r.intersectionObserver&&(r.sentinels.right=document.createElement("div"),r.sentinels.right.classList.add(Pe),r.scrollContainer.appendChild(r.sentinels.right),r.sentinels.left=document.createElement("div"),r.sentinels.left.classList.add(Ae),r.scrollContainer.prepend(r.sentinels.left),r.intersectionObserver=new IntersectionObserver((function(e,t){e.forEach(r.onIntersect)}),{root:r.scrollContainer}),r.intersectionObserver.observe(r.sentinels.left),r.intersectionObserver.observe(r.sentinels.right))})),E()(this,"onIntersect",(function(e){var t;r.requestCallbackId=(t=function(){e.target.classList.contains(Ae)&&(r.shadowStates[pe.SHOW_LEFT_SHADOW]=!e.isIntersecting),e.target.classList.contains(Pe)&&(r.shadowStates[pe.SHOW_RIGHT_SHADOW]=!e.isIntersecting),r.onUpdateShadows(r.shadowStates)},window.requestIdleCallback?window.requestIdleCallback(t):window.requestAnimationFrame(t))})),this.scrollContainer=o,this.onUpdateShadows=i,this.init()}return p()(e,[{key:"dispose",value:function(){var e;this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0,this.requestCallbackId&&(e=this.requestCallbackId,window.cancelIdleCallback?window.cancelIdleCallback(e):window.cancelAnimationFrame(e)))}}]),e}();function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Ne,De="right-shadow",Le="left-shadow";var Be,Fe,ze,Ue,He,We=Object(T.c)(Ne||(Ne=S()(["\n  &\n    .","::before,\n    .","::after,\n    .","::before,\n    .","::after {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    z-index: ",";\n    width: ","px;\n    content: '';\n    /* Scrollbar is outside the content in IE, inset in other browsers. */\n    height: calc(100%);\n  }\n\n  & .",", ."," {\n    position: relative;\n  }\n\n  & .","::before {\n    background: linear-gradient(to left, rgba(99, 114, 130, 0) 0, "," 100%);\n    top: 0px;\n    left: 0;\n    display: block;\n  }\n\n  & .","::after {\n    background: linear-gradient(\n      to right,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    left: calc(100% - ","px);\n    top: 0px;\n    display: block;\n  }\n  & ."," {\n    height: 100%;\n    width: 0px;\n    min-width: 0px;\n  }\n\n  & ."," {\n    height: 100%;\n    width: 0px;\n    min-width: 0px;\n  }\n"])),De,De,Le,Le,he.I,8,De,Le,Le,Ce.N40A,De,Ce.N40A,8,Ae,Pe),Ve=Object(T.c)(Be||(Be=S()(["\n  .fabric-text-color-mark {\n    color: var(--custom-text-color, inherit);\n  }\n\n  a .fabric-text-color-mark {\n    color: unset;\n  }\n"]))),qe="decisionItemView-content-wrap",Ge=Object(T.c)(Fe||(Fe=S()(["\n  .ProseMirror {\n    .taskItemView-content-wrap,\n    ."," {\n      position: relative;\n      min-width: ","px;\n    }\n\n    ."," {\n      margin-top: 0;\n    }\n  }\n\n  div[data-task-list-local-id] {\n    margin: 12px 0 0 0;\n  }\n\n  // If task list is first in the document then set margin top to zero.\n  div[data-task-list-local-id]:first-child,\n  style:first-child + div[data-task-list-local-id] {\n    margin-top: 0;\n  }\n\n  div[data-task-list-local-id] div[data-task-list-local-id] {\n    margin-top: 0px;\n    margin-left: 24px;\n  }\n"])),qe,he.O,qe),Ke=Object(T.c)(ze||(ze=S()(["\n  /**\n   * We need to remove margin-top from first item\n   * inside doc, tableCell, tableHeader, blockquote, etc.\n   */\n  *:not(.fabric-editor-block-mark) >,\n  /* For nested block marks */\n  *:not(.fabric-editor-block-mark) > div.fabric-editor-block-mark:first-of-type {\n    p,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6,\n    .heading-wrapper {\n      :first-child:not(style),\n      style:first-child + * {\n        margin-top: 0;\n      }\n    }\n  }\n"]))),$e="date-lozenger-container",Ye="dateView-content-wrap",Xe=Object(T.c)(Ue||(Ue=S()(["\n  ."," span {\n    white-space: unset;\n  }\n"])),$e),Je=n(1192),Ze=n(16),Qe="inlineCardView-content-wrap",et="blockCardView-content-wrap",tt="embedCardView-content-wrap",nt="loader-wrapper",rt="\n  .".concat(et," {\n    display: block;\n    margin: ").concat(he.Y," 0 0;\n    max-width: ").concat(95*Object(Ze.i)(),"px;\n  }\n"),ot=n(33),it=n(748),at=n(306),ct="unsupportedBlockView-content-wrap",st=".".concat("unsupportedInlineView-content-wrap"," > span:nth-of-type(2)"),ut=".".concat(ct," > div"),lt=Object(T.c)(He||(He=S()(["\n  ",", "," {\n    cursor: pointer;\n  }\n\n  .","",",\n    .",""," {\n    ","\n  }\n\n  .danger {\n    .","",",\n      .",""," {\n      border: ","px solid\n        ",";\n      background-color: ",";\n    }\n  }\n"])),ut,st,he.H,ut,he.H,st,Object(it.a)([at.a.Background,at.a.Border]),he.H,ut,he.H,st,he.F,Object(ot.a)("color.border.danger",he.l),Object(ot.a)("color.blanket.danger",he.k)),dt=n(4),ft=n(32),pt=n(27);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;d()(this,e),this.participants=t}return p()(e,[{key:"add",value:function(t){var n=new Map(this.participants);return t.forEach((function(e){n.set(e.sessionId,e)})),new e(n)}},{key:"remove",value:function(t){var n=new Map(this.participants);return t.forEach((function(e){n.delete(e)})),new e(n)}},{key:"update",value:function(t,n){var r=new Map(this.participants),o=r.get(t);return o?(r.set(t,mt(mt({},o),{},{lastActive:n})),new e(r)):this}},{key:"updateCursorPos",value:function(t,n){var r=new Map(this.participants),o=r.get(t);return o?(r.set(t,mt(mt({},o),{},{cursorPos:n})),new e(r)):this}},{key:"toArray",value:function(){return Array.from(this.participants.values())}},{key:"get",value:function(e){return this.participants.get(e)}},{key:"size",value:function(){return this.participants.size}},{key:"eq",value:function(e){return this.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")===e.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")}}]),e}(),bt=n(45),gt=n.n(bt),yt=n(55),Ot=n(93),wt=n(38),kt=[Ce.R100,Ce.R300,Ce.R500,Ce.Y100,Ce.Y300,Ce.Y500,Ce.G100,Ce.G300,Ce.G500,Ce.T100,Ce.T300,Ce.T500,Ce.B100,Ce.B300,Ce.B500,Ce.P100,Ce.P300,Ce.P500,Ce.N70,Ce.N200,Ce.N800].map((function(e){return{solid:e,selection:Object(yt.J)(e,.2)}})),Et=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;var r=Math.abs(t)%kt.length;return{index:r,color:kt[r]}},xt=function(e,t){return t.find().reduce((function(t,n){return n.spec.pointer.sessionId===e?t.concat(n):t}),[])};var St,jt,Ct,Tt,_t,At,Pt,It,Mt,Rt,Nt,Dt,Lt,Bt,Ft,zt,Ut,Ht,Wt,Vt,qt,Gt,Kt,$t,Yt,Xt,Jt,Zt,Qt,en,tn,nn,rn,on,an,cn,sn,un,ln,dn,fn,pn=function(e,t,n,r,o){var i=[],a=Et(n),c=a.index.toString();if(r){var s="telepointer color-".concat(c," telepointer-selection");i.push(ft.a.inline(e,t,{class:s,"data-initial":o},{pointer:{sessionId:n}}))}var u=document.createElement("span");return u.textContent="",u.className="telepointer color-".concat(c," telepointer-selection-badge"),u.style.cssText="".concat(function(e){var t=e&&e.color||"black";return"border-left: 1px solid ".concat(t,"; border-right: 1px solid ").concat(t,"; margin-right: -2px;")}({color:a.color.solid}),";"),u.setAttribute("data-initial",o),i.concat(ft.a.widget(t,u,{pointer:{sessionId:n},key:"telepointer-".concat(n)}))},hn=function(e){return e instanceof pt.c},mn=function(e,t){var n=e.doc.nodeSize-2;if(t<=n){var r=e.doc.resolve(t),o=dt.Selection.findFrom(r,-1,!0),i=dt.Selection.findFrom(r,1,!0);return o?o.from:i?i.from:t}return n},vn=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;d()(this,e),E()(this,"onError",(function(e){return console.error(e)})),this.decorationSet=t,this.participants=n,this.sid=r,this.isReady=o,this.onError=i||this.onError}return p()(e,[{key:"decorations",get:function(){return this.decorationSet}},{key:"activeParticipants",get:function(){return this.participants}},{key:"sessionId",get:function(){return this.sid}},{key:"getInitial",value:function(e){var t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}},{key:"apply",value:function(t){var n=this,r=this.participants,o=this.sid,i=this.isReady,a=t.getMeta("presence"),c=t.getMeta("telepointer"),s=t.getMeta("sessionId"),u=t.getMeta("collabInitialised");"boolean"!=typeof u&&(u=i),s&&(o=s.sid);var l=[],d=[];if(a){var f=a.joined,p=void 0===f?[]:f,h=a.left,m=void 0===h?[]:h;r=(r=r.remove(m.map((function(e){return e.sessionId})))).add(p),m.forEach((function(e){var t=xt(e.sessionId,n.decorationSet);t&&(d=d.concat(t))}))}if(c){var v=c.sessionId;if(r.get(v)&&v!==o){var b=xt(c.sessionId,this.decorationSet);b&&(d=d.concat(b));var g=t.doc.nodeSize-2,y=c.selection,O=y.anchor,w=y.head,k=O<w?O:w,E=O>=w?O:w;k>g&&(k=g),E>g&&(E=g);var x=E-k>0,S=1,j=1;try{S=mn(t,x?Math.max(k-1,0):k),j=x?mn(t,E):S}catch(e){this.onError(e)}l=l.concat(pn(S,j,v,x,this.getInitial(v)))}}if(t.docChanged){try{this.decorationSet=this.decorationSet.map(t.mapping,t.doc,{onRemove:function(e){if(e.pointer&&e.pointer.sessionId){var r=t.steps.filter(hn)[0];if(r){var o=e.pointer.sessionId,i=r,a=i.slice.content.size,c=i.from,s=mn(t,a?Math.min(c+a,t.doc.nodeSize-3):Math.max(c,1));l=l.concat(pn(s,s,o,!1,n.getInitial(o)))}}}})}catch(e){this.onError(e)}t.steps.filter(hn).forEach((function(e){var t=e,r=t.from,o=t.to;n.decorationSet.find(r,o).forEach((function(e){e.from!==e.to&&d.push(e)}))}))}var C=t.selection;if(this.decorationSet.find().forEach((function(e){if(e.type.toDOM){var t=e.type.toDOM.classList.contains("telepointer-dim");e.from===C.from&&e.to===C.to?(t||e.type.toDOM.classList.add("telepointer-dim"),e.type.side=-1):(t&&e.type.toDOM.classList.remove("telepointer-dim"),e.type.side=0)}})),d.length&&(this.decorationSet=this.decorationSet.remove(d)),l.length&&(this.decorationSet=this.decorationSet.add(t.doc,l)),c){var T=c.sessionId;if(r.get(T)){var _=function(e,t){var n;return t.find().forEach((function(t){t.type.spec.pointer.sessionId===e&&(n=t.from)})),n}(T,this.decorationSet);_&&(r=r.updateCursorPos(T,_))}}var A=new e(this.decorationSet,r,o,u);return e.eq(A,this)?this:A}}],[{key:"eq",value:function(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}},{key:"init",value:function(t){var n=t.doc,r=t.onError;return new e(ft.b.create(n,[]),new vt,void 0,void 0,r)}}]),e}(),bn=Object(T.c)(St||(St=S()(["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: ",";\n      padding: 2px;\n      color: ",";\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &."," {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"])),Object(he.db)(9),Object(ot.a)("color.text.inverse","white"),"telepointer-dim",kt.map((function(e,t){return function(e,t){return"\n  &.color-".concat(t," {\n    background-color: ").concat(e.selection,";\n    &::after {\n      background-color: ").concat(e.solid,";\n      color: ").concat(Object(ot.a)("color.text.inverse","#fff"),";\n      border-color: ").concat(e.solid,";\n    }\n  }\n")}(e,t)}))),gn=Object(T.e)(jt||(jt=S()(["\n  from, to {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),yn=".ProseMirror-gapcursor",On='[layout="wrap-left"]',wn='[layout="wrap-right"]',kn=Object(T.c)(Ct||(Ct=S()(["\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    &."," {\n      caret-color: transparent;\n    }\n\n    "," {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s "," step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &"," {\n        float: right;\n      }\n\n      /* fix vertical alignment of gap cursor */\n      &:first-of-type + ul,\n      &:first-of-type + span + ul,\n      &:first-of-type + ol,\n      &:first-of-type + span + ol,\n      &:first-of-type + pre,\n      &:first-of-type + span + pre,\n      &:first-of-type + blockquote,\n      &:first-of-type + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused "," {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  ",""," + span + ",",\n  ",""," + span + ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," + ",",\n  "," + "," + span ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," {\n    clear: none;\n  }\n\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  "," + ",",\n  "," + "," {\n    float: left;\n  }\n\n  "," + "," + span + ","::after,\n  "," + "," + span + ","::after,\n  "," + "," + ","::after,\n  "," + "," + span + ","::after,\n  "," + "," + ","::after,\n  "," + "," + span + ","::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  "," + "," + "," + *,\n  "," + "," + "," + span + *,\n  "," + "," + "," + *,\n  "," + "," + "," + span + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + "," + * > *,\n  "," + "," + "," + span + * > *,\n  "," + "," + "," + * > *,\n  "," + "," + "," + span + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + *,\n  "," + "," + span + * {\n    margin-top: 0;\n  }\n"])),"ProseMirror-hide-gapcursor",yn,gn,wn,yn,yn,On,On,yn,wn,wn,yn,On,wn,yn,On,wn,yn,wn,On,yn,wn,On,On,yn,wn,On,yn,wn,wn,yn,On,wn,yn,On,On,yn,On,yn,wn,On,yn,wn,wn,yn,On,wn,yn,On,yn,wn,On,yn,wn,On,yn,On,wn,yn,On,wn,On,yn,wn,yn,yn,On,wn,yn,wn,On,On,yn,wn,On,yn,wn,wn,yn,On,wn,yn,On,On,yn,wn,On,yn,wn,wn,yn,On,wn,yn,On,On,yn,wn,wn,yn,On,yn,On,wn,yn,wn,On,On,yn,wn,On,yn,wn,wn,yn,On,wn,yn,On,On,yn,wn,wn,yn,On,yn,On,wn,yn,wn,On,".ProseMirror-widget",yn,".ProseMirror-widget",yn),En=n(495),xn=n(49),Sn=n(11),jn=n(24),Cn=function(e){return Object(T.c)(Tt||(Tt=S()(["\n  ."," {\n    background: ",";\n    display: none;\n    position: absolute;\n    z-index: ",";\n    ","\n  }\n"])),Sn.c.CONTROLS_INSERT_LINE,jn.q,he.U,e)},Tn=function(e){return Object(T.c)(_t||(_t=S()(["\n  background-color: ",";\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  pointer-events: none;\n"])),Object(jn.n)(e),jn.g,jn.g)},_n=function(e,t){return Object(T.c)(At||(At=S()(["\n  ."," {\n    ",";\n    ","\n  }\n"])),Sn.c.CONTROLS_INSERT_MARKER,Tn(e),t)},An=function(e){return Object(T.c)(Pt||(Pt=S()(["\n  border-radius: ","px;\n  border-width: 0px;\n  display: inline-flex;\n  max-width: 100%;\n  text-align: center;\n  margin: 0px;\n  padding: 0px;\n  text-decoration: none;\n  transition: background 0.1s ease-out 0s,\n    box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;\n  outline: none !important;\n  cursor: none;\n\n  > ."," {\n    display: inline-flex;\n    max-height: 100%;\n    max-width: 100%;\n  }\n  ","\n"])),Object(Ze.d)(),Sn.c.CONTROLS_BUTTON_ICON,e)},Pn=function(){return Object(T.c)(Nt||(Nt=S()(["\n  ."," {\n    position: absolute;\n    z-index: ",";\n    bottom: 0;\n  }\n  .",",\n    ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ","\n  }\n  ."," {\n    display: none;\n  }\n  &:hover ."," {\n    display: flex;\n  }\n"])),Sn.c.CONTROLS_INSERT_BUTTON_INNER,he.U+10,Sn.c.CONTROLS_INSERT_BUTTON_INNER,Sn.c.CONTROLS_INSERT_BUTTON,jn.y,jn.y,Sn.c.CONTROLS_INSERT_BUTTON,An("\n      background: ".concat(Object(ot.a)("elevation.surface.overlay","white"),";\n      box-shadow: ").concat(Object(ot.a)("elevation.shadow.overlay","0 4px 8px -2px ".concat(Ce.N60A,", 0 0 1px ").concat(Ce.N60A)),";\n      color: ").concat(Object(ot.a)("color.icon",Ce.N300),";\n    ")),Sn.c.CONTROLS_INSERT_LINE,Sn.c.CONTROLS_INSERT_LINE)},In=function(){return Object(T.c)(Dt||(Dt=S()(["\n  .",":hover {\n    background: ",";\n    color: ",";\n    cursor: pointer;\n  }\n"])),Sn.c.CONTROLS_INSERT_BUTTON,Object(ot.a)("color.background.brand.bold",Ce.B300),Object(ot.a)("color.icon.inverse","white"))},Mn=Object(T.c)(Lt||(Lt=S()(["\n  ","\n  ","\n  ","\n"])),Pn(),In(),Cn("\n    width: 2px;\n    left: 9px;\n  ")),Rn=Object(T.c)(Bt||(Bt=S()(["\n  ","\n  ","\n  ","\n"])),Pn(),In(),Cn("\n    height: 2px;\n    top: -11px;\n    left: ".concat(jn.y-1,"px;\n  "))),Nn=Object(T.c)(zt||(zt=S()(["\n  .",",\n    ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ."," {\n      ","\n    }\n  }\n\n  .",":hover {\n    background: ",";\n    color: ",";\n    cursor: pointer;\n  }\n"])),Sn.c.CONTROLS_DELETE_BUTTON_WRAP,Sn.c.CONTROLS_DELETE_BUTTON,jn.w,jn.w,Sn.c.CONTROLS_DELETE_BUTTON_WRAP,Sn.c.CONTROLS_DELETE_BUTTON,An("\n        background: ".concat(Object(ot.a)("color.background.neutral",Ce.N20A),";\n        color: ").concat(Object(ot.a)("color.icon",Ce.N300),";\n      ")),Sn.c.CONTROLS_DELETE_BUTTON,Object(ot.a)("color.background.danger.bold",Ce.R300),Object(ot.a)("color.icon.inverse","white")),Dn=Object(T.c)(Wt||(Wt=S()(["\n  color: ",";\n  background-color: ",";\n  border-color: ",";\n  z-index: ",";\n"])),Object(ot.a)("color.text.inverse",Ce.N0),jn.F,jn.q,jn.b),Ln=function(e){return Object(T.c)(Vt||(Vt=S()(["\n  ."," {\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    width: calc(100% + ","px);\n    left: -1px;\n    top: -","px;\n    height: ","px;\n\n    &::after {\n      content: ' ';\n\n      ","\n    }\n  }\n\n  ."," ."," {\n    display: block;\n  }\n\n  table\n    tr:first-of-type\n    td.",",\n    table\n    tr:first-of-type\n    th."," {\n    &.",",\n      &.",",\n      &."," {\n      .","::after {\n        ",";\n      }\n\n      &.","\n        .","::after {\n        background-color: ",";\n        border: 1px solid ",";\n        border-bottom: none;\n        z-index: ",";\n      }\n    }\n  }\n\n  .","\n    table\n    tr:first-of-type\n    td.",",\n    .","\n    table\n    tr:first-of-type\n    th."," {\n    .","::after {\n      ",";\n    }\n  }\n"])),Sn.c.COLUMN_CONTROLS_DECORATIONS,2*En.c,jn.a+En.c,jn.a,function(e,t){return Object(T.c)(Ht||(Ht=S()(["\n  background: ",";\n  border: 1px solid ",";\n  display: block;\n  box-sizing: border-box;\n  padding: 0;\n\n  :focus {\n    outline: none;\n  }\n\n  ","\n"])),Object(jn.D)(e),Object(jn.n)(e),t)}(e,"\n        border-right: ".concat(En.c,"px solid ").concat(Object(jn.n)(e),";\n        border-bottom: none;\n        height: ").concat(jn.G,"px;\n        width: 100%;\n        position: absolute;\n        top: ").concat(jn.a-jn.G,"px;\n        left: 0px;\n        z-index: ").concat(jn.c,";\n      ")),Sn.c.WITH_CONTROLS,Sn.c.COLUMN_CONTROLS_DECORATIONS,Sn.c.TABLE_CELL,Sn.c.TABLE_HEADER_CELL,Sn.c.COLUMN_SELECTED,Sn.c.HOVERED_COLUMN,Sn.c.HOVERED_TABLE,Sn.c.COLUMN_CONTROLS_DECORATIONS,Dn,Sn.c.HOVERED_CELL_IN_DANGER,Sn.c.COLUMN_CONTROLS_DECORATIONS,jn.E,jn.o,100*he.U,Sn.c.TABLE_SELECTED,Sn.c.TABLE_CELL,Sn.c.TABLE_SELECTED,Sn.c.TABLE_HEADER_CELL,Sn.c.COLUMN_CONTROLS_DECORATIONS,Dn)},Bn=Object(T.c)(qt||(qt=S()(["\n  .","."," {\n    .",",\n      .",",\n      ."," {\n      border: 1px solid ",";\n    }\n    .","::after {\n      background: ",";\n    }\n  }\n"])),Sn.c.TABLE_CONTAINER,Sn.c.HOVERED_DELETE_BUTTON,Sn.c.SELECTED_CELL,Sn.c.COLUMN_SELECTED,Sn.c.HOVERED_CELL,jn.o,Sn.c.SELECTED_CELL,jn.s),Fn=Object(T.c)(Gt||(Gt=S()(["\n  :not(.",")\n    .",":not(.",") {\n    ."," {\n      position: relative;\n      border: 1px solid ",";\n    }\n  }\n"])),Sn.c.IS_RESIZING,Sn.c.TABLE_CONTAINER,Sn.c.HOVERED_DELETE_BUTTON,Sn.c.HOVERED_CELL,jn.q),zn=Object(T.c)(Kt||(Kt=S()(["\n  :not(.",")\n    .",":not(.",") {\n    td."," {\n      background-color: "," !important; // We need to override the background-color added to the cell\n      border: 1px solid ",";\n    }\n  }\n"])),Sn.c.IS_RESIZING,Sn.c.TABLE_CONTAINER,Sn.c.HOVERED_DELETE_BUTTON,Sn.c.HOVERED_CELL_WARNING,Object(ot.a)("color.background.warning",Ce.Y50),Object(ot.a)("color.border.warning",Ce.Y200)),Un=Object(T.c)($t||($t=S()(["\n  ."," {\n    ."," {\n      background-color: transparent;\n      position: absolute;\n      width: ","px;\n      height: 100%;\n      top: 0;\n      right: -","px;\n      cursor: col-resize;\n      z-index: ",";\n    }\n\n    td.",", th."," {\n      .","::after {\n        content: ' ';\n        right: ","px;\n        position: absolute;\n        width: ","px;\n        height: calc(100% + 1px);\n        background-color: ",";\n        z-index: ",";\n        top: 0;\n      }\n    }\n\n    table\n      tr:first-of-type\n      th.","\n      .","::after,\n      table\n      tr:first-of-type\n      td.","\n      .","::after {\n      top: -","px;\n      height: calc(100% + ","px);\n    }\n  }\n"])),Sn.c.TABLE_CONTAINER,Sn.c.RESIZE_HANDLE_DECORATION,jn.h,jn.h/2,jn.i,Sn.c.WITH_RESIZE_LINE,Sn.c.WITH_RESIZE_LINE,Sn.c.RESIZE_HANDLE_DECORATION,(jn.h-jn.j)/2,jn.j,jn.q,2*jn.c,Sn.c.WITH_RESIZE_LINE,Sn.c.RESIZE_HANDLE_DECORATION,Sn.c.WITH_RESIZE_LINE,Sn.c.RESIZE_HANDLE_DECORATION,jn.G+En.c,jn.G+En.c),Hn=jn.G+1,Wn="\n.".concat(Sn.c.NODEVIEW_WRAPPER,".").concat(he.H," table tbody tr {\n  th,td {\n    ").concat(Object(it.a)([at.a.Blanket,at.a.Border]),"\n  }\n}\n"),Vn=".".concat(Sn.c.TABLE_CONTAINER," {\n  > .").concat(Sn.c.TABLE_STICKY_SENTINEL_TOP,", > .").concat(Sn.c.TABLE_STICKY_SENTINEL_BOTTOM," {\n    position: absolute;\n    width: 100%;\n    height: 1px;\n    margin-top: -1px;\n    // need this to avoid sentinel being focused via keyboard\n    // this still allows it to be detected by intersection observer\n    visibility: hidden;\n  }\n  > .").concat(Sn.c.TABLE_STICKY_SENTINEL_TOP," {\n    top: ").concat(jn.a,"px;\n  }\n  > .").concat(Sn.c.TABLE_STICKY_SENTINEL_BOTTOM," {\n      bottom: ").concat(jn.B+jn.l+2*jn.A+23,"px;\n  }\n  &.").concat(Sn.c.WITH_CONTROLS," {\n    > .").concat(Sn.c.TABLE_STICKY_SENTINEL_TOP," {\n      top: 0px;\n    }\n    > .").concat(Sn.c.TABLE_STICKY_SENTINEL_BOTTOM," {\n      margin-bottom: ").concat(jn.a,"px;\n    }\n  }\n}"),qn=function(e){var t;return Object(T.c)(Yt||(Yt=S()(["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: "," !important;\n    cursor: pointer;\n  }\n\n  .ProseMirror {\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n\n    ."," {\n      margin-bottom: 0;\n    }\n\n    ."," {\n      td.",", th."," {\n        position: relative;\n        overflow: visible;\n      }\n\n      td."," {\n        background-color: ",";\n      }\n    }\n\n    ."," {\n      ","\n    }\n\n    ."," {\n      ","\n    }\n\n    /* Delete button */\n    ","\n    /* Ends Delete button */\n\n    /* sticky styles */\n    ."," ."," .",":first-of-type {\n      margin-top: ","px;\n      width: ","px;\n\n      position: fixed !important;\n      z-index: "," !important;\n      box-shadow: 0px -","px ",";\n      border-right: 0 none;\n      /* top set by NumberColumn component */\n    }\n\n    ."," .",".sticky {\n      position: fixed !important;\n      /* needs to be above row controls */\n      z-index: "," !important;\n      background: ",";\n\n      width: ","px;\n      height: ","px;\n    }\n\n    .",".sticky ."," {\n      border-bottom: 0px none;\n      border-right: 0px none;\n\n      height: ","px;\n      width: ","px;\n    }\n\n    ."," ."," {\n      z-index: 0;\n    }\n\n    .","\n      .","\n      .",".sticky {\n      position: fixed !important;\n      z-index: "," !important;\n      display: flex;\n      border-left: ","px solid\n        ",";\n      margin-left: -","px;\n    }\n\n    ."," col:first-of-type {\n      /* moving rows out of a table layout does weird things in Chrome */\n      border-right: 1px solid ",";\n    }\n\n    tr.sticky {\n      padding-top: ","px;\n      position: fixed;\n      display: grid;\n\n      /* to keep it above cell selection */\n      z-index: ",";\n\n      overflow-y: visible;\n      overflow-x: hidden;\n\n      grid-auto-flow: column;\n\n      /* background for where controls apply */\n      background: ",";\n      box-sizing: content-box;\n\n      margin-top: 2px;\n\n      box-shadow: ",";\n      margin-left: -1px;\n\n      &.no-pointer-events {\n        pointer-events: none;\n      }\n    }\n\n    ."," ."," {\n      left: unset;\n      position: fixed;\n      z-index: ",";\n    }\n\n    .",".","\n      ."," {\n      padding-bottom: ","px;\n    }\n\n    tr.sticky th {\n      border-bottom: ","px solid\n        ",";\n      margin-right: -1px;\n    }\n\n    ."," tr.sticky > th:last-child {\n      border-right-width: 1px;\n    }\n\n    /* add left edge for first cell */\n    ."," tr.sticky > th:first-of-type {\n      margin-left: 0px;\n    }\n\n    /* add a little bit so the scroll lines up with the table */\n    ."," tr.sticky::after {\n      content: ' ';\n      width: 1px;\n    }\n\n    /* To fix jumpiness caused in Chrome Browsers for sticky headers */\n    ."," .sticky + tr {\n      min-height: 0px;\n    }\n\n    /* move resize line a little in sticky bar */\n    .","."," {\n      tr.sticky\n        td.",",\n        tr.sticky\n        th."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n\n      /* when selected put it back to normal -- :not selector would be nicer */\n      tr.sticky\n        td.",".",",\n        tr.sticky\n        th.","."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n    }\n\n    tr.sticky\n      .",",\n      tr.sticky\n      ."," {\n      z-index: 1;\n    }\n\n    ."," tr.sticky {\n      padding-top: ","px;\n    }\n\n    .",".","\n      .","\n      .",":first-of-type {\n      margin-top: ","px;\n    }\n\n    .",".sticky {\n      border-top: ","px solid\n        ",";\n    }\n\n    ","\n    ","\n\n    ."," ."," {\n      height: 0; // stop overflow flash & set correct height in update-overflow-shadows.ts\n    }\n\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n\n      ."," {\n        left: 6px;\n      }\n\n      ."," {\n        left: calc(100% - 6px);\n      }\n    }\n\n    > ."," {\n      /**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */\n    }\n\n    /* Breakout only works on top level */\n    > * ."," ."," {\n      margin-left: unset !important;\n      width: 100% !important;\n    }\n\n    ",";\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n    }\n\n    .",".sticky {\n      ."," {\n        /* sticky row insert dot overlaps other row insert and messes things up */\n        display: none !important;\n      }\n    }\n\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    .","[data-number-column='true'] {\n      .",", ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n\n    :not(.",")\n      .","."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ",";\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n        .",".active,\n        .",":hover {\n        z-index: ",";\n      }\n\n      ","\n    }\n\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n    }\n\n    ."," {\n      border: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding-bottom: 2px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ",";\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child:not(style),\n      style:first-child + * {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n\n    ."," {\n      .",", ."," {\n        display: block;\n      }\n      ."," {\n        padding-left: 1px;\n        ."," {\n          border-left: 0 none;\n        }\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .","."," {\n        background-color: ",";\n        border: 1px solid ",";\n        border-left: 0;\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      table-layout: fixed;\n\n      ."," + * {\n        margin-top: 0;\n      }\n\n      /*\n       * Headings have a top margin by default, but we don't want this on the\n       * first heading within table header cells.\n       *\n       * This specifically sets margin-top for the first heading within a header\n       * cell when center/right aligned.\n       */\n      th."," > .fabric-editor-block-mark {\n        > h1:first-of-type,\n        > h2:first-of-type,\n        > h3:first-of-type,\n        > h4:first-of-type,\n        > h5:first-of-type,\n        > h6:first-of-type {\n          margin-top: 0;\n        }\n      }\n\n      .",", ."," {\n        position: relative;\n      }\n      /* Give selected cells a blue overlay */\n      .","::after,\n        .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        pointer-events: none;\n      }\n      ."," {\n        border: 1px solid ",";\n      }\n      .","::after {\n        background: ",";\n      }\n      th.","::after,\n        td.","::after {\n        background: ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      /* top of corner control is table margin top - corner control height + 1 pixel of table border. */\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      /*\n      compensating for half of the insert column button\n      that is aligned to the right edge initially on hover of the top right column control when table overflown,\n      its center should be aligned with the edge\n       */\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      /* fixes gap cursor height */\n      overflow: auto;\n      position: relative;\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: auto;\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n  .ProseMirror .pm-table-cell-content-wrap ol[data-child-count='100+'] {\n    padding-left: revert;\n  }\n"])),Sn.c.LAYOUT_BUTTON,Object(ot.a)("color.background.neutral",Ce.N20A),Object(ot.a)("color.icon",Ce.N300),Sn.c.LAYOUT_BUTTON,Sn.c.IS_RESIZING,Object(ot.a)("color.background.neutral.hovered",Ce.B300),Object(ot.a)("color.icon","white"),Object(En.j)(e),function(e){return Object(T.c)(Ft||(Ft=S()(["\n  .",".","\n    table\n    tr:first-of-type\n    td,\n  .",".","\n    table\n    tr:first-of-type\n    th {\n    position: relative;\n\n    &::before {\n      content: ' ';\n      ",";\n      top: -","px;\n      right: -","px;\n    }\n  }\n"])),Sn.c.TABLE_CONTAINER,Sn.c.WITH_CONTROLS,Sn.c.TABLE_CONTAINER,Sn.c.WITH_CONTROLS,Tn(e),jn.G+jn.f,jn.g/2)}(e),Bn,Fn,zn,Un,Wn,Sn.c.LAST_ITEM_IN_CELL,Sn.c.TABLE_NODE_WRAPPER,Sn.c.TABLE_CELL,Sn.c.TABLE_HEADER_CELL,Sn.c.TABLE_CELL,Object(jn.r)(e),Sn.c.CONTROLS_FLOATING_BUTTON_COLUMN,Mn,Sn.c.CONTROLS_FLOATING_BUTTON_ROW,Rn,Nn,Sn.c.TABLE_STICKY,Sn.c.NUMBERED_COLUMN,Sn.c.NUMBERED_COLUMN_BUTTON,jn.l+2,he.P,he.K,jn.l,Object(ot.a)("elevation.surface","white"),Sn.c.TABLE_STICKY,Sn.c.CORNER_CONTROLS,he.J,Object(ot.a)("elevation.surface","white"),jn.G,jn.G,Sn.c.CORNER_CONTROLS,Sn.c.CONTROLS_CORNER_BUTTON,jn.G,jn.G,Sn.c.TABLE_STICKY,Sn.c.COLUMN_CONTROLS_DECORATIONS,Sn.c.TABLE_STICKY,Sn.c.ROW_CONTROLS,Sn.c.ROW_CONTROLS_BUTTON_WRAP,he.K,jn.G,Object(ot.a)("elevation.surface","white"),jn.G,Sn.c.TABLE_STICKY,Object(ot.a)("elevation.surface","green"),jn.l,jn.m,Object(ot.a)("elevation.surface","white"),Object(ot.a)("elevation.shadow.overflow","0 6px 4px -4px ".concat(Ce.N40A)),Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY_SHADOW,jn.m+1,Sn.c.WITH_CONTROLS,Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY_SHADOW,jn.G,jn.k,Object(jn.n)(e),Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY,Sn.c.TABLE_CONTAINER,Sn.c.TABLE_STICKY,Sn.c.WITH_RESIZE_LINE,Sn.c.WITH_RESIZE_LINE,Sn.c.RESIZE_HANDLE_DECORATION,(jn.h-jn.j)/2+1,Sn.c.WITH_RESIZE_LINE,Sn.c.SELECTED_CELL,Sn.c.WITH_RESIZE_LINE,Sn.c.SELECTED_CELL,Sn.c.RESIZE_HANDLE_DECORATION,(jn.h-jn.j)/2,Sn.c.HOVERED_CELL,Sn.c.SELECTED_CELL,Sn.c.WITH_CONTROLS,jn.u,Sn.c.WITH_CONTROLS,Sn.c.TABLE_STICKY,Sn.c.NUMBERED_COLUMN,Sn.c.NUMBERED_COLUMN_BUTTON,jn.u+2,Sn.c.CORNER_CONTROLS,jn.u-jn.G+2,Object(ot.a)("elevation.surface","white"),null!==(t=e.featureFlags)&&void 0!==t&&t.stickyHeadersOptimization?Vn:"",function(e){return Object(T.c)(Ut||(Ut=S()(["\n  .",", ."," {\n    display: block;\n    height: calc(\n      100% - ","px\n    );\n    position: absolute;\n    pointer-events: none;\n    top: ","px;\n    z-index: ",";\n    width: 8px;\n  }\n  ."," {\n    background: linear-gradient(to left, rgba(99, 114, 130, 0) 0, "," 100%);\n    left: 0px;\n  }\n  .","[data-number-column='true'] > :not(.",")."," {\n    left: ","px;\n  }\n  ."," {\n    background: linear-gradient(\n      to right,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    left: calc(100% + 2px);\n  }\n  ."," {\n    .",", ."," {\n      height: calc(100% - ","px);\n      top: ","px;\n    }\n    ."," {\n      border-left: 1px solid ",";\n    }\n  }\n  .","."," {\n    .",", ."," {\n      top: ","px;\n    }\n  }\n"])),Sn.c.TABLE_RIGHT_SHADOW,Sn.c.TABLE_LEFT_SHADOW,En.h+En.f+jn.G-2,En.h+jn.G-1,he.I,Sn.c.TABLE_LEFT_SHADOW,Ce.N40A,Sn.c.TABLE_CONTAINER,Sn.c.TABLE_STICKY_SHADOW,Sn.c.TABLE_LEFT_SHADOW,he.P-1,Sn.c.TABLE_RIGHT_SHADOW,Ce.N40A,Sn.c.WITH_CONTROLS,Sn.c.TABLE_RIGHT_SHADOW,Sn.c.TABLE_LEFT_SHADOW,En.h+En.f-2,En.h-1,Sn.c.TABLE_LEFT_SHADOW,Object(jn.n)(e),Sn.c.WITH_CONTROLS,Sn.c.TABLE_STICKY,Sn.c.TABLE_RIGHT_SHADOW,Sn.c.TABLE_LEFT_SHADOW,jn.u)}(e),Sn.c.TABLE_STICKY,Sn.c.TABLE_STICKY_SHADOW,jn.A,Sn.c.ROW_CONTROLS_WRAPPER,jn.A,Sn.c.TABLE_CONTAINER,he.P+jn.A-1,Sn.c.TABLE_LEFT_SHADOW,Sn.c.TABLE_RIGHT_SHADOW,Sn.c.NODEVIEW_WRAPPER,Sn.c.NODEVIEW_WRAPPER,Sn.c.TABLE_CONTAINER,Ln(e),Sn.c.CORNER_CONTROLS,jn.G+1,Hn,Sn.c.CORNER_CONTROLS_INSERT_ROW_MARKER,_n(e,"\n          left: -11px;\n          top: 9px;\n        "),Sn.c.CORNER_CONTROLS_INSERT_COLUMN_MARKER,_n(e,"\n          right: -1px;\n          top: -12px;\n        "),Sn.c.CORNER_CONTROLS,Sn.c.CORNER_CONTROLS_INSERT_ROW_MARKER,Sn.c.CONTROLS_CORNER_BUTTON,jn.G+1,jn.G+1,Object(jn.n)(e),jn.p,Object(jn.D)(e),Sn.c.CONTROLS_CORNER_BUTTON,jn.q,jn.F,Sn.c.TABLE_CONTAINER,Sn.c.CORNER_CONTROLS,Sn.c.CONTROLS_CORNER_BUTTON,he.S+he.P,Sn.c.ROW_CONTROLS,Sn.c.CONTROLS_BUTTON,Sn.c.IS_RESIZING,Sn.c.CONTROLS_CORNER_BUTTON,jn.q,jn.F,Sn.c.IS_RESIZING,Sn.c.CONTROLS_CORNER_BUTTON,Sn.c.HOVERED_CELL_IN_DANGER,jn.o,jn.E,Sn.c.ROW_CONTROLS,jn.G,_n(e,"\n        bottom: -1px;\n        left: -11px;\n      "),Sn.c.ROW_CONTROLS_INNER,Sn.c.ROW_CONTROLS_BUTTON_WRAP,jn.p,Sn.c.ROW_CONTROLS_BUTTON_WRAP,Sn.c.ROW_CONTROLS_BUTTON_WRAP,Sn.c.ROW_CONTROLS_BUTTON_WRAP,Sn.c.CONTROLS_BUTTON,he.U,function(e,t){return Object(T.c)(It||(It=S()(["\n  ."," {\n    background: ",";\n    border: 1px solid ",";\n    display: block;\n    box-sizing: border-box;\n    padding: 0;\n\n    :focus {\n      outline: none;\n    }\n    ","\n  }\n\n  .","::after {\n    content: ' ';\n    background-color: transparent;\n    left: -15px;\n    top: 0;\n    position: absolute;\n    width: 15px;\n    height: 100%;\n    z-index: 1;\n  }\n\n  .active ."," {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n  }\n"])),Sn.c.CONTROLS_BUTTON,Object(jn.D)(e),Object(jn.n)(e),t,Sn.c.ROW_CONTROLS_BUTTON,Sn.c.CONTROLS_BUTTON,Object(ot.a)("color.icon.inverse",Ce.N0),jn.F,jn.q)}(e,"\n        border-bottom: 1px solid ".concat(Object(jn.n)(e),";\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ").concat(jn.G,"px;\n\n        .").concat(Sn.c.CONTROLS_BUTTON_OVERLAY," {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .").concat(Sn.c.CONTROLS_BUTTON_OVERLAY,":first-of-type {\n          top: 0;\n        }\n      ")),Sn.c.IS_RESIZING,Sn.c.ROW_CONTROLS,Object(T.c)(Mt||(Mt=S()(["\n  .",":hover {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n    cursor: pointer;\n  }\n"])),Sn.c.CONTROLS_BUTTON,Object(ot.a)("color.icon.inverse",Ce.N0),jn.F,jn.q),Object(T.c)(Rt||(Rt=S()(["\n  ."," ."," {\n    background-color: ",";\n    border-color: ",";\n    position: relative;\n    z-index: ",";\n  }\n"])),Sn.c.HOVERED_CELL_IN_DANGER,Sn.c.CONTROLS_BUTTON,jn.E,jn.o,he.U),Sn.c.NUMBERED_COLUMN,he.S-1,he.S,he.P+1,Sn.c.NUMBERED_COLUMN_BUTTON,Object(jn.n)(e),Object(he.db)(Object(Ze.g)()),Object(jn.D)(e),Object(jn.C)(e),Object(jn.n)(e),Object(jn.n)(e),Sn.c.WITH_CONTROLS,Sn.c.CORNER_CONTROLS,Sn.c.ROW_CONTROLS,Sn.c.NUMBERED_COLUMN,Sn.c.NUMBERED_COLUMN_BUTTON,Sn.c.NUMBERED_COLUMN_BUTTON,jn.q,jn.q,jn.F,he.U,Object(ot.a)("color.text.inverse",Ce.N0),Sn.c.IS_RESIZING,Sn.c.WITH_CONTROLS,Sn.c.NUMBERED_COLUMN_BUTTON,Sn.c.NUMBERED_COLUMN_BUTTON,jn.q,jn.q,jn.F,he.U,Object(ot.a)("color.text.inverse",Ce.N0),Sn.c.NUMBERED_COLUMN_BUTTON,Sn.c.HOVERED_CELL_IN_DANGER,jn.E,jn.o,Object(ot.a)("color.text.inverse",Ce.R500),he.U,Sn.c.TABLE_NODE_WRAPPER,Sn.c.COLUMN_CONTROLS_DECORATIONS,Sn.c.TABLE_HEADER_CELL,Sn.c.SELECTED_CELL,Sn.c.HOVERED_CELL_IN_DANGER,Sn.c.SELECTED_CELL,Sn.c.HOVERED_CELL_IN_DANGER,he.J,Sn.c.SELECTED_CELL,jn.q,Sn.c.SELECTED_CELL,jn.t,Sn.c.HOVERED_CELL_IN_DANGER,Sn.c.HOVERED_CELL_IN_DANGER,jn.s,Sn.c.ROW_CONTROLS_WRAPPER,En.h-Hn+1,Sn.c.ROW_CONTROLS_WRAPPER,Sn.c.TABLE_LEFT_SHADOW,he.U,Sn.c.ROW_CONTROLS_WRAPPER,jn.G,Sn.c.TABLE_NODE_WRAPPER,jn.y/2,jn.y/2,jn.B,jn.B,Sn.c.IS_RESIZING,Sn.c.TABLE_NODE_WRAPPER,xn.g,Sn.c.RESIZE_CURSOR)},Gn=Object(T.c)(Xt||(Xt=S()(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n"])),Sn.c.TABLE_NODE_WRAPPER),Kn=Object(T.c)(Jt||(Jt=S()(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    ",";\n  }\n"])),Sn.c.TABLE_NODE_WRAPPER,xn.g),$n=Object(T.c)(Zt||(Zt=S()(["\n  .ProseMirror ."," {\n    position: relative;\n    color: ",";\n    width: 100%;\n\n    pointer-events: none;\n    display: block;\n    user-select: none;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n      outline: none;\n    }\n\n    &.align-end > span {\n      right: 0;\n    }\n\n    &.align-center > span {\n      left: 0;\n    }\n  }\n"])),"placeholder-decoration",Object(ot.a)("color.text.subtlest",Ce.N200)),Yn=Object(T.c)(Qt||(Qt=S()(["\n  & blockquote {\n    box-sizing: border-box;\n    padding-left: ","px;\n    border-left: 2px solid\n      ",";\n    margin: "," 0 0 0;\n    margin-right: 0;\n\n    [dir='rtl'] & {\n      padding-left: 0;\n      padding-right: ","px;\n    }\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &::before {\n      content: '';\n    }\n\n    &::after {\n      content: none;\n    }\n\n    & p {\n      display: block;\n    }\n\n    & table,\n    & table:last-child {\n      display: inline-table;\n    }\n  }\n"])),2*Object(Ze.i)(),Object(ot.a)("color.border",he.d),he.Y,2*Object(Ze.i)()),Xn=n(118),Jn=function(e){return Object(T.c)(en||(en=S()(["\n  & h1 {\n    ",";\n    margin-bottom: 0;\n    margin-top: 1.667em;\n  }\n\n  & h2 {\n    ",";\n    margin-top: 1.8em;\n    margin-bottom: 0;\n  }\n\n  & h3 {\n    ",";\n    margin-top: 2em;\n    margin-bottom: 0;\n  }\n\n  & h4 {\n    ",";\n    margin-top: 1.357em;\n  }\n\n  & h5 {\n    ",";\n    margin-top: 1.667em;\n    text-transform: none;\n  }\n\n  & h6 {\n    ",";\n    margin-top: 1.455em;\n    text-transform: none;\n  }\n"])),Object(Xn.g)(e),Object(Xn.f)(e),Object(Xn.e)(e),Object(Xn.d)(e),Object(Xn.c)(e),Object(Xn.a)(e))},Zn=n(64),Qn=n(749),er="code-block",tr="line-number-gutter",nr="code-content",rr={gutter:tr,content:nr,highlighting:"code-highlighting"},or=function(e){return Object(T.c)(on||(on=S()(["\n  .ProseMirror {\n    ","\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  .ProseMirror .code-block.",":not(.danger) {\n    ","\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    box-shadow: 0 0 0 ","px ",";\n\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n"])),function(e){return Object(T.c)(nn||(nn=S()(["\n  ."," {\n    position: relative;\n    background-color: ",";\n    border-radius: ","px;\n    counter-reset: line;\n    display: flex;\n    overflow-x: auto;\n\n    background-image: ",";\n\n    --ds--code--bg-color: transparent;\n\n    background-repeat: no-repeat;\n    background-attachment: local, scroll, scroll;\n    background-size: 8px 100%, 8px 100%, 8px 100%;\n    background-position: 100% 0, 100% 0, 0 0;\n    font-family: ",";\n    margin: "," 0 0 0;\n    min-width: ","px;\n    cursor: pointer;\n\n    ."," {\n      flex-shrink: 0;\n      text-align: right;\n      background-color: ",";\n      padding: ","px;\n\n      span {\n        display: block;\n        line-height: 0;\n        font-size: 0;\n\n        ::before {\n          display: inline-block;\n          content: counter(line);\n          counter-increment: line;\n          color: ",";\n          font-size: ",";\n          line-height: 1.5rem;\n        }\n      }\n    }\n\n    ."," {\n      display: flex;\n      flex: 1;\n\n      code {\n        flex-grow: 1;\n        tab-size: 4;\n        cursor: text;\n        color: ",";\n        border-radius: ","px;\n        margin: ","px;\n        white-space: pre;\n        font-size: ",";\n        line-height: 1.5rem;\n      }\n    }\n  }\n"])),er,Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N20),dark:Object(ot.a)("color.background.neutral",Ce.DN50)})(e),Object(Ze.d)(),Object(Qn.a)({background:Object(Zn.a)({light:Ce.N20,dark:Ce.DN50})(e),width:"8px"}),he.f,he.Y,he.O,tr,Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N30),dark:Object(ot.a)("color.background.neutral",Ce.DN20)})(e),Object(Ze.i)(),Object(Zn.a)({light:Object(ot.a)("color.text.subtlest",Ce.N400),dark:Object(ot.a)("color.text.subtlest",Ce.DN400)})(e),Object(he.db)(Object(Ze.g)()),nr,Object(Zn.a)({light:Object(ot.a)("color.text",Ce.N800),dark:Object(ot.a)("color.text",Ce.DN800)})(e),Object(Ze.d)(),Object(Ze.i)(),Object(he.db)(Object(Ze.g)()))}(e),he.H,Object(it.a)([at.a.BoxShadow,at.a.Blanket]),he.F,he.l,rr.gutter,Object(ot.a)("color.blanket.danger",Ce.R75),Object(ot.a)("color.text.danger",he.m),rr.content,Object(ot.a)("color.background.danger",he.j),rr.gutter,Object(ot.a)("color.blanket.danger","rgba(255, 143, 115, 0.5)"),Object(ot.a)("color.text.danger",he.m),rr.content,Object(ot.a)("color.background.danger","rgba(255, 189, 173, 0.5)"))},ir=Object(T.c)(an||(an=S()(["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n\n    // In SSR the above rule will apply to all p tags because first-child would be a style tag.\n    // The following rule resets the first p tag back to its original margin\n    // defined in packages/editor/editor-common/src/styles/shared/paragraph.ts\n    > style:first-child + p {\n      margin-top: ",";\n    }\n  }\n"])),he.Y),ar=Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N30A),dark:Object(ot.a)("color.border",Ce.DN50)}),cr=function(e){return Object(T.c)(sn||(sn=S()(["\n  .ProseMirror {\n    ",";\n\n    hr {\n      cursor: pointer;\n      padding: 4px 0;\n      margin: calc(","em - 4px) 0;\n      background-clip: content-box;\n\n      &."," {\n        outline: none;\n        background-color: ",";\n      }\n    }\n  }\n"])),function(e){return Object(T.c)(cn||(cn=S()(["\n  & hr {\n    border: none;\n    background-color: ",";\n    margin: ","em 0;\n    height: 2px;\n    border-radius: 1px;\n  }\n"])),ar(e),he.v)}(e),he.v,he.H,Object(ot.a)("color.border.selected",he.E))},sr=Object(T.c)(un||(un=S()(["\n  li ."," {\n    margin: 0;\n  }\n\n  /* Hack for chrome to fix media single position\n     inside a list when media is the first child */\n  &.ua-chrome li > .mediaSingleView-content-wrap::before {\n    content: '';\n    display: block;\n    height: 0;\n  }\n\n  &.ua-firefox {\n    .mediaSingleView-content-wrap {\n      user-select: none;\n    }\n\n    .captionView-content-wrap {\n      user-select: text;\n    }\n  }\n\n  .mediaSingleView-content-wrap[layout='center'] {\n    clear: both;\n  }\n\n  table ."," {\n    margin-top: 12px;\n    margin-bottom: 12px;\n    clear: both;\n  }\n\n  .",".image-wrap-right\n    + .",".image-wrap-left {\n    clear: both;\n  }\n\n  .",".image-wrap-left\n    + .",".image-wrap-right,\n    .",".image-wrap-right\n    + .",".image-wrap-left,\n    .",".image-wrap-left\n    + .",".image-wrap-left,\n    .",".image-wrap-right\n    + .",".image-wrap-right {\n    margin-right: 0;\n    margin-left: 0;\n  }\n\n  @media all and (max-width: ","px) {\n    div.mediaSingleView-content-wrap[layout='wrap-left'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-left'],\n    div.mediaSingleView-content-wrap[layout='wrap-right'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-right'] {\n      float: none;\n      overflow: auto;\n      margin: 12px 0;\n    }\n  }\n"])),"rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item","rich-media-item",410),ur=n(1095),lr=n(1090),dr=n(1096),fr=Object(T.c)(ln||(ln=S()(["\n  .ProseMirror {\n    "," & [layout='full-width'] .",",\n    & [layout='wide'] ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & ."," {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n\n    .mediaSingleView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n      // overwrite default Prosemirror setting making it clear: both\n      clear: inherit;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right']\n      + .mediaSingleView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n\n    /* Larger margins for resize handlers when at depth 0 of the document */\n    & > .mediaSingleView-content-wrap {\n      .richMedia-resize-handle-right {\n        margin-right: -","px;\n      }\n      .richMedia-resize-handle-left {\n        margin-left: -","px;\n      }\n    }\n  }\n\n  .richMedia-resize-handle-right,\n  .richMedia-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .richMedia-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -","px;\n  }\n\n  .richMedia-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -","px;\n  }\n\n  .richMedia-resize-handle-right::after,\n  .richMedia-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .",":hover .richMedia-resize-handle-left::after,\n  .",":hover .richMedia-resize-handle-right::after {\n    background: ",";\n  }\n\n  ."," .richMedia-resize-handle-right::after,\n  ."," .richMedia-resize-handle-left::after,\n  ."," .richMedia-resize-handle-right:hover::after,\n  ."," .richMedia-resize-handle-left:hover::after,\n  .",".is-resizing .richMedia-resize-handle-right::after,\n  .",".is-resizing .richMedia-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s, box-shadow 0s;\n  }\n  .mediaGroupView-content-wrap.danger {\n    /* Media inline */\n    .","::after {\n      border: 1px solid ",";\n    }\n  }\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* Media single video player */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* New file experience */\n    ."," ."," {\n      box-shadow: 0 0 0 1px\n        "," !important;\n    }\n    /* Media resize handlers */\n    .richMedia-resize-handle-right::after,\n    .richMedia-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: ","; /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"])),sr,"rich-media-item","rich-media-item","rich-media-item",he.x,he.x,he.w,he.w,"rich-media-item","rich-media-item",Object(ot.a)("color.border",Ce.N60),he.H,he.H,"rich-media-item","rich-media-item","rich-media-item","rich-media-item",Object(ot.a)("color.border.focused",Ce.B200),Object(ot.a)("color.background.danger",he.j),he.D,Object(ot.a)("color.border.danger",he.l),ur.a,Object(ot.a)("color.border.danger",he.m),"rich-media-item",ur.b,Object(ot.a)("color.border.danger",he.m),"rich-media-item",lr.a,Object(ot.a)("color.border.danger",he.m),"rich-media-item",dr.a,Object(ot.a)("color.border.danger",he.m),Object(ot.a)("color.icon.danger",he.m),Object(ot.a)("color.blanket.danger","rgb(255, 189, 173, 0.5)")),pr=n(333),hr=n(21),mr=n.n(hr),vr=n(453),br=n(84),gr={info:Ce.B50,note:Ce.P50,tip:Ce.G50,success:Ce.G50,warning:Ce.Y50,error:Ce.R50},yr={info:"#0C294F",error:"#441C13",warning:"#413001",tip:"#052E21",success:"#052E21",note:"#282249",R900:"#601D16",R100S:"#FFEFEB",R300S:"#FFB5A3",R500S:"#FF6B47",R800S:"#C4320E",R1200S:"#441C13",Y900:"#533F04",Y100S:"#FFF3D1",Y300S:"#FFDC7A",Y500S:"#FFC933",Y800S:"#D8A003",Y1200S:"#413001",G900:"#164B35",G100S:"#E3FCF0",G300S:"#95EEC5",G400S:"#60DCA8",G900S:"#086848",G1200S:"#052E21",B900:"#09326C",B100S:"#E5F0FF",B300S:"#A3C9FF",B500S:"#4794FF",B800S:"#0055CC",B1200S:"#0C294F",P900:"#352C63",P100S:"#EEEBFF",P300S:"#CCC3FE",P500S:"#A292F7",P800S:"#5E49CA",P1200S:"#282249",T900:"#1D474C",T100S:"#DBFAFF",T300S:"#78EBFC",T400S:"#3AD6EE",T900S:"#056270",T1200S:"#0B3037",DarkGray:"#161A1D",Gray:"#2C333A",LightGray:"#5A6977",TextColor:"#D9DDE3"},Or={info:Ce.B400,note:Ce.P400,tip:Ce.G400,success:Ce.G400,warning:Ce.Y400,error:Ce.R400},wr={info:Ce.B100,note:Ce.P100,tip:Ce.G200,success:Ce.G200,warning:Ce.Y100,error:Ce.R200},kr=-(3*Object(Ze.i)()-he.h)/2,Er=kr-1,xr=[[Ce.B50,yr.B1200S],[Ce.B75,yr.B900],[Ce.B100,yr.B800S],[Ce.N0,yr.LightGray],[Ce.N20,yr.Gray],[Ce.N60,yr.DarkGray],[Ce.T50,yr.T1200S],[Ce.T75,yr.T900],[Ce.T100,yr.T900S],[Ce.G50,yr.G1200S],[Ce.G75,yr.G900],[Ce.G200,yr.G900S],[Ce.Y50,yr.Y1200S],[Ce.Y75,yr.Y900],[Ce.Y200,yr.Y800S],[Ce.R50,yr.R1200S],[Ce.R75,yr.R900],[Ce.R100,yr.R800S],[Ce.P50,yr.P1200S],[Ce.P75,yr.P900],[Ce.P100,yr.P800S]],Sr=xr.map((function(e){var t=mr()(e,2);return function(e,t){return'\n  &[data-panel-color="'.concat(e,'"] {\n    background-color: ').concat(t," !important; // !important to override default style color\n    color: ").concat(yr.TextColor,";\n  }\n  ")}(t[0],t[1])})).join("\n");var jr,Cr,Tr,_r,Ar,Pr,Ir,Mr,Rr,Nr,Dr,Lr,Br,Fr,zr,Ur,Hr,Wr,Vr,qr,Gr,Kr,$r,Yr,Xr,Jr,Zr,Qr="ak-editor-panel",eo={prefix:Qr,content:"".concat(Qr,"__content"),icon:"".concat(Qr,"__icon")},to=(".".concat(Qr,"[data-panel-type=").concat(vr.a.INFO,"]"),".".concat(Qr,"[data-panel-type=").concat(vr.a.NOTE,"]"),".".concat(Qr,"[data-panel-type=").concat(vr.a.WARNING,"]"),".".concat(Qr,"[data-panel-type=").concat(vr.a.ERROR,"]"),".".concat(Qr,"[data-panel-type=").concat(vr.a.SUCCESS,"]"),function(e){return function(t){var n=Or[e],r=wr[e],o=Object(Zn.a)({light:n,dark:r})(t);return"\n    color: ".concat(o,";\n  ")}}),no=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=gr[e],r=yr[e],o=Object(Zn.a)({light:n,dark:r})(t);return o||"none"},ro=function(e){return function(t){var n=no(e,t),r=Object(Zn.a)({light:"inherit",dark:yr.TextColor})(t);return"\n    background-color: ".concat(n,";\n    color: ").concat(r,";\n  ")}},oo=function(e){return Object(T.c)(fn||(fn=S()(["\n  ."," {\n    ","\n  }\n"])),eo.prefix,function(e){return Object(T.c)(dn||(dn=S()(["\n  border-radius: ","px;\n  margin: "," 0 0;\n  padding: ","px;\n  min-width: ","px;\n  display: flex;\n  position: relative;\n  align-items: baseline;\n  word-break: break-word;\n\n  ","\n\n  ."," {\n    flex-shrink: 0;\n    height: ","px;\n    width: ","px;\n    box-sizing: content-box;\n    padding-right: ","px;\n    text-align: center;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    ","\n\n    > span {\n      vertical-align: middle;\n      display: inline-flex;\n    }\n\n    ."," {\n      vertical-align: ","px;\n    }\n\n    ."," {\n      vertical-align: ","px;\n\n      // Vertical align only works for inline-block elements in Firefox\n      @-moz-document url-prefix() {\n        img {\n          display: inline-block;\n        }\n      }\n    }\n  }\n\n  .ak-editor-panel__content {\n    margin: 1px 0 1px;\n    flex: 1 0 0;\n    /*\n      https://ishadeed.com/article/min-max-css/#setting-min-width-to-zero-with-flexbox\n      The default value for min-width is auto, which is computed to zero. When an element is a flex item, the value of min-width doesnt compute to zero. The minimum size of a flex item is equal to the size of its contents.\n    */\n    min-width: 0;\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ",";\n  }\n"])),Object(Ze.d)(),he.Y,Object(Ze.i)(),he.O,ro(vr.a.INFO)(e),eo.icon,3*Object(Ze.i)(),3*Object(Ze.i)(),Object(Ze.i)(),to(vr.a.INFO)(e),br.w,kr,br.p,Er,vr.a.NOTE,ro(vr.a.NOTE)(e),eo.icon,to(vr.a.NOTE)(e),vr.a.TIP,ro(vr.a.TIP)(e),eo.icon,to(vr.a.TIP)(e),vr.a.WARNING,ro(vr.a.WARNING)(e),eo.icon,to(vr.a.WARNING)(e),vr.a.ERROR,ro(vr.a.ERROR)(e),eo.icon,to(vr.a.ERROR)(e),vr.a.SUCCESS,ro(vr.a.SUCCESS)(e),eo.icon,to(vr.a.SUCCESS)(e),vr.a.CUSTOM,Object(Zn.a)({dark:Sr})(e))}(e))},io=Object(T.c)(Cr||(Cr=S()(["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      border-right: 1px solid ",";\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"])),Object(ot.a)("color.border","rgba(0, 0, 0, 0.4)"),Object(ot.a)("color.background.selected",Ce.B75)),ao="mentionView-content-wrap",co=Object(T.c)(Tr||(Tr=S()(["\n  ."," {\n    &."," [data-mention-id] > span {\n      ","\n\n      /* need to specify dark text colour because personal mentions\n         (in dark blue) have white text by default */\n      color: ",";\n    }\n  }\n\n  .danger {\n    .",".","\n      > span\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n      background-color: ",";\n    }\n    ."," > span > span {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),ao,he.H,Object(it.a)([at.a.BoxShadow,at.a.Background]),Object(ot.a)("color.text.subtle",Ce.N500),ao,he.H,he.F,he.l,Object(ot.a)("color.background.danger",he.k),ao,Object(ot.a)("color.background.neutral",Ce.N30A),Object(ot.a)("color.text.subtle",Ce.N500)),so={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:br.s,EMOJI_SPRITE:br.w,EMOJI_IMAGE:br.p,EMOJI_PLACEHOLDER:br.C},uo=Object(T.c)(_r||(_r=S()(["\n  ."," {\n    display: inline-block;\n\n    ."," {\n      cursor: pointer;\n\n      &."," > span {\n        /** needed for selection style to cover custom emoji image properly */\n        display: flex;\n      }\n    }\n\n    &."," {\n      .",",\n        ."," {\n        border-radius: 2px;\n        ","\n      }\n    }\n  }\n"])),so.EMOJI_CONTAINER,so.EMOJI_NODE,so.EMOJI_IMAGE,he.H,so.EMOJI_SPRITE,so.EMOJI_IMAGE,Object(it.a)([at.a.Blanket,at.a.BoxShadow])),lo=n(494),fo=n(318),po=function(e){return Object(T.c)(Pr||(Pr=S()(["\n  ","\n"])),function(e){var t=Object(fo.a)(e);return Object(T.c)(Ar||(Ar=S()(["\n    .code {\n      --ds--code--bg-color: ",";\n      ","\n    }\n  "])),Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N30A),dark:Object(ot.a)("color.background.neutral",Ce.DN70)})(e),Object(lo.c)(t))}(e))},ho=Object(T.c)(Ir||(Ir=S()(["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n    display: inline;\n  }\n\n  .ProseMirror span.pm-placeholder {\n    display: inline;\n    color: ",";\n  }\n  .ProseMirror span.pm-placeholder__text {\n    display: inline;\n    color: ",";\n  }\n\n  .ProseMirror span.pm-placeholder."," {\n    ","\n  }\n\n  .ProseMirror span.pm-placeholder__text[data-placeholder]::after {\n    color: ",";\n    cursor: text;\n    content: attr(data-placeholder);\n    display: inline;\n  }\n"])),Object(ot.a)("color.text.subtlest",Ce.N300),Object(ot.a)("color.text.subtlest",Ce.N300),Object(ot.a)("color.text.subtlest",Ce.N300),he.H,Object(it.a)([at.a.Background]),Object(ot.a)("color.text.subtlest",Ce.N300)),mo=Object(T.c)(Mr||(Mr=S()(["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  // TODO: https://product-fabric.atlassian.net/browse/DSP-4352\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"])),24,12,12,he.t,Object(ot.a)("color.border",Ce.N30A),Object(ot.a)("color.border.focused",Ce.B200)),vo=Object(T.c)(Rr||(Rr=S()(["\n  a.blockLink {\n    display: block;\n  }\n"]))),bo=Object(T.c)(Nr||(Nr=S()(["\n  .ProseMirror {\n    ","\n  }\n"])),vo),go=Object(T.c)(Dr||(Dr=S()(["\n  clip: rect(1px, 1px, 1px, 1px);\n  clip-path: inset(50%);\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n"]))),yo=Object(T.c)(Lr||(Lr=S()(["\n  .extensionView-content-wrap,\n  .bodiedExtensionView-content-wrap {\n    margin: "," 0;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    &:not(.danger)."," {\n      & > span > .extension-container {\n        ","\n      }\n    }\n\n    &.danger > span > .extension-container {\n      box-shadow: 0 0 0 ","px\n        ",";\n      background-color: ",";\n    }\n\n    &.inline {\n      word-wrap: break-all;\n    }\n  }\n\n  .extensionView-content-wrap .extension-container {\n    overflow: hidden;\n  }\n\n  .bodiedExtensionView-content-wrap\n    .extensionView-content-wrap\n    .extension-container {\n    width: 100%;\n    max-width: 100%; // ensure width can't go over 100%;\n  }\n"])),he.Y,he.H,Object(it.a)([at.a.BoxShadow]),he.F,Object(ot.a)("color.border.danger",he.l),Object(ot.a)("color.background.danger",he.j)),Oo=n(34),wo=n.n(Oo),ko=n(25),Eo=["children"],xo=Object(ko.b)({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}),So=Object(Ze.i)()/2,jo=Object(ot.a)("color.background.neutral.subtle","transparent"),Co=Object(Zn.a)({light:Object(ot.a)("elevation.surface","rgba(255, 255, 255, 0.6)"),dark:Object(ot.a)("elevation.surface","rgba(9, 10, 11, 0.29)")}),To=Object(ot.a)("color.border.focused",Ce.B300),_o=Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N40A),dark:Object(ot.a)("color.border",Ce.DN50)}),Ao=(Object(T.c)(Br||(Br=S()(["\n  svg {\n    transform: rotate(90deg);\n  }\n"]))),Object(T.c)(Fr||(Fr=S()(["\n  width: ","px;\n  height: ","px;\n"])),3*Object(Ze.i)(),3*Object(Ze.i)())),Po=Object(o.forwardRef)((function(e,t){var n=e.children,r=wo()(e,Eo);return Object(T.d)("div",_e()({css:Ao},r,{ref:t}),n)})),Io=function(e){return Object(T.c)(Hr||(Hr=S()(["\n  outline: none;\n  border: none;\n  font-size: ",";\n  line-height: ",";\n  font-weight: normal;\n  color: ",";\n  background: transparent;\n  display: flex;\n  flex: 1;\n  padding: 0 0 0 ","px;\n  width: 100%;\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n"])),Object(he.db)(Object(Ze.g)()),he.v,Object(Zn.a)({light:Object(ot.a)("color.text.subtlest",Ce.N200A),dark:Object(ot.a)("color.text.subtlest",Ce.DN600)})(e),Object(Ze.i)()/2,Object(Zn.a)({light:Object(ot.a)("color.text.subtlest",Ce.N200A),dark:Object(ot.a)("color.text.subtlest",Ce.DN600)})(e))},Mo=function(e){return Object(T.c)(Wr||(Wr=S()(["\n  padding: 0;\n  display: flex;\n  align-items: flex-start;\n  background: none;\n  border: none;\n  font-size: ",";\n  width: 100%;\n  color: ",";\n  overflow: hidden;\n  cursor: pointer;\n  // Prevent browser selection being inside the title container\n  user-select: none;\n\n  &:focus {\n    outline: 0;\n  }\n"])),Object(he.db)(Object(Ze.g)()),Object(Zn.a)({light:Object(ot.a)("color.text.subtle",Ce.N300A),dark:Object(ot.a)("color.text.subtle",Ce.DN600)})(e))},Ro=function(e){var t=e.expanded,n=e.focused,r="".concat(Object(Ze.i)()/2/Object(Ze.g)(),"rem"),o="expand"===e["data-node-type"]?"-".concat(he.W,"px"):0,i="".concat(r," ").concat(o," ").concat(0);return function(e){return Object(T.c)(zr||(zr=S()(["\n    border-width: 1px;\n    border-style: solid;\n    border-color: ",";\n    border-radius: ","px;\n    min-height: 25px;\n    background: ",";\n    margin: ",";\n\n    transition: background 0.3s ",",\n      border-color 0.3s ",";\n    padding: ","px;\n\n    // TODO: https://product-fabric.atlassian.net/browse/DSP-4152\n    &:hover {\n      border: 1px solid\n        ",";\n      background: ",";\n    }\n\n    td > :not(style):first-child,\n    td > style:first-child + * {\n      margin-top: 0;\n    }\n  "])),n?To:t?_o(e):"transparent",So,t?Co(e):jo,i,he.L,he.L,Object(Ze.i)(),Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N50A),dark:Object(ot.a)("color.border",Ce.DN50)})(e),Co(e))}},No=function(e){return function(t){return Object(T.c)(Ur||(Ur=S()(["\n  padding-top: ","px;\n  padding-right: ","px;\n  padding-left: ","px;\n  display: flow-root;\n\n  // The follow rules inside @supports block are added as a part of ED-8893\n  // The fix is targeting mobile bridge on iOS 12 or below,\n  // We should consider remove this fix when we no longer support iOS 12\n  @supports not (display: flow-root) {\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  ","\n"])),e.expanded?Object(Ze.i)():0,Object(Ze.i)(),4*Object(Ze.i)()-Object(Ze.i)()/2,e.expanded?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      ")}},Do="fabric-editor-breakout-mark",Lo="fabric-editor-breakout-mark-dom",Bo={prefix:"ak-editor-expand",expanded:"".concat("ak-editor-expand","__expanded"),titleContainer:"".concat("ak-editor-expand","__title-container"),inputContainer:"".concat("ak-editor-expand","__input-container"),iconContainer:"".concat("ak-editor-expand","__icon-container"),icon:"".concat("ak-editor-expand","__icon"),titleInput:"".concat("ak-editor-expand","__title-input"),content:"".concat("ak-editor-expand","__content"),type:function(e){return"".concat("ak-editor-expand","__type-").concat(e)}},Fo=Object(Zn.a)({light:Object(ot.a)("color.background.neutral.subtle","rgba(255, 255, 255, 0.6)"),dark:Object(ot.a)("color.background.neutral.subtle","rgba(9, 10, 11, 0.29)")}),zo=function(e){return Object(T.c)(Vr||(Vr=S()(["\n  color: ",";\n"])),Object(Zn.a)({light:Object(ot.a)("color.icon.subtle",Ce.N80A),dark:Object(ot.a)("color.icon.subtle","#d9dde3")})(e))},Uo=Object(Zn.a)({dark:Object(ot.a)("color.blanket.selected","#0C294F4B")}),Ho=Object(Zn.a)({dark:"1px solid ".concat(Object(ot.a)("color.border.selected","#4794ff4B"))}),Wo=Object(Zn.a)({dark:"3px"}),Vo=Object(Zn.a)({light:Object(ot.a)("color.background.danger",Ce.R50),dark:Object(ot.a)("color.background.danger","#441C13")}),qo=Object(Zn.a)({dark:"1px solid ".concat(Object(ot.a)("color.border.danger",Ce.R200))}),Go=Object(Zn.a)({light:Object(ot.a)("color.border.danger",Ce.R300)}),Ko=Object(Zn.a)({dark:"3px"}),$o={FLOATING_TOOLBAR_COMPONENT:"".concat("pm-alt-text","-alt-text-floating-toolbar")},Yo=Object(T.c)(Gr||(Gr=S()(["\n  ."," {\n    background-color: ",";\n  }\n\n  ."," {\n    background-color: ",";\n    color: white;\n  }\n"])),"search-match",Ce.B75,"selected-search-match",Ce.B200),Xo=Object(T.c)(Kr||(Kr=S()(["\n  [data-decision-wrapper] {\n    cursor: pointer;\n  }\n\n  ."," > [data-decision-wrapper],\n  ol[data-node-type='decisionList']."," {\n    border-radius: 4px;\n    ","\n  }\n\n  .danger {\n    .",".","\n      > div {\n      box-shadow: 0 0 0 ","px\n        ",";\n      background-color: ",";\n      &::after {\n        content: none; /* reset the Blanket selection style */\n      }\n    }\n  }\n"])),he.H,he.H,Object(it.a)([at.a.BoxShadow,at.a.Blanket]),qe,he.H,he.F,Object(ot.a)("color.border.danger",he.l),Object(ot.a)("color.blanket.danger",he.k)),Jo="statusView-content-wrap",Zo="status-lozenge-span",Qo=Object(T.c)($r||($r=S()(["\n  .",",\n    .",",\n    [data-layout-section] {\n    ."," {\n      max-width: 100%;\n      line-height: 0;\n\n      > span {\n        width: 100%;\n      }\n    }\n  }\n  ."," {\n    > span {\n      cursor: pointer;\n      line-height: 0; /* Prevent responsive layouts increasing height of container. */\n    }\n\n    &.","\n      .","\n      > span {\n      ","\n    }\n  }\n\n  .danger {\n    ."," > span {\n      background-color: ",";\n    }\n\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n    }\n  }\n"])),En.a.TABLE_CELL_WRAPPER,En.a.TABLE_HEADER_CELL_WRAPPER,Jo,Jo,he.H,Zo,Object(it.a)([at.a.BoxShadow]),Zo,he.k,Jo,he.H,Zo,he.F,he.l),ei=Object(T.c)(Yr||(Yr=S()(["\n  ."," {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n\n    .card {\n      padding-left: 2px;\n      padding-right: 2px;\n      padding-top: 0.5em;\n      padding-bottom: 0.5em;\n      margin-bottom: -0.5em;\n\n      ."," > a:focus {\n        ","\n      }\n    }\n\n    &.","\n      .","\n      > a {\n      ","\n    }\n    ."," > a {\n      /* EDM-1717: box-shadow Safari fix start */\n      z-index: 1;\n      position: relative;\n      /* EDM-1717: box-shadow Safari fix end */\n    }\n\n    &.danger {\n      ."," > a {\n        box-shadow: 0 0 0 1px\n          ",";\n        /* EDM-1717: box-shadow Safari fix start */\n        z-index: 2;\n        /* EDM-1717: box-shadow Safari fix end */\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &:hover {\n        background-color: ",";\n      }\n    }\n\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.danger {\n      ."," > div {\n        box-shadow: 0 0 0 1px\n          "," !important;\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &::after {\n        transition: box-shadow 0s;\n      }\n    }\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.","\n      .","\n      > div::after {\n      ","\n    }\n\n    &.danger {\n      .media-card-frame::after {\n        box-shadow: 0 0 0 1px\n          "," !important;\n        background: "," !important;\n      }\n      .richMedia-resize-handle-right::after,\n      .richMedia-resize-handle-left::after {\n        background: ",";\n      }\n    }\n  }\n\n  ."," {\n    padding: 0;\n  }\n"])),Qe,nt,Object(it.a)([at.a.BoxShadow]),he.H,nt,Object(it.a)([at.a.BoxShadow]),nt,nt,Object(ot.a)("color.border.danger",he.l),et,nt,Object(ot.a)("color.background.neutral.subtle.hovered",Ce.N20),he.H,nt,Object(it.a)([at.a.BoxShadow]),nt,Object(ot.a)("color.border.danger",he.l),tt,nt,he.H,nt,Object(it.a)([at.a.BoxShadow]),he.H,nt,Object(it.a)([at.a.BoxShadow]),Object(ot.a)("color.border.danger",he.l),Object(ot.a)("color.background.danger",he.j),Object(ot.a)("color.border.danger",he.l),"card-floating-toolbar--link-picker"),ti=Object(T.c)(Xr||(Xr=S()(["\n  ."," {\n    ."," {\n      line-height: initial;\n      cursor: pointer;\n    }\n\n    &."," {\n      ."," > span {\n        ","\n      }\n    }\n  }\n\n  .danger {\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px\n        ",";\n    }\n  }\n"])),Ye,$e,he.H,$e,Object(it.a)([at.a.BoxShadow]),Ye,he.H,$e,he.F,Object(ot.a)("color.border.danger",he.l)),ni=Object(T.c)(Jr||(Jr=S()(["\n  .ProseMirror {\n    .embedCardView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right']\n      + .embedCardView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n  }\n"]))),ri=Object(T.c)(Zr||(Zr=S()(["\n  margin: 0 10px;\n"]))),oi=n(60),ii=n(137);function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var ci=function(e){b()(n,e);var t=ai(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{errorCaptured:!1}),e}return p()(n,[{key:"hasFallback",value:function(){return void 0!==this.props.fallbackComponent}},{key:"shouldRecover",value:function(){return this.hasFallback()&&this.state.errorCaptured}},{key:"componentDidCatch",value:function(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:wt.a.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:wt.e.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}},{key:"render",value:function(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}]),n}(i.a.Component),si=n(173),ui=n(183),li=0;function di(e){var t=ui.a.getState(e.state),n=t&&t.performanceTracking&&t.performanceTracking.nodeViewTracking||{},r=n.samplingRate||100,o=n.slowThreshold||7;return{trackingEnabled:!!n.enabled,samplingRate:r,slowThreshold:o}}function fi(e){var t=e.nodeTypeName;Object(J.b)("".concat(t,"::ReactNodeView"))}function pi(e){var t=e.nodeTypeName,n=e.dispatchAnalyticsEvent,r=e.editorState,o=e.samplingRate,i=e.slowThreshold;Object(J.c)("".concat(t,"::ReactNodeView"),(function(e){++li%o==0&&e>i&&n({action:wt.a.REACT_NODEVIEW_RENDERED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{node:t,duration:e,participants:Object(si.a)(r)}})}))}var hi;function mi(e){var t=e.nodeViewParams,n=e.pmPluginFactoryParams,r=e.Component,o=e.extraComponentProps,a=t.node,c=document.createElement("span");function s(e){n.eventDispatcher.emit(ii.a,{payload:e})}function u(){n.portalProviderAPI.render(function(e){var t=e.dispatchAnalyticsEvent,n=e.currentNode,r=e.nodeViewParams,o=e.Component,a=e.extraComponentProps;return function(){var e,c;return i.a.createElement(ci,{component:wt.b.REACT_NODE_VIEW,componentId:null!==(e=null==n||null===(c=n.type)||void 0===c?void 0:c.name)&&void 0!==e?e:wt.c.UNKNOWN_NODE,dispatchAnalyticsEvent:t},i.a.createElement("span",{className:"".concat("inlineNodeView","AddZeroWidthSpace")}),"",i.a.createElement(o,_e()({view:r.view,getPos:r.getPos,node:n},a)),i.a.createElement("span",{className:"".concat("inlineNodeView","AddZeroWidthSpace")}))}}({dispatchAnalyticsEvent:s,currentNode:a,nodeViewParams:t,Component:r,extraComponentProps:o}),c,!1,!0)}c.contentEditable="false",vi(t.node,c),c.classList.add("".concat(t.node.type.name,"View-content-wrap"),"".concat("inlineNodeView"));var l=di(t.view),d=l.samplingRate,f=l.slowThreshold,p=l.trackingEnabled;return p&&fi({nodeTypeName:a.type.name}),u(),p&&pi({nodeTypeName:a.type.name,dispatchAnalyticsEvent:s,editorState:t.view.state,samplingRate:d,slowThreshold:f}),{get dom(){return c},update:function(e,t){return a.type===e.type&&(a.sameMarkup(e)||vi(e,c),a=e,u(),!0)},destroy:function(){n.portalProviderAPI.remove(c),c=void 0}}}function vi(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}function bi(e){var t=e.pmPluginFactoryParams,n=e.Component,r=e.extraComponentProps;return function(){var e=mi({nodeViewParams:{node:arguments.length<=0?void 0:arguments[0],view:arguments.length<=1?void 0:arguments[1],getPos:arguments.length<=2?void 0:arguments[2],decorations:arguments.length<=3?void 0:arguments[3]},pmPluginFactoryParams:t,Component:n,extraComponentProps:r});return e}}var gi,yi,Oi,wi,ki,Ei,xi,Si,ji,Ci,Ti,_i=Object(T.c)(hi||(hi=S()(["\n  ."," {\n    display: inline;\n    user-select: all;\n    /* Collapses zero width spaces inside the inline node view\n    to prevent the node from line breaking too early.\n    */\n    white-space: nowrap;\n    /* Then reset to the Editor default so we don't interfere\n    with any component styling. */\n    & > * {\n      white-space: pre-wrap;\n    }\n  }\n  /** Remove browser deafult selections style. This prevents\n    unexpected visual artefacts in Safari when navigating\n    with the keyboard or making range selections. */\n  &.ua-safari {\n    ."," {\n      ::selection,\n      *::selection {\n        background: transparent;\n      }\n    }\n  }\n\n  &.ua-chrome ."," > span {\n    user-select: none;\n  }\n\n  .","AddZeroWidthSpace {\n    ::after {\n      content: '","';\n    }\n  }\n"])),"inlineNodeView","inlineNodeView","inlineNodeView","inlineNodeView",""),Ai=function(e){var t;return Object(T.c)(gi||(gi=S()(["\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror[contenteditable='false'] .taskItemView-content-wrap {\n    pointer-events: none;\n    opacity: 0.7;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid ",";\n  }\n\n  ","\n  ","\n  ","\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .pm-table-header-content-wrap,\n  .pm-table-cell-content-wrap div.fabric-editor-block-mark {\n    p:first-of-type {\n      margin-top: 0;\n    }\n  }\n\n  .hyperlink-floating-toolbar,\n  ."," {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package\n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n"])),Object(he.ab)({theme:e.theme}),Oe,we,Se,je,We,_i,Object(ot.a)("color.border.focused","#8cf"),ho,$n,null!==(t=e.featureFlags)&&void 0!==t&&t.codeBlockSyntaxHighlighting?function(e){return Object(T.c)(rn||(rn=S()(["\n  .ProseMirror .code-block {\n    position: relative;\n    background-image: ",";\n    background-repeat: no-repeat;\n    background-color: ",";\n\n    --ds--code--bg-color: transparent;\n\n    background-attachment: local, scroll, scroll;\n    background-size: 8px 100%, 8px 100%, 8px 100%;\n    background-position: 100% 0, 100% 0, 0 0;\n    font-family: ",";\n    border-radius: ","px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n    cursor: pointer;\n    overflow-x: auto;\n\n    ."," {\n      /* https://bitbucket.org/atlassian/atlassian-frontend/src/develop/packages/design-system/code/src/themes/themeBuilder.ts#packages/design-system/code/src/themes/themeBuilder.ts-19:28 */\n      flex-shrink: 0;\n      text-align: right;\n      background-color: ",";\n      padding: ","px;\n      color: ",";\n\n      span {\n        display: block;\n        line-height: 0;\n        font-size: 0;\n\n        &::before {\n          display: inline-block;\n          content: counter(line);\n          counter-increment: line;\n          font-size: ",";\n          line-height: 1.5rem;\n          color: ",";\n        }\n      }\n    }\n\n    ."," {\n      position: absolute;\n      z-index: 2;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      overflow: hidden;\n      tab-size: 4;\n\n      & [data-ds--code--code-block] {\n        font-size: ",";\n        line-height: 1.5rem;\n      }\n    }\n\n    ."," {\n      position: relative;\n      z-index: 1;\n      display: flex;\n      flex: 1;\n\n      > code {\n        flex-grow: 1;\n        tab-size: 4;\n        cursor: text;\n        /* https://bitbucket.org/atlassian/atlassian-frontend/src/218202daeaf527262c21841e6f88fa058d349ad4/packages/design-system/code/src/themes/themeBuilder.ts#lines-12:17 */\n        font-size: ",";\n        line-height: 1.5rem;\n        border-radius: ","px;\n        margin: ","px;\n        white-space: pre;\n      }\n\n      &[data-debounce='true'] {\n        ."," {\n          display: none;\n        }\n      }\n\n      &:not([data-debounce='true']) {\n        > code:not([data-language='plaintext']):not([data-language='none']):not([data-language='']) {\n          color: transparent;\n          caret-color: ",";\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  .ProseMirror .code-block.",":not(.danger) {\n    ","\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    box-shadow: 0 0 0 ","px\n      ",";\n\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n"])),Object(Qn.a)({background:Object(Zn.a)({light:Ce.N20,dark:Ce.DN50})(e),width:"8px"}),Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N20),dark:Object(ot.a)("color.background.neutral",Ce.DN50)})(e),he.f,Object(Ze.d)(),he.Y,he.O,rr.gutter,Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N30),dark:Object(ot.a)("color.background.neutral",Ce.DN20)})(e),Object(Ze.i)(),Object(Zn.a)({light:Object(ot.a)("color.text.subtlest",Ce.N90),dark:Object(ot.a)("color.text.subtlest",Ce.DN90)})(e),Object(he.db)(Object(Ze.g)()),Object(Zn.a)({light:Object(ot.a)("color.text.subtle",Ce.N400),dark:Object(ot.a)("color.text.subtle",Ce.DN400)})(e),rr.highlighting,Object(he.db)(Object(Ze.g)()),rr.content,Object(he.db)(Object(Ze.g)()),Object(Ze.d)(),Object(Ze.i)(),rr.highlighting,Object(Zn.a)({light:Object(ot.a)("color.text",Ce.N800),dark:Object(ot.a)("color.text",Ce.DN500)})(e),he.H,Object(it.a)([at.a.BoxShadow,at.a.Blanket]),he.F,Object(ot.a)("color.border.danger",he.l),rr.gutter,Object(ot.a)("color.blanket.danger",Ce.R75),Object(ot.a)("color.text.danger",he.m),rr.content,Object(ot.a)("color.background.danger",he.j),rr.gutter,Object(ot.a)("color.blanket.danger","rgba(255, 143, 115, 0.5)"),Object(ot.a)("color.text.danger",he.m),rr.content,Object(ot.a)("color.background.danger","rgba(255, 189, 173, 0.5)"))}(e):or(e),function(e){return Object(T.c)(tn||(tn=S()(["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"])),Yn,Jn(e))}(e),po(e),Ve,ir,cr(e),fr,pr.c,bn,kn,qn(e),function(e){return Object(T.c)(jr||(jr=S()(["\n  .ProseMirror {\n    ."," {\n      cursor: pointer;\n\n      /* Danger when top level node */\n      &.danger {\n        box-shadow: 0 0 0 ","px\n          ",";\n        background-color: "," !important;\n\n        ."," {\n          color: "," !important;\n        }\n      }\n    }\n\n    ."," {\n      cursor: text;\n    }\n\n    /* Danger when nested node */\n    .danger ."," {\n      &[data-panel-type] {\n        background-color: ",";\n\n        ."," {\n          color: ",";\n        }\n      }\n    }\n\n    ",";\n  }\n\n  .",".",":not(.danger) {\n    ","\n  }\n"])),eo.prefix,he.F,he.l,Object(ot.a)("color.background.danger",he.j),eo.icon,Object(ot.a)("color.icon.danger",he.m),eo.content,eo.prefix,Object(ot.a)("color.blanket.danger",he.k),eo.icon,Object(ot.a)("color.icon.danger",he.m),oo(e),eo.prefix,he.H,Object(it.a)([at.a.BoxShadow,at.a.Blanket]))}(e),io,co,uo,Ge,mo,bo,Ke,Xe,yo,function(e){return Object(T.c)(qr||(qr=S()(["\n  ."," > div {\n    display: flex;\n  }\n\n  ."," {\n    ","\n    overflow: hidden;\n    cursor: pointer;\n    box-sizing: border-box;\n\n    td > & {\n      margin-top: 0;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(90deg);\n    }\n\n    &.",":not(.danger) {\n      ","\n\n      ::after {\n        // Custom background color and borders (for dark theme).\n        background-color: ",";\n        border: ",";\n        border-radius: ",";\n      }\n    }\n\n    &.danger {\n      background: ",";\n      border: ",";\n      border-color: ",";\n      border-radius: ",";\n    }\n  }\n\n  .ProseMirror\n    > .",",\n    .","\n    > ."," {\n    margin-left: -","px;\n    margin-right: -","px;\n  }\n\n  ."," {\n    ","\n    cursor: text;\n    padding-top: 0px;\n  }\n\n  ."," {\n    ","\n  }\n\n  ."," {\n    ",";\n    overflow: visible;\n  }\n\n  ."," {\n    background: ",";\n    border-color: ",";\n\n    ."," {\n      padding-top: ","px;\n    }\n  }\n\n  ."," {\n    width: 100%;\n  }\n\n  /* stylelint-disable property-no-unknown, value-keyword-case */\n  .",":(.",") {\n    .expand-content-wrapper {\n      height: auto;\n    }\n  }\n  /* stylelint-enable property-no-unknown, value-keyword-case */\n\n  .",":not(.",") {\n    .ak-editor-expand__content {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      white-space: nowrap;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(0deg);\n    }\n\n    &:not(.","):not(.danger) {\n      background: transparent;\n      border-color: transparent;\n\n      &:hover {\n        border-color: ",";\n        background: ",";\n      }\n    }\n  }\n"])),Bo.icon,Bo.prefix,Ro({expanded:!1,focused:!1})(e),Bo.iconContainer,zo(e),he.H,Object(it.a)([at.a.Blanket,at.a.Border]),Uo(e),Ho(e),Wo(e),Vo(e),qo(e),Go(e),Ko(e),Bo.type("expand"),Lo,Bo.type("expand"),he.W,he.W,Bo.content,No({expanded:!1,focused:!1})(e),Bo.titleInput,Io(e),Bo.titleContainer,Mo(e),Bo.expanded,Fo(e),Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N40A),dark:Object(ot.a)("color.border",Ce.DN50)})(e),Bo.content,Object(Ze.i)(),Bo.inputContainer,Bo.prefix,Bo.expanded,Bo.prefix,Bo.expanded,Bo.iconContainer,zo(e),he.H,Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N50A),dark:Object(ot.a)("color.border",Ce.DN50)})(e),Fo(e))}(e),Yo,Xo,Qo,Object(Je.b)(e),ei,rt,ti,ni,lt,$o.FLOATING_TOOLBAR_COMPONENT)},Pi=function(e){return i.a.forwardRef((function(t,n){var r=Object(oi.c)(),i=t.className,a=t.children,c=Object(ye.d)(),s=Object(o.useMemo)((function(){return Ai({theme:c,featureFlags:r})}),[c,r]);return Object(T.d)("div",{className:i,ref:n,css:[s,e]},a)}))},Ii=(Pi(),"0.5s ".concat(he.L)),Mi=2*he.u,Ri=Object(T.c)(yi||(yi=S()(["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"]))),Ni=Pi(Object(T.c)(Oi||(Oi=S()(["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"])),xn.g));Ni.displayName="ScrollContainer";var Di=Object(T.c)(wi||(wi=S()(["\n  padding: 0 ","px;\n  transition: padding 500ms ",";\n"])),he.g,he.L),Li=Object(T.c)(ki||(ki=S()(["\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - ",");\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  transition: padding 0ms ",";\n"])),he.a,he.L),Bi=Object(T.c)(Ei||(Ei=S()(["\n  height: 100%;\n  box-sizing: border-box;\n  align-self: flex-end;\n"]))),Fi=Object(T.c)(xi||(xi=S()(["\n  .fabric-editor--full-width-mode {\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      display: none;\n    }\n  }\n"]))),zi=function(e){return Object(T.c)(Si||(Si=S()(["\n  .fabric-editor--full-width-mode {\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      max-width: ","px;\n    }\n\n    [data-layout-section] {\n      max-width: ","px;\n    }\n  }\n"])),e-Mi-2*jn.z,e-Mi+2*he.W)},Ui=function(e){var t=e.layoutMaxWidth,n=e.fullWidthMode,r=e.containerWidth;return[Wi,!n&&Hi(t),r?zi(r):Fi]},Hi=function(e){return Object(T.c)(ji||(ji=S()(["\n  max-width: ","px;\n"])),e+Mi)},Wi=Object(T.c)(Ci||(Ci=S()(["\n  line-height: 24px;\n  padding-top: 50px;\n  padding-bottom: 55px;\n  height: calc(\n    100% - 105px\n  ); /* fill the viewport: 100% - (padding top & bottom) */\n  width: 100%;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n\n  max-width: ","px;\n  transition: max-width ",";\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container.block,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    .fabric-editor-breakout-mark {\n      margin-left: unset !important;\n      transform: none !important;\n    }\n  }\n"])),he.s+Mi,Ii,be.b,ge.b,Gn),Vi=Object(T.c)(Ti||(Ti=S()(["\n  box-sizing: border-box;\n  padding: 0 ","px;\n"])),he.u);function qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Gi,Ki=i.a.createContext({width:0,positionedOverEditor:!1,broadcastWidth:function(){},broadcastPosition:function(){}}),$i=Ki.Provider,Yi=Ki.Consumer,Xi=function(e){b()(n,e);var t=qi(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"state",{width:0,positionedOverEditor:!1}),E()(m()(r),"broadcastSidebarWidth",(function(e){e!==r.state.width&&r.setState({width:e})})),E()(m()(r),"broadcastPosition",(function(e){e!==r.state.positionedOverEditor&&r.setState({positionedOverEditor:e})})),r}return p()(n,[{key:"render",value:function(){var e=this.state,t=e.width,n=e.positionedOverEditor;return i.a.createElement($i,{value:{width:t,positionedOverEditor:n,broadcastWidth:this.broadcastSidebarWidth,broadcastPosition:this.broadcastPosition}},this.props.children)}}]),n}(i.a.Component),Ji=n(230),Zi=n(51),Qi=n(18);function ea(e){return-1!==[Gi.UP,Gi.LEFT,Gi.BACKWARD].indexOf(e)}function ta(e){return-1!==[Gi.RIGHT,Gi.DOWN,Gi.FORWARD].indexOf(e)}!function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(Gi||(Gi={}));var na,ra=n(54),oa=n(472),ia=Object(ko.b)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}}),aa=Object(T.c)(na||(na=S()(["\n  color: ",";\n  width: 100%;\n  text-align: center;\n  margin-top: 8px !important;\n  display: block;\n"])),Object(ot.a)("color.text.subtlest",Ce.N200)),ca=function(e){var t=e.onClick;return Object(T.d)("span",{css:aa,onClick:t,"data-id":"caption-placeholder","data-testid":"caption-placeholder"},Object(T.d)(oa.a,ia.placeholder))};function sa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=t,i=null,a=n.nodes,c=a.mediaSingle,s=a.media,u=a.mediaGroup;do{if(!(o=e.resolve(-1===r?o.before():o.after())))return null;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===n.nodes.doc)return null;if(i.type===c||i.type===s||i.type===u)return i}while(o.depth>0);return null}var ua=function(e,t,n,r){var o=n,i=-1===r?o.nodeBefore:o.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;o.depth>0;){if(!(o=e.resolve(-1===r?o.before():o.after())))return!1;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}for(var a=i;a&&a.firstChild;)if((a=a.firstChild)&&(a.isTextblock||a.isText))return!0;return!1};function la(e){var t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((function(e){return"breakout"===e.type.name}))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}var da,fa=n(243),pa=n(94),ha=new dt.PluginKey("gapCursorPlugin"),ma=(da={},E()(da,Gi.LEFT,-1),E()(da,Gi.RIGHT,1),E()(da,Gi.UP,-1),E()(da,Gi.DOWN,1),E()(da,Gi.BACKWARD,-1),E()(da,Gi.FORWARD,1),da);var va=function(e,t){return function(n,r,o){var i=n.doc,a=n.schema,c=n.selection,s=n.tr,u=ea(e)?c.$from:c.$to,l=c.empty;if(c instanceof dt.TextSelection){if(!t||!t(e.toString()))return!1;if(e===Gi.UP&&!Object(pa.b)(n)&&ua(i,a,u,-1)||e===Gi.DOWN&&(Object(pa.d)(n)||ua(i,a,u,1)))return!1;u=i.resolve(ea(e)?u.before():u.after()),l=!1}if(c instanceof dt.NodeSelection){if(c.node.isInline)return!1;if(e===Gi.UP||e===Gi.DOWN)return!1}if(!function(e,t){var n=t.doc,r=t.schema,o=t.selection,i=ea(e)?o.$from:o.$to;if(o instanceof dt.TextSelection){if(e===Gi.UP&&!Object(pa.b)(t)||e===Gi.DOWN&&!Object(pa.d)(t))if(sa(n,i,r,ma[e]))return!1;if(e===Gi.LEFT||e===Gi.RIGHT){var a=sa(n,i,r,ma[e]),c=r.nodes.mediaSingle;if(a&&a.type===c&&("wrap-right"===a.attrs.layout||"wrap-left"===a.attrs.layout))return!1}}if(o instanceof dt.NodeSelection&&(e===Gi.LEFT||e===Gi.RIGHT)){var s=n.nodeAt(o.$from.pos),u=r.nodes.mediaSingle;if(s&&s.type===u&&("wrap-right"===s.attrs.layout||"wrap-left"===s.attrs.layout))return!1}return!0}(e,n))return!1;if(c instanceof ra.a&&Object(fa.a)(ea(e)?u.nodeBefore:u.nodeAfter)&&(ea(e)&&c.side===ra.c.LEFT||ta(e)&&c.side===ra.c.RIGHT))return r&&r(s.setSelection(new ra.a(u,c.side===ra.c.RIGHT?ra.c.LEFT:ra.c.RIGHT)).scrollIntoView()),!0;if(o){var d=o.domAtPos.bind(o),f=Object(Qi.findDomRefAtPos)(u.pos,d);if(f&&""===f.textContent)return!1}var p=ra.a.findFrom(u,ea(e)?-1:1,l);return!!p&&(Object(fa.a)(ta(e)?p.$from.nodeBefore:p.$from.nodeAfter)?(r&&r(s.setSelection(p).scrollIntoView()),!0):(r&&r(s.setSelection(new ra.a(p.$from,ta(e)?ra.c.LEFT:ra.c.RIGHT)).scrollIntoView()),!0))}},ba=function(e){return function(t,n){if(t.selection instanceof ra.a){var r=t.selection,o=r.$from,i=r.$anchor,a=t.tr;if(ea(e)){if("left"===t.selection.side)return a.setSelection(new ra.a(i,ra.c.RIGHT)),n&&n(a),!0;a=Object(Qi.removeNodeBefore)(t.tr)}else o.nodeAfter&&(a=a.delete(o.pos,o.pos+o.nodeAfter.nodeSize));return n&&n(a.setSelection(dt.Selection.near(a.doc.resolve(a.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1}},ga=function(e,t,n,r,o){var i=function(e,t,n,r){var o=t.getBoundingClientRect();if(e.clientY<o.top)return{position:0,side:ra.c.LEFT};if(o.left>0){var i=n({left:o.left,top:e.clientY});if(i&&i.inside>-1){var a,c=r.doc.resolve(i.inside).before(1),s=e.clientX<o.left?ra.c.LEFT:ra.c.RIGHT;if(s===ra.c.LEFT)a=c;else{var u=r.doc.nodeAt(c);u&&(a=c+u.nodeSize)}return{position:a,side:s}}}return null}(t,n,r,e);if(i){var a=void 0!==i.position?e.doc.resolve(i.position):null;if(null!==a)if((i.side===ra.c.LEFT?Object(fa.a)(a.nodeAfter):Object(fa.a)(a.nodeBefore))&&ra.a.valid(a))e.selection instanceof ra.a?e.setSelection(dt.Selection.near(a)):e.setSelection(new ra.a(a,i.side));else if(!1===o){var c=dt.Selection.findFrom(a,i.side===ra.c.LEFT?1:-1,!0);c&&e.setSelection(c)}}},ya=n(14),Oa=n(35),wa=n(30);function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xa=Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.LINE_BREAK,eventType:wt.e.TRACK})((function(e,t){var n=e.selection.$from.parent,r=e.schema.nodes.hardBreak;if(r){var o=r.createChecked();if(n&&n.type.validContent(ya.Fragment.from(o)))return t&&t(e.tr.replaceSelectionWith(o,!1)),!0}return e.selection instanceof dt.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)})),Sa=function(e,t){return!(Object(wa.c)(e)||!Ca(e))&&(Ta(!1)(e,t),!0)},ja=function(e,t){return!(Object(wa.b)(e)||!Ca(e))&&(Ta(!0)(e,t),!0)};function Ca(e){var t=e.selection.$from,n=t.node(t.depth),r=!!n&&n.type===e.schema.nodes.codeBlock,o=e.selection instanceof dt.NodeSelection;return t.depth>1||o||r}function Ta(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r,o=t.schema.nodes.paragraph;if(!o)return!1;if(t.selection instanceof dt.TextSelection){if(Pa(t))return!1;r=_a(t,e)}else r=Aa(t,e);var i=t.tr.insert(r,o.createAndFill());return i.setSelection(dt.TextSelection.create(i.doc,r+1)),n&&n(i),!0}}function _a(e,t){var n=e.selection,r=n.$from,o=n.$to;return t?o.end(0):r.start(0)}function Aa(e,t){var n,r=e.selection,o=r.$from,i=r.$to,a=e.selection instanceof dt.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),c=a&&"mediaGroup"===a.type.name;return t?(n=i.end(i.depth),n=i.depth>0&&!c?n+1:n):(n=o.start(o.depth),n=o.depth>0&&!c?n-1:n),n}function Pa(e){var t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}function Ia(e){var t=e.doc.type.schema.nodes.paragraph,n=e.doc;!n.lastChild||n.lastChild.type===t&&0===n.lastChild.content.size||t&&e.insert(n.content.size,t.createAndFill()),e.setSelection(dt.TextSelection.create(e.doc,e.doc.content.size-1)),e.scrollIntoView()}var Ma,Ra=function(e){return function(t,n){var r=t.selection,o=r.from,i=r.to,a=t.tr;return t.doc.nodesBetween(o,i,(function(n,r){n.type===t.schema.nodes.mediaSingle&&a.setNodeMarkup(r,void 0,Ea(Ea({},n.attrs),{},{layout:"center"===e?"center":"align-".concat(e)}))})),!(!a.docChanged||!n)&&(n(a.scrollIntoView()),!0)}},Na=function(e,t,n){return function(r,o,i,a){var c=!1;return a.doc.nodesBetween(r,o,(function(r,o,s){if(!r.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(r.type)>-1:n(a.schema,r,s)))&&s.type.allowsMarkType(e)){var u=r.marks.filter((function(t){return t.type===e})),l=u.length?u[0].attrs:void 0,d=t(l,r);void 0!==d&&(i.setNodeMarkup(o,r.type,r.attrs,r.marks.filter((function(t){return!e.excludes(t.type)})).concat(!1===d?[]:e.create(d))),c=!0)}})),c}},Da=function(e,t,n){return function(r,o){var i=!1,a=r.tr,c=Na(e,t,n);if(r.selection instanceof Oa.a)r.selection.forEachCell((function(e,t){i=c(t,t+e.nodeSize,a,r)}));else{var s=r.selection,u=s.from,l=s.to;i=c(u,l,a,r)}return!(!i||!a.docChanged)&&(o&&o(a.scrollIntoView()),!0)}},La=function(e,t){var n=t.currentTarget.querySelector(".ak-editor-content-area"),r=!(!e||!e.hasFocus()),o=t.target,i="INPUT"===o.nodeName,a=!!Object(Zi.b)(o,"[data-editor-popup]"),c="TEXTAREA"===o.nodeName,s=!!Object(Zi.b)(o,'nav[aria-label="Breadcrumbs"]'),u=!n,l=!function(e){for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1}(o.parentNode),d=!1===r,f=window.getSelection(),p="Range"===(null==f?void 0:f.type)&&Object(Zi.b)(null==f?void 0:f.anchorNode,"[data-editor-popup]"),h=!!o.closest("[role=dialog]");(u||l||d)&&!i&&!c&&!a&&!h&&!s&&!a&&!p&&e&&Ba(e,t)},Ba=function(e,t){var n=e.dispatch,r=e.dom,o=e.state,i=!(!e||!e.hasFocus()),a=o.tr;Fa(t,r,a),function(e){return Boolean(ha.get(e))}(o)&&ga(a,t,r,e.posAtCoords.bind(e),i),(a.docChanged||a.selectionSet)&&(n&&n(a),e.focus(),t.stopPropagation(),t.preventDefault())},Fa=function(e,t,n){e.clientY>t.getBoundingClientRect().bottom&&Ia(n)};function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Ua=Object(T.c)(Ma||(Ma=S()(["\n  flex-grow: 1;\n  height: 100%;\n"]))),Ha=function(e){b()(n,e);var t=za(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleClick",(function(t){var n=e.props.editorView;n&&La(n,t)})),e}return p()(n,[{key:"render",value:function(){return Object(T.d)("div",{"data-testid":"click-wrapper",css:Ua,onClick:this.handleClick},this.props.children)}}]),n}(i.a.Component),Wa=n(254),Va=n(217),qa=!1,Ga=i.a.createContext(null),Ka=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o="exited",r.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}Object(Va.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[c.a.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||qa?this.safeSetState({status:"entered"},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(i,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.a.findDOMNode(this);t&&!qa?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(Wa.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.a.createElement(Ga.Provider,{value:null},"function"==typeof n?n(e,r):i.a.cloneElement(i.a.Children.only(n),r))},t}(i.a.Component);function $a(){}Ka.contextType=Ga,Ka.propTypes={},Ka.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$a,onEntering:$a,onEntered:$a,onExit:$a,onExiting:$a,onExited:$a},Ka.UNMOUNTED="unmounted",Ka.EXITED="exited",Ka.ENTERING="entering",Ka.ENTERED="entered",Ka.EXITING="exiting";var Ya=Ka,Xa=n(43),Ja=n(382),Za=n(23);function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tc=new dt.PluginKey("widthPlugin");var nc=function(){return{name:"width",pmPlugins:function(){return[{name:"width",plugin:function(e){return function(e){return new Za.a({key:tc,state:{init:function(){return{width:document.body.offsetWidth,containerWidth:document.body.offsetWidth}},apply:function(t,n){var r=t.getMeta(tc);if(!r)return n;var o=ec(ec({},n),r);return o&&(n.width!==o.width||n.lineLength!==o.lineLength)||n.containerWidth!==o.containerWidth?(e(tc,o),o):n}}})}(e.dispatch)}}]},contentComponent:function(e){var t,n=e.editorView,r=e.containerElement,o={lineLength:n.dom.clientWidth};r&&(o.width=r.offsetWidth,o.containerWidth=null===(t=r.parentElement)||void 0===t?void 0:t.offsetWidth);var i=n.state.tr.setMeta(tc,o);return n.dispatch(i),null}}};function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var oc=function(e){b()(n,e);var t=rc(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onContextUpdate",(function(){e.forceUpdate()})),e}return p()(n,[{key:"componentDidMount",value:function(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"componentWillUnmount",value:function(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"render",value:function(){return this.props.render(this.context.editorActions)}}]),n}(i.a.Component);E()(oc,"contextTypes",{editorActions:A.a.object.isRequired});var ic,ac,cc,sc,uc=n(71);function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var pc,hc=he.i+he.e,mc=he.V+he.e,vc=Object(T.c)(ic||(ic=S()(["\n  position: absolute;\n  right: 0;\n  height: calc(100% - ",");\n"])),he.a),bc=Object(T.c)(ac||(ac=S()(["\n  width: 0;\n"]))),gc=Object(T.c)(cc||(cc=S()(["\n  width: ","px;\n  height: 100%;\n  transition: width ","ms ",";\n  overflow: hidden;\n  box-shadow: inset 2px 0 0 0 ",";\n"])),he.g,500,he.L,Object(ot.a)("color.border",Ce.N30)),yc=Object(T.c)(sc||(sc=S()(["\n  transition: width 600ms ",";\n  box-sizing: border-box;\n  padding: 16px 16px 0px;\n  width: ","px;\n  height: 100%;\n  overflow-y: auto;\n"])),he.L,he.g),Oc=function(e){b()(n,e);var t=fc(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{mounted:!1,currentPluginContent:void 0}),E()(m()(e),"showPluginContent",(function(){var t=e.props.pluginContent,n=e.state.currentPluginContent;if(n)return Object(T.d)(Ya,{timeout:e.state.mounted?500:0,in:!!t,mountOnEnter:!0,unmountOnExit:!0,onExited:function(){return e.unsetPluginContent()}},n)})),E()(m()(e),"showProvidedContent",(function(t){var n=e.props.children;if(n)return Object(T.d)(Ya,{timeout:e.state.mounted?500:0,in:t,mountOnEnter:!0,unmountOnExit:!0},n)})),e}return p()(n,[{key:"unsetPluginContent",value:function(){this.setState({currentPluginContent:void 0})}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props.editorWidth,n=he.g,r=!!this.props.visible,o=r||!!this.state.currentPluginContent;return Object(T.d)(Yi,null,(function(i){var a=i.broadcastWidth,c=i.broadcastPosition,s=i.positionedOverEditor,u=!!t&&function(e,t){var n=e.lineLength,r=e.containerWidth,o=void 0===r?0:r,i=e.contentBreakoutModes,a=!(n&&n>he.i),c=!i.length&&o>=2*t+hc,s=!i.includes("full-width")&&i.includes("wide")&&o>=2*t+mc;return a&&(c||s)}(t,n);return a(o?n:0),(u&&o)!==s&&c(u&&o),Object(T.d)("div",{css:[gc,!o&&bc,u&&vc],"data-testid":"context-panel-panel","aria-labelledby":"context-panel-title",role:"dialog"},Object(T.d)("div",{"data-testid":"context-panel-content",css:[yc,!o&&bc]},e.showPluginContent()||e.showProvidedContent(r)))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.pluginContent!==t.currentPluginContent?dc(dc({},t),{},{currentPluginContent:e.pluginContent}):null}}]),n}(i.a.PureComponent),wc=function(e){b()(n,e);var t=fc(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this;return Object(T.d)(oc,{render:function(t){var n=t._privateGetEventDispatcher(),r=t._privateGetEditorView();return n?Object(T.d)(Xa.a,{eventDispatcher:n,plugins:{contextPanel:Ja.b,widthState:tc},render:function(t){var n=t.contextPanel,o=t.widthState,i=void 0===o?{width:0,containerWidth:0,lineLength:he.i}:o,a=n&&n.contents.find(Boolean),c=dc(dc({},i),{},{contentBreakoutModes:r?Object(uc.c)(r.state.doc,r.state.schema):[]});return Object(T.d)(Oc,_e()({},e.props,{editorView:r,pluginContent:a,editorWidth:c}))}}):Object(T.d)(Oc,_e()({editorView:r},e.props))}})}}]),n}(i.a.Component);function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Ec=Object(T.c)(pc||(pc=S()(["\n  display: flex;\n"]))),xc=function(e){b()(n,e);var t=kc(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"transitionEvent",Object(wa.y)()),E()(m()(e),"forceComponentUpdate",(function(t){t.propertyName.includes("width")&&e.forceUpdate()})),E()(m()(e),"removeModeChangeListener",(function(t){t&&e.transitionEvent&&t.removeEventListener(e.transitionEvent,e.forceComponentUpdate)})),E()(m()(e),"addModeChangeListener",(function(t){t&&e.transitionEvent&&t.addEventListener(e.transitionEvent,e.forceComponentUpdate)})),e}return p()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editorView,r=t.editorActions,o=t.items,i=t.providerFactory,a=t.eventDispatcher,c=t.popupsMountPoint,s=t.popupsBoundariesElement,u=t.popupsScrollableElement,l=t.containerElement,d=t.disabled,f=t.wrapperElement;return!(e.editorView===n&&e.editorActions===r&&e.items===o&&e.providerFactory===i&&e.eventDispatcher===a&&e.popupsMountPoint===c&&e.popupsBoundariesElement===s&&e.popupsScrollableElement===u&&e.containerElement===l&&e.disabled===d&&e.wrapperElement===f)}},{key:"componentDidMount",value:function(){this.addModeChangeListener(this.props.contentArea)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}},{key:"componentWillUnmount",value:function(){this.removeModeChangeListener(this.props.contentArea)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,a=e.providerFactory,c=e.appearance,s=e.popupsMountPoint,u=e.popupsBoundariesElement,l=e.popupsScrollableElement,d=e.containerElement,f=e.disabled,p=e.dispatchAnalyticsEvent,h=e.wrapperElement;return t&&n?Object(T.d)(ci,{component:wt.b.PLUGIN_SLOT,fallbackComponent:null},Object(T.d)("div",{css:Ec},t.map((function(e,t){var m={key:t},v=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:a,dispatchAnalyticsEvent:p,appearance:c,popupsMountPoint:s,popupsBoundariesElement:u,popupsScrollableElement:l,containerElement:d,disabled:f,wrapperElement:h});return v&&i.a.cloneElement(v,m)})))):null}}]),n}(i.a.Component);E()(xc,"displayName","PluginSlot");var Sc,jc,Cc,Tc,_c=function(e){var t=e.editorView,n=i.a.useState(0),r=mr()(n,2),o=r[0],a=r[1],c=i.a.useState(0),s=mr()(c,2),u=s[0],l=function(e){var t=e.setContextPanelWidth,n=e.setContainerWidth;return[i.a.useCallback((function(e){var n=e.width;return t(n),null}),[t]),i.a.useCallback((function(e){var t=e.width;return n(t),null}),[n])]}({setContextPanelWidth:a,setContainerWidth:s[1]}),d=mr()(l,2),f=d[0],p=d[1];return i.a.useEffect((function(){var e=u-o;if(!(e<=0||isNaN(e))&&t){var n=t.dom,r=t.state.tr,i=t.dispatch;return r.setMeta(tc,{width:e,containerWidth:u,lineLength:n?n.clientWidth:void 0}),i(r),function(){}}}),[t,o,u]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Yi,null,f),i.a.createElement(Y.a,null,p))},Ac=Object(ko.b)({toolbarLabel:{id:"fabric.editor.toolbarLabel",defaultMessage:"Editor toolbar",description:"Label for the ARIA region landmark"},pageActionsLabel:{id:"fabric.editor.pageActionsLabel",defaultMessage:"Page actions",description:"Label for the ARIA region landmark"},editableContentLabel:{id:"fabric.editor.editableContentLabel",defaultMessage:"Editable content",description:"Label for the ARIA region landmark"}}),Pc=i.a.memo((function(e){var t=Object(ye.d)(),n="full-width"===e.appearance;return Object(T.d)(Y.a,null,(function(r){var o=r.width;return Object(T.d)(Yi,null,(function(r){var i=r.positionedOverEditor;return Object(T.d)("div",{css:[Li,i&&Di],"data-testid":"ak-editor-fp-content-area"},Object(T.d)(Ni,{ref:e.scrollContainerRef,className:"fabric-editor-popup-scroll-parent"},Object(T.d)(Ha,{editorView:e.editorView},Object(T.d)("div",{css:Ui({fullWidthMode:n,layoutMaxWidth:t.layoutMaxWidth,containerWidth:o}),role:"region","aria-label":e.intl.formatMessage(Ac.editableContentLabel),ref:e.contentAreaRef},Object(T.d)("div",{css:Vi,className:["ak-editor-content-area",n?"fabric-editor--full-width-mode":""].join(" ")},e.customContentComponents,Object(T.d)(xc,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.contentComponents,contentArea:e.contentArea,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:!!e.disabled,containerElement:e.scrollContainer,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,wrapperElement:e.wrapperElement}),e.editorDOMElement)))),Object(T.d)("div",{css:Bi},e.contextPanel||Object(T.d)(wc,{visible:!1})),Object(T.d)(_c,{editorView:e.editorView}))}))}))})),Ic=Object(Ji.c)(Pc),Mc=n(172),Rc=Object(ko.b)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."}}),Nc=Object(ko.b)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},removeEmoji:{id:"fabric.editor.removeEmoji",defaultMessage:"Remove emoji",description:"Remove the emoji panel icon from custom panel"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}}),Dc=n(1219),Lc=Object(T.c)(Sc||(Sc=S()(["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"])),Object(ot.a)("color.background.neutral",Ce.N20),4*Object(Ze.i)(),Object(Ze.i)()/2),Bc=Object(T.c)(jc||(jc=S()(["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n\n  // ED-13102: This is to override list styles that come from the\n  // .wiki-content class in Confluence that should not apply within\n  // the toolbar. Has to be extra specific to override.\n  && > ul {\n    list-style-type: none;\n  }\n\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"])),Object(Ze.i)()),Fc=function(e){return Object(T.c)(Cc||(Cc=S()(["\n  display: block;\n  position: absolute;\n  right: 1px;\n  bottom: 1px;\n  width: 13px;\n  height: 13px;\n  z-index: ",";\n  border-radius: 3px;\n  background: ",";\n  color: ",";\n  font-size: ",";\n  line-height: 0;\n  padding-top: 7px;\n  text-align: center;\n  box-shadow: 0 0 1px ",";\n  box-sizing: border-box;\n"])),he.J,e,Object(ot.a)("color.text.inverse","#fff"),Object(he.db)(9),Object(ot.a)("color.border.inverse","#fff"))},zc=function(e){var t=Et(e.sessionId).color.solid,n=e.name.substr(0,1).toUpperCase();return Object(T.d)("div",{css:Fc(t),"data-testid":"editor-collab-badge"},n)},Uc=Object(P.a)((function(e){return{name:e.name,src:e.avatar,size:"medium",presence:i.a.createElement(zc,{name:e.name,sessionId:e.sessionId})}}),(function(e,t){var n=mr()(e,1)[0],r=mr()(t,1)[0];return n.name===r.name&&n.avatar===r.avatar&&n.sessionId===r.sessionId})),Hc=i.a.memo((function(e){var t=e.sessionId,n=e.editorView,r=e.participants.toArray(),o=r.sort((function(e){return e.sessionId===t?-1:1})).map(Uc);return o.length?Object(T.d)("div",{css:Bc},Object(T.d)(Dc.a,{appearance:"stack",size:"medium",data:o,maxCount:3,onAvatarClick:function(t,o,i){if(n){var a=Object(oi.b)(n.state);(null==a?void 0:a.collabAvatarScroll)&&i>0&&function(e,t,n,r){var o=t[r];if(o&&void 0!==o.cursorPos&&o.sessionId!==n){var i=e.state,a=i.tr,c={action:wt.a.MATCHED,actionSubject:wt.b.SELECTION,eventType:wt.e.TRACK};a.setSelection(dt.Selection.near(a.doc.resolve(o.cursorPos))),(a=Object(Ot.a)(i,a,c)).scrollIntoView(),e.dispatch(a),e.hasFocus()||e.focus()}}(n,r,e.sessionId,i)}}}),e.children):null})),Wc=n(391),Vc=n.n(Wc),qc=n(58),Gc=function(e){return Object(T.d)(o.Fragment,null,e.children)},Kc=function(e){var t=e.Component,n=e.onClick,r=e.selected,o=e.title,a=i.a.useMemo((function(){return Object(T.d)(Vc.a,{label:o})}),[o]);if(!t&&!n)return null;var c=t||Gc;return Object(T.d)("div",{css:Lc},Object(T.d)(c,null,Object(T.d)(qc.b,{className:"invite-to-edit",onClick:n,selected:r,title:o,titlePosition:"bottom",iconBefore:a})))},$c=Object(Ji.c)((function(e){var t=e.intl.formatMessage(Nc.inviteToEditButtonTitle),n=e.isInviteToEditButtonSelected,r=e.inviteToEditHandler,o=e.inviteToEditComponent,a=e.editorView,c=i.a.useCallback((function(e){var c=e.data;return c?i.a.createElement(Hc,{sessionId:c.sessionId,participants:c.activeParticipants,editorView:a},i.a.createElement(Kc,{title:t,selected:n,onClick:r,Component:o})):null}),[n,r,o,t,a]);return i.a.createElement(Xa.a,{plugins:{data:Mc.a},render:c,editorView:a})})),Yc=$c,Xc=new dt.PluginKey("findReplace"),Jc=n(83);function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ACTIVATE="ACTIVATE",e.FIND="FIND",e.UPDATE_DECORATIONS="UPDATE_DECORATIONS",e.FIND_NEXT="FIND_NEXT",e.FIND_PREVIOUS="FIND_PREVIOUS",e.REPLACE="REPLACE",e.REPLACE_ALL="REPLACE_ALL",e.CANCEL="CANCEL",e.BLUR="BLUR",e.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"}(Tc||(Tc={}));var es=function(e){return function(t,n){switch(n.type){case Tc.ACTIVATE:case Tc.FIND:return Qc(Qc({},t),{},{isActive:!0,shouldFocus:n.type===Tc.ACTIVATE,findText:void 0!==n.findText?n.findText:t.findText,matches:n.matches||t.matches,index:void 0!==n.index?n.index:t.index});case Tc.UPDATE_DECORATIONS:return Qc(Qc({},t),{},{decorationSet:n.decorationSet});case Tc.FIND_NEXT:case Tc.FIND_PREVIOUS:return Qc(Qc({},t),{},{index:n.index,decorationSet:n.decorationSet});case Tc.REPLACE:case Tc.REPLACE_ALL:return Qc(Qc({},t),{},{replaceText:n.replaceText,decorationSet:n.decorationSet,matches:n.matches,index:n.index});case Tc.CANCEL:return e();case Tc.BLUR:return Qc(Qc({},t),{},{shouldFocus:!1});case Tc.TOGGLE_MATCH_CASE:return Qc(Qc({},t),{},{shouldMatchCase:!t.shouldMatchCase});default:return t}}};var ts=function(e,t){return t.map((function(t,n){var r=t.start,o=t.end;return ns(r,o,n===e)}))},ns=function(e,t,n){var r="search-match";return n&&(r+=" ".concat("selected-search-match")),ft.a.inline(e,t,{class:r})};function rs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],i=t.length,a=null,c=function(e){if(e){var a=e.text,c=e.pos,s=r+c;n||(t=t.toLowerCase(),a=a.toLowerCase());for(var u=a.indexOf(t);-1!==u;){var l=u+i;o.push({start:s+u,end:s+l}),u=a.indexOf(t,l)}}};return i>0&&(e.descendants((function(e,t){e.isText?null===a?a={text:e.text,pos:t}:a.text=a.text+e.text:(c(a),a=null)})),a&&c(a)),o}function os(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=t.findIndex((function(t){return t.start>=e}))-1;return r<0&&(r=t.length-1),r}return Math.max(t.findIndex((function(t){return t.start>=e})),0)}var is=function(e,t){return(e+1)%t},as=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return r[n]?dt.TextSelection.create(t,r[n].start+o):e},cs=function(e,t){if(t){var n=e.find(t.start,t.end);return n.length?n.find((function(e){return e.from===t.start&&e.to===t.end})):void 0}},ss=function(e,t,n){var r=e.find(),o=(e=e.remove(t.map((function(e){return e.copy(e.from,e.to)})))).find(),i=ls(t,r,o);return i.length>0&&(e=e.add(n,i)),e},us=function(e,t,n){return t.filter((function(e){return!!e})).map((function(t){return cs(e,t)})).forEach((function(t){t&&(e=ss(e,[t],n))})),e},ls=function(e,t,n){var r=[];if(t.length-e.length>n.length){for(var o=e.length>0?e[0].from:0,i=ds(t,o),a=ds(n,o),c=Math.min(i,a),s=t.slice(c),u=n.slice(c),l=[],d=s.length-u.length,f=!1,p=0,h=function(t){var n=s[t];if(e.find((function(e){return e.from===n.from})))return p-=1,"continue";var r=t+p;for(r>=u.length&&(l.push(n),l.length===d&&(f=!0));r<u.length;r++){var o=u[r];if(n.from===o.from)break;if(o.from>n.from||r===u.length-1){l.push(n),p-=1,l.length===d&&(f=!0);break}}return f?"break":void 0},m=0;m<s.length;m++){var v=h(m);if("continue"!==v&&"break"===v)break}r=l.filter((function(t){return!e.find((function(e){return t.from===e.from}))}))}return r},ds=function(e,t){for(var n=0,r=e.length-1;r>=0;r-=100){if(e[r].from<t){n=r;for(var o=r;o<=e.length-1&&e[o].from<=t;o++)n=o;break}r<100&&r>0&&(r=100)}return n},fs=function(e,t,n){var r=t.from,o=t.to,i=t.slice.content.size;return r+i>=e.start&&o-i<=e.end||n.mapping.map(r)+i>=e.start&&n.mapping.map(o)-i<=e.end};function ps(e,t){return e.filter((function(e,n,r){return r.findIndex((function(n){return t?t(e,n):e===n}))===n}))}var hs=function(e){return e&&e.hasOwnProperty("slice")};function ms(e,t){var n=!1;return hs(e)?(e.slice.content.descendants((function(e){return t.has(e.type)&&(n=!0),!n})),n):n}var vs=function(e){return e instanceof pt.c||e instanceof pt.b?e.slice:null};function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ys,Os={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:ft.b.empty,shouldMatchCase:!1},ws=Object(Jc.a)(Xc,es((function(){return Os})),{onDocChanged:function(e,t){var n=t.isActive,r=t.findText;if(!n||!r)return t;if(!e.steps.find(hs))return t;var o=t.index,i=t.decorationSet,a=t.matches,c=t.shouldMatchCase,s=rs(e.doc,r,c),u=(i=i.map(e.mapping,e.doc)).find().length,l=a.map((function(t){return{start:e.mapping.map(t.start),end:e.mapping.map(t.end)}})),d=[],f=[];if(s.length>0&&0===u?d=s:0===s.length&&u>0?i=ft.b.empty:(s.length>0||u>0)&&e.steps.forEach((function(t){var n,r,o;hs(t)&&(d=[].concat(D()(d),D()(s.filter((function(n){return fs(n,t,e)&&!cs(i,n)})))),f=[].concat(D()(f),D()((n=l.filter((function(n){return fs(n,t,e)&&!!cs(i,n)})),r=s,o=function(e,t){return e.start===t.start&&e.end===t.end},n.filter((function(e){return-1===r.findIndex((function(t){return o?o(e,t):e===t}))}))))))})),f.length>0){var p=f.reduce((function(e,t){return[].concat(D()(e),D()(i.find(t.start,t.end)))}),[]);i=ss(i,p,e.doc)}d.length>0&&(i=i.add(e.doc,ts(e.selection.from,d)));var h=o,m=l[o];m&&(h=s.findIndex((function(e){return e.start===m.start}))),void 0!==h&&-1!==h||(h=os(e.selection.from,s));var v=s[h];return i=us(i,[m,v],e.doc),v&&(i=i.add(e.doc,ts(0,[v]))),gs(gs({},t),{},{matches:s,index:h,decorationSet:i})}}),ks=ws.createCommand,Es=ws.getPluginState,xs=ws.createPluginState,Ss=n(44),js=new(function(){function e(){d()(this,e)}var t,n,r,o;return p()(e,[{key:"stop",value:function(){this.rafId&&cancelAnimationFrame(this.rafId)}},{key:"applyAllSearchDecorations",value:(o=u()(C.a.mark((function e(t,n,r,o){var i,a,c,s,u,l,d,f,p,h;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stop(),this.addDecorations=r,this.removeDecorations=o,n){e.next=5;break}return e.abrupt("return");case 5:if(i=n.querySelector(".ProseMirror")){e.next=8;break}return e.abrupt("return");case 8:return a=this.calcDecorationPositions(t,n,i),c=a.startPos,s=a.endPos,u=a.viewportStartPos,l=a.viewportEndPos,d=0,f=u,p=l-2e3,e.next=15,this.updateDecorationsBetween(t,u,l);case 15:if(!(f>c||p<s)){e.next=28;break}if(!(d++%2==0&&f>c||p>=s)){e.next=23;break}return h=f-c,f=Math.max(f-2e3,c),e.next=21,this.updateDecorationsBetween(t,f,f+Math.min(h,2e3));case 21:e.next=26;break;case 23:return p=Math.min(p+2e3,s),e.next=26,this.updateDecorationsBetween(t,p,Math.min(p+2e3,s));case 26:e.next=15;break;case 28:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return o.apply(this,arguments)})},{key:"updateDecorationsBetween",value:(r=u()(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeDecorationsBetween(t,n,r);case 2:return e.next=4,this.addDecorationsBetween(t,n,r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"addDecorationsBetween",value:(n=u()(C.a.mark((function e(t,n,r){var o,i,a,c,s,u,l,d=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.state.selection,i=Es(t.state),a=i.matches,c=i.decorationSet,0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return s=a.filter((function(e){return e.start>=n&&(void 0===r||e.start<r)})),u=a.find((function(e){return e.start>=o.from})),l=s.findIndex((function(e){return e===u})),e.next=9,this.batchRequests((function(e){var t=s.slice(e,e+100);if(0===t.length)return!1;var n=l>=e&&l<e+100;u&&n&&cs(c,u)&&(t.splice(l%100,1),n=!1),d.addDecorations&&d.addDecorations(ts(n?l%100:-1,t))}),{increment:100,until:s.length});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"removeDecorationsBetween",value:(t=u()(C.a.mark((function e(t,n,r){var o,i,a,c=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Es(t.state),i=o.decorationSet,0!==(a=i.find(n,r)).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.batchRequests((function(e){var t=a.slice(e,e+100);if(0===t.length)return!1;for(var r=0;r<t.length&&!(t[r].from>=n);r++)t=t.slice(1);c.removeDecorations&&c.removeDecorations(t)}),{increment:100,until:a.length});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"calcDecorationPositions",value:function(e,t,n){var r=t.getBoundingClientRect(),o=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,o.left),viewportEndPos:this.getEndPos(e,r.top+r.height,o.left),startPos:1,endPos:e.state.doc.nodeSize}}},{key:"getStartPos",value:function(e,t,n){var r=e.posAtCoords({top:t,left:n});return r?r.pos:1}},{key:"getEndPos",value:function(e,t,n){var r=e.state.doc.nodeSize,o=e.posAtCoords({top:t,left:n});return o?o.pos:r}},{key:"batchRequests",value:function(e,t){var n=this,r=0,o=t.increment,i=t.until;return new Promise((function(t){n.rafId=requestAnimationFrame((function a(){for(var c=e(r);!1===c&&r<i;)c=e(r+=o);r<i?(r+=o,n.rafId=requestAnimationFrame(a)):(n.rafId=void 0,t())}))}))}}]),e}()),Cs=function(e,t){var n,r,o=Es(e),i=o.matches,a=o.findText,c=o.decorationSet,s=o.index;if(a){var u=os(e.selection.from,i,"previous"===t);s=s===u?"next"===t?is(s,i.length):(n=s,r=i.length,(n-1+r)%r):u,c=As(e,s)}return{type:"next"===t?Tc.FIND_NEXT:Tc.FIND_PREVIOUS,index:s,decorationSet:c}},Ts=function(e){return ks((function(t){var n=Es(t).decorationSet;return{type:Tc.UPDATE_DECORATIONS,decorationSet:n.add(t.doc,e)}}))},_s=function(e){return ks((function(t){var n=Es(t).decorationSet;return{type:Tc.UPDATE_DECORATIONS,decorationSet:ss(n,e,t.doc)}}))},As=function(e,t){var n=Es(e),r=n.decorationSet,o=n.index,i=n.matches,a=i[o],c=i[t];if(o===t)return r;var s=cs(r,a),u=cs(r,c),l=[];return s&&l.push(s),u&&l.push(u),l.length>0&&(l.sort((function(e,t){return e.from<t.from?-1:1})),r=ss(r,l,e.doc)),a&&(r=r.add(e.doc,[ns(a.start,a.end)])),c&&(r=r.add(e.doc,[ns(c.start,c.end,!0)])),r},Ps=function(e){var t=e.triggerMethod;return Object(Ot.c)((function(e){return{eventType:wt.e.UI,action:wt.a.ACTIVATED,actionSubject:wt.b.FIND_REPLACE_DIALOG,attributes:{inputMethod:e.selection instanceof dt.TextSelection&&!e.selection.empty?wt.f.PREFILL:wt.f.KEYBOARD,triggerMethod:t}}}))(ks((function(e){var t,n,r,o=e.selection;if(o instanceof dt.TextSelection&&!o.empty){t=function(e){for(var t="",n=e.content().content,r=0;r<n.childCount;r++)t+=n.child(r).textContent;return t}(o);var i=Es(e).shouldMatchCase;n=rs(e.doc,t,i),r=os(o.from,n)}return{type:Tc.ACTIVATE,findText:t,matches:n,index:r}})))},Is=function(e){var t=e.editorView,n=e.containerElement,r=e.keyword;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.FIND_PERFORMED,actionSubject:wt.b.TEXT})(function(e,t,n){return Object(Ss.l)(ks((function(r){var o=r.selection,i=Es(r).shouldMatchCase,a=void 0!==n?rs(r.doc,n,i):[],c=os(o.from,a);return js.applyAllSearchDecorations(e,t,(function(t){return Ts(t)(e.state,e.dispatch)}),(function(t){return _s(t)(e.state,e.dispatch)})),{type:Tc.FIND,findText:n||"",matches:a,index:c}}),(function(e,t){var r=t.selection,o=Es(t).shouldMatchCase,i=void 0!==n?rs(t.doc,n,o):[];if(i.length>0){var a=os(r.from,i);return e.setSelection(as(e.selection,e.doc,a,i))}return e})))}(t,n,r))},Ms=function(e){var t=e.triggerMethod;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.FIND_NEXT_PERFORMED,actionSubject:wt.b.TEXT,attributes:{triggerMethod:t}})(Object(Ss.l)(ks((function(e){return Cs(e,"next")}),(function(e,t){var n=Es(t),r=n.matches,o=n.index,i=os(t.selection.from,r);return i===o&&(i=is(i,r.length)),e.setSelection(as(e.selection,e.doc,i,r))}))))},Rs=function(e){var t=e.triggerMethod;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.FIND_PREV_PERFORMED,actionSubject:wt.b.TEXT,attributes:{triggerMethod:t}})(Object(Ss.l)(ks((function(e){return Cs(e,"previous")}),(function(e,t){var n=Es(t).matches,r=os(t.selection.from,n,!0);return e.setSelection(as(e.selection,e.doc,r,n))}))))},Ns=function(e){var t=e.triggerMethod,n=e.replaceText;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.REPLACED_ONE,actionSubject:wt.b.TEXT,attributes:{triggerMethod:t}})(function(e){return Object(Ss.l)(ks((function(t){var n=Es(t),r=n.findText,o=n.decorationSet,i=n.matches,a=n.index;return o=As(t,is(a,i.length)),-1===e.toLowerCase().indexOf(r.toLowerCase())?(o=us(o,[i[a]],t.doc),i.splice(a,1),a>i.length-1&&(a=0)):a=is(a,i.length),{type:Tc.REPLACE,replaceText:e,decorationSet:o,matches:i,index:a}}),(function(t,n){var r=Es(n),o=r.matches,i=r.index,a=r.findText;if(o[i]){var c=o[i],s=c.start,u=c.end,l=is(i,o.length);t.insertText(e,s,u).setSelection(as(t.selection,t.doc,l,o,0===l?0:e.length-a.length))}return t})))}(n))},Ds=function(e){var t=e.replaceText;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.REPLACED_ALL,actionSubject:wt.b.TEXT})(function(e){return ks({type:Tc.REPLACE_ALL,replaceText:e,decorationSet:ft.b.empty,matches:[],index:0},(function(t,n){return Es(n).matches.forEach((function(n){t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t}))}(t))},Ls=function(e){var t=e.triggerMethod;return Object(Ot.c)({eventType:wt.e.UI,action:wt.a.DEACTIVATED,actionSubject:wt.b.FIND_REPLACE_DIALOG,attributes:{triggerMethod:t}})(ks((function(){return js.stop(),{type:Tc.CANCEL}})))},Bs=n(526),Fs=n.n(Bs),zs=n(236),Us=n(274),Hs=n.n(Us),Ws=n(688),Vs=n.n(Ws),qs=n(689),Gs=n.n(qs),Ks=n(687),$s=n.n(Ks),Ys=n(1224),Xs=Object(T.c)({marginLeft:"4px"}),Js=Object(T.c)({width:"100%",border:"none",backgroundColor:"".concat(Object(ot.a)("color.border",Ce.N30A)),margin:"4px 0px",height:"1px",borderRadius:"1px"}),Zs=Object(T.c)({display:"flex",flexDirection:"column","> *:not(#replace-hr-element)":{margin:"0px 4px"}}),Qs=Object(T.c)(ys||(ys=S()(["\n  display: flex;\n\n  & > * {\n    display: inline-flex;\n    height: 32px;\n    flex: 0 0 auto;\n  }\n\n  & > [data-ds--text-field--container] {\n    display: flex;\n    flex: 1 1 auto;\n  }\n"]))),eu=Object(T.c)({color:"".concat(Object(ot.a)("color.text.subtlest",Ce.N60)),fontSize:"".concat(Object(he.db)(12)),flex:"0 0 auto",justifyContent:"center",alignItems:"center",marginLeft:"4px",marginRight:"8px"}),tu=n(1092),nu=n(17),ru=n(1197);function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var au=function(e){b()(n,e);var t=iu(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"buttonRef",i.a.createRef()),E()(m()(e),"handleClick",(function(){e.props.onClick(e.buttonRef)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.keymapDescription,o=e.disabled,a=e.isPressed,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},"boolean"==typeof a&&{"aria-pressed":a});return i.a.createElement(tu.a,{content:i.a.createElement(nu.ToolTipContent,{description:t,keymap:Object(nu.findKeymapByDescription)(r)}),hideTooltipOnClick:!0,position:"top"},i.a.createElement(ru.a,_e()({label:t,appearance:"subtle",testId:t,ref:this.buttonRef,iconBefore:n,isDisabled:o,onClick:this.handleClick,isSelected:a,shouldFitContainer:!0},c)))}}]),n}(i.a.PureComponent);function cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(au,"defaultProps",{keymapDescription:"no-keymap"});var su=Object(ko.b)({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}}),uu=function(e){b()(n,e);var t=cu(n);function n(e){var r;d()(this,n),r=t.call(this,e),E()(m()(r),"findTextfieldRef",i.a.createRef()),E()(m()(r),"isComposing",!1),E()(m()(r),"syncFindText",(function(){var e;r.isComposing||r.props.findText===(null===(e=r.state)||void 0===e?void 0:e.localFindText)||r.updateFindValue(r.props.findText||"")})),E()(m()(r),"skipWhileComposing",(function(e){r.isComposing||e()})),E()(m()(r),"focusFindTextfield",(function(){var e=r.findTextfieldRef.current;r.props.shouldFocus&&e&&e.select()})),E()(m()(r),"handleFindChange",(function(e){r.updateFindValue(e.target.value)})),E()(m()(r),"updateFindValue",(function(e){r.setState({localFindText:e}),r.skipWhileComposing((function(){r.props.onFind(e)}))})),E()(m()(r),"handleFindKeyDown",(function(e){return r.skipWhileComposing((function(){"Enter"===e.key?e.shiftKey?r.props.onFindPrev({triggerMethod:wt.g.KEYBOARD}):r.props.onFindNext({triggerMethod:wt.g.KEYBOARD}):"ArrowDown"===e.key&&r.props.onArrowDown()}))})),E()(m()(r),"handleFindNextClick",(function(e){return r.skipWhileComposing((function(){r.props.onFindNext({triggerMethod:wt.g.BUTTON})}))})),E()(m()(r),"handleFindPrevClick",(function(e){return r.skipWhileComposing((function(){r.props.onFindPrev({triggerMethod:wt.g.BUTTON})}))})),E()(m()(r),"handleCompositionStart",(function(){r.isComposing=!0})),E()(m()(r),"handleCompositionEnd",(function(e){r.isComposing=!1,r.updateFindValue(e.target.value)})),E()(m()(r),"clearSearch",(function(){r.props.onCancel({triggerMethod:wt.g.BUTTON})})),E()(m()(r),"handleMatchCaseClick",(function(e){r.props.allowMatchCase&&r.props.onToggleMatchCase&&(r.props.onToggleMatchCase(),r.props.onFind(r.props.findText))}));var o=e.intl.formatMessage;return r.find=o(su.find),r.closeFindReplaceDialog=o(su.closeFindReplaceDialog),r.noResultsFound=o(su.noResultsFound),r.findNext=o(su.findNext),r.findPrevious=o(su.findPrevious),r.matchCase=o(su.matchCase),r.matchCaseIcon=Object(T.d)($s.a,{label:r.matchCase}),r.findNextIcon=Object(T.d)(Vs.a,{label:r.findNext}),r.findPrevIcon=Object(T.d)(Gs.a,{label:r.findPrevious}),r.closeIcon=Object(T.d)(Hs.a,{label:r.closeFindReplaceDialog}),r.state={localFindText:""},r}return p()(n,[{key:"componentDidMount",value:function(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield(),this.syncFindText()}},{key:"componentDidUpdate",value:function(){this.focusFindTextfield(),this.syncFindText()}},{key:"render",value:function(){var e=this.props,t=e.findText,n=e.count,r=e.allowMatchCase,o=e.shouldMatchCase,i=(0,e.intl.formatMessage)(su.resultsCount,{selectedMatchPosition:n.index+1,totalResultsCount:n.total});return Object(T.d)("div",{css:Qs},Object(T.d)(Ys.a,{name:"find",appearance:"none",placeholder:this.find,value:this.state.localFindText,ref:this.findTextfieldRef,autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),t&&Object(T.d)("span",{"data-testid":"textfield-count",css:eu},0===n.total?this.noResultsFound:i),r&&Object(T.d)(au,{title:this.matchCase,icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:o}),Object(T.d)(au,{title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:n.total<=1}),Object(T.d)(au,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:n.total<=1}),Object(T.d)(au,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}]),n}(i.a.Component),lu=Object(Ji.c)(uu);function du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var fu=Object(ko.b)({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",description:"Replace all instances of the word or phrase throughout the entire document"}}),pu=function(e){b()(n,e);var t=du(n);function n(e){var r;d()(this,n),r=t.call(this,e),E()(m()(r),"replaceTextfieldRef",i.a.createRef()),E()(m()(r),"skipWhileComposing",(function(e){r.state.isComposing||e()})),E()(m()(r),"handleReplaceClick",(function(){return r.skipWhileComposing((function(){r.props.onReplace({triggerMethod:wt.g.BUTTON,replaceText:r.state.replaceText})}))})),E()(m()(r),"handleReplaceChange",(function(e){return r.skipWhileComposing((function(){r.updateReplaceValue(e.target.value)}))})),E()(m()(r),"updateReplaceValue",(function(e){var t=r.props.dispatchAnalyticsEvent;t&&t({eventType:wt.e.TRACK,action:wt.a.CHANGED_REPLACEMENT_TEXT,actionSubject:wt.b.FIND_REPLACE_DIALOG}),r.setState({replaceText:e})})),E()(m()(r),"handleReplaceKeyDown",(function(e){return r.skipWhileComposing((function(){"Enter"===e.key?r.props.onReplace({triggerMethod:wt.g.KEYBOARD,replaceText:r.state.replaceText}):"ArrowUp"===e.key&&r.props.onArrowUp()}))})),E()(m()(r),"handleReplaceAllClick",(function(){return r.skipWhileComposing((function(){r.props.onReplaceAll({replaceText:r.state.replaceText})}))})),E()(m()(r),"handleCompositionStart",(function(){r.setState({isComposing:!0})})),E()(m()(r),"handleCompositionEnd",(function(e){r.setState({isComposing:!1}),r.updateReplaceValue(e.target.value)}));var o=e.replaceText,a=e.intl.formatMessage;return r.state={replaceText:o||"",isComposing:!1},r.replaceWith=a(fu.replaceWith),r.replace=a(fu.replace),r.replaceAll=a(fu.replaceAll),r}return p()(n,[{key:"componentDidMount",value:function(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}},{key:"componentDidUpdate",value:function(e){var t=e.replaceText,n=this.props.replaceText;n&&n!==t&&this.setState({replaceText:n,isComposing:!1})}},{key:"render",value:function(){var e=this.state.replaceText,t=this.props.canReplace;return Object(T.d)("div",{css:Qs},Object(T.d)(Ys.a,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:e,ref:this.replaceTextfieldRef,autoComplete:"off",onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),Object(T.d)(ru.a,{css:Xs,testId:this.replace,onClick:this.handleReplaceClick,isDisabled:!t},this.replace),Object(T.d)(ru.a,{css:Xs,testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!t},this.replaceAll))}}]),n}(i.a.PureComponent),hu=Object(Ji.c)(pu);function mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var vu,bu,gu,yu=function(e){b()(n,e);var t=mu(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"findTextfield",null),E()(m()(e),"replaceTextfield",null),E()(m()(e),"setFindTextfieldRef",(function(t){e.findTextfield=t.current})),E()(m()(e),"setReplaceTextfieldRef",(function(t){e.replaceTextfield=t.current})),E()(m()(e),"setFocusToFind",(function(){e.findTextfield&&e.findTextfield.focus()})),E()(m()(e),"setFocusToReplace",(function(){e.replaceTextfield&&e.replaceTextfield.focus()})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.findText,n=e.count,r=e.shouldFocus,o=e.onFind,i=e.onFindBlur,a=e.onFindNext,c=e.onFindPrev,s=e.onCancel,u=e.replaceText,l=e.onReplace,d=e.onReplaceAll,f=e.dispatchAnalyticsEvent,p=e.allowMatchCase,h=e.shouldMatchCase,m=e.onToggleMatchCase;return Object(T.d)("div",{css:Zs},Object(T.d)(lu,{allowMatchCase:p,shouldMatchCase:h,onToggleMatchCase:m,findText:t,count:n,shouldFocus:r,onFind:o,onFindBlur:i,onFindPrev:c,onFindNext:a,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:s,onArrowDown:this.setFocusToReplace}),Object(T.d)("hr",{css:Js,id:"replace-hr-element"}),Object(T.d)(hu,{canReplace:n.total>0,replaceText:u,onReplace:l,onReplaceAll:d,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:f}))}}]),n}(i.a.PureComponent);function Ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var wu,ku,Eu,xu,Su=Object(T.c)(vu||(vu=S()(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-grow: 0;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 8px;\n  @media (max-width: ","px) {\n    justify-content: center;\n    padding: 0;\n  }\n"])),he.A),ju=Object(T.c)(bu||(bu=S()(["\n  flex-grow: 1;\n"]))),Cu=Object(T.c)(gu||(gu=S()(["\n  display: flex;\n  flex-direction: column;\n"]))),Tu=Object(ko.b)({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}}),_u=function(e){b()(n,e);var t=Ou(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleKeydown",(function(e){e.metaKey&&"f"===e.key&&e.preventDefault()})),E()(m()(e),"toggleOpen",(function(){e.props.isActive?e.props.onCancel({triggerMethod:wt.g.TOOLBAR}):e.props.onActivate()})),e}return p()(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.isReducedSpacing,a=t.findText,c=t.replaceText,s=t.isActive,u=t.index,l=t.numMatches,d=t.intl.formatMessage,f=t.takeFullWidth,p=d(Tu.findReplaceToolbarButton),h=he.p-1;return Object(T.d)("div",{css:[Su,f&&ju]},Object(T.d)(zs.a,{mountTo:n,boundariesElement:r,scrollableElement:o,isOpen:s,handleEscapeKeydown:function(){s&&e.props.onCancel({triggerMethod:wt.g.KEYBOARD})},fitWidth:352,zIndex:h,trigger:Object(T.d)(qc.b,{buttonId:qc.a.FIND_REPLACE,spacing:i?"none":"default",selected:s,title:Object(T.d)(nu.ToolTipContent,{description:p,keymap:Object(nu.findKeymapByDescription)("Find")}),iconBefore:Object(T.d)(Fs.a,{label:p}),onClick:this.toggleOpen,"aria-expanded":s,"aria-haspopup":!0})},Object(T.d)("div",{css:Cu},Object(T.d)(yu,_e()({findText:a,replaceText:c,count:{index:u,total:l}},this.props)))))}}]),n}(i.a.PureComponent),Au=Object(Ji.c)(_u),Pu=function(e){var t=e.popupsBoundariesElement,n=e.popupsMountPoint,r=e.popupsScrollableElement,o=e.isToolbarReducedSpacing,a=e.editorView,c=e.containerElement,s=e.dispatchAnalyticsEvent;if(!a)return null;var u=function(e){var t=document.activeElement;a.focus(),e(),null==t||t.focus()},l=function(e){e(a.state,a.dispatch)},d=function(){u((function(){return l(Ps({triggerMethod:wt.g.TOOLBAR}))}))},f=function(e){u((function(){return l(Is({editorView:a,containerElement:c,keyword:e}))}))},p=function(e){var t=e.triggerMethod;u((function(){return l(Ms({triggerMethod:t}))}))},h=function(e){var t=e.triggerMethod;u((function(){return l(Rs({triggerMethod:t}))}))},m=function(e){var t=e.triggerMethod,n=e.replaceText;u((function(){return l(Ns({triggerMethod:t,replaceText:n}))}))},v=function(e){var t=e.replaceText;u((function(){return l(Ds({replaceText:t}))}))},b=function(){l(ks({type:Tc.BLUR}))},g=function(e){var t=e.triggerMethod;l(Ls({triggerMethod:t})),a.focus()},y=function(){l(ks({type:Tc.TOGGLE_MATCH_CASE}))},O=Object(oi.b)(a.state).findReplaceMatchCase;return i.a.createElement(Xa.a,{debounce:!1,plugins:{findReplaceState:Xc},render:function(a){var c=a.findReplaceState;return c?i.a.createElement(Au,{allowMatchCase:O,shouldMatchCase:c.shouldMatchCase,onToggleMatchCase:y,isActive:c.isActive,findText:c.findText,index:c.index,numMatches:c.matches.length,replaceText:c.replaceText,shouldFocus:c.shouldFocus,popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isReducedSpacing:!!o,dispatchAnalyticsEvent:s,onFindBlur:b,onCancel:g,onActivate:d,onFind:f,onFindNext:p,onFindPrev:h,onReplace:m,onReplaceAll:v,takeFullWidth:!!e.takeFullWidth}):null}})},Iu=Object(T.c)(wu||(wu=S()(["\n  display: flex;\n  margin-right: 8px;\n  flex-grow: 1;\n  justify-content: flex-end;\n  align-items: center;\n"]))),Mu=function(e){return Object(T.d)("div",{css:Iu,"data-testid":"before-primary-toolbar-components-plugin"},e.beforePrimaryToolbarComponents)},Ru=n(1077);function Nu(e){return"full-page"===e||"full-width"===e}!function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(ku||(ku={})),function(e){e[e.XXL=610]="XXL",e[e.XL=540]="XL",e[e.L=460]="L",e[e.M=450]="M",e[e.S=370]="S"}(Eu||(Eu={})),function(e){e[e.XXL=650]="XXL",e[e.XL=580]="XL",e[e.L=540]="L",e[e.M=490]="M",e[e.S=410]="S"}(xu||(xu={}));var Du,Lu=[{width:xu.XXL,size:ku.XXL},{width:xu.XL,size:ku.XL},{width:xu.L,size:ku.L},{width:xu.M,size:ku.M},{width:xu.S,size:ku.S}],Bu=[{width:Eu.XXL,size:ku.XXL},{width:Eu.XL,size:ku.XL},{width:Eu.L,size:ku.L},{width:Eu.M,size:ku.M},{width:Eu.S,size:ku.S}],Fu=function(e){return Nu(e)?Lu:Bu};function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Uu,Hu,Wu,Vu,qu,Gu,Ku,$u,Yu,Xu,Ju,Zu=Object(T.c)(Du||(Du=S()(["\n  display: flex;\n\n  @media (max-width: ","px) {\n    justify-content: space-between;\n  }\n"])),he.A),Qu=function(e){b()(n,e);var t=zu(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"shouldComponentUpdate",value:function(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,a=e.providerFactory,c=e.items,s=e.popupsMountPoint,u=e.popupsBoundariesElement,l=e.popupsScrollableElement,d=e.toolbarSize,f=e.disabled,p=e.isToolbarReducedSpacing,h=e.dispatchAnalyticsEvent,m=e.containerElement;return c&&c.length?Object(T.d)("div",{css:Zu},c.map((function(e,v){var b={key:v},g=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:a,appearance:t,popupsMountPoint:s,popupsBoundariesElement:u,popupsScrollableElement:l,disabled:f,toolbarSize:d,isToolbarReducedSpacing:p,containerElement:m,isLastItem:v===c.length-1,dispatchAnalyticsEvent:h,wrapperElement:null});return g&&i.a.cloneElement(g,b)}))):null}}]),n}(i.a.Component),el=function(e){return i.a.createElement(Qu,{items:e.items,editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,toolbarSize:e.toolbarSize,isToolbarReducedSpacing:e.toolbarSize<ku.XXL,containerElement:e.containerElement})},tl=Object(T.c)(Uu||(Uu=S()(["\n  width: 100%;\n  position: relative;\n  @media (max-width: ","px) {\n    grid-column: 1 / 2;\n    grid-row: 2;\n    width: calc(100% - 30px);\n    margin: 0 15px;\n  }\n"])),he.A),nl=function(e){var t,n,r=i.a.createRef(),a=i.a.useState(void 0),c=mr()(a,2),s=c[0],u=c[1],l=function(e,t){var n=t.skip,r=i.a.useState(void 0),o=mr()(r,2),a=o[0],c=o[1];return i.a.useEffect((function(){!n&&e.current&&c(Math.round(e.current.getBoundingClientRect().width))}),[n,c,e]),a}(r,{skip:void 0!==s}),d=void 0===s&&void 0===l?void 0:(t=s||l,n=e.appearance,(Fu(n).find((function(e){var n=e.width;return t>n}))||{size:ku.XXXS}).size),f=Object(o.useMemo)((function(){var t=function(e,t){return(Fu(t).find((function(t){var n=t.size;return e===n}))||{width:Eu.S}).width}(Nu(e.appearance)&&e.twoLineEditorToolbar?ku.S:ku.M,e.appearance),n="min-width: ".concat(e.hasMinWidth?t:"254","px");return[tl,n]}),[e.appearance,e.hasMinWidth,e.twoLineEditorToolbar]);return Object(T.d)("div",{css:f},Object(T.d)(Ru.a,{setWidth:u}),e.editorView&&d?Object(T.d)(el,_e()({},e,{toolbarSize:d})):Object(T.d)("div",{ref:r}))},rl=Object(T.c)(Hu||(Hu=S()(["\n  box-shadow: 0 ","px 0 0\n    ",";\n"])),he.T,Object(ot.a)("color.border",Ce.N30)),ol=Object(T.c)(Wu||(Wu=S()(["\n  @media (max-width: ","px) {\n    flex-wrap: wrap;\n    height: calc(","px * 2);\n  }\n"])),868,56),il=Object(T.c)(Vu||(Vu=S()(["\n  position: relative;\n  align-items: center;\n  box-shadow: none;\n  transition: box-shadow 200ms ",";\n  z-index: ",";\n  display: flex;\n  height: ","px;\n  flex-shrink: 0;\n  // TODO: https://product-fabric.atlassian.net/browse/DSP-4456\n  background-color: ",";\n\n  & object {\n    height: 0 !important;\n  }\n\n  @media (max-width: ","px) {\n    display: grid;\n    height: calc(","px * 2);\n  }\n"])),he.L,he.y,56,Object(ot.a)("elevation.surface","white"),he.A,56),al=Object(T.c)(qu||(qu=S()(["\n  margin: ","px;\n  height: ","px;\n  width: ","px;\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),2*Object(Ze.i)(),4*Object(Ze.i)(),4*Object(Ze.i)(),he.A),cl=Object(T.c)(Gu||(Gu=S()(["\n  display: flex;\n  flex-grow: 1;\n\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),he.A),sl=Object(T.c)(Ku||(Ku=S()(["\n  @media (max-width: ","px) {\n    flex: 1 1 100%;\n    height: ","px;\n    justify-content: flex-end;\n    // ED-10241: We add fit-content to ensure that MainToolbar does not\n    // shrink more than the size of its contents. This will prevent the\n    // find/replace icon from being overlapped during a confluence\n    // publish operation\n    min-width: fit-content;\n  }\n"])),868,56),ul=function(e){return[cl,e&&sl]},ll=Object(T.c)($u||($u=S()(["\n  // ED-10241: We add fit-content to ensure that MainToolbar does not\n  // shrink more than the size of its contents. This will prevent the\n  // find/replace icon from being overlapped during a confluence\n  // publish operation\n  min-width: fit-content;\n"]))),dl=Object(T.c)(Yu||(Yu=S()(["\n  @media (max-width: ","px) {\n    display: flex;\n    flex-grow: 1;\n    flex: 1 1 100%;\n    margin: auto;\n    height: ","px;\n    min-width: 0;\n  }\n"])),868,56),fl=function(e){return[ll,e&&dl]},pl=Object(T.c)(Xu||(Xu=S()(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n"]))),hl=Object(T.c)(Ju||(Ju=S()(["\n  align-items: center;\n  display: flex;\n"]))),ml=i.a.memo((function(e){var t,n,r,i,a,c,s,u,l,d=Object(o.useState)(!1),f=mr()(d,2),p=f[0],h=f[1],m=Object(T.d)("div",{css:pl},e.beforeIcon&&Object(T.d)("div",{css:al},e.beforeIcon),Object(T.d)(nl,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.primaryToolbarComponents,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,containerElement:e.containerElement,hasMinWidth:e.hasMinWidth,twoLineEditorToolbar:!(null===(t=e.featureFlags)||void 0===t||!t.twoLineEditorToolbar)})),v=Object(T.d)("div",{css:hl},null!==(n=e.featureFlags)&&void 0!==n&&n.twoLineEditorToolbar&&e.customPrimaryToolbarComponents&&"before"in e.customPrimaryToolbarComponents?Object(T.d)(Mu,{beforePrimaryToolbarComponents:e.customPrimaryToolbarComponents.before}):null,!0!==(null==e||null===(r=e.featureFlags)||void 0===r?void 0:r.showAvatarGroupAsPlugin)||null!==(i=e.featureFlags)&&void 0!==i&&i.twoLineEditorToolbar?Object(T.d)(Yc,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:null===(a=e.collabEdit)||void 0===a?void 0:a.inviteToEditComponent,inviteToEditHandler:null===(c=e.collabEdit)||void 0===c?void 0:c.inviteToEditHandler,isInviteToEditButtonSelected:null===(s=e.collabEdit)||void 0===s?void 0:s.isInviteToEditButtonSelected}):null,null!==(u=e.featureFlags)&&void 0!==u&&u.findReplace&&null!==(l=e.featureFlags)&&void 0!==l&&l.twoLineEditorToolbar?Object(T.d)(Pu,{popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,editorView:e.editorView,containerElement:e.containerElement,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent}):null,e.customPrimaryToolbarComponents&&"after"in e.customPrimaryToolbarComponents?e.customPrimaryToolbarComponents.after:e.customPrimaryToolbarComponents);return Object(o.useEffect)((function(){var t;if(null!==(t=e.featureFlags)&&void 0!==t&&t.twoLineEditorToolbar){var n=function(){h(window.innerWidth<=868)};return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}})),Object(T.d)(Yi,null,(function(t){var n,r,o,i,a,c=t.width;return Object(T.d)("div",{css:(i=e.showKeyline||c>0,a=!(null===(n=e.featureFlags)||void 0===n||!n.twoLineEditorToolbar),[il,i&&rl,a&&ol]),"data-testid":"ak-editor-main-toolbar"},Object(T.d)("div",{css:ul(!(null===(r=e.featureFlags)||void 0===r||!r.twoLineEditorToolbar)),role:"region","aria-label":e.intl.formatMessage(Ac.toolbarLabel)},p?v:m),Object(T.d)("div",{css:fl(!(null===(o=e.featureFlags)||void 0===o||!o.twoLineEditorToolbar)),"data-testid":"avatar-group-outside-plugin",role:"region","aria-label":e.intl.formatMessage(Ac.pageActionsLabel)},p?m:v))}))})),vl=Object(Ji.c)(ml);function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var gl=function(e){b()(n,e);var t=bl(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{showKeyline:!1}),E()(m()(e),"scrollContainer",null),E()(m()(e),"wrapperElementRef",i.a.createRef()),E()(m()(e),"contentAreaRef",(function(t){e.contentArea=t})),E()(m()(e),"scrollContainerRef",(function(t){var n=e.scrollContainer;n&&n.removeEventListener("scroll",e.updateToolbarKeyline),e.scrollContainer=t||null,e.scrollContainer&&(e.scrollContainer.addEventListener("scroll",e.updateToolbarKeyline,!1),e.updateToolbarKeyline())})),E()(m()(e),"updateToolbarKeyline",Object(ve.a)((function(){if(!e.scrollContainer)return!1;var t=e.scrollContainer.scrollTop>he.T;return t!==e.state.showKeyline&&e.setState({showKeyline:t}),!1}))),E()(m()(e),"handleResize",(function(){e.updateToolbarKeyline()})),e}return p()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this.updateToolbarKeyline.cancel()}},{key:"render",value:function(){var e,t=this.props,n=this.state.showKeyline,r=null!==(e=t.editorView)&&void 0!==e&&e.state?Object(oi.b)(t.editorView.state):void 0;return Object(T.d)(Xi,null,Object(T.d)("div",{css:Ri,className:"akEditor",ref:this.wrapperElementRef},Object(T.d)(vl,{appearance:t.appearance,beforeIcon:t.primaryToolbarIconBefore,collabEdit:t.collabEdit,containerElement:this.scrollContainer,customPrimaryToolbarComponents:t.customPrimaryToolbarComponents,disabled:!!t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,editorActions:t.editorActions,editorDOMElement:t.editorDOMElement,editorView:t.editorView,eventDispatcher:t.eventDispatcher,hasMinWidth:t.enableToolbarMinWidth,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,popupsScrollableElement:t.popupsScrollableElement,primaryToolbarComponents:t.primaryToolbarComponents,providerFactory:t.providerFactory,showKeyline:n,featureFlags:r}),Object(T.d)(Ic,{appearance:t.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:t.contentComponents,contextPanel:t.contextPanel,customContentComponents:t.customContentComponents,disabled:t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,editorActions:t.editorActions,editorDOMElement:t.editorDOMElement,editorView:t.editorView,eventDispatcher:t.eventDispatcher,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,popupsScrollableElement:t.popupsScrollableElement,providerFactory:t.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef,wrapperElement:this.wrapperElementRef.current})))}}]),n}(i.a.Component);E()(gl,"displayName","FullPageEditor");var yl=new dt.PluginKey("maxContentSizePlugin");var Ol,wl,kl,El,xl=function(e){return{name:"maxContentSize",pmPlugins:function(){return[{name:"maxContentSize",plugin:function(t){return function(e,t){if(t){var n=!1;return new Za.a({filterTransaction:function(r){var o=r.doc&&r.doc.nodeSize>t;return(o||o!==n)&&e(yl,{maxContentSizeReached:o}),n=o,!o}})}}(t.dispatch,e)}}]}}};function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var jl,Cl,Tl,_l=Object(T.e)(Ol||(Ol=S()(["\n  50% {\n    background-color: ",";\n  }\n"])),Object(ot.a)("color.blanket.danger",Ce.R100)),Al=Object(T.e)(wl||(wl=S()(["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"])),Object(ot.a)("color.blanket.danger",Ce.R100),Object(ot.a)("color.blanket.danger",Ce.R100)),Pl=Object(T.c)(kl||(kl=S()(["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: 'none';\n  }\n"])),Al),Il=Object(T.c)(El||(El=S()(["\n  ","\n\n  & > div {\n    animation: 0.25s ease-in-out ",";\n  }\n"])),Pl,_l),Ml=function(e){b()(n,e);var t=Sl(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"toggle",!1),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.animate,n=e.children;return this.toggle=t&&!this.toggle,Object(T.d)("div",{css:t?Il:Pl,className:this.toggle?"-flash":""},n)}}]),n}(i.a.Component);function Rl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Nl=Object(T.c)(jl||(jl=S()(["\n  line-height: 20px;\n  height: auto;\n\n  overflow-x: hidden;\n  overflow-y: auto;\n  ",";\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])),xn.g),Dl=Pi();Dl.displayName="ContentArea";var Ll=function(e){b()(n,e);var t=Rl(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"appearance","chromeless"),E()(m()(e),"containerElement",null),E()(m()(e),"renderChrome",(function(t){var n=t.maxContentSize,r=e.props,o=r.editorDOMElement,i=r.editorView,a=r.editorActions,c=r.eventDispatcher,s=r.providerFactory,u=r.contentComponents,l=r.customContentComponents,d=r.maxHeight,f=r.minHeight,p=void 0===f?30:f,h=r.popupsMountPoint,m=r.popupsBoundariesElement,v=r.popupsScrollableElement,b=r.disabled,g=r.dispatchAnalyticsEvent,y=Boolean(null==n?void 0:n.maxContentSizeReached);return Object(T.d)(Ml,{animate:y},Object(T.d)("div",{css:[Nl,d&&Object(T.c)(Cl||(Cl=S()(["\n                max-height: ","px;\n              "])),d),Object(T.c)(Tl||(Tl=S()(["\n              min-height: ","px;\n            "])),p)],"data-testid":"chromeless-editor",ref:function(t){return e.containerElement=t}},Object(T.d)(Dl,null,l,Object(T.d)(xc,{editorView:i,editorActions:a,eventDispatcher:c,providerFactory:s,appearance:e.appearance,items:u,popupsMountPoint:h,popupsBoundariesElement:m,popupsScrollableElement:v,containerElement:e.containerElement,disabled:!!b,dispatchAnalyticsEvent:g,wrapperElement:e.containerElement}),o)))})),e}return p()(n,[{key:"render",value:function(){return Object(T.d)(Xa.a,{plugins:{maxContentSize:yl},render:this.renderChrome})}}]),n}(i.a.Component);E()(Ll,"displayName","ChromelessEditorAppearance");var Bl,Fl,zl,Ul,Hl,Wl,Vl,ql,Gl,Kl=n(1199),$l=n(1222),Yl=n(77),Xl=n(103),Jl=n.n(Xl),Zl=Object(T.c)(Bl||(Bl=S()(["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n  background-color: ",";\n  box-shadow: none;\n  padding-left: ","px;\n\n  & > div {\n    > :first-child:not(style),\n    > style:first-child + * {\n      margin-left: 0;\n    }\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"])),Object(Ze.i)(),Object(Ze.i)(),Object(ot.a)("elevation.surface","white"),20),Ql=Object(T.c)(Fl||(Fl=S()(["\n  /* stylelint-disable declaration-block-no-duplicate-properties */\n  position: relative;\n  position: sticky;\n  /* stylelint-enable declaration-block-no-duplicate-properties */\n  padding-bottom: ","px;\n  z-index: ",";\n  transition: box-shadow ease-in-out 0.2s;\n  &.show-keyline {\n    box-shadow: 0 ","px 0 0\n      ",";\n  }\n"])),Object(Ze.i)(),he.t+he.y,he.T,Object(ot.a)("color.border",Ce.N30)),ed=function(e){var t=Object(o.useState)(0),n=mr()(t,2),r=n[0],i=n[1];return Object(o.useEffect)((function(){var t,n;i((null===(t=e.externalToolbarRef)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.clientHeight)||0)}),[i,e.externalToolbarRef]),Object(T.d)("div",{css:[Zl,Ql,Object(T.c)(zl||(zl=S()(["\n          top: ",";\n        "])),r)],"data-testid":"ak-editor-main-toolbar",className:"show-keyline"},e.children)},td=function(e){return Object(T.d)("div",{css:Zl,"data-testid":"ak-editor-main-toolbar"},e.children)},nd=function(e){var t=e.useStickyToolbar,n=e.children;return t?Object(T.d)(ed,{externalToolbarRef:"boolean"==typeof t?void 0:t},n):Object(T.d)(td,null,n)},rd=Object(T.c)(Ul||(Ul=S()(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"])),20);function od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var id=Object(T.c)(Hl||(Hl=S()(["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n\n  height: auto;\n  background-color: ",";\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"])),8,8,Object(ot.a)("color.background.input","white"),Object(ot.a)("color.border",Ce.N40),Object(Ze.d)()),ad=Pi(Object(T.c)(Wl||(Wl=S()(["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"])),14,14,2,2,2,20,Kn));ad.displayName="ContentArea";var cd=Object(T.c)(Vl||(Vl=S()(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"]))),sd=function(e){b()(n,e);var t=od(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"appearance","comment"),E()(m()(e),"containerElement",null),E()(m()(e),"wrapperElement",null),E()(m()(e),"handleSave",(function(){e.props.editorView&&e.props.onSave&&e.props.onSave(e.props.editorView)})),E()(m()(e),"handleCancel",(function(){e.props.editorView&&e.props.onCancel&&e.props.onCancel(e.props.editorView)})),E()(m()(e),"renderChrome",(function(t){var n=t.maxContentSize,r=t.mediaState,o=e.props,i=o.editorDOMElement,a=o.editorView,c=o.editorActions,s=o.eventDispatcher,u=o.providerFactory,l=o.contentComponents,d=o.customContentComponents,f=o.customPrimaryToolbarComponents,p=o.primaryToolbarComponents,h=o.customSecondaryToolbarComponents,m=o.popupsMountPoint,v=o.popupsBoundariesElement,b=o.popupsScrollableElement,g=o.maxHeight,y=o.minHeight,O=void 0===y?150:y,w=o.onSave,k=o.onCancel,E=o.disabled,x=o.dispatchAnalyticsEvent,j=o.intl,C=o.useStickyToolbar,_=Boolean(null==n?void 0:n.maxContentSizeReached),A=!!w||!!k||!!h;return Object(T.d)(Ml,{animate:_},Object(T.d)("div",{css:[id,Object(T.c)(ql||(ql=S()(["\n              min-height: ","px;\n            "])),O)],className:"akEditor",ref:function(t){return e.wrapperElement=t}},Object(T.d)(nd,{useStickyToolbar:C},Object(T.d)(nl,{editorView:a,editorActions:c,eventDispatcher:s,providerFactory:u,appearance:e.appearance,items:p,popupsMountPoint:m,popupsBoundariesElement:v,popupsScrollableElement:b,disabled:!!E,dispatchAnalyticsEvent:x,containerElement:e.containerElement}),Object(T.d)("div",{css:rd},f)),Object(T.d)(Ha,{editorView:a},Object(T.d)(Y.a,null,(function(t){var n=t.width;return Object(T.d)(ad,{ref:function(t){return e.containerElement=t},css:g?Object(T.c)(Gl||(Gl=S()(["\n                            max-height: ","px;\n                          "])),g):null,className:Jl()("ak-editor-content-area",{"less-margin":n<he.z})},d,Object(T.d)(xc,{editorView:a,editorActions:c,eventDispatcher:s,dispatchAnalyticsEvent:x,providerFactory:u,appearance:e.appearance,items:l,popupsMountPoint:m,popupsBoundariesElement:v,popupsScrollableElement:b,containerElement:e.containerElement,disabled:!!E,wrapperElement:e.wrapperElement}),i)}))),Object(T.d)(_c,{editorView:a})),A&&Object(T.d)("div",{css:cd,"data-testid":"ak-editor-secondary-toolbar"},Object(T.d)(Kl.a,null,!!w&&Object(T.d)($l.a,{appearance:"primary",onClick:e.handleSave,testId:"comment-save-button",isDisabled:E||r&&!r.allUploadsFinished},j.formatMessage(Nc.saveButton)),!!k&&Object(T.d)($l.a,{appearance:"subtle",onClick:e.handleCancel,isDisabled:E},j.formatMessage(Nc.cancelButton))),Object(T.d)("span",{style:{flexGrow:1}}),h))})),e}return p()(n,[{key:"render",value:function(){return Object(T.d)(Xa.a,{plugins:{maxContentSize:yl,mediaState:Yl.a},render:this.renderChrome})}}]),n}(i.a.Component);E()(sd,"displayName","CommentEditorAppearance");var ud,ld=Object(Ji.c)(sd);function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",e.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP",e.SET_IS_EXPANDED="SET_IS_EXPANDED"}(ud||(ud={}));var pd,hd=new dt.PluginKey("mobileDimensions"),md=Object(Jc.a)(hd,(function(e,t){switch(t.type){case ud.SET_KEYBOARD_HEIGHT:return fd(fd({},e),{},{keyboardHeight:t.keyboardHeight});case ud.SET_WINDOW_HEIGHT:return fd(fd({},e),{},{windowHeight:t.windowHeight});case ud.SET_MOBILE_PADDING_TOP:return fd(fd({},e),{},{mobilePaddingTop:t.paddingTop});case ud.SET_IS_EXPANDED:return fd(fd({},e),{},{isExpanded:t.isExpanded})}return e})),vd=md.createPluginState,bd=(md.getPluginState,md.createCommand);function gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var yd,Od=function(e){b()(n,e);var t=gd(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"clickElementRef",i.a.createRef()),E()(m()(e),"handleClick",(function(t){var n=e.props.editorView;n&&(La(n,t),t.clientY>n.dom.getBoundingClientRect().bottom&&(t.preventDefault(),e.clickElementRef.current&&e.clickElementRef.current.scrollIntoView(!1)))})),e}return p()(n,[{key:"render",value:function(){return Object(T.d)("div",{css:(e={isExpanded:this.props.isExpanded,minHeight:this.props.minHeight},t=e.isExpanded,n=e.minHeight,Object(T.c)(pd||(pd=S()(["\n  height: 100%;\n  ",";\n"])),t&&n?"min-height: ".concat(n,"px"):"")),className:"editor-click-wrapper",onClick:this.handleClick,ref:this.clickElementRef},this.props.children);var e,t,n}}]),n}(i.a.Component),wd=Object(T.c)(yd||(yd=S()(["\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"]))),kd=Pi();function Ed(e){var t=e.editorView,n=(e.maxHeight,e.persistScrollGutter),r=e.children,i=Object(o.useCallback)((function(e){var o=e.maxContentSize,i=e.mobileDimensions,a=Boolean(null==o?void 0:o.maxContentSizeReached),c=100,s=!0;if(i){var u=i.keyboardHeight,l=i.windowHeight,d=i.mobilePaddingTop,f=i.isExpanded;n?(c=l-d,s=f):c=l-u-2*d}return Object(T.d)(Ml,{animate:a},Object(T.d)("div",{css:wd},Object(T.d)(Od,{editorView:t||void 0,minHeight:c,persistScrollGutter:n,isExpanded:s},Object(T.d)(kd,null,Object(T.d)("div",{className:"ak-editor-content-area"},r)))))}),[r,t,n]);return Object(T.d)(Xa.a,{plugins:{maxContentSize:yl,mobileDimensions:hd},render:i})}function xd(e){var t=e.editorView,n=e.maxHeight,r=e.persistScrollGutter,o=e.editorDOMElement;return i.a.createElement(Ed,{editorView:t||null,maxHeight:n,persistScrollGutter:r},o,t&&i.a.createElement(_c,{editorView:t}))}kd.displayName="ContentArea";var Sd=n(422),jd=n(1201),Cd=function(){try{var e=(window.__buildInfo||{}).FRONTEND_VERSION,t=void 0===e?"":e;return"product-fabric.atlassian.net"===window.location.hostname&&t.includes("branch-deploy")}catch(e){return console.warn(e),!1}};var Td=n(148),_d=function(e){var t=e.dispatchAnalyticsEvent,n=e.pluginKey,r=function(){throw t&&t({action:wt.a.TRANSACTION_MUTATED_AFTER_DISPATCH,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{pluginKey:n||"unknown"}}),new Error("Setting an unsafe property on transaction after dispatch!")};return{get:function(e,t,n){return function(e){return["setSelection"].includes(e.toString())}(t)&&r(),Reflect.get(e,t,n)},set:function(e,t,n){return function(e){return["doc","docs","steps","selection"].includes(e.toString())}(t)&&r(),Reflect.set(e,t,n)}}},Ad=n(210),Pd=n.n(Ad),Id=n(159),Md=Object.keys,Rd=function(e,t){var n=null!==e?Md(e):[],r=null!==t?Md(t):[],o=n.filter((function(e){return!r.includes(e)}));return{added:r.filter((function(e){return!n.includes(e)})),common:n.filter((function(e){return r.includes(e)})),removed:o}},Nd=function(e){var t=gt()(e);return null===e?"null":void 0===e?"undefined":"string"===t||"number"===t?e:"symbol"===t?e.toString():"function"===t?"function:".concat(e.name):"object"===t?{type:"object",keys:Object.keys(e)}:void 0};function Dd(e){var t=e.onRender,n=e.propsDiffingOptions,r=e.zeroBasedCount,a=void 0===r||r,c=Object(o.useRef)(),s=Object(o.useRef)(a?0:1),u=Object(o.useRef)(Id.b.generate()).current;Object(o.useEffect)((function(){var e,r,o,a,l,d,f,p=c.current,h=s.current;null!=n&&n.enabled&&p&&(e=null!=n&&n.useShallow?(r=p,o=n.props,a=Rd(r,o),l=a.added,d=a.common,f=a.removed,{added:l,changed:d.filter((function(e){return r[e]!==o[e]})),removed:f}):function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=Rd(t,n),s=c.added,u=c.common,l=c.removed,d=[];return u.forEach((function(c){var s=t[c],u=n[c],l=gt()(s),f=gt()(u);if(s!==u&&-1===a.indexOf(c))if(i.a.isValidElement(s)||i.a.isValidElement(u))d.push({key:c,reactElementChanged:!0});else if("object"===l&&"object"===f)if(r<=o){var p=e(s,u,r+1,o);d.push({key:c,difference:p})}else d.push({key:c,maxDepthReached:!0});else d.push({key:c,oldValue:Nd(s),newValue:Nd(u)})})),{added:s,changed:d,removed:l}}(p,n.props,0,2,null==n?void 0:n.propsToIgnore)),t({renderCount:h,propsDifference:e,componentId:u}),null!=n&&n.enabled&&(c.current=n.props),s.current=s.current+1}))}function Ld(e){var t=Object(o.useMemo)((function(){return Pd()(e.handleAnalyticsEvent,500)}),[e.handleAnalyticsEvent]);return Dd({onRender:function(n){var r=n.renderCount,o=n.propsDifference;r&&t({payload:{action:e.action,actionSubject:e.actionSubject,attributes:{count:r,propsDifference:o},eventType:wt.e.OPERATIONAL}})},propsDiffingOptions:{enabled:!0,props:e.componentProps,propsToIgnore:e.propsToIgnore,useShallow:e.useShallow},zeroBasedCount:!0}),null}var Bd=n(102),Fd=n(28),zd=n(1187),Ud=n(244),Hd=n(1070),Wd=n(402),Vd=n.n(Wd),qd=n(403),Gd=n.n(qd),Kd=["codeBlock","layoutSection","expand"];function $d(e){return-1!==Kd.indexOf(e.type.name)}function Yd(e){if(e instanceof dt.NodeSelection&&$d(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth};var t=Object(Qi.findParentNode)($d)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}function Xd(e){return function(t,n){var r=Yd(t.selection);if(!r)return!1;var o=t.tr.setNodeMarkup(r.pos,r.node.type,r.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return o.setMeta("scrollIntoView",!1),t.selection instanceof dt.NodeSelection&&t.selection.$anchor.pos===r.pos&&o.setSelection(dt.NodeSelection.create(o.doc,r.pos)),n&&n(o),!0}}function Jd(){return function(e,t){var n=Yd(e.selection);if(!n)return!1;var r=n.node.marks.filter((function(e){return"breakout"!==e.type.name})),o=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,r);return o.setMeta("scrollIntoView",!1),e.selection instanceof dt.NodeSelection&&e.selection.$anchor.pos===n.pos&&o.setSelection(dt.NodeSelection.create(o.doc,n.pos)),t&&t(o),!0}}var Zd,Qd=new dt.PluginKey("breakoutPlugin");function ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var tf=Object(T.c)(Zd||(Zd=S()(["\n  && button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: "," !important;\n    }\n  }\n"])),Object(ot.a)("color.background.neutral",Ce.N20A),Object(ot.a)("color.icon",Ce.N300),Object(ot.a)("color.background.neutral.hovered",Ce.B300),Object(ot.a)("color.icon","white")),nf={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};var rf=function(e){b()(n,e);var t=ef(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleClick",(function(t){return function(){var n=e.props.editorView,r=n.state,o=n.dispatch;-1!==[nf.WIDE,nf.FULL_WIDTH].indexOf(t)?Xd(t)(r,o):Jd()(r,o)}})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.mountPoint,r=e.boundariesElement,o=e.scrollableElement,i=e.editorView,a=e.node,c=i.state;if(!a||!function(e){if(!e.schema.marks.breakout)return!1;var t=Yd(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}(c))return null;var s,u=function(e){var t=Yd(e.selection);if(t){var n=t.node.marks.find((function(e){return"breakout"===e.type.name}));if(n)return n.attrs.mode}}(i.state),l=function(e){switch(e){case nf.FULL_WIDTH:return Nc.layoutFixedWidth;case nf.WIDE:return Nc.layoutFullWidth;default:return Nc.layoutWide}}(u),d=t(l),f=(s=u)===nf.FULL_WIDTH?nf.CENTER:s===nf.WIDE?nf.FULL_WIDTH:nf.WIDE,p=function(e,t,n){return t instanceof dt.NodeSelection&&$d(t.node)?Object(Qi.findDomRefAtPos)(t.from,n.domAtPos.bind(n)):Object(Qi.findParentDomRefOfType)(e.breakoutNode.type,n.domAtPos.bind(n))(t)}(function(e){return Qd.getState(e)}(c),c.selection,i);if(!p)return null;var h=p.querySelector(".".concat(Lo));return h&&h.firstChild&&(p=h.firstChild),Object(T.d)(Hd.a,{ariaLabel:d,target:p,offset:[5,0],alignY:"start",alignX:"end",mountTo:n,boundariesElement:r,scrollableElement:o,stick:!0,forcePlacement:!0,scheduleExtraLayoutUpdates:!0,waitForExtraLayoutUpdates:!0},Object(T.d)("div",{css:tf},Object(T.d)(qc.b,{title:d,testId:l.id,onClick:this.handleClick(f),iconBefore:u===nf.FULL_WIDTH?Object(T.d)(Vd.a,{label:d}):Object(T.d)(Gd.a,{label:d})})))}}]),n}(i.a.Component);E()(rf,"displayName","LayoutButton");var of=Object(Ji.c)(rf);function af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?af(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sf=function(){function e(t,n,r){var o=this;d()(this,e),E()(this,"updateWidth",(function(e){if(0!==e.width){var t=Object(Ud.b)(o.node.attrs.mode,e.width),n="width: ".concat(t,"; "),r=e.lineLength,i=Object(Zi.e)(t);if(r&&i)n+="transform: none; margin-left: ".concat(-(i-r)/2,"px;");else n+="transform: translateX(-50%); margin-left: 50%;";var a=o.view.domObserver;a&&o.view.dom&&(a.stop(),setTimeout((function(){a.start()}),0)),void 0!==o.dom.style.cssText?o.dom.style.cssText=n:o.dom.setAttribute("style",n)}}));var i=document.createElement("div");i.className=Lo;var a=document.createElement("div");a.className=Do,a.setAttribute("data-layout",t.attrs.mode),a.appendChild(i),this.dom=a,this.node=t,this.view=n,this.contentDOM=i,this.eventDispatcher=r,r.on(tc.key,this.updateWidth),this.updateWidth(tc.getState(this.view.state))}return p()(e,[{key:"destroy",value:function(){this.eventDispatcher.off(tc.key,this.updateWidth)}}]),e}();function uf(e){var t=e.dispatch,n=e.eventDispatcher;return new Za.a({state:{init:function(){return{breakoutNode:null}},apply:function(e,n){var r,o,i=Yd(e.selection),a=i?i.node:null;if(r=a,o=n.breakoutNode,r&&o?!r.eq(o):r||o){var c=cf(cf({},n),{},{breakoutNode:a});return t(Qd,c),c}return n}},key:Qd,props:{nodeViews:{breakout:function(e,t){return new sf(e,t,n)}}}})}var lf=function(e){return{name:"breakout",pmPlugins:function(){return[{name:"breakout",plugin:uf}]},marks:function(){return[{name:"breakout",mark:zd.a}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=t.popupsScrollableElement;return e&&!e.allowBreakoutButton?null:i.a.createElement(Xa.a,{plugins:{pluginState:Qd},render:function(e){var t,c=e.pluginState;return i.a.createElement(of,{editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:a,node:null!==(t=null==c?void 0:c.breakoutNode)&&void 0!==t?t:null})}})}}},df=n(1185),ff=n(213),pf=function(e){return function(t,n){var r=t.schema,o=r.nodes,i=o.paragraph,a=o.heading,c=r.marks.alignment;return Object(ff.b)([Ra(e),Da(c,(function(){return e?"start"!==e&&{align:e}:void 0}),[i,a])])(t,n)}},hf=function(e){if(e.selection instanceof Oa.a){var t=[];return e.selection.forEachCell((function(n){var r=n.firstChild.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];t.push(r?r.attrs.align:"start")})),t.every((function(e){return e===t[0]}))?t[0]:"start"}var n=Object(Qi.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),r=n&&n.node.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];return r&&r.attrs.align||"start"};function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bf=new dt.PluginKey("alignmentPlugin");function gf(e,t){return new Za.a({key:bf,state:{init:function(e,n){return function(e,t){return{align:hf(e)||t.align,isEnabled:!0}}(n,t)},apply:function(t,n,r,o){var i,a=hf(o),c=(i=a,function(e,t){var n=e.schema,r=n.nodes,o=r.paragraph,a=r.heading,c=n.marks.alignment;return Da(c,(function(){return i?"start"!==i&&{align:i}:void 0}),[o,a])(e,t)})(o),s=vf(vf({},n),{},{align:a,isEnabled:c});return a===n.align&&c===n.isEnabled||e(bf,s),s}}})}var yf=n(141),Of=n.n(yf),wf=n(397),kf=n.n(wf),Ef=n(701),xf=n.n(Ef),Sf=n(702),jf=n.n(Sf),Cf=n(184),Tf=Object(ko.b)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Text alignment",description:"Opens drop down menu of options to configure text alignment"},alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"label stating that text is aligned left"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align Right",description:"label stating that text is aligned right"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align Center",description:"label stating that text is aligned center"}}),_f={start:{Component:kf.a,label:Tf.alignLeft},end:{Component:xf.a,label:Tf.alignRight},center:{Component:jf.a,label:Tf.alignCenter}},Af=function(e){var t=_f[e.alignment],n=t.Component,r=t.label,o=Object(Cf.a)();return i.a.createElement(n,{label:o.formatMessage(r)})};function Pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var If,Mf=function(e){b()(n,e);var t=Pf(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value;t.preventDefault(),r(o)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.isSelected,r=e.content,o=e.shortcut;return i.a.createElement(qc.b,{disabled:!1,selected:n,title:i.a.createElement(nu.ToolTipContent,{description:t,keymap:o}),"aria-label":t,"aria-pressed":n,onClick:this.onClick,iconBefore:r})}}]),n}(o.PureComponent),Rf=n(404),Nf=Object(T.c)(If||(If=S()(["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: ","px;\n"])),Object(Ze.i)(),96);function Df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Lf,Bf,Ff,zf,Uf=[{title:Rf.a.alignLeft,shortcut:nu.alignLeft,value:"start"},{title:Rf.a.alignCenter,value:"center"},{title:Rf.a.alignRight,shortcut:nu.alignRight,value:"end"}],Hf=function(e){b()(n,e);var t=Df(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.selectedAlignment,r=e.className,o=e.intl;return Object(T.d)("div",{css:Nf,className:r},Uf.map((function(e){var r=e.value,i=e.title,a=e.shortcut,c=o.formatMessage(i);return Object(T.d)(Mf,{content:Object(T.d)(Af,{alignment:r}),key:r,value:r,label:c,shortcut:a,onClick:t,isSelected:r===n})})))}}]),n}(o.PureComponent),Wf=Object(Ji.c)(Hf),Vf=Object(T.c)(Lf||(Lf=S()(["\n  display: flex;\n"]))),qf=Object(T.c)(Bf||(Bf=S()(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),Object(ot.a)("color.border",Ce.N30)),Gf=Object(T.c)(Ff||(Ff=S()(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),Kf=Object(T.c)(zf||(zf=S()(["\n  margin-left: -8px;\n"])));function $f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Yf=function(e){b()(n,e);var t=$f(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{isOpen:!1}),E()(m()(e),"changeAlignment",(function(t){return e.toggleOpen(),e.props.changeAlignment(t)})),E()(m()(e),"toggleOpen",(function(){e.handleOpenChange({isOpen:!e.state.isOpen})})),E()(m()(e),"handleOpenChange",(function(t){var n=t.isOpen;e.setState({isOpen:n})})),E()(m()(e),"hide",(function(){e.state.isOpen&&e.setState({isOpen:!1})})),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.state.isOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,i=n.popupsScrollableElement,a=n.isReducedSpacing,c=n.pluginState,s=n.disabled,u=n.intl.formatMessage(Tf.alignment);return Object(T.d)("span",{css:Gf},Object(T.d)(zs.a,{mountTo:r,boundariesElement:o,scrollableElement:i,isOpen:t,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:112,fitHeight:80,trigger:Object(T.d)(qc.b,{spacing:a?"none":"default",disabled:s,selected:t,title:u,className:"align-btn","aria-label":u,"aria-expanded":t,"aria-haspopup":!0,onClick:this.toggleOpen,iconBefore:Object(T.d)("div",{css:Vf},Object(T.d)(Af,{alignment:c.align}),Object(T.d)("span",{css:Kf},Object(T.d)(Of.a,{label:""})))})},Object(T.d)(Wf,{onClick:function(t){return e.changeAlignment(t)},selectedAlignment:c.align})),Object(T.d)("span",{css:qf}))}}]),n}(i.a.Component);E()(Yf,"displayName","AlignmentToolbar");for(var Xf=Object(Ji.c)(Yf),Jf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qf="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),ep="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),tp="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),np="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),rp="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),op=Qf&&(np||+Qf[1]<57)||tp&&np,ip=0;ip<10;ip++)Jf[48+ip]=Jf[96+ip]=String(ip);for(ip=1;ip<=24;ip++)Jf[ip+111]="F"+ip;for(ip=65;ip<=90;ip++)Jf[ip]=String.fromCharCode(ip+32),Zf[ip]=String.fromCharCode(ip);for(var ap in Jf)Zf.hasOwnProperty(ap)||(Zf[ap]=Jf[ap]);function cp(e){var t=!(op&&(e.ctrlKey||e.altKey||e.metaKey)||(ep||rp)&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Zf:Jf)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}var sp="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function up(e){var t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var c=0;c<i.length-1;c++){var s=i[c];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else if(/^s(hift)?$/i.test(s))r=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);sp?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function lp(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function dp(e){return new dt.Plugin({props:{handleKeyDown:fp(e)}})}function fp(e){var t=function(e){var t=Object.create(null);for(var n in e)t[up(n)]=e[n];return t}(e);return function(e,n){var r,o=cp(n),i=1==o.length&&" "!=o,a=t[lp(o,n,!i)];if(a&&a(e.state,e.dispatch,e))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=Jf[n.keyCode])&&r!=o){var c=t[lp(r,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}else if(i&&n.shiftKey){var s=t[lp(o,n,!0)];if(s&&s(e.state,e.dispatch,e))return!0}return!1}}var pp={align:"start"},hp=function(){return{name:"alignment",marks:function(){return[{name:"alignment",mark:df.a}]},pmPlugins:function(){return[{name:"alignmentPlugin",plugin:function(e){return gf(e.dispatch,pp)}},{name:"annotationKeymap",plugin:function(){return e={},Object(nu.bindKeymapWithCommand)(nu.alignLeft.common,pf("start"),e),Object(nu.bindKeymapWithCommand)(nu.alignRight.common,pf("end"),e),dp(e);var e}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,a=e.disabled,c=e.isToolbarReducedSpacing;return i.a.createElement(Xa.a,{plugins:{align:bf},render:function(e){var s=e.align;return i.a.createElement(Xf,{pluginState:s,isReducedSpacing:c,changeAlignment:function(e){return pf(e)(t.state,t.dispatch)},disabled:a||!s.isEnabled,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})}}},mp=n(1176);new dt.PluginKey("dataConsumerMarkPlugin");var vp=function(){return{name:"dataConsumerPlugin",marks:function(){return[{name:"dataConsumer",mark:mp.a}]}}},bp=n(1179);function gp(e,t){var n=e[t];return n||console.warn("Text color palette does not have an internationalization message for color ".concat(t.toUpperCase(),".\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n")),n}var yp=Object(ko.b)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"}}),Op=n(252),wp=function(e,t){var n=e.toLowerCase().replace(" ","-"),r=gp(yp,n);return{value:t,label:e,border:Op.a,message:r}},kp=[],Ep=[];bp.a.forEach((function(e,t){kp.push(wp(e,t))})),bp.b.forEach((function(e,t){Ep.push(wp(e,t))}));var xp,Sp={color:Ce.N800.toLowerCase(),label:"Dark gray"},jp=function(e){var t,n=e.selection,r=n.$from,o=n.$to,i=n.$cursor,a=e.schema.marks.textColor,c=[];i?c.push(a.isInSet(e.storedMarks||i.marks())||void 0):e.doc.nodesBetween(r.pos,o.pos,(function(e){if(e.isLeaf){var t=a.isInSet(e.marks)||void 0;return c.push(t),!t}return!0}));var s=(c=c.filter((function(e){return(!e||!t||e.attrs.color!==t.attrs.color)&&(t=e,!0)}))).filter((function(e){return!!e}));return s.length>1||1===s.length&&c.length>1?null:s.length?s[0].attrs.color:Sp.color},Cp=n(181),Tp=function(e){var t,n,r,o=e.schema.marks.textColor;if(o){var i=e.selection,a=i.empty,c=i.ranges,s=i.$cursor;return!!(a&&!s||s&&(t=s,n=t.doc.type.schema.marks.link,r=t.pos,n&&t.doc.rangeHasMark(r,Math.min(r+1,t.doc.content.size),n))||!1===Object(Cp.a)(e.doc,c,o))||!!Object(Cp.b)(o,e.storedMarks||s&&s.marks())}return!0};function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(xp||(xp={}));var Pp=new dt.PluginKey("textColorPlugin");function Ip(e,t){return new Za.a({key:Pp,state:{init:function(e,n){return function(e,t){var n=(null==t?void 0:t.defaultColor)||Sp,r=[{value:n.color,label:n.label,border:Op.a}].concat(D()(Ep));return{color:jp(e),disabled:Tp(e),palette:r,defaultColor:n.color}}(n,t)},apply:function(t,n,r,o){var i,a=t.getMeta(Pp)||{};switch(a.action){case xp.RESET_COLOR:i=Ap(Ap({},n),{},{color:n.defaultColor});break;case xp.SET_COLOR:i=Ap(Ap({},n),{},{color:a.color,disabled:!1});break;case xp.DISABLE:i=Ap(Ap({},n),{},{disabled:!0});break;default:i=Ap(Ap({},n),{},{color:jp(o),disabled:Tp(o)})}return n&&n.color!==i.color||n&&n.disabled!==i.disabled?(e(Pp,i),i):n}}})}var Mp=n(365);var Rp,Np,Dp,Lp=function(e){return function(t,n){var r,o,i,a,c,s,u;if(t.schema.marks.textColor){var l=Pp.getState(t),d=jp(t),f=(r=e,o=d,i=l.paletteExpanded||l.palette,a=i.find((function(e){return e.value===r})),c=i.find((function(e){return e.value===o})),s=a?a.label:r,u=c?c.label:o||"",Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_COLOR,eventType:wt.e.TRACK,attributes:{newColor:s.toLowerCase(),previousColor:u.toLowerCase()}}));return!l.disabled&&(e===l.defaultColor?(f((function(e,t){var n=e.schema,r=e.selection,o=n.marks.textColor,i=e.tr;if(r instanceof dt.TextSelection){var a=r.from,c=r.to,s=r.$cursor;i=s?e.tr.removeStoredMark(o):e.tr.removeMark(a,c,o)}return r instanceof Oa.a&&r.forEachCell((function(e,t){var n=t,r=t+e.nodeSize;i.doc.nodesBetween(i.mapping.map(n),i.mapping.map(r),(function(e,t){if(!e.isText)return!0;var a=Math.max(t,i.mapping.map(n)),c=Math.min(t+e.nodeSize,i.mapping.map(r));return i.removeMark(a,c,o),!0}))})),t&&t(i.setMeta(Pp,{action:xp.RESET_COLOR})),!0}))(t,n),!0):(f(function(e){return function(t,n){var r=t.schema.marks.textColor,o=t.tr;return Tp(t)?(n&&n(o.setMeta(Pp,{action:xp.DISABLE})),!1):(n&&(t.tr.setMeta(Pp,{action:xp.SET_COLOR,color:e}),t.tr.scrollIntoView(),Object(Ss.i)(r,{color:e})(t,n)),!0)}}(e))(t,n),!0))}return!1}},Bp=n(436),Fp=function(e){return i.a.createElement("svg",_e()({},e,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}),i.a.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"}))},zp=function(){return i.a.createElement(Bp.b,{glyph:Fp,label:""})},Up=function(e){return"\n    linear-gradient(\n      to right,\n      ".concat(e.map((function(t,n){var r=100/e.length,o=n+1;return 0===n?"".concat(t," ").concat(o*r,"%,"):n===e.length-1?"".concat(t," ").concat((o-1)*r,"%"):"\n            ".concat(t," ").concat((o-1)*r,"%,\n            ").concat(t," ").concat(o*r,"%,\n          ")})).join("\n"),"\n    );\n    ")},Hp=Up([Ce.P300,Ce.T300,Ce.Y400,Ce.R400]),Wp=Up([Ce.N80,Ce.N60,Ce.N40,Ce.N60]),Vp=Object(T.c)(Rp||(Rp=S()(["\n  position: relative;\n"]))),qp=Object(T.c)(Np||(Np=S()(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n  background: ",";\n"])),Object(Ze.d)()+"px",Hp),Gp=Object(T.c)(Dp||(Dp=S()(["\n  background: ",";\n"])),Wp);function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kp(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Xp,Jp=Object(ko.b)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""}}),Zp=function(e){b()(n,e);var t=Yp(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{isOpen:!1}),E()(m()(e),"changeColor",(function(t){return Lp(t)(e.props.editorView.state,e.props.editorView.dispatch)})),E()(m()(e),"changeTextColor",(function(t,n){if(!n){var r=e.props.pluginState,o=r.palette,i=r.paletteExpanded,a=r.defaultColor,c=(i||o).find((function(e){return e.value===t})),s=t!==a&&!kp.some((function(e){return e.value===t}));return e.dispatchAnalyticsEvent(e.buildAnalyticsSelectColor({color:(c?c.label:t).toLowerCase(),isNewColor:s})),e.handleOpenChange({isOpen:!1,logCloseEvent:!1}),e.changeColor(t)}return!1})),E()(m()(e),"toggleOpen",(function(){e.handleOpenChange({isOpen:!e.state.isOpen,logCloseEvent:!0})})),E()(m()(e),"handleOpenChange",(function(t){var n=t.isOpen,r=t.logCloseEvent;e.setState({isOpen:n}),r&&e.dispatchAnalyticsEvent(e.buildAnalyticsPalette(n?wt.a.OPENED:wt.a.CLOSED,{noSelect:!1===n}))})),E()(m()(e),"hide",(function(t){!0===e.state.isOpen&&(e.dispatchAnalyticsEvent(e.buildAnalyticsPalette(wt.a.CLOSED,{noSelect:!0})),e.setState({isOpen:!1}))})),e}return p()(n,[{key:"render",value:function(){var e,t=this,n=this.state.isOpen,r=this.props,o=r.popupsMountPoint,i=r.popupsBoundariesElement,a=r.popupsScrollableElement,c=r.isReducedSpacing,s=r.pluginState,u=r.pluginState.paletteExpanded,l=r.intl.formatMessage,d=r.disabled,f=l(Jp.textColor),p=u||s.palette;document.body.clientWidth<=740&&(e=242);var h=s.color!==s.defaultColor&&s.color;return Object(T.d)("span",{css:xn.l},Object(T.d)(zs.a,{mountTo:o,boundariesElement:i,scrollableElement:a,isOpen:n&&!s.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,zIndex:he.y,fitWidth:e,trigger:Object(T.d)(qc.b,{buttonId:qc.a.TEXT_COLOR,spacing:c?"none":"default",disabled:d||s.disabled,selected:n,"aria-label":f,"aria-expanded":n,"aria-haspopup":!0,title:f,onClick:this.toggleOpen,iconBefore:Object(T.d)("div",{css:xn.j},Object(T.d)("div",{css:Vp},Object(T.d)(zp,null),Object(T.d)("div",{css:[qp,h?"background: ".concat(h,";"):s.disabled&&Gp]})),Object(T.d)("span",{css:xn.f},Object(T.d)(Of.a,{label:""})))})},Object(T.d)("div",{"data-testid":"text-color-palette"},Object(T.d)(Mp.a,{palette:p,onClick:function(e){return t.changeTextColor(e,s.disabled)},selectedColor:s.color}))),Object(T.d)("span",{css:xn.h}))}},{key:"getCommonAnalyticsAttributes",value:function(){return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:"control"}}},{key:"buildAnalyticsPalette",value:function(e,t){return{action:e,actionSubject:wt.b.TOOLBAR,actionSubjectId:wt.c.FORMAT_COLOR,eventType:wt.e.TRACK,attributes:$p($p({},this.getCommonAnalyticsAttributes()),t)}}},{key:"buildAnalyticsSelectColor",value:function(e){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_COLOR,eventType:wt.e.TRACK,attributes:$p($p({},this.getCommonAnalyticsAttributes()),e)}}},{key:"dispatchAnalyticsEvent",value:function(e){var t=this.props.dispatchAnalyticsEvent;t&&t(e)}}]),n}(i.a.Component),Qp=Object(Ji.c)(Zp),eh=function(e){return{name:"textColor",marks:function(){return[{name:"textColor",mark:bp.c}]},pmPlugins:function(){return[{name:"textColor",plugin:function(t){return Ip(t.dispatch,function(e){if(e&&"boolean"!=typeof e)return e}(e))}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,a=e.isToolbarReducedSpacing,c=e.dispatchAnalyticsEvent,s=e.disabled;return i.a.createElement(Xa.a,{plugins:{textColor:Pp},render:function(e){var u=e.textColor;return i.a.createElement(Qp,{pluginState:u,isReducedSpacing:a,editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o,dispatchAnalyticsEvent:c,disabled:s})}})}}},th=n(582);function nh(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function rh(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}function oh(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function ih(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function ah(e){var t=e.type.schema.nodes.bulletList;if(!t)return!1;var n=ya.Fragment.from(t.createAndFill());return!oh(e)&&e.type.validContent(n)}!function(e){e[e.LEFT=1]="LEFT",e[e.RIGHT=-1]="RIGHT"}(Xp||(Xp={}));var ch=function(e){var t=e.tr,n=e.direction,r=e.forceListType,o={orderedList:0,bulletList:0},i=t.doc,a=t.selection,c=a.$from,s=a.$to,u=t.selection,l=c.blockRange(s,ah);if(!l)return o;var d=i.nodeAt(l.start),f=nh(d)?l.start:0,p=nh(d)?l.end:t.doc.content.size,h=[];if(i.nodesBetween(f,p,(function(e,o,a){var c=i.resolve(o),s=c.nodeBefore,u=c.nodeAfter;if(s&&u&&nh(s)&&nh(u)){var l=oh(a);if(l||s.type===u.type||r){var d=c.index(),p=c.posAtIndex(d-1),m=c.posAtIndex(d),v=p>=f||s.type===r;if(r&&(v&&t.setNodeMarkup(p,r),t.setNodeMarkup(m,r)),l&&s.type!==u.type){var b=n===Xp.RIGHT?u.type:s.type;t.setNodeMarkup(p,b)}v&&h.push(o)}}})),u.empty&&d&&nh(d)){var m=i.resolve(l.start+d.nodeSize),v=m.nodeBefore,b=m.nodeAfter;v&&b&&nh(v)&&nh(b)&&b.type===v.type&&h.push(m.pos)}for(var g=h.length-1;g>=0;g--){var y=t.doc.nodeAt(h[g]),O=null==y?void 0:y.type.name;if(O&&("orderedList"===O||"bulletList"===O)){var w=o[O]||0;o[O]=w+1}t.join(h[g])}return o},sh=function(e){return"paragraph"===e.parent.type.name},uh=function(e){var t=e.node(-1);return oh(e.parent)||nh(e.parent)||oh(t)},lh=function(e,t){var n=t.$from,r=t.$to,o=n.blockRange(r);return!!o&&!!Object(pt.k)(o,e)},dh=function(e){var t=e.selection.$from.parent,n=e.schema.nodes.listItem;return e.selection instanceof ra.a?oh(t):Object(Qi.hasParentNodeOfType)(n)(e.selection)&&rh(t)},fh=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return!!Object(Qi.findParentNodeOfType)([n,r])(e.selection)},ph=function(e){var t=e.selection.$from,n=e.doc.resolve(t.pos-1),r=n?n.nodeBefore:null;return e.selection instanceof ra.a&&(r=t.nodeBefore),nh(r)},hh=function(e){for(var t=0,n=e.depth-1;n>0;n--){nh(e.node(n))&&(t+=1)}return t},mh=function(e){var t=hh(e)-1,n=Object(Qi.findParentNodeClosestToPos)(e,oh);return{indentLevel:t,itemIndex:e.index(n?n.depth-1:void 0)}},vh=function(e){var t=e.selection;e.doc;if(t.empty)return t;var n=t.$from,r=t.$to;if(t instanceof dt.NodeSelection){var o=bh(n);return new dt.TextSelection(o,o)}var i=bh(n),a=gh(r);return new dt.TextSelection(a,i)},bh=function(e){var t=e.blockRange(e,oh);return t&&0===e.textOffset&&t.end-1===e.pos?dt.Selection.near(e.doc.resolve(t.end+1),1).$from:e},gh=function(e){var t=e.blockRange(e,oh);return t&&0===e.textOffset&&t.start+1===e.pos?dt.Selection.near(e.doc.resolve(t.start-1),-1).$to:e};function yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wh=new dt.PluginKey("listPlugin"),kh=wh,Eh={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:ft.b.empty},xh=function(e){var t=[],n=[];return e.nodesBetween(0,e.content.size,(function(e,r){if(n.length>0)for(var o=!0;o&&n.length>0;){var i=n[n.length-1];(o=r>=i.startPos+i.node.nodeSize)&&n.pop()}if(nh(e)){n.push({node:e,startPos:r});var a=r,c=r+e.nodeSize,s=n.length;t.push(ft.a.node(a,c,{"data-indent-level":"".concat(s)})),e.childCount>=100&&t.push(ft.a.node(a,c,{"data-child-count":"100+"}))}})),ft.b.empty.add(e,t)},Sh=function(e,t){var n=e.doc.type.schema.nodes,r=n.bulletList,o=n.orderedList,i=Object(Qi.findParentNodeOfType)([r,o])(e.selection),a=!!i&&i.node.type===r,c=!!i&&i.node.type===o,s=!(a||c||lh(r,e.selection)),u=!(a||c||lh(o,e.selection));return a!==t.bulletListActive||c!==t.orderedListActive||s!==t.bulletListDisabled||u!==t.orderedListDisabled?Oh(Oh({},t),{},{bulletListActive:a,orderedListActive:c,bulletListDisabled:s,orderedListDisabled:u}):t},jh=Object(Jc.a)(wh,(function(e){return e}),{onDocChanged:function(e,t){var n=Sh(e,t),r=xh(e.doc);return Oh(Oh({},n),{},{decorationSet:r})},onSelectionChanged:Sh}),Ch=jh.getPluginState,Th=jh.createPluginState,_h=function(e){return Oh(Oh({},Eh),{},{decorationSet:xh(e.doc)})},Ah=function(){};Ah.prototype.append=function(e){return e.length?(e=Ah.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Ah.prototype.prepend=function(e){return e.length?Ah.from(e).append(this):this},Ah.prototype.appendInner=function(e){return new Ih(this,e)},Ah.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Ah.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Ah.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Ah.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Ah.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Ah.from=function(e){return e instanceof Ah?e:e&&e.length?new Ph(e):Ah.empty};var Ph=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Ah);Ah.empty=new Ph([]);var Ih=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Ah),Mh=Ah;class Rh{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,c=e.tr,s=[],u=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void u.push(e);if(n){u.push(new Nh(e.map));let t,o=e.step.map(n.slice(r));o&&c.maybeStep(o).doc&&(t=c.mapping.maps[c.mapping.maps.length-1],s.push(new Nh(t,void 0,void 0,s.length+u.length))),r--,t&&n.appendMap(t,r)}else c.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new Rh(this.items.slice(0,o).append(u.reverse().concat(s)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:a,transform:c,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,c=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let s,u=e.steps[n].invert(e.docs[n]),l=new Nh(e.mapping.maps[n],u,t);(s=c&&c.merge(l))&&(l=s,n?o.pop():a=a.slice(0,a.length-1)),o.push(l),t&&(i++,t=void 0),r||(c=l)}let s=i-n.depth;return s>Lh&&(a=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(a,s),i-=s),new Rh(a.append(o),i)}remapping(e,t){let n=new pt.a;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new Rh(this.items.append(e.map(e=>new Nh(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},r);let c=t;this.items.forEach(t=>{let r=o.getMirror(--c);if(null==r)return;i=Math.min(i,r);let s=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(c+1,r));u&&a++,n.push(new Nh(s,i,u))}else n.push(new Nh(s))},r);let s=[];for(let e=t;e<i;e++)s.push(new Nh(o.maps[e]));let u=this.items.slice(0,r).append(s).append(n),l=new Rh(u,a);return l.emptyItemCount()>500&&(l=l.compress(this.items.length-n.length)),l}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let c=i.selection&&i.selection.map(t.slice(n));c&&o++;let s,u=new Nh(a.invert(),e,c),l=r.length-1;(s=r.length&&r[l].merge(u))?r[l]=s:r.push(u)}}else i.map&&n--},this.items.length,0),new Rh(Mh.from(r.reverse()),o)}}Rh.empty=new Rh(Mh.empty,0);class Nh{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Nh(t.getMap().invert(),t,this.selection)}}}class Dh{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const Lh=20;function Bh(e){let t=[];return e.forEach((e,n,r,o)=>t.push(r,o)),t}function Fh(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function zh(e,t,n,r){let o=Wh(t),i=qh.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(!a)return;let c=a.selection.resolve(a.transform.doc),s=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new Dh(r?s:a.remaining,r?a.remaining:s,null,0);n(a.transform.setSelection(c).setMeta(qh,{redo:r,historyState:u}).scrollIntoView())}let Uh=!1,Hh=null;function Wh(e){let t=e.plugins;if(Hh!=t){Uh=!1,Hh=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Uh=!0;break}}return Uh}function Vh(e){return e.setMeta(Gh,!0)}const qh=new dt.PluginKey("history"),Gh=new dt.PluginKey("closeHistory");function Kh(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new dt.Plugin({key:qh,state:{init:()=>new Dh(Rh.empty,Rh.empty,null,0),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(qh);if(i)return i.historyState;n.getMeta(Gh)&&(e=new Dh(e.done,e.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(qh))return a.getMeta(qh).redo?new Dh(e.done.addTransform(n,void 0,r,Wh(t)),e.undone,Bh(n.mapping.maps[n.steps.length-1]),e.prevTime):new Dh(e.done,e.undone.addTransform(n,void 0,r,Wh(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new Dh(e.done.rebased(n,o),e.undone.rebased(n,o),Fh(e.prevRanges,n.mapping),e.prevTime):new Dh(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Fh(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),i=a?Fh(e.prevRanges,n.mapping):Bh(n.mapping.maps[n.steps.length-1]);return new Dh(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,Wh(t)),Rh.empty,i,n.time)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?$h:"historyRedo"==n?Yh:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const $h=(e,t)=>{let n=qh.getState(e);return!(!n||0==n.done.eventCount)&&(t&&zh(n,e,t,!1),!0)},Yh=(e,t)=>{let n=qh.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&zh(n,e,t,!0),!0)};function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zh=function(e){var t=e.rules,n=e.pluginKey,r=e.allowInsertTextOnDocument,o=e.onInputEvent,i=e.onBeforeRegexMatch;return function(e){var a=e.view,c=e.from,s=e.to,u=e.text;if(a.composing)return!1;var l=a.state,d=l.doc.resolve(c);if(d.parent.type.spec.code)return!1;if(o&&!o({state:l,from:c,to:s}))return!1;var f=d.parent.textBetween(Math.max(0,d.parentOffset-500),d.parentOffset,void 0,"")+u,p=function(e){for(var t=e.rules,n=e.textBefore,r=(e.from,e.to),o=e.state,i=0;i<t.length;i++){var a=t[i],c=a.match.exec(n);if(c){var s=o.selection.$from.start(),u=Math.max(0,o.selection.$from.parentOffset-500),l=Math.max(s+c.index+u,1);if(a.handler(o,c,l,r))return{from:l,to:r,matchedRule:Jh(Jh({},a),{},{result:c})}}}return null}({rules:t,textBefore:f,from:c,to:s,state:l});if(!p)return!1;var h=r?l.tr.insertText(u,c,s):l.tr;return h.setMeta("input_rule_plugin_transaction",!0),h.setMeta(n,{textInserted:u,from:p.from,to:p.to,matchedRule:p.matchedRule}),i&&i(h),a.dispatch(h),!0}};function Qh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n?void 0:n.onInputEvent,o=null==n?void 0:n.onBeforeRegexMatch,i=Boolean(null==n?void 0:n.allowInsertTextOnDocument),a=new dt.PluginKey("inputRulePlugin__".concat(e)),c=Zh({allowInsertTextOnDocument:i,pluginKey:a,rules:t,onInputEvent:r,onBeforeRegexMatch:o}),s=new Za.a({key:a,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(a);return n||(e.selectionSet||e.docChanged?null:t)}},appendTransaction:function(e,t,n){var r=e.find((function(e){return e.getMeta(a)})),o=null==r?void 0:r.getMeta(a);if(!o||!r)return null;var i=o.matchedRule,c=o.from,s=o.to,u=i.result,l=r.mapping.map(s),d=i.handler(n,u,c,l);return d?(d.setMeta("input_rule_plugin_transaction",!0),i.onHandlerApply&&i.onHandlerApply(n,d,i.result),d):null},props:{handleTextInput:function(e,t,n,r){return c({view:e,from:t,to:n,text:r})},handleDOMEvents:{compositionend:function(e){return setTimeout((function(){var t=e.state.selection;if(t instanceof dt.TextSelection){var n=t.$cursor;n&&c({view:e,from:n.pos,to:n.pos,text:""})}})),!1}}},isInputRules:!0});return s}class em{constructor(e,t){var n;this.match=e,this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){let i=n;if(t[1]){let e=t[0].lastIndexOf(t[1]);i+=t[0].slice(e+t[1].length);let n=(r+=e)-o;n>0&&(i=t[0].slice(e-n,e)+i,r=o)}return e.tr.insertText(i,r,o)}):t}}function tm({rules:e}){let t=new dt.Plugin({state:{init:()=>null,apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(n,r,o,i)=>nm(n,r,o,i,e,t),handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&nm(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function nm(e,t,n,r,o,i){if(e.composing)return!1;let a=e.state,c=a.doc.resolve(t);if(c.parent.type.spec.code)return!1;let s=c.parent.textBetween(Math.max(0,c.parentOffset-500),c.parentOffset,null,"")+r;for(let c=0;c<o.length;c++){let u=o[c].match.exec(s),l=u&&o[c].handler(a,u,t-(u[0].length-r.length),n);if(l)return e.dispatch(l.setMeta(i,{transform:l,from:t,to:n,text:r})),!0}return!1}new em(/--$/,""),new em(/\.\.\.$/,""),new em(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new em(/"$/,""),new em(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new em(/'$/,"");function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var im=function(e){return function(t){return om(om({},t),{},{onHandlerApply:function(n,r,o){var i="function"==typeof e?e(n,o):e;Object(Ot.a)(n,r,i),t.onHandlerApply&&t.onHandlerApply(n,r,o)}})}},am=function(e,t){return{match:e,handler:t,onHandlerApply:function(e,t){Vh(t)}}},cm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isBlockNodeRule,o=void 0!==r&&r,i=n.allowInsertTextOnDocument,a=void 0===i||i,c=n.useUnpredictableInputRule,s=void 0===c||c;if(s)return fm(e,t,o);var u=function(e){var t=e.state,n=e.from,r=e.to,i=o?["code","link","typeAheadQuery"]:["code"];return!(t.selection.$from.parent.type.spec.code||!(t.selection instanceof dt.TextSelection)||lm(t,n,r,i)||o&&dm(t,i))};return Qh(e,t,{allowInsertTextOnDocument:a,onInputEvent:u,onBeforeRegexMatch:function(e){Vh(e)}})},sm=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs;return am(t,(function(e,t,o,i){var a=Math.max(o,1),c=e.doc.resolve(a),s=r instanceof Function?r(t):r,u=c.node(-1);return u&&!u.canReplaceWith(c.index(-1),c.indexAfter(-1),n)?null:e.tr.delete(a,i).setBlockType(a,a,n,s)}))},um=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs,o=e.joinPredicate;return am(t,(function(e,t,i,a){var c=(r instanceof Function?r(t):r)||{},s=e.tr,u=Math.max(i,1);s.delete(u,a);var l=s.doc.resolve(u).blockRange(),d=l&&Object(pt.k)(l,n,c);if(!d||!l)return null;var f=s.mapping.map(l.start),p=s.doc.nodeAt(f),h=d[d.length-1];if(p&&h){var m=h.type.allowedMarks(p.marks)||[];s.setNodeMarkup(f,p.type,p.attrs,m)}s.wrap(l,d);var v=s.doc.resolve(u-1).nodeBefore;return v&&v.type===n&&Object(pt.h)(s.doc,u-1)&&(!o||o(t,v))&&s.join(u-1),s}))},lm=function(e,t,n,r){var o=e.doc.resolve(t),i=e.doc.resolve(n);return((t===n?o.marks():o.marksAcross(i))||[]).some((function(e){return(r||[]).includes(e.type.name)}))},dm=function(e,t){var n,r,o=e.selection;if(!(o instanceof dt.TextSelection))return!1;var i=o.$cursor;return Boolean(null==i||null===(n=i.nodeBefore)||void 0===n||null===(r=n.marks)||void 0===r?void 0:r.some((function(e){return t.includes(e.type.name)})))};function fm(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code||e.type===o.link||e.type===o.typeAheadQuery};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i},o=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i},i=function(e){var t=e.handler.bind(e);return e.handler=function(e,i,a,c){var s=n?r(e,a,c):o(e,a,c);return!e.selection.$from.parent.type.spec.code&&e.selection instanceof dt.TextSelection&&!s?t(e,i,a,c):null},e},a=function(e){var t=e.handler.bind(e);return e.handler=function(e,n,r,o){var i=e.selection.$from.start(),a=Math.max(0,e.selection.$from.parentOffset-500),c=Math.max(i+n.index+a,1);return t(e,n,c,o)},e},c=function(e){return function(t){if(!e)return t;var n=t.handler.bind(t);return t.handler=function(t,r,o,i){var a=n(t,r,o,i);return a&&e&&e(t,a,r),a},t}},s=function(e,t,n){var r=new em(e,t);return[i,a,c(n)].reduce((function(e,t){return t(e)}),r)},u=t.map((function(e){var t=e.match,n=e.handler,r=e.onHandlerApply;return s(t,n,r)})),l=tm({rules:u});return l}function pm(e){var t=e.listType,n=e.expression,r="bulletList"===t.name?wt.c.FORMAT_LIST_BULLET:wt.c.FORMAT_LIST_NUMBER,o={action:wt.a.INSERTED,actionSubject:wt.b.LIST,actionSubjectId:r,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.FORMATTING}},i=um({match:n,nodeType:t,getAttrs:{},joinPredicate:function(e,n){return n.type===t}});return im(o)(i)}var hm=n(78);function mm(e){return e.content}function vm(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],o=0,i=e.childCount;o<i;o++){var a=e.child(o),c=a.isLeaf?t(a,n,o):t(a.copy(vm(a.content,t,a)),n,o);c&&(c instanceof ya.Fragment?r.push.apply(r,D()(mm(c))):Array.isArray(c)?r.push.apply(r,D()(c)):r.push(c))}return ya.Fragment.fromArray(r)}function bm(e,t){var n=vm(e.content,t);return new ya.Slice(n,e.openStart,e.openEnd)}function gm(e,t){for(var n=[],r=0;r<e.childCount;r++){var o=t(e.child(r),r,e);Array.isArray(o)?n.push.apply(n,D()(o)):n.push(o)}return ya.Fragment.fromArray(n)}function ym(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof ya.Fragment?e:e.content));return n}var Om=function(e){for(var t=e.depth,n=e.depth;n>0;n--){var r=e.node(n);if(nh(r)&&(t=n),!oh(r)&&!nh(r))break}return t-1},wm=function(e){var t,n=e.tr,r=e.maxIndentation,o=hh(n.selection.$from),i=n.selection.$to.pos;do{var a=n.doc.resolve(i);if((t=hh(a))>r)return!1;i++}while(t>=o);return!0};function km(e,t){var n=e.$from,r=e.$to,o=t.doc.type.schema.nodes.listItem,i=n.blockRange(r,(function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===o}));if(!i||i.depth<2||n.node(i.depth-1).type!==o)return t;var a=i.end,c=r.end(i.depth);return a<c&&(t.step(new pt.b(a-1,c,a,c,new ya.Slice(ya.Fragment.from(o.create(void 0,i.parent.copy())),1,0),1,!0)),i=new ya.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(c),i.depth)),t.lift(i,Object(pt.n)(i)).scrollIntoView()}var Em,xm=/^\s*[\*\-\u2022](\s+|\s+$)/,Sm=/^\s*\d[\.\)](\s+|$)/,jm=function(e,t,n){var r,o=n.nodes,i=o.hardBreak,a=o.bulletList,c=o.orderedList,s=ym(e.content,(function(e){return e})),u=[a,c],l=s.map((function(e,r){var o=function(e,t){if(!e.text)return null;var n=t.nodes,r=n.bulletList,o=n.orderedList;return[{node:r,matcher:xm},{node:o,matcher:Sm}].reduce((function(t,n){if(t)return t;var r=e.text.match(n.matcher);return r?[n.node,r[0].length]:t}),null)}(e,n),a=r>0&&s[r-1];if(a&&a.type!==i)return e;if(!o||!e.text)return e;var c=mr()(o,2),u=c[0],l=c[1],d=e.text.substr(l),f=n.nodes.listItem.createAndFill(void 0,n.nodes.paragraph.createChecked(void 0,d.length?n.text(d):void 0));if(!f)return e;var p=u.createChecked(void 0,[f]);return t&&!t.type.validContent(ya.Fragment.from(p))?e:p})).filter((function(e,t,n){return e.type!==i?e:t>0&&u.indexOf(n[t-1].type)>-1||t<n.length-1&&u.indexOf(n[t+1].type)>-1?null:e})),d=dt.EditorState.create({schema:n});Object(hm.a)((function(e,t){if(!t)return!1;var n=l.some((function(e){return e.type===a||e.type===c}));return!(l.some((function(e){return e.isText}))&&!n)&&(t(e.tr.replaceWith(0,2,l)),!0)}),(function(e,t){return nh(e)&&nh(t)}))(d,(function(e){r=e}));var f=r?r.doc.content:ya.Fragment.from(l),p=n.nodes.paragraph;return p.validContent(f)?ya.Fragment.from(p.create(e.attrs,f,e.marks)):f},Cm=function(e){var t=e.fragment,n=e.blockMarks,r=void 0===n?[]:n,o=e.schema,i=[],a=[],c=null,s=o.nodes,u=s.hardBreak,l=s.paragraph;return t.forEach((function(e,t){return 0===t&&e.type===u?(i.push(l.createChecked(void 0,a,D()(r))),void(c=e)):c&&c.type===u&&e.type===u?(a.pop(),i.push(l.createChecked(void 0,a,D()(r))),void(a=[])):(a.push(e),void(c=e))})),a.length&&i.push(l.createChecked(void 0,a,D()(r))),ya.Fragment.from(i.length?i:[l.createAndFill(void 0,void 0,D()(r))])},Tm=function(e){var t=e.selection,n=t.$from,r=t.$to,o=mh(n),i=mh(r);return{itemIndexAtSelectionStart:o.itemIndex,itemIndexAtSelectionEnd:i.itemIndex,indentLevelAtSelectionStart:o.indentLevel,indentLevelAtSelectionEnd:i.indentLevel,itemsInSelection:_m(e)}},_m=function(e){var t=e.selection,n=t.from,r=t.to;if(n===r)return 1;var o=0,i=e.doc.cut(n,r);return i.content.nodesBetween(0,i.content.size,(function(e,t,n,r){n&&oh(n)&&!nh(e)&&0===r&&o++})),o},Am=n(1208),Pm=(Em={},E()(Em,Am.b.JOIN_SIBLINGS,(function(e,t,n,r){var o=r.node(-1);if(!o.firstChild)return!1;var i=r.before(-1),a=r.after(-1),c=n.pos-1,s=n.pos,u=r.parent.content,l=o.content.cut(o.firstChild.nodeSize);return Object(Ss.d)(e,(function(e){return e.doc.resolve(c)}),[[u,c],[l,s]],[[i,a]]),t&&t(e),!0})),E()(Em,Am.b.JOIN_DESCENDANT_TO_PARENT,(function(e,t,n,r){var o=r.node(-2),i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var a=r.before(-2),c=r.before(-1),s=n.after(),u=r.after(-2),l=r.after(-1),d=r.start(-2),f=nh(i.lastChild),p=1===o.childCount&&!f,h=n.pos,m=s,v=d,b=r.parent.content,g=f?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),y=i.lastChild.content;return Object(Ss.d)(e,(function(e){return e.doc.resolve(h)}),f?[[b,h],[g,m],[y,v]]:[[b,h],[g,m]],[p?[a,u]:[c,l]]),t&&t(e),!0})),E()(Em,Am.b.JOIN_TO_SIBLING_DESCENDANT,(function(e,t,n,r,o){if(!o)return!1;var i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var a=r.parent,c=r.before(-1),s=o.after(),u=r.after(-1),l=nh(i.lastChild),d=o.pos,f=s,p=n.pos-1,h=a.content,m=l?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),v=i.lastChild.content;return Object(Ss.d)(e,(function(e){return e.doc.resolve(d)}),l?[[h,d],[m,f],[v,p]]:[[h,d],[m,f]],[[c,u]]),t&&t(e),!0})),Em),Im=function(e,t){var n=e.tr,r=e.selection.$head,o=Object(Ss.k)(r);if(!Object(Ss.f)(e))return!1;var i=function(e,t,n){var r=e.$pos,o=e.foundNode,i=uh(r),a=sh(t),c=0===t.index(-1),s=uh(t);if(!(o&&i&&a&&c&&s))return!1;if(sh(r))return[Am.b.JOIN_DESCENDANT_TO_PARENT,null];var u,l=r.parent.lastChild&&nh(r.parent.lastChild),d=rh(r.parent.lastChild),f=n.doc.resolve(r.pos);do{var p=Object(Ss.k)(f);f=p.$pos,u=p.foundNode}while(u&&!f.parent.isTextblock);var h=sh(f);return u&&l&&h?[Am.b.JOIN_TO_SIBLING_DESCENDANT,f]:!!d&&[Am.b.JOIN_SIBLINGS,null]}(o,r,n);if(!i)return!1;var a=e.schema.nodes,c=a.bulletList,s=a.orderedList,u=Object(Qi.findParentNodeOfType)([c,s])(n.selection),l=wt.c.FORMAT_LIST_BULLET;return u&&u.node.type===s&&(l=wt.c.FORMAT_LIST_NUMBER),Object(Ot.a)(e,n,{action:wt.a.LIST_ITEM_JOINED,actionSubject:wt.b.LIST,actionSubjectId:l,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,direction:Am.a.BACKWARD,scenario:i[0]}}),Pm[i[0]](n,t,o.$pos,r,i[1])},Mm=function(e){var t=e.tr,n=e.$next,r=e.$head;if(r.parent.content.size<1)return Object(Ss.d)(t,(function(e){return e.doc.resolve(r.pos)}),[],[[r.pos-1,r.pos]]),!0;var o=r.pos,i=t.doc.nodeAt(n.pos-1),a=t.doc.nodeAt(n.pos);if(!i||!a)return!1;var c=a.firstChild;if(!c)return!1;var s=a.lastChild,u=c.firstChild,l=Rm(a)&&c.childCount<2&&n.nodeAfter,d=!Rm(a)&&s&&nh(s),f=[],p=[];if(Rm(i)&&Rm(a)&&n.nodeAfter&&p.push([t.mapping.map(n.pos-1),t.mapping.map(n.pos+n.nodeAfter.nodeSize+1)]),d){var h=ya.Fragment.from(s.content);f.push([h,t.mapping.map(n.pos)])}if(l||d){p.push([t.mapping.map(n.pos),t.mapping.map(n.pos+a.nodeSize-1)]);var m=ya.Fragment.from(c.content);return f.push([m,o]),Object(Ss.d)(t,(function(e){return e.doc.resolve(r.pos)}),f,p),!0}if(a.childCount>1)return f.push([ya.Fragment.from(c.content),o]),p.push([t.mapping.map(n.pos+1),t.mapping.map(n.pos+c.nodeSize+1)]),Object(Ss.d)(t,(function(e){return e.doc.resolve(r.pos)}),f,p),!0;if(u&&"hardBreak"===u.type.name){var v=u?u.nodeSize:0;p.push([t.mapping.map(n.pos+2),t.mapping.map(n.pos+2+v)])}else{f.push([ya.Fragment.from(c.content),o]);var b=c.nodeSize;p.push([t.mapping.map(n.pos),t.mapping.map(n.pos+2+b)])}return Object(Ss.d)(t,(function(e){return e.doc.resolve(r.pos)}),f,p),!0},Rm=function(e){return 1===e.childCount},Nm=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.before(),a=n.after(),c=r.pos,s=o.content;return Object(Ss.d)(t,(function(e){return e.doc.resolve(c)}),[[s,c]],[[i,a]]),!0},Dm=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.nodeAfter;if(!i||!i.lastChild)return!1;var a=i.firstChild;if(!a)return!1;var c=n.before(),s=n.pos,u=r.after(),l=n.after(),d=t.doc.resolve(n.pos+1).after(),f=nh(i.lastChild),p=1===o.childCount&&!f,h=r.pos,m=u,v=n.pos,b=a.content,g=f?i.content.cut(a.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(a.nodeSize),y=i.lastChild.content;return Object(Ss.d)(t,(function(e){return e.doc.resolve(h)}),f?[[b,h],[g,m],[y,v]]:[[b,h],[g,m]],[p?[c,l]:[s,d]]),!0},Lm=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.nodeAfter;if(!i)return!1;var a=n.before(),c=n.after(),s=r.end(-1),u=r.pos,l=s,d=i.content,f=o.content.cut(i.nodeSize);return Object(Ss.d)(t,(function(e){return e.doc.resolve(u)}),[[d,u],[f,l]],[[a,c]]),!0},Bm=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent;if(!o.firstChild||!o.lastChild)return!1;var i=n.before(),a=n.before(),c=n.after(),s=nh(o.lastChild),u=r.pos,l=r.pos+1,d=a-2,f=o.firstChild.content,p=s?o.content.cut(o.firstChild.nodeSize,o.nodeSize-o.lastChild.nodeSize-2):o.content.cut(o.firstChild.nodeSize),h=o.lastChild.content;return Object(Ss.d)(t,(function(e){return e.doc.resolve(u)}),s?[[f,u],[p,l],[h,d]]:[[f,u],[p,l]],[[i,c]]),!0};function Fm(e){var t=null;if(nh(e.doc.nodeAt(e.pos)))t=e.pos;else{var n=Object(Qi.findParentNodeClosestToPos)(e,nh);t=n&&n.pos}if(null==t)return null;var r=e.doc.nodeAt(t);return r?{node:r,pos:t}:null}function zm(e){var t=oh(e.doc.nodeAt(e.pos))?e:Object(Qi.findParentNodeClosestToPos)(e,oh);if(!t||null===t.pos)return null;var n=e.doc.nodeAt(t.pos);return n?{node:n,pos:t.pos}:null}var Um=function(e){var t=e.tr,n=e.nextListNodeType,r=t.selection,o=t.selection,i=o.from,a=o.to,c=[];r instanceof dt.TextSelection&&r.$cursor?c.push(i):t.doc.nodesBetween(i,a,(function(e,t){if(!e.isLeaf)return!0;c.push(t)})),c.reduce((function(e,n){var r=Object(Qi.findParentNodeClosestToPos)(t.doc.resolve(n),nh);return r?(e.find((function(e){return e.pos===r.pos&&e.start===r.start&&e.depth===r.depth}))||e.push(r),e):e}),[]).forEach((function(e){t.setNodeMarkup(e.pos,n)}))},Hm=function(e){for(var t=e.tr,n=e.nextListNodeType,r=e.nodeRange,o=r.endIndex-1;o>=r.startIndex;o--){var i=r.$from.posAtIndex(o,r.depth),a=t.doc.resolve(i+1),c=a.blockRange(a);if(!c)return;var s=Object(pt.k)(c,n);if(!c||!s)return;t.wrap(c,s)}};function Wm(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}for(var r=[],o=0;o<e.mapping.maps.length;o++){for(var i=e.mapping.maps[o],a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var c=[],s=0;s<r.length;s+=2)for(var u=r[s],l=r[s+1],d=e.doc.resolve(u),f=d.sharedDepth(l),p=d.node(f),h=d.indexAfter(f),m=d.after(f+1);m<=l;++h){var v=p.maybeChild(h);if(!v)break;if(h&&-1===c.indexOf(m)){var b=p.child(h-1);b.type===v.type&&t(b,v)&&c.push(m)}m+=v.nodeSize}c.sort((function(e,t){return e-t}));for(var g=c.length-1;g>=0;g--)Object(pt.h)(e.doc,c[g])&&e.join(c[g])}function Vm(e,t){var n,r;(n=e,function(e){var t=e.selection,o=t.$from,i=t.$to,a=o.blockRange(i),c=!1,s=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(n)&&0===a.startIndex){if(0===o.index(a.depth-1))return!1;var u=e.doc.resolve(a.start-2);s=new ya.NodeRange(u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new ya.NodeRange(o,e.doc.resolve(i.end(a.depth)),a.depth)),c=!0}var l=Object(pt.k)(s,n,r,a);return!!l&&(e=function(e,t,n,r,o){for(var i=ya.Fragment.empty,a=n.length-1;a>=0;a--)i=ya.Fragment.from(n[a].type.create(n[a].attrs,i));e.step(new pt.b(t.start-(r?2:0),t.end,t.start,t.end,new ya.Slice(i,0,0),n.length,!0));for(var c=0,s=0;s<n.length;s++)n[s].type===o&&(c=s+1);for(var u=n.length-c,l=t.start+n.length-(r?2:0),d=t.parent,f=t.startIndex,p=t.endIndex,h=!0;f<p;f++,h=!1)!h&&Object(pt.i)(e.doc,l,u)&&(e.split(l,u),l+=2*u),l+=d.child(f).nodeSize;return e}(e,a,l,c,n),!0)})(t),Wm(t,(function(t,n){return t.type===n.type&&t.type===e}))}var qm=function(e){var t=e.selection,n=vh({selection:e.selection,doc:e.doc}),r=function e(t){var n=t.doc;if(t.pos+1>n.content.size)return null;if(0===t.depth)return n.resolve(t.pos+1);var r=n.nodeAt(t.pos),o=t.before(),i=n.nodeAt(o);if(nh(r)&&!oh(i))return n.resolve(t.pos+1);var a=Object(Qi.findParentNodeClosestToPos)(t,nh);return a?e(n.resolve(a.pos)):null}(n.$from);if(r){var o=n.$from.blockRange(r,nh);if(o){var i=!1,a=!1,c=n.from,s=n.to;Km(n).forEach((function(t){var n=e.doc.resolve(e.mapping.map(t.from)),r=e.doc.resolve(e.mapping.map(t.to)),o=n.blockRange(r,nh);o&&(oh(n.node(o.depth-1))?$m({tr:e,range:o}):(Ym({tr:e,range:o}),i=i||s>=t.from&&s<t.to,a=a||c>=t.from&&c<t.to))}));var u=o.start!==e.mapping.map(o.start),l=Gm({originalSelection:t,normalizedSelection:n,tr:e,hasCommonListMoved:u,hasNormalizedToPositionLiftedOut:i,hasNormalizedFromPositionLiftedOut:a});e.setSelection(l),ch({tr:e,direction:Xp.RIGHT})}}},Gm=function(e){var t=e.tr,n=e.originalSelection,r=e.normalizedSelection,o=e.hasCommonListMoved,i=e.hasNormalizedToPositionLiftedOut,a=e.hasNormalizedFromPositionLiftedOut,c=r.$from,s=r.$to,u=r.empty,l=t.mapping.map(c.pos),d=t.mapping.map(s.pos),f=c.sameParent(s);if(a){var p=f?c.pos:l;l=a?c.pos:p,l=o?l-2:l,l=Math.max(l,0)}if(i){var h=f?s.pos:d;d=i?s.pos:h,d=o?d-2:d,d=Math.min(d,t.doc.nodeSize-2)}if(r instanceof ra.a){var m=t.doc.resolve(l);return new ra.a(m,r.side)}return n instanceof dt.NodeSelection?dt.NodeSelection.create(t.doc,l):u?dt.TextSelection.between(t.doc.resolve(d),t.doc.resolve(d),-1):dt.TextSelection.between(t.doc.resolve(l),t.doc.resolve(d),-1)},Km=function(e){var t=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,nh);return o||null}({selection:e});if(!t)return[];var n=e.$from,r=e.$to;if(n.pos===r.pos&&n.sameParent(r))return[{from:t.start,to:t.end,depth:t.depth}];var o=Xm(n);if(!o)return[];for(var i=[],a=n.doc,c=Xm(r);c&&c.pos>=o.pos&&c.pos>=t.start;){var s=a.nodeAt(c.pos);if(!s||!oh(s))return[];var u=0;s&&s.lastChild&&nh(s.lastChild)&&(u=s.lastChild.nodeSize);var l=c.pos+1;i.push({from:l,to:a.resolve(l).end()-u,depth:c.depth}),c=Xm(c)}return i},$m=function(e){var t=e.tr,n=e.range,r=n.end,o=n.$to.end(n.depth),i=t.doc.type.schema.nodes.listItem;if(r<o){var a=new ya.Slice(ya.Fragment.from(i.create(null,n.parent.copy())),1,0),c=new pt.b(r-1,o,r,o,a,1,!0);t.step(c),n=new ya.NodeRange(t.doc.resolve(n.$from.pos),t.doc.resolve(o),n.depth)}var s=Object(pt.n)(n);s&&t.lift(n,s)},Ym=function(e){for(var t=e.tr,n=e.range,r=n.parent,o=t.doc.resolve(n.start),i=o.start(n.depth),a=o.end(n.depth),c=i===n.start,s=a===n.end,u=c&&s,l=c?ya.Fragment.empty:ya.Fragment.from(r.copy(ya.Fragment.empty)),d=n.startIndex;d<n.endIndex;d++)l=l.append(r.child(d).content);if(c)for(var f=0;f<l.childCount;f++){var p=l.child(f);if(p&&nh(p)&&p.type!==r.type){var h=r.type.create(null,p.content);l=l.replaceChild(f,h)}}var m=l.append(ya.Fragment.from(r.copy(ya.Fragment.empty)));if(u){var v=new ya.Slice(l,0,0),b=new pt.c(o.pos-1,n.end+1,v,!1);t.step(b)}else if(c){var g=new ya.Slice(m,0,1),y=new pt.c(o.pos-1,n.end,g,!1);t.step(y)}else if(s){var O=new ya.Slice(l,1,0),w=new pt.c(o.pos,a+1,O,!1);t.step(w)}else{var k=new ya.Slice(m,1,1),E=new pt.b(o.pos,a,n.end,a,k,k.size,!1);t.step(E)}},Xm=function(e){var t=e.doc,n=nh(e.node()),r=e;if(!n){var o=zm(e);return o?t.resolve(o.pos):null}var i=t.resolve(r.pos),a=dt.Selection.findFrom(i,-1);if(!a)return null;var c=zm(a.$from);return c?t.resolve(c.pos):null};function Jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.f.KEYBOARD;return function(t,n){if(!dh(t))return!1;var r=Fm(t.selection.$from);if(!r)return!0;Vh(t.tr);var o=ih(r.node)?wt.c.FORMAT_LIST_BULLET:wt.c.FORMAT_LIST_NUMBER,i=t.tr;return qm(i),i&&i.docChanged?(Object(Ot.a)(t,i,{action:wt.a.OUTDENTED,actionSubject:wt.b.LIST,actionSubjectId:o,eventType:wt.e.TRACK,attributes:Zm(Zm({},Tm(t)),{},{inputMethod:e})}),n&&n(i),!0):!fh(t)}}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nv=function(e,t){var n,r=e.selection;if(r.empty){var o=r.$from,i=e.schema.nodes,a=i.listItem,c=i.codeBlock,s=o.node(o.depth),u=o.node(o.depth-1);if(u&&u.type===a){var l=Object(uc.f)(u);if(Object(uc.j)(s)&&!l)return Qm(wt.f.KEYBOARD)(e,t);if(!Object(Qi.hasParentNodeOfType)(c)(r))return(n=a,function(e,t){var r=e.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var c=o.node(-1);if(c.type!==n)return!1;if(c.content.content.length<=1&&0===o.parent.content.size&&0!==c.content.size){if(2===o.depth||o.node(-3).type!==n||o.index(-2)!==o.node(-2).childCount-1)return!1;if(t){for(var s=ya.Fragment.empty,u=o.index(-1)>0,l=o.depth-(u?1:2);l>=o.depth-3;l--)s=ya.Fragment.from(o.node(l).copy(s));s=s.append(ya.Fragment.from(n.createAndFill()));var d=e.tr.replace(o.before(u?void 0:-1),o.after(-3),new ya.Slice(s,u?3:2,2));d.setSelection(e.selection.constructor.near(d.doc.resolve(o.pos+(u?3:2)))),t(d.scrollIntoView())}return!0}var f=i.pos===o.end()?c.contentMatchAt(0).defaultType:void 0,p=e.tr.delete(o.pos,i.pos),h=f&&[void 0,{type:f}];return t&&t(p.split(o.pos,2,h).scrollIntoView()),!0})(e,t)}}return!1},rv=function(e,t){return hm.c(Im,Object(Ss.b)([Ss.f,Ss.g,dh],hm.c(cv,Qm(wt.f.KEYBOARD))),Object(Ss.b)([Ss.f,ph],sv))(e,t)},ov=function(e,t){var n=e.tr,r=e.selection.$head,o=Object(Ss.j)(r);if(!Object(Ss.e)(e))return!1;var i=function(e,t){var n=e.$pos,r=e.foundNode,o=t.parent,i=t.node(-1),a=uh(t),c=sh(t),s=i&&i.lastChild&&(i.lastChild===o||i.childCount>1&&i.child(i.childCount-2)===o&&nh(i.lastChild)),u=uh(n),l=sh(n);if(!a&&c&&u)return[Am.b.JOIN_LIST_ITEM_WITH_PARAGRAPH,Mm];if(!(r&&a&&c&&s))return!1;if(!u&&l)return[Am.b.JOIN_PARAGRAPH_WITH_LIST,Nm];if(!u)return!1;var d=n.nodeAfter,f=n.node(-1),p=t.node(-2),h=oh(n.parent),m=oh(d),v=d&&m&&rh(d.firstChild);if(!h&&v)return[Am.b.JOIN_DESCENDANT_TO_PARENT,Dm];if(!h)return!1;var b=f&&f===p;return!!rh(d)&&(b?[Am.b.JOIN_SIBLINGS,Lm]:[Am.b.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,Bm])}(o,r);if(!i)return!1;var a=mr()(i,2),c=a[0];if(!(0,a[1])({tr:n,$next:o.$pos,$head:r}))return!1;var s=e.schema.nodes,u=s.bulletList,l=s.orderedList,d=Object(Qi.findParentNodeOfType)([u,l])(n.selection),f=wt.c.FORMAT_LIST_BULLET;return d&&d.node.type===l&&(f=wt.c.FORMAT_LIST_NUMBER),Object(Ot.a)(e,n,{action:wt.a.LIST_ITEM_JOINED,actionSubject:wt.b.LIST,actionSubjectId:f,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,direction:Am.a.FORWARD,scenario:c}}),t&&t(n),!0};function iv(e){var t=e.selection,n=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var c=e.node(a);if(c.type!==r&&c.type!==o||(n=a),c.type!==r&&c.type!==o&&c.type!==i)break}return n}(t.$to,e.doc.type.schema.nodes);e=function(e,t,n,r){var o=r.doc.type.schema.nodes.listItem,i=!1;return r.doc.nodesBetween(e,t,(function(t,a){if(!i&&t.type===o&&a>e){i=!0;for(var c=n+3;c>n+2;){var s=r.doc.resolve(r.mapping.map(a));c=s.depth;var u=r.doc.resolve(r.mapping.map(a+t.textContent.length)),l=new dt.TextSelection(s,u);r=km(l,r)}}})),r}(t.$to.pos,t.$to.end(n),n||0,e),e=function(e,t){var n=e.from,r=e.to,o=t.doc.type.schema.nodes.paragraph,i=[];t.doc.nodesBetween(n,r,(function(e,t){e.type===o&&i.push({node:e,pos:t})}));for(var a=i.length-1;a>=0;a--){var c=i[a],s=t.doc.resolve(t.mapping.map(c.pos));if(s.depth>0){var u=void 0;u=c.node.textContent&&c.node.textContent.length>0?t.doc.resolve(t.mapping.map(c.pos+c.node.textContent.length)):t.doc.resolve(t.mapping.map(c.pos+1));var l=s.blockRange(u);l&&t.lift(l,Om(s))}}return t}(t,e)}function av(e,t){return function(n,r){var o=n.tr,i=function(e){var t=e.selection,n=t.from,r=t.to,o=null;return e.doc.nodesBetween(n,r,(function(e){return nh(e)&&(o=e),!o})),o}(o),a=n.schema.nodes[t],c="bulletList"===t?wt.c.FORMAT_LIST_BULLET:wt.c.FORMAT_LIST_NUMBER;if(i){var s=n.selection,u=s.$from.node(s.$from.depth-2),l=s.$to.node(s.$to.depth-2),d="bulletList"===i.type.name?wt.c.FORMAT_LIST_BULLET:wt.c.FORMAT_LIST_NUMBER;if((null==u?void 0:u.type.name)===t&&(null==l?void 0:l.type.name)===t){var f=n.tr;return iv(f),Object(Ot.a)(n,f,{action:wt.a.CONVERTED,actionSubject:wt.b.LIST,actionSubjectId:wt.c.TEXT,eventType:wt.e.TRACK,attributes:tv(tv({},Tm(n)),{},{transformedFrom:d,inputMethod:e})}),r&&r(f),!0}!function(e){var t=e.tr,n=e.nextListNodeType,r=t.doc,o=t.selection,i=o.$from,a=o.$to;if(i.blockRange(a,nh))return Um({tr:t,nextListNodeType:n});var c=i.blockRange(a);if(c){var s=c.parent,u=c.startIndex,l=c.endIndex,d=c.depth;if(!Fm(i))for(var f=u;f<l;f++){var p=c.$from.posAtIndex(f,d),h=r.resolve(p),m=s.child(f),v=h.blockRange(t.doc.resolve(p+m.nodeSize));if(v&&!nh(m)&&!Object(pt.k)(v,n))return}t.doc.nodesBetween(c.start,c.end,(function(e,r){if(Fm(t.doc.resolve(t.mapping.map(r))))return!1;var o=e;if(!(Object(uc.h)(o)||e.type.isBlock&&"paragraph"!==e.type.name)){var i=new ya.NodeRange(t.doc.resolve(t.mapping.map(r)),t.doc.resolve(t.mapping.map(r)+o.nodeSize),c.depth);return Hm({tr:t,nextListNodeType:n,nodeRange:i}),!1}})),Um({tr:t,nextListNodeType:n}),t.docChanged&&ch({tr:t,forceListType:n})}}({tr:o,nextListNodeType:a}),Object(Ot.a)(n,o,{action:wt.a.CONVERTED,actionSubject:wt.b.LIST,actionSubjectId:c,eventType:wt.e.TRACK,attributes:tv(tv({},Tm(n)),{},{transformedFrom:d,inputMethod:e})})}else Object(Cp.d)(o,a),Vm(a,o),Object(Ot.a)(n,o,{action:wt.a.INSERTED,actionSubject:wt.b.LIST,actionSubjectId:c,eventType:wt.e.TRACK,attributes:{inputMethod:e}});return!!o.docChanged&&(r&&r(o),!0)}}var cv=function(e,t){var n=e.selection.$from,r=e.schema.nodes.listItem,o=Object(Ss.c)(n);if(!o||!o.nodeBefore||o.nodeBefore.type!==r)return!1;if(1===o.nodeBefore.childCount&&o.nodeBefore.firstChild.nodeSize<=2){var i=e.tr;return t&&t(i.delete(o.pos-o.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},sv=function(e,t){var n,r,o,i,a,c,s,u,l=e.selection.$from,d=e.schema.nodes,f=d.paragraph,p=d.listItem,h=d.codeBlock,m=d.bulletList,v=d.orderedList,b=e.selection instanceof ra.a,g=b?e.doc.resolve(l.pos+1):l,y=Object(Ss.c)(g);if(!y)return!1;if(y.nodeBefore&&[m,v].indexOf(y.nodeBefore.type)>-1&&y.nodeAfter&&(y.nodeAfter.type===f||y.nodeAfter.type===h)){for(var O=y.doc.resolve(y.pos-1);O.parent.type!==f;)O=e.doc.resolve(O.pos-1);var w=e.tr;if(b){var k=Object(Qi.findPositionOfNodeBefore)(w.selection);if("number"!=typeof k)return!1;var E=y.nodeBefore.copy(y.nodeBefore.content.append(ya.Fragment.from(p.createChecked({},y.nodeAfter))));w.replaceWith(k,l.pos+y.nodeAfter.nodeSize,E)}else{var x=(n={insertPosition:O.pos,$target:y},o=n.insertPosition,i=n.$target,a=o,c=i.pos+((null===(r=i.nodeAfter)||void 0===r?void 0:r.nodeSize)||0),s=i.posAtIndex(0,i.depth+1),(u=i.doc.resolve(s).end())-s==0?new pt.c(a,c,i.doc.slice(o,i.pos)):new pt.b(a,c,s,u,i.doc.slice(o,i.pos),0,!0));if(e.tr.maybeStep(x).failed)return!1;w=e.tr.step(x)}var S,j=w.doc.resolve(w.mapping.map(y.pos+y.nodeAfter.nodeSize));if(j.nodeBefore&&j.nodeAfter&&j.nodeBefore.type===j.nodeAfter.type&&[m,v].indexOf(j.nodeBefore.type)>-1&&(w=w.join(j.pos)),t)null!==(S=w.doc.resolve(O.pos).nodeBefore)&&void 0!==S&&S.isBlock&&null!==w.doc.resolve(O.pos).nodeBefore||(w=w.setSelection(dt.TextSelection.near(w.doc.resolve(w.mapping.map(y.pos)),-1))),t(w.scrollIntoView());return!0}return!1},uv=function(e){var t=e.selection,n=vh({selection:t,doc:e.doc}),r=n.$from,o=n.$to,i=lv({selection:n});if(!i)return!1;var a={from:zm(r),to:zm(o)};if(null===a.from||null===a.to)return null;var c=e.doc.resolve(a.from.pos),s=c.index(),u=c.posAtIndex(s-1),l=e.doc.nodeAt(u);if(!l||!oh(l))return null;if(oh(l)&&0===s)return null;var d=i.parent,f=nh(l.lastChild)?l.lastChild:null,p=f?f.type:d.type,h=a.to.node.lastChild,m=h&&nh(h)?h.nodeSize:0,v=a.from.pos,b=a.to.pos+a.to.node.nodeSize-m,g=fv({tr:e,listNodeType:p,range:i,from:v,to:b}),y=mr()(g,2),O=y[0],w=y[1],k=Boolean(f),E=v-1;e.replaceRange(k?E-1:E,i.end,O);var x=e.mapping.map(b)-2;0===w.openStart?e.insert(x,w.content):e.replace(x-w.openStart,x-w.openStart,w);var S=dv({originalSelection:t,normalizedSelection:n,tr:e,hasPreviousNestedList:k});e.setSelection(S)},lv=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,nh);return o||null},dv=function(e){var t=e.tr,n=e.normalizedSelection,r=e.originalSelection,o=e.hasPreviousNestedList?2:0,i=n.$from,a=n.$to;if(n instanceof ra.a){var c=t.doc.resolve(i.pos-o);return new ra.a(c,n.side)}if(r instanceof dt.NodeSelection)return dt.NodeSelection.create(t.doc,i.pos-o);var s=dt.Selection.near(t.doc.resolve(i.pos-o)).$from,u=dt.Selection.near(t.doc.resolve(a.pos-o),-1).$to;return new dt.TextSelection(s,u)},fv=function(e){var t=e.tr,n=e.from,r=e.to,o=e.listNodeType,i=e.range,a=t.doc.slice(n,r-2),c=ya.Fragment.from(o.create(null,a.content)),s=t.doc.slice(r,i.end-2),u=t.doc.slice(n-1,i.end).openStart;return[new ya.Slice(c,u,0),s]};function pv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pv(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mv=function(){var e={};return nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.toggleOrderedList),av(wt.f.KEYBOARD,"orderedList"),e),nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.toggleBulletList),av(wt.f.KEYBOARD,"bulletList"),e),nu.bindKeymapWithCommand(nu.indentList.common,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.f.KEYBOARD;return function(t,n){var r=t.tr,o=t.selection.$from;if(!dh(t))return!1;Vh(r);var i=mh(o),a=Fm(o);if(!a||i&&0===i.indentLevel&&0===i.itemIndex)return!fh(t);var c=ih(a.node)?wt.c.FORMAT_LIST_BULLET:wt.c.FORMAT_LIST_NUMBER;return uv(r),!wm({tr:r,maxIndentation:6})||!r.docChanged||(Object(Ot.a)(t,r,{action:wt.a.INDENTED,actionSubject:wt.b.LIST,actionSubjectId:c,eventType:wt.e.TRACK,attributes:hv(hv({},Tm(t)),{},{inputMethod:e})}),n&&n(r),!0)}}(wt.f.KEYBOARD),e),nu.bindKeymapWithCommand(nu.outdentList.common,Qm(wt.f.KEYBOARD),e),nu.bindKeymapWithCommand(nu.enter.common,nv,e),nu.bindKeymapWithCommand(nu.backspace.common,rv,e),nu.bindKeymapWithCommand(nu.deleteKey.common,ov,e),nu.bindKeymapWithCommand(nu.findKeyMapForBrowser(nu.forwardDelete),ov,e),dp(e)},vv=n(175),bv=n(66),gv=n.n(bv),yv=["level"],Ov=gv()({loader:function(){return n.e(36).then(n.bind(null,1962)).then((function(e){return e.default}))},loading:function(){return null}}),wv=gv()({loader:function(){return n.e(37).then(n.bind(null,1963)).then((function(e){return e.default}))},loading:function(){return null}}),kv=gv()({loader:function(){return n.e(38).then(n.bind(null,1964)).then((function(e){return e.default}))},loading:function(){return null}}),Ev=gv()({loader:function(){return n.e(39).then(n.bind(null,1965)).then((function(e){return e.default}))},loading:function(){return null}}),xv=gv()({loader:function(){return n.e(40).then(n.bind(null,1966)).then((function(e){return e.default}))},loading:function(){return null}}),Sv=gv()({loader:function(){return n.e(41).then(n.bind(null,1967)).then((function(e){return e.default}))},loading:function(){return null}}),jv=gv()({loader:function(){return n.e(50).then(n.bind(null,1968)).then((function(e){return e.default}))},loading:function(){return null}}),Cv=gv()({loader:function(){return n.e(51).then(n.bind(null,1969)).then((function(e){return e.default}))},loading:function(){return null}}),Tv=gv()({loader:function(){return n.e(52).then(n.bind(null,1970)).then((function(e){return e.default}))},loading:function(){return null}}),_v=gv()({loader:function(){return n.e(54).then(n.bind(null,1971)).then((function(e){return e.default}))},loading:function(){return null}}),Av=gv()({loader:function(){return n.e(53).then(n.bind(null,1972)).then((function(e){return e.default}))},loading:function(){return null}}),Pv=gv()({loader:function(){return n.e(55).then(n.bind(null,1973)).then((function(e){return e.default}))},loading:function(){return null}}),Iv=gv()({loader:function(){return n.e(57).then(n.bind(null,1974)).then((function(e){return e.default}))},loading:function(){return null}}),Mv=gv()({loader:function(){return n.e(58).then(n.bind(null,1975)).then((function(e){return e.default}))},loading:function(){return null}}),Rv=gv()({loader:function(){return n.e(59).then(n.bind(null,1976)).then((function(e){return e.default}))},loading:function(){return null}}),Nv=gv()({loader:function(){return n.e(60).then(n.bind(null,1977)).then((function(e){return e.default}))},loading:function(){return null}}),Dv=gv()({loader:function(){return n.e(56).then(n.bind(null,1978)).then((function(e){return e.default}))},loading:function(){return null}}),Lv=(gv()({loader:function(){return Promise.resolve().then(n.bind(null,720)).then((function(e){return e.default}))},loading:function(){return null}}),gv()({loader:function(){return n.e(61).then(n.bind(null,1979)).then((function(e){return e.default}))},loading:function(){return null}})),Bv=gv()({loader:function(){return n.e(62).then(n.bind(null,1980)).then((function(e){return e.default}))},loading:function(){return null}}),Fv=gv()({loader:function(){return n.e(63).then(n.bind(null,1981)).then((function(e){return e.default}))},loading:function(){return null}});gv()({loader:function(){return Promise.resolve().then(n.bind(null,635)).then((function(e){return e.default}))},loading:function(){return null}});var zv,Uv=function(e){var t=e.level,r=wo()(e,yv),o=gv()({loader:function(){return function(e){switch(e){case 1:return n.e(44).then(n.bind(null,1982));case 2:return n.e(45).then(n.bind(null,1983));case 3:return n.e(46).then(n.bind(null,1984));case 4:return n.e(47).then(n.bind(null,1985));case 5:return n.e(48).then(n.bind(null,1986));case 6:default:return n.e(49).then(n.bind(null,1987))}}(t).then((function(e){return e.default}))},loading:function(){return null}});return i.a.createElement(o,r)},Hv=gv()({loader:function(){return n.e(43).then(n.bind(null,1988)).then((function(e){return e.default}))},loading:function(){return null}}),Wv=gv()({loader:function(){return n.e(42).then(n.bind(null,1989)).then((function(e){return e.default}))},loading:function(){return null}}),Vv=function(){return{name:"list",nodes:function(){return[{name:"bulletList",node:Ee.a},{name:"orderedList",node:ke.a},{name:"listItem",node:th.a}]},pmPlugins:function(){return[{name:"list",plugin:function(e){var t,n=e.dispatch;return t=n,new Za.a({state:Th(t,_h),key:wh,props:{decorations:function(e){return Ch(e).decorationSet}}})}},{name:"listInputRule",plugin:function(e){return function(e,t){var n=e.nodes,r=n.bulletList,o=n.orderedList,i=[];if(r&&i.push(pm({expression:/^\s*([\*\-\u2022]) $/,listType:r})),o&&i.push(pm({expression:/^(1)[\.\)] $/,listType:o})),0!==i.length)return cm("lists",i,{useUnpredictableInputRule:t.useUnpredictableInputRule})}(e.schema,e.featureFlags)}},{name:"listKeymap",plugin:function(){return mv()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"unorderedList",title:t(vv.a.unorderedList),description:t(vv.a.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:Object(nu.tooltip)(nu.toggleBulletList),icon:function(){return i.a.createElement(Av,null)},action:function(e,t){var n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.LIST,actionSubjectId:wt.c.FORMAT_LIST_BULLET,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.QUICK_INSERT}})}},{id:"orderedList",title:t(vv.a.orderedList),description:t(vv.a.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:Object(nu.tooltip)(nu.toggleOrderedList),icon:function(){return i.a.createElement(_v,null)},action:function(e,t){var n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.LIST,actionSubjectId:wt.c.FORMAT_LIST_NUMBER,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.QUICK_INSERT}})}}]}}}},qv=n(585),Gv=n(42),Kv=n(119);!function(e){e.Before="before",e.After="after"}(zv||(zv={}));var $v=function(e,t){return t.resolve(e.after()).node().lastChild===e.node()},Yv=function(e,t){return t.resolve(e.before()).node().firstChild===e.node()},Xv=function(e,t,n,r,o){return Yv(r,e.doc)&&t===zv.Before||$v(r,e.doc)&&t===zv.After?e.insert(n[t](),o):e.insert(r[t](),o)},Jv=function(e,t){return function(n){var r,o=n.doc.type.schema.nodes,i=[o.rule,o.mediaSingle];if(e instanceof ya.Fragment||!i.includes(e.type)||function(e){var t=e.doc.type.schema.nodes;return Object(Qi.hasParentNodeOfType)([t.orderedList,t.bulletList])(e.selection)}(n))return null;if(!n.selection.empty||Object(Qi.isNodeSelection)(n.selection))return null;var a,c=n.selection.$from,s=t?n.doc.resolve(t):Object(Qi.isNodeSelection)(n.selection)?n.doc.resolve(c.pos+1):c,u=s.end(),l=s.start();Object(uc.h)(s.parent)?$v(s,n.doc)?a=zv.After:Yv(s,n.doc)&&(a=zv.Before):s.pos===u?a=zv.After:s.pos===l&&(a=zv.Before);var d=null===(r=n.selection.$from.node(-1))||void 0===r?void 0:r.type,f=n.selection.$from.parent.type;if(!a&&!eb(f,d,e))return Object(Qi.safeInsert)(e,n.selection.from)(n);if(!a)return null;if(Object(uc.h)(s.parent)&&Object(Qi.canInsert)(n.doc.resolve(s[a]()),e))return Zv(n.replaceWith(s.before(),s.after(),e),-1);for(var p,h,m=s;m.depth>0;){var v=n.doc.resolve(m[a]()),b=v.node();if(Object(Qi.canInsert)(m,e))return Zv(n.insert(m.pos,e),e.nodeSize);if(p=b.type,[(h=n.doc.type.schema.nodes).bulletList,h.orderedList,h.panel].includes(p))return Zv(Xv(n,a,v,m,e),e.nodeSize);m=v}return Zv(n.insert(m.pos,e),e.nodeSize)}},Zv=function(e,t){var n=e.steps[e.steps.length-1];if(!(n instanceof pt.c||n instanceof pt.b))return null;var r=n.to+n.slice.openStart+t;return e.setSelection(new ra.a(e.doc.resolve(r),ra.c.RIGHT)).scrollIntoView()},Qv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,o){if(!e)return r;var i,a=e instanceof ya.Fragment;try{i=e instanceof ya.Node||a?e:"string"==typeof e?n.schema.text(e):ya.Node.fromJSON(n.schema,e)}catch(e){return console.error(e),r}if(i.isText)r=r.replaceWith(o,o,i);else if(i.isBlock)r=Object(Qi.safeInsert)(Object(Kv.e)(n,i),void 0,!0)(r);else if(i.isInline||a){var c=a?i:ya.Fragment.fromArray([i,n.schema.text(" ")]);r=r.replaceWith(o,o,c),r=t.selectInlineNode?r.setSelection(dt.NodeSelection.create(r.doc,o)):r.setSelection(dt.Selection.near(r.doc.resolve(o+c.size)))}return r}},eb=function(e,t,n){return!("paragraph"!==e.name||!t.validContent(ya.Fragment.from(n)))},tb=function(e,t,n,r){if(!e.selection.empty)return null;var o=null,i=e.schema.nodes.rule;return Object(oi.b)(e).newInsertionBehaviour&&(o=e.tr.replaceWith(t,n,ya.Fragment.empty),o=Jv(i.createChecked(),o.selection.from)(o)),o||(o=e.tr.replaceRange(t,n,new ya.Slice(ya.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),Object(Ot.a)(e,o,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.DIVIDER,attributes:{inputMethod:r},eventType:wt.e.TRACK})},nb=function(e,t,n){return tb(e,t,n,wt.f.FORMATTING)};var rb=function(e,t){var n=[];if(e.nodes.rule&&(n.push(am(/^(\-\-\-|\*\*\*)$/,(function(e,t,n,r){return nb(e,n,r)}))),n.push(am(new RegExp("".concat("","(\\-\\-\\-|\\*\\*\\*)")),(function(e,t,n,r){var o=e.schema.nodes.hardBreak;return e.doc.resolve(n).nodeAfter.type!==o?null:nb(e,n,r)})))),0!==n.length)return cm("rule",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})},ob=function(e){return function(t,n){var r=tb(t,t.selection.from,t.selection.to,e);return!!r&&(n&&n(r),!0)}};var ib=function(){var e={};return nu.bindKeymapWithCommand(nu.insertRule.common,ob(wt.f.SHORTCUT),e),nu.bindKeymapWithCommand(nu.escape.common,(function(){return!0}),e),dp(e)},ab=function(){return{name:"rule",nodes:function(){return[{name:"rule",node:qv.a}]},pmPlugins:function(){return[{name:"ruleInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return rb(t,n)}},{name:"ruleKeymap",plugin:function(){return ib()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"rule",title:t(Gv.a.horizontalRule),description:t(Gv.a.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:function(){return i.a.createElement(xv,null)},action:function(e,t){var n=e(t.schema.nodes.rule.createChecked());return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.DIVIDER,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]}}}},cb=n(447),sb=n(600),ub=n(29),lb=n(150);function db(e,t){return!!e&&e.toJSON().type===t}function fb(e){return db(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:db(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:Object(lb.a)(e.$head)||Object(lb.b)(e.$head)}function pb(e){var t=e.selection,n=fb(t);if(!n)throw new Error("selectedRect: invalid $pos for selection");var r,o=n.node(-1),i=n.start(-1),a=ub.b.get(o);return(r=t instanceof Oa.a?a.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):a.findCell(n.pos-i)).tableStart=i,r.map=a,r.table=o,r}var hb,mb,vb=n(135),bb=new dt.PluginKey("selection");function gb(e,t,n){return function(r,o,i,a,c,s){if(n.useLongPressSelection)return!1;if(s&&-1!==e.indexOf(i.type.name)&&c.target){var u=c.target;if(t(u)){var l=n.getNodeSelectionPos?n.getNodeSelectionPos(r.state,a):a;return Object(Ss.h)(l)(r.state,r.dispatch),!0}}return!1}}!function(e){e.Before="Before",e.Start="Start",e.Inside="Inside",e.End="End"}(hb||(hb={})),function(e){e[e.Before=-1]="Before",e[e.After=1]="After"}(mb||(mb={}));var yb=function(e){if(e.selection instanceof dt.NodeSelection)return ft.b.create(e.doc,[ft.a.node(e.selection.from,e.selection.to,{class:he.H})]);if(e.selection instanceof dt.TextSelection||e.selection instanceof dt.AllSelection){var t=xb(e.selection,e.doc).map((function(e){var t=e.node,n=e.pos;return ft.a.node(n,n+t.nodeSize,{class:he.H})}));return ft.b.create(e.doc,t)}return ft.b.empty};function Ob(e){if(e instanceof dt.NodeSelection)return{action:wt.a.SELECTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.NODE,eventType:wt.e.TRACK,attributes:{node:e.node.type.name}}}function wb(e){if(e instanceof dt.AllSelection)return{action:wt.a.SELECTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.ALL,eventType:wt.e.TRACK}}function kb(e){if(e.selection instanceof Oa.a){var t=pb(e),n=t.map.cellsInRect(t).length,r=t.map.map.length;return{action:wt.a.SELECTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.CELL,eventType:wt.e.TRACK,attributes:{selectedCells:n,totalCells:r}}}}var Eb=["table","panel","expand","layoutSection","decisionList","decisionItem","codeBlock"],xb=function(e,t){var n=[];if(e.from!==e.to){var r=e.from,o=e.to;t.nodesBetween(r,o,(function(e,t){var i=r<=t&&t+e.nodeSize<=o,a=Eb.includes(e.type.name);return e&&i&&a?(n.push({node:e,pos:t}),!1):(e&&i&&!e.isText&&n.push({node:e,pos:t}),!0)}))}return n};function Sb(e,t){if(e instanceof dt.TextSelection&&e.from!==e.to){var n=e.from,r=e.to,o=e.anchor,i=e.head,a=[];return t.nodesBetween(n,r,(function(e,t){if(e.isText||t>=n&&t+e.nodeSize<=r)return a.push(e.type.name),!1})),{action:wt.a.SELECTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.RANGE,eventType:wt.e.TRACK,attributes:{from:o,to:i,nodes:a}}}}function jb(e){var t=e.oldEditorState,n=e.newEditorState,r=t.selection,o=n.selection,i=bb.getState(t),a=bb.getState(n);if(!i||!a)return!1;if(r.eq(o)){if(r instanceof dt.NodeSelection&&o instanceof dt.NodeSelection){var c=i.decorationSet.find(),s=a.decorationSet.find();return c.length>0&&s.length>0?!c[0].eq(s[0]):!(0===c.length&&0===s.length)}return!1}return!(r instanceof dt.TextSelection&&o instanceof dt.TextSelection&&r.from===r.to&&o.from===o.to)}var Cb=function(e){return!(!e||e.isAtom||!dt.NodeSelection.isSelectable(e))},Tb=function(e){return!(!e||!(e.isText||Object(uc.h)(e)||dt.NodeSelection.isSelectable(e)))},_b=function(e){var t=!1,n=Object(Qi.findParentNode)((function(e){var n=Cb(e);return n||Object(vb.a)(e)||(t=!0),n}))(e);if(!t)return n},Ab=function(e,t){e.parent.inlineContent&&Cb(e.parent)&&(e=t.resolve(e.start()-1));var n=dt.Selection.findFrom(e,-1);if(n){for(var r=t.resolve(n.from),o=e.depth+1;o<=r.depth;o++){var i=r.node(o);if(Cb(i))return{node:i,pos:r.start(o)-1};if(o>e.depth+1&&!Object(vb.a)(i))return}if(n instanceof dt.NodeSelection&&dt.NodeSelection.isSelectable(n.node))return{node:n.node,pos:n.from}}},Pb=function(e,t){var n=dt.Selection.findFrom(e,1);if(n)for(var r=t.resolve(n.from),o=e.depth+1;o<=r.depth;o++){var i=r.node(o);if(Cb(i))return{node:i,pos:r.start(o)-1};if(o>e.depth+1&&!Object(vb.a)(i))return}},Ib=function(e,t){return Object(Kv.c)(e,_b(t))},Mb=function(e,t){return Object(Kv.b)(e,_b(t))},Rb=n(638),Nb=n.n(Rb),Db=["buttonStyles"];function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var zb,Ub=function(e){var t=e.label,n=e.allowInteractiveExpand,r=Object(o.useCallback)((function(t,n){var r=t(n),o=r.buttonStyles,i=wo()(r,Db);return Bb({buttonStyles:Bb(Bb({},o),{},{height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"tranform: rotate(0deg);",transition:"transform 0.2s ".concat(he.L,";")}})},i)}),[e]);return Object(T.d)($l.a,{appearance:"subtle",className:Bo.iconContainer,iconBefore:Object(T.d)(Nb.a,{label:t}),shouldFitContainer:!0,theme:r,isDisabled:!n})},Hb=(zb=Ub,function(e){b()(n,e);var t=Fb(n);function n(e){return d()(this,n),t.call(this,e)}return p()(n,[{key:"render",value:function(){var e=this.props.label;return Object(T.d)(tu.a,{content:e,position:"top",tag:Po},Object(T.d)(zb,this.props))}}]),n}(i.a.Component)),Wb=Ub,Vb=function(e){var t=e.expanded,n=e.intl,r=t?xo.collapseNode:xo.expandNode,o=n&&n.formatMessage(r)||r.defaultMessage,i=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches;return e.allowInteractiveExpand&&i?Object(T.d)(Hb,_e()({label:o},e)):Object(T.d)("div",{css:Ao},Object(T.d)(Wb,_e()({label:o},e)))},qb=function(e){return Object(Qi.findParentNode)((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},Gb=function(e){return Object(Qi.findParentNodeClosestToPos)(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},Kb=function(e){var t=Gb(e);if(t){var n=function(e){return Object(Qi.findParentNodeClosestToPos)(e,(function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))}(e);if(n){var r=ub.b.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}}},$b=n(1200),Yb=function(e,t){var n=e.schema.nodes,r=n.expand,o=n.nestedExpand;return Object(Qi.findSelectedNodeOfType)([r,o])(t||e.selection)||Object(Qi.findParentNodeOfType)([r,o])(t||e.selection)};function Xb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xb(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zb=new dt.PluginKey("expandPlugin"),Qb=Object(Jc.a)(Zb,(function(e,t){switch(t.type){case"SET_EXPAND_REF":return Jb(Jb({},e),{},{expandRef:t.data.ref});default:return e}})),eg=Qb.createPluginState,tg=Qb.createCommand,ng=Qb.getPluginState;function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ig,ag=function(e){return tg({type:"SET_EXPAND_REF",data:{ref:e}},(function(e){return e.setMeta("addToHistory",!1)}))},cg=function(e,t){return function(n,r){if(!t||isNaN(e))return!1;var o={action:wt.a.DELETED,actionSubject:t.type===n.schema.nodes.expand?wt.b.EXPAND:wt.b.NESTED_EXPAND,attributes:{inputMethod:wt.f.TOOLBAR},eventType:wt.e.TRACK};return t&&r&&r(Object(Ot.a)(n,n.tr.delete(e,e+t.nodeSize),o)),!0}},sg=function(){return function(e,t){var n=Yb(e);return!!n&&cg(n.pos,n.node)(e,t)}},ug=function(e,t){return function(n,r){var o=n.doc.nodeAt(e);if(o&&o.type===t&&r){var i=n.tr,a=!o.attrs.__expanded;i.setNodeMarkup(e,o.type,og(og({},o.attrs),{},{__expanded:a}),o.marks),!1===a&&Yb(n)&&i.setSelection(new ra.a(i.doc.resolve(e+o.nodeSize),ra.c.RIGHT));var c={action:wt.a.TOGGLE_EXPAND,actionSubject:t===n.schema.nodes.expand?wt.b.EXPAND:wt.b.NESTED_EXPAND,attributes:{platform:$b.d.WEB,mode:$b.c.EDITOR,expanded:a},eventType:wt.e.TRACK};r(Object(Ot.a)(n,i.setMeta("isRemote",!0),c))}return!0}},lg=function(e){var t=e.schema.nodes,n=t.expand,r=t.nestedExpand;return(qb(e.selection)?r:n).createAndFill({})},dg=function(e,t){var n=lg(e),r={action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:n.type===e.schema.nodes.expand?wt.c.EXPAND:wt.c.NESTED_EXPAND,attributes:{inputMethod:wt.f.INSERT_MENU},eventType:wt.e.TRACK};return t&&t(Object(Ot.a)(e,Object(Qi.safeInsert)(n)(e.tr).scrollIntoView(),r)),!0},fg=function(e){return function(t,n,r){if(r){var o=r.domAtPos(e).node.parentElement;if(o){pg(t,n,r);var i=o.querySelector("input");if(i)return i.focus(),!0}}return!1}},pg=function(e,t,n){var r=e.tr,o=e.doc,i=e.selection;return n&&!n.hasFocus()&&n.focus(),t&&t(r.setSelection(dt.TextSelection.create(o,i.from))),!0};function hg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hg(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_DECORATIONS="SET_DECORATIONS",e.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"}(ig||(ig={}));var gg=Object(Jc.a)(bb,(function(e,t){switch(t.type){case ig.SET_DECORATIONS:return mg(mg({},e),{},{decorationSet:t.decorationSet,selection:t.selection});case ig.SET_RELATIVE_SELECTION:return mg(mg({},e),{},{selectionRelativeToNode:t.selectionRelativeToNode});default:return e}}),{onDocChanged:function(e,t){try{if(0===t.decorationSet.find().length&&(!e.selectionSet||0===yb(e).find().length))return t;var n=t.decorationSet.map(e.mapping,e.doc);return bg(bg({},t),{},{decorationSet:n})}catch(e){return bg(bg({},t),{},{decorationSet:ft.b.empty})}},onSelectionChanged:function(e,t){return(e.selection instanceof dt.NodeSelection&&Cb(e.selection.node)||e.selection instanceof Oa.a)&&!e.getMeta(bb)?bg(bg({},t),{},{selectionRelativeToNode:void 0}):t}}),yg=gg.createCommand,Og=gg.getPluginState,wg=gg.createPluginState,kg=function(e,t){return yg({type:ig.SET_RELATIVE_SELECTION,selectionRelativeToNode:e},(function(e){return t?e.setSelection(t):e}))},Eg=function(e,t){var n=e.selection;return n instanceof ra.a?Sg(n)(e,t):n instanceof dt.NodeSelection?Cg(n)(e,t):n instanceof dt.TextSelection&&_g(n)(e,t)},xg=function(e,t){var n=e.selection;return n instanceof ra.a?jg(n)(e,t):n instanceof dt.NodeSelection?Tg(n)(e,t):n instanceof dt.TextSelection&&Ag(n)(e,t)},Sg=function(e){return function(t,n){var r=e.$from,o=e.$to,i=e.side;if(i===ra.c.LEFT){var a=Pb(o,t.doc);if(a)return kg(hb.Start,dt.NodeSelection.create(t.doc,a.pos))(t,n)}else if(i===ra.c.RIGHT&&Mb(r,e)){var c=_b(e);if(c)return kg(hb.End,dt.NodeSelection.create(t.doc,c.pos))(t,n)}return!1}},jg=function(e){return function(t,n){var r=e.$from,o=e.side,i=Og(t).selectionRelativeToNode;if(o===ra.c.RIGHT){var a=Ab(r,t.doc);if(a)return kg(hb.End,dt.NodeSelection.create(t.doc,a.pos))(t,n)}else if(o===ra.c.LEFT&&Ib(r,e))if(i===hb.Before){var c=t.doc.resolve(e.$from.before(e.$from.depth));if(c){var s=Ab(c,t.doc);if(s&&Object(vb.a)(s.node))return kg(hb.End,dt.NodeSelection.create(t.doc,s.pos))(t,n)}kg()(t,n)}else{var u=_b(e);if(u)return kg(hb.Start,dt.NodeSelection.create(t.doc,u.pos))(t,n)}return!1}},Cg=function(e){return function(t,n){var r=e.node,o=e.from,i=e.$to,a=Og(t).selectionRelativeToNode;if(r.isAtom)return!!Mb(i,e)&&Pg(hb.End,t.doc.resolve(o+1),mb.After)(t,n);if(a===hb.Start)return Ig(hb.Inside,r,o)(t,n);if(Object(vb.a)(r)&&(!a||a===hb.End)){var c=Pb(i,t.doc);if(c&&Object(vb.a)(c.node))return kg(hb.Start,dt.NodeSelection.create(t.doc,c.pos))(t,n)}return!1}},Tg=function(e){return function(t,n){var r=e.node,o=e.from,i=e.to,a=e.$from,c=Og(t).selectionRelativeToNode;if(r.isAtom)return!!Ib(a,e)&&Pg(hb.Start,t.doc.resolve(o),mb.Before)(t,n);if(c===hb.End)return Mg(hb.Inside,r,o,i)(t,n);if(!c||c===hb.Inside)return Ig(hb.Before,r,o)(t,n);if(Object(vb.a)(r)&&c===hb.Start){var s=Ab(a,t.doc);if(s&&Object(vb.a)(s.node))return kg(hb.End,dt.NodeSelection.create(t.doc,s.pos))(t,n)}return!1}},_g=function(e){return function(t,n){if(Mb(e.$to,e)){var r=_b(e);if(r)return kg(hb.End,dt.NodeSelection.create(t.doc,r.pos))(t,n)}return!1}},Ag=function(e){return function(t,n){if(Og(t).selectionRelativeToNode===hb.Before){var r=Ab(e.$from,t.doc);if(r&&Object(vb.a)(r.node))return kg(hb.End,dt.NodeSelection.create(t.doc,r.pos))(t,n);kg(void 0)(t,n)}else if(Ib(e.$from,e)){var o=_b(e);if(o)return kg(hb.Start,dt.NodeSelection.create(t.doc,o.pos))(t,n)}return!1}},Pg=function(e,t,n){return function(r,o){var i=dt.Selection.findFrom(t,n,!0);return!!i&&kg(e,i)(r,o)}},Ig=function(e,t,n){return function(r,o){if(Object(uc.j)(t))return Pg(e,r.doc.resolve(n),mb.After)(r,o);var i=function(e){return Object(Qi.flatten)(e).find((function(e){return Tb(e.node)||!Object(vb.a)(e.node)}))}(t);if(i){var a=i.node,c=i.pos,s=n+c+1;if(a.isText||a.isAtom)return Pg(e,r.doc.resolve(s),mb.Before)(r,o);if(Object(uc.h)(a))return Pg(e,r.doc.resolve(s+1),mb.Before)(r,o);if(!Object(vb.a)(t))return kg(e,new ra.a(r.doc.resolve(s),ra.c.LEFT))(r,o);if(Cb(t))return kg(e,dt.NodeSelection.create(r.doc,s))(r,o)}return!1}},Mg=function(e,t,n,r){return function(o,i){if(Object(uc.j)(t))return Pg(e,o.doc.resolve(r),mb.Before)(o,i);var a=function(e){var t;if(e.descendants((function(e,n){if(Tb(e)||!Object(vb.a)(e))return t={node:e,pos:n},!1})),t)return t}(t);if(a){var c=a.node,s=a.pos,u=n+s+c.nodeSize;if(c.isText||c.isAtom)return Pg(e,o.doc.resolve(u+1),mb.After)(o,i);if(Object(uc.h)(c))return Pg(e,o.doc.resolve(u),mb.After)(o,i);if(!Object(vb.a)(t))return kg(e,new ra.a(o.doc.resolve(u+1),ra.c.RIGHT))(o,i);if(Cb(t))return kg(e,dt.NodeSelection.create(o.doc,u))(o,i)}return!1}};var Rg=function(){function e(t,n,r,o,i){var a=this;d()(this,e),E()(this,"allowInteractiveExpand",!0),E()(this,"isMobile",!1),E()(this,"focusTitle",(function(){if(a.input){var e=a.view,t=e.state,n=e.dispatch;kg(hb.Start)(t,n),pg(t,n,a.view),a.input.focus()}})),E()(this,"handleIconKeyDown",(function(e){switch(cp(e)){case"Tab":e.preventDefault(),a.focusTitle();break;case"Enter":e.preventDefault(),a.handleClick(e)}})),E()(this,"isAllowInteractiveExpandEnabled",(function(){var e=a.view.state,t=Object(oi.b)(e);return t&&!!t.interactiveExpand})),E()(this,"handleClick",(function(e){var t=e.target,n=a.view,r=n.state,o=n.dispatch;if(Object(Zi.b)(t,".".concat(Bo.icon))){if(!a.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),a.view.dom instanceof HTMLElement&&a.view.dom.blur(),void ug(a.getPos(),a.node.type)(r,o)}if(t===a.input)return e.stopPropagation(),void a.focusTitle()})),E()(this,"handleInput",(function(e){var t,n,r,o=e.target;if(o===a.input){e.stopPropagation();var i=a.view,c=i.state,s=i.dispatch;(t=o.value,n=a.getPos(),r=a.node.type,function(e,o){var i=e.doc.nodeAt(n);if(i&&i.type===r&&o){var a=e.tr;a.setNodeMarkup(n,i.type,og(og({},i.attrs),{},{title:t}),i.marks),o(a)}return!0})(c,s)}})),E()(this,"handleFocus",(function(e){e.stopImmediatePropagation()})),E()(this,"handleTitleKeydown",(function(e){switch(cp(e)){case"Enter":a.toggleExpand();break;case"Tab":case"ArrowDown":a.moveToOutsideOfTitle(e);break;case"ArrowRight":a.handleArrowRightFromTitle(e);break;case"ArrowLeft":a.handleArrowLeftFromTitle(e);break;case"ArrowUp":a.setLeftGapCursor(e);break;case"Backspace":a.deleteExpand(e)}})),E()(this,"deleteExpand",(function(e){if(a.input){var t=a.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){var r=a.view.state,o=a.node;o&&Object(wa.l)(r.schema)(o)&&cg(a.getPos(),o)(r,a.view.dispatch)}}})),E()(this,"toggleExpand",(function(){if(a.isAllowInteractiveExpandEnabled()){var e=a.view,t=e.state,n=e.dispatch;ug(a.getPos(),a.node.type)(t,n)}})),E()(this,"moveToOutsideOfTitle",(function(e){e.preventDefault();var t=a.view,n=t.state,r=t.dispatch,o=a.getPos();if("number"==typeof o){var i=o;a.isCollapsed()&&(i=o+a.node.nodeSize);var c=n.doc.resolve(i);if(c){if(a.isCollapsed()&&c.nodeAfter&&["expand","nestedExpand"].indexOf(c.nodeAfter.type.name)>-1)return a.setRightGapCursor(e);var s=dt.Selection.findFrom(c,1,!0);s&&(a.view.focus(),r(n.tr.setSelection(s)))}}})),E()(this,"isCollapsed",(function(){return!a.node.attrs.__expanded})),E()(this,"setRightGapCursor",(function(e){if(a.input){var t=a.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){var o=a.view,i=o.state,c=o.dispatch;e.preventDefault(),a.view.focus(),c(i.tr.setSelection(new ra.a(i.doc.resolve(a.node.nodeSize+a.getPos()),ra.c.RIGHT)))}}})),E()(this,"setLeftGapCursor",(function(e){if(a.input){var t=a.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=a.view,o=r.state,i=r.dispatch;a.view.focus(),i(o.tr.setSelection(new ra.a(o.doc.resolve(a.getPos()),ra.c.LEFT)))}}})),E()(this,"handleArrowRightFromTitle",(function(e){if(a.input){var t=a.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){e.preventDefault();var o=a.view,i=o.state,c=o.dispatch;a.view.focus(),kg(hb.End,dt.NodeSelection.create(i.doc,a.getPos()))(i,c)}}})),E()(this,"handleArrowLeftFromTitle",(function(e){if(a.input){var t=a.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=a.view,o=r.state,i=r.dispatch;a.view.focus(),void 0===Og(o).selectionRelativeToNode?kg(void 0,new ra.a(o.doc.resolve(a.getPos()),ra.c.LEFT))(o,i):kg(hb.Start,dt.NodeSelection.create(o.doc,a.getPos()))(o,i)}}})),this.intl=o();var c=ya.DOMSerializer.renderSpec(document,function(e,t){return["div",{class:(n=e.type.name,r=e.attrs.__expanded,"".concat(Bo.prefix," ").concat(Bo.type(n)," ").concat(r?Bo.expanded:"")),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:Bo.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:Bo.icon}],["div",{class:Bo.inputContainer},["input",{class:Bo.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(xo.expandPlaceholderText)||xo.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:Bo.content},0]];var n,r}(t,this.intl)),s=c.dom,u=c.contentDOM;this.getPos=r,this.pos=r(),this.view=n,this.node=t,this.dom=s,this.contentDOM=u,this.isMobile=i,this.icon=this.dom.querySelector(".".concat(Bo.icon)),this.input=this.dom.querySelector(".".concat(Bo.titleInput)),this.titleContainer=this.dom.querySelector(".".concat(Bo.titleContainer)),this.content=this.dom.querySelector(".".concat(Bo.content)),this.renderIcon(this.intl),this.initHandlers()}return p()(e,[{key:"initHandlers",value:function(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}},{key:"renderIcon",value:function(e,t){if(this.icon){var n=(t&&t.attrs||this.node.attrs).__expanded;c.a.render(i.a.createElement(Vb,{intl:e,allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}}},{key:"stopEvent",value:function(e){var t=e.target;return t===this.input||t===this.icon||!!Object(Zi.b)(t,".".concat(Bo.icon))}},{key:"ignoreMutation",value:function(e){return(!this.isMobile||"characterData"!==e.type&&"childList"!==e.type)&&"selection"!==e.type}},{key:"update",value:function(e,t){var n=this;return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(Bo.expanded),this.renderIcon(this&&this.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((function(){n.input&&n.node.attrs.title!==n.input.value&&(n.input.value=n.node.attrs.title)})),this.node=e,!0)}},{key:"destroy",value:function(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),c.a.unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}]),e}(),Ng=function(e){var t=e.getIntl,n=e.isMobile;return function(e,r,o){return new Rg(e,r,o,t,n)}};function Dg(e,t){return!!e&&e.classList.contains(t)}var Lg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full-page",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=eg(e,{}),i="mobile"===n;return new Za.a({state:o,key:Zb,props:{nodeViews:{expand:Ng({getIntl:t,isMobile:i}),nestedExpand:Ng({getIntl:t,isMobile:i})},handleKeyDown:function(e,t){return Dg(t.target,Bo.titleContainer)},handleKeyPress:function(e,t){return Dg(t.target,Bo.titleContainer)},handleScrollToSelection:function(){return Dg(document.activeElement,Bo.titleInput)},handleClickOn:gb(["expand","nestedExpand"],(function(e){return e.classList.contains(Bo.prefix)}),{useLongPressSelection:r})},filterTransaction:function(e){return!(Dg(document.activeElement,Bo.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric))},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n=e.state,r=e.dispatch,o=Yb(n);if(o){var i=Object(Qi.findDomRefAtPos)(o.pos,t);ng(n).expandRef!==i&&ag(i)(n,r)}}}}})},Bg=function(e){return"expand"===(null==e?void 0:e.type.name)||"nestedExpand"===(null==e?void 0:e.type.name)},Fg=function(e){return e instanceof dt.NodeSelection&&Bg(e.node)};function zg(){var e={};return nu.bindKeymapWithCommand(nu.moveRight.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=Og(e).selectionRelativeToNode;return!(!Fg(r)||o!==hb.Start)&&fg(r.from+1)(e,t,n)}),e),nu.bindKeymapWithCommand(nu.moveLeft.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=Og(e).selectionRelativeToNode;return!(!Fg(r)||void 0!==o&&o!==hb.End)&&fg(r.from+1)(e,t,n)}),e),nu.bindKeymapWithCommand(nu.tab.common,(function(e,t,n){if(e.selection instanceof dt.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){var r=e.selection.from,o=n.nodeDOM(r);if(!(o&&o instanceof HTMLElement))return!1;var i=o.querySelector(".".concat(Bo.iconContainer));if(i&&i.focus){var a=e.tr,c=e.selection.from;a.setSelection(new dt.TextSelection(a.doc.resolve(c))),t&&t(a),n.dom.blur(),i.focus()}return!0}return!1}),e),nu.bindKeymapWithCommand(nu.moveUp.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=e.schema,i=r.$from.nodeBefore;if(r instanceof ra.a&&r.side===ra.c.RIGHT&&i&&(i.type===o.nodes.expand||i.type===o.nodes.nestedExpand)&&!i.attrs.__expanded){var a=r.$from;return fg(Math.max(a.pos-1,0))(e,t,n)}var c=e.selection.$from;if(n.endOfTextblock("up")){var s=Yb(e),u=Math.max(c.pos-c.parentOffset-1,0);if(s&&s.start===u)return fg(s.start)(e,t,n);var l=dt.Selection.findFrom(e.doc.resolve(u),-1),d=Yb(e,l);if(l&&d)return d.node.attrs.__expanded?(t&&t(e.tr.setSelection(l)),!0):fg(d.start)(e,t,n)}return!1}),e),nu.bindKeymapWithCommand(nu.moveDown.common,(function(e,t,n){if(!n)return!1;var r=e.schema.nodes,o=r.expand,i=r.nestedExpand,a=e.selection,c=a.$from.nodeAfter;if(a instanceof ra.a&&a.side===ra.c.LEFT&&c&&(c.type===o||c.type===i)&&!c.attrs.__expanded){var s=a.$from;return fg(s.pos+1)(e,t,n)}if(n.endOfTextblock("down")){var u=e.selection.$from,l=e.doc.resolve(u.after());if(l.nodeAfter&&(l.nodeAfter.type===o||l.nodeAfter.type===i))return fg(l.pos+1)(e,t,n)}return!1}),e),nu.bindKeymapWithCommand(nu.backspace.common,(function(e,t,n){var r=e.selection,o=r.$from;if(!n||!r.empty)return!1;var i=e.schema.nodes,a=i.expand,c=i.nestedExpand,s=Yb(e);if(!s){var u=dt.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),l=Yb(e,u);return!(!l||l.node.type!==a&&l.node.type!==c||l.node.attrs.__expanded)&&fg(l.start)(e,t,n)}var d=e.doc.nodeAt(o.before(Math.max(o.depth-1,1)));if(d&&!Bg(d))return!1;var f=dt.Selection.findFrom(e.doc.resolve(s.pos),1,!0);return!!(f&&r.$from.pos===f.$from.pos&&Object(wa.l)(e.schema)(s.node)&&t)&&sg()(e,t)}),e),dp(e)}var Ug,Hg=n(125),Wg=n.n(Hg),Vg=new dt.PluginKey("decorationPlugin");!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(Ug||(Ug={}));var qg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"danger";return function(r,o){var i,a;if(r.selection instanceof dt.NodeSelection){var c=r.selection.node;(Array.isArray(e)?e:[e]).indexOf(c.type)>-1&&(i=r.selection.from,a=c)}var s=Object(Qi.findParentNodeOfType)(e)(r.selection);return void 0===i&&s&&(i=s.pos,a=s.node),void 0!==i&&void 0!==a&&(o&&o(r.tr.setMeta(Vg,{action:t?Ug.DECORATION_ADD:Ug.DECORATION_REMOVE,data:ft.a.node(i,i+a.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)}},Gg=function(e,t){var n=t.formatMessage,r=ng(e).expandRef;if(r){var o=e.schema.nodes,i=o.nestedExpand,a=o.expand;return{title:"Expand toolbar",getDomRef:function(){return r},nodeType:[i,a],offset:[0,6],items:[{id:"editor.expand.delete",type:"button",appearance:"danger",icon:Wg.a,onClick:sg(),onMouseEnter:qg([i,a],!0),onMouseLeave:qg([i,a],!1),onFocus:qg([i,a],!0),onBlur:qg([i,a],!1),title:n(Nc.remove),tabIndex:null}]}}},Kg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"expand",nodes:function(){return[{name:"expand",node:cb.a},{name:"nestedExpand",node:sb.a}]},pmPlugins:function(){return[{name:"expand",plugin:function(t){var n=t.dispatch,r=t.getIntl;return Lg(n,r,e.appearance,e.useLongPressSelection)}},{name:"expandKeymap",plugin:zg}]},pluginsOptions:{floatingToolbar:Gg,quickInsert:function(t){var n=t.formatMessage;return e&&!0!==e.allowInsertion?[]:[{id:"expand",title:n(Gv.a.expand),description:n(Gv.a.expandDescription),keywords:["accordion","collapse"],priority:600,icon:function(){return i.a.createElement(Wv,null)},action:function(e,t){var n=lg(t),r=e(n);return Object(Ot.a)(t,r,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?wt.c.NESTED_EXPAND:wt.c.EXPAND,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]}}}};function $g(e){var t=e.allowExpand;return!(!t||"object"!==gt()(t))&&!!t.allowInsertion}function Yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Xg=new dt.PluginKey("gridPlugin"),Jg=function(e){var t=Object(Td.b)(e);return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t(Xg,{visible:e,gridType:n,highlight:r})}},Zg=function(e){return"wrap-left"===e||"wrap-right"===e?"wrapped":"full"},Qg=["left","right"],ey=function(e,t,n,r){if(!e.length)return!1;var o=e.reduce((function(e,t){return Math.min(e,t)})),i=e.reduce((function(e,t){return Math.max(e,t)}));return"left"===t?o<0&&o<=-n&&("number"!=typeof r||o>=-(n+r)):i>12&&i>=12+n&&("number"!=typeof r||i<=12+r)},ty=function(e){b()(n,e);var t=Yg(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.highlight,n=e.shouldCalcBreakoutGridLines,r=e.theme,o=e.containerElement,a=e.editorWidth,c=e.gridType,s=e.visible,u=r.layoutMaxWidth,l=[].concat(D()(function(e){for(var t=[],n=0;n<=12;n++){var r={paddingLeft:"".concat(100/12,"%")};t.push(i.a.createElement("div",{key:n,className:Jl()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<12?r:void 0}))}return t}(t)),D()(function(e,t,n,r){var o=[];if(!r)return o;var a=(e*he.Z-e)/2;return Qg.forEach((function(r){o.push(i.a.createElement("div",{key:r,className:Jl()("gridLine",ey(n,r,0,4)?"highlight":""),style:E()({position:"absolute"},r,"-".concat(a,"px"))})),o.push(i.a.createElement("div",{key:r+"-bk",className:Jl()("gridLine",n.indexOf("full-width")>-1?"highlight":""),style:E()({position:"absolute"},r,"-".concat((t-e-he.e)/2,"px"))}))})),o}(u,a,t,n)));return i.a.createElement("div",{className:"gridParent"},i.a.createElement("div",{className:Jl()("gridContainer",c),style:{height:"".concat(o.scrollHeight,"px"),display:s?"block":"none"}},l))}}]),n}(i.a.Component),ny=Object(ye.g)(ty),ry=function(e){return{name:"grid",contentComponent:function(t){var n=t.editorView;return i.a.createElement(Xa.a,{plugins:{grid:Xg,widthState:tc},render:function(t){var r=t.grid,o=t.widthState,a=void 0===o?{width:he.r}:o;return r?i.a.createElement(ny,_e()({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:a.width,containerElement:n.dom},r)):null}})}}},oy=n(360),iy=n(588),ay=n(253),cy=n(589),sy=function(){function e(){d()(this,e),E()(this,"handlerStorage",null)}return p()(e,[{key:"captureMessage",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}},{key:"captureException",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)}},{key:"handler",set:function(e){this.handlerStorage=e}}]),e}(),uy=n(326),ly=n.n(uy);function dy(e,t,n){return(t+24)/n*e-24}function fy(e,t,n){return(e+24)*n/(t+24)}function py(e,t){return(t+24)*e-24}function hy(e,t){return(e+24)/(t+24)}var my,vy,by,gy=["children"];function yy(e){return e>he.s?"100%":"".concat(e,"px")}function Oy(e){return e>he.r?"100%":"".concat(e,"px")}var wy=function(e){var t=e.containerWidth,n=void 0===t?0:t,r=e.fullWidthMode,o=e.isResized,i=e.layout,a=e.pctWidth,c=e.width;return Object(T.c)(my||(my=S()(["\n  /* For nested rich media items, set max-width to 100% */\n  tr &,\n  [data-layout-column] &,\n  [data-node-type='expand'] & {\n    max-width: 100%;\n  }\n\n  width: ",";\n  max-width: ",";\n  float: ",";\n  margin: ",";\n  ",";\n\n  &:not(.is-resizing) {\n    transition: width 100ms ease-in;\n  }\n"])),a?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"wide":return Object(Ud.c)(n);case"full-width":return Object(Ud.b)(e,n);default:return"".concat(t,"px")}}(i,c||0,n):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;switch(e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>n/2?"calc(50% - 12px)":"".concat(t,"px");case"wide":return Object(Ud.c)(n);case"full-width":return Object(Ud.b)(e,n);default:return o?"".concat(t,"px"):r?yy(t):Oy(t)}}(i,c||0,n,r,o),function(e,t){switch(e){case"wide":return Object(Ud.c)(t);case"full-width":return Object(Ud.b)(e,t);default:return"100%"}}(i,n),function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(i),function(e){switch(e){case"wrap-right":return"12px auto 12px 12px";case"wrap-left":return"12px 12px 12px auto";default:return"24px auto"}}(i),function(e){switch(e){case"align-end":return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}}(i))},ky=function(e){return Object(T.c)(by||(by=S()(["\n  position: relative;\n\n  ","\n\n  /* Editor */\n  & > figure {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  & > div {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  &[data-node-type='embedCard'] > div {\n    width: 100%;\n  }\n\n  /* Renderer */\n  [data-node-type='media'] {\n    position: static !important;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n"])),(n=(t=e).hasFallbackContainer,r=t.paddingBottom,o=t.height,Object(T.c)(vy||(vy=S()(["\n  ","\n"])),n?"\n  &::after {\n    content: '';\n    display: block;\n    ".concat(o?"height: ".concat(o,"px;"):r?"padding-bottom: ".concat(r,";"):"","\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n  "):"")),e.hasFallbackContainer?"absolute":"relative",e.hasFallbackContainer?"absolute":"relative");var t,n,r,o},Ey=function(e){var t=e.children,n=wo()(e,gy);return Object(T.d)("div",{css:ky(n)},t)};Ey.displayName="WrapperMediaSingle";var xy=["wrap-left","wrap-right","align-end","align-start"],Sy=function(e,t,n){return xy.indexOf(e)>-1&&n&&t&&t>.5*n};function jy(e){var t=e.layout,n=e.width,r=e.height,o=e.containerWidth,a=void 0===o?n:o,c=e.isLoading,s=void 0!==c&&c,u=e.pctWidth,l=e.className,d=e.children,f=e.nodeType,p=void 0===f?"mediaSingle":f,h=e.fullWidthMode,m=e.lineLength,v=e.hasFallbackContainer,b=void 0===v||v,g=e.handleMediaSingleRef,y=i.a.Children.toArray(d);!u&&Sy(t,n,m)&&(u=50);var O,w,k=void 0===n;if(u){var E=Math.ceil(py(u/100,m||a||0));k?n=E-he.x:void 0!==n&&(r=r/n*E,n=E)}else k&&(n=he.c-he.x);if(k)O=r;else if(void 0!==n){w="".concat((r/n*100).toFixed(3),"%"),"embedCard"===p&&(w="calc(".concat(w," + 32px)"))}var x=mr()(y,2),S=x[0],j=x[1];return Object(T.d)("div",{ref:g,css:wy({width:n,layout:t,containerWidth:a,pctWidth:u,fullWidthMode:h}),"data-layout":t,"data-width":u,"data-node-type":p,className:Jl()("rich-media-item mediaSingleView-content-wrap","image-".concat(t),l,{"is-loading":s,"rich-media-wrapped":"wrap-left"===t||"wrap-right"===t})},Object(T.d)(Ey,{hasFallbackContainer:b,height:O,paddingBottom:w},S),j)}var Cy=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},Ty=n(1081),_y=function(e){return!(!e||"external"!==e.type||!Object(Ty.c)(e.url))},Ay=function(e){return Uy(e)||Ly(e)||My(e)||Ry(e)},Py=function(e){var t=e.selection.node;return t&&t.type!==e.schema.nodes.media&&t.isBlock},Iy=function(e){var t=e.selection.node;return t&&t.type===e.schema.nodes.mediaSingle},My=function(e){if(Object(pa.a)(e))return By(e,e.selection.$from)},Ry=function(e){if(e.selection instanceof ra.a){var t=e.selection.$from,n=e.schema.nodes.mediaGroup;return Ny(t,n)||Dy(t,n)}},Ny=function(e,t){if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},Dy=function(e,t){if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},Ly=function(e){if(Object(pa.c)(e))return zy(e,e.selection.$to)},By=function(e,t){var n,r;if(Py(e)?(n=t.pos,r=t.nodeBefore):(n=Object(pa.f)(t)-1,r=e.doc.resolve(n).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return n-r.nodeSize+1},Fy=function(e){return e.selection.$from.parent.type===e.schema.nodes.paragraph&&Object(pa.a)(e)&&Object(pa.c)(e)},zy=function(e,t){var n,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Py(e)?(n=t.pos,r=t.nodeAfter):(n=Object(pa.e)(t),r=e.doc.nodeAt(n)),r&&r.type===e.schema.nodes.mediaGroup)return o?n+1:n+r.nodeSize-1},Uy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.selection.$from;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return n?Object(pa.f)(t):Object(pa.e)(t)-1};var Hy=function(e,t,n){var r=t.attrs.id,o=e.state,i=o.tr,a=o.selection,c=o.doc,s=n();i.deleteRange(s,s+t.nodeSize),Object(wa.q)(r)&&i.setMeta("addToHistory",!1);var u=c.resolve(s),l=u.nodeBefore,d=u.parent,f=u.index()===d.childCount-1;if(a.from===s&&!f&&!Object(pa.b)(o)&&l&&"media"===l.type.name){var p=Object(Qi.findPositionOfNodeBefore)(i.selection);p&&i.setSelection(dt.NodeSelection.create(i.doc,p))}e.dispatch(i)},Wy=function(e){return e.length>1&&"_"===e[0]&&"_"===e[1]},Vy=function(e,t){Object.keys(t.attrs).filter(Wy).forEach((function(n){var r=n.substring(2),o=e[r];void 0!==o&&(t.attrs[n]=o)}))},qy=function(e){return"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility},Gy=["DIV","TD"];function Ky(e){return!!e&&-1!==Gy.indexOf(e.tagName)}var $y=function(e){if(!Iy(e))return null;var t=e.tr,n=t.selection.from+1,r=t.doc.nodeAt(n);return r&&r.type===e.schema.nodes.media?r:null};function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jy=function(e,t){return{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:wt.c.MEDIA_SINGLE},eventType:wt.e.TRACK}};function Zy(e){return Object(pa.a)(e)&&!Object(wa.d)(e.selection,e.doc,uc.h)}function Qy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=n.tr,i=n.schema.nodes.paragraph,a=t.inputMethod,c=t.fileExtension,s=0;return Zy(n)&&(e.push(i.create()),s=1),o.replaceSelection(new ya.Slice(ya.Fragment.from(e),0,s)),a&&Object(Ot.a)(n,o,Jy(a,c)),r&&r(o),!0}}var eO=function(e,t){return!!e.nodes.mediaSingle&&Cy(t)},tO=function(e,t,n){return function(r){var o=r.id,i=r.dimensions,a=r.contextId,c=r.scaleFactor,s=void 0===c?1:c,u=i||{height:void 0,width:void 0},l=u.width,d=u.height,f=e.nodes,p=f.media,h=f.mediaSingle,m=p.create({id:o,type:"file",collection:t,contextId:a,width:l&&Math.round(l/s),height:d&&Math.round(d/s)}),v=n?{layout:"align-start"}:{};return Vy(r,m),h.createChecked(v,m)}};var nO=function(e){var t=e.origWidth,n=e.origHeight,r=e.layout,o=e.pctWidth,i=e.containerWidth,a=e.resizedPctWidth,c=i.width,s=i.lineLength,u=rO(i,o,t,n),l=rO(i,a,t,n);if("wide"===r){if(s){var d=Math.ceil(s*he.Z);return d>c?s:d}}else{if("full-width"===r)return c-he.e;if(u)return xy.indexOf(r)>-1?l?a<50?l:u:Math.min(u,t):l||u;if("center"===r)return l||Math.min(t,s||c);if(r&&-1!==xy.indexOf(r)){var f=Math.ceil((s||c)/2);return t<=f?t:f}}return t},rO=function(e,t,n,r){return t&&n&&r&&Math.ceil(py(t/100,e.lineLength||e.width))};var oO=n(529),iO=n.n(oO),aO=Object(ko.b)({dropPlaceholderLabel:{id:"fabric.editor.dropPlaceholderLabel",defaultMessage:"Document",description:"document label for an media icon"}});function cO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var sO,uO,lO,dO=n(1093),fO=n(1076),pO=i.a.createContext({}),hO=function(){var e=Object(o.useContext)(pO);return i.a.createElement(dO.a,e)},mO=gv()({loader:function(){return Promise.all([n.e(5),n.e(4),n.e(6),n.e(8),n.e(66)]).then(n.bind(null,2097)).then((function(e){return e.Card}))},loading:function(){return i.a.createElement(hO,null)}}),vO=gv()({loader:function(){return n.e(67).then(n.bind(null,1992)).then((function(e){return e.default}))},loading:function(){return i.a.createElement(hO,null)}}),bO=gv()({loader:function(){return n.e(4).then(n.bind(null,224))},loading:function(){return i.a.createElement(hO,null)},render:function(e,t){return i.a.createElement(gO,_e()({},t,{withMediaClient:e.withMediaClient}))}}),gO=function(e){var t=e.withMediaClient,n=e.featureFlags,r=Object(fO.d)(n),o=i.a.useMemo((function(){return t(mO,r)}),[t,r]);return i.a.createElement(vO,null,i.a.createElement(o,e))},yO=function(e){return i.a.createElement(pO.Provider,{value:e},i.a.createElement(bO,e))},OO=Object(T.c)(sO||(sO=S()(["\n  margin: 0;\n"]))),wO=Object(T.c)(uO||(uO=S()(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n"]))),kO=Object(T.c)(lO||(lO=S()(["\n  width: 100%;\n  position: relative;\n"]))),EO=function(e){var t=e.dimensions,n=e.children,r=e.onContextMenu;return Object(T.d)("div",{css:kO,style:{paddingBottom:"".concat(t.height/t.width*100,"%")},onContextMenuCapture:r},Object(T.d)("div",{css:wO},n))};function xO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var SO,jO,CO,TO=function(e){b()(r,e);var t,n=xO(r);function r(e){var t;d()(this,r),t=n.call(this,e),E()(m()(t),"state",{}),E()(m()(t),"setViewMediaClientConfig",u()(C.a.mark((function e(){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.mediaProvider;case 2:(n=e.sent)&&(r=n.viewMediaClientConfig,t.setState({viewMediaClientConfig:r}));case 4:case"end":return e.stop()}}),e)})))),E()(m()(t),"selectMediaSingleFromCard",(function(e){var n=e.event;t.selectMediaSingle(n)})),E()(m()(t),"selectMediaSingle",(function(e){e.stopPropagation();var n=t.props.getPos(),r=t.props.view.state;if(e.shiftKey){if(r.selection instanceof Oa.a)return;Object(Kv.g)(t.props.view,r.selection.from<n?r.selection.from:n-1,r.selection.to>n?r.selection.to:n+2)}else Object(Kv.f)(t.props.view,n-1)})),E()(m()(t),"onFullscreenChange",(function(e){t.mediaPluginState.updateAndDispatch({isFullscreen:e})})),E()(m()(t),"handleNewNode",(function(e){var n=e.node;t.mediaPluginState.handleMediaNodeMount(n,(function(){return t.props.getPos()}))}));var o=t.props.view;return t.mediaPluginState=Yl.a.getState(o.state),t}return p()(r,[{key:"shouldComponentUpdate",value:function(e,t){var n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig;return!(this.props.selected===e.selected&&this.props.uploadComplete===e.uploadComplete&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}},{key:"componentDidMount",value:(t=u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleNewNode(this.props),t=this.props.contextIdentifierProvider,e.t0=this,e.next=5,t;case 5:return e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=10,this.setViewMediaClientConfig();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this.props.node;this.mediaPluginState.handleMediaNodeUnmount(e)}},{key:"componentDidUpdate",value:function(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.selected,r=e.uploadComplete,o=e.originalDimensions,a=e.isLoading,c=e.maxDimensions,s=e.mediaOptions,u=this.state,l=u.viewMediaClientConfig,d=u.contextIdentifierProvider,f=t.attrs,p=f.id,h=f.type,m=f.collection,v=f.url,b=f.alt;if(a||"external"!==h&&(!l||"boolean"==typeof r&&!r))return i.a.createElement(EO,{dimensions:o},i.a.createElement(dO.a,null));var g=d&&d.objectId,y="external"===h?{dataURI:v,name:v,mediaItemType:"external-image"}:{id:p,mediaItemType:"file",collectionName:m},O=l||{authProvider:function(){return{}}};return i.a.createElement(EO,{dimensions:o,onContextMenu:this.selectMediaSingle},i.a.createElement(yO,{mediaClientConfig:O,resizeMode:"stretchy-fit",dimensions:c,originalDimensions:o,identifier:y,selectable:!0,selected:n,disableOverlay:!0,onFullscreenChange:this.onFullscreenChange,onClick:this.selectMediaSingleFromCard,useInlinePlayer:s&&s.allowLazyLoading,isLazy:s&&s.allowLazyLoading,featureFlags:s&&s.featureFlags,contextId:g,alt:b}))}}]),r}(o.Component),_O=(SO=TO,function(e){b()(n,e);var t=cO(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{imageStatus:"loading"}),E()(m()(e),"onLoad",(function(){e.setState({imageStatus:"complete"});var t=e.props.onExternalImageLoaded;t&&e.img&&t({width:e.img.naturalWidth,height:e.img.naturalHeight})})),E()(m()(e),"onError",(function(){e.setState({imageStatus:"error"})})),e}return p()(n,[{key:"componentDidMount",value:function(){this.fetchImage(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}},{key:"componentWillUnmount",value:function(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}},{key:"fetchImage",value:function(e){var t=e.url;t&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=t)}},{key:"render",value:function(){var e=this.state.imageStatus;return i.a.createElement(SO,_e()({},this.props,{imageStatus:e}))}}]),n}(o.Component)),AO=Object(T.c)(jO||(jO=S()(["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),Object(ot.a)("color.icon.accent.blue",Object(yt.J)(Ce.B400,.4)||Ce.B400),Object(ot.a)("color.background.accent.blue.subtle",Object(yt.J)(Ce.B300,.6)||Ce.B300),Object(Ze.d)(),156,125),PO=Object(T.c)(CO||(CO=S()(["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"])),Object(ot.a)("color.border.focused",Ce.B200),Object(Ze.d)()),IO=Object(Ji.c)((function(e){var t=e.intl,n=aO.dropPlaceholderLabel;return Object(T.d)("div",{css:AO},Object(T.d)(iO.a,{label:t.formatMessage(n),size:"medium"}))})),MO=function(e){var t=e.type;return"single"===(void 0===t?"group":t)?Object(T.d)("div",{css:PO}):Object(T.d)(IO,null)},RO=function(e,t){var n="";return 1===e.length?n=e[0].fileMimeType||"unknown":e.length>1&&(n="multiple"),{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.MEDIA,attributes:{type:wt.c.MEDIA_GROUP,inputMethod:t,fileExtension:n},eventType:wt.e.TRACK}};var NO=function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.schema,c=o.tr,s=a.nodes.mediaInline;if(!s||!t||void 0===n)return!1;var u=t.id,l=s.create({id:u,collection:n}),d=o.schema.text(" "),f=o.selection.$to.pos;Object(wa.n)(o)&&Fy(o)&&(f+=1);var p=ya.Fragment.from([l,d]),h=zO(o);return h?c.insert(f,p).deleteRange(h.start,h.end):c.insert(f,p),Object(Ot.a)(o,c,function(e,t){var n=e.fileMimeType||"unknown";return{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.MEDIA,attributes:{type:wt.c.MEDIA_INLINE,inputMethod:t,fileExtension:n},eventType:wt.e.TRACK}}(t,r)),i(c),!0},DO=function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.tr,c=o.schema,s=c.nodes,u=s.media,l=s.paragraph;if(u&&t.length){var d=LO(t,n,u),f=FO(o),p=a.doc.resolve(f).parent,h=a.doc.nodeAt(f),m=!function(e){var t=e.schema,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(o)&&Object(Bd.f)(o,ya.Fragment.from(o.schema.nodes.mediaGroup.createChecked({},d))),v=function(e,t){var n=e.schema.nodes.media,r=t&&t.type===n;return(Object(wa.j)(e)||Object(wa.n)(e)||Object(wa.m)(e)||Object(pa.d)(e)&&(!My(e)||Py(e)))&&!r}(o,h),b=p.type===c.nodes.mediaGroup?d:[c.nodes.mediaGroup.createChecked({},d)];if(m){b=v?b.concat(l.create()):b;var g=zO(o);return g?f<=g.start?a.deleteRange(g.start,g.end).insert(f,b):a.insert(f,b).deleteRange(g.start,g.end):a.insert(f,b),Object(Ot.a)(o,a,RO(t,r)),i(a),void HO(e)}v&&p.type!==c.nodes.mediaGroup&&b.push(l.create()),Object(Ot.a)(o,a,RO(t,r)),i(Object(Qi.safeInsert)(ya.Fragment.fromArray(b),f)(a))}},LO=function(e,t,n){return e.map((function(e){var r=e.id,o=n.create({id:r,type:"file",collection:t});return Vy(e,o),o}))},BO=function(e){var t=e.schema.nodes,n=t.mediaGroup,r=t.listItem;if(Object(Qi.hasParentNode)((function(e){return e.type===r}))(e.selection)){var o=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList;return Object(uc.b)((function(e){return e.type===n||e.type===r}))(e.selection.$from)}(e);if(o){var i=o.pos+o.node.nodeSize,a=e.doc.nodeAt(i);return a&&a.type===n?i+1:i}}},FO=function(e){var t=e.selection,n=t.$from,r=t.$to,o=BO(e);if(o)return o;var i=Ay(e);return i&&(!Py(e)||n.pos<i&&r.pos<i)?i:Py(e)?r.pos:Object(pa.c)(e)?r.pos+1:Object(pa.a)(e)?n.pos-1:r.pos},zO=function(e){var t=e.selection,n=t.$from,r=t.$to;if(!Uy(e))return!Fy(e)||Ay(e)?UO(n.pos,r.pos):UO(Object(pa.f)(n)-1,Object(pa.e)(r))},UO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return{start:e,end:t}},HO=function(e){var t=e.state,n=t.doc,r=Ay(t);if(r){var o=n.resolve(r),i=Object(pa.e)(o);i+1>=n.nodeSize-1?Object(Kv.f)(e,r):Object(Kv.g)(e,i+1)}},WO=n(1209);function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qO=function(e,t){return e.mediaNodes.reduce((function(e,n){return e||(n.node.attrs.id===t?n:e)}),null)},GO=function(e,t,n){var r=n?qO(e,t):e.mediaGroupNodes[t];return r||function(e,t,n){return n?null:qO(e,t)}(e,t,n)},KO=function(e,t){return e.mediaOptions&&e.mediaOptions.allowMarkingUploadsAsIncomplete&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0},$O=function(e,t){var n=t.doc.nodeAt(e);return n&&["media","mediaInline"].includes(n.type.name)},YO=function(e,t,n){return function(r,o){var i,a=Yl.a.getState(r);if(n)i=function(e,t){return e.mediaNodes.filter((function(e){return e.node.attrs.id===t}))}(a,e);else{var c=GO(a,e,n);i=c?[c]:[]}var s=i.reduce((function(e,t){var n=(0,t.getPos)();return"number"!=typeof n||$O(n,r)?(e.push(n),e):e}),[]);if(0===s.length)return!1;var u=r.tr;return s.forEach((function(e){return u.step(new WO.a(e,t))})),u.setMeta("addToHistory",!1),o&&o(u),!0}},XO=function(e,t,n){return function(r,o){var i=Yl.a.getState(r),a=GO(i,e,n);if(!a)return!1;var c=r.tr,s=a.getPos();return!!$O(s,r)&&(c.step(new WO.a(s,t)).setMeta("addToHistory",!1),o&&o(c),!0)}},JO=function(e,t){return function(n,r){var o=n.tr,i=o.doc.nodeAt(e);return!(!i||"media"!==i.type.name)&&(o.step(new WO.a(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"file",url:null},t))).setMeta("addToHistory",!1),r&&r(o),!0)}};function ZO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var QO=function(e){b()(o,e);var t,r=ZO(o);function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),E()(m()(e),"state",{Dropzone:o.Dropzone,MediaPickerErrorBoundary:o.MediaPickerErrorBoundary}),e}return p()(o,[{key:"UNSAFE_componentWillMount",value:(t=u()(C.a.mark((function e(){var t,r,i,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Dropzone&&this.state.MediaPickerErrorBoundary){e.next=16;break}return e.prev=1,e.next=4,Promise.all([n.e(4).then(n.bind(null,224)),Promise.all([n.e(4),n.e(6),n.e(12),n.e(70)]).then(n.bind(null,2108)),n.e(72).then(n.bind(null,1993))]);case 4:t=e.sent,r=mr()(t,3),i=r[0],a=r[1],c=r[2],o.Dropzone=i.withMediaClient(a.Dropzone,this.props.featureFlags),o.MediaPickerErrorBoundary=c.default,this.setState({Dropzone:o.Dropzone,MediaPickerErrorBoundary:o.MediaPickerErrorBoundary}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.Dropzone,n=e.MediaPickerErrorBoundary;return t&&n?i.a.createElement(n,null,i.a.createElement(t,this.props)):null}}]),o}(i.a.PureComponent);function ew(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(QO,"displayName","AsyncDropzone");var tw=function(e){b()(o,e);var t,r=ew(o);function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),E()(m()(e),"state",{Clipboard:o.Clipboard}),e}return p()(o,[{key:"UNSAFE_componentWillMount",value:(t=u()(C.a.mark((function e(){var t,r,i,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Clipboard){e.next=9;break}return e.next=3,Promise.all([n.e(4).then(n.bind(null,224)),Promise.all([n.e(4),n.e(6),n.e(12),n.e(68)]).then(n.bind(null,2111))]);case 3:t=e.sent,r=mr()(t,2),i=r[0],a=r[1],o.Clipboard=i.withMediaClient(a.Clipboard,this.props.featureFlags),this.setState({Clipboard:o.Clipboard});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.Clipboard?i.a.createElement(this.state.Clipboard,this.props):null}}]),o}(i.a.PureComponent);function nw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(tw,"displayName","AsyncClipboard");var rw=function(e){b()(o,e);var t,r=nw(o);function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),E()(m()(e),"mounted",!1),E()(m()(e),"state",{Browser:o.Browser}),e}return p()(o,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillMount",value:(t=u()(C.a.mark((function e(){var t,r,i,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Browser){e.next=9;break}return e.next=3,Promise.all([n.e(4).then(n.bind(null,224)),Promise.all([n.e(4),n.e(6),n.e(12),n.e(65)]).then(n.bind(null,1994))]);case 3:t=e.sent,r=mr()(t,2),i=r[0],a=r[1],o.Browser=i.withMediaClient(a.Browser,this.props.featureFlags),this.mounted&&this.setState({Browser:o.Browser});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.Browser?i.a.createElement(this.state.Browser,this.props):null}}]),o}(i.a.PureComponent);E()(rw,"displayName","AsyncBrowser");var ow=function(){function e(t,n,r,o){var i=this;d()(this,e),E()(this,"onDragListeners",[]),E()(this,"onStartListeners",[]),E()(this,"eventListeners",{}),E()(this,"handleUploadPreviewUpdate",(function(e){var t=e.file,n=e.preview,r=i.erroredFiles.has(t.id),o=function(e){return!!e.dimensions}(n)?n:{dimensions:void 0,scaleFactor:void 0},a=o.dimensions,c=o.scaleFactor,s={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:a,scaleFactor:c,status:r?"error":void 0};i.eventListeners[t.id]=[],i.onStartListeners.forEach((function(e){return e(s,(function(e){return i.subscribeStateChanged(t,e)}),i.analyticsName||i.pickerType)}))})),E()(this,"subscribeStateChanged",(function(e,t){var n=i.eventListeners[e.id];n&&n.push(t)})),E()(this,"handleUploadError",(function(e){var t=e.error,n=e.fileId,r=i.eventListeners[n];i.erroredFiles.add(n),r&&(r.forEach((function(e){return e({id:n,status:"error",error:t&&{description:t.description,name:t.name}})})),delete i.eventListeners[n])})),E()(this,"handleMobileUploadEnd",(function(e){var t=e.file,n=i.eventListeners[t.id];n&&n.forEach((function(e){return e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})}))})),E()(this,"handleReady",(function(e){var t=e.file,n=i.eventListeners[t.id];n&&(n.forEach((function(e){return e({id:t.id,status:"ready"})})),delete i.eventListeners[t.id])})),this.config=n,this.pickerConfig=r,this.pickerType=t,this.analyticsName=o,this.erroredFiles=new Set}var t;return p()(e,[{key:"init",value:(t=u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("customMediaPicker"===this.pickerType&&(t=this.picker=this.pickerConfig),t){e.next=3;break}return e.abrupt("return",this);case 3:return t.on("upload-preview-update",this.handleUploadPreviewUpdate),t.on("upload-end",this.handleReady),t.on("upload-error",this.handleUploadError),t.on("mobile-upload-end",this.handleMobileUploadEnd),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"type",get:function(){return this.pickerType}},{key:"mediaPicker",get:function(){return this.picker}},{key:"destroy",value:function(){var e=this.picker;e&&(e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[])}},{key:"setUploadParams",value:function(e){this.picker&&this.picker.setUploadParams(e)}},{key:"onNewMedia",value:function(e){this.onStartListeners.push(e)}},{key:"onDrag",value:function(e){this.onDragListeners.push(e)}}]),e}();function iw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return aw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uw=["ready","error","cancelled"],lw=function(){function e(t,n,r,o){var i=this;d()(this,e),E()(this,"allowsUploads",!1),E()(this,"ignoreLinks",!1),E()(this,"waitForMediaUpload",!0),E()(this,"allUploadsFinished",!0),E()(this,"showDropzone",!1),E()(this,"isFullscreen",!1),E()(this,"layout","center"),E()(this,"mediaNodes",[]),E()(this,"mediaGroupNodes",{}),E()(this,"mobileUploadComplete",{}),E()(this,"pendingTask",Promise.resolve(null)),E()(this,"destroyed",!1),E()(this,"removeOnCloseListener",(function(){})),E()(this,"onPopupToggleCallback",(function(){})),E()(this,"pickers",[]),E()(this,"pickerPromises",[]),E()(this,"onContextIdentifierProvider",function(){var e=u()(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,n;case 3:i.contextIdentifierProvider=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E()(this,"setMediaProvider",function(){var e=u()(C.a.mark((function e(t){var n,r,o,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return i.destroyPickers(),i.allowsUploads=!1,i.destroyed||i.view.dispatch(i.view.state.tr.setMeta(Yl.a,{allowsUploads:i.allowsUploads})),e.abrupt("return");case 5:return e.prev=5,e.next=8,t;case 8:i.mediaProvider=e.sent,i.mediaProvider.viewMediaClientConfig||(n=i.mediaProvider.viewMediaClientConfig)&&(i.mediaProvider.viewMediaClientConfig=n),ly()(i.mediaProvider.viewMediaClientConfig,"MediaProvider promise did not resolve to a valid instance of MediaProvider - ".concat(i.mediaProvider)),e.next=21;break;case 13:return e.prev=13,e.t0=e.catch(5),r=new Error("Media functionality disabled due to rejected provider: ".concat(e.t0.message)),i.errorReporter.captureException(r),i.destroyPickers(),i.allowsUploads=!1,i.destroyed||i.view.dispatch(i.view.state.tr.setMeta(Yl.a,{allowsUploads:i.allowsUploads})),e.abrupt("return");case 21:if(i.mediaClientConfig=i.mediaProvider.viewMediaClientConfig,i.allowsUploads=!!i.mediaProvider.uploadMediaClientConfig,o=i.view,a=i.allowsUploads,!i.destroyed&&o&&o.dom.parentNode&&o.dispatch(o.state.tr.setMeta(Yl.a,{allowsUploads:a})),!i.allowsUploads){e.next=35;break}if(i.uploadMediaClientConfig=i.mediaProvider.uploadMediaClientConfig,!i.mediaProvider.uploadParams||!i.uploadMediaClientConfig){e.next=32;break}return e.next=30,i.initPickers(i.mediaProvider.uploadParams,ow);case 30:e.next=33;break;case 32:i.destroyPickers();case 33:e.next=36;break;case 35:i.destroyPickers();case 36:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()),E()(this,"getMediaOptions",(function(){return i.options})),E()(this,"isMediaSchemaNode",(function(e){var t,n=e.type,r=i.view.state.schema.nodes,o=r.mediaInline,a=r.mediaSingle,c=r.media;return Object(fO.c)("mediaInline",null===(t=i.mediaOptions)||void 0===t?void 0:t.featureFlags)?n===a||n===c||n===o:n===a})),E()(this,"insertFile",(function(e,t,n){var r,o=i.view.state,a=sw(sw({},e),{},{contextId:i.contextIdentifierProvider?i.contextIdentifierProvider.objectId:void 0}),c=i.collectionFromProvider();if(void 0!==c){i.mediaOptions&&i.mediaOptions.allowMarkingUploadsAsIncomplete&&(i.mobileUploadComplete[a.id]=!1),"error"!==e.status&&i.updateAndDispatch({allUploadsFinished:!1}),eO(o.schema,a.fileMimeType)?function(e,t,n,r,o){var i;if(void 0===r)return!1;var a,c=e.state,s=e.dispatch,u=null===(i=c.selection.$from.node(-1))||void 0===i?void 0:i.type,l=c.selection.$from.parent.type,d=tO(c.schema,r,o)(t);if(t.fileName){var f=t.fileName.lastIndexOf(".");a=f>=0?t.fileName.substring(f+1):void 0}if(eb(l,u,d))Qy([d],{fileExtension:a,inputMethod:n})(c,s);else{var p=null;if(Object(oi.b)(e.state).newInsertionBehaviour&&(p=Jv(d,c.selection.from)(c.tr)),!p){var h=Zy(e.state)?ya.Fragment.fromArray([d,c.schema.nodes.paragraph.create()]):d;p=Object(Qi.safeInsert)(h,void 0,!0)(c.tr)}n&&(p=Object(Ot.a)(c,p,Jy(n,a))),s(p)}}(i.view,a,i.getInputMethod(n),c,i.mediaOptions&&i.mediaOptions.alignLeftOnInsert):!Object(fO.c)("mediaInline",null===(r=i.mediaOptions)||void 0===r?void 0:r.featureFlags)||Object(uc.i)(o)||Fy(o)&&!Object(wa.n)(o)||!function(e){var t=e.schema.nodes.mediaInline.create({});return Object(Qi.canInsert)(e.selection.$to,ya.Fragment.from(t))}(o)?DO(i.view,[a],c,i.getInputMethod(n)):NO(i.view,a,c,i.getInputMethod(n)),t(i.handleMediaState);var s=function(e){return e.status&&-1!==uw.indexOf(e.status)};s(a)||(i.addPendingTask(new Promise((function(e){t((function(t){s(t)&&e(t)}))}))),i.pendingTask.then((function(){i.updateAndDispatch({allUploadsFinished:!0})})));var u=i.view;u.hasFocus()||u.focus()}})),E()(this,"addPendingTask",(function(e){var t=i.pendingTask,n=function(){return t};i.pendingTask=e.then(n,n)})),E()(this,"splitMediaGroup",(function(){return e=i.view,(t=e.state.selection)instanceof dt.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(hm.e)(e.state,e.dispatch),t.$to.nodeAfter?(Object(hm.g)(e.state,e.dispatch),Ta(!1)(e.state,e.dispatch)):ja(e.state,e.dispatch),!0);var e,t})),E()(this,"onPopupPickerClose",(function(){i.onPopupToggleCallback(!1)})),E()(this,"showMediaPicker",(function(){if(i.openMediaPickerBrowser)return i.openMediaPickerBrowser();i.onPopupToggleCallback(!0)})),E()(this,"setBrowseFn",(function(e){i.openMediaPickerBrowser=e})),E()(this,"onPopupToggle",(function(e){i.onPopupToggleCallback=e})),E()(this,"waitForPendingTasks",(function(e,t){if(t&&i.pendingTask===t)return t;var n,r=i.pendingTask.then((function(){return i.waitForPendingTasks(void 0,i.pendingTask)}));if(!e)return r;var o=new Promise((function(t,r){n=window.setTimeout((function(){return r(new Error("Media operations did not finish in ".concat(e," ms")))}),e)}));return Promise.race([o,r.then((function(e){return clearTimeout(n),e}))])})),E()(this,"handleMediaNodeRemoval",(function(e,t){var n=e;n||(n=i.view.state.doc.nodeAt(t())),Hy(i.view,n,t)})),E()(this,"handleMediaNodeMount",(function(e,t){i.mediaNodes.unshift({node:e,getPos:t})})),E()(this,"handleMediaNodeUnmount",(function(e){i.mediaNodes=i.mediaNodes.filter((function(t){var n=t.node;return e!==n}))})),E()(this,"findMediaNode",(function(e){return qO(i,e)})),E()(this,"destroyAllPickers",(function(e){e.forEach((function(e){return e.destroy()})),i.pickers.splice(0,i.pickers.length)})),E()(this,"destroyPickers",(function(){var e=i.pickers,t=i.pickerPromises;t.length===e.length?i.destroyAllPickers(i.pickers):Promise.all(t).then((function(e){return i.destroyAllPickers(e)})),i.customPicker=void 0})),E()(this,"getInputMethod",(function(e){switch(e){case"clipboard":return wt.f.CLIPBOARD;case"dropzone":return wt.f.DRAG_AND_DROP}})),E()(this,"updateMediaNodeAttrs",(function(e,t,n){var r=i.view;if(r)return XO(e,t,n)(r.state,r.dispatch)})),E()(this,"handleMediaState",(function(e){switch(e.status){case"error":var t=i.options.uploadErrorHandler;t&&t(e);break;case"mobile-upload-end":var n={id:e.publicId||e.id};"string"==typeof e.collection&&(n.collection=e.collection),i.updateMediaNodeAttrs(e.id,n,eO(i.view.state.schema,e.fileMimeType)),i.mobileUploadComplete[n.id]=!0,delete i.mediaGroupNodes[e.id]}})),E()(this,"isMobileUploadCompleted",(function(e){return KO(i,e)})),E()(this,"removeNodeById",(function(e){var t=e.id,n=GO(i,t,Cy(e.fileMimeType));n&&Hy(i.view,n.node,n.getPos)})),E()(this,"removeSelectedMediaContainer",(function(){var e=i.view,t=i.selectedMediaContainerNode();if(!t)return!1;var n=e.state.selection.from;return Hy(e,t.firstChild,(function(){return n+1})),!0})),E()(this,"selectedMediaContainerNode",(function(){var e=i.view.state.selection;if(e instanceof dt.NodeSelection&&i.isMediaSchemaNode(e.node))return e.node})),E()(this,"handleDrag",(function(e){var t="enter"===e;if(i.showDropzone!==t){i.showDropzone=t;var n=i.view;(0,n.dispatch)(n.state.tr)}})),this.options=n,this.mediaOptions=r,this.dispatch=o,this.waitForMediaUpload=void 0===n.waitForMediaUpload||n.waitForMediaUpload;var a=t.schema.nodes;ly()(a.media&&(a.mediaGroup||a.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),n.providerFactory.subscribe("mediaProvider",(function(e,t){return i.setMediaProvider(t)})),n.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=n.errorReporter||new sy}var t;return p()(e,[{key:"updateElement",value:function(){var e,t=this.selectedMediaContainerNode();t&&this.isMediaSchemaNode(t)&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}},{key:"getDomElement",value:function(e){var t=this.view.state.selection;if(t instanceof dt.NodeSelection&&this.isMediaSchemaNode(t.node)){var n=Object(Qi.findDomRefAtPos)(t.from,e);return n?n.childNodes.length?n:n.parentNode:void 0}}},{key:"setView",value:function(e){this.view=e}},{key:"destroy",value:function(){if(!this.destroyed){this.destroyed=!0;var e=this.mediaNodes;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}}},{key:"initPickers",value:(t=u()(C.a.mark((function e(t,n){var r,o,i,a,c,s=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed&&this.uploadMediaClientConfig){e.next=2;break}return e.abrupt("return");case 2:if(r=this.errorReporter,o=this.pickers,i=this.pickerPromises,o.length){e.next=14;break}if(a={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:r},!this.options.customMediaPicker){e.next=13;break}return c=new n("customMediaPicker",a,this.options.customMediaPicker).init(),i.push(c),e.t0=o,e.next=11,c;case 11:e.t1=this.customPicker=e.sent,e.t0.push.call(e.t0,e.t1);case 13:o.forEach((function(e){e.onNewMedia(s.insertFile)}));case 14:o.forEach((function(e){return e.setUploadParams(t)}));case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"collectionFromProvider",value:function(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}},{key:"updateAndDispatch",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=n,o=e[r];void 0!==o&&(t[r]=o)})),this.dispatch&&this.dispatch(Yl.a,sw({},this))}}]),e}(),dw=function(e){return Yl.a.getState(e)},fw=function(e,t,n,r,o,a){var s=function(e,t){var n=document.createElement("div"),r=i.a.createElement;return t?c.a.render(r(Ji.b,{value:e},r(MO,{type:"single"})),n):c.a.render(r(Ji.b,{value:e},r(MO)),n),n}(r(),a&&a.allowDropzoneDropLine);return new Za.a({state:{init:function(e,n){return new lw(n,t,a,o)},apply:function(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));var n=e.getMeta(Yl.a);if(n){var r=n.allowsUploads;t.updateAndDispatch({allowsUploads:void 0===r?t.allowsUploads:r})}return t}},appendTransaction:function(e,t,n){var r,o=iw(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.selectionSet&&Object(Qi.isNodeSelection)(i.selection)&&i.selection.node.type===n.schema.nodes.media&&i.selection.$anchor.parent.type===n.schema.nodes.mediaSingle)return n.tr.setSelection(dt.NodeSelection.create(n.doc,i.selection.$from.pos-1))}}catch(e){o.e(e)}finally{o.f()}},key:Yl.a,view:function(e){var t=dw(e.state);return t.setView(e),t.updateElement(),{update:function(){t.updateElement()}}},props:{decorations:function(e){if(dw(e).showDropzone){var t=e.schema,n=e.selection.$anchor;if(e.selection instanceof dt.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){var r=ft.a.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return ft.b.create(e.doc,[r])}}else{var o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(pt.l)(e.doc,o,t.nodes.mediaGroup)),null!=o){var i=[ft.a.widget(o,s,{key:"drop-placeholder"})];return ft.b.create(e.doc,i)}}}},nodeViews:t.nodeViews,handleTextInput:function(e){return dw(e.state).splitMediaGroup(),!1},handleClick:function(e,t,n){var r,o=null===(r=n.target)||void 0===r?void 0:r.closest('[data-id="'.concat("caption-placeholder",'"]'));return Boolean((xe.a.chrome||xe.a.safari)&&o)}}})};function pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pw(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mw=new dt.PluginKey("mediaAltTextPlugin"),vw=Object(Jc.a)(mw,(function(e,t){switch(t.type){case"updateAltText":return hw({},e);case"openMediaAltTextMenu":return hw(hw({},e),{},{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return hw(hw({},e),{},{isAltTextEditorOpen:!1});default:return e}}),{onSelectionChanged:function(e,t){return e.getMeta("history$")?t:{isAltTextEditorOpen:!1}}}),bw=vw.createPluginState,gw=vw.createCommand,yw=vw.getPluginState,Ow=function(e){var t=e.dispatch;e.providerFactory;return new Za.a({state:bw(t,{isAltTextEditorOpen:!1}),key:mw,view:function(){return{update:function(e,t){var n=yw(e.state),r=yw(t);n&&r&&r.isAltTextEditorOpen&&!n.isAltTextEditorOpen&&!e.hasFocus()&&e.focus()}}}})};function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ew,xw,Sw,jw=gw((function(e){return!!Iy(e)&&{type:"closeMediaAltTextMenu"}})),Cw=(Ew=wt.a.OPENED,xw=function(e){return!!Iy(e)&&{type:"openMediaAltTextMenu"}},Sw=function(e){return e.setMeta("scrollIntoView",!1)},Object(Ot.c)({action:Ew,actionSubject:wt.b.MEDIA,actionSubjectId:wt.c.ALT_TEXT,eventType:wt.e.TRACK})(gw(xw,Sw)));function Tw(e,t){var n=e.$from,r=n.index(n.depth-1),o=n.node(n.depth-1);return o?o.maybeChild(r+t):null}function _w(e){return function(t,n){var r=t.selection.$from,o=t.schema.nodes.paragraph,i=Tw(t.selection,-2);if(!i)return!1;var a=Tw(t.selection,-1),c=r.pos-a.nodeSize-i.nodeSize,s=t.tr;if(function(t){var n=!1;try{n=e(t)}catch(e){}return n}(i))s=s.replace(c-1,c+i.nodeSize);else if(Object(wa.p)(t.selection)?s.replace(r.pos,r.pos+r.parent.nodeSize-1):s.replace(r.pos-1,r.pos+r.parent.nodeSize-1),i.type===o){var u=c+i.nodeSize-2;Object(Qi.safeInsert)(r.parent.content,u)(s)}else{var l=c+i.nodeSize-1;Object(Qi.safeInsert)(r.parent.copy(r.parent.content),l)(s)}return n&&n(s),!0}}var Aw,Pw=function(e){var t=Object(wa.l)(e);return function(e,n){var r=e.selection,o=e.schema,i=r.$from;if(!function(e){return!!e.empty&&e.$from.parentOffset<=0}(e.selection))return!1;if(!function(e,t){return e.$from.parent.type===t}(e.selection,o.nodes.paragraph))return!1;return!!function(e,t,n){var r=Tw(e,n);return!!r&&r.type===t}(e.selection,o.nodes.mediaSingle,-1)&&("wrap-right"===Tw(e.selection,-1).attrs.layout?_w(t)(e,n):(n&&Object(hm.f)(e,(function(r){t(i.parent)&&!Object(pa.d)(e)&&r.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(r)})),!0))}};function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iw(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(Aw||(Aw={}));function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rw(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dw=new dt.PluginKey("mediaLinking"),Lw={visible:!1,editable:!1,mediaPos:null,link:""};var Bw=Object(Jc.a)(Dw,(function(e,t){switch(t.type){case Aw.showToolbar:return Mw(Mw({},e),{},{visible:!0});case Aw.setUrl:return Mw(Mw({},e),{},{editable:!0,link:t.payload});case Aw.hideToolbar:return Mw(Mw({},e),{},{visible:!1});case Aw.unlink:return Mw(Mw({},e),{},{link:"",visible:!1,editable:!1})}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?Nw(Nw({},t),{},{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof dt.NodeSelection))return Lw;var t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return Lw;var r=n.marks.find((function(e){return"link"===e.type.name}));return Nw(Nw({},Lw),{},r?{mediaPos:t,editable:!0,link:r.attrs.href}:{mediaPos:t})}}),Fw=Bw.createCommand,zw=Bw.getPluginState,Uw=n(299),Hw=/([a-zA-Z]:|\\)([^\/:*?<>"|]+\\)?([^\/:*?<>"| ]+(?=\s?))?/gim,Ww=function(){function e(){d()(this,e)}return p()(e,null,[{key:"create",value:function(e){return new(function(){function t(){d()(this,t)}return p()(t,[{key:"exec",value:function(t){var n=t.slice(0,t.length-1).split(" "),r=n[n.length-1],o=r.length>0;if(!t.endsWith(" ")||!o)return null;var i=Uw.c.match(r);if(!i||0===i.length)return null;var a=i[i.length-1],c=i[i.length-1];return c.input=t.substring(a.index),c.length=c.lastIndex-c.index+1,c.index=t.lastIndexOf(r)+a.index,e&&(c[0]=c),c}}]),t}())}}]),e}();function Vw(e){return e?Object(Uw.b)(e)?e:Object(Uw.e)(e):""}function qw(e){return function(t){return bm(t,(function(t,n){var r=!n||n.type!==e.nodes.codeBlock,o=t.type.schema.marks.link;if(void 0===o)throw new Error("Link not in schema - unable to linkify content");if(r&&t.isText&&!o.isInSet(t.marks)){var i=[],a=t.text,c=function(e){var t=[],n=e&&Uw.c.match(e);n&&n.length>0&&n.forEach((function(e){t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(a),s=0,u=$w(a);return c.forEach((function(e){Yw(e.start,u)||(e.start>0&&i.push(t.cut(s,e.start)),i.push(t.cut(e.start,e.end).mark(o.create({href:Vw(e.href)}).addToSet(t.marks))),s=e.end)})),s<a.length&&i.push(t.cut(s)),i}return t}))}}function Gw(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function Kw(e){return!(!window||!window.location)&&window.location.hostname===Gw(e)}var $w=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new RegExp(Hw),o=[],i=260;null!==(t=r.exec(e));){var a=t.index+n,c=r.lastIndex+n;c-a>i&&(c=a+i),o.push({startIndex:a,endIndex:c})}return o},Yw=function(e,t){for(var n=0;n<t.length;n++)if(e>=t[n].startIndex&&e<t[n].endIndex)return!0;return!1},Xw=function(e){var t=e.doc,n=e.selection,r=e.schema;if(t&&n&&n instanceof dt.NodeSelection&&n.node.type===r.nodes.mediaSingle){var o=t.nodeAt(n.$anchor.pos+1);if(o&&o.type===r.nodes.media)return o}},Jw=n(1085),Zw=function(){var e=u()(C.a.mark((function e(t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("external"!==t.attrs.type){e.next=2;break}return e.abrupt("return","external");case 2:if(t.attrs.id){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(Jw.a)(n).file.getCurrentState(t.attrs.id,{collectionName:t.attrs.collection});case 7:if(!(r=e.sent)||"error"===r.status){e.next=10;break}return e.abrupt("return",r.mediaType);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}();function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qw(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tk=Fw((function(e){var t=zw(e);if(t&&null!==t.mediaPos&&e.doc.nodeAt(t.mediaPos))return{type:Aw.showToolbar};return!1})),nk=function(e,t,n){if(t&&n){var r=Xw(e);if(!r)return!1;var o=dw(e).mediaClientConfig;if(!o)return!1;Zw(r,o).then((function(e){"external"!==e&&"image"!==e||Xw(n.state)!==r||t(n.state.tr.setMeta(Dw,{type:Aw.showToolbar}))}))}return!0},rk=Fw({type:Aw.hideToolbar}),ok=function(e,t,n){rk(e,t,n),n&&n.focus()};function ik(e,t,n){var r=n.forceRemove,o=void 0!==r&&r,i=n.url,a=zw(t);if(!a||null===a.mediaPos)return e;var c=t.doc.resolve(a.mediaPos),s=t.doc.nodeAt(c.pos);if(!s)return e;var u=t.schema.marks.link,l=t.schema.nodes.media;return Na(u,(function(e,t){if(t&&t.type===l){if(o)return!1;var n=Vw(i);if(!e||e.href!==n)return""!==n.trim()&&ek(ek({},e),{},{href:n})}}),[l])(c.pos,c.pos+s.nodeSize,e,t),e}var ak=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(Ot.a)(t,e,{action:n,eventType:wt.e.TRACK,actionSubject:wt.b.MEDIA,actionSubjectId:wt.c.LINK,attributes:r})},ck=Fw({type:Aw.unlink},(function(e,t){var n=ik(e,t,{forceRemove:!0});return ak(n,t,wt.a.DELETED)})),sk=function(e,t){var n=function(e){var t=e.schema.marks.link,n=zw(e);if(n&&null!==n.mediaPos){var r=e.doc.resolve(n.mediaPos),o=e.doc.nodeAt(r.pos);if(o)if(t.isInSet(o.marks))return o.marks.find((function(e){return e.type===t})).attrs.href}}(t);return n?e!==n?wt.a.EDITED:void 0:wt.a.ADDED},uk=function(e,t){return Fw({type:Aw.setUrl,payload:Vw(e)},(function(n,r){var o=sk(e,r);if(!o)return n;try{var i=ik(n,r,{url:e});return ak(n,r,o,o===wt.a.ADDED?{inputMethod:t}:void 0),i}catch(e){throw ak(n,r,wt.a.ERRORED,{action:o}),e}}))};var lk=function(e,t){return function(n,r){var o=n.tr;if(1!==t.childCount)return!1;if(r){var i=n.schema,a=t.child(0),c=i.nodes.caption.create();o=n.tr.insert(e+a.nodeSize+1,c),(o=dk(o,e,a.nodeSize,c.nodeSize)).setMeta("scrollIntoView",!1),Object(Ot.a)(n,o,{action:wt.a.ADDED,eventType:wt.e.TRACK,actionSubject:wt.b.MEDIA_SINGLE,actionSubjectId:wt.c.CAPTION}),r(o)}return!0}},dk=function(e,t,n,r){return Object(Qi.setTextSelection)(t+n+r)(e)};var fk,pk,hk,mk,vk,bk,gk,yk,Ok,wk,kk=function(e){return Yl.a.getState(e).ignoreLinks=!0,!1},Ek=function(e){return Yl.a.getState(e).splitMediaGroup()},xk=function(e,t){var n,r,o=e.selection,i=e.schema;if(o instanceof dt.NodeSelection&&o.node.type===i.nodes.mediaSingle&&i.nodes.caption){if(t){var a=o.from,c=o.node;lk(a,c)(e,t)||(n=a,r=c,function(e,t){if(2!==r.childCount)return!1;if(t){var o=r.child(0),i=r.child(1),a=e.tr;(a=dk(a,n,o.nodeSize,i.nodeSize)).setMeta("scrollIntoView",!1),t(a)}return!0})(e,t)}return!0}return!1},Sk=function(e){var t={},n=(e||{}).featureFlags;return nu.bindKeymapWithCommand(nu.undo.common,kk,t),nu.bindKeymapWithCommand(nu.enter.common,Ek,t),Object(fO.c)("captions",n)&&(nu.bindKeymapWithCommand(nu.moveDown.common,xk,t),nu.bindKeymapWithCommand(nu.tab.common,xk,t)),nu.bindKeymapWithCommand(nu.insertNewLine.common,Ek,t),dp(t)},jk=n(713),Ck=n.n(jk),Tk=Object(ko.b)({toolbarMediaTitle:{id:"fabric.editor.toolbarMediaTitle",defaultMessage:"Files & images",description:"a label for an icon that describes files and images"}}),_k=Object(Ji.c)((function(e){var t=e.editorView,n=e.eventDispatcher,r=e.pluginKey,o=e.isDisabled,a=e.isReducedSpacing,c=e.intl;return i.a.createElement(Xa.a,{editorView:t,eventDispatcher:n,plugins:{mediaPlugin:r},render:function(e){var t=e.mediaPlugin;if(null==t||!t.allowsUploads)return null;var n,r=Tk.toolbarMediaTitle;return i.a.createElement(qc.b,{buttonId:qc.a.MEDIA,onClick:(n=t,function(){return n.showMediaPicker(),!0}),disabled:o,title:c.formatMessage(r),spacing:a?"none":"default",iconBefore:i.a.createElement(Ck.a,{label:c.formatMessage(r)})})}})})),Ak=n(1204),Pk=n(1086),Ik=n(710),Mk=n.n(Ik),Rk=n(657),Nk=n.n(Rk),Dk=n(711),Lk=n.n(Dk),Bk=Object(T.c)(fk||(fk=S()(["\n  position: relative;\n  padding: 3px 0;\n  border-radius: 3px;\n\n  &:hover .arrow {\n    opacity: 1;\n  }\n\n  .ellipsed-text {\n    white-space: initial;\n  }\n"]))),Fk=Object(T.c)(pk||(pk=S()(["\n  width: inherit;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),zk=Object(T.c)(hk||(hk=S()(["\n  margin: 0;\n  padding: 0;\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.77, 0, 0.175, 1);\n  white-space: nowrap;\n  display: inline-block;\n"]))),Uk=Object(T.c)(mk||(mk=S()(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0 4px;\n  display: inline-block;\n  vertical-align: middle;\n  /* Fixes issue with child Cards using inline-block */\n  font-size: 0;\n"]))),Hk=Object(T.c)(vk||(vk=S()(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: ",";\n  border-radius: 100%;\n  display: flex;\n  cursor: pointer;\n  transition: opacity 0.3s;\n  box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.6);\n  color: black;\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  opacity: 0;\n\n  &:hover {\n    color: black;\n    background-color: ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  svg {\n    height: 30px;\n    width: 20px;\n  }\n"])),Ce.N20,Ce.N40,Ce.B400,Ce.B50),Wk=Object(T.c)(bk||(bk=S()(["\n  ",";\n  left: 8px;\n  svg {\n    padding-right: 2px;\n  }\n"])),Hk),Vk=Object(T.c)(gk||(gk=S()(["\n  ",";\n  right: 8px;\n  svg {\n    padding-left: 1px;\n  }\n"])),Hk),qk=Object(T.c)(yk||(yk=S()(["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  top: 0;\n  width: 2px;\n  background-color: rgba(0, 0, 0, 0.2);\n"]))),Gk=Object(T.c)(Ok||(Ok=S()(["\n  ",";\n  left: 0;\n"])),qk),Kk=Object(T.c)(wk||(wk=S()(["\n  ",";\n  right: 0;\n"])),qk),$k=function(e){var t=e.children;return Object(T.d)("div",{css:Gk},t)},Yk=function(e){var t=e.children,n=e.onClick;return Object(T.d)("div",{css:Wk,className:"arrow",onClick:n},t)},Xk=function(e){var t=e.children;return Object(T.d)("div",{css:Kk},t)},Jk=function(e){var t=e.children,n=e.onClick;return Object(T.d)("div",{css:Vk,className:"arrow",onClick:n},t)},Zk=function(e){var t=e.onClick;return Object(T.d)($k,null,Object(T.d)(Yk,{onClick:t},Object(T.d)(Nk.a,{label:"left"})))},Qk=function(e){var t=e.onClick;return Object(T.d)(Xk,null,Object(T.d)(Jk,{onClick:t},Object(T.d)(Lk.a,{label:"right"})))},eE=function(e){var t=e.children,n=e["data-testid"];return Object(T.d)("div",{css:Bk,"data-testid":n},t)},tE=Object(o.forwardRef)((function(e,t){var n=e.children,r=e.onWheel,o=e.onTouchStart,i=e.onTouchMove,a=e.onTouchEnd,c=e["data-testid"];return Object(T.d)("div",{css:Fk,ref:t,onWheel:r,onTouchStart:o,onTouchMove:i,onTouchEnd:a,"data-testid":c},n)})),nE=i.a.forwardRef((function(e,t){var n=e.children,r=e.style;return Object(T.d)("ul",{css:zk,ref:t,style:r},n)})),rE=function(e){var t=e.children,n=e.index;return Object(T.d)("li",{css:Uk,className:aE,"data-testid":"media-filmstrip-list-item",key:n},t)};function oE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var iE={attributes:!0,childList:!0,subtree:!0,characterData:!0},aE="media-filmstrip-list-item",cE=function(e){b()(n,e);var t=oE(n);function n(e){var r;d()(this,n),r=t.call(this,e),E()(m()(r),"previousOffset",0),E()(m()(r),"state",{bufferWidth:0,windowWidth:0,touchMoveStartPosition:0,isTouchMoveInProgress:!1}),E()(m()(r),"handleSizeChange",(function(){var e=m()(r),t=e.windowElement,n=e.bufferElement,o=0,i=0,a=[];if(t&&n){o=n.getBoundingClientRect().width,i=t.getBoundingClientRect().width;var c=Array.prototype.slice.call(n.children,0),s=0;a=c.map((function(e,t){var n=e.getBoundingClientRect().width,r={left:s,right:s+n-1};return s+=n,r}))}var u=r.state,l=u.bufferWidth,d=u.windowWidth;o===l&&i===d||r.setState({bufferWidth:o,windowWidth:i},(function(){r.childOffsets=a;var e=r.props.onSize;e&&e({offset:Math.min(r.maxOffset,r.offset),offsets:a,width:i,minOffset:r.minOffset,maxOffset:r.maxOffset})}))})),E()(m()(r),"handleWindowElementChange",(function(e){r.windowElement=e,r.handleSizeChange()})),E()(m()(r),"handleBufferElementChange",(function(e){e&&(r.bufferElement=e,r.handleSizeChange(),r.initMutationObserver())})),E()(m()(r),"handleMutation",(function(e){r.handleSizeChange()})),E()(m()(r),"handleLeftClick",(function(e){e.stopPropagation();var t=r.props.onScroll;if(t){var n=r.state.windowWidth;t({direction:"left",offset:r.getClosestForLeft(r.offset-n),animate:!0})}})),E()(m()(r),"handleRightClick",(function(e){e.stopPropagation();var t=r.props.onScroll;if(t){var n=r.state.windowWidth;t({direction:"right",offset:r.getClosestForRight(r.offset+n),animate:!0})}})),E()(m()(r),"handleScroll",(function(e){var t=Math.abs(e.deltaX)>Math.abs(e.deltaY);if(t){e.preventDefault();var n=r.props.onScroll;if(n&&t){var o=Math.max(r.minOffset,Math.min(r.maxOffset,r.offset+e.deltaX));n({direction:e.deltaX<0?"left":"right",offset:o,animate:!1})}}})),E()(m()(r),"handleTouchStart",(function(e){e.touches[0]&&r.setState({touchMoveStartPosition:e.touches[0].clientX,isTouchMoveInProgress:!0})})),E()(m()(r),"handleTouchEnd",(function(e){e.touches[0]&&r.setState({touchMoveStartPosition:e.touches[0].clientX,isTouchMoveInProgress:!1})})),E()(m()(r),"handleTouchMove",(function(e){var t=r.props.onScroll;if(r.state.isTouchMoveInProgress&&t){var n=e.touches[0].clientX,o=r.state.touchMoveStartPosition?r.offset-(n-r.state.touchMoveStartPosition):r.offset;t({direction:o>r.offset?"left":"right",offset:o,animate:!1})}})),r.childOffsets=[];try{r.mutationObserver=new MutationObserver(Mk()(r.handleMutation,30,!0))}catch(e){}return r}return p()(n,[{key:"offset",get:function(){var e=this.props.offset;return e?Math.min(this.maxOffset,Math.max(this.minOffset,e)):0}},{key:"minOffset",get:function(){return 0}},{key:"maxOffset",get:function(){var e=this.state,t=e.bufferWidth,n=e.windowWidth;return Math.max(this.minOffset,t-n-1)}},{key:"canGoLeft",get:function(){return this.offset>this.minOffset}},{key:"canGoRight",get:function(){return this.offset<this.maxOffset}},{key:"transitionDuration",get:function(){var e=this.props.animate,t=this.state.windowWidth;if(!e)return 0;if(Math.abs(this.offset-this.previousOffset)<1e-6)return.5;var n=1-.5*(Math.abs(this.offset-this.previousOffset)/t);return Math.max(Math.min(n,1),.5)}},{key:"initMutationObserver",value:function(){var e=this.mutationObserver;e&&this.bufferElement&&(e.disconnect(),e.observe(this.bufferElement,iE))}},{key:"triggerScrollEvent",value:function(){if(this.windowElement){var e=document.createEvent("MouseEvents");e.initEvent("scroll",!0,!0),this.windowElement.dispatchEvent(e)}}},{key:"getClosestForLeft",value:function(e){for(var t=Math.min(this.maxOffset,Math.max(this.minOffset,e)),n=0;n<this.childOffsets.length;++n){var r=this.childOffsets[n];if(t>=r.left&&t<=r.right){var o=0===n?r.left:r.right;return o>=4?o-4:o}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"getClosestForRight",value:function(e){for(var t=this.state.windowWidth,n=Math.min(this.maxOffset,Math.max(this.minOffset,e))+t,r=0;r<this.childOffsets.length;++r){var o=this.childOffsets[r];if(n>=o.left&&n<=o.right){var i=(r===this.childOffsets.length-1?o.right:o.left)-t;return i+4<=this.maxOffset?i+4:i}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"renderLeftArrow",value:function(){return this.canGoLeft?i.a.createElement(Zk,{onClick:this.handleLeftClick}):null}},{key:"renderRightArrow",value:function(){return this.canGoRight?i.a.createElement(Qk,{onClick:this.handleRightClick}):null}},{key:"componentDidMount",value:function(){this.previousOffset=this.offset,window.addEventListener("resize",this.handleSizeChange)}},{key:"componentWillUnmount",value:function(){var e=this.mutationObserver;window.removeEventListener("resize",this.handleSizeChange),e&&e.disconnect()}},{key:"componentDidUpdate",value:function(){var e=this;this.previousOffset=this.offset,window.setTimeout((function(){return e.triggerScrollEvent()}),1e3*this.transitionDuration)}},{key:"render",value:function(){var e=this.props,t=e.animate,n=e.children,r=e.testId,o="translateX(".concat(-this.offset,"px)"),a=t?"transform":"none",c="".concat(this.transitionDuration,"s");return i.a.createElement(eE,{"data-testid":r},this.renderLeftArrow(),i.a.createElement(tE,{ref:this.handleWindowElementChange,onWheel:this.handleScroll,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,"data-testid":"filmstrip-list-wrapper"},i.a.createElement(nE,{ref:this.handleBufferElementChange,style:{transform:o,transitionProperty:a,transitionDuration:c}},i.a.Children.map(n,sE))),this.renderRightArrow())}}]),n}(i.a.Component);function sE(e,t){var n=function(e){return!!e.type}(e)&&e.key||t;return i.a.createElement(rE,{key:n,index:n},e)}E()(cE,"defaultProps",{animate:!1,offset:0});var uE=1,lE=new Map;function dE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var fE=function(e){b()(n,e);var t=dE(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{animate:!1,offset:0}),E()(m()(e),"handleSize",(function(t){var n=t.offset;return e.setState({offset:n})})),E()(m()(e),"handleScroll",(function(t){var n=t.animate,r=t.offset;return e.setState({animate:n,offset:r})})),e}return p()(n,[{key:"renderCards",value:function(){var e=this.props,t=e.items,n=e.mediaClientConfig,r=e.shouldOpenMediaViewer,o=e.featureFlags,a=r?{list:t.map((function(e){return e.identifier}))}:void 0;return t.map((function(e){var t=function(e){switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;var t=lE.get(e.id);if(t)return t;uE++;var n="".concat(uE);return lE.set(e.id,n),n}}(e.identifier);return n?i.a.createElement(yO,_e()({key:t,mediaClientConfig:n,dimensions:Pk.a,useInlinePlayer:!1,shouldOpenMediaViewer:r,mediaViewerDataSource:a,featureFlags:o},e)):i.a.createElement(dO.a,{key:t,dimensions:Pk.a})}))}},{key:"render",value:function(){var e=this.props.testId,t=void 0===e?"media-filmstrip":e,n=this.state,r=n.animate,o=n.offset;return i.a.createElement(cE,{animate:r,offset:o,onSize:this.handleSize,onScroll:this.handleScroll,testId:t},this.renderCards())}}]),n}(o.Component),pE=function(){function e(t,n,r,o,i,a,c){var s=this,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0,f=arguments.length>9&&void 0!==arguments[9]&&arguments[9];d()(this,e),E()(this,"handleRef",(function(e){return s._handleRef(e)})),E()(this,"dispatchAnalyticsEvent",(function(e){s.eventDispatcher&&Object(Td.b)(s.eventDispatcher)(ii.a,{payload:e})})),this.node=t,this.view=n,this.getPos=r,this.portalProviderAPI=o,this.reactComponentProps=a||{},this.reactComponent=c,this.hasAnalyticsContext=u,this._viewShouldUpdate=l,this.eventDispatcher=i,this.hasIntlContext=f}return p()(e,[{key:"init",value:function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add("".concat(this.node.type.name,"View-content-wrap"));var o=di(this.view),i=o.samplingRate,a=o.slowThreshold,c=o.trackingEnabled;return c&&fi({nodeTypeName:this.node.type.name}),this.renderReactComponent((function(){return e.render(e.reactComponentProps,e.handleRef)})),c&&pi({nodeTypeName:this.node.type.name,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorState:this.view.state,samplingRate:i,slowThreshold:a}),this}},{key:"renderReactComponent",value:function(e){var t=this;if(this.domRef&&e){this.portalProviderAPI.render((function(){var n,r,o;return i.a.createElement(ci,{component:wt.b.REACT_NODE_VIEW,componentId:null!==(n=null==t||null===(r=t.node)||void 0===r||null===(o=r.type)||void 0===o?void 0:o.name)&&void 0!==n?n:wt.c.UNKNOWN_NODE,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent},e())}),this.domRef,this.hasAnalyticsContext,this.hasIntlContext)}}},{key:"createDomRef",value:function(){return this.node.isInline?document.createElement("span"):document.createElement("div")}},{key:"getContentDOM",value:function(){}},{key:"_handleRef",value:function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}},{key:"render",value:function(e,t){return this.reactComponent?i.a.createElement(this.reactComponent,_e()({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}},{key:"update",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=this.node.type===e.type&&o(this.node,e);return!!i&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((function(){return r.render(r.reactComponentProps,r.handleRef)})),!0):(this.node=e,!0))}},{key:"viewShouldUpdate",value:function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}},{key:"setDomAttrs",value:function(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}},{key:"dom",get:function(){return this.domRef}},{key:"destroy",value:function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}}],[{key:"fromComponent",value:function(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(c,s,u){return new e(c,s,u,n,r,o,t,!1,i,a).init()}}}]),e}(),hE=function(){function e(){d()(this,e),E()(this,"changeHandlers",[]),this.changeHandlers=[]}return p()(e,[{key:"subscribe",value:function(e){this.changeHandlers.push(e)}},{key:"unsubscribe",value:function(e){this.changeHandlers=this.changeHandlers.filter((function(t){return t!==e}))}},{key:"notifyNewSelection",value:function(e,t){this.changeHandlers.forEach((function(n){return n(e,t)}))}}]),e}(),mE=new dt.PluginKey("reactNodeView"),vE=new Za.a({state:{init:function(){return new hE},apply:function(e,t){return t}},key:mE,view:function(e){var t=mE.getState(e.state);return{update:function(e){var n=e.state.selection,r=n.from,o=n.to;t.notifyNewSelection(r,o)}}}}),bE=new dt.PluginKey("editorDisabledPlugin");var gE=Object(Jc.a)(bE,(function(e,t){return t})),yE=gE.createPluginState,OE=gE.getPluginState;var wE=function(){return{name:"editorDisabled",pmPlugins:function(){return[{name:"editorDisabled",plugin:function(e){return function(e){return new Za.a({key:bE,state:yE(e,{editorDisabled:!1}),view:function(){return{update:function(e){if(OE(e.state).editorDisabled!==!e.editable){var t=e.state.tr.setMeta(bE,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}}}})}(e.dispatch)}}]}}},kE=n(166),EE=function(){function e(t){var n=this;d()(this,e),E()(this,"updateContextId",u()(C.a.mark((function e(){var t,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.getAttrs())&&"file"===t.type){e.next=3;break}return e.abrupt("return");case 3:return r=t.id,e.next=6,n.getObjectId();case 6:o=e.sent,YO(r,{__contextId:o},n.props.isMediaSingle)(n.props.view.state,n.props.view.dispatch);case 8:case"end":return e.stop()}}),e)})))),E()(this,"hasFileAttributesDefined",(function(){var e=n.getAttrs();return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId})),E()(this,"updateFileAttrs",u()(C.a.mark((function e(){var t,r,o,i,a,c,s,u,l,d,f,p,h,m=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(m.length>0&&void 0!==m[0])||m[0],r=n.getAttrs(),e.next=4,n.props.mediaProvider;case 4:if((o=e.sent)&&o.uploadParams&&r&&"file"===r.type&&!n.hasFileAttributesDefined()){e.next=7;break}return e.abrupt("return");case 7:return i=o.viewMediaClientConfig,a=Object(Jw.a)(i),c={collectionName:r.collection},e.prev=10,e.next=13,a.file.getCurrentState(r.id,c);case 13:if("error"!==(s=e.sent).status){e.next=16;break}return e.abrupt("return");case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return");case 21:if(e.t1=n.getNodeContextId(),e.t1){e.next=26;break}return e.next=25,n.getObjectId();case 25:e.t1=e.sent;case 26:u=e.t1,d=(l=s).name,f=l.mimeType,p=l.size,xE(r,h={__fileName:d,__fileMimeType:f,__fileSize:p,__contextId:u})&&YO(r.id,h,t)(n.props.view.state,n.props.view.dispatch);case 31:case"end":return e.stop()}}),e,null,[[10,18]])})))),E()(this,"getAttrs",(function(){var e=n.props.node.attrs;if(e)return e})),E()(this,"getObjectId",u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.contextIdentifierProvider;case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.objectId)||null);case 4:case"end":return e.stop()}}),e)})))),E()(this,"uploadExternalMedia",function(){var e=u()(C.a.mark((function e(t){var r,o,i,a,c,s,u,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.node,e.next=3,n.props.mediaProvider;case 3:if(o=e.sent,!r||!o){e.next=21;break}if((i=o.uploadMediaClientConfig)&&r.attrs.url){e.next=8;break}return e.abrupt("return");case 8:return a=Object(Jw.a)(i),c=o.uploadParams&&o.uploadParams.collection,e.prev=10,e.next=13,a.file.uploadExternal(r.attrs.url,c);case 13:s=e.sent,u=s.uploadableFileUpfrontIds,l=s.dimensions,JO(t()+1,{id:u.id,collection:c,height:l.height,width:l.width,occurrenceKey:u.occurrenceKey})(n.props.view.state,n.props.view.dispatch),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),n.props.dispatchAnalyticsEvent&&n.props.dispatchAnalyticsEvent({action:wt.a.UPLOAD_EXTERNAL_FAIL,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL});case 21:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}()),E()(this,"getNodeContextId",(function(){var e=n.getAttrs();return e&&"file"===e.type&&e.__contextId||null})),E()(this,"updateDimensions",(function(e){YO(e.id,{height:e.height,width:e.width},!0)(n.props.view.state,n.props.view.dispatch)})),E()(this,"hasDifferentContextId",u()(C.a.mark((function e(){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getNodeContextId(),e.next=3,n.getObjectId();case 3:if(r=e.sent,!t||!r||t===r){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))),E()(this,"isNodeFromDifferentCollection",u()(C.a.mark((function e(){var t,r,o,i,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mediaProvider;case 2:if((t=e.sent)&&t.uploadParams){e.next=5;break}return e.abrupt("return",!1);case 5:if(r=t.uploadParams.collection,(o=n.getAttrs())&&"file"===o.type){e.next=9;break}return e.abrupt("return",!1);case 9:if(i=o.collection,a=o.__contextId,e.t0=a,e.t0){e.next=15;break}return e.next=14,n.getObjectId();case 14:e.t0=e.sent;case 15:if(!e.t0||r===i){e.next=18;break}return e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})))),E()(this,"copyNodeFromBlobUrl",function(){var e=u()(C.a.mark((function e(t){var r,o,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.getAttrs())&&"external"===r.type){e.next=3;break}return e.abrupt("return");case 3:if(o=r.url,i=Object(Ty.b)(o)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.props.mediaProvider;case 9:if((a=e.sent)&&a.uploadParams){e.next=12;break}return e.abrupt("return");case 12:if(c=a.uploadParams.collection,s=i.contextId,u=i.id,l=i.collection,d=i.height,f=i.width,p=i.mimeType,h=i.name,m=i.size,(v=a.uploadMediaClientConfig)&&v.getAuthFromContext){e.next=17;break}return e.abrupt("return");case 17:return b=Object(Jw.a)(v),e.next=20,v.getAuthFromContext(s);case 20:return g=e.sent,y={id:u,collection:l,authProvider:function(){return Promise.resolve(g)}},O={collection:c,authProvider:v.authProvider,occurrenceKey:M()()},e.next=25,b.file.copyFile(y,O);case 25:w=e.sent,JO(t()+1,{id:w.id,collection:c,height:d,width:f,__fileName:h,__fileMimeType:p,__fileSize:m})(n.props.view.state,n.props.view.dispatch);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(this,"copyNode",u()(C.a.mark((function e(){var t,r,o,i,a,c,s,u,l,d,f,p,h,m,v,b;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mediaProvider;case 2:if(t=e.sent,r=n.props,o=r.isMediaSingle,i=r.view,a=n.getAttrs(),t&&t.uploadParams&&a&&"file"===a.type){e.next=7;break}return e.abrupt("return");case 7:if(c=n.getNodeContextId(),!((s=t.uploadMediaClientConfig)&&s.getAuthFromContext&&c)){e.next=25;break}return u=Object(Jw.a)(s),e.next=13,s.getAuthFromContext(c);case 13:return l=e.sent,e.next=16,n.getObjectId();case 16:return d=e.sent,f=a.id,p=a.collection,h={id:f,collection:p,authProvider:function(){return Promise.resolve(l)}},m=t.uploadParams.collection,v={collection:m,authProvider:s.authProvider,occurrenceKey:M()()},e.next=23,u.file.copyFile(h,v);case 23:b=e.sent,XO(h.id,{id:b.id,collection:m,__contextId:d},o)(i.state,i.dispatch);case 25:case"end":return e.stop()}}),e)})))),this.props=t}var t,n;return p()(e,[{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return!(!e||"external"!==e.type||!Object(Ty.c)(e.url))}},{key:"getRemoteDimensions",value:(n=u()(C.a.mark((function e(){var t,n,r,o,i,a,c,s,u,l,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.mediaProvider;case 2:if(t=e.sent,n=this.props.mediaOptions,r=this.getAttrs(),t&&r){e.next=7;break}return e.abrupt("return",!1);case 7:if(o=r.height,i=r.width,"external"!==r.type&&r.id){e.next=10;break}return e.abrupt("return",!1);case 10:if(a=r.id,c=r.collection,!o||!i){e.next=13;break}return e.abrupt("return",!1);case 13:if(!n||n.allowRemoteDimensionsFetch){e.next=15;break}return e.abrupt("return",{id:a,height:200,width:250});case 15:return s=t.viewMediaClientConfig,u=Object(Jw.a)(s),e.next=19,u.file.getCurrentState(a,{collectionName:c});case 19:if(l=e.sent,Object(kE.c)(l)){e.next=22;break}return e.abrupt("return",!1);case 22:return e.next=24,u.getImageMetadata(a,{collection:c});case 24:if((d=e.sent)&&d.original){e.next=27;break}return e.abrupt("return",!1);case 27:return e.abrupt("return",{id:a,height:d.original.height||200,width:d.original.width||250});case 28:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleExternalMedia",value:(t=u()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMediaBlobUrl()){e.next=12;break}return e.prev=1,e.next=4,this.copyNodeFromBlobUrl(t);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,this.uploadExternalMedia(t);case 10:e.next=14;break;case 12:return e.next=14,this.uploadExternalMedia(t);case 14:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return t.apply(this,arguments)})}]),e}(),xE=function(e,t){return e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId},SE=Object(ko.b)({mediaGroupDeleteLabel:{id:"fabric.editor.mediaGroupDeleteLabel",defaultMessage:"delete",description:"a label for an icon that deletes media"}});function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var TE=function(e){return Object(Bd.d)(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize)},_E=function(e){b()(n,e);var t=CE(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"state",{viewMediaClientConfig:void 0}),E()(m()(r),"updateNodeAttrs",(function(e){var t=e.view,n=e.mediaProvider,o=e.contextIdentifierProvider;r.mediaNodes.forEach((function(e){new EE({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1}).updateFileAttrs(!1)}))})),E()(m()(r),"setMediaItems",(function(e){var t=e.node;r.mediaNodes=[],t.forEach((function(t,n){r.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:function(){return e.getPos()+n+1}},r.mediaNodes.push(t)}))})),E()(m()(r),"getIdentifier",(function(e){return"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection}})),E()(m()(r),"isNodeSelected",(function(e){var t=TE(r.props);return t===Bd.a.selectedInRange||t===Bd.a.selectedInside&&r.props.anchorPos===e})),E()(m()(r),"renderChildNodes",(function(){var e=r.state.viewMediaClientConfig,t=r.props,n=t.getPos,o=t.allowLazyLoading,a=t.disabled,c=t.mediaOptions,s=r.mediaNodes.map((function(e,t){var s=function(){return n()+t+1};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jE(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({identifier:r.getIdentifier(e),isLazy:o,selected:r.isNodeSelected(s()),onClick:function(){Object(Kv.f)(r.props.view,s())}},function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e)return{shouldEnableDownloadButton:c.enableDownloadButton,actions:[{handler:a?function(){}:r.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,s),icon:i.a.createElement(Hs.a,{label:r.props.intl.formatMessage(SE.mediaGroupDeleteLabel)})}]}}(Object(fO.c)("mediaInline",c.featureFlags)))}));return i.a.createElement(fE,{items:s,mediaClientConfig:e,featureFlags:c.featureFlags})})),r.mediaNodes=[],r.mediaPluginState=Yl.a.getState(e.view.state),r.setMediaItems(e),r.state={viewMediaClientConfig:void 0},r}return p()(n,[{key:"componentDidMount",value:function(){var e=this;this.updateMediaClientConfig(),this.mediaNodes.forEach(function(){var t=u()(C.a.mark((function t(n){var r,o,i,a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("external"!==n.attrs.type){t.next=2;break}return t.abrupt("return");case 2:if(r=e.props,o=r.view,i=r.mediaProvider,a=r.contextIdentifierProvider,c=new EE({view:o,mediaProvider:i,contextIdentifierProvider:a,node:n,isMediaSingle:!1}),c.getNodeContextId()){t.next=8;break}return t.next=8,c.updateContextId();case 8:return t.next=10,c.hasDifferentContextId();case 10:if(!t.sent){t.next=14;break}return t.next=14,c.copyNode();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.updateMediaClientConfig(),this.setMediaItems(e),!1!==e.isCopyPasteEnabled&&this.updateNodeAttrs(e)}},{key:"shouldComponentUpdate",value:function(e){return t=this.props,n=e,TE(t)!==TE(n)||TE(n)===Bd.a.selectedInside&&t.anchorPos!==n.anchorPos||this.props.node!==e.node||this.state.viewMediaClientConfig!==this.mediaPluginState.mediaClientConfig;var t,n}},{key:"updateMediaClientConfig",value:function(){var e=this.state.viewMediaClientConfig,t=this.mediaPluginState.mediaClientConfig;!e&&t&&this.setState({viewMediaClientConfig:t})}},{key:"render",value:function(){return this.renderChildNodes()}}]),n}(i.a.Component);E()(_E,"displayName","MediaGroup");var AE,PE=Object(Ji.c)(_E),IE=function(e){b()(n,e);var t=CE(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(e,t){var n=this,r=e.providerFactory,o=e.mediaOptions,a=this.getPos;return i.a.createElement(Ak.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:r,renderNode:function(e){var r=e.mediaProvider,c=e.contextIdentifierProvider;return i.a.createElement(Xa.a,{editorView:n.view,plugins:{reactNodeViewState:mE,editorDisabledPlugin:bE},render:function(e){var s=e.editorDisabledPlugin;return r?i.a.createElement(PE,{node:n.node,getPos:a,view:n.view,forwardRef:t,disabled:(s||{}).editorDisabled,allowLazyLoading:o.allowLazyLoading,mediaProvider:r,contextIdentifierProvider:c,isCopyPasteEnabled:o.isCopyPasteEnabled,anchorPos:n.view.state.selection.$anchor.pos,headPos:n.view.state.selection.$head.pos,mediaOptions:o}):null}})}})}}]),n}(pE),ME=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new IE(o,i,a,e,t,{providerFactory:n,mediaOptions:r},void 0,void 0,void 0,!0).init()}},RE=n(101),NE=n.n(RE),DE=n(712),LE=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))},BE=["left","right"],FE={left:"start",right:"end"};function zE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var UE=function(e,t,n){var r="embed"===e?wt.b.EMBEDS:wt.b.MEDIA_SINGLE;return{action:wt.a.EDITED,actionSubject:r,actionSubjectId:wt.c.RESIZED,attributes:{size:t,layout:n},eventType:wt.e.UI}},HE=function(e,t){return t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e},WE=function(e){b()(n,e);var t=zE(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"resizable",i.a.createRef()),E()(m()(e),"state",{isResizing:!1}),E()(m()(e),"handleResizeStart",(function(t){var n=e.props,r=n.innerPadding,o=void 0===r?0:r,i=n.handleResizeStart,a=n.highlights,c=n.displayGrid,s=n.layout,u=n.width,l=n.snapPoints;if(t.preventDefault(),i&&!i(t))return!1;e.setState({isResizing:!0},(function(){var e=a(u+o,l);c(e.length>0,Zg(s),e)}))})),E()(m()(e),"handleResize",(function(t,n,r,o){var i=e.props,a=i.highlights,c=i.calcNewSize,s=i.scaleFactor,u=i.snapPoints,l=i.displayGrid,d=i.layout,f=i.updateSize,p=i.innerPadding,h=void 0===p?0:p,m=e.resizable.current,v=e.state.isResizing;if(m&&m.state.original&&v){var b=HE(m.state.original.width+o.width*(s||1),u),g=c(b+h,!1);g.layout!==d&&f(g.width,g.layout);var y=a(b,u);l(y.length>0,Zg(g.layout),y),m.updateSize({width:b,height:"auto"}),m.setState({isResizing:!0})}})),E()(m()(e),"handleResizeStop",(function(t,n,r,o){var i=e.props,a=i.highlights,c=i.calcNewSize,s=i.snapPoints,u=i.displayGrid,l=i.layout,d=i.updateSize,f=i.dispatchAnalyticsEvent,p=i.nodeType,h=e.resizable.current,m=e.state.isResizing;if(h&&h.state.original&&m){var v=HE(h.state.original.width+o.width,s),b=c(LE(v,s),!0),g=a(v,s);f&&f(UE(p,b.width,b.layout)),u(g.length>0,Zg(b.layout),g),e.setState({isResizing:!1},(function(){d(b.width,b.layout),u(!1,Zg(l))}))}})),e}return p()(n,[{key:"render",value:function(){var e={},t={},n={},r=this.props,o=r.innerPadding,a=void 0===o?0:o,c=r.width,s=r.pctWidth,u=r.selected,l=r.layout,d=r.enable,f=r.children,p=r.ratio,h=r.handleComponentFunc,m=this.state.isResizing;BE.forEach((function(r){var o;t[r]="richMedia-resize-handle-".concat(r),e[r]=(o={width:"24px"},E()(o,r,"".concat(-13-a,"px")),E()(o,"zIndex",he.X),E()(o,"pointerEvents","auto"),o);var i=h&&h(r);i&&(n[r]=i)}));var v,b=Jl()("rich-media-item","image-".concat(l),this.props.className,{"is-resizing":m,"not-resized":!s,"richMedia-selected":u,"rich-media-wrapped":"wrap-left"===l||"wrap-right"===l});return p&&(v={position:"absolute",width:"100%",paddingBottom:"".concat(p,"%"),top:0,pointerEvents:"none"}),i.a.createElement(DE.Resizable,{ref:this.resizable,size:{width:c,height:"auto"},className:b,handleClasses:t,handleStyles:e,handleWrapperStyle:v,handleComponent:n,enable:d,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},f)}}]),n}(i.a.Component),VE=new dt.PluginKey("tableFlexiColumnResizing");function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YE=Object(Jc.a)(VE,(function(e,t){switch(t.type){case"STOP_RESIZING":return GE(GE({},e),{},{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return GE(GE({},e),{},{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return GE(GE({},e),{},{dragging:t.data.dragging});case"SET_LAST_CLICK":var n=t.data.lastClick;return GE(GE({},e),{},{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?$E($E({},t),{},{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),XE=YE.createCommand,JE=YE.createPluginState,ZE=YE.getPluginState;function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QE(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tx=["center","wide","full-width"],nx=["wrap-left","wrap-right"],rx=function(e,t){if("number"!=typeof t||isNaN(t)||!e)return!1;var n=e.state.doc.resolve(t),r=e.state.schema.nodes,o=r.expand,i=r.nestedExpand,a=r.layoutColumn;return!!Object(Qi.findParentNodeOfTypeClosestToPos)(n,[o,i,a])};function ox(e){for(var t=e.$pos,n=e.akEditorWideLayoutWidth,r=e.allowBreakoutSnapPoints,o=e.containerWidth,i=e.gridSize,a=e.gridWidth,c=e.insideInlineLike,s=e.insideLayout,u=e.isVideoFile,l=e.lineLength,d=e.offsetLeft,f=e.wrappedLayout,p=[],h=0;h<a;h++){var m=dy(h,l,a);p.push(s?m:m-d)}p.push(l-d);var v=dy(f||c?1:2,l,i),b=p.filter((function(e){return e>=v}));if(!t)return b;if(b=u?b.filter((function(e){return e>320})):b,"doc"===t.parent.type.name&&r){b.push(n);var g=o-he.e;g>n&&b.push(g)}return b=b.sort((function(e,t){return e-t}))}function ix(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var ax=function(e){b()(o,e);var t,n,r=ix(o);function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),E()(m()(e),"state",{offsetLeft:cx(e.insideInlineLike,e.insideLayout,e.props.view.dom,void 0),isVideoFile:!0}),E()(m()(e),"calcNewSize",(function(t,n){var r=e.props,o=r.layout,i=r.view.state,a=100*hy(t,e.props.lineLength);e.setState({resizedPctWidth:a});var c=Object(Qi.hasParentNodeOfType)(i.schema.nodes.table)(i.selection)?o:e.calcUnwrappedLayout(a,t);return a<=100?(!e.wrappedLayout||n&&100===a||(c=o),{width:a,layout:c}):{width:e.props.pctWidth||null,layout:c}})),E()(m()(e),"calcUnwrappedLayout",(function(e,t){return e<=100?"center":t<=he.V?"wide":"full-width"})),E()(m()(e),"calcColumnLeftOffset",(function(){var t=e.state.offsetLeft;return e.insideInlineLike?fy(t,e.props.lineLength,e.props.gridSize):0})),E()(m()(e),"calcPxWidth",(function(t){var n=e.props,r=n.width,o=void 0===r?0:r,i=n.height,a=n.layout,c=n.pctWidth,s=n.lineLength,u=n.containerWidth,l=n.fullWidthMode,d=n.getPos,f=n.view.state,p="function"==typeof d?d():void 0;return nO({origWidth:o,origHeight:i,pctWidth:c,state:f,containerWidth:{width:u,lineLength:s},isFullWidthModeEnabled:l,layout:t||a,pos:p})})),E()(m()(e),"highlights",(function(t,n){var r=LE(t,n),o=e.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,c=o.expand,s=o.nestedExpand;if(e.$pos&&Object(Qi.findParentNodeOfTypeClosestToPos)(e.$pos,[i,a,c,s].filter(Boolean)))return[];if(r>he.V)return["full-width"];var u=e.props,l=u.layout,d=u.lineLength,f=u.gridSize,p=fy(r,d,f),h=Math.round(p),m=[];return"wrap-left"===l||"align-start"===l?m.push(0,h):"wrap-right"===l||"align-end"===l?m.push(f,f-h):e.insideInlineLike?m.push(Math.round(p+e.calcColumnLeftOffset())):m.push(Math.floor((f-h)/2),Math.ceil((f+h)/2)),m})),E()(m()(e),"saveWrapper",(function(t){return e.wrapper=t})),e}return p()(o,[{key:"componentDidUpdate",value:function(){var e=cx(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}},{key:"wrappedLayout",get:function(){return xy.indexOf(this.props.layout)>-1}},{key:"componentDidMount",value:(n=u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.viewMediaClientConfig)){e.next=4;break}return e.next=4,this.checkVideoFile(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkVideoFile",value:(t=u()(C.a.mark((function e(t){var n,r,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.$pos)&&t){e.next=3;break}return e.abrupt("return");case 3:if((r=this.props.view.state.doc.nodeAt(n.pos+1))&&r.attrs.id){e.next=6;break}return e.abrupt("return");case 6:return o=Object(Jw.a)(t),e.prev=7,e.next=10,o.file.getCurrentState(r.attrs.id,{collectionName:r.attrs.collection});case 10:(i=e.sent)&&"error"!==i.status&&"image"===i.mediaType&&this.setState({isVideoFile:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),this.setState({isVideoFile:!1});case 17:case"end":return e.stop()}}),e,this,[[7,14]])}))),function(e){return t.apply(this,arguments)})},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(xy.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!Object(Qi.findParentNodeOfTypeClosestToPos)(e,[t])}},{key:"insideLayout",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.layoutColumn;return!!Object(Qi.findParentNodeOfTypeClosestToPos)(e,[t])}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.width,o=n.height,i=n.layout,a=n.pctWidth,c=n.containerWidth,s=n.fullWidthMode,u=n.selected,l=n.view.state,d=n.children,f=this.calcPxWidth();r&&(e=(o/r*100).toFixed(3));var p={};BE.forEach((function(e){var n="left"===e?"right":"left";p[e]=["full-width","wide","center"].concat("wrap-".concat(n)).concat("align-".concat(FE[n])).indexOf(i)>-1,"left"===e&&t.insideInlineLike&&(p[e]=!1)}));var h,m={$pos:this.$pos,akEditorWideLayoutWidth:he.V,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return Object(T.d)("div",{ref:this.saveWrapper,css:(h={layout:i,isResized:!!a,containerWidth:c||r,fullWidthMode:s},Object(T.c)(AE||(AE=S()(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n  }\n"])),wy(h)))},Object(T.d)(WE,_e()({},this.props,{ratio:e,width:f,selected:u,enable:p,calcNewSize:this.calcNewSize,snapPoints:ox(m),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,handleResizeStart:function(){var e=ZE(l);return!e||!e.dragging},nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent,handleComponentFunc:function(){return Object(T.d)("div",{contentEditable:!1})}}),d))}}]),o}(i.a.Component);function cx(e,t,n,r){var o=0;r&&e&&!t&&(o=r.getBoundingClientRect().left-n.getBoundingClientRect().left);return o}function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var dx=function(e){b()(r,e);var t,n=lx(r);function r(){var e;d()(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),E()(m()(e),"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),E()(m()(e),"createMediaNodeUpdater",(function(t){var n=e.props.node.firstChild;return new EE(ux(ux({},t),{},{isMediaSingle:!0,node:n||e.props.node,dispatchAnalyticsEvent:e.props.dispatchAnalyticsEvent}))})),E()(m()(e),"setViewMediaClientConfig",function(){var t=u()(C.a.mark((function t(n){var r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.mediaProvider;case 2:(r=t.sent)&&(o=r.viewMediaClientConfig,e.setState({viewMediaClientConfig:o}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E()(m()(e),"updateMediaNodeAttributes",function(){var t=u()(C.a.mark((function t(n){var r,o,i,a,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.createMediaNodeUpdater(n),o=e.props.mediaPluginState.addPendingTask,i=e.props.node.firstChild){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,r.getRemoteDimensions();case 7:if((a=t.sent)&&r.updateDimensions(a),"external"!==i.attrs.type||!i.attrs.__external){t.next=15;break}return c=r.handleExternalMedia(e.props.getPos),o(c),t.next=14,c;case 14:return t.abrupt("return");case 15:if(r.getNodeContextId()){t.next=19;break}return t.next=19,r.updateContextId();case 19:return t.next=21,r.hasDifferentContextId();case 21:if(!t.sent){t.next=34;break}return e.setState({isCopying:!0}),t.prev=24,s=r.copyNode(),o(s),t.next=29,s;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(24),e.setState({isCopying:!1});case 34:case"end":return t.stop()}}),t,null,[[24,31]])})));return function(e){return t.apply(this,arguments)}}()),E()(m()(e),"selectMediaSingle",(function(t){var n=t.event;n.stopPropagation();var r=e.props.getPos(),o=e.props.view.state;if(n.shiftKey){if(o.selection instanceof Oa.a)return;Object(Kv.g)(e.props.view,o.selection.from<r?o.selection.from:r,o.selection.to>r?o.selection.to:r+3)}else Object(Kv.f)(e.props.view,r)})),E()(m()(e),"updateSize",(function(t,n){var r=e.props.view,o=r.state,i=r.dispatch,a=e.props.getPos();if(void 0!==a){var c=o.tr.setNodeMarkup(a,void 0,ux(ux({},e.props.node.attrs),{},{layout:n,width:t}));return c.setMeta("scrollIntoView",!1),i(c)}})),E()(m()(e),"clickPlaceholder",(function(){var t=e.props,n=t.view,r=t.getPos,o=t.node;"boolean"!=typeof r&&lk(r(),o)(n.state,n.dispatch)})),E()(m()(e),"getLineLength",(function(e,t){if(rx(e,t)){var n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&nx.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return null})),e}return p()(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateFileAttrs()}},{key:"componentDidMount",value:(t=u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.contextIdentifierProvider,e.next=3,Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]);case 3:return e.t0=this,e.next=6,t;case 6:e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.getPos,r=e.node,o=e.mediaOptions,i=e.fullWidthMode,a=e.view.state,c=e.view,s=r.attrs,u=s.layout,l=s.width,d=r.firstChild.attrs,f=d.width,p=d.height;if("external"===d.type){if(_y(d)){var h=Object(Ty.b)(d.url);if(h){var m=h.width,v=h.height;f=f||m,p=p||v}}var b=this.state,g=b.width,y=b.height;null===f&&(f=g||250),null===p&&(p=y||200)}f&&p||(f=250,p=200);var O={layout:u,width:f,height:p,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:l,fullWidthMode:i,hasFallbackContainer:!1},w=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){var k=n();if(k){var E=a.doc.resolve(k),x=a.schema.nodes.table,S=!!Object(Qi.findParentNodeOfTypeClosestToPos)(E,[x]);w=w&&!S}}var j=this.getLineLength(c,n())||this.props.lineLength,C=t(),_=Object(fO.c)("captions",o.featureFlags)&&2!==r.childCount&&C&&a.selection instanceof dt.NodeSelection,A=Object(T.d)("figure",{css:OO,className:"media-single-node"},Object(T.d)("div",{ref:this.props.forwardRef}),_&&Object(T.d)(ca,{onClick:this.clickPlaceholder}));return w?Object(T.d)(ax,_e()({},O,{lineLength:j,view:this.props.view,getPos:n,updateSize:this.updateSize,displayGrid:Jg(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:o&&o.allowBreakoutSnapPoints,selected:C,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),A):Object(T.d)(jy,O,A)}}]),r}(o.Component);E()(dx,"defaultProps",{mediaOptions:{}}),E()(dx,"displayName","MediaSingleNode");var fx,px,hx,mx,vx=function(e){b()(n,e);var t=lx(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"lastOffsetLeft",0),E()(m()(e),"forceViewUpdate",!1),E()(m()(e),"selectionType",null),E()(m()(e),"checkAndUpdateSelectionType",(function(){var t=e.getPos,n=e.view.state.selection,r=Object(Bd.d)(n.$anchor.pos,n.$head.pos,t(),e.node.nodeSize);return e.selectionType=r,r})),E()(m()(e),"isNodeSelected",(function(){return e.checkAndUpdateSelectionType(),null!==e.selectionType})),e}return p()(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return xe.a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.classList.add("media-content-wrap"),{dom:e}}},{key:"viewShouldUpdate",value:function(e){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==e.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==e.childCount||NE()(w()(n.prototype),"viewShouldUpdate",this).call(this,e)))}},{key:"getNodeMediaId",value:function(e){if(e.firstChild)return e.firstChild.attrs.id}},{key:"update",value:function(e,t,r,o){var i=this;return o||(o=function(e,t){return i.getNodeMediaId(e)===i.getNodeMediaId(t)}),NE()(w()(n.prototype),"update",this).call(this,e,t,r,o)}},{key:"render",value:function(e,t){var n=this,r=this.reactComponentProps,o=r.eventDispatcher,i=r.fullWidthMode,a=r.providerFactory,c=r.mediaOptions,s=r.dispatchAnalyticsEvent,u=this.getPos;return Object(T.d)(Ak.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:a,renderNode:function(e){var r=e.mediaProvider,a=e.contextIdentifierProvider;return Object(T.d)(Xa.a,{editorView:n.view,plugins:{width:tc,mediaPluginState:Yl.a},render:function(e){var l=e.width,d=e.mediaPluginState;return Object(T.d)(dx,{width:l.width,lineLength:l.lineLength,node:n.node,getPos:u,mediaProvider:r,contextIdentifierProvider:a,mediaOptions:c,view:n.view,fullWidthMode:i,selected:n.isNodeSelected,eventDispatcher:o,mediaPluginState:d,dispatchAnalyticsEvent:s,forwardRef:t})}})}})}},{key:"ignoreMutation",value:function(){if(this.dom){var e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],[],(function(){return!0})))}return!0}}]),n}(pE),bx=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(i,a,c){return new vx(i,a,c,e,t,{eventDispatcher:t,fullWidthMode:o.fullWidthEnabled,providerFactory:n,mediaOptions:o,dispatchAnalyticsEvent:r,isCopyPasteEnabled:o.isCopyPasteEnabled},void 0,void 0,void 0,!0).init()}},gx=n(427),yx=n.n(gx),Ox=function(e){return".".concat(aE,":nth-child(").concat(e,")")},wx=n(371),kx=n.n(wx),Ex=n(342),xx=n.n(Ex),Sx=Object(T.c)(fx||(fx=S()(["\n  color: ",";\n"])),Object(ot.a)("color.text.danger",Ce.R400)),jx=(Object(T.c)(px||(px=S()(["\n  color: ",";\n"])),Object(ot.a)("color.text.success",Ce.G400)),function(e){return Object(T.c)(hx||(hx=S()(["\n  "," font-weight: normal;\n  color: ",";\n  margin-top: ","px;\n  display: flex;\n  justify-content: baseline;\n"])),Object(Xn.b)(e),Object(ot.a)("color.text.subtlest",Ce.N200),Object(Ze.i)()/2)}),Cx=Object(T.c)(mx||(mx=S()(["\n  display: flex;\n  margin-right: 4px;\n"]))),Tx=function(e){var t=e.children;return Object(T.d)("div",{css:function(e){return[jx(e),Sx]}},Object(T.d)("span",{css:Cx},Object(T.d)(xx.a,{size:"small",label:"error","aria-label":"error"})),t)},_x=n(372),Ax=n.n(_x),Px=n(291),Ix=n.n(Px),Mx=n(474);function Rx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Nx,Dx,Lx,Bx=function(e){b()(n,e);var t=Rx(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"onMouseDown",(function(){var e=r.props.onMouseDown;e&&e()})),E()(m()(r),"onBlur",(function(e){var t=r.props.onBlur;t&&t(e)})),E()(m()(r),"handleChange",(function(){var e=r.props.onChange;r.input&&r.setState({value:r.input.value}),e&&r.input&&e(r.input.value)})),E()(m()(r),"handleKeydown",(function(e){var t=r.props,n=t.onUndo,o=t.onRedo,i=t.onSubmit,a=t.onCancel;13===e.keyCode&&i?(e.preventDefault(),i(r.input.value)):27===e.keyCode&&a?a(e):"function"==typeof n&&r.isUndoEvent(e)?(e.preventDefault(),n()):"function"==typeof o&&r.isRedoEvent(e)&&(e.preventDefault(),o()),r.props.onKeyDown&&r.props.onKeyDown(e)})),E()(m()(r),"handleRef",(function(e){e instanceof HTMLInputElement?(r.input=e,r.props.autoFocus&&(r.focusTimeoutId=window.setTimeout((function(){return r.focus()})))):r.input=void 0})),r.state={value:e.defaultValue||""},r}return p()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.focusTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.width,r=e.maxLength,o=e.testId,i=e.ariaLabel,a=e.describedById,c=e.ariaActiveDescendant,s=e.ariaControls,u=e.ariaExpanded,l=e.ariaAutoComplete,d=e.role,f=this.state.value;return Object(T.d)("input",{css:[Mx.a,void 0!==n&&Object(Mx.b)(n)],role:d,"aria-autocomplete":l?"list":void 0,"aria-expanded":u,"aria-controls":s,"aria-activedescendant":c,"aria-describedby":a,"data-testid":o||"",type:"text",placeholder:t,value:f,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,ref:this.handleRef,maxLength:r,"aria-label":i})}},{key:"focus",value:function(){var e=this.input;if(e){var t="object"===gt()(this.props.autoFocus)?this.props.autoFocus:{};e.focus(t)}}},{key:"isUndoEvent",value:function(e){return 90===e.keyCode&&(xe.a.mac&&e.metaKey&&!e.shiftKey||!xe.a.mac&&e.ctrlKey)}},{key:"isRedoEvent",value:function(e){return!xe.a.mac&&e.ctrlKey&&89===e.keyCode||xe.a.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}]),n}(o.PureComponent),Fx=n(130),zx=n(278),Ux=Object(T.c)(Nx||(Nx=S()(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),Hx=Object(T.c)(Dx||(Dx=S()(["\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  width: ","px;\n  line-height: initial;\n"])),360),Wx=Object(T.c)(Lx||(Lx=S()(["\n  width: ","px;\n"])),420),Vx=n(745),qx=Object(ko.b)({story:{id:"fabric.editor.story",defaultMessage:"Story",description:"Alt text for Story"},epic:{id:"fabric.editor.epic",defaultMessage:"Epic",description:"Alt text for Epic"},task:{id:"fabric.editor.task",defaultMessage:"Task",description:"Alt text for Task"},bug:{id:"fabric.editor.bug",defaultMessage:"Bug",description:"Alt text for Bug"},subTask:{id:"fabric.editor.subTask",defaultMessage:"Sub-task",description:"Alt text for Sub-task"},improvement:{id:"fabric.editor.improvement",defaultMessage:"Improvement",description:"Alt text for Improvement"},defaultAltText:{id:"fabric.editor.defaultAltText",defaultMessage:"List item",description:"Default alt text for ListItem image"}}),Gx=function(e,t){var n=t.formatMessage(qx.defaultAltText);return e.includes("story.svg")&&(n=t.formatMessage(qx.story)),e.includes("epic.svg")&&(n=t.formatMessage(qx.epic)),e.includes("avatarId=10318")&&(n=t.formatMessage(qx.task)),e.includes("avatarId=10303")&&(n=t.formatMessage(qx.bug)),e.includes("avatarId=10518")&&(n=t.formatMessage(qx.subTask)),e.includes("avatarId=10310")&&(n=t.formatMessage(qx.improvement)),n},Kx=n(200),$x=n(301),Yx=n(744),Xx=n(61),Jx=n(56);function Zx(e,t){return Object(Jx.a)(2,arguments),Object(Xx.a)(e).getTime()-Object(Xx.a)(t).getTime()}var Qx={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function eS(e){return e?Qx[e]:Qx.trunc}function tS(e,t,n){Object(Jx.a)(2,arguments);var r=Zx(e,t)/1e3;return eS(null==n?void 0:n.roundingMethod)(r)}var nS=n(421);function rS(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function oS(e){return rS({},e)}var iS=n(241);function aS(e,t,n){var r,o;Object(Jx.a)(2,arguments);var i=Object(Kx.a)(),a=null!==(r=null!==(o=null==n?void 0:n.locale)&&void 0!==o?o:i.locale)&&void 0!==r?r:nS.a;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var c=Object($x.a)(e,t);if(isNaN(c))throw new RangeError("Invalid time value");var s,u,l=rS(oS(n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:c});c>0?(s=Object(Xx.a)(t),u=Object(Xx.a)(e)):(s=Object(Xx.a)(e),u=Object(Xx.a)(t));var d,f=tS(u,s),p=(Object(iS.a)(u)-Object(iS.a)(s))/1e3,h=Math.round((f-p)/60);if(h<2)return null!=n&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):0===h?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<1440){var m=Math.round(h/60);return a.formatDistance("aboutXHours",m,l)}if(h<2520)return a.formatDistance("xDays",1,l);if(h<43200){var v=Math.round(h/1440);return a.formatDistance("xDays",v,l)}if(h<86400)return d=Math.round(h/43200),a.formatDistance("aboutXMonths",d,l);if((d=Object(Yx.a)(u,s))<12){var b=Math.round(h/43200);return a.formatDistance("xMonths",b,l)}var g=d%12,y=Math.floor(d/12);return g<3?a.formatDistance("aboutXYears",y,l):g<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}var cS,sS,uS,lS,dS,fS,pS=n(423),hS=n(420),mS=function(e,t,n){var r="";switch(t){case"updated":r=n.formatMessage(Nc.timeUpdated);break;case"viewed":r=n.formatMessage(Nc.timeViewed)}return Object(pS.a)(e,Date.now())<-7?{pageAction:r,dateString:Object(hS.a)(e,"MMMM dd, yyyy")}:{pageAction:r,dateString:aS(e,Date.now()),timeSince:n.formatMessage(Nc.timeAgo)}},vS=function(e,t,n){return t?mS(t,"viewed",e):n?mS(n,"updated",e):void 0};function bS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var gS,yS,OS,wS=Object(T.c)(cS||(cS=S()(["\n  background-color: transparent;\n  padding: 8px 12px;\n  cursor: pointer;\n  display: flex;\n  margin-top: 0;\n"]))),kS=Object(T.c)(sS||(sS=S()(["\n  background-color: ",";\n"])),Object(ot.a)("color.background.neutral.subtle.hovered",Ce.N20)),ES=Object(T.c)(uS||(uS=S()(["\n  overflow: hidden;\n"]))),xS=Object(T.c)(lS||(lS=S()(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 20px;\n"])),Object(ot.a)("color.text",Ce.N800)),SS=Object(T.c)(dS||(dS=S()(["\n  color: ",";\n  line-height: 14px;\n  font-size: ",";\n"])),Object(ot.a)("color.text.subtlest",Ce.N300),Object(he.db)(Object(Ze.h)())),jS=Object(T.c)(fS||(fS=S()(["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 12px;\n\n  img {\n    max-width: 16px;\n  }\n"]))),CS=function(e){b()(n,e);var t=bS(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleSelect",(function(t){t.preventDefault();var n=e.props,r=n.item;(0,n.onSelect)(r.url,r.name)})),E()(m()(e),"handleMouseMove",(function(){var t=e.props,n=t.onMouseMove,r=t.item;n&&n(r.objectId)})),E()(m()(e),"handleMouseEnter",(function(){var t=e.props,n=t.onMouseEnter,r=t.item;n&&n(r.objectId)})),E()(m()(e),"handleMouseLeave",(function(){var t=e.props,n=t.onMouseLeave,r=t.item;n&&n(r.objectId)})),e}return p()(n,[{key:"renderIcon",value:function(){var e=this.props,t=e.item,n=t.icon,r=t.iconUrl,o=e.intl;return n?Object(T.d)("span",{css:jS},n):r?Object(T.d)("span",{css:jS},Object(T.d)("img",{src:r,alt:Gx(r,o)})):null}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.item,n=e.intl,r=vS(n,t.lastViewedDate,t.lastUpdatedDate);return r&&Object(T.d)(o.Fragment,null," ",Object(T.d)("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"}," ",r.pageAction," ",r.dateString," ",r.timeSince||""))}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.selected,r=e.id,o=e.role;return Object(T.d)("li",{css:[wS,n&&kS],role:o,id:r,"aria-selected":n,"data-testid":"link-search-list-item",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleSelect},this.renderIcon(),Object(T.d)("span",{css:ES},Object(T.d)("div",{css:xS},t.name),Object(T.d)("div",{"data-testid":"link-search-list-item-container",css:SS},t.container,this.renderTimeStamp())))}}]),n}(i.a.PureComponent),TS=Object(Ji.c)(CS);function _S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var AS=Object(T.c)(gS||(gS=S()(["\n  padding-top: 0;\n"]))),PS=Object(T.c)(yS||(yS=S()(["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"]))),IS=Object(T.c)(OS||(OS=S()(["\n  padding: 0;\n  list-style: none;\n"]))),MS=function(e){b()(n,e);var t=_S(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.onSelect,o=n.onMouseMove,i=n.onMouseEnter,a=n.onMouseLeave,c=n.items,s=n.selectedIndex,u=n.isLoading,l=n.ariaControls,d=n.role,f=n.id;return c&&c.length>0&&(e=Object(T.d)("ul",{css:IS,id:f,role:d,"aria-controls":l},c.map((function(e,t){return Object(T.d)(TS,{id:"link-search-list-item-".concat(t),role:d&&"option",item:e,selected:s===t,onMouseMove:o,onMouseEnter:i,onMouseLeave:a,onSelect:r,key:e.objectId})})))),u&&(t=Object(T.d)("div",{css:PS},Object(T.d)(Vx.a,{size:"medium"}))),Object(T.d)("div",{css:AS},e,t)}}]),n}(o.PureComponent),RS=["providerFactory"];function NS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function DS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var LS=function(e,t){return e.slice(0,t)},BS=function(e){b()(o,e);var t,n,r=DS(o);function o(e){var t;return d()(this,o),t=r.call(this,e),E()(m()(t),"activityProvider",null),E()(m()(t),"handleSubmit",(function(){var e=t.state,n=e.items,r=e.url,o=e.selectedIndex,i=t.getCurrentInputMethod();if(i)switch(i){case wt.f.MANUAL:t.props.onSubmit({url:r,text:r,inputMethod:wt.f.MANUAL});break;case wt.f.TYPEAHEAD:var a=n[o];t.setState((function(){return{url:a.url}})),t.props.onSubmit&&t.props.onSubmit({url:a.url,text:a.name,inputMethod:wt.f.TYPEAHEAD})}})),E()(m()(t),"handleSelected",(function(e,n){t.props.onSubmit&&(t.setState((function(){return{url:e}})),t.props.onSubmit({text:n,url:e,inputMethod:wt.f.TYPEAHEAD}))})),E()(m()(t),"handleChange",function(){var e=u()(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({url:n}),!t.activityProvider){e.next=24;break}if(0!==n.length){e.next=15;break}return e.t0=t,e.t1=LS,e.next=7,t.activityProvider.getRecentItems();case 7:e.t2=e.sent,e.t3=t.props.limit,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=-1,e.t6={items:e.t4,selectedIndex:e.t5},e.t0.setState.call(e.t0,e.t6),e.next=24;break;case 15:return e.t7=t,e.t8=LS,e.next=19,t.activityProvider.searchRecent(n);case 19:e.t9=e.sent,e.t10=t.props.limit,e.t11=(0,e.t8)(e.t9,e.t10),e.t12={items:e.t11,selectedIndex:0},e.t7.setState.call(e.t7,e.t12);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(m()(t),"handleKeyDown",(function(e){var n=t.state,r=n.items,o=n.selectedIndex;r&&r.length&&("ArrowDown"===e.key?(e.preventDefault(),t.setState({selectedIndex:(o+1)%r.length})):"ArrowUp"===e.key&&(e.preventDefault(),t.setState({selectedIndex:o>0?o-1:r.length-1})))})),E()(m()(t),"handleMouseMove",(function(e){var n=t.state.items;if(n){var r=n.findIndex((function(t){return t.objectId===e}));t.setState({selectedIndex:r})}})),E()(m()(t),"renderRecentList",(function(){var e=t.state,n=e.items,r=e.isLoading,o=e.selectedIndex;return i.a.createElement(MS,{items:n,isLoading:r,selectedIndex:o,onSelect:t.handleSelected,onMouseMove:t.handleMouseMove})})),E()(m()(t),"clearValue",(function(){t.setState({url:""})})),t.state={selectedIndex:-1,isLoading:!1,items:[],url:e.defaultUrl||""},t}return p()(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((function(t){return t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null}))}},{key:"componentDidMount",value:(n=u()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.activityProvider){e.next=6;break}return e.next=3,this.props.activityProvider;case 3:return this.activityProvider=e.sent,e.next=6,this.loadRecentItems(this.activityProvider);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadRecentItems",value:(t=u()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.url){e.next=11;break}return e.t0=this,e.t1=LS,e.next=6,t.getRecentItems();case 6:e.t2=e.sent,e.t3=this.props.limit,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={isLoading:!0,items:e.t4},e.t0.setState.call(e.t0,e.t5);case 11:return e.prev=11,this.setState({isLoading:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,,11,14]])}))),function(e){return t.apply(this,arguments)})},{key:"getCurrentInputMethod",value:function(){var e=this.state,t=e.items,n=e.url,r=e.selectedIndex;return t&&t.length>0&&r>-1?wt.f.TYPEAHEAD:n&&n.length>0?wt.f.MANUAL:void 0}},{key:"render",value:function(){var e=this.props.render,t=this.state.url;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}]),o}(i.a.Component);E()(BS,"defaultProps",{limit:5});var FS,zS,US,HS=(FS=Object(Ji.c)(BS),function(e){b()(n,e);var t=NS(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"renderNode",(function(t){var n=e.props,r=(n.providerFactory,wo()(n,RS)),o=t.activityProvider;return i.a.createElement(FS,_e()({activityProvider:o},r))})),e}return p()(n,[{key:"render",value:function(){var e=this.props.providerFactory;return i.a.createElement(Ak.a,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})}}]),n}(i.a.Component)),WS=Object(ko.b)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}});function VS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var qS=Object(T.c)(zS||(zS=S()(["\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 4px 0 32px;\n  border-top: 1px solid ",";\n  align-items: start;\n  display: flex;\n  flex-direction: column;\n"])),Object(ot.a)("color.border.danger",Ce.R400)),GS=Object(T.c)(US||(US=S()(["\n  padding: 4px 8px 4px 0px;\n"]))),KS=function(e){b()(n,e);var t=VS(n);function n(){var e;d()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),E()(m()(e),"state",{validationErrors:[]}),E()(m()(e),"handleSubmit",(function(t){var n=t.url,r=t.inputMethod;e.props.onSubmit(n,{inputMethod:r})})),E()(m()(e),"handleOnBack",(function(t){var n=t.url,r=t.inputMethod,o=e.props.onBack;o&&o(n,{inputMethod:r})})),E()(m()(e),"handleCancel",(function(){var t=e.props.onCancel;t&&t()})),E()(m()(e),"handleUnlink",(function(){var t=e.props.onUnlink;t&&t()})),E()(m()(e),"handleOnBlur",(function(t){e.props.onBlur(t.url)})),E()(m()(e),"renderContainer",(function(t){var n,r=t.activityProvider,i=t.inputProps,a=i.onChange,c=i.onKeyDown,s=i.onSubmit,u=i.value,l=t.currentInputMethod,d=t.renderRecentList,f=e.props,p=f.intl.formatMessage,h=f.displayUrl,m=p(WS.backLink),v=p(Rc.unlink),b=e.state.validationErrors.map((function(e,t){return Object(T.d)(Tx,{key:t},e)}));return Object(T.d)("div",{className:"recent-list"},Object(T.d)("div",{css:[Hx,!!r&&Wx]},Object(T.d)("div",{css:Ux},Object(T.d)("span",{css:GS},Object(T.d)(Fx.a,{title:m,icon:Object(T.d)(Ax.a,{label:m}),onClick:function(){return e.handleOnBack({url:u,inputMethod:l})}})),Object(T.d)(Bx,{testId:"media-link-input",placeholder:(n=!!r,p(n?Rc.placeholder:Rc.linkPlaceholder)),autoFocus:!0,onCancel:e.handleCancel,defaultValue:u,onSubmit:function(t){var n=e.getValidationErrors(t,l);e.setState({validationErrors:n}),n.length||s()},onChange:function(t){e.setState({validationErrors:[]}),a(t)},onKeyDown:c}),Vw(h)&&Object(T.d)(o.Fragment,null,Object(T.d)(zx.a,null),Object(T.d)(Fx.a,{title:v,icon:Object(T.d)(Ix.a,{label:v}),onClick:e.handleUnlink}))),!!b.length&&Object(T.d)("section",{css:qS},b),d()))})),e}return p()(n,[{key:"getValidationErrors",value:function(e,t){var n=this.props.intl.formatMessage;return t===wt.f.TYPEAHEAD?[]:e?Vw(e)?[]:[n(Rc.invalidLink)]:[n(Rc.emptyLink)]}},{key:"render",value:function(){var e=this.props,t=e.providerFactory,n=e.displayUrl;return Object(T.d)(HS,{defaultUrl:Vw(n),providerFactory:t,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})}}]),n}(i.a.PureComponent);function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XS(e){var t=zw(e);if(!t||null===t.mediaPos)return!1;var n=e.schema,r=n.nodes.media,o=n.marks.link,i=e.doc.nodeAt(t.mediaPos);if(!i||i.type!==r)return!1;var a=e.doc.resolve(t.mediaPos).parent;return a&&a.type.allowsMarkType(o)}var JS,ZS,QS,ej,tj,nj,rj=function(e,t,n,r,o){var a=t.link,c=t.visible,s=t.editable,u=t.mediaPos;if(c&&null!==u&&n.doc.nodeAt(u))return YS(YS({},e),{},{height:360,width:420,forcePlacement:!0,items:[{type:"custom",fallback:[],render:function(e,t){return e&&o?i.a.createElement(KS,{key:t,displayUrl:a,providerFactory:o,intl:r,editing:s,onUnlink:function(){return ck(e.state,e.dispatch,e)},onBack:function(t,n){t.trim()&&n.inputMethod&&uk(t,n.inputMethod)(e.state,e.dispatch,e),ok(e.state,e.dispatch,e)},onCancel:function(){return ok(e.state,e.dispatch,e)},onSubmit:function(t,n){uk(t,n.inputMethod)(e.state,e.dispatch,e),ok(e.state,e.dispatch,e)},onBlur:function(){ok(e.state,e.dispatch,e)}}):null}}]})},oj=n(717),ij=n.n(oj),aj=n(718),cj=n.n(aj),sj=n(406),uj=n.n(sj),lj=n(407),dj=n.n(lj),fj=n(714),pj=n.n(fj),hj=n(716),mj=n.n(hj),vj=n(715),bj=n.n(vj),gj=Object(ko.b)({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),yj=[{id:"editor.media.alignLeft",value:"align-start",icon:pj.a},{id:"editor.media.alignCenter",value:"center",icon:bj.a},{id:"editor.media.alignRight",value:"align-end",icon:mj.a}],Oj=[{id:"editor.media.wrapLeft",value:"wrap-left",icon:ij.a},{id:"editor.media.wrapRight",value:"wrap-right",icon:cj.a}],wj=[{value:"wide",icon:uj.a},{value:"full-width",icon:dj.a}],kj={"wrap-left":gj.wrapLeft,center:Nc.alignImageCenter,"wrap-right":gj.wrapRight,wide:Nc.layoutWide,"full-width":Nc.layoutFullWidth,"align-end":Nc.alignImageRight,"align-start":Nc.alignImageLeft},Ej=function(e,t){return function(n,r){var o=n.selection.node,i=o.attrs.layout,a=n.schema.nodes.mediaSingle;if(!r)return!1;var c=tc.getState(n);if(!o||o.type!==t||!c)return!1;var s=function(e,t){var n=t.nodes.embedCard;return e.type===n?e.attrs.originalWidth||he.c:e.firstChild&&e.firstChild.attrs.width||e.attrs.width}(o,n.schema),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=t.width,a=t.layout,c=tx.indexOf(a)>-1,s=tx.indexOf(e)>-1,u=xy.indexOf(e)>-1,l=xy.indexOf(a)>-1;if(c&&Sy(e,r,o))(!i||i>=100||"center"!==a)&&(i=50);else if(e!==a&&["full-width","wide"].indexOf(a)>-1)i=void 0;else if(i){var d=Math.round(i/100*n),f=d;l&&s?(f=2*Math.floor(f/2),i=void 0):c&&u&&(d<=1?f=2:d>=n&&(f=10)),f!==d&&(i=f/n*100)}return ex(ex({},t),{},{layout:e,width:i})}(e,o.attrs,void 0,s,c.lineLength),l=n.tr.setNodeMarkup(n.selection.from,void 0,u);return l.setMeta("scrollIntoView",!1),l.setSelection(dt.NodeSelection.create(l.doc,n.selection.from)),r(Object(Ot.a)(n,l,{eventType:wt.e.TRACK,action:wt.a.SELECTED,actionSubject:wt.b[o.type===a?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:wt.c.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:i,currentLayoutType:e}})),!0}},xj=function(e,t,n,r){return e.map((function(e){var o=e.id,i=e.value;return{id:o,type:"button",icon:e.icon,title:n.formatMessage(kj[i]),selected:t===i,onClick:Ej(i,r)}}))},Sj=function(e,t,n,r,o){var i=e.selection;if(!(i instanceof dt.NodeSelection)||!i.node||!n||function(e,t,n){var r=t.nodes;return Object(Qi.hasParentNodeOfType)([r.bodiedExtension,r.listItem,r.expand,r.nestedExpand].concat(D()(n?[]:[r.table])).filter(Boolean))(e)}(i,e.schema,o))return[];var a=i.node.attrs.layout,c=[].concat(D()(xj(yj,a,t,n)),[{type:"separator"}],D()(xj(Oj,a,t,n)));return r||(c=c.concat([{type:"separator"}].concat(D()(xj(wj,a,t,n))))),c},jj=Object(ko.b)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}}),Cj=n(256),Tj=n.n(Cj),_j=n(239);function Aj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Pj=Object(T.c)(JS||(JS=S()(["\n  color: ",";\n  font-size: ",";\n  padding: 12px 40px;\n  line-height: 20px;\n  border-top: 1px solid ",";\n  margin: 0;\n"])),Object(ot.a)("color.text.subtlest",Ce.N100),Object(he.db)(12),Object(ot.a)("color.border",Ce.N30)),Ij=Object(T.c)(ZS||(ZS=S()(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  line-height: 2;\n"])),420),Mj=Object(T.c)(QS||(QS=S()(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),Rj=Object(T.c)(ej||(ej=S()(["\n  display: flex;\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 12px 0 40px;\n  border-top: 1px solid ",";\n  align-items: start;\n  flex-direction: column;\n"])),Object(ot.a)("color.border.danger",Ce.R400)),Nj=Object(T.c)(tj||(tj=S()(["\n  display: flex;\n  padding: 4px 8px;\n"]))),Dj=Object(T.c)(nj||(nj=S()(["\n  color: ",";\n"])),Object(ot.a)("color.icon.subtle",Ce.N80)),Lj=function(e){b()(n,e);var t=Aj(n);function n(e){var r;d()(this,n),r=t.call(this,e),E()(m()(r),"state",{showClearTextButton:Boolean(r.props.value),validationErrors:r.props.value?r.getValidationErrors(r.props.value):[],lastValue:r.props.value}),E()(m()(r),"closeMediaAltTextMenu",(function(){var e=r.props.view;jw(e.state,e.dispatch)})),E()(m()(r),"dispatchCancelEvent",(function(e){var t=r.props.view;t.someProp("handleKeyDown",(function(n){return n(t,e)}))})),E()(m()(r),"updateAltText",(function(e){var t=r.props.view;!function(e){return gw((function(e){return!!Iy(e)&&{type:"updateAltText"}}),(function(t,n){var r=$y(n),o=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(o,void 0,kw(kw({},r.attrs),{},{alt:e}))),t}))}(0===e.length?"":e)(t.state,t.dispatch)})),E()(m()(r),"handleOnChange",(function(e){var t=r.getValidationErrors(e);r.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(function(){t&&t.length||r.updateAltText(e)}))})),E()(m()(r),"handleOnBlur",(function(){var e=r.props.value,t=(r.state.lastValue||e||"").trim();r.handleOnChange(t)})),E()(m()(r),"handleClearText",(function(){r.handleOnChange("")}));var o=e.createAnalyticsEvent;return r.fireCustomAnalytics=Object(_j.a)(o),r}return p()(n,[{key:"componentDidMount",value:function(){this.prevValue=this.props.value}},{key:"componentWillUnmount",value:function(){this.fireAnalytics(wt.a.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(wt.a.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(wt.a.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(wt.a.EDITED)}},{key:"getValidationErrors",value:function(e){var t=this.props.altTextValidator;return e&&"function"==typeof t&&t(e)||[]}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.state.showClearTextButton,n=e(jj.back),r=Object(T.d)(nu.ToolTipContent,{description:n,keymap:nu.escape,shortcutOverride:"Esc"}),o=(this.state.validationErrors||[]).map((function(e,t){return Object(T.d)(Tx,{key:t},e)}));return Object(T.d)("div",{css:Ij},Object(T.d)("section",{css:Mj},Object(T.d)("div",{css:Nj},Object(T.d)(Fx.a,{title:e(jj.back),icon:Object(T.d)(Ax.a,{label:e(jj.back)}),tooltipContent:r,onClick:this.closeMediaAltTextMenu})),Object(T.d)(Bx,{testId:"alt-text-input",ariaLabel:e(jj.placeholder),describedById:"support-text",placeholder:e(jj.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),t&&Object(T.d)("div",{css:Nj},Object(T.d)(Fx.a,{testId:"alt-text-clear-button",title:e(jj.clear),icon:Object(T.d)("span",{css:Dj},Object(T.d)(Tj.a,{label:e(jj.clear)})),tooltipContent:e(jj.clear),onClick:this.handleClearText}))),!!o.length&&Object(T.d)("section",{css:Rj},o),Object(T.d)("p",{css:Pj,id:"support-text"},e(jj.supportText)))}},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:wt.b.MEDIA,actionSubjectId:wt.c.ALT_TEXT,eventType:wt.e.TRACK}})}}]),n}(i.a.Component),Bj=Object(G.a)()(Object(Ji.c)(Lj));function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fj(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uj,Hj=function(e){return{type:"custom",fallback:[],render:function(t,n){if(!t)return null;var r=$y(t.state);return r?i.a.createElement(Bj,{view:t,key:n,value:r.attrs.alt,altTextValidator:e&&e.altTextValidator}):null}}},Wj=function(e,t){return zj(zj({},e),{},{width:420,className:$o.FLOATING_TOOLBAR_COMPONENT,items:[Hj(t)]})},Vj=n(408),qj=n.n(Vj),Gj=n(275),Kj=n.n(Gj),$j=Object(ko.b)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}}),Yj=Object(T.c)(Uj||(Uj=S()(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px;\n"]))),Xj=function(e){var t=e.editorState,n=e.mediaLinkingState,r=e.intl,i=e.onAddLink,a=e.onEditLink,c=e.onOpenLink,s=Object(o.useState)(!1),u=mr()(s,2),l=u[0],d=u[1];if(Object(o.useEffect)((function(){var e;d(!1);var n=Xw(t);if(n){var r=null===(e=Yl.a.getState(t))||void 0===e?void 0:e.mediaClientConfig;r&&Zw(n,r).then((function(e){"external"!==e&&"image"!==e||d(!0)}))}}),[t]),!l)return null;if(n&&n.editable){var f=Object(Uw.b)(n.link),p=r.formatMessage(Rc.editLink),h=r.formatMessage(f?$j.openLink:Rc.unableToOpenLink);return Object(T.d)(o.Fragment,null,Object(T.d)("div",{css:Yj},Object(T.d)(Fx.a,{onClick:a,title:p,tooltipContent:Object(T.d)(nu.ToolTipContent,{description:p,keymap:nu.addLink})},p)),Object(T.d)("div",{css:Yj},Object(T.d)(zx.a,null)),Object(T.d)(Fx.a,{target:"_blank",href:f?n.link:void 0,disabled:!f,onClick:c,title:h,icon:Object(T.d)(Kj.a,{label:h}),className:"hyperlink-open-link"}),Object(T.d)(zx.a,null))}var m=r.formatMessage(Rc.addLink);return Object(T.d)(o.Fragment,null,Object(T.d)(Fx.a,{testId:"add-link-button",onClick:i,title:m,tooltipContent:Object(T.d)(nu.ToolTipContent,{description:m,keymap:nu.addLink}),icon:Object(T.d)(qj.a,{label:m})}),Object(T.d)(zx.a,null))},Jj=n(1091),Zj=Object(ko.b)({url:{id:"fabric.editor.url",defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",description:"Warning message to show the user that this node cannot change its view"},displayOptionUnavailableInParentNode:{id:"fabric.editor.displayOptionUnavailableInParentNode",defaultMessage:"This display option isn't available inside {node}",description:"Warning message to show the user that this node option is not available inside a parent node type"},urlTitle:{id:"fabric.editor.urlTitle",defaultMessage:"URL",description:"Title for option to convert the card to become a regular text-based hyperlink."},blockTitle:{id:"fabric.editor.blockTitle",defaultMessage:"Card",description:"Title for option to display link in the card view."},inlineTitle:{id:"fabric.editor.inlineTitle",defaultMessage:"Inline",description:"Title for option to display link in the inline view."},embedTitle:{id:"fabric.editor.embedTitle",defaultMessage:"Embed",description:"Title for option to display link as an embedded object."},urlDescription:{id:"fabric.editor.urlDescription",defaultMessage:"Display link as URL",description:"Description for option to convert the card to become a regular text-based hyperlink."},blockDescription:{id:"fabric.editor.blockDescription",defaultMessage:"Display more information about a link, including a summary and actions",description:"Description for option to display link in the card view."},inlineDescription:{id:"fabric.editor.inlineDescription",defaultMessage:"Display link as inline text",description:"Description for option to display link in the inline view."},embedDescription:{id:"fabric.editor.ecombedDescription",defaultMessage:"Display an interactive preview of a link",description:"Description for option to display link as an embedded object."}}),Qj=n(1210),eC=n(378),tC=n.n(eC),nC=function(e){var t=e.selectedMediaContainerNode();return t&&t.attrs?t.attrs:null},rC=function(){var e=u()(C.a.mark((function e(t){var n,r,o,i,a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=nC(t))||!t.mediaClientConfig){e.next=10;break}return r=n.id,o=n.collection,i=void 0===o?"":o,a=Object(Jw.a)(t.mediaClientConfig),e.next=7,a.file.getCurrentState(r,{collectionName:i});case 7:c=e.sent,s="error"===c.status?void 0:c.name,a.file.downloadBinary(r,s,i);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),oC=function(e){var t=e.schema.nodes.mediaGroup,n=Object(Qi.findParentNodeOfType)(t)(e.selection),r=e.tr;return r=n&&1===n.node.childCount?Object(Qi.removeParentNodeOfType)(t)(r):Object(Qi.removeSelectedNode)(r)},iC=function(e){var t=e.mediaPluginState,n=e.intl,r=Object(o.useState)(!1),a=mr()(r,2),s=a[0],u=a[1],l=function(){u(!1)},d=function(){if(s){var e=nC(t);if(e&&t.mediaClientConfig){var n=e.id,r=e.collection,o=void 0===r?"":r,a={id:n,mediaItemType:"file",collectionName:o};return c.a.createPortal(i.a.createElement(Qj.a,{collectionName:o,dataSource:{list:[]},mediaClientConfig:t.mediaClientConfig,selectedItem:a,onClose:l}),document.body)}}return null}(),f=n.formatMessage(Jj.a.preview);return i.a.createElement("div",null,i.a.createElement(Fx.a,{testId:"file-preview-toolbar-button",key:"editor.media.card.preview",onClick:function(){u(!0)},icon:i.a.createElement(tC.a,{label:"file preview"}),tooltipContent:f}),d)},aC=function(e,t){var n=e.schema.nodes,r=n.media,o=n.mediaInline,i=n.mediaGroup,a=e.selection instanceof dt.NodeSelection&&e.selection.node.type===o&&e.selection.node;if(!a)return!1;var c=a.attrs,s=c.id,u=c.type,l=c.collection,d=r.createChecked({id:s,type:u,collection:l}),f=i.createChecked({},d),p=e.tr.doc.resolve(e.selection.from).end(),h=e.tr;return h=Object(Qi.removeSelectedNode)(h),h=Object(Qi.safeInsert)(f,p,!0)(h),t&&(Object(Ot.a)(e,h,{action:wt.a.CHANGED_TYPE,actionSubject:wt.b.MEDIA,eventType:wt.e.TRACK,attributes:{newType:wt.c.MEDIA_GROUP,previousType:wt.c.MEDIA_INLINE}}),t(h)),!0},cC=function(e,t){var n=e.schema.nodes,r=n.media,o=n.mediaInline,i=n.paragraph,a=e.selection instanceof dt.NodeSelection&&e.selection.node;if(!a||!a.type===r)return!1;var c=o.create({id:a.attrs.id,collection:a.attrs.collection}),s=e.schema.text(" "),u=ya.Fragment.from([c,s]),l=i.createChecked({},u),d=e.tr.doc.resolve(e.selection.from).start()-1,f=oC(e);return f=Object(Qi.safeInsert)(l,d,!0)(f),t&&(Object(Ot.a)(e,f,{action:wt.a.CHANGED_TYPE,actionSubject:wt.b.MEDIA,eventType:wt.e.TRACK,attributes:{newType:wt.c.MEDIA_INLINE,previousType:wt.c.MEDIA_GROUP}}),t(f)),!0},sC=function(e,t){return!!Object(Qi.isNodeSelection)(e.selection)&&(t&&t(Object(Qi.removeSelectedNode)(e.tr)),!0)};function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uC(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dC=function(e,t){return t&&t(Object(Qi.removeSelectedNode)(e.tr)),!0},fC=function(e,t){var n=oC(e);return t&&t(n),!0},pC=function(e,t,n){var r=e.schema.nodes.mediaGroup;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(Jj.a.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(Zj.inline),selected:!1,disabled:!1,onClick:cC,testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",title:t.formatMessage(Jj.a.displayThumbnail),selected:!0,disabled:!1,onClick:function(){return!0},testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:function(){return i.a.createElement(iC,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})}},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:yx.a,onClick:function(){return rC(n),!0},title:t.formatMessage(Jj.a.download)},{type:"separator"},{id:"editor.media.delete",type:"button",appearance:"danger",icon:Wg.a,onMouseEnter:qg(r,!0),onMouseLeave:qg(r,!1),onFocus:qg(r,!0),onBlur:qg(r,!1),title:t.formatMessage(Nc.remove),onClick:fC,testId:"media-toolbar-remove-button"}]},hC=function(e,t,n){var r=e.schema.nodes.mediaInline;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(Jj.a.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(Zj.inline),selected:!0,disabled:!1,onClick:function(){return!0},testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",title:t.formatMessage(Jj.a.displayThumbnail),selected:!1,disabled:!1,onClick:aC,testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:function(){return i.a.createElement(iC,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})}},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:yx.a,onClick:function(){return rC(n),!0},title:t.formatMessage(Jj.a.download)},{type:"separator"},{id:"editor.media.delete",type:"button",appearance:"danger",icon:Wg.a,onMouseEnter:qg(r,!0),onMouseLeave:qg(r,!1),onFocus:qg(r,!0),onBlur:qg(r,!1),title:t.formatMessage(Nc.remove),onClick:sC,testId:"media-toolbar-remove-button"}]},mC=function(e,t,n,r,o){var a=e.schema.nodes.mediaSingle,c=n.allowResizing,s=n.allowLinking,u=n.allowAdvancedToolBarOptions,l=n.allowResizingInTables,d=n.allowAltTextOnImages,f=[];u&&((f=Sj(e,t,e.schema.nodes.mediaSingle,c,l)).length&&f.push({type:"separator"}),s&&XS(e)&&f.push({type:"custom",fallback:[],render:function(e,n){if(null!=e&&e.state){var r=function(){if(e){var t=e.state,n=e.dispatch;tk(t,n)}};return i.a.createElement(Xj,{key:n,editorState:e.state,intl:t,mediaLinkingState:o,onAddLink:r,onEditLink:r,onOpenLink:function(){if(e){var t=e.state;return(0,e.dispatch)(Object(Ot.a)(t,t.tr,{eventType:wt.e.TRACK,action:wt.a.VISITED,actionSubject:wt.b.MEDIA,actionSubjectId:wt.c.LINK})),!0}}})}return null}})),d&&f.push(function(e,t){var n=$y(t),r=n&&n.attrs.alt?jj.editAltText:jj.altText,o=e.formatMessage(r);return{title:o,id:"editor.media.altText",type:"button",onClick:Cw,showTitle:!0,testId:"alt-text-edit-button",tooltipContent:i.a.createElement(nu.ToolTipContent,{description:o,keymap:nu.addAltText})}}(t,e),{type:"separator"});var p={id:"editor.media.delete",type:"button",appearance:"danger",icon:Wg.a,onMouseEnter:qg(a,!0),onMouseLeave:qg(a,!1),onFocus:qg(a,!0),onBlur:qg(a,!1),title:t.formatMessage(Nc.remove),onClick:dC,testId:"media-toolbar-remove-button"};return[].concat(D()(f),[p])};function vC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var bC={on:function(){},removeAllListeners:function(){},emit:function(){},destroy:function(){},setUploadParams:function(){}},gC=function(e){b()(n,e);var t=vC(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{}),E()(m()(e),"handleMediaProvider",function(){var t=u()(C.a.mark((function t(n,r){var o,i,a,c,s,u,l,d;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props,i=o.mediaState,a=o.analyticsName,t.next=3,r;case 3:if((c=t.sent)&&c.uploadParams){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,c.uploadMediaClientConfig;case 8:if(t.t0=t.sent,t.t0){t.next=13;break}return t.next=12,c.viewMediaClientConfig;case 12:t.t0=t.sent;case 13:if(s=t.t0){t.next=16;break}return t.abrupt("return");case 16:return u={mediaClientConfig:s,errorReporter:i.options.errorReporter||new sy,featureFlags:i.mediaOptions&&i.mediaOptions.featureFlags},t.next=19,new ow("customMediaPicker",u,bC,a).init();case 19:(l=t.sent).onNewMedia(i.insertFile),l.setUploadParams(c.uploadParams),d={uploadParams:c.uploadParams},e.setState({pickerFacadeInstance:l,config:d,mediaClientConfig:s});case 24:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e}return p()(n,[{key:"componentDidMount",value:function(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}},{key:"componentWillUnmount",value:function(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}},{key:"render",value:function(){var e=this.state,t=e.mediaClientConfig,n=e.config,r=e.pickerFacadeInstance;return t&&n&&r?this.props.children({mediaClientConfig:t,config:n,pickerFacadeInstance:r}):null}}]),n}(i.a.Component),yC=function(e){var t=e.mediaState,n=e.featureFlags;return i.a.createElement(gC,{mediaState:t,analyticsName:"clipboard"},(function(e){var t=e.mediaClientConfig,r=e.config,o=e.pickerFacadeInstance;return i.a.createElement(tw,{mediaClientConfig:t,config:r,onError:o.handleUploadError,onPreviewUpdate:o.handleUploadPreviewUpdate,onEnd:o.handleReady,featureFlags:n})}))},OC=n(240);function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wC(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EC=function(e){var t=e.mediaState,n=e.isActive,r=e.featureFlags,o=e.editorDomElement,a=e.appearance;return i.a.createElement(gC,{mediaState:t,analyticsName:"dropzone"},(function(e){var c=e.mediaClientConfig,s=e.config,u=e.pickerFacadeInstance,l=t.options.customDropzoneContainer,d=t.handleDrag,f=o,p="full-page"===a&&Object(OC.c)(f),h=l||p||f,m=kC(kC({},s),{},{container:h});return n?i.a.createElement(QO,{mediaClientConfig:c,config:m,onError:u.handleUploadError,onPreviewUpdate:u.handleUploadPreviewUpdate,onEnd:u.handleReady,onDragEnter:function(){return d("enter")},onDragLeave:function(){return d("leave")},featureFlags:r}):null}))};function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xC(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jC=function(e){var t=e.mediaState,n=e.isOpen,r=e.onBrowseFn,o=e.featureFlags;return i.a.createElement(gC,{mediaState:t,analyticsName:"browser"},(function(e){var t=e.mediaClientConfig,a=e.config,c=e.pickerFacadeInstance,s=SC(SC({},a),{},{multiple:!0});return i.a.createElement(rw,{onBrowseFn:r,isOpen:n,config:s,mediaClientConfig:t,onEnd:c.handleReady,onError:c.handleUploadError,onPreviewUpdate:c.handleUploadPreviewUpdate,featureFlags:o})}))},CC=new dt.PluginKey("focusStatePlugin");function TC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var _C=function(e){b()(n,e);var t=TC(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{isPopupOpened:!1}),E()(m()(e),"onBrowseFn",(function(t){var n=e.props.mediaState;n&&n.setBrowseFn(t)})),e}return p()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.mediaState.onPopupToggle((function(t){e.setState({isPopupOpened:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.mediaState,r=t.editorDomElement,o=t.appearance,a=this.state.isPopupOpened,c=n.mediaOptions&&n.mediaOptions.featureFlags;return i.a.createElement(Xa.a,{plugins:{focus:CC},render:function(t){var s=t.focus?i.a.createElement(yC,{mediaState:n,featureFlags:c}):null;return i.a.createElement(i.a.Fragment,null,s,i.a.createElement(EC,{mediaState:n,isActive:!a,featureFlags:c,editorDomElement:r,appearance:o}),i.a.createElement(jC,{onBrowseFn:e.onBrowseFn,mediaState:n,featureFlags:c}))}})}}]),n}(i.a.Component);function AC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(_C,"displayName","MediaPickerComponents");var PC=function(e){b()(n,e);var t=AC(n);function n(e,r,o,i,a,c,s){var u,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],f=arguments.length>8?arguments[8]:void 0,p=arguments.length>9&&void 0!==arguments[9]&&arguments[9];return d()(this,n),u=t.call(this,e,r,o,i,a,c,s,l,f,p),E()(m()(u),"isNodeInsideSelection",(function(e,t,n,r){var o=u.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(e<=n&&t>=r)})),E()(m()(u),"isSelectionInsideNode",(function(e,t,n,r){var o=u.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(n<e&&t<r)})),E()(m()(u),"isSelectedNode",(function(e){if(e instanceof dt.NodeSelection){var t=u.view.state.selection,n=t.from,r=t.to;return e.node===u.node||u.pos===n&&u.posEnd===r&&e.node.eq(u.node)}return!1})),E()(m()(u),"insideSelection",(function(){var e=u.view.state.selection,t=e.from,n=e.to;return u.isSelectedNode(u.view.state.selection)||u.isSelectionInsideNode(t,n)})),E()(m()(u),"nodeInsideSelection",(function(){var e=u.view.state.selection,t=e.from,n=e.to;return u.isSelectedNode(e)||u.isNodeInsideSelection(t,n)})),E()(m()(u),"onSelectionChange",(function(){u.update(u.node,[])})),u.updatePos(),u.oldSelection=r.state.selection,u.selectionChangeState=mE.getState(u.view.state),u.selectionChangeState.subscribe(u.onSelectionChange),u}return p()(n,[{key:"updatePos",value:function(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}},{key:"getPositionsWithDefault",value:function(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}},{key:"viewShouldUpdate",value:function(e){var t=this.view.state.selection,n=this.oldSelection;this.oldSelection=t;var r=this.pos,o=this.posEnd;this.updatePos();var i=t.from,a=t.to,c=n.from,s=n.to;if(this.node.type.spec.selectable){var u=t instanceof dt.NodeSelection&&t.from===this.pos,l=n instanceof dt.NodeSelection&&n.from===this.pos;if(u&&!l||l&&!u)return!0}var d=this.isNodeInsideSelection(i,a)&&!this.isNodeInsideSelection(c,s),f=!this.isNodeInsideSelection(i,a)&&this.isNodeInsideSelection(c,s),p=this.isNodeInsideSelection(i,a,r,o)&&!this.isNodeInsideSelection(i,a);return!!(d||f||p)}},{key:"destroy",value:function(){this.selectionChangeState.unsubscribe(this.onSelectionChange),NE()(w()(n.prototype),"destroy",this).call(this)}}]),n}(pE);function IC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var MC=function(e){b()(n,e);var t=IC(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"renderMediaNodeWithState",(function(t,n){return function(r){var o=r.width,a=e.getPos,c=e.reactComponentProps.mediaOptions,s=e.view.state.selection,u=e.getAttrs(),l="external"===u.type?u.url:"",d=u.width,f=u.height;if(e.isMediaBlobUrl()){var p=Object(Ty.b)(l);if(p){var h=p.width,m=p.height;d=d||h,f=f||m}}d=d||250,f=f||200;var v={width:"".concat(o.width,"px"),height:"".concat(f/d*o.width,"px")},b={width:d,height:f};return i.a.createElement(_O,{view:e.view,node:e.node,getPos:a,selected:e.isNodeInsideSelection(s.from,s.to)||s instanceof dt.NodeSelection&&s.from===a(),originalDimensions:b,maxDimensions:v,url:l,mediaProvider:t,contextIdentifierProvider:n,uploadComplete:e.uploadComplete(),mediaOptions:c})}})),E()(m()(e),"renderMediaNodeWithProviders",(function(t){var n=t.mediaProvider,r=t.contextIdentifierProvider;return i.a.createElement(Xa.a,{editorView:e.view,plugins:{width:tc},render:e.renderMediaNodeWithState(n,r)})})),e}return p()(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return xe.a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||NE()(w()(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"stopEvent",value:function(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)&&2===e.button)return!0;return!1}},{key:"getAttrs",value:function(){return this.node.attrs}},{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return _y(e)}},{key:"uploadComplete",value:function(){return KO(Yl.a.getState(this.view.state),this.node.attrs.id)}},{key:"render",value:function(){var e=this.reactComponentProps.providerFactory;return i.a.createElement(Ak.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:e,renderNode:this.renderMediaNodeWithProviders})}}]),n}(PC),RC=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new MC(o,i,a,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:r},void 0,void 0,void 0,!0).init()}},NC=n(1229);function DC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var LC=function(e){b()(a,e);var t,r,o=DC(a);function a(){var e;d()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),E()(m()(e),"isMounted",!1),E()(m()(e),"state",{MediaInlineCard:a.MediaInlineCard,ErrorBoundary:a.ErrorBoundary}),e}return p()(a,[{key:"componentDidMount",value:(r=u()(C.a.mark((function e(){var t,r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMounted=!0,this.state.MediaInlineCard){e.next=17;break}return e.prev=2,e.next=5,Promise.all([n.e(4).then(n.bind(null,224)),n.e(153).then(n.bind(null,2106)),n.e(67).then(n.bind(null,1992))]);case 5:t=e.sent,r=mr()(t,3),o=r[0],i=r[1],c=r[2],a.MediaInlineCard=o.withMediaClient(i.MediaInlineCard),a.ErrorBoundary=c.default,this.isMounted&&this.setState({MediaInlineCard:a.MediaInlineCard,ErrorBoundary:a.ErrorBoundary}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:(t=u()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isMounted=!1;case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.MediaInlineCard,n=e.ErrorBoundary;return t&&n?i.a.createElement(n,null,i.a.createElement(t,this.props)):i.a.createElement(NC.a,{message:""})}}]),a}(i.a.PureComponent);function BC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FC(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}E()(LC,"displayName","MediaInlineCardLoader");var UC,HC,WC=function(e){var t=e.node;return new EE(zC(zC({},e),{},{isMediaSingle:!0,node:t||e.node,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,contextIdentifierProvider:e.contextIdentifierProvider}))},VC=function(){var e=u()(C.a.mark((function e(t){var n,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=WC(t),r=t.mediaPluginState.addPendingTask,t.node){e.next=5;break}return e.abrupt("return");case 5:if(n.getNodeContextId()){e.next=9;break}return e.next=9,n.updateContextId();case 9:return e.next=11,n.hasDifferentContextId();case 11:if(!e.sent){e.next=23;break}return e.prev=13,o=n.copyNode(),r(o),e.next=18,o;case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(13),e.abrupt("return");case 23:return e.next=25,n.updateFileAttrs();case 25:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),qC=function(e){var t=Object(o.useState)(),n=mr()(t,2),r=n[0],a=n[1];Object(o.useEffect)((function(){return function(e){var t=e.node,n=e.mediaPluginState,r=e.getPos;n.handleMediaNodeMount(t,(function(){return r()}))}(e),VC(e),c(e),function(){e.mediaPluginState.handleMediaNodeUnmount(e.node)}}),[e]);var c=function(){var e=u()(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mediaProvider;case 2:(n=e.sent)&&(r=n.viewMediaClientConfig,a(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=e.node.attrs,l={id:s.id,mediaItemType:"file",collectionName:s.collection};return r?i.a.createElement(LC,{isSelected:e.isSelected,identifier:l,mediaClientConfig:r}):i.a.createElement(NC.a,{message:"",isSelected:!1})},GC=function(e){b()(n,e);var t=BC(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"createDomRef",value:function(){var e=document.createElement("span");return e.contentEditable="false",e}},{key:"getContentDOM",value:function(){var e=document.createElement("span");return e.classList.add("media-inline-node"),{dom:e}}},{key:"ignoreMutation",value:function(){return!0}},{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||NE()(w()(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"render",value:function(e){var t=this,n=e.providerFactory,r=this.getPos;return i.a.createElement(Ak.a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:n,renderNode:function(e){var n=e.mediaProvider,o=e.contextIdentifierProvider;return n?i.a.createElement(Xa.a,{editorView:t.view,plugins:{mediaPluginState:Yl.a},render:function(e){var a=e.mediaPluginState;return a?i.a.createElement(qC,{identifier:t.node.attrs.id,mediaProvider:n,mediaPluginState:a,node:t.node,isSelected:t.nodeInsideSelection(),view:t.view,getPos:r,contextIdentifierProvider:o}):null}}):null}})}}]),n}(PC),KC=function(e,t,n,r){return function(o,i,a){return new GC(o,i,a,e,t,{providerFactory:n,dispatchAnalyticsEvent:r}).init()}},$C=function(e){return{name:"media",nodes:function(){var t=e||{},n=t.allowMediaGroup,r=void 0===n||n,o=t.allowMediaSingle,i=void 0!==o&&o,a=t.featureFlags,c=Object(fO.c)("captions",a),s=Object(fO.c)("mediaInline",a),u=c?oy.b:oy.a;return[{name:"mediaGroup",node:iy.a},{name:"mediaSingle",node:u},{name:"media",node:ay.d},{name:"mediaInline",node:cy.a}].filter((function(e){return"mediaGroup"===e.name?r:"mediaSingle"===e.name?i:"mediaInline"!==e.name||s}))},pmPlugins:function(){var t=[{name:"media",plugin:function(t){t.schema;var n=t.dispatch,r=t.getIntl,o=t.eventDispatcher,i=t.providerFactory,a=t.errorReporter,c=t.portalProviderAPI,s=(t.reactContext,t.dispatchAnalyticsEvent);return fw(0,{providerFactory:i,nodeViews:{mediaGroup:ME(c,o,i,e),mediaSingle:bx(c,o,i,s,e),media:RC(c,o,i,e),mediaInline:KC(c,o,i)},errorReporter:a,uploadErrorHandler:e&&e.uploadErrorHandler,waitForMediaUpload:e&&e.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,allowResizing:!(!e||!e.allowResizing)},0,r,n,e)}},{name:"mediaKeymap",plugin:function(){return Sk(e)}}];return e&&e.allowMediaSingle&&t.push({name:"mediaSingleKeymap",plugin:function(e){return function(e){var t={},n=Pw(e);return nu.bindKeymapWithCommand(nu.backspace.common,n,t),dp(t)}(e.schema)}}),e&&e.allowAltTextOnImages&&(t.push({name:"mediaAltText",plugin:Ow}),t.push({name:"mediaAltTextKeymap",plugin:function(e){var t;e.schema;return t={},nu.bindKeymapWithCommand(nu.addAltText.common,Cw,t),nu.bindKeymapWithCommand(nu.escape.common,jw,t),dp(t)}})),e&&e.allowLinking&&(t.push({name:"mediaLinking",plugin:function(e){return function(e){return new Za.a({key:Dw,state:Bw.createPluginState(e,Lw)})}(e.dispatch)}}),t.push({name:"mediaLinkingKeymap",plugin:function(e){var t;e.schema;return t={},nu.bindKeymapWithCommand(nu.addLink.common,nk,t),dp(t)}})),t},contentComponent:function(e){var t=e.editorView,n=e.appearance;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Xa.a,{editorView:t,plugins:{mediaState:Yl.a},render:function(e){var r=e.mediaState;return i.a.createElement(_C,{editorDomElement:t.dom,mediaState:r,appearance:n})}}))},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.eventDispatcher,r=e.disabled;return i.a.createElement(_k,{editorView:t,eventDispatcher:n,pluginKey:Yl.a,isDisabled:r,isReducedSpacing:!0})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"media",title:t(Gv.a.filesAndImages),description:t(Gv.a.filesAndImagesDescription),priority:400,keywords:["attachment","gif","media","picture"],icon:function(){return i.a.createElement(jv,null)},action:function(e,t){return Yl.a.getState(t).showMediaPicker(),Object(Ot.a)(t,e(""),{action:wt.a.OPENED,actionSubject:wt.b.PICKER,actionSubjectId:wt.c.PICKER_CLOUD,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]},floatingToolbar:function(t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.schema.nodes,o=r.media,i=r.mediaInline,a=r.mediaSingle,c=r.mediaGroup,s=n.altTextValidator,u=n.allowLinking,l=n.allowAltTextOnImages,d=n.providerFactory,f=n.allowMediaInline,p=Yl.a.getState(e),h=zw(e);if(p){var m=f?[i,a,o]:[a],v={title:"Media floating controls",nodeType:m,getDomRef:function(){return p.element}};if(u&&h&&h.visible&&XS(e)){var b=rj(v,h,e,t,d);if(b)return b}if(l){var g=yw(e);if(g.isAltTextEditorOpen)return Wj(v,{altTextValidator:s})}var y,O=[],w=Object(Qi.findParentNodeOfType)(c)(e.selection);if(e.selection instanceof dt.NodeSelection&&(y=e.selection.node.type),f&&(null==w?void 0:w.node.type)===c){var k=e.selection.$from.parentOffset+1;v.getDomRef=function(){var e,t=Ox(k);return null===(e=p.element)||void 0===e?void 0:e.querySelector(t)},O=pC(e,t,p)}else f&&y&&y===i?(v.getDomRef=function(){var e;return(null===(e=p.element)||void 0===e?void 0:e.querySelector(".".concat("media-inline-node")))||p.element},O=hC(e,t,p)):(v.getDomRef=function(){var e;return(null===(e=p.element)||void 0===e?void 0:e.querySelector(".".concat("media-single-node")))||p.element},O=mC(e,t,n,0,h));return lC(lC({},v),{},{items:O})}}(t,n,{providerFactory:r,allowMediaInline:e&&Object(fO.c)("mediaInline",e.featureFlags),allowResizing:e&&e.allowResizing,allowResizingInTables:e&&e.allowResizingInTables,allowLinking:e&&e.allowLinking,allowAdvancedToolBarOptions:e&&e.allowAdvancedToolBarOptions,allowAltTextOnImages:e&&e.allowAltTextOnImages,altTextValidator:e&&e.altTextValidator})}}}},YC=n(587),XC=new dt.PluginKey("caption"),JC=Object(ko.b)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}});function ZC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var QC=Object(T.c)(UC||(UC=S()(["\n  margin-top: 8px;\n  text-align: center;\n  position: relative;\n  color: ",";\n"])),Object(ot.a)("color.text.subtle",Ce.N400)),eT=Object(T.c)(HC||(HC=S()(["\n  color: ",";\n  position: absolute;\n  top: 0;\n  width: 100%;\n"])),Object(ot.a)("color.text.subtlest",Ce.N200)),tT=function(e){b()(n,e);var t=ZC(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.hasContent,r=e.children,o=e.dataAttributes,i=e.intl.formatMessage,a=!t&&!n;return Object(T.d)("div",_e()({"data-media-caption":!0,"data-testid":"media-caption"},o,{css:QC}),a?Object(T.d)("p",{css:eT},i(JC.placeholder)):null,r)}}]),n}(i.a.Component),nT=Object(Ji.c)(tT);function rT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var oT=function(e){b()(n,e);var t=rT(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"selected",e.insideSelection()),e}return p()(n,[{key:"createDomRef",value:function(){var e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}},{key:"getContentDOM",value:function(){return{dom:document.createElement("div")}}},{key:"render",value:function(e,t){return i.a.createElement(nT,{selected:this.insideSelection(),hasContent:this.node.content.childCount>0},i.a.createElement("div",{ref:t}))}},{key:"viewShouldUpdate",value:function(e){if(this.node.childCount!==e.childCount)return!0;var t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}]),n}(PC);function iT(e,t){return function(n,r,o){return new oT(n,r,o,e,t,{},void 0,void 0,void 0,!0).init()}}var aT=function(e,t,n){Object(Ot.a)(e,t,{action:n,eventType:wt.e.TRACK,actionSubject:wt.b.MEDIA_SINGLE,actionSubjectId:wt.c.CAPTION})};function cT(){var e={};return nu.bindKeymapWithCommand(nu.moveDown.common,uT,e),nu.bindKeymapWithCommand(nu.enter.common,uT,e),nu.bindKeymapWithCommand(nu.moveDown.common,lT,e),nu.bindKeymapWithCommand(nu.enter.common,lT,e),nu.bindKeymapWithCommand(nu.moveUp.common,dT,e),nu.bindKeymapWithCommand(nu.shiftTab.common,dT,e),nu.bindKeymapWithCommand(nu.tab.common,lT,e),nu.bindKeymapWithCommand(nu.moveLeft.common,fT,e),dp(e)}var sT,uT=function(e,t){return!!Object(Qi.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)&&ja(e,t)},lT=function(e,t){var n=Object(Qi.findParentNodeOfType)(e.schema.nodes.caption)(e.selection);if(n){if(t)t(e.tr.setSelection(dt.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))));return!0}return!1},dT=function(e,t){if(Object(Qi.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){var n=Object(Qi.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t)t(e.tr.setSelection(dt.Selection.near(e.tr.doc.resolve(n.pos))));return!0}}return!1},fT=function(e,t){if(Object(Qi.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){var n=Object(Qi.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n&&e.selection.empty&&0===e.tr.doc.resolve(e.selection.from).parentOffset){var r=ra.a.findFrom(e.tr.doc.resolve(n.pos),0,!1);if(r){if(t)t(e.tr.setSelection(r));return!0}}}return!1},pT=function(){return{name:"caption",nodes:function(){return[{name:"caption",node:YC.a}]},pmPlugins:function(){return[{name:"caption",plugin:function(e){var t=e.portalProviderAPI,n=(e.providerFactory,e.eventDispatcher);e.dispatch;return function(e,t,n,r){return new Za.a({appendTransaction:function(e,t,n){if(e.find((function(e){return e.selectionSet}))){var r=!n.selection.eq(t.selection),o=Object(Qi.findParentNodeOfType)(t.schema.nodes.caption)(t.selection),i=n.tr;if(r&&o){if(0===o.node.childCount)return i.delete(o.start-1,o.start),i.setMeta("scrollIntoView",!1),aT(n,i,wt.a.DELETED),i;aT(n,i,wt.a.EDITED)}}},key:XC,props:{nodeViews:{caption:iT(e,t)}}})}(t,n)}},{name:"captionKeymap",plugin:cT}]}}},hT=n(131),mT=n.n(hT),vT=n(304),bT=n(445),gT=n(74),yT=new dt.PluginKey("typeAheadPlugin");!function(e){e.OPEN_TYPEAHEAD_AT_CURSOR="OPEN_TYPEAHEAD_AT_CURSOR",e.CLOSE_TYPE_AHEAD="CLOSE_TYPE_AHEAD",e.CHANGE_QUERY="CHANGE_QUERY",e.INSERT_ITEM="INSERT_ITEM",e.INSERT_RAW_QUERY="INSERT_RAW_QUERY",e.UPDATE_LIST_ITEMS="UPDATE_LIST_ITEMS",e.UPDATE_SELECTED_INDEX="UPDATE_SELECTED_INDEX"}(sT||(sT={}));var OT=function(e){return function(t,n){if(yT.getState(t).selectedIndex===e)return!1;var r=t.tr;return r.setMeta(yT,{action:sT.UPDATE_SELECTED_INDEX,params:{selectedIndex:e}}),n&&n(r),!0}},wT=p()((function e(){var t=this;d()(this,e),E()(this,"startedAt",0),E()(this,"endedAt",0),E()(this,"keyCount",{arrowUp:0,arrowDown:0}),E()(this,"increaseArrowUp",(function(){t.keyCount.arrowUp+=1})),E()(this,"increaseArrowDown",(function(){t.keyCount.arrowDown+=1})),E()(this,"serialize",(function(){var e,n;return{startedAt:t.startedAt,endedAt:performance.now(),keyCount:{arrowUp:(null===(e=t.keyCount)||void 0===e?void 0:e.arrowUp)||0,arrowDown:(null===(n=t.keyCount)||void 0===n?void 0:n.arrowDown)||0}}})),this.startedAt=performance.now(),this.keyCount={arrowUp:0,arrowDown:0}})),kT=function(e){var t,n;return(null==yT||null===(t=yT.getState(e))||void 0===t||null===(n=t.decorationSet)||void 0===n?void 0:n.find().length)>0},ET=function(e){return yT.getState(e)},xT=function(e){return yT.getState(e).triggerHandler},ST=function(e){return yT.getState(e).query},jT=function(e){return!kT(e)},CT=function(e,t){var n=yT.getState(t);return n&&n.typeAheadHandlers&&0!==n.typeAheadHandlers.length&&n.typeAheadHandlers.find((function(t){return t.id===e}))||null},TT=function(e){var t=e.editorView,n=e.direction;return function(){var e=ET(t.state);if(e){var r=e.selectedIndex,o=e.items,i=e.stats instanceof wT?e.stats:new wT,a=0;"next"===n?(i.increaseArrowDown(),a=r>=o.length-1?0:r+1):(i.increaseArrowUp(),a=0===r?o.length-1:r-1),OT(a)(t.state,t.dispatch)}}},_T=n(409),AT=n.n(_T),PT=function(e){return function(t){var n=e.triggerHandler,r=e.inputMethod,o=e.query;t.setMeta(yT,{action:sT.OPEN_TYPEAHEAD_AT_CURSOR,params:{triggerHandler:n,inputMethod:r,query:o}})}},IT=function(e){var t=e.triggerHandler,n=e.inputMethod,r=e.query;return function(e){PT({triggerHandler:t,inputMethod:n,query:r})(e);var o=e.selection;if(!(o instanceof dt.TextSelection))return e;if(!o.$cursor)return e.deleteSelection(),e;var i=o.$cursor.pos,a=e.doc.nodeAt(i),c=a&&"placeholder"===a.type.name;return a&&c&&e.delete(i,i+a.nodeSize),e}},MT=function(e){return e.setMeta(yT,{action:sT.CLOSE_TYPE_AHEAD})},RT=function(e){return function(t,n){if(yT.getState(t).query===e)return!1;var r=t.tr;return r.setMeta(yT,{action:sT.CHANGE_QUERY,params:{query:e}}),n&&n(r),!0}};function NT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var DT;!function(e){e.DELETING_RAW_QUERY="DELETING_RAW_QUERY",e.INSERTING_ITEM="INSERTING_ITEM"}(DT||(DT={}));var LT=function(e){b()(n,e);var t=NT(n);function n(e){var r,o=e.stage,i=e.query,a=e.trigger,c=e.selectedIndex,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d()(this,n),(r=t.call(this)).isInvertStep=s,r.stage=o,r.query=i,r.trigger=a,r.selectedIndex=c,r}return p()(n,[{key:"invert",value:function(){return new n({stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex},!this.isInvertStep)}},{key:"apply",value:function(e){return pt.f.ok(e)}},{key:"merge",value:function(){return null}},{key:"isInsertionStep",value:function(){return!this.isInvertStep}},{key:"isUndoingStep",value:function(){return this.isInvertStep}},{key:"map",value:function(e){return new n({stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex},this.isInvertStep)}},{key:"getMap",value:function(){return new pt.e([0,0,0])}},{key:"toJSON",value:function(){return{stepType:"replace",from:0,to:0}}}],[{key:"fromJSON",value:function(){return new pt.c(0,0,ya.Slice.empty)}}]),n}(pt.d);pt.d.jsonID("atlaskit-insert-type-ahead",LT);var BT=function(e){var t=e.node,n=e.tr,r=e.position,o=r.start,i=r.end;if(t.isText)return n.replaceWith(o,i,t);if(t.isBlock){n.delete(o,i);var a=n.mapping.map(o),c=Object(Kv.e)(n,t);if(Jv(c,a)(n))return n;var s=ya.Slice.maxOpen(ya.Fragment.from(c)),u=function(e,t,n){for(var r=e.resolve(t),o=function(e,t){return{from:e,to:t||e}},i=r.depth;i>=0;i--){var a=r.node(i),c=Math.max(i-1,0),s=r.node(c),u="paragraph"===a.type.name&&0===a.content.size,l=r.index(c),d=s.canReplaceWith(l,l,n.type);if(u&&d){var f=r.posAtIndex(l,c);return o(f,f+a.nodeSize)}var p=r.indexAfter(c);if(s.canReplaceWith(p,p,n.type))return o(r.posAtIndex(p,c))}return o(0)}(n.doc,a,c),l=u.from,d=u.to;n.replaceWith(l,d,t);var f=Math.min(l+(t.isAtom?t.nodeSize:s.openStart),n.doc.content.size),p=dt.TextSelection.findFrom(n.doc.resolve(f),1,!0);if(p)return n.setSelection(p)}return n},FT=function(e){var t=e.maybeFragment,n=e.tr,r=e.position,o=e.selectInlineNode,i=r.start,a=r.end,c=t instanceof ya.Node?ya.Fragment.from(t):t;return n.replaceWith(i,a,c),o?n.setSelection(dt.NodeSelection.create(n.doc,i)):n.setSelection(dt.TextSelection.near(n.doc.resolve(i+c.size)))},zT=function(e){var t=e.schema,n=e.maybeNode;if(!n)return null;if(n instanceof ya.Node||n instanceof ya.Fragment)return n;if("string"==typeof n)return t.text(n);try{return ya.Node.fromJSON(t,n)}catch(e){return console.error(e),null}},UT=function(e){var t=e.trigger,n=e.selectedIndex,r=e.position,o=e.query,i=e.wasInsertedBySpace,a=e.insertItem;return function(e){var c=e.tr;if(Vh(c),!i){c.delete(r.start,r.end);var s={stage:DT.DELETING_RAW_QUERY,selectedIndex:n,query:o,trigger:t};c.step(new LT(s))}return c.setMeta(yT,{action:sT.INSERT_ITEM,params:a}),c}},HT=function(e){return function(t){var n=t.item,r=t.handler,o=t.mode,i=t.query,a=t.sourceListItem,c=ET(e.state);if(c){var s=(c.stats||new wT).serialize(),u={mode:o,query:i,stats:s,sourceListItem:a},l=e.state.tr,d=r.trigger,f="".concat(d).concat(i);o===gT.a.SPACE&&(f=f.trim().concat(" "));var p=Math.max(a.indexOf(n),0),h=o===gT.a.SPACE,m=l.selection.from,v={start:l.selection.from,end:l.selection.from+f.length};l.setMeta(yT,{action:sT.INSERT_RAW_QUERY,params:UT({wasInsertedBySpace:h,selectedIndex:p,insertItem:function(e){var t=function(e){var t=e.editorState,n=e.handler,r=e.query,o=(e.mode,e.wasInsertedBySpace),i=e.selectedIndex,a=e.textStartPosition,c=e.textInserted;return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.tr,l={start:a,end:a+(o?c.length:0)},d=zT({schema:t.schema,maybeNode:e});if(!d)return MT(u),u.delete(l.start,l.end),u;if(d instanceof ya.Node&&d.isBlock?BT({node:d,tr:u,position:l}):FT({maybeFragment:d,tr:u,position:l,selectInlineNode:Boolean(s.selectInlineNode)}),Vh(u),o)return u;var f={stage:DT.INSERTING_ITEM,query:r,selectedIndex:i,trigger:n.trigger};return u.step(new LT(f)),u}}({editorState:e,query:i,mode:o,handler:r,wasInsertedBySpace:h,selectedIndex:p,textInserted:f,textStartPosition:m}),a=!1,c=new Proxy(t,{apply:function(e,t,n){return a=!0,e.apply(void 0,D()(n))}}),s=r.selectItem(e,n,c,u);return!a&&s&&(Vh(s),s.getMeta(yT)||MT(s)),s},position:v,query:i,trigger:d})}),l.insertText(f),Vh(l),e.dispatch(l),e.focus()}}},WT=function(e){var t=e.editorView;return function(e){return function(n){var r=t.state,o=CT(e,r);if(!o)return!1;var i=r.tr;return IT({triggerHandler:o,inputMethod:n})(i),t.dispatch(i),!0}}},VT={insertCurrentQueryAsRawText:!1},qT=function(e){var t=e.editorView;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VT,n=t.state,r=ST(t.state),o=n.tr;if(e.attachCommand){var i=function(e){o=e};e.attachCommand(n,i)}if(MT(o),e.insertCurrentQueryAsRawText&&r&&r.length>0){var a=xT(n),c=a.trigger.concat(r);o.replaceSelectionWith(n.schema.text(c))}return t.dispatch(o),t.hasFocus()||t.focus(),!0}},GT=function(e){var t=e.editorView;return function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.state,o=CT(e,r);if(!o)throw new Error("Handler not found, did you load the ".concat(e," plugin properly"));WT({editorView:t})(e)(wt.f.KEYBOARD),RT(n)(t.state,t.dispatch);var i={current:n},a=o.getItems({query:n,editorState:r}).then((function(e){if(!o.forceSelect)return e;var i=o.forceSelect({items:e,query:n,editorState:r});if(!i)return e;HT(t)({handler:o,item:i,query:n,mode:gT.a.SELECTED,sourceListItem:e})})),c={last:a};return{type:function(e){if(e){i.current+=e,RT(i.current)(t.state,t.dispatch);var n=o.getItems({query:i.current,editorState:r});return c.last=n,n}},result:function(){return c.last},close:qT({editorView:t}),insert:function(e){var r=e.index,i=e.mode;return c.last.then((function(e){var a=e?e[r]:null;e&&a&&HT(t)({handler:o,item:a,query:n,mode:i||gT.a.SELECTED,sourceListItem:e})}))}}}}},KT=function(e){var t=e.editorView;return function(e){return function(n){var r=n.contentItem,o=n.query,i=n.sourceListItem,a=t.state,c=CT(e,a);return!!c&&(HT(t)({handler:c,item:r,mode:gT.a.SELECTED,query:o,sourceListItem:i}),!0)}}},$T=function(e){var t=e.editorView;return function(){if(!kT(t.state))return!1;var e=xT(t.state);return e||!1}},YT=function(e){var t=e.editorView;return function(){return ST(t.state)}},XT=function(e){var t=e.editorView;return function(e){var n=function(e){var t=e.trigger,n=e.editorState,r=yT.getState(n);return r&&r.typeAheadHandlers&&0!==r.typeAheadHandlers.length&&r.typeAheadHandlers.find((function(e){return e.trigger===t}))||null}({trigger:e,editorState:t.state});return n||null}},JT=function(e){var t={editorView:e};return{isOpen:$T(t),currentQuery:YT(t),close:qT(t),openMention:WT(t)(gT.b.MENTION),searchMention:GT(t)(gT.b.MENTION),openQuickInsert:WT(t)(gT.b.QUICK_INSERT),searchQuickInsert:GT(t)(gT.b.QUICK_INSERT),openEmoji:WT(t)(gT.b.EMOJI),searchEmoji:GT(t)(gT.b.EMOJI),insertItemMention:KT(t)(gT.b.MENTION),insertItemEmoji:KT(t)(gT.b.EMOJI),insertItemQuickInsert:KT(t)(gT.b.QUICK_INSERT)}},ZT=Object(ko.b)({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"},mentionsAddLabel:{id:"fabric.editor.mentionsAddLabel",defaultMessage:"add-icon",description:"icon label to describe adding a new mention"},mentionsIconLabel:{id:"fabric.editor.mentionsIconLabel",defaultMessage:"Mention",description:"icon label to describe the mention icon"}});function QT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var e_=function(e){b()(n,e);var t=QT(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleInsertMention",(function(){return!!e.props.editorView&&(JT(e.props.editorView).openMention(wt.f.INSERT_MENU),!0)})),e}return p()(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage(ZT.mentionsIconLabel);return i.a.createElement(qc.b,{testId:this.props.testId,buttonId:qc.a.MENTION,spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:e+"@",iconBefore:i.a.createElement(AT.a,{label:e})})}}]),n}(o.PureComponent),t_=Object(Ji.c)(e_),n_=n(671),r_=n(1221),o_=n(1211),i_=n(97),a_=n(185);function c_(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var s_,u_,l_,d_,f_,p_,h_,m_,v_,b_=i.a.lazy((function(){return n.e(29).then(n.bind(null,1998)).then((function(e){return{default:e.NoAccessTooltip}}))})),g_=Object(o.lazy)((function(){return n.e(102).then(n.t.bind(null,1999,7)).then((function(e){return{default:e.default}}))})),y_=n(48),O_=y_.a.div(s_||(s_=S()(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"]))),w_=y_.a.span(u_||(u_=S()(["\n  position: relative;\n  flex: initial;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),k_=y_.a.div(l_||(l_=S()(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),E_=y_.a.span(d_||(d_=S()(["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n"])),Object(ot.a)("color.text",Ce.N900)),x_=y_.a.div(f_||(f_=S()(["\n  display: flex;\n  flex-direction: column;\n  text-align: right;\n  opacity: ",";\n\n  & {\n    /* Lozenge */\n    & > span {\n      margin-bottom: 2px;\n    }\n  }\n"])),(function(e){return e.restricted?"0.5":"inherit"})),S_=y_.a.div(p_||(p_=S()(["\n  margin-left: 20px;\n  flex: none;\n  color: ",";\n  font-size: 12px;\n"])),Object(ot.a)("color.text.subtlest",Ce.N100)),j_=y_.a.div(h_||(h_=S()(["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  height: ","px;\n  line-height: 1.2;\n  cursor: pointer;\n"])),(function(e){return e.selected?Object(ot.a)("color.background.selected",Ce.N30):"transparent"}),48),C_=y_.a.div(m_||(m_=S()(["\n  padding-left: 5px;\n  color: ",";\n"])),Object(ot.a)("color.text.subtle",Ce.N500));function T_(e,t,n,r){if(!t)return null;var o=[],a=r||"",c=0;if(n){for(var s=0;s<n.length;s++){var u=n[s],l=u.start,d=u.end;l>c&&o.push({value:t.substring(c,l),matches:!1}),o.push({value:t.substring(l,d+1),matches:!0}),c=d+1}c<t.length&&o.push({value:t.substring(c,t.length),matches:!1})}else o.push({value:t,matches:!1});return i.a.createElement(e,null,a,o.map((function(e,t){return e.matches?i.a.createElement("b",{key:t},e.value):e.value})))}var __=y_.a.span(v_||(v_=S()(["\n  color: ",";\n  font-size: 12px;\n\n  margin-top: 2px;\n\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),Object(ot.a)("color.text.subtlest",Ce.N100));function A_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var P_=function(e){b()(n,e);var t=A_(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props.mention,t=e.highlight,n=e.name,r=e.nickname,o=t&&t.nickname;return n===r?null:T_(__,r,o,"@")}}]),n}(i.a.PureComponent),I_=n(136);function M_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var R_=function(e){b()(n,e);var t=M_(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"renderByline",(function(t,n){return n?t>50?e.getBylineComponent(i.a.createElement(oa.a,I_.a.plus50MembersWithYou)):e.getBylineComponent(i.a.createElement(oa.a,_e()({},I_.a.memberCountWithYou,{values:{0:t}}))):t>50?e.getBylineComponent(i.a.createElement(oa.a,I_.a.plus50MembersWithoutYou)):e.getBylineComponent(i.a.createElement(oa.a,_e()({},I_.a.memberCountWithoutYou,{values:{0:t}})))})),E()(m()(e),"getBylineComponent",(function(e){return i.a.createElement(__,null,e)})),e}return p()(n,[{key:"render",value:function(){var e=this.props.mention.context;if(!e)return null;var t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}]),n}(i.a.PureComponent);function N_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var D_=function(e){b()(n,e);var t=N_(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){switch(this.props.mention.userType){case i_.c[i_.c.TEAM]:return i.a.createElement(R_,{mention:this.props.mention});default:return i.a.createElement(P_,{mention:this.props.mention})}}}]),n}(i.a.PureComponent),L_=n(294);function B_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var F_,z_,U_,H_,W_,V_,q_=function(e){b()(n,e);var t=B_(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onMentionSelected",(function(t){c_(t)&&e.props.onSelection&&(t.preventDefault(),e.props.onSelection(e.props.mention,t))})),E()(m()(e),"onMentionMenuItemMouseMove",(function(t){e.props.onMouseMove&&e.props.onMouseMove(e.props.mention,t)})),E()(m()(e),"onMentionMenuItemMouseEnter",(function(t){e.props.onMouseEnter&&e.props.onMouseEnter(e.props.mention,t)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.mention,n=e.selected,r=t.id,o=t.highlight,a=t.avatarUrl,c=t.presence,s=t.name,u=t.mentionName,l=t.lozenge,d=t.accessLevel,f=c||{},p=f.status,h=f.time,m=Object(i_.f)(d),v=o&&o.name,b=n?Object(ot.a)("color.border",Ce.N30):void 0;return i.a.createElement(L_.a,null,i.a.createElement(j_,{selected:n,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":r,"data-mention-name":u},i.a.createElement(O_,null,i.a.createElement(w_,{restricted:m},i.a.createElement(r_.a,{src:a,size:"medium",presence:p,borderColor:b})),i.a.createElement(k_,{restricted:m},T_(E_,s,v),i.a.createElement(D_,{mention:t})),i.a.createElement(x_,{restricted:m},function(e){if("string"==typeof e)return i.a.createElement(o_.a,null,e);if("object"===gt()(e)){var t=e.appearance,n=e.text;return i.a.createElement(o_.a,{appearance:t},n)}return null}(l),function(e){return e?i.a.createElement(S_,null,e):null}(h)),m?i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(b_,{name:s},i.a.createElement(C_,null,i.a.createElement(a_.a,null,(function(e){return i.a.createElement(g_,{label:e})}))))):null)))}}]),n}(i.a.PureComponent),G_=n(1227),K_=n(334),$_=n(57),Y_=n(204),X_=n(659),J_=n.n(X_),Z_=Object(T.c)(F_||(F_=S()(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px ","px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"])),14),Q_=Object(T.c)(z_||(z_=S()(["\n  position: relative;\n  flex: initial;\n  opacity: inherit;\n  width: 36px;\n  height: ","px;\n\n  > span {\n    width: 24px;\n    height: 24px;\n    padding: 6px;\n  }\n"])),36),eA=Object(T.c)(U_||(U_=S()(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  color: ",";\n  opacity: inherit;\n"])),Object(ot.a)("color.text.subtle",Ce.N300)),tA=Object(T.c)(H_||(H_=S()(["\n  background-color: transparent;\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  cursor: pointer;\n"]))),nA=Object(T.c)(W_||(W_=S()(["\n  background-color: ",";\n"])),Object(ot.a)("color.background.neutral.subtle.hovered",Ce.N30)),rA=Object(T.c)(V_||(V_=S()(["\n  text-transform: capitalize;\n"]))),oA={id:"invite-teammate"},iA=Object(Ji.c)((function(e){var t=e.productName,n=e.onMount,r=e.onMouseEnter,i=e.onSelection,a=e.selected,c=e.userRole,s=e.intl,u=Object(o.useCallback)((function(e){(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&i&&(e.preventDefault(),i(oA,e))}),[i]),l=Object(o.useCallback)((function(e){r&&r(oA,e)}),[r]);return Object(o.useEffect)((function(){n&&n()}),[n]),Object(T.d)("div",{css:[tA,a&&nA],onMouseDown:u,onMouseEnter:l,"data-id":oA.id},Object(T.d)("div",{css:Z_},Object(T.d)("span",{css:Q_},Object(T.d)(J_.a,{label:s.formatMessage(ZT.mentionsAddLabel),primaryColor:Object(ot.a)("color.icon.subtle",Ce.N300)})),Object(T.d)("div",{css:eA,"data-testid":"name-section"},Object(T.d)(oa.a,_e()({},ZT.inviteItemTitle,{values:{userRole:c||"basic",productName:Object(T.d)("span",{css:rA,"data-testid":"capitalized-message"},t)}})))))})),aA=function(e){return"TEAM"===e},cA=function(e){return e&&e.id===oA.id};function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sA(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lA=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{action:t,actionSubject:e,eventType:n,attributes:uA({packageName:Y_.a,packageVersion:Y_.b,componentName:"mention",sessionId:r},o)}},dA={queryLength:0,spaceInQuery:!1},fA=function(e){return e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:dA},pA=function(e,t){if(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?void 0:n}},hA=function(e){return"selected"===e},mA=function(e,t,n){var r=t||{},o=r.containerId,i=r.objectId,a=r.childObjectId;return lA("inviteItem","rendered",$_.e,e,{containerId:o,objectId:i,childObjectId:a,userRole:n})},vA=function(e,t,n,r){var o=t||{},i=o.containerId,a=o.objectId,c=o.childObjectId;return lA("feature","exposed",$_.b,e,{flagKey:"confluence.frontend.invite.from.mention",value:n||"not-enrolled",containerId:i,objectId:a,childObjectId:c,userRole:r})},bA=new dt.PluginKey("mentionPlugin");function gA(e){return bA.getState(e)}function yA(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return OA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function OA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wA(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EA=function(e){var t=e.mentionProvider,n=e.firstQueryWithoutResults,r=e.currentQuery,o=e.onInviteItemMount;return function(e){var a=function(e){var t=e.mentionProvider,n=e.onInviteItemMount;return{title:oA.id,render:function(e){var r=e.isSelected,o=e.onClick,a=e.onHover;return i.a.createElement(iA,{productName:t?t.productName:void 0,selected:r,onMount:n,onMouseEnter:a,onSelection:o,userRole:t.userRole})},mention:oA}}({mentionProvider:t,onInviteItemMount:o}),c=function(e,t){if(!t)return!0;var n=t.length-1,r=e.slice(n);return" "===e[n-1]&&(r=" "+r),!/\s[^\s]+\s/.test(r)}(r,n);return 0===e.length?c?[a]:[]:[].concat(D()(e),[a])}};var xA,SA,jA,CA,TA=(xA=function(e){return{title:e.id,render:function(t){var n=t.isSelected,r=t.onClick,o=t.onHover;return i.a.createElement(q_,{mention:e,selected:n,onMouseEnter:o,onSelection:r})},getCustomComponentHeight:function(){return 48},mention:e}},{call:function(e){var t=SA.get(e.id);if(t)return t;var n=xA(e);return SA.set(e.id,n),n},clear:(SA=new Map).clear.bind(SA)}),_A=function(e){return function(t){var n,r=t.query,o=t.mentions,i=t.stats,a=0,c=null,s=null;!(n=i)||isNaN(n.teamMentionDuration)?(a=i&&i.duration,s=null,c=o.map((function(e){return e.id}))):(a=i&&i.teamMentionDuration,c=null,s=o.map((function(e){return aA(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null})).filter((function(e){return!!e})));var u=function(e,t,n,r){var o=fA(n),i=o.queryLength,a=o.spaceInQuery;return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:$_.b,attributes:{packageName:Y_.a,packageVersion:Y_.b,componentName:"mention",duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:a}}}(a,c,r,s);e(u)}},AA=function(e){var t=e.sanitizePrivateContent,n=e.mentionInsertDisplayName,r=e.fireEvent,o=e.HighlightComponent,a=mT()(),c=null,s=new Set;return{id:gT.b.MENTION,trigger:"@",customRegex:"\\(?(@)",getHighlight:function(e){var t=o;if(t)return i.a.createElement(t,null);var n,r=gA(e).mentionProvider;if(r){var a=r;if((n=a).mentionTypeaheadHighlightEnabled&&n.mentionTypeaheadCreateTeamPath&&a.mentionTypeaheadHighlightEnabled())return i.a.createElement(G_.a,{createTeamLink:a.mentionTypeaheadCreateTeamPath(),onClose:function(){return K_.a.registerClosed()}})}return null},getItems:function(e){var t=e.query,n=gA(e.editorState);if(null==n||!n.mentionProvider)return Promise.resolve([]);var o=n.mentionProvider,i=n.contextIdentifierProvider;return new Promise((function(e){var n="loadingMentionsForTypeAhead_".concat(mT()());s.add(n),o.subscribe(n,(function(u){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2?arguments[2]:void 0;if(t===l){o.unsubscribe(n),s.delete(n);var f=u.map((function(e){return TA.call(e)}));if(_A(r)({query:t,mentions:u,stats:d}),0===u.length&&null===c&&(c=t),f.length<=2){var p=o.inviteExperimentCohort,h=o.userRole;r(vA(a,i,p,h))}if(!o.shouldEnableInvite||f.length>2)e(f);else{var m=EA({mentionProvider:o,firstQueryWithoutResults:c||"",currentQuery:t,onInviteItemMount:function(){r(mA(a,i,o.userRole))}})(f);e(m)}}})),o.filter(t||"",kA(kA({},i),{},{sessionId:a}))}))},onOpen:function(){c=null},selectItem:function(e,o,i,c){var s=c.mode,u=c.stats,l=c.query,d=c.sourceListItem,f=e.schema,p=gA(e),h=p.mentionProvider,m=o.mention,v=m.id,b=m.name,g=m.nickname,y=m.accessLevel,O=m.userType,w=g&&g.startsWith("@")?g.slice(1):g,k=n||!w?b:w,E=kA(kA({},p.contextIdentifierProvider),{},{sessionId:a});h&&!cA(o.mention)&&h.recordMentionSelection(o.mention,E);var x=u.startedAt?Date.now()-u.startedAt:0;if(h&&h.shouldEnableInvite&&cA(o.mention))return"space"!==s&&(r(function(e,t,n,r,o,i,a,c){var s=fA(i),u=s.queryLength,l=s.spaceInQuery,d=a||{},f=d.containerId,p=d.objectId,h=d.childObjectId;return lA("inviteItem",hA(o)?"clicked":"pressed",$_.e,r,{duration:e,queryLength:u,spaceInQuery:l,upKeyCount:t,downKeyCount:n,containerId:f,objectId:p,childObjectId:h,userRole:c})}(x,u.keyCount.arrowUp,u.keyCount.arrowDown,a,s,l,p.contextIdentifierProvider,h.userRole)),h.onInviteItemClick&&h.onInviteItemClick("mention")),e.tr;if(r(function(e,t,n,r,o,i,a,c,s){var u=fA(c),l=u.queryLength,d=u.spaceInQuery,f=lA("mentionTypeahead",hA(o)?"clicked":"pressed",$_.e,r,{duration:e,position:pA(a,i),keyboardKey:hA(o)?void 0:o,source:i.source,queryLength:l,spaceInQuery:d,isSpecial:Object(i_.g)(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,memberCount:aA(i.userType)&&i.context?i.context.memberCount:null,includesYou:aA(i.userType)&&i.context?i.context.includesYou:null});return s&&(f.containerId=s.containerId||void 0,f.objectId=s.objectId||void 0,f.childObjectId=s.childObjectId||void 0),f}(x,u.keyCount.arrowUp,u.keyCount.arrowDown,a,s,o.mention,d.map((function(e){return e.mention})),l,p.contextIdentifierProvider)),a=mT()(),h&&aA(O))return K_.a.registerTeamMention(),i(function(e,t,n,r){var o=e.nodes,i=e.marks,a=t.name,c=t.id,s=t.accessLevel,u=t.context,l="".concat(window.location.origin,"/people/team/").concat(c),d=u&&u.teamLink?u.teamLink:l,f=e.text(a,[i.link.create({href:d})]),p=e.text("("),h=e.text(")"),m=e.text(" "),v=[f,m,p],b=u&&u.members?u.members:[];return b.forEach((function(e,t){var i=e.name,a=e.id,c="@".concat(i),u=r?"":c;r&&Object(n_.b)(n)&&n.cacheMentionName(a,i);var l=o.mention.createChecked({text:u,id:e.id,accessLevel:s,userType:"DEFAULT"});v.push(l),t!==b.length-1&&v.push(m)})),v.push(h),ya.Fragment.fromArray(v)}(f,o.mention,h,t));var S=t?"":"@".concat(k);t&&Object(n_.b)(h)&&h.cacheMentionName(v,k);var j=f.nodes.mention.createChecked({text:S,id:v,accessLevel:y,userType:"DEFAULT"===O?null:O}),C=f.text(" ");return i(ya.Fragment.from([j,C]))},dismiss:function(e){var t=e.editorState,n=e.query,o=e.stats,i=e.wasItemInserted;c=null;var u=o.startedAt?Date.now()-o.startedAt:0;i||r(function(e,t,n,r,o){var i=fA(o),a=i.queryLength,c=i.spaceInQuery;return lA("mentionTypeahead","cancelled",$_.e,r,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:a,spaceInQuery:c})}(u,o.keyCount.arrowUp,o.keyCount.arrowDown,a,n||""));var l=gA(t);if(null!=l&&l.mentionProvider){var d,f=l.mentionProvider,p=yA(s);try{for(p.s();!(d=p.n()).done;){var h=d.value;f.unsubscribe(h)}}catch(e){p.e(e)}finally{p.f()}}s.clear(),a=mT()()}}},PA=n(82),IA=n(1068),MA=n(12),RA=n(280),NA=["mentionType"],DA=(jA={},E()(jA,i_.b.SELF,{background:Object(Zn.a)({light:Object(ot.a)("color.background.brand.bold",Ce.B400),dark:Object(ot.a)("color.background.brand.bold",Ce.B200)}),borderColor:"transparent",text:Object(Zn.a)({light:Object(ot.a)("color.text.inverse",Ce.N20),dark:Object(ot.a)("color.text.inverse",Ce.DN30)}),hoveredBackground:Object(Zn.a)({light:Object(ot.a)("color.background.brand.bold.hovered",Ce.B400),dark:Object(ot.a)("color.background.brand.bold.hovered",Ce.B200)}),pressedBackground:Object(Zn.a)({light:Object(ot.a)("color.background.brand.bold.pressed",Ce.B400),dark:Object(ot.a)("color.background.brand.bold.pressed",Ce.B200)})}),E()(jA,i_.b.RESTRICTED,{background:"transparent",borderColor:Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N500),dark:Object(ot.a)("color.border",Ce.DN80)}),text:Object(Zn.a)({light:Object(ot.a)("color.text.disabled",Ce.N500),dark:Object(ot.a)("color.text.disabled",Ce.DN100)}),hoveredBackground:"transparent",pressedBackground:"transparent"}),E()(jA,i_.b.DEFAULT,{background:Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N30A),dark:Object(ot.a)("color.background.neutral",Ce.DN80)}),borderColor:"transparent",text:Object(Zn.a)({light:Object(ot.a)("color.text.subtle",Ce.N500),dark:Object(ot.a)("color.text.subtle",Ce.DN800)}),hoveredBackground:Object(Zn.a)({light:Object(ot.a)("color.background.neutral.hovered",Ce.N30A),dark:Object(ot.a)("color.background.neutral.hovered",Ce.DN80)}),pressedBackground:Object(Zn.a)({light:Object(ot.a)("color.background.neutral.pressed",Ce.N30A),dark:Object(ot.a)("color.background.neutral.pressed",Ce.DN80)})}),jA),LA=function(e,t){var n=e.mentionType,r=e.theme,o=DA[n][t];return"string"==typeof o?o:o({theme:r})},BA=Object(o.forwardRef)((function(e,t){var n=e.mentionType,r=wo()(e,NA),o=Object(RA.b)();return Object(MA.d)("span",_e()({ref:t,css:Object(MA.c)(CA||(CA=S()(["\n          display: inline;\n          border: 1px solid ",";\n          background: ",";\n          color: ",";\n          border-radius: 20px;\n          cursor: pointer;\n          padding: 0 0.3em 2px 0.23em;\n          line-height: 1.714;\n          font-size: 1em;\n          font-weight: normal;\n          word-break: break-word;\n          &:hover {\n            background: ",";\n          }\n          &:active {\n            background: ",";\n          }\n        "])),LA({theme:o,mentionType:n},"borderColor"),LA({theme:o,mentionType:n},"background"),LA({theme:o,mentionType:n},"text"),LA({theme:o,mentionType:n},"hoveredBackground"),LA({theme:o,mentionType:n},"pressedBackground"))},r))})),FA=n(70);function zA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var UA=new(n(336).a)("mention-rendered",{platform:{component:"mention"},type:ie.b.Load,performanceType:ie.a.PageSegmentLoad}),HA=function(e){b()(n,e);var t=zA(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"componentDidCatch",value:function(){UA.getInstance(this.props.id).failure()}},{key:"render",value:function(){return this.props.children}}]),n}(i.a.Component);function WA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var VA=function(e){b()(n,e);var t=WA(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"handleOnClick",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onClick;i&&i(n,o,e)})),E()(m()(r),"handleOnMouseEnter",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onMouseEnter,a=t.onHover;i&&i(n,o,e),r.hoverTimeout=window.setTimeout((function(){a&&a(),r.hoverTimeout=void 0}),1e3)})),E()(m()(r),"handleOnMouseLeave",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onMouseLeave;i&&i(n,o,e),r.hoverTimeout&&clearTimeout(r.hoverTimeout)})),E()(m()(r),"getMentionType",(function(){var e=r.props,t=e.accessLevel;return e.isHighlighted?i_.b.SELF:Object(i_.f)(t)?i_.b.RESTRICTED:i_.b.DEFAULT})),UA.getInstance(e.id).start(),r}return p()(n,[{key:"componentDidMount",value:function(){UA.getInstance(this.props.id).success()}},{key:"componentWillUnmount",value:function(){this.hoverTimeout&&clearTimeout(this.hoverTimeout);var e=UA.getInstance(this.props.id);[FA.a.STARTED,FA.a.IN_PROGRESS].includes(e.state)&&e.abort()}},{key:"renderUnknownUserError",value:function(e){return i.a.createElement(a_.g,{values:{userId:e.slice(-5)}},(function(e){return i.a.createElement(i.a.Fragment,null,"@".concat(e))}))}},{key:"render",value:function(){var e=this.handleOnClick,t=this.handleOnMouseEnter,n=this.handleOnMouseLeave,r=this.props,o=r.text,a=r.id,c=r.accessLevel,s=this.getMentionType(),u=o==="@".concat("_|unknown|_"),l=i.a.createElement(IA.a,null,i.a.createElement(BA,{mentionType:s,onClick:e,onMouseEnter:t,onMouseLeave:n,spellCheck:!1},u?this.renderUnknownUserError(a):o||"@..."));return i.a.createElement(HA,{id:a},i.a.createElement("span",{"data-mention-id":a,"data-access-level":c,spellCheck:!1},i.a.createElement(L_.a,null,s===i_.b.RESTRICTED?i.a.createElement(i.a.Suspense,{fallback:l},i.a.createElement(b_,{name:o},l)):l)))}}]),n}(i.a.PureComponent),qA=Object(G.a)({onClick:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Object(PA.g)(e)("mention","selected",r,n,o)},onHover:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Object(PA.g)(e)("mention","hovered",r,n,o)}})(VA),GA=n(177);function KA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var $A=function(e){b()(n,e);var t=KA(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"handleMentionProvider",(function(e){var t=e.id,n=e.mentionProvider,o=e.text;n?n.then((function(e){var n={isHighlighted:e.shouldHighlightMention({id:t})};if(!o&&Object(n_.b)(e)){var i=e.resolveMentionName(t);Object(i_.e)(i)?i.then((function(e){r.setStateSafely({resolvedMentionName:r.processName(e)})})):n.resolvedMentionName=r.processName(i)}r.setStateSafely(n)})).catch((function(){r.setStateSafely({isHighlighted:!1})})):r.setStateSafely({isHighlighted:!1})})),r._isMounted=!1,r.state={isHighlighted:!1},r}return p()(n,[{key:"componentDidMount",value:function(){this.handleMentionProvider(this.props),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}},{key:"setStateSafely",value:function(e){this._isMounted?this.setState(e):Object(GA.a)("[ResourcedMention]: cannot setState when component is unmounted.")}},{key:"processName",value:function(e){var t;switch(e.status){case i_.a.OK:t=e.name||"";break;case i_.a.SERVICE_ERROR:case i_.a.UNKNOWN:default:t="_|unknown|_"}return"@".concat(t)}},{key:"render",value:function(){var e=this.props,t=this.state;return i.a.createElement(qA,{id:e.id,text:e.text||t.resolvedMentionName||"",isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}}]),n}(i.a.PureComponent);function YA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var XA=function(e){b()(n,e);var t=YA(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"renderWithProvider",(function(e){var t=r.props,n=t.accessLevel,o=t.eventHandlers,a=t.id,c=t.text,s=e.mentionProvider,u={};return["onClick","onMouseEnter","onMouseLeave"].forEach((function(e){u[e]=o&&o[e]||function(){}})),i.a.createElement($A,_e()({id:a,text:c,accessLevel:n,mentionProvider:s},u))})),r.providerFactory=e.providers||new q,r}return p()(n,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return i.a.createElement(Ak.a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(o.PureComponent);E()(XA,"displayName","Mention");var JA=function(e){var t=e.providerFactory,n=e.node.attrs,r=n.id,o=n.text,a=n.accessLevel;return i.a.createElement(XA,{id:r,text:o,accessLevel:a,providers:t})};function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eP="SET_PROVIDER",tP="SET_CONTEXT",nP=function(e){return function(t,n){return n&&n(t.tr.setMeta(bA,{action:eP,params:{provider:e}})),!0}},rP=function(e){return function(t,n){return n&&n(t.tr.setMeta(bA,{action:tP,params:{context:e}})),!0}};var oP=function(e){var t=mT()(),n=function(n){if(null!=e&&e.createAnalyticsEvent){var r=e.createAnalyticsEvent;n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),r(n).fire(vT.a)}},r=AA({sanitizePrivateContent:null==e?void 0:e.sanitizePrivateContent,mentionInsertDisplayName:null==e?void 0:e.insertDisplayName,HighlightComponent:null==e?void 0:e.HighlightComponent,fireEvent:n});return{name:"mention",nodes:function(){return[{name:"mention",node:bT.a}]},pmPlugins:function(){return[{name:"mention",plugin:function(t){return function(e,t,n){var r,o=function(e,n,r,o){e!==PA.c&&e!==PA.d||t(Object(PA.f)(n,r,o))};return new Za.a({key:bA,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(bA)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case eP:return a=QA(QA({},n),{},{mentionProvider:i.provider}),e.dispatch(bA,a),a;case tP:return a=QA(QA({},n),{},{contextIdentifierProvider:i.context}),e.dispatch(bA,a),a}return a}},props:{nodeViews:{mention:bi({pmPluginFactoryParams:e,Component:JA,extraComponentProps:{providerFactory:e.providerFactory,options:n}})}},view:function(t){var n=function(e,n){switch(e){case"mentionProvider":if(!n)return nP(void 0)(t.state,t.dispatch);n.then((function(e){r&&r.unsubscribe("mentionPlugin"),r=e,nP(e)(t.state,t.dispatch),e.subscribe("mentionPlugin",void 0,void 0,void 0,void 0,o)})).catch((function(){return nP(void 0)(t.state,t.dispatch)}));break;case"contextIdentifierProvider":if(!n)return rP(void 0)(t.state,t.dispatch);n.then((function(e){rP(e)(t.state,t.dispatch)}))}};return e.providerFactory.subscribe("mentionProvider",n),e.providerFactory.subscribe("contextIdentifierProvider",n),{destroy:function(){e.providerFactory&&(e.providerFactory.unsubscribe("mentionProvider",n),e.providerFactory.unsubscribe("contextIdentifierProvider",n)),r&&r.unsubscribe("mentionPlugin")}}}})}(t,n,e)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return i.a.createElement(Xa.a,{editorView:t,plugins:{mentionState:bA},render:function(e){var r=e.mentionState;return(void 0===r?{}:r).mentionProvider?i.a.createElement(t_,{editorView:t,isDisabled:n||jT(t.state)}):null}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"mention",title:t(Gv.a.mention),description:t(Gv.a.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:function(){return i.a.createElement(Pv,null)},action:function(e,t){var n=e(void 0);return IT({triggerHandler:r,inputMethod:wt.f.QUICK_INSERT})(n),Object(Ot.a)(t,n,{action:wt.a.INVOKED,actionSubject:wt.b.TYPEAHEAD,actionSubjectId:wt.c.TYPEAHEAD_MENTION,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]},typeAhead:r}}},iP=n(670),aP=n(112),cP=n(373),sP=n(660),uP=n(143),lP=(Object(MA.c)({background:Object(ot.a)("elevation.surface.overlay","white"),border:"1px solid ".concat(uP.g),borderRadius:uP.h,boxShadow:uP.i,color:Object(ot.a)("color.text.subtle","#333"),width:uP.f}),Object(MA.c)({display:"none"}),Object(MA.c)({backgroundColor:uP.d})),dP=Object(MA.c)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:uP.f}),fP=Object(MA.c)({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"}),pP=(Object(MA.c)({position:"relative",height:"".concat(uP.e,"px"),paddingTop:"".concat(((uP.e-30)/2).toFixed(),"px"),boxSizing:"border-box"}),Object(MA.c)({textAlign:"center"}),n(546));function hP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var mP,vP=function(e){b()(n,e);var t=hP(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onEmojiSelected",(function(t){var n=e.props,r=n.emoji,o=n.onSelection;Object(cP.a)(t)&&o&&(t.preventDefault(),o(Object(aP.q)(r),r,t))})),E()(m()(e),"onEmojiMenuItemMouseMove",(function(t){var n=e.props,r=n.emoji,o=n.onMouseMove;o&&o(Object(aP.q)(r),r,t)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.emoji,r=[dP,t&&lP];return Object(MA.d)(pP.a,null,Object(MA.d)("div",{className:"ak-emoji-typeahead-item ".concat(t?"emoji-typeahead-selected":""),css:r,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":n.shortName},Object(MA.d)("div",{css:fP},n&&Object(MA.d)(sP.a,{emoji:n}))))}}]),n}(o.PureComponent),bP=n(75),gP=n(1212);function yP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function OP(e,t,n){if(e.nodes.emoji&&t){!function(e){e.subscribe("emojiProvider",(function(e,t){t&&t.then((function(e){e.getAsciiMap().then((function(t){mP=new jP(e,t)}))}))}))}(t);var r=am(SP.REGEX,wP);return cm("emoji",[r],{useUnpredictableInputRule:n.useUnpredictableInputRule})}}function wP(e,t,n,r){if(!mP)return null;var o=mP.match(t);return o?new CP(e,o,n,r).create():null}var kP=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e[1]+(t?e[2]:"")},EP=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e[2]:"")+e[3].trim()},xP=function(e){return e[4]||""},SP=function(){function e(t){d()(this,e),this.asciiToEmojiMap=t}return p()(e,[{key:"match",value:function(e){return this.getAsciiEmojiMatch(function(e){return kP(e,!1)}(e),function(e){return EP(e,!0)}(e),xP(e))||this.getAsciiEmojiMatch(kP(e),EP(e),xP(e))}},{key:"getAsciiEmojiMatch",value:function(e,t,n){var r=this.asciiToEmojiMap.get(t);return r?{emoji:r,leadingString:e,trailingString:n}:void 0}}]),e}();E()(SP,"REGEX",new RegExp("((?:^|[\\s".concat("","])(?:\\(*?))(\\(?)([^:\\s").concat("","\\(]\\S{1,3}|:\\S{1,3}( ))$")));var jP=function(e){b()(n,e);var t=yP(n);function n(e,r){var o;return d()(this,n),(o=t.call(this,r)).emojiProvider=e,o}return p()(n,[{key:"match",value:function(e){var t=NE()(w()(n.prototype),"match",this).call(this,e);return t&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(t.emoji),t}}]),n}(SP),CP=function(){function e(t,n,r,o){d()(this,e),this.state=t,this.match=n,this.start=r,this.end=o}return p()(e,[{key:"create",value:function(){var e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(Ot.a)(this.state,e,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.EMOJI,attributes:{inputMethod:wt.f.ASCII},eventType:wt.e.TRACK})}},{key:"from",get:function(){return this.start+this.match.leadingString.length}},{key:"to",get:function(){return this.end}},{key:"createNodes",value:function(){var e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}},{key:"createEmojiNode",value:function(){return this.state.schema.nodes.emoji.create(this.getEmojiNodeAttrs())}},{key:"getEmojiNodeAttrs",value:function(){var e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}},{key:"trailingTextNodeRequired",value:function(){return this.match.trailingString.length>0}},{key:"createTrailingTextNode",value:function(){return this.state.schema.text(this.match.trailingString)}}]),e}(),TP=(new dt.PluginKey("asciiEmojiPlugin"),n(98)),_P=n(375),AP=n(411),PP=n(123),IP=n(295),MP=["emojiProvider"];function RP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var NP=function(){return n.e(103).then(n.bind(null,2112)).then((function(e){return e.ResourcedEmojiComponent}))},DP=function(e){b()(n,e);var t=RP(n);function n(e){var r;return d()(this,n),r=t.call(this,e,{}),E()(m()(r),"state",{asyncLoadedComponent:n.AsyncLoadedComponent}),Object(PP.c)(e.emojiId).start({samplingRate:TP.b}),PP.d["emoji-rendered"].getInstance(e.emojiId.id||e.emojiId.shortName).addMetadata({source:"resourced-emoji",emoji:e.emojiId.shortName}),r}return p()(n,[{key:"componentWillUnmount",value:function(){Object(PP.c)(this.props.emojiId).abort({metadata:{source:"ResourcedEmoji",reason:"unmount",data:{emojiId:this.props.emojiId.id,shortName:this.props.emojiId.shortName}}})}},{key:"asyncLoadComponent",value:function(){var e=this;NP().then((function(t){n.AsyncLoadedComponent=t,e.setAsyncState(t)}))}},{key:"renderLoading",value:function(){var e=this.props,t=e.fitToHeight,n=e.emojiId,r=e.showTooltip;return i.a.createElement(_P.a,{shortName:n.shortName,showTooltip:r,size:t||TP.h})}},{key:"renderLoaded",value:function(e,t){var n=this.props,r=(n.emojiProvider,wo()(n,MP));return i.a.createElement(IP.a,{experiences:[PP.d["emoji-rendered"].getInstance(this.props.emojiId.id||this.props.emojiId.shortName)]},i.a.createElement(t,_e()({},r,{emojiProvider:e})))}}]),n}(AP.a);function LP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var BP=function(e){b()(n,e);var t=LP(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"renderWithProvider",(function(e){var t=r.props,n=t.allowTextFallback,o=t.shortName,a=t.id,c=t.fallback,s=t.fitToHeight,u=t.showTooltip;return n&&!e.emojiProvider?i.a.createElement("span",{"data-emoji-id":a,"data-emoji-short-name":o,"data-emoji-text":c||o},c||o):e.emojiProvider?i.a.createElement(DP,{emojiId:{id:a,fallback:c,shortName:o},emojiProvider:e.emojiProvider,showTooltip:u,fitToHeight:s}):null})),r.providerFactory=e.providers||new q,r}return p()(n,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return i.a.createElement(Ak.a,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(o.PureComponent);function FP(e){return Object(T.d)("span",{css:xn.e},Object(T.d)(BP,e))}function zP(e){var t=e.node.attrs,n=t.shortName,r=t.id,o=t.text;return i.a.createElement(FP,{providers:e.providerFactory,id:r,shortName:n,fallback:o})}function UP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(BP,"displayName","EmojiNode"),E()(BP,"defaultProps",{showTooltip:!0});var HP=function(e){b()(n,e);var t=UP(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getChildContext",value:function(){return{emoji:{emojiProvider:this.props.emojiProvider}}}},{key:"render",value:function(){return this.props.children}}]),n}(i.a.Component);function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WP(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}E()(HP,"childContextTypes",{emoji:A.a.object});var qP=function(e){var t=new Map;return{call:function(n,r){var o=t.get(n.id||n.shortName);if(o)return o;var i=e(n,r);return t.set(n.id||n.shortName,i),i},clear:t.clear.bind(t)}}((function(e,t){return{title:e.shortName||"",key:e.id||e.shortName,render:function(n){var r=n.isSelected,o=n.onClick,a=n.onHover;return i.a.createElement(HP,{emojiProvider:t},i.a.createElement(vP,{emoji:e,selected:r,onMouseMove:a,onSelection:o}))},emoji:e}})),GP=function(e){var t={id:gT.b.EMOJI,trigger:":",customRegex:"\\(?(:)",headless:e?e.headless:void 0,getItems:function(e){var t,n=e.query,r=e.editorState,o=(t=r,XP.getState(t)||{}).emojiProvider;return o?new Promise((function(e){var t={result:function(n){if(n&&n.emojis){var r=n.emojis.map((function(e){return qP.call(e,o)}));e(r)}else e([]);o.unsubscribe(t)}};o.subscribe(t),o.filter(":".concat(n),{limit:50,skinTone:o.getSelectedTone(),sort:n.length?bP.b.Default:bP.b.UsageFrequency})})):Promise.resolve([])},forceSelect:function(e){var t=e.query,n=e.items,r=e.editorState,o=XP.getState(r).asciiMap,i=":".concat(t);if(o&&i.length>=3&&i.endsWith(" ")&&o.has(i.trim())){var a=o.get(i.trim());return{title:a.name,emoji:a}}return function(e){return e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1)}(i)?n.find((function(e){return e.title.toLowerCase()===i})):void 0},selectItem:function(t,n,r,o){o.mode;var i=n.emoji,a=i.id,c=void 0===a?"":a,s=i.fallback,u=i.shortName,l=s||u,d=XP.getState(t);d.emojiProvider&&d.emojiProvider.recordSelection&&n.emoji&&d.emojiProvider.recordSelection(n.emoji).then(Object(gP.l)(e)).catch(Object(gP.k)(e));var f=t.schema.nodes.emoji.createChecked({shortName:u,id:c,text:l}),p=t.schema.text(" ");return Object(Ot.a)(t,r(ya.Fragment.from([f,p])),{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.EMOJI,attributes:{inputMethod:wt.f.TYPEAHEAD},eventType:wt.e.TRACK})}};return{name:"emoji",nodes:function(){return[{name:"emoji",node:iP.a}]},pmPlugins:function(){return[{name:"emoji",plugin:function(e){return function(e){return new Za.a({key:XP,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(XP)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case KP:return a=VP(VP({},n),{},{emojiProvider:i.provider}),e.dispatch(XP,a),a;case $P:return a=VP(VP({},n),{},{asciiMap:i.asciiMap}),e.dispatch(XP,a),a}return a}},props:{nodeViews:{emoji:bi({pmPluginFactoryParams:e,Component:zP,extraComponentProps:{providerFactory:e.providerFactory}})}},view:function(t){var n=function(e,n){switch(e){case"emojiProvider":if(!n)return YP(void 0)(t.state,t.dispatch);n.then((function(e){YP(e)(t.state,t.dispatch),e.getAsciiMap().then((function(e){!function(e){return function(t,n){return n&&n(t.tr.setMeta(XP,{action:$P,params:{asciiMap:e}})),!0}}(e)(t.state,t.dispatch)}))})).catch((function(){return YP(void 0)(t.state,t.dispatch)}))}};return e.providerFactory.subscribe("emojiProvider",n),{destroy:function(){e.providerFactory&&e.providerFactory.unsubscribe("emojiProvider",n)}}}})}(e)}},{name:"emojiAsciiInputRule",plugin:function(e){return OP(e.schema,e.providerFactory,e.featureFlags)}}]},pluginsOptions:{quickInsert:function(e){var n=e.formatMessage;return[{id:"emoji",title:n(Gv.a.emoji),description:n(Gv.a.emojiDescription),priority:500,keyshortcut:":",icon:function(){return i.a.createElement(Sv,null)},action:function(e,n){var r=e(void 0);return IT({triggerHandler:t,inputMethod:wt.f.QUICK_INSERT})(r),Object(Ot.a)(n,r,{action:wt.a.INVOKED,actionSubject:wt.b.TYPEAHEAD,actionSubjectId:wt.c.TYPEAHEAD_EMOJI,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]},typeAhead:t}}},KP="SET_PROVIDER",$P="SET_ASCII_MAP",YP=function(e){return function(t,n){return n&&n(t.tr.setMeta(XP,{action:KP,params:{provider:e}})),!0}},XP=new dt.PluginKey("emojiPlugin");function JP(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t={},e.cached.tableNodeTypes=t,e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}var ZP=n(171),QP=n(174);function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nI(e){if(!e.size)return null;var t=e.content,n=e.openStart,r=e.openEnd;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&r>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,r--,!(t=t.firstChild.content).firstChild)throw new Error("pastedCells: no firstChild defined for content");var o=t.firstChild,i=o.type.spec.tableRole,a=o.type.schema,c=[];if("row"===i)for(var s=0;s<t.childCount;s++){var u=t.child(s).content,l=s?0:Math.max(0,n-1),d=s<t.childCount-1?0:Math.max(0,r-1);(l||d)&&(u=rI(JP(a).row,new ya.Slice(u,l,d)).content),c.push(u)}else{if("cell"!==i&&"header_cell"!==i)return null;c.push(n||r?rI(JP(a).row,new ya.Slice(t,n,r)).content:t)}return function(e,t){for(var n=t,r=[],o=0;o<n.length;o++)for(var i=n[o],a=i.childCount-1;a>=0;a--)for(var c=i.child(a).attrs,s=c.rowspan,u=c.colspan,l=o;l<o+s;l++)r[l]=(r[l]||0)+u;for(var d=0,f=0;f<r.length;f++)d=Math.max(d,r[f]);for(var p=0;p<r.length;p++)if(p>=n.length&&n.push(ya.Fragment.empty),r[p]<d){for(var h=JP(e).cell.createAndFill(),m=[],v=r[p];v<d;v++)m.push(h);n[p]=n[p].append(ya.Fragment.from(m))}return{height:n.length,width:d,rows:n}}(a,c)}function rI(e,t){var n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new pt.g(n).replace(0,n.content.size,t).doc}function oI(e,t,n,r,o,i,a,c){if(0===a||a===t.height)return!1;for(var s=!1,u=o;u<i;u++){var l=a*t.width+u,d=t.map[l];if(t.map[l-t.width]===d){s=!0;var f=n.nodeAt(d);if(!f)throw new Error("isolateHorizontal: no cell found at pos ".concat(d));var p=t.findCell(d),h=p.top,m=p.left;e.setNodeMarkup(e.mapping.slice(c).map(d+r),void 0,tI(tI({},f.attrs),{},{rowspan:a-h}));var v=f.type.createAndFill(tI(tI({},f.attrs),{},{rowspan:h+f.attrs.rowspan-a}));if(!v)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(c).map(t.positionAt(a,m,n)),v),u+=f.attrs.colspan-1}}return s}function iI(e,t,n,r,o,i,a,c){if(0===a||a===t.width)return!1;for(var s=!1,u=o;u<i;u++){var l=u*t.width+a,d=t.map[l];if(t.map[l-1]===d){s=!0;var f=n.nodeAt(d);if(!f)throw new Error("isolateVertical: could not find cell at pos ".concat(d));var p=t.colCount(d),h=e.mapping.slice(c).map(d+r);e.setNodeMarkup(h,void 0,Object(QP.c)(f.attrs,a-p,f.attrs.colspan-(a-p)));var m=f.type.createAndFill(Object(QP.c)(f.attrs,0,a-p));if(!m)throw new Error("isolateVertical: failed to create cell");e.insert(h+f.nodeSize,m),u+=f.attrs.rowspan-1}}return s}function aI(e,t,n,r,o){var i=e.doc;if(n&&!(i=e.doc.nodeAt(n-1)))throw new Error("insertCells: could not find table at pos ".concat(n-1));var a=ub.b.get(i),c=r.top,s=r.left,u=s+o.width,l=c+o.height,d=e.tr,f=0;function p(){i=n?d.doc.nodeAt(n-1):d.doc,a=ub.b.get(i),f=d.mapping.maps.length}(function(e,t,n,r,o,i,a){var c,s,u=JP(e.doc.type.schema);if(o>t.width)for(var l=0,d=0;l<t.height;l++){var f=n.child(l);d+=f.nodeSize;var p=[],h=void 0;h=null==f.lastChild||f.lastChild.type===u.cell?c||(c=u.cell.createAndFill()):s||(s=u.header_cell.createAndFill());for(var m=t.width;m<o;m++)p.push(h);e.insert(e.mapping.slice(a).map(d-1+r),p)}if(i>t.height){for(var v=[],b=0,g=(t.height-1)*t.width;b<Math.max(t.width,o);b++){var y=void 0;if(b>=t.width)y=!1;else{var O=t.map[g+b],w=n.nodeAt(O);if(!w)throw new Error("growTable: no node found at pos ".concat(O));y=w.type===u.header_cell}v.push(y?s||(s=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var k=u.row.create(null,ya.Fragment.from(v)),E=[],x=t.height;x<i;x++)E.push(k);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),E)}return!(!c&&!s)})(d,a,i,n,u,l,f)&&p(),oI(d,a,i,n,s,u,c,f)&&p(),oI(d,a,i,n,s,u,l,f)&&p(),iI(d,a,i,n,c,l,s,f)&&p(),iI(d,a,i,n,c,l,u,f)&&p();for(var h=c;h<l;h++){var m=a.positionAt(h,s,i),v=a.positionAt(h,u,i);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(v+n),new ya.Slice(o.rows[h-c],0,0))}p(),d.setSelection(new Oa.a(d.doc.resolve(n+a.positionAt(c,s,i)),d.doc.resolve(n+a.positionAt(l-1,u-1,i)))),t(d)}function cI(e,t,n){if(!Object(ZP.b)(e.state))return!1;var r=nI(n),o=e.state.selection;if(o instanceof Oa.a){r||(r={width:1,height:1,rows:[ya.Fragment.from(rI(JP(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),c=ub.b.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=function(e,t,n){var r=e.width,o=e.height,i=e.rows,a=r,c=o;if(a!==t){for(var s=[],u=[],l=0;l<i.length;l++){for(var d=i[l],f=[],p=s[l]||0,h=0;p<t;h++){var m=d.child(h%d.childCount);p+m.attrs.colspan>t&&(m=m.type.create(Object(QP.c)(m.attrs,m.attrs.colspan,p+m.attrs.colspan-t),m.content)),f.push(m),p+=m.attrs.colspan;for(var v=1;v<m.attrs.rowspan;v++)s[l+v]=(s[l+v]||0)+m.attrs.colspan}u.push(ya.Fragment.from(f))}i=u,a=t}if(c!==n){for(var b=[],g=0,y=0;g<n;g++,y++){for(var O=[],w=i[y%c],k=0;k<w.childCount;k++){var E=w.child(k);g+E.attrs.rowspan>n&&(E=E.type.create(tI(tI({},E.attrs),{},{rowspan:Math.max(1,n-E.attrs.rowspan)}),E.content)),O.push(E)}b.push(ya.Fragment.from(O))}i=b,c=n}return{width:a,height:c,rows:i}}(r,c.right-c.left,c.bottom-c.top),aI(e.state,e.dispatch,a,c,sI(r)),!0}if(r){var s=fb(o);if(!s)throw new Error("handlePaste: no cell found");var u=s.start(-1);return aI(e.state,e.dispatch,u,ub.b.get(s.node(-1)).findCell(s.pos-u),sI(r)),!0}return!1}var sI=function(e){return e.rows.forEach((function(e){for(var t=0;t<e.childCount;t++)e.child(t).attrs.colwidth=null})),e};function uI(e){if(!(e.selection instanceof Oa.a))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(ft.a.node(n,n+e.nodeSize,{class:"selectedCell"}))})),ft.b.create(e.doc,t)}var lI=new dt.PluginKey("selectingCells"),dI=new dt.PluginKey("fix-tables");function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fI(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hI(e,t){var n,r=function(t,r){"table"===t.type.spec.tableRole&&(n=function(e,t,n,r){var o=r,i=ub.b.get(t);if(!i.problems)return o;o||(o=e.tr);for(var a,c,s=[],u=0;u<i.height;u++)s.push(0);for(var l=0;l<i.problems.length;l++){var d=i.problems[l];if(d.type===ub.c.COLLISION){var f=d,p=t.nodeAt(d.pos);if(!p)throw new Error("fixTable: unable to find cell at pos ".concat(d.pos));for(var h=0;h<p.attrs.rowspan;h++)s[f.row+h]+=f.n;o.setNodeMarkup(o.mapping.map(n+1+d.pos),void 0,Object(QP.c)(p.attrs,p.attrs.colspan-f.n,f.n))}else if(d.type===ub.c.MISSING){var m=d;s[m.row]+=m.n}else if(d.type===ub.c.OVERLONG_ROWSPAN){var v=d,b=t.nodeAt(v.pos);if(!b)throw new Error("fixTable: unable to find cell at pos ".concat(d.pos));o.setNodeMarkup(o.mapping.map(n+1+v.pos),void 0,pI(pI({},b.attrs),{},{rowspan:b.attrs.rowspan-v.n}))}else if(d.type===ub.c.COLWIDTH_MISMATCH){var g=t.nodeAt(d.pos);if(!g)throw new Error("fixTable: unable to find cell at pos ".concat(d.pos));o.setNodeMarkup(o.mapping.map(n+1+d.pos),void 0,pI(pI({},g.attrs),{},{colwidth:d.colwidth}))}}for(var y=0;y<s.length;y++)s[y]&&(null==a&&(a=y),c=y);for(var O=0,w=n+1;O<i.height;O++){var k=t.child(O),E=w+k.nodeSize,x=s[O];if(x>0){var S="cell";k.firstChild&&(S=k.firstChild.type.spec.tableRole);for(var j=[],C=0;C<x;C++)j.push(JP(e.schema)[S].createAndFill());var T=0!==O&&a!==O-1||c!==O?E-1:w+1;o.insert(o.mapping.map(T),j)}w=E}return o.setMeta(dI,{fixTables:!0})}(e,t,r,n))};return t?t.doc!==e.doc&&function e(t,n,r,o){var i=r,a=t.childCount,c=n.childCount;e:for(var s=0,u=0;s<c;s++){for(var l=n.child(s),d=u,f=Math.min(a,s+3);d<f;d++)if(t.child(d)===l){u=d+1,i+=l.nodeSize;continue e}o(l,i),u<a&&t.child(u).sameMarkup(l)?e(t.child(u),l,i+1,o):l.nodesBetween(0,l.content.size,o,i+1),i+=l.nodeSize}}(t.doc,e.doc,0,r):e.doc.descendants(r),n}function mI(e,t,n){var r,o,i=t,a=(i||e).selection,c=(i||e).doc;if(a instanceof dt.NodeSelection&&(o=a.node.type.spec.tableRole),a instanceof dt.NodeSelection&&o){if("cell"===o||"header_cell"===o)r=Oa.a.create(c,a.from);else if("row"===o){var s=c.resolve(a.from+1);r=Oa.a.rowSelection(s,s)}else if(!n){var u=ub.b.get(a.node),l=a.from+1,d=l+u.map[u.width*u.height-1];r=Oa.a.create(c,l+1,d)}}else a instanceof dt.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos===n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r===o&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?r=dt.TextSelection.create(c,a.from):a instanceof dt.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var c=o.depth;c>0;c--){var s=o.node(c);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){n=s;break}}return t!==n&&0===o.parentOffset}(a)&&(r=dt.TextSelection.create(c,a.$from.start(),a.$from.end()));return r&&(i||(i=e.tr)).setSelection(r),i}var vI=fp({ArrowLeft:gI("horiz",-1),ArrowRight:gI("horiz",1),ArrowUp:gI("vert",-1),ArrowDown:gI("vert",1),"Shift-ArrowLeft":yI("horiz",-1),"Shift-ArrowRight":yI("horiz",1),"Shift-ArrowUp":yI("vert",-1),"Shift-ArrowDown":yI("vert",1),Backspace:OI,"Mod-Backspace":OI,Delete:OI,"Mod-Delete":OI});function bI(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function gI(e,t){return function(n,r,o){if(r){var i=n.selection;if(i instanceof Oa.a)return bI(n,r,dt.Selection.near(i.$headCell,t));if("horiz"!==e&&!i.empty)return!1;var a=o?EI(o,e,t):null;if(null===a)return!1;if("horiz"===e)return bI(n,r,dt.Selection.near(n.doc.resolve(i.head+t),t));var c,s=n.doc.resolve(a),u=Object(lb.c)(s,e,t);return c=u?dt.Selection.near(u,1):t<0?dt.Selection.near(n.doc.resolve(s.before(-1)),-1):dt.Selection.near(n.doc.resolve(s.after(-1)),1),bI(n,r,c)}return!0}}function yI(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof Oa.a)){var a=o?EI(o,e,t):null;if(null===a)return!1;i=new Oa.a(n.doc.resolve(a))}var c=Object(lb.c)(i.$headCell,e,t);return!!c&&(!r||bI(n,r,new Oa.a(i.$anchorCell,c)))}}function OI(e,t){var n=e.selection;if(!(n instanceof Oa.a))return!1;if(t){var r=e.tr,o=JP(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new ya.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function wI(e,t){var n=e.state.doc,r=Object(lb.a)(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new Oa.a(r))),!0)}function kI(e,t){var n=t;if(n.ctrlKey||n.metaKey)return!1;var r=xI(e,n.target),o=Object(lb.a)(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof Oa.a)i(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!==o&&SI(e,n).pos!==o.pos)i(o,n),n.preventDefault();else if(!r)return!1;function i(t,n){var r=SI(e,n),o=null==lI.getState(e.state);if(!r||!Object(ZP.a)(t,r)){if(!o)return!1;r=t}var i=new Oa.a(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(lI,t.pos),e.dispatch(a)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",c),null!=lI.getState(e.state)&&e.dispatch(e.state.tr.setMeta(lI,-1))}function c(t){var o,c=lI.getState(e.state);if(null!=c)o=e.state.doc.resolve(c);else if(xI(e,t.target)!==r&&!(o=SI(e,n)))return void a();o&&i(o,t)}return e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",c),!1}function EI(e,t,n){if(!(e.state.selection instanceof dt.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){var a=r.before(o),c="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?a:null}}return null}function xI(e,t){for(var n=t;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function SI(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?Object(lb.a)(e.state.doc.resolve(n.pos)):null}var jI=!1,CI=function(){return jI||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},TI=function(e,t){return t?e.createChecked(null,t):e.createAndFill()},_I=function(e){for(var t=e.schema,n=e.rowsCount,r=void 0===n?3:n,o=e.colsCount,i=void 0===o?3:o,a=e.withHeaderRow,c=void 0===a||a,s=e.cellContent,u=JP(t),l=u.cell,d=u.header_cell,f=u.row,p=u.table,h=[],m=[],v=0;v<i;v++){var b=TI(l,s);if(b&&h.push(b),c){var g=TI(d,s);g&&m.push(g)}}for(var y=[],O=0;O<r;O++)y.push(f.createChecked(null,c&&0===O?m:h));return p.createChecked({localId:CI()},y)},AI=n(41);function PI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PI(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.advanced?II({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},e):e};function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RI(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DI=new dt.PluginKey("tableLocalIdPlugin"),LI=function(e){return new Za.a({key:DI,state:{init:function(){return{parsedForLocalIds:!1}},apply:function(t,n){var r=t.getMeta(DI);if(r&&Object.keys(r).some((function(e){return n[e]!==r[e]}))){var o=NI(NI({},n),r);return e(DI,o),o}return n}},view:function(){return{update:function(e){var t=e.state,n=function(e){return e&&DI.getState(e)}(t);if(n&&!n.parsedForLocalIds){var r=t.schema.nodes.table;Object(ve.a)((function(){var n=t.tr,o=!1;e.state.doc.descendants((function(e,t){var i=e.type===r,a=e.attrs.localId;return!(i&&!a)||(o=!0,n.setNodeMarkup(t,void 0,NI(NI({},e.attrs),{},{localId:Id.b.generate()})),!1)})),o&&(n.setMeta("addToHistory",!1),e.dispatch(n))}))(),e.dispatch(t.tr.setMeta(DI,{parsedForLocalIds:!0}))}}}},appendTransaction:function(e,t,n){var r=!1,o=n.tr,i=n.schema.nodes.table,a=new Set;if(e.forEach((function(e){e.docChanged&&("cut"!==e.getMeta("uiEvent")&&function(e,t){return e.steps.some((function(e){return ms(e,new Set([t]))}))}(e,i)&&n.doc.descendants((function(e,t){var n=e.type===i,c=e.attrs.localId;return!n||(c&&!a.has(c)?a.add(c):c&&!a.has(c)||(r=!0,o.setNodeMarkup(t,void 0,NI(NI({},e.attrs),{},{localId:Id.b.generate()}))),!1)})))})),r)return o}})},BI=new dt.PluginKey("tableSafariDelayedDomSelectionSyncingWorkaround"),FI=new dt.PluginKey("tableSafariDeleteCompositionTextIssueWorkaround"),zI=new dt.PluginKey("tablePlugin"),UI=function(e){if(db(e,"cell")){var t=e.$anchorCell.start(-1);return ub.b.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},HI=function(e){return function(t){var n=qb(t);if(n){var r=ub.b.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=r.height-1})).reduce((function(e,t){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}},WI=function(e,t){return t.find(void 0,void 0,(function(t){return t.key.indexOf(e)>-1}))},VI=function(e){return WI(Sn.d.COLUMN_SELECTED,e)},qI=function(e){return WI(Sn.d.ALL_CONTROLS_HOVER,e)},GI=function(e,t,n,r){return e.map((function(e){var o,i=[Sn.c.HOVERED_CELL];switch(n&&i.push(Sn.c.HOVERED_CELL_IN_DANGER),r&&i.push(Sn.c.SELECTED_CELL),i.push("column"===t?Sn.c.HOVERED_COLUMN:"row"===t?Sn.c.HOVERED_ROW:Sn.c.HOVERED_TABLE),t){case"row":o=Sn.d.ROW_CONTROLS_HOVER;break;case"column":o=Sn.d.COLUMN_CONTROLS_HOVER;break;default:o=Sn.d.TABLE_CONTROLS_HOVER}return ft.a.node(e.pos,e.pos+e.node.nodeSize,{class:i.join(" ")},{key:o})}))},KI=function(e){var t=e.selection,n=e.doc,r=qb(t),o=UI(t);return r&&o?ub.b.get(r.node).cellsInRect(o).map((function(e,t){var o=n.nodeAt(e+r.start);return ft.a.node(e+r.start,e+r.start+o.nodeSize,{class:Sn.c.COLUMN_SELECTED},{key:"".concat(Sn.d.COLUMN_SELECTED,"_").concat(t)})})):[]},$I=function(e){var t=HI(0)(e)||[],n=0;return t.map((function(e){var t=e.node.attrs.colspan||1,r=document.createElement("div");return r.classList.add(Sn.c.COLUMN_CONTROLS_DECORATIONS),r.dataset.startIndex="".concat(n),n+=t,r.dataset.endIndex="".concat(n),ft.a.widget(e.pos+1,(function(){return r}),{key:"".concat(Sn.d.COLUMN_CONTROLS_DECORATIONS,"_").concat(n),side:-100})}))},YI=function(e,t,n,r){var o=WI(r,t);return t.remove(o).add(e,n)},XI=function(e,t){var n=qb(e);if(!n||null===t.right)return[];var r,o=t.right-1,i=ub.b.get(n.node);return(r=i.height,Array.from(Array(r).keys())).map((function(e){return i.map[i.width*e+o]})).filter((function(e,t){return o===i.width||e!==i.map[i.width*t+o+1]})).map((function(e){return{pos:e+n.start,node:n.node.nodeAt(e)}})).map((function(e,n){if(e&&e.node)return ft.a.node(e.pos,e.pos+e.node.nodeSize,{class:Sn.c.WITH_RESIZE_LINE},{key:"".concat(Sn.d.COLUMN_RESIZING_HANDLE_LINE,"_").concat(t.right,"_").concat(n)})})).filter(wa.t)},JI=function(e){return function(t){var n=t.decorationSet,r=t.tr;return e.reduce((function(e,t){return t({decorationSet:e,tr:r})}),n)}},ZI=function(e){var t=e.decorationSet;return t.remove(qI(t))},QI=function(e){var t=e.decorationSet,n=e.tr;return function(e){return e.selection instanceof Oa.a&&e.selection.isColSelection()}(n)?YI(n.doc,t,KI(n),Sn.d.COLUMN_SELECTED):t},eM=function(e){var t=e.decorationSet,n=e.tr;return qb(n.selection)?YI(n.doc,t,$I(n.selection),Sn.d.COLUMN_CONTROLS_DECORATIONS):t},tM=function(e){var t=e.decorationSet;return t.remove(VI(t))},nM=function(e){var t=e.decorationSet,n=e.tr;return function(e){return!!VI(e).length}(t)?tM({decorationSet:t,tr:n}):t},rM=new dt.PluginKey("tableDecorationsPlugin"),oM=function(e){return rM.getState(e)},iM=function(e,t,n){return e.docChanged||e.selection instanceof Oa.a?function(e){e.decorationSet;var t=e.tr;return JI([tM,ZI,QI,eM])({decorationSet:ft.b.empty,tr:t})}({decorationSet:t,tr:e}):e.selectionSet&&(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||n.selection instanceof Oa.a)?nM({decorationSet:t,tr:e}):t};function aM(e,t,n){for(var r=JP(t.type.schema).header_cell,o=0;o<e.height;o++){var i=t.nodeAt(e.map[n+o*e.width]);if(i&&i.type!==r)return!1}return!0}var cM=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},sM=function(e){return function(t){var n=qb(t.selection);if(n){var r=ub.b.get(n.node);if(e>=0&&e<=r.width)return cM(function(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;aM(r,i,n+a)&&(a=0===n||n===r.width?null:0);for(var c=0;c<r.height;c++){var s=c*r.width+n;if(n>0&&n<r.width&&r.map[s-1]===r.map[s]){var u=r.map[s],l=i.nodeAt(u);if(!l)throw new Error("addColumn: invalid cell for pos ".concat(u));var d=l.attrs;Object(QP.b)(d),e.setNodeMarkup(e.mapping.map(o+u),void 0,Object(QP.a)(d,n-r.colCount(u))),c+=d.rowspan-1}else{var f=void 0;if(null===a)f=JP(i.type.schema).cell;else{var p=r.map[s+a],h=i.nodeAt(p);if(!h)throw new Error("addColumn: invalid node at mapped pos ".concat(p));f=h.type}var m=r.positionAt(c,n,i);e.insert(e.mapping.map(o+m),f.createAndFill())}}return e}(t,{map:r,tableStart:n.start,table:n.node},e))}return t}};function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dM(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,c=0;c<n;c++)a+=i.child(c).nodeSize;var s=[],u=n>0?-1:0;(function(e,t,n){for(var r=JP(t.type.schema).header_cell,o=0;o<e.width;o++){var i=t.nodeAt(e.map[o+n*e.width]);if(i&&i.type!==r)return!1}return!0})(r,i,n+u)&&(u=0===n||n===r.height?null:0);for(var l=0,d=r.width*n;l<r.width;l++,d++)if(n>0&&n<r.height&&r.map[d]===r.map[d-r.width]){var f=r.map[d],p=i.nodeAt(f);if(!p)throw new Error("addRow: node not found at pos ".concat(f));var h=p.attrs;e.setNodeMarkup(o+f,void 0,lM(lM({},h),{},{rowspan:h.rowspan+1})),l+=h.colspan-1}else{var m=void 0;if(null==u)m=JP(i.type.schema).cell;else{var v=r.map[d+u*r.width],b=i.nodeAt(v);if(!b)throw new Error("addRow: invalid node at mapped pos ".concat(v));m=b.type}s.push(m.createAndFill())}var g=JP(i.type.schema).row.create(null,s);return e.insert(a,g),e}var fM=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),cM(n)):n}},pM=function(e){return function(t){var n=qb(t.selection);if(n){var r=ub.b.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,i=JP(o.type.schema),a=n.start,c=0;c<e+1;c++)a+=o.child(c).nodeSize;var s=o.child(e),u=[],l=0;if(s.forEach((function(e){if(1===e.attrs.rowspan){l+=e.attrs.colspan;var t=i[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&u.push(t)}})),l<r.width){for(var d=[],f=function(n){var r=function(e,t){return function(n){var r=[],o=HI(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}}(n,(function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e}))(t);d.push.apply(d,D()(r))},p=e;p>=0;p--)f(p);d.length&&d.forEach((function(e){t=fM(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return Object(Qi.safeInsert)(i.row.create(s.attrs,u),a)(t)}}return t}},hM=function(e,t,n){return t*e.width+n};function mM(e,t,n){var r=hM(e,t,n);return n>0&&e.map[r-1]===e.map[r]||n<e.width-1&&e.map[r+1]===e.map[r]}function vM(e,t,n){var r=hM(e,t,n);return!(t>0)||e.map[r-e.width]!==e.map[r]}var bM=C.a.mark(gM);function gM(e,t){var n,r,o,i,a,c,s,u,l,d,f,p;return C.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:n=e.map,r=e.tableStart,o=e.table,aM(n,o,t+(i=t>0?-1:0))&&(i=0===t||t===n.width?null:0),a=0;case 4:if(!(a<n.height)){h.next=20;break}return c=hM(e.map,a,t),s=n.map[c],u=mM(e.map,a,t)&&vM(e.map,a,t),l=null==i?JP(o.type.schema).cell:o.nodeAt(n.map[c+i]).type,u||(s=n.positionAt(a,t,o)),d=o.nodeAt(s),f={from:r+s,to:r+s,row:a,col:u?n.colCount(s):t,type:l,hasMergedCells:u},d&&(f.attrs=d.attrs,f.to=r+s+d.nodeSize),h.next=15,f;case 15:(p=h.sent)&&p>0&&(a+=p);case 17:a++,h.next=4;break;case 20:case"end":return h.stop()}}),bM)}function yM(e,t){for(var n=0,r=t.map.width-1,o=e.values(),i=o.next(),a=0;a<t.map.height&&!i.done;a++)for(var c=n;c<=r;c++){var s=a*t.map.width+c,u=t.map.map[s],l=i.value.from-t.tableStart;if(u===l){for(var d=r-(n=c)+s,f=s;f<=d&&t.map.map[f]===u;f++)r=n+f-s;if(n===r)return n;i=o.next();break}if(c===t.map.width-1)if(u+t.table.nodeAt(u).nodeSize===l)return t.map.width}return null}function OM(e,t){var n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error('No table at position "'.concat(t,'".'));var r=ub.b.get(n),o=e.resolve(t);return{map:r,table:n,tableStart:o.start(o.depth+1),bottom:0,left:0,right:0,top:0}}function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wM(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EM(e){return e&&e.rowspan?e.rowspan-1:0}function xM(e,t,n,r,o,i){if(void 0!==r.mergeWith){var a=e.doc.nodeAt(e.mapping.map(r.mergeWith)),c=i-t.map.colCount(r.mergeWith-t.tableStart),s=o?Object(QP.c)(a.attrs,c):Object(QP.a)(a.attrs,c);if(s.colspan>0)return e.setNodeMarkup(e.mapping.map(r.mergeWith),void 0,s),{tr:e,skipRows:EM(s),cellStep:r};r.from=r.mergeWith,r.to=r.from+a.nodeSize,r.mergeWith=void 0}var u=0;o?(u=EM(e.doc.nodeAt(e.mapping.map(r.from)).attrs),e.delete(e.mapping.map(r.from),e.mapping.map(r.to))):r.newCell?(e.insert(e.mapping.map(r.from),r.newCell),u=EM(r.newCell.attrs)):e.insert(e.mapping.map(r.from),n.type.createAndFill());return{tr:e,skipRows:u,cellStep:r}}function SM(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,4]}function jM(e,t,n,r,o){var i=function(e,t,n){if(n)return e.map(t.from)-t.from;var r=SM(t,n),o=mr()(r,3),i=o[1],a=o[2];return e.map(t.from)-t.from-(a-i)}(o,n,r),a=kM(kM({},n),{},{from:n.from+i,to:n.to+i});if(void 0!==n.mergeWith&&(a.mergeWith=n.mergeWith+i),r){var c=e.nodeAt(n.from);a.newCell=c.copy(c.content);var s=t(),u=s.column,l=s.rect;if(u<l.map.width){var d=l.map.colCount(n.from-l.tableStart)+c.attrs.colspan-1===u;void 0!==n.mergeWith&&d&&(a.mergeWith=a.from,a.from=a.to)}}return a}function CM(e,t,n,r){var o={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(o.mergeWith=e.from),r&&(void 0!==r.mergeWith&&(o.mergeWith=r.mergeWith),r.newCell&&(o.newCell=r.newCell)),o}var TM=function(){function e(t){d()(this,e),t&&(this.table=t)}return p()(e,[{key:"addTableSideEffect",value:function(e,t,n){this.table={from:e,to:t,node:n}}},{key:"handleAddTable",value:function(e,t){return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}},{key:"handleRemoveTable",value:function(e,t,n,r,o){return!(!o||1!==n.map.width||0!==r)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}},{key:"getTableMap",value:function(e){if(this.table){var t=this.table,n=t.from,r=t.to;return e?new pt.e([n,r-n,0]):new pt.e([n,0,r-n])}}},{key:"map",value:function(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}},{key:"invert",value:function(e){if(this.table){var t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}}},{key:"toJSON",value:function(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}}],[{key:"fromJSON",value:function(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}]),e}();function _M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return AM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AM(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function AM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MM(e,t,n,r){for(var o=t.tableStart,i=0;i<n;i++)o+=t.table.child(i).nodeSize;var a=t.table.child(n),c=o+a.nodeSize;return e.delete(e.mapping.map(o),e.mapping.map(c)),{skipRows:function(e,t,n,r){for(var o=0,i=t.map,a=t.table,c=t.tableStart,s=0;s<i.width;s++){var u=n*i.width+s,l=i.map[u];if(n>0&&l===i.map[u-i.width]){var d=e.mapping.map(l+c),f=e.doc.nodeAt(d).attrs;e.setNodeMarkup(d,void 0,IM(IM({},f),{},{rowspan:f.rowspan-1})),s+=f.colspan-1}else s===r&&(o=a.nodeAt(l).attrs.rowspan-1)}return o}(e,t,n,r),row:{from:o,to:c,rowNode:a.copy(a.content)}}}function RM(e,t,n,r){var o=r.rowNode.child(0);return e.insert(e.mapping.map(r.from),r.rowNode),function(e,t,n){for(var r=t.map,o=t.tableStart,i=0;i<r.width;i++){var a=n*r.width+i,c=r.map[a],s=e.mapping.map(c+o),u=e.doc.nodeAt(s).attrs;e.setNodeMarkup(s,void 0,IM(IM({},u),{},{rowspan:u.rowspan+1})),i+=u.colspan-1}}(e,t,n),o.attrs.rowspan-1}var NM=function(){function e(t){var n=this;d()(this,e),E()(this,"deleteHandler",(function(){var e=[];return{handle:function(t,n,r,o,i){if(!function(e,t,n){var r=e.table.child(t);return!!r&&(1===r.childCount&&!mM(e.map,t,n))}(n,r,o))return{handled:!1};var a=MM(t,n,r,o),c=a.row,s=a.skipRows;return e.push(c),{handled:!0,skipRows:s}},end:function(){e.length>0?n.rows=e:n.rows=void 0}}})),E()(this,"addHandler",(function(){var e=0,t=0;return{handle:function(r,o,i,a,c){if(!n.rows||t>=n.rows.length)return{handled:!1};for(var s,u;(u=n.rows[t])&&u.from>e&&u.from<c.from;)s=RM(r,o,i-1,u),t++;return e=c.from,s&&0!==s?{handled:!0,skipRows:s-1}:{handled:!1}},end:function(e,r,o){if(n.rows&&!(t>=n.rows.length))for(var i;i=n.rows[t];)RM(e,r,r.map.height-1,i),t++}}})),this.rows=t}return p()(e,[{key:"start",value:function(e){return e?this.deleteHandler():this.addHandler()}},{key:"addRowRanges",value:function(e,t){if(!this.rows)return e;var n,r=[],o=_M(this.rows);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.from,c=i.to;t?r.push(a,c-a,0):r.push(a,0,c-a)}}catch(e){o.e(e)}finally{o.f()}return function(e,t){for(var n=[],r=e.length,o=t.length,i=0,a=0;i<r&&a<o;)e[i]<t[a]?(n.push(e[i],e[i+1],e[i+2]),i+=3):(n.push(t[a],t[a+1],t[a+2]),a+=3);return i<r&&n.push.apply(n,D()(e.slice(i))),a<o&&n.push.apply(n,D()(t.slice(i))),n}(e,r)}},{key:"map",value:function(e){return[]}},{key:"invert",value:function(e,t,n){if(this.rows){var r,o=[],i=_M(this.rows);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t){var c=n.map(a.from)-a.from;o.push(IM(IM({},a),{},{from:a.from+c,to:a.from+c}))}}}catch(e){i.e(e)}finally{i.f()}return o}}},{key:"toJSON",value:function(){if(this.rows){var e,t=[],n=_M(this.rows);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({from:r.from,to:r.to,rowNode:r.rowNode.toJSON()})}}catch(e){n.e(e)}finally{n.f()}return t}}}],[{key:"fromJSON",value:function(e,t){var n,r=[],o=_M(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({from:i.from,to:i.to,rowNode:e.nodeFromJSON(i.rowNode)})}}catch(e){o.e(e)}finally{o.f()}return r}}]),e}(),DM=function(){function e(t){d()(this,e),this.table=new TM(t&&t.table),this.rows=new NM(t&&t.rows)}return p()(e,[{key:"getTableMap",value:function(e){return this.table.getTableMap(e)}},{key:"map",value:function(e){var t={},n=this.table.map(e),r=this.rows.map(e);return n&&(t.table=n),r&&(t.rows=r),t}},{key:"invert",value:function(e,t,n){var r={},o=this.table.invert(e);o&&(r.table=o);var i=this.rows.invert(e,t,n);return i&&(r.rows=i),r}},{key:"toJSON",value:function(){var e=this.table.toJSON(),t=this.rows.toJSON();if(e||t){var n={};return e&&(n.table=e),t&&(n.rows=t),n}}}],[{key:"fromJSON",value:function(e,t){var n={};return t.table&&(n.table=TM.fromJSON(e,t.table)),t.rows&&(n.rows=NM.fromJSON(e,t.rows)),n}}]),e}();function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LM(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function zM(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return UM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UM(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function UM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HM(e){return new Map(e.map((function(e){return[e.from,e]})))}var WM=function(e){b()(n,e);var t=FM(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d()(this,n),(o=t.call(this)).tablePos=e,o.isDelete=i,o.sideEffectsHandler=new DM(r.sideEffects),o.columnInfo=HM(r.cells),o}return p()(n,[{key:"apply",value:function(e){var t,n=this.tablePos,r=new pt.g(e);if(this.sideEffectsHandler.table.handleAddTable(r,this.isDelete))return pt.f.ok(r.doc);try{t=OM(e,n)}catch(e){return pt.f.fail(e.message)}var o=yM(this.columnInfo,t);return null===o?pt.f.fail('No column for this cells "'.concat(function(e){var t,n=[],r=zM(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.from)}}catch(e){r.e(e)}finally{r.f()}return"[".concat(n.join(","),"]")}(this.columnInfo),'" in table at position "').concat(n,'".')):(this.sideEffectsHandler.table.handleRemoveTable(r,this.tablePos,t,o,this.isDelete)||(this.columnInfo=this.applyCellSteps(r,t,o,this.isDelete)),pt.f.ok(r.doc))}},{key:"map",value:function(e){var t=e.mapResult(this.tablePos);if(t.deleted)return null;var r,o=[],i=zM(this.columnInfo.values());try{for(i.s();!(r=i.n()).done;){var a=r.value,c=e.mapResult(a.from),s=e.mapResult(a.to);if(!c.deleted||!s.deleted){var u=BM(BM({},a),{},{from:c.pos,to:s.pos});void 0!==a.mergeWith&&(u.mergeWith=e.map(a.mergeWith)),o.push(u)}}}catch(e){i.e(e)}finally{i.f()}if(0===o.length)return null;var l=this.sideEffectsHandler.map(e);return new n(t.pos,{cells:o,sideEffects:l},this.isDelete)}},{key:"invert",value:function(e){var t,r,o,i=this,a=this.getMap(),c=(t=e,r=this.tablePos,o=this.columnInfo,Object(P.a)((function(){var e=OM(t,r),n=yM(o,e);if(null===n)throw new Error("no column");return{rect:e,column:n}}))),s=Array.from(this.columnInfo.values(),(function(t){return jM(e,c,t,i.isDelete,a)})),u=this.sideEffectsHandler.invert(e,this.isDelete,a);return new n(this.tablePos,{cells:s,sideEffects:u},!this.isDelete)}},{key:"getMap",value:function(){var e=this.sideEffectsHandler.getTableMap(this.isDelete);if(e)return e;var t,n=[],r=zM(this.columnInfo.values());try{for(r.s();!(t=r.n()).done;){var o,i=t.value;(o=n).push.apply(o,D()(SM(i,this.isDelete)))}}catch(e){r.e(e)}finally{r.f()}return n=this.sideEffectsHandler.rows.addRowRanges(n,this.isDelete),new pt.e(n)}},{key:"merge",value:function(e){return null}},{key:"toJSON",value:function(){var e={stepType:"ak-add-column",tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(function(e){var t={from:e.from,to:e.to};return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON();return t&&(e.sideEffects=t),e}},{key:"applyCellSteps",value:function(e,t,n,r){for(var o=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),a=gM(t,n),c=a.next();!c.done;){var s=c.value,u=CM(s,n,r,this.columnInfo.get(s.from)),l=i.handle(e,t,s.row,n,s);if(l.handled)c=a.next(l.skipRows);else{var d=xM(e,t,s,u,r,n),f=d.skipRows,p=d.cellStep;o.set(u.from,p),c=a.next(f)}}return i.end(e,t,n),o}}],[{key:"fromJSON",value:function(e,t){var r,o=t.cells.map((function(t){return BM(BM({},t),{},{newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})}));return t.sideEffects&&(r=DM.fromJSON(e,t.sideEffects)),new n(t.tablePos,{cells:o,sideEffects:r},t.isDelete)}},{key:"create",value:function(e,t,r){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=OM(e,t),a=[],c=gM(i,r),s=c.next();!s.done;){var u=s.value;a.push(CM(u,r,o));var l=0;u.attrs&&u.attrs.rowspan&&(l=u.attrs.rowspan-1),s=c.next(l)}return new n(t,{cells:a},o)}}]),n}(pt.d);pt.d.jsonID("ak-add-column",WM);var VM=function(e){return!!e.type.spec.isolating},qM=function(e){for(var t=ub.b.get(e),n=t.cellsInRect({left:0,top:0,right:1,bottom:t.height}),r=0;r<n.length;r++)try{var o=e.nodeAt(n[r]);if(o&&o.type!==e.type.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},GM=function(e){for(var t=ub.b.get(e),n=0;n<t.width;n++){var r=e.nodeAt(t.map[n]);if(r&&r.type!==e.type.schema.nodes.tableHeader)return!1}return!0},KM=function(e){return JM(e,qb,qM,!1)},$M=function(e){return JM(e,qb,GM,!1)},YM=function(e){return JM(e,qb,(function(e){return!!e.attrs.isNumberColumnEnabled}),!1)},XM=function(e,t){var n=ub.b.get(t),r=ub.b.get(e);return n.width!==r.width};function JM(e,t,n,r){var o=t(e);return o?n(o.node,o.pos):r}function ZM(e){if(!e.content.firstChild)return[];var t=[];return e.content.firstChild.content.forEach((function(e){if(Array.isArray(e.attrs.colwidth)){var n=e.attrs.colspan||1;t.push.apply(t,D()(e.attrs.colwidth.slice(0,n)))}})),t}var QM=function(e){return function(t){if(!db(t,"cell"))return!1;for(var n=ub.b.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),i=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,c=o.length;a<c;a++)if(-1===i.indexOf(o[a]))return!1;return!0}},eR=function(e){return function(t){if(db(t,"cell")){var n=ub.b.get(t.$anchorCell.node(-1));return QM({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},tR=function(e){if(db(e,"cell")){var t=ub.b.get(e.$anchorCell.node(-1));return QM({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1};function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oR=function(e){var t=[];if(e.lastChild)for(var n=e.lastChild.childNodes,r=0,o=n.length;r<o;r++){var i=n[r];if(t[r]=i.getBoundingClientRect().height+1,i.classList.contains("sticky")&&0===r){var a=window.getComputedStyle(i),c=Object(Zi.e)(a.paddingTop||"");t[r]-=c?c+1:1}}return t},iR=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=[];return(eR(e)(t)||n.indexOf(e)>-1&&!o)&&(i.push(Sn.c.HOVERED_CELL_ACTIVE),r&&i.push(Sn.c.HOVERED_CELL_IN_DANGER)),i.join(" ")},aR=function(e){var t=e.selection,n=e.doc.type.schema,r=qb(t);if(!r)return{tableIsCollapsible:!1};var o=n.nodes.expand,i=r.node,a=r.pos,c=e.doc.resolve(a),s=new ya.NodeRange(c,e.doc.resolve(a+i.nodeSize),c.depth);if(!s)return{tableIsCollapsible:!1};var u=Object(pt.k)(s,o);return null===u?{tableIsCollapsible:!1}:{tableIsCollapsible:!0,range:s,findWrappingRes:u}},cR={hoveredColumns:[],hoveredRows:[],isInDanger:!1};function sR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var uR=function(e){b()(n,e);var t=sR(n);function n(e,r,o){var i;return d()(this,n),(i=t.call(this)).prev=r,i.next=o,i.pos=e,i}return p()(n,[{key:"invert",value:function(){return new n(this.pos,this.next,this.prev)}},{key:"apply",value:function(e){return pt.f.ok(e)}},{key:"map",value:function(){return null}},{key:"getMap",value:function(){return new pt.e([0,0,0])}},{key:"toJSON",value:function(){return{stepType:"atlaskit-table-sorting-ordering"}}}],[{key:"fromJSON",value:function(){return new pt.c(0,0,ya.Slice.empty)}}]),n}(pt.d);function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}pt.d.jsonID("atlaskit-table-sorting-ordering",uR);var fR=function(e,t){var n=e.steps.find((function(e){return e instanceof uR}));return n&&t&&t.pos===n.pos?n.next:void 0},pR=function(e,t){if(!e.getMeta(VE))return t},hR=function(e){var t=e.tr,n=e.table;return function(e){if(!(n&&n.node))return dR(dR({},e),{},{targetCellPosition:void 0});var r=t.doc.type.schema.nodes,o=r.tableCell,i=r.tableHeader,a=Object(Qi.findParentNodeOfType)([o,i])(t.selection),c=a?a.pos:void 0;return e.targetCellPosition===c?e:dR(dR({},e),{},{targetCellPosition:c})}},mR=function(e){var t=e.tr,n=e.table;return function(e){var r=n&&n.node;return!r||function(e){var t=mr()(e.steps,1)[0];if(!(t&&t instanceof pt.c))return!1;var n=t,r=n.slice.content,o=n.from,i=n.to,a=r.firstChild;return o===i&&1===r.childCount&&!!a&&!!a.text&&1===a.text.length}(t)?e:dR(dR(dR({},e),cR),{},{tableNode:r,ordering:fR(t,n),resizeHandleColumnIndex:pR(t,e.resizeHandleColumnIndex),isNumberColumnEnabled:YM(t.selection),isHeaderColumnEnabled:KM(t.selection),isHeaderRowEnabled:$M(t.selection)})}},vR=function(e){var t=e.tr,n=e.table;return function(e){var r=n&&n.node,o=t.doc.type.schema,i=e.pluginConfig.allowCollapse,a=void 0!==o.nodes.expand,c=i&&a;if(!e.editorHasFocus||!c||!r)return e;var s=o.nodes.expand,u=s&&!!Object(Qi.findParentNodeOfType)(s)(t.selection),l=aR(t).tableIsCollapsible,d=!!e.tableNode&&!u&&!!l;return e.isTableCollapsed!==u||e.canCollapseTable!==d?dR(dR({},e),{},{isTableCollapsed:u,canCollapseTable:d}):e}},bR=function(e,t){return(n=[hR,mR,vR],function(e){return function(t){return e.table?n.reduce((function(t,n){return n(e)(t)}),t):t.targetCellPosition?dR(dR({},t),{},{targetCellPosition:void 0}):t}})({tr:e,table:qb(e.selection)})(t);var n};function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gR(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OR(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kR=Object(Jc.a)(zI,(function(e,t){switch(t.type){case"TOGGLE_HEADER_COLUMN":return yR(yR({},e),{},{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return yR(yR({},e),{},{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return yR(yR(yR({},e),t.data),cR);case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return yR(yR(yR({},e),t.data),{},{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":return yR(yR({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return yR(yR({},e),{},{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:yR(yR(yR({},e),t.data),{},{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:yR(yR(yR({},e),t.data),{},{insertRowButtonIndex:void 0});case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?yR(yR({},e),{},{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"HIDE_RESIZE_HANDLE_LINE":return yR(yR(yR({},e),t.data),{},{resizeHandleColumnIndex:void 0});case"ADD_RESIZE_HANDLE_DECORATIONS":return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex?e:yR(yR({},e),t.data);case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return yR(yR({},e),t.data);default:return e}}),{mapping:function(e,t){if(e.docChanged){var n={};if(t.targetCellPosition){var r=e.mapping.mapResult(t.targetCellPosition),o=r.pos;n={targetCellPosition:r.deleted?void 0:o}}var i={};if(t.tablePos){var a=e.mapping.mapResult(t.tablePos,-1),c=a.pos;i={tablePos:a.deleted?void 0:c}}return wR(wR(wR({},t),n),i)}return t},onDocChanged:bR,onSelectionChanged:bR}),ER=kR.createPluginState,xR=kR.createCommand,SR=kR.getPluginState;function jR(e){var t=SR(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}var CR=function(e){var t=[];return e.content.firstChild.content.forEach((function(e){var n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((function(e){t.push(["col",e?{style:"width: ".concat(e,"px;")}:{}])})):t.push.apply(t,D()(Array.from({length:n},(function(e){return["col",{}]}))))})),t},TR=function(e,t){var n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return ya.DOMSerializer.renderSpec(document,["colgroup",{}].concat(D()(CR(e)))).dom}(t),e.insertBefore(n,e.firstChild),n.children},_R=function(e){return!!mm(e.content.firstChild.content).find((function(e){return e.attrs.colwidth}))};var AR=function(e){return fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)})},PR=n(235),IR={default:he.i,wide:he.V,"full-width":he.s};function MR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=n.isFullWidthModeEnabled;if(r)return t?Math.min(t-2*he.u,he.s):he.s;var o=Object(En.b)(e,t,!0);return o.endsWith("px")?parseInt(o,10):"default"===e?RR(t):IR[e]||t}function RR(e){return Object(X.b)(Object(Y.c)(e))}function NR(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}var DR=function(e){var t=e.table,n=e.tableStart,r=e.state,o=e.layout,i=tc.getState(r),a=Object(PR.b)(n,r,i)||MR(o,i.width,{});return t.attrs.isNumberColumnEnabled&&(a-=he.P),a},LR=function(e){return e?parseInt(e,10):0};function BR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.createElement("canvas");return FR(e,t||e,r,n)}function FR(e,t,n,r){for(var o=[],i=0,a=0;a<e.childNodes.length;a++){var c=e.childNodes[a];if(c.nodeType!==Node.COMMENT_NODE)if(c.nodeType===Node.TEXT_NODE){var s=c.parentNode,u=getComputedStyle(s),l=0;l="CODE"===s.nodeName||"PRE"===s.nodeName?UR(n,s,c.textContent,u.font):zR(n,c.textContent,u.font);var d=s.offsetLeft-t.offsetLeft;o.push(i),i+=l+d,"nowrap"===u.whiteSpace&&r.push(s.offsetWidth+3)}else{var f=getComputedStyle(c);f.minWidth&&f.minWidth.endsWith("px")&&"0px"!==f.minWidth&&r.push(LR(f.minWidth));var p=BR(c,t,r,n).width;f.display&&f.display.indexOf("inline")>-1?i+=p:(o.push(i),i=p)}}return o.push(i),{minWidth:r.reduce((function(e,t){return Math.max(t,e)}),0),width:o.reduce((function(e,t){return Math.max(t,e)}),0)}}function zR(e,t,n){var r=e.getContext("2d");return r?(n&&(r.font=n),Math.round(r.measureText(t||"").width)):0}function UR(e,t,n,r){var o=t;"CODE"===t.nodeName&&(o=t.parentNode);var i=getComputedStyle(o);return n&&"pre"===i.whiteSpace?n.split("\n").reduce((function(t,n){return Math.max(zR(e,n,r),t)}),0):zR(e,n,r)}var HR=function(e,t,n){var r=qR(e,GR),o=r<n?En.i:qR(e,function(e){return function(t,n,r){if(r&&r>1)return LR(t.width);var o=BR(n,n).minWidth;return Math.max(function(e,t){return e+LR(t.paddingLeft)+LR(t.paddingRight)}(o,t),o,e)}}(n));return{index:t,width:r<n?En.i:r,minWidth:o}},WR=function(e){return Math.max(e.width-e.minWidth,0)},VR=function(e,t,n,r){var o=ub.b.get(t),i=o.cellsInRect({left:e,right:e+1,top:0,bottom:o.height}),a=[];return i.forEach((function(e){var t=Object(Qi.findDomRefAtPos)(e+n,r);t&&a.push(t)})),a},qR=function(e,t){var n=0,r=0;return e.forEach((function(e){var o=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)r=t(o,e,i);else if(o){var a=t(o,e,i);n=Math.max(a,n)}})),n||r};function GR(e){return LR(e.width)}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KR(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return AR({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]})},XR=function(e,t){var n=!1;if(e.doc.descendants((function(r,o){"table"===r.type.name&&(n=function(e,t,n,r){var o=!1;return n=QR(n,e,t,(function(t){var n=t.attrs,i=n.colwidth,a=n.colspan,c=n.rowspan;return r&&function(e,t){var n=e.colspan,r=e.rowspan,o=e.tableLocalId;n&&n<0&&t({nodeType:"tableCell",attribute:"colspan",reason:"negative value",tableLocalId:o,spanValue:n}),r&&r<0&&t({nodeType:"tableCell",attribute:"rowspan",reason:"negative value",tableLocalId:o,spanValue:r})}({colspan:a,rowspan:c,tableLocalId:e.attrs.localId},r),i&&i.length>a?(o=!0,t.type.createChecked($R($R({},t.attrs),{},{colwidth:i.slice(0,a)}),t.content,t.marks)):t})),!!o&&(YR({message:"removeExtraneousColumnWidths"}),!0)}(r,e.mapping.map(o),e,t))})),n)return e},JR=function(e,t,n,r,o){var i=e.state.tr,a=function(e,t,n,r){var o=r.querySelector("tr");if(!o)return[];for(var i=[],a=0;a<o.childElementCount;a++)for(var c=o.children[a],s=Number(c.getAttribute("colspan")||1),u=0;u<s;u++){var l=a+u,d=VR(l,t,n,e),f=qR(d,(function(e,t){return BR(t,r).width}));i[l]=Math.max(f,En.d)}return i}(e.domAtPos.bind(e),t,r+1,n),c=a.reduce((function(e,t){return e+t}),0),s=ZR(c),u=MR(s,o.containerWidth,{}),l=1;c!==u&&(l=u/c);var d=a.map((function(e){return Math.floor(e*l)}));return(i=QR(i,t,r,(function(e,t,n){var r=d.slice(n,n+e.attrs.colspan);return e.type.createChecked($R($R({},e.attrs),{},{colwidth:r.length?r:null}),e.content,e.marks)}))).setNodeMarkup(r,void 0,$R($R({},t.attrs),{},{layout:s,__autoSize:!1})).setMeta("addToHistory",!1)},ZR=function(e){return e>he.V?"full-width":e>he.i&&e<he.V?"wide":"default"};var QR=function(e,t,n,r){for(var o=[],i=0,a=0;a<t.childCount;a++){for(var c=t.child(a),s=[],u=0;u<c.childCount;u++){var l=c.child(u),d=r(l,a,u);!1===d.sameMarkup(l)&&i++,s.push(d)}s.length&&o.push(c.type.createChecked(c.attrs,s,c.marks))}if(o.length&&0!==i){var f=t.type.createChecked(t.attrs,o,t.marks);return e.replaceWith(n,n+t.nodeSize,f)}return e},eN=function(e){return function(t){return"problem"in e&&YR(e),t.setMeta(zI,e)}};var tN=function(e,t){Array.from(t).forEach((function(t){t.classList.contains(Sn.c.TABLE_STICKY_SHADOW)&&t instanceof HTMLElement&&t.style.height!==e&&(t.style.height=e)}))},nN=function(e,t,n,r,o){var i;if(!0===(null===(i=Object(oi.b)(e))||void 0===i?void 0:i.tableOverflowShadowsOptimization))return!1;if(n&&t){var a=t.querySelector("tr.sticky"),c=a&&a.firstElementChild;if(r)for(var s=n.offsetWidth-t.offsetWidth,u=0;u<r.length;u++){var l=r[u];l.style.display=s>0&&s>t.scrollLeft?"block":"none",l.classList.contains(Sn.c.TABLE_STICKY_SHADOW)&&c&&(l.style.height="".concat(c.clientHeight+1,"px"))}if(o)for(var d=0;d<o.length;d++){var f=o[d];f.style.display=t.scrollLeft>0?"block":"none",f.classList.contains(Sn.c.TABLE_STICKY_SHADOW)&&c&&(f.style.height="".concat(c.clientHeight+1,"px"))}}},rN=function(e){return function(t){var n=qb(t);if(n){var r=ub.b.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=r.width-1})).reduce((function(e,t){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}},oN=function(e,t){var n=Object(Zi.d)(t,(function(e){return Number(e.getAttribute("colspan")||1)})),r=t.nextElementSibling||t;if(r){var o=Object(Zi.d)(r,(function(e){return{width:e.offsetWidth,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth}})),i=[];if(o.map((function(e,t){i.push.apply(i,D()(function(e){var t=e.width,n=e.colspan,r=e.colwidth;if(n<=1||!r)return new Array(n).fill(t/n);var o=r.split(",").map((function(e){return Number(e)})),i=o.reduce((function(e,t){return e+t}),0);return o.map((function(e){return t*(e/i)}))}(e)))})),0!==o.reduce((function(e,t){return e+t.width}),0))return function(e,t){var n=0,r=[];return e.forEach((function(e){var o=t.slice(n,n+e).reduce((function(e,t){return e+t}),0);n+=e,r.push(o)})),r}(n,i).map((function(e){return"".concat(e,"px")})).join(" ")}var a=n.reduce((function(e,t){return e+t}),0);return n.map((function(e){return e/a*100})).map((function(e){return"".concat(e,"%")})).join(" ")},iN=function(e){var t=SR(e).tableRef;if(t&&t.querySelector("tr")){var n=t.parentElement;if(n&&n.parentElement){var r=n.parentElement.querySelectorAll(".".concat(Sn.c.ROW_CONTROLS_BUTTON_WRAP)),o=n.parentElement.querySelectorAll(Sn.c.NUMBERED_COLUMN_BUTTON);cN(t);for(var i=oR(t),a=0,c=r.length;a<c;a++){var s=i[a];s&&(r[a].style.height="".concat(s,"px"),o.length&&(o[a].style.height="".concat(s,"px")))}var u=n.parentElement.querySelectorAll(".".concat(Sn.c.TABLE_RIGHT_SHADOW)),l=n.parentElement.querySelectorAll(".".concat(Sn.c.TABLE_LEFT_SHADOW));nN(e,n,t,u,l)}}},aN=function(e){var t=e.querySelector("tr.sticky");if(t){var n=Object(Zi.e)(window.getComputedStyle(t).paddingTop||"")||0,r=t.clientHeight-n-2;e.style.marginTop="".concat(xe.a.gecko?r+En.e-En.c:En.h+r,"px")}else e.style.marginTop=""},cN=function(e){if(e){var t=e.querySelector("tr[data-header-row]");t&&(!function(e,t){var n=oN(0,t);n&&(t.style.gridTemplateColumns=n)}(e.querySelector("colgroup"),t),sN(e,t))}},sN=function(e,t){var n=e.querySelector("tbody"),r=e.parentElement;if(n&&r){var o=Math.min(n.offsetWidth+1,r.offsetWidth);t.style.width="".concat(o,"px"),t.scrollLeft=r.scrollLeft}};function uN(e){var t,n=0,r=0,o=qb(e);return o&&(n=(t=ub.b.get(o.node)).height,r=t.width),{table:o,map:t,totalRowCount:n,totalColumnCount:r}}function lN(e){var t=1,n=1,r=1,o=uN(e),i=o.table,a=o.map,c=o.totalRowCount,s=o.totalColumnCount;if(i&&a){var u=UI(e);u&&(r=a.cellsInRect(u).length,t=u.right-u.left,n=u.bottom-u.top)}return{totalRowCount:c,totalColumnCount:s,horizontalCells:t,verticalCells:n,totalCells:r}}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pN=function(e){var t,n,r,o=e.minWidth,i=e.maxSize,a=e.table,c=e.tableRef,s=e.start,u=e.domAtPos;if(_R(a)){var l=(t=a,n=[],r=t.firstChild,r&&r.forEach((function(e){var t=e.attrs.colwidth||[0];t&&(n=[].concat(D()(n),D()(t)))})),n).map((function(e,t){return{width:0===e?En.i:e,minWidth:0===e?En.i:o,index:t}})),d=l.map((function(e){return e.width})),f=d.reduce((function(e,t){return e+t}),0);return{cols:l,widths:d,maxSize:i,tableWidth:f,overflow:f>i}}var p=TR(c,a),h=Array.from(p).map((function(e,t){var n=VR(t,a,s,u);return HR(n,t,o)})),m=h.map((function(e){return e.width})),v=m.reduce((function(e,t){return e+t}),0);return{cols:h,widths:m,maxSize:i,tableWidth:v,overflow:v>i}},hN=function(e){return e.cols.reduce((function(e,t){return e+t.width}),0)},mN=function(e,t){var n=t-hN(e);if(n>0||n<0&&Math.abs(n)<En.d){var r=!1;return fN(fN({},e),{},{cols:e.cols.map((function(e){return!r&&e.width+n>e.minWidth?(r=!0,fN(fN({},e),{},{width:e.width+n})):e}))})}return e},vN=function(e){var t=hN(e),n=Math.floor(t/e.cols.length),r=e.cols.map((function(e){return fN(fN({},e),{},{width:n})}));return mN(fN(fN({},e),{},{cols:r}),t)},bN=function(e,t,n){return e.slice(t,n).map((function(e){return e.width})).reduce((function(e,t){return e+t}),0)},gN=function(e,t,n){var r=hN(e),o=t.indexOf(n)>-1?n:n+1,i=e.cols[o],a={},c=[],s=e.cols.map((function(e){if(t.indexOf(e.index)>-1){var n=e.width-i.width;return 0!==n&&c.push(n),fN(fN({},e),{},{width:i.width})}return e})),u=fN(fN({},e),{},{cols:s.map((function(e){if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<o)return e;for(;c.length;){var r=c.shift()||0,i=a[e.index]||e,s=i.width+r;if(!(s>i.minWidth)){c.push(s-i.minWidth),a[i.index]=fN(fN({},i),{},{width:i.minWidth});break}a[i.index]=fN(fN({},i),{},{width:s})}return a[e.index]||e}))}),l=e.maxSize,d=hN(u);if(t.length===e.cols.length&&d<l){if(r===l)return e;var f=Math.floor((l-i.width)/(u.cols.length-1));u=fN(fN({},e),{},{cols:u.cols.map((function(e){return e.index===i.index?e:fN(fN({},e),{},{width:f})}))})}return mN(u,e.maxSize)},yN=function(e){switch(e){case"wide":case"full-width":return e;default:return"default"}},ON=function(e,t,n){var r=uN(t.selection),o=r.totalRowCount,i=r.totalColumnCount,a=r.table;if(a){var c=n(a.start).node.closest("table");if(c){var s=yN(null==c?void 0:c.dataset.layout),u=DR({table:a.node,tableStart:a.start,state:t,layout:s}),l=pN({minWidth:En.d,maxSize:u,table:a.node,tableRef:c,start:a.start,domAtPos:n}),d=function(e,t){var n=e.cols,r=bN(n,t.left,t.right),o=bN(n,0,n.length)/n.length,i=r/(t.right-t.left);return fN(fN({},e),{},o===i?{widths:n.map((function(){return i})),cols:e.cols.map((function(e){return fN(fN({},e),{},{width:0})}))}:{widths:n.map((function(e,n){return n>=t.left&&n<t.right?i:e.width})),cols:n.map((function(e,n){return fN(fN({},e),{},{width:n>=t.left&&n<t.right?i:e.width})}))})}(l,e),f=l.widths,p=d.widths;return{resizeState:d,table:a,changed:l.widths.some((function(e,t){return e!==p[t]})),attributes:{position:e.left,count:e.right-e.left,totalRowCount:o,totalColumnCount:i,widthsBefore:f,widthsAfter:p}}}}};function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wN(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EN;function xN(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e.cols[t],a=e.cols[n];if(o){var c=WR(i);jN(EN.DEST)(r)>c&&(r=r>0?c:-c)}jN(EN.SOURCE)(r)<0&&CN(EN.SOURCE)(r,i,a)<i.minWidth&&(r=i.width-i.minWidth);var s=a?kN(kN({},a),{},{width:CN(EN.DEST)(r,i,a)}):void 0;if(!s&&jN(EN.SOURCE)(r)<0){var u=hN(e);u-i.width+CN(EN.SOURCE)(r,i,a)<e.maxSize&&(r=e.maxSize-(u-i.width)-i.width-1)}var l=kN(kN({},i),{},{width:CN(EN.SOURCE)(r,i,a)}),d=e.cols.map((function(e,r){return r===t?l:r===n?s:e})).filter(Boolean);return{state:kN(kN({},e),{},{cols:d}),amount:r}}function SN(e,t,n){for(var r=function(e,t,n){var r=e.cols;return n<0?r.slice(0,t):r.slice(t+1)}(e,t,n),o=function(){var o=function(e,t){if(0===e.length)return-1;"left"==(t<0?"left":"right")&&(e=e.slice().reverse());var n=-1;if(e.forEach((function(e){WR(e)&&-1===n&&(n=e.index)})),-1===n)return-1;return n}(r,n);if(-1===o)return n>0?{v:{state:kN(kN({},e),{},{cols:[].concat(D()(e.cols.slice(0,t)),[kN(kN({},e.cols[t]),{},{width:e.cols[t].width+n})],D()(e.cols.slice(t+1)))}),remaining:n}}:"break";var i=r.find((function(e){return e.index===o}));if(!i||WR(i)<=0)return"break";var a=xN(e,i.index,t,n);e=a.state,n-=a.amount,r=r.filter((function(e){return e.index!==o}))};r.length&&n;){var i=o();if("break"===i)break;if("object"===gt()(i))return i.v}return{state:e,remaining:n}}function jN(e){return function(t){return e===EN.SOURCE?t>0?-t:t:t<0?-t:t}}function CN(e){return function(t,n,r){return(e===EN.SOURCE?n:r).width+jN(e)(t)}}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TN(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SOURCE="src",e.DEST="dest"}(EN||(EN={}));var AN=function(e,t,n){var r=t.node,o=t.containerWidth,i=t.previousContainerWidth,a=t.prevNode,c=t.start,s=t.isBreakoutEnabled,u=t.layoutChanged,l=MR(r.attrs.layout,o,{isBreakoutEnabled:s}),d=function(e){return ZM(e).reduce((function(e,t){return e+t}),0)}(a),f=MR(a.attrs.layout,i,{isBreakoutEnabled:s}),p=l;if(u&&d>f)if(d<l)p=l;else{var h=d/f;p=Math.floor(p*h)}return r.attrs.isNumberColumnEnabled&&(p-=he.P),PN(pN({minWidth:En.d,maxSize:l,table:r,tableRef:e,start:c,domAtPos:n}),p)};function PN(e,t){var n=t/hN(e),r=_N(_N({},e),{},{maxSize:t,cols:e.cols.map((function(e){var t=e.minWidth,r=e.width,o=Math.floor(r*n);return o<t&&(o=t),_N(_N({},e),{},{width:o})}))}),o=hN(r);return o>t&&(r=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t,o=function(){var t=e.cols.filter((function(e){return WR(e)&&-1===n.indexOf(e.index)}));if(0===t.length)return"break";var o=Math.floor(r/t.length);if(0===o)return"break";t.forEach((function(t){var n=t.width-o;if(n<t.minWidth){var i=t.minWidth-n;n=t.minWidth,r=r-o+i}else r-=o;e=kN(kN({},e),{},{cols:[].concat(D()(e.cols.slice(0,t.index)),[kN(kN({},t),{},{width:n})],D()(e.cols.slice(t.index+1)))})}))};r>0;){var i=o();if("break"===i)break}return e}(r,o-t)),mN(r,t)}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IN(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var RN=function(e,t,n){return function(r){for(var o=ub.b.get(t),i={},a=0;a<o.width;a++)for(var c=0;c<o.height;c++){var s=e.cols[a].width,u=c*o.width+a,l=o.map[u],d=i[l]||MN({},t.nodeAt(l).attrs),f=d.colspan||1;if(d.colwidth&&d.colwidth.length>f&&(r=eN({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:d.colwidth,colspan:f}})(r),d.colwidth=d.colwidth.slice(0,f)),!c||o.map[u]!==o.map[u-o.width]){var p=1===f?0:a-o.colCount(l);if(!d.colwidth||d.colwidth[p]!==s){var h=d.colwidth?d.colwidth.slice():Array.from({length:f},(function(e){return 0}));h[p]=s,h.length>f&&(r=eN({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:h,colspan:f}})(r),h=h.slice(0,f)),i[l]=MN(MN({},d),{},{colwidth:h.includes(0)?void 0:h})}}}for(var m=[],v={},b=0;b<o.height;b++){for(var g=t.child(b),y=[],O=0;O<o.width;O++){var w=b*o.width+O,k=o.map[w],E=t.nodeAt(k);!v[k]&&E&&(y.push(E.type.createChecked(i[k]||E.attrs,E.content,E.marks)),v[k]=!0)}m.push(g.type.createChecked(g.attrs,y,g.marks))}var x=n-1,S=r.selection.getBookmark();return r.replaceWith(x,x+t.nodeSize,t.type.createChecked(t.attrs,m,t.marks)),r.setSelection(S.resolve(r.doc))}},NN=function(e,t){return function(n){if(!t||!_R(e.node))return n;var r=t.state,o=t.domAtPos.bind(t),i=o(e.start).node.closest("table");if(!i)return n;var a=yN(null==i?void 0:i.dataset.layout),c=DR({table:e.node,tableStart:e.start,state:r,layout:a}),s=pN({minWidth:En.d,table:e.node,start:e.start,tableRef:i,domAtPos:o,maxSize:c});return s.tableWidth-En.i<=c&&s.overflow&&(s=PN(s,c)),RN(s,e.node,e.start)(n)}};function DN(e){return function(t){var n=qb(t.selection);return n?t.step(WM.create(t.doc,n.pos,e)):t}}function LN(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(r){var o=r;o=t?DN(e)(o):sM(e)(o);var i=qb(o.selection);return i&&(o=NN(i,n)(o)),o}}var BN=function(e,t,n){if(!qb(e.selection))return!1;t&&t(LN(pb(e).left,jR(e),n)(e.tr));return!0},FN=function(e,t,n){if(!qb(e.selection))return!1;t&&t(LN(pb(e).right,jR(e),n)(e.tr));return!0},zN=function(e,t){return function(n,r){var o=$M(n.selection);if(0===e&&o)return!1;var i,a=o&&e>1||!o&&e>0?(i=n.schema,function(e){return function(t){var n=qb(t.selection);if(!n)return t;var r=ub.b.get(n.node),o=e-1;if(e<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(e>r.height)return t;for(var a=n.node,c=i.nodes.tableRow,s=r.cellsInRect({left:0,right:r.width,top:o,bottom:o+1}),u=o*r.width,l=e*r.width,d=r.map.slice(u,u+r.width),f=r.map.slice(l,l+r.width),p=[],h=[],m=0;m<d.length;){var v=d[m],b=v+n.start,g=t.doc.nodeAt(b);if(g){var y=rR(rR({},g.attrs),{},{colspan:1,rowspan:1}),O=g.type.createAndFill(y);if(!O)return t;if(f.indexOf(v)>-1)h.push({pos:b,node:g});else if(s.indexOf(v)>-1){if(g.attrs.colspan>1){var w=g.type.createAndFill(rR(rR({},y),{},{colspan:g.attrs.colspan}));if(!w)return t;p.push(w),m+=g.attrs.colspan;continue}p.push(O)}else p.push(O);m++}}h.forEach((function(e){t.setNodeMarkup(e.pos,void 0,rR(rR({},e.node.attrs),{},{rowspan:e.node.attrs.rowspan+1}))}));for(var k=a.child(o),E=n.start,x=0;x<e;x++)E+=a.child(x).nodeSize;return Object(Qi.safeInsert)(c.createChecked(k.attrs,p,k.marks),E)(t)}})(e)(n.tr):function(e,t){return function(n){var r=qb(n.selection);if(r){var o=ub.b.get(r.node),i=e-1;if(t&&i>=0)return cM(pM(i)(n));if(e>=0&&e<=o.height)return cM(dM(n,{map:o,tableStart:r.start,table:r.node},e))}return n}}(e)(n.tr),c=qb(a.selection);if(!c)return!1;if(r){var s=n.selection;if(t){var u=ub.b.get(c.node).positionAt(e,0,c.node);a.setSelection(dt.Selection.near(a.doc.resolve(c.start+u)))}else a.setSelection(s.map(a.doc,a.mapping));r(a)}return!0}},UN=function(){return function(e,t){var n=_I({schema:e.schema});return t&&t(Object(Qi.safeInsert)(n)(e.tr).scrollIntoView()),!0}};var HN=n(1203),WN=function(e,t){return function(n){if(e){var r=JP(t).cell.createAndFill();if(r&&!e.node.content.eq(r.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r.content),cM(n)}return n}},VN=function(e,t){var n=function(e){var t=aR(e),n=e.doc.type.schema.nodes.expand;if(t.range&&t.tableIsCollapsible)return e.wrap(t.range,[{type:n}]).setMeta("scrollIntoView",!0),e}(e.tr);return!!n&&(t&&t(n),!0)},qN=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return cM(e.delete(t.before(n),t.after(n)))}return e},GN=function(e){return function(t,n){return function(r){var o=qb(r.selection),i="row"===e;if(o){var a=ub.b.get(o.node);if(t>=0&&t<(i?a.height:a.width)){var c=i?0:t,s=i?t:0,u=i?a.width:t+1,l=i?t+1:a.height;if(n){var d=Gb(r.selection.$from);if(!d)return r;var f=a.findCell(d.pos-o.start);i?(s=Math.min(s,f.top),l=Math.max(l,f.bottom)):(c=Math.min(c,f.left),u=Math.max(u,f.right))}var p=a.cellsInRect({left:c,top:s,right:i?u:c+1,bottom:i?s+1:l}),h=l-s==1?p:a.cellsInRect({left:i?c:u-1,top:i?l-1:s,right:u,bottom:l}),m=o.start+p[0],v=o.start+h[h.length-1],b=r.doc.resolve(m),g=r.doc.resolve(v);return cM(r.setSelection(new Oa.a(g,b)))}}return r}}},KN=GN("column"),$N=GN("row"),YN=function(e){var t=qb(e.selection);if(t){var n=ub.b.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],i=e.doc.resolve(r),a=e.doc.resolve(o);return cM(e.setSelection(new Oa.a(a,i)))}}return e},XN=[[],[]],JN=function(e){return function(t){var n=t.decorationSet,r=t.tr;return YI(r.doc,n,e,Sn.d.COLUMN_RESIZING_HANDLE)}},ZN=function(e){return function(t){var n=t.decorationSet,r=t.tr;return YI(r.doc,n,e,Sn.d.LAST_CELL_ELEMENT)}},QN=function(e){return function(t){var n=t.tr,r=t.decorationSet,o=e<0?XN:function(e,t){var n=[[],[]],r=qb(e.selection);if(!r||!r.node)return n;var o=ub.b.get(r.node);if(!o.width)return n;for(var i=function(e,t,n,r,o){var i=document.createElement("div");i.classList.add(Sn.c.RESIZE_HANDLE_DECORATION),i.dataset.startIndex="".concat(e.left),i.dataset.endIndex="".concat(e.right);var a=r+o.nodeSize-1;return ft.a.widget(a,i,{key:"".concat(Sn.d.COLUMN_RESIZING_HANDLE,"_").concat(n,"_").concat(t)})},a=function(e,t,n){var r;return n.forEach((function(e,o,i){if(i===n.childCount-1){var a=o+t+1;r={from:a,to:a+e.nodeSize}}})),r?ft.a.node(r.from,r.to,{class:Sn.c.LAST_ITEM_IN_CELL},{key:"".concat(Sn.d.LAST_CELL_ELEMENT,"_").concat(e.left,"_").concat(e.right)}):null},c=[],s=[],u=0;u<o.height;u++)for(var l={},d=0;d<o.width;d++){var f=o.map[o.width*u+d];if(!l[f]){l[f]=!0;var p=r.start+f,h=e.doc.nodeAt(p);if(h){var m=d,v=(h.attrs.colspan||1)+m;if(v===t.right){var b=i({left:m,right:v},d,u,p,h),g=a({left:m,right:v},p,h);c.push(b),s.push(g)}}}}return[c,s.filter(wa.t)]}(n,{right:e}),i=mr()(o,2),a=i[0],c=i[1];return JI([JN(a),ZN(c)])({decorationSet:r,tr:n})}},eD=function(e,t,n){return YI(e.doc,oM(e),t,n)};function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rD,oD,iD=function(e){return xR({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}})},aD=function(e,t){return t&&t(qN(e.tr)),!0},cD=function(e,t){return!!tR(e.selection)&&aD(e,t)},sD=function(e,t){var n,r,o=e.selection.$cursor;if(!o||o.parentOffset>0)return!1;if(!VM(o.parent))for(var i=o.depth-1;!n&&i>=0&&(o.index(i)>0&&(r=o.before(i+1),n=o.node(i).child(o.index(i)-1)),!VM(o.node(i)));i--);if(!n||n.type!==e.schema.nodes.table)return!1;var a=o.node(o.depth-1),c=e.schema.nodes.listItem;if(o.parent.type!==e.schema.nodes.paragraph||a&&a.type!==e.schema.nodes.doc)return!(!a||a.type!==c)&&Qm()(e,t);var s=e.tr,u=(r||0)-4;s.setSelection(new dt.TextSelection(e.doc.resolve(u)));var l=s.selection.$from,d=l.start(-1)+l.parent.nodeSize-1;s.setSelection(new dt.TextSelection(e.doc.resolve(d)));var f=o.node(),p=e.doc.content.size,h=o.pos-1,m=o.pos+1;return 0===f.content.size&&o.pos+1!==p&&s.delete(h,m),t&&t(s),!0},uD=function(e,t){return xR((function(t){var n,r=HI(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(function(n){return $N(e,t)(n).setMeta("addToHistory",!1)}))},lD=function(e){return xR((function(t){return e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},dD=function(){return xR({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(function(e){return e.setMeta("addToHistory",!1)}))},fD=function(e,t){for(var n=[],r=ub.b.get(e),o=0;o<r.height;o++){for(var i=e.child(o),a=[],c=0;c<r.width;c++)if(t[o][c]){var s=r.map[o*r.width+c],u=t[o][c],l=e.nodeAt(s);if(u&&l){var d=l.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(d)}}n.push(i.type.createChecked(i.attrs,a,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},pD=function(e){for(var t=ub.b.get(e),n=[],r=0;r<t.height;r++){for(var o=[],i={},a=0;a<t.width;a++){var c=t.map[r*t.width+a],s=e.nodeAt(c),u=t.findCell(c);s&&!i[c]&&u.top===r?(i[c]=!0,o.push(s)):o.push(null)}n.push(o)}return n};function hD(e,t){if(!e)return null;var n=e.firstChild;if(!n)return null;switch(n.type.name){case"heading":case"paragraph":return hD(n,t);case"inlineCard":var r=n.attrs,o=t.getInlineCardTextFromStore(r);if(o)return{type:oD.LINK,value:o};var i=r.url;return{type:oD.LINK,value:i||""};case"text":if(function(e){var t=e.marks.filter((function(e){return"link"===e.type.name}));return mr()(t,1)[0]||null}(n)){var a=n.text||"";return{type:oD.LINK,value:a}}var c=n.text||"",s=c.indexOf(" "),u=-1!==s?c.substring(0,s):c,l=Number.parseFloat(u);return Number.isNaN(l)?{type:oD.TEXT,value:u}:{type:oD.NUMBER,value:l};case"status":var d=n.attrs.text;return{type:oD.STATUS,value:d};case"date":var f=Number.parseInt(n.attrs.timestamp,20);return{type:oD.DATE,value:f};case"mention":var p=n.attrs.text||"";return{type:oD.MENTION,value:p.toLowerCase()};default:return null}}!function(e){e.ASC="asc",e.DESC="desc",e.NO_ORDER="no_order"}(rD||(rD={})),function(e){e[e.NUMBER=0]="NUMBER",e[e.TEXT=5]="TEXT",e[e.MENTION=10]="MENTION",e[e.DATE=15]="DATE",e[e.STATUS=20]="STATUS",e[e.LINK=25]="LINK"}(oD||(oD={}));var mD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rD.ASC;return function(n,r){var o=hD(n,e),i=hD(r,e);return null===o||null===i?vD(o,i):(t===rD.DESC?-1:1)*vD(o,i)}};function vD(e,t){return e===t?0:null===e||null===t?null===t?-1:1:e.type!==t.type?e.type>t.type?1:-1:(n=e.value,r=t.value,n===r?0:"string"==typeof n&&"string"==typeof r?n.localeCompare(r,window.navigator.language,{caseFirst:"upper"}):n>r?1:-1);var n,r}var bD,gD=new dt.PluginKey("cardPlugin");function yD(e){var t=gD.getState(e);return t?function(e){var n=e.url;if(n){var r=t.cards.find((function(e){return e.url===n}));if(r&&r.title)return r.title}return null}:function(){return null}}!function(e){e.ASC="asc",e.DESC="desc"}(bD||(bD={}));function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kD(e){return function(t,n){var r,o,i=t.selection;if(i instanceof Oa.a){if(i.$anchorCell.pos!==i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;var a=Object(lb.a)(i.$from);o=a&&a.pos}if(r&&1===r.attrs.colspan&&1===r.attrs.rowspan)return!1;if(r&&n){var c=r.attrs,s=[],u=c.colwidth;c.rowspan&&c.rowspan>1&&(c=wD(wD({},c),{},{rowspan:1})),c.colspan&&c.colspan>1&&(c=wD(wD({},c),{},{colspan:1}));for(var l=pb(t),d=t.tr,f=0;f<l.right-l.left;f++)s.push(u?wD(wD({},c),{},{colwidth:u&&u[f]?[u[f]]:null}):c);for(var p=null,h=l.top;h<l.bottom;h++){var m=l.map.positionAt(h,l.left,l.table);h===l.top&&(m+=r.nodeSize);for(var v=l.left,b=0;v<l.right;v++,b++)if(v!==l.left||h!==l.top){var g=e({node:r,row:h,col:v}).createAndFill(s[b]);g&&d.insert(p=d.mapping.map(m+l.tableStart,1),g)}}"number"==typeof o&&d.setNodeMarkup(o,e({node:r,row:l.top,col:l.left}),s[0]);var y=p&&d.doc.resolve(p);i instanceof Oa.a&&y instanceof ya.ResolvedPos&&d.setSelection(new Oa.a(d.doc.resolve(i.$anchorCell.pos),y)),n(d)}return!0}}var ED=function(e,t){var n=SR(e),r=e.schema.nodes,o=r.tableHeader,i=r.tableCell;return!t||kD((function(e){var t=e.row,r=e.col;return 0===t&&n.isHeaderRowEnabled||0===r&&n.isHeaderColumnEnabled?o:i}))(e,t)};function xD(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,bottom:"column"===e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function SD(e){return function(t,n){if(!Object(ZP.b)(t))return!1;if(n){var r,o=JP(t.schema),i=pb(t),a=t.tr,c=xD("row",i,o),s=xD("column",i,o),u=("column"===e?c:"row"===e&&s)?1:0,l="column"===e?new ub.a(0,u,1,i.map.height):"row"===e?new ub.a(u,0,i.map.width,1):i;r="column"===e?s?o.cell:o.header_cell:"row"===e?c?o.cell:o.header_cell:o.cell,i.map.cellsInRect(l).forEach((function(e){var t=e+i.tableStart,n=a.doc.nodeAt(t);n&&a.setNodeMarkup(t,r,n.attrs)})),n(a)}return!0}}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TD=function(e){switch(e){case"default":return"wide";case"wide":return"full-width";case"full-width":default:return"default"}},_D=function(e,t){return SD("row")(e,(function(n){return xR({type:"TOGGLE_HEADER_ROW"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},AD=function(e,t){return SD("column")(e,(function(n){return xR({type:"TOGGLE_HEADER_COLUMN"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},PD=function(e,t){var n=e.tr,r=qb(e.selection),o=r.node,i=r.pos;return n.setNodeMarkup(i,e.schema.nodes.table,CD(CD({},o.attrs),{},{isNumberColumnEnabled:!o.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),t&&t(n),!0},ID=function(e,t){var n=qb(e.selection);if(!n)return!1;var r=TD(n.node.attrs.layout);return xR({type:"SET_TABLE_LAYOUT",data:{layout:r}},(function(t){return t.setNodeMarkup(n.pos,e.schema.nodes.table,CD(CD({},n.node.attrs),{},{layout:r})),t.setMeta("scrollIntoView",!1)}))(e,t)},MD=function(){return xR({type:"TOGGLE_CONTEXTUAL_MENU"},(function(e){return e.setMeta("addToHistory",!1)}))},RD=function(e,t,n){return function(r,o){if(!e)return!1;var i,a=t.node,c=t.start,s=t.parentWidth;if(!1===_R(a))return TR(e,a),!1;if(i=s?function(e,t,n,r,o){var i=pN({minWidth:En.d,maxSize:t,table:n,tableRef:e,start:r,domAtPos:o});return n.attrs.isNumberColumnEnabled&&(t-=he.P),PN(i,Math.floor(t))}(e,s,a,c,n):AN(e,t,n)){var u=r.tr;if((u=RN(i,a,c)(u)).docChanged&&o)return u.setMeta("scrollIntoView",!1),u.setMeta("scaleTable",!0),o(u),!0}return!1}},ND=function(e){return XE({type:"STOP_RESIZING"},(function(t){return(e||t).setMeta("scrollIntoView",!1)}))},DD=function(e,t){return XE({type:"SET_LAST_CLICK",data:{lastClick:e}},t)};function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FD(e){var t=e.selection;if(!(t instanceof Oa.a)||t.$anchorCell.pos===t.$headCell.pos)return!1;var n=UI(t);if(!n)return!1;var r=t.$anchorCell.node(-1);return!function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,c=(t.bottom-1)*n+t.left,s=i+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(t.left>0&&o[a]===o[a-1]||t.right<n&&o[s]===o[s+1])return!0;a+=n,s+=n}for(var l=t.left;l<t.right;l++){if(t.top>0&&o[i]===o[i-n]||t.bottom<r&&o[c]===o[c+n])return!0;i++,c++}return!1}(ub.b.get(r),n)}function zD(e){var t=e.content;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function UD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=BD(BD({},e),{},{colspan:(e.colspan||1)+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function HD(e){var t=ub.b.get(e),n=function(e){for(var t=ub.b.get(e),n=[],r=t.width-1;r>=0;r--){var o=t.cellsInRect({left:r,right:r+1,top:0,bottom:t.height});if(o.length){var i=o.map((function(t){var n=e.nodeAt(t);if(n)return n.attrs.colspan})),a=Math.min.apply(Math,D()(i));n[r+1]?n[r]=1:n[r]=a}}return n}(e);if(!n.some((function(e){return e>1})))return e;for(var r=[],o=function(o){var i={},a=Object.keys(n).map(Number);for(var c in a){var s=a[c],u=t.map[s+o*t.width],l=t.findCell(u),d=i[l.left]||e.nodeAt(u);if(d&&l.top===o)if(n[s]>1){var f=d.attrs.colspan-n[s]+1;if(f<1)return{v:null};var p=d.attrs.colwidth,h=d.type.createChecked(BD(BD({},d.attrs),{},{colspan:f,colwidth:p?p.slice(0,f):null}),d.content,d.marks);i[l.left]=h}else i[l.left]=d}var m=Object.keys(i).map((function(e){return i[e]})),v=e.child(o);v&&r.push(v.type.createChecked(v.attrs,m,v.marks))},i=0;i<t.height;i++){var a=o(i);if("object"===gt()(a))return a.v}return r.length?e.type.createChecked(e.attrs,r,e.marks):null}function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qD=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=qb(n.selection);if(!r)return n;for(var o=[],i=ub.b.get(r.node),a=e.top;a<e.bottom;a++)if(t){var c=r.node.nodeAt(i.map[a*i.width]);c&&c.type!==c.type.schema.nodes.tableHeader&&o.push(a)}else o.push(a);if(!o.length)return n;for(var s=[],u={},l={},d=function(e){for(var t=[],n=r.node.child(e),a=function(n){var a=i.map[e*i.width+n],c=r.node.nodeAt(a);if(!c)return"continue";var s=i.cellsInRect({left:0,top:e,right:i.width,bottom:e+1});if(-1!==o.indexOf(e)||u[a])s.indexOf(a)>-1&&(l[a]=!0);else{if(s.indexOf(a)>-1){var d=0;if(o.forEach((function(t){e<t&&c.attrs.rowspan+e-1>=t&&(d+=1)})),d>0){var f=c.type.createChecked(VD(VD({},c.attrs),{},{rowspan:c.attrs.rowspan-d}),c.content,c.marks);return t.push(f),u[a]=!0,"continue"}}else if(l[a]){var p=VD(VD({},c.attrs),{},{colspan:1,rowspan:1});if(c.attrs.colwidth){var h=n>0?n-i.colCount(a):0;p.colwidth=c.attrs.colwidth.slice().splice(h,1)}var m=c.type.createChecked(p,c.type.schema.nodes.paragraph.createChecked(),c.marks);return t.push(m),"continue"}u[a]||(u[a]=!0,t.push(c))}},c=0;c<i.width;c++)a(c);t.length&&s.push(n.type.createChecked(n.attrs,t,n.marks))},f=0;f<i.height;f++)d(f);if(!s.length)return eN({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);var p=r.node.type.createChecked(r.node.attrs,s,r.node.marks),h=HD(p);if(null===h)return eN({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);var m=GD(p,o);return eN({type:"DELETE_ROWS"})(n.replaceWith(r.pos,r.pos+r.node.nodeSize,h).setSelection(dt.Selection.near(n.doc.resolve(r.pos+m))))}};function GD(e,t){var n=Math.min.apply(Math,D()(t)),r=n>0?n-1:0,o=ub.b.get(e);return o.map[r*o.width]}function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JD=function(e){return function(t){var n=qb(t.selection);if(!n)return t;!function(e,t,n,r){var o=e.mapping.maps.length,i=e.doc.nodeAt(t);if(!i)return e;for(var a=e.doc.resolve(t).start(1),c=ub.b.get(i),s=n;s<r;s++)for(var u=0;u<c.height;u++){var l=u*c.width+s,d=c.map[l],f=s>0&&c.map[l-1]===d||u>0&&c.map[(u-1)*c.width+s]===d,p=s<c.width-1&&c.map[l+1]===d||u<c.height-1&&c.map[(u+1)*c.width+s]===d;if(!f&&p){var h=i.nodeAt(d);if(!h)continue;for(var m=h.attrs,v=m.colwidth,b=m.colspan,g=void 0===b?1:b,y=m.rowspan,O=void 0===y?1:y,w=e.mapping.slice(o),k=$D($D({},h.attrs),{},{colspan:1,rowspan:1}),E=u;E<u+O;E++)for(var x=0;x<g;x++){var S=e.mapping.slice(o),j=c.positionAt(E,s+x,i);e.insert(S.map(j+a),h.type.createAndFill($D($D({},k),{},{colwidth:v?[v[x]]:void 0})))}w=e.mapping.slice(o),e.delete(w.map(d+a),w.map(d+a+h.nodeSize)),O&&O>1&&(u+=O-1)}}}(t,n.pos,e.left,e.right);for(var r=t.mapping.maps.length,o=t.doc,i=[],a=e.left;a<e.right;a++){var c=WM.create(o,n.pos,a,!0);i.push(a),t.step(c.map(t.mapping.slice(r)))}var s=t.mapping.mapResult(n.pos);if(s.deleted){var u=Math.min(s.pos,t.doc.nodeSize-1);t.setSelection(dt.Selection.near(t.doc.resolve(u)))}else{var l=t.doc.nodeAt(s.pos);if(l){var d=QD(l,i);t.setSelection(dt.Selection.near(t.doc.resolve(n.pos+d)))}}return t}},ZD=function(e){return function(t){var n=qb(t.selection);if(!n)return t;for(var r=[],o=e.left;o<e.right;o++)r.push(o);if(!r.length)return t;for(var i=ub.b.get(n.node),a=[],c={},s={},u=0;u<i.height;u++){for(var l=[],d=n.node.child(u),f=function(e){var t=i.map[u*i.width+e],o=n.node.nodeAt(t);if(!o)return"continue";var a=i.cellsInRect({left:e,top:0,right:e+1,bottom:i.height});if(-1===r.indexOf(e)){if(a.indexOf(t)>-1&&!c[t]){var d=0;if(r.forEach((function(t){e<t&&o.attrs.colspan+e-1>=t&&(d+=1)})),d>0){var f=XD(XD({},o.attrs),{},{colspan:o.attrs.colspan-d});if(o.attrs.colwidth){var p=Math.min.apply(Math,r),h=p>0?p-i.colCount(t):0,m=o.attrs.colwidth.slice()||[];m.splice(h,d),f.colwidth=m}var v=o.type.createChecked(f,o.content,o.marks);return l.push(v),c[t]=!0,"continue"}}else if(s[t]){var b=XD(XD({},o.attrs),{},{colspan:1,rowspan:1});if(o.attrs.colwidth){var g=e>0?e-i.colCount(t):0;b.colwidth=o.attrs.colwidth.slice().splice(g,1)}var y=o.type.createChecked(b,o.type.schema.nodes.paragraph.createChecked(),o.marks);return l.push(y),"continue"}c[t]||(c[t]=!0,l.push(o))}else a.indexOf(t)>-1&&(s[t]=!0)},p=0;p<i.width;p++)f(p);l.length&&a.push(d.type.createChecked(d.attrs,l,d.marks))}if(!a.length)return eN({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);var h=n.node.type.createChecked(n.node.attrs,a,n.node.marks),m=function(e){var t=ub.b.get(e),n=function(e){for(var t=[],n=0;n<e.childCount;n++){for(var r=[],o=e.child(n),i=0;i<o.childCount;i++){var a=o.child(i);r.push(a.attrs.rowspan)}t[n]=Math.min.apply(Math,r)}return t}(e);if(!n.some((function(e){return e>1})))return e;for(var r=[],o=0;o<t.height;o++){var i=e.child(o);if(1===n[o])r.push(i);else{for(var a=[],c=0;c<i.childCount;c++){var s=i.child(c),u=s.attrs.rowspan-n[o]+1;if(u<1)return null;var l=s.type.createChecked(XD(XD({},s.attrs),{},{rowspan:u}),s.content,s.marks);a.push(l)}r.push(i.type.createChecked(i.attrs,a,i.marks))}}if(!r.length)return null;return e.type.createChecked(e.attrs,r,e.marks)}(h);if(null===m)return eN({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);var v=QD(h,r);return eN({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,m).setSelection(dt.Selection.near(t.doc.resolve(n.pos+v))))}};function QD(e,t){var n=Math.min.apply(Math,D()(t)),r=n>0?n-1:0;return ub.b.get(e).map[r]}var eL=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return t?JD(e)(n):ZD(e)(n)}};function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rL={default:HN.b.NORMAL,wide:HN.b.WIDE,"full-width":HN.b.FULL_WIDTH},oL=function(e,t){return Object(Ot.c)((function(t){var n=lN(t.selection),r=n.horizontalCells,o=n.verticalCells,i=n.totalRowCount,a=n.totalColumnCount;return{action:HN.a.CLEARED,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:r,verticalCells:o,totalRowCount:i,totalColumnCount:a},eventType:wt.e.TRACK}}))(function(e){return function(t,n){var r,o=t.tr;if(db(o.selection,"cell")){var i=o.selection;i.forEachCell((function(e,n){var r=o.doc.resolve(o.mapping.map(n+1));o=WN(Gb(r),t.schema)(o)})),r=i.$headCell.pos}else if(e){var a=Gb(o.doc.resolve(e+1));o=WN(a,t.schema)(o),r=a.pos}if(o.docChanged&&r){var c=o.doc.resolve(o.mapping.map(r)),s=dt.Selection.findFrom(c,1,!0);return s&&o.setSelection(s),n&&n(o),!0}return!1}}(t))},iL=function(){return Object(Ot.c)((function(e){var t=lN(e.selection),n=t.horizontalCells,r=t.verticalCells,o=t.totalCells,i=t.totalRowCount,a=t.totalColumnCount;return{action:HN.a.MERGED,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:n,verticalCells:r,totalCells:o,totalRowCount:i,totalColumnCount:a},eventType:wt.e.TRACK}}))((function(e,t){return t&&t(function(e){var t=e.selection;if(!(t instanceof Oa.a&&FD(e)))return e;for(var n,r=UI(t),o=qb(t),i=ub.b.get(o.node),a=[],c=i.cellsInRect(r),s=[],u=0;u<i.height;u++){for(var l=[],d=o.node.child(u),f=0;f<i.width;f++){var p=i.map[u*i.width+f],h=o.node.nodeAt(p);if(h&&!(a.indexOf(p)>-1))if(a.push(p),f===r.left&&u===r.top){n=p;for(var m=zD(h)?ya.Fragment.empty:h.content,v=[n],b=r.top;b<r.bottom;b++)for(var g=r.left;g<r.right;g++){var y=i.map[b*i.width+g];if(-1===v.indexOf(y)){v.push(y);var O=o.node.nodeAt(y);O&&!zD(O)&&(m=m.append(O.content))}}var w=r.bottom-r.top;if(w<1)return eN({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);var k=UD(BD(BD({},h.attrs),{},{rowspan:w}),h.attrs.colspan,r.right-r.left-h.attrs.colspan),E=m===ya.Fragment.empty?h.type.createAndFill(k,m,h.marks):h.type.createChecked(k,m,h.marks);l.push(E)}else-1===c.indexOf(p)&&l.push(h)}if(l.length)s.push(d.type.createChecked(d.attrs,l,d.marks));else for(var x=s.length-1;x>=0;x--){for(var S=s[x],j=[],C=!1,T=0;T<S.childCount;T++){var _=S.child(T),A=_.attrs.rowspan;if(A&&A+x-1>=s.length){if(C=!0,A<2)return eN({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);j.push(_.type.createChecked(BD(BD({},_.attrs),{},{rowspan:A-1}),_.content,_.marks))}else j.push(_)}C&&(s[x]=d.type.createChecked(S.attrs,j,S.marks))}}if(!s.length)return eN({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);var P=HD(o.node.type.createChecked(o.node.attrs,s,o.node.marks));return null===P?eN({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):eN({type:"MERGE_CELLS"})(e.replaceWith(o.pos,o.pos+o.node.nodeSize,P).setSelection(dt.Selection.near(e.doc.resolve((n||0)+o.start))))}(e.tr)),!0}))},aL=function(){return Object(Ot.c)((function(e){var t=e.selection,n=lN(t),r=n.totalRowCount,o=n.totalColumnCount,i=Gb(t.$anchor);if(i){var a=i.node.attrs,c=a.rowspan,s=a.colspan;return{action:HN.a.SPLIT,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{horizontalCells:s,verticalCells:c,totalCells:s*c,totalRowCount:r,totalColumnCount:o},eventType:wt.e.TRACK}}}))(ED)},cL=function(e,t){return Object(Ot.c)((function(t){var n=lN(t.selection),r=n.horizontalCells,o=n.verticalCells,i=n.totalCells,a=n.totalRowCount,c=n.totalColumnCount;return{action:HN.a.COLORED,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{cellColor:(AI.f.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:r,verticalCells:o,totalCells:i,totalRowCount:a,totalColumnCount:c},eventType:wt.e.TRACK}}))(function(e,t){return function(n,r){var o,i=n.tr;if(db(i.selection,"cell")){var a=i.selection;a.forEachCell((function(t,n){var r=i.doc.resolve(i.mapping.map(n+1));i=fM(Gb(r),e)(i)})),o=a.$headCell.pos}else if(t){var c=Gb(i.doc.resolve(t+1));i=fM(c,e)(i),o=c.pos}if(i.docChanged&&void 0!==o){var s=i.doc.resolve(i.mapping.map(o));return r&&r(i.setSelection(dt.Selection.near(s))),!0}return!1}}({background:e},t))},sL=function(e){return function(t,n){var r=t.selection,o=r instanceof Oa.a,i=o?UI(r):Kb(r.$from);if(!i)return!1;var a=o&&"TOP"===e?i.top:i.bottom-1,c="BOTTOM"===e?1:0;return uL(wt.f.SHORTCUT,{index:a+c,moveCursorToInsertedRow:!1})(t,n)}},uL=function(e,t){return Object(Ot.c)((function(n){var r=uN(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:HN.a.ADDED_ROW,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.index,totalRowCount:o,totalColumnCount:i},eventType:wt.e.TRACK}}))(zN(t.index,t.moveCursorToInsertedRow))},lL=function(e,t){return Object(Ot.c)((function(n){var r=uN(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:HN.a.ADDED_COLUMN,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,totalColumnCount:i},eventType:wt.e.TRACK}}))((n=t,function(e,t,r){var o=LN(n,jR(e),r)(e.tr),i=qb(o.selection);if(!i)return!1;var a=ub.b.get(i.node).positionAt(0,n,i.node);return t&&t(o.setSelection(dt.Selection.near(o.doc.resolve(i.start+a)))),!0}));var n},dL=function(e,t,n){return Object(Ot.c)((function(n){var r=uN(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:HN.a.DELETED_ROW,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:o,totalColumnCount:i},eventType:wt.e.TRACK}}))((function(e,r){return r&&r(qD(t,n)(e.tr)),!0}))},fL=function(e,t){return Object(Ot.c)((function(n){var r=uN(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:HN.a.DELETED_COLUMN,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:o,totalColumnCount:i},eventType:wt.e.TRACK}}))((function(e,n){return n&&n(eL(t,jR(e))(e.tr)),!0}))},pL=function(e,t){var n=uN(e),r=n.totalRowCount,o=n.totalColumnCount;return{action:HN.a.DELETED,actionSubject:wt.b.TABLE,attributes:{inputMethod:t,totalRowCount:r,totalColumnCount:o},eventType:wt.e.TRACK}},hL=function(){return Object(Ot.c)((function(e){var t=uN(e.selection),n=t.table,r=t.totalRowCount,o=t.totalColumnCount;if(n){var i=n.node.attrs.layout;return{action:HN.a.CHANGED_BREAKOUT_MODE,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:rL[TD(i)],previousBreakoutMode:rL[i],totalRowCount:r,totalColumnCount:o},eventType:wt.e.TRACK}}}))(ID)},mL=function(e,t,n){return Object(Ot.c)((function(r){var o=uN(r.selection),i=o.totalRowCount,a=o.totalColumnCount;return{action:HN.a.SORTED_COLUMN,actionSubject:wt.b.TABLE,attributes:{inputMethod:e,totalRowCount:i,totalColumnCount:a,position:t,sortOrder:n,mode:"editor"},eventType:wt.e.TRACK}}))(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bD.DESC;return xR((function(n){return{type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}}}),(function(n,r){var o=qb(n.selection);if(!o||!o.node)return n;var i=db(n.selection,"cell")?UI(n.selection):Kb(n.selection.$from);if(!i)return n;var a,c=SR(r),s=pD(o.node);c.isHeaderRowEnabled&&(a=s.shift());var u=mD({getInlineCardTextFromStore:yD(r)},t),l=s.sort((function(t,n){return u(t[e],n[e])}));a&&l.unshift(a);var d=fD(o.node,l);n.replaceWith(o.pos,o.pos+o.node.nodeSize,d);var f=ub.b.get(o.node).positionAt(i.top,e,o.node),p=c.ordering,h={columnIndex:e,order:t};return n.step(new uR(o.pos,p,h)),n.setSelection(dt.Selection.near(n.doc.resolve(o.start+f)))}))}(t,n))},vL=function(e,t){var n=t.resizeState,r=t.table,o=t.attributes;return Object(Ot.c)((function(){return{action:HN.a.DISTRIBUTED_COLUMNS_WIDTHS,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:nL({inputMethod:e},o),eventType:wt.e.TRACK}}))((function(e,t){return t&&function(e,t){return function(n,r){if(r){var o=RN(e,t.node,t.start)(n.tr);ND(o)(n,r)}return!0}}(n,r)(e,t),!0}))},bL=function(e){return function(t,n){var r=qb(t.selection);if(!r)return!1;var o=ub.b.get(r.node),i=t.schema.nodes,a=i.tableCell,c=i.tableHeader,s=Object(Qi.findParentNodeOfType)([a,c])(t.selection),u=o.positionAt(0,0,r.node)+r.start,l=o.positionAt(o.height-1,o.width-1,r.node)+r.start;return u===s.pos&&-1===e?(uL(wt.f.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(t,n),!0):l===s.pos&&1===e?(uL(wt.f.KEYBOARD,{index:o.height,moveCursorToInsertedRow:!0})(t,n),!0):!n||function(e){return function(t,n){if(!Object(ZP.b)(t))return!1;var r=fb(t.selection);if(!r)return!1;var o,i,a=function(e,t){if(-1===t){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount&&i.lastChild)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),c=e.indexAfter(-1),s=e.after();c<a.childCount;c++){var u=a.child(c);if(u.childCount)return s+1;s+=u.nodeSize}}}(r,e);if(void 0===a)return!1;if(n){var c=t.doc.resolve(a);n(t.tr.setSelection(dt.TextSelection.between(c,(o=c,i=o.nodeAfter?o.nodeAfter.nodeSize:0,o.node(0).resolve(o.pos+i)))).scrollIntoView())}return!0}}(e)(t,n)}};function gL(){var e,t,n={};return nu.bindKeymapWithCommand(nu.nextCell.common,bL(1),n),nu.bindKeymapWithCommand(nu.previousCell.common,bL(-1),n),nu.bindKeymapWithCommand(nu.toggleTable.common,Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.TABLE,attributes:{inputMethod:wt.f.SHORTCUT},eventType:wt.e.TRACK})(UN()),n),nu.bindKeymapWithCommand(nu.backspace.common,Object(hm.c)((e=wt.f.KEYBOARD,Object(Ot.c)((function(t){var n=t.selection;return pL(n,e)}))(cD)),oL(wt.f.KEYBOARD)),n),nu.bindKeymapWithCommand(nu.backspace.common,sD,n),nu.bindKeymapWithCommand(nu.addRowBefore.common,sL("TOP"),n),nu.bindKeymapWithCommand(nu.addRowAfter.common,sL("BOTTOM"),n),nu.bindKeymapWithCommand(nu.addColumnBefore.common,(t=BN,function(e,n,r){var o=e.selection,i=e.schema.nodes.tableHeader;if(o instanceof dt.TextSelection){var a=Gb(o.$from);if(a&&a.node.type!==i)return t(e,n,r)}if(o instanceof Oa.a){var c=UI(o);if(!$M(o)||c&&c.top>0)return t(e,n,r)}return!1}),n),nu.bindKeymapWithCommand(nu.addColumnAfter.common,FN,n),dp(n)}var yL;!function(e){e.TopToBottom="TopToBottom",e.BottomToTop="BottomToTop"}(yL||(yL={}));var OL=function(e,t){var n=e.selection;return n instanceof Oa.a?kL(n)(e,t):n instanceof ra.a?xL(n)(e,t):n instanceof dt.TextSelection&&jL(n)(e,t)},wL=function(e,t){var n=e.selection;return n instanceof Oa.a?EL(n)(e,t):n instanceof ra.a?SL(n)(e,t):n instanceof dt.TextSelection&&CL(n)(e,t)},kL=function(e){return function(t,n){if(tR(t.selection)){var r=Og(t).selectionRelativeToNode;if(r===hb.Start)return PL()(t,n);if(r===hb.End)return AL(e)(t,n);if(void 0===r)return _L(e,hb.Before)(t,n)}return!1}},EL=function(e){return function(t,n){if(tR(t.selection)){var r=Og(t).selectionRelativeToNode;if(r===hb.Start)return _L(e)(t,n);if(r===hb.End||void 0===r)return IL()(t,n)}return!1}},xL=function(e){return function(t,n){var r=t.doc,o=e.$from,i=e.from,a=e.side;if(a===ra.c.RIGHT){if(o.nodeBefore&&"table"===o.nodeBefore.type.name)return TL({node:o.nodeBefore,startPos:r.resolve(i-1).start(o.depth+1),dir:yL.TopToBottom})(t,n)}else if(a===ra.c.LEFT){var c=qb(e);if(c&&ML(o,e))return Og(t).selectionRelativeToNode===hb.Before?PL()(t,n):TL({node:c.node,startPos:c.start,dir:yL.BottomToTop})(t,n)}return!1}},SL=function(e){return function(t,n){var r=e.$from,o=e.from,i=e.$to,a=e.side;if(a===ra.c.LEFT){if(r.nodeAfter&&"table"===r.nodeAfter.type.name)return TL({node:r.nodeAfter,startPos:o+1,dir:yL.BottomToTop})(t,n)}else if(a===ra.c.RIGHT){var c=qb(e);if(c&&RL(i,e))return TL({node:c.node,startPos:c.start,dir:yL.TopToBottom})(t,n)}return!1}},jL=function(e){return function(t,n){var r=qb(e);if(r){var o=e.$from;if(ML(o,e)&&"paragraph"===o.parent.type.name&&o.depth===r.depth+3)return Og(t).selectionRelativeToNode===hb.Before?PL()(t,n):TL({node:r.node,startPos:r.start,dir:yL.BottomToTop})(t,n)}return!1}},CL=function(e){return function(t,n){var r=qb(e);if(r){var o=e.$to;if(RL(o,e)&&"paragraph"===o.parent.type.name&&o.depth===r.depth+3)return TL({node:r.node,startPos:r.start,dir:yL.TopToBottom})(t,n)}return!1}},TL=function(e){var t=e.node,n=e.startPos,r=e.dir;return function(e,o){var i,a,c=e.doc,s=ub.b.get(t).map,u=c.resolve(n+s[0]),l=c.resolve(n+s[s.length-1]);return r===yL.TopToBottom?(i=new Oa.a(u,l),a=hb.End):(i=new Oa.a(l,u),a=hb.Start),kg(a,i)(e,o)}},_L=function(e,t){return function(n,r){var o=e.$anchorCell,i=e.$headCell,a=o.pos<i.pos?o:i,c=n.doc.resolve(a.pos+1),s=ra.a.valid(c)?new ra.a(c,ra.c.LEFT):dt.Selection.findFrom(c,1);return kg(t,s)(n,r)}},AL=function(e,t){return function(n,r){var o=e.$anchorCell,i=e.$headCell,a=o.pos>i.pos?o:i,c=a.pos+(a.nodeAfter?a.nodeAfter.content.size:0)+1,s=n.doc.resolve(c),u=ra.a.valid(s)?new ra.a(s,ra.c.RIGHT):dt.Selection.findFrom(s,-1);return kg(t,u)(n,r)}},PL=function(){return function(e,t){var n=qb(e.selection);if(n){var r=e.doc.resolve(n.pos);if(ra.a.valid(r)){var o=new ra.a(r,ra.c.LEFT);return kg(void 0,o)(e,t)}}return!1}},IL=function(){return function(e,t){var n=qb(e.selection);if(n){var r=e.doc.resolve(n.pos+n.node.nodeSize);if(ra.a.valid(r)){var o=new ra.a(r,ra.c.RIGHT);return kg(void 0,o)(e,t)}}return!1}},ML=function(e,t){return Object(Kv.c)(e,qb(t))},RL=function(e,t){return Object(Kv.b)(e,qb(t))};function NL(){var e={};return Object(nu.bindKeymapWithCommand)(nu.moveRight.common,wL,e),Object(nu.bindKeymapWithCommand)(nu.moveLeft.common,OL,e),dp(e)}var DL=function(e){var t=qb(e.selection);if(!t)return[];var n=ub.b.get(t.node),r=new Set,o=[];return n.map.forEach((function(e){r.has(e)?o.push(e):r.add(e)})),o},LL=function(e){return Array.from(Array(e).keys())},BL=function(){return xR((function(e){var t=DL(e.tr);if(!t.length)return!1;var n=qb(e.tr.selection);if(!n)return!1;var r=t.map((function(e){return{pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}})),o=r.map((function(e){return ft.a.node(e.pos,e.pos+e.node.nodeSize,{class:Sn.c.HOVERED_CELL_WARNING},{key:Sn.d.CELL_CONTROLS_HOVER})}));return{type:"HOVER_CELLS",data:{decorationSet:eD(e,o,Sn.d.CELL_CONTROLS_HOVER)}}}),(function(e){return e.setMeta("addToHistory",!1)}))},FL=function(e,t){return xR((function(n){var r=rN(e)(n.selection);if(!r)return!1;var o=GI(r,"column",t);return{type:"HOVER_COLUMNS",data:{decorationSet:eD(n,o,Sn.d.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},zL=function(e,t){return xR((function(n){var r=HI(e)(n.selection);if(!r)return!1;var o=GI(r,"row",t);return{type:"HOVER_ROWS",data:{decorationSet:eD(n,o,Sn.d.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},UL=function(e,t){return xR((function(n){var r=qb(n.selection);if(!r)return!1;var o=ub.b.get(r.node),i=LL(o.width),a=LL(o.height),c=HI(a)(n.selection);if(!c)return!1;var s=GI(c,"table",e,t);return{type:"HOVER_TABLE",data:{decorationSet:eD(n,s,Sn.d.TABLE_CONTROLS_HOVER),hoveredColumns:i,hoveredRows:a,isInDanger:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},HL=function(){return xR((function(e){return{type:"CLEAR_HOVER_SELECTION",data:{decorationSet:eD(e,[],Sn.d.ALL_CONTROLS_HOVER)}}}))},WL=".".concat(Sn.c.TABLE_CELL,", .").concat(Sn.c.TABLE_HEADER_CELL),VL=function(e){return Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!Object(Zi.b)(e,".".concat(Sn.c.TABLE_HEADER_CELL))||!!Object(Zi.b)(e,".".concat(Sn.c.TABLE_CELL))))},qL=function(e){return[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)]},GL=function(e){return Object(Zi.c)(e,Sn.c.COLUMN_CONTROLS_DECORATIONS)},KL=function(e){return Object(Zi.c)(e,Sn.c.ROW_CONTROLS_BUTTON)||Object(Zi.c)(e,Sn.c.NUMBERED_COLUMN_BUTTON)},$L=function(e){return Object(Zi.c)(e,Sn.c.RESIZE_HANDLE_DECORATION)},YL=function(e,t,n,r){var o=e.target;if(o instanceof HTMLElement){var i,a,c=o.closest(WL);if(t){var s,u,l,d=null!==(s=null==c?void 0:c.id)&&void 0!==s?s:"";i=null!==(u=null==n||null===(l=n[d])||void 0===l?void 0:l.width)&&void 0!==u?u:0,a=e.offsetX}else{var f=o.getBoundingClientRect();i=f.width;var p=f.left;a=e.clientX-p}if(i<=0)return null;if(!r)return a/i>.5?"right":"left";if(a<=r)return"left";if(a>=i-r)return"right"}return null},XL=function(e){var t=e.target;if(t instanceof HTMLElement){var n=t.getBoundingClientRect();return n.height<=0?null:(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},JL=function(e){if(e){var t=e.offsetHeight+jn.G,n=Array.from(e.querySelectorAll(".".concat(Sn.c.RESIZE_HANDLE)));n&&n.length&&n.forEach((function(e){e.style.height="".concat(t,"px")}))}},ZL=function(e,t){var n=e.state,r=e.dispatch;return 11===xe.a.ie_version||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label")}(t)||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="dialog"]')}(t)||iD(!1)(n,r),t.preventDefault(),!1},QL=function(e,t){var n=e.state,r=e.dispatch;return iD(!0)(n,r),t.preventDefault(),!1},eB=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n,r,o=t.target,i=qb(e.state.selection);if(t instanceof MouseEvent&&GL(o)){var a=qL(o),c=mr()(a,1)[0],s=e.state,u=e.dispatch;return(n=c,r=t.shiftKey,xR((function(e){var t=rN(n)(e.tr.selection);if(!t||!t.length||"number"!=typeof t[0].pos)return!1;var o=KI(KN(n,r)(e.tr)),i=eD(e,o,Sn.d.COLUMN_SELECTED);return{type:"SELECT_COLUMN",data:{targetCellPosition:t[0].pos,decorationSet:i}}}),(function(e){return KN(n,r)(e).setMeta("addToHistory",!1)})))(s,u)}var l=o.matches?o.matches:o.msMatchesSelector;if(!i||!Object(wa.k)(o)||!l||l.call(o,"table .image, table p, table .image div"))return!1;var d=ub.b.get(i.node),f=Object(Zi.b)(o,"td")||Object(Zi.b)(o,"th"),p=f&&f.cellIndex,h=Object(Zi.b)(o,"tr"),m=h&&h.rowIndex,v=d.width*m+p,b=e.dispatch,g=e.state,y=g.tr,O=g.schema.nodes.paragraph,w=i.node.nodeAt(d.map[v]);if(Object(wa.o)(w)){var k=d.map[v]+w.nodeSize;y.insert(k+i.pos,O.create()),b(y),Object(Kv.f)(e,k+i.pos)}return!0},tB=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n,r,o=e.state,i=e.dispatch,a=t.target,c=SR(o),s=c.insertColumnButtonIndex,u=c.insertRowButtonIndex;if(n=a,Object(Zi.c)(n,Sn.c.CONTROLS_INSERT_ROW)||Object(Zi.b)(n,".".concat(Sn.c.CONTROLS_INSERT_ROW))||Object(Zi.c)(n,Sn.c.CONTROLS_BUTTON_OVERLAY)&&Object(Zi.b)(n,".".concat(Sn.c.ROW_CONTROLS))){var l=qL(a),d=mr()(l,2),f=d[0],p=d[1],h="bottom"===XL(t)?p:f;return lD(h)(o,i)}if(GL(a)){var m=qL(a),v=mr()(m,1)[0],b=e.state,g=e.dispatch;return FL([v],!1)(b,g)}if((VL(a)||function(e){return Object(Zi.c)(e,Sn.c.CONTROLS_CORNER_BUTTON)}(a))&&("number"==typeof s||"number"==typeof u))return dD()(o,i);if($L(a)){var y=qL(a),O=mr()(y,2),w=O[0],k=O[1];return(r={left:w,right:k},xR((function(e){return{type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:eD(e,XI(e.selection,r),Sn.d.COLUMN_RESIZING_HANDLE_LINE)}}})))(o,i)}return!1},nB=function(e,t){var n,r=!!(t.target&&t.target instanceof HTMLElement&&(n=t.target,Object(Zi.c)(n,Sn.c.TABLE_CONTAINER)||Object(Zi.c)(n,Sn.c.TABLE_NODE_WRAPPER)||GL(t.target)||KL(t.target)));return r&&t.preventDefault(),r},rB=function(e,t){if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;var n=t.target;if(GL(n)){var r=e.state,o=e.dispatch;return HL()(r,o)}var i=t.relatedTarget;if($L(n)&&!$L(i)){var a=e.state,c=e.dispatch;return xR((function(e){return{type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:eD(e,[],Sn.d.COLUMN_RESIZING_HANDLE_LINE)}}}))(a,c)}return!1},oB=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n,r=e.state,o=e.dispatch,i=SR(r),a=i.insertColumnButtonIndex,c=i.insertRowButtonIndex,s=t.target;return n=s,!(!Object(Zi.c)(n,Sn.c.CONTROLS_BUTTON)&&!Object(Zi.c)(n,Sn.c.ROW_CONTROLS_BUTTON_WRAP))||!(void 0===a&&void 0===c||!dD()(r,o))},iB=function(e,t,n,r){if(!(t.target instanceof HTMLElement))return!1;var o,i=t.target;if(GL(i)){var a=e.state,c=e.dispatch,s=SR(a).insertColumnButtonIndex,u=qL(i),l=mr()(u,2),d=l[0],f=l[1];if((w="right"===YL(t,n,r)?f:d)!==s)return(o=w,xR((function(e){return o>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:o}}}),(function(e){return e.setMeta("addToHistory",!1)})))(a,c)}if(KL(i)){var p=e.state,h=e.dispatch,m=SR(p).insertRowButtonIndex,v=qL(i),b=mr()(v,2),g=b[0],y=b[1],O="bottom"===XL(t)?y:g;if(O!==m)return lD(O)(p,h)}var w,k=(Object(oi.b)(e.state)||{}).mouseMoveOptimization,E=n&&k;if(!$L(i)&&VL(i)&&null!==(w=YL(t,E,r,Sn.a))){var x=e.state,S=e.dispatch,j=SR(x).resizeHandleColumnIndex,C=Object(Zi.b)(i,"td, th"),T=e.posAtDOM(C,0),_=Kb(x.doc.resolve(T));if(_){var A="left"===w?_.left:_.right;if(A!==j||!function(e){var t=e.columnEndIndexTarget,n=e.target,r=Object(Zi.b)(n,"table");if(!r)return!1;var o=[".".concat(Sn.c.RESIZE_HANDLE_DECORATION),'[data-end-index="'.concat(t,'"]')],i=r.querySelectorAll(o.join(""));return!(!i||0===i.length)}({target:i,columnEndIndexTarget:A}))return function(e){return xR((function(t){var n=qb(t.selection),r=SR(t).pluginConfig.allowColumnResizing;return!(!n||!r)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:QN(e)({tr:t.tr,decorationSet:oM(t)}),resizeHandleColumnIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))}(A)(x,S)}}return!1};function aB(e,t){var n=e.state,r=e.dispatch,o=Object(lb.a)(n.doc.resolve(t));if(!o)return!1;var i=n.doc.nodeAt(o.pos);if(i){var a=dt.Selection.findFrom(o,1,!0),c=dt.Selection.findFrom(n.doc.resolve(o.pos+i.nodeSize),-1,!0);if(a&&c)return r(n.tr.setSelection(new dt.TextSelection(a.$from,c.$to))),!0}return!1}var cB=function(e,t){return function(n,r){var o,i=ZE(n.state),a=SR(n.state),c=i&&!!i.dragging,s=a&&a.tableNode,u=null==a||null===(o=a.pluginConfig)||void 0===o?void 0:o.tableCellOptimization;return!(!s||c)&&e(n,r,u,t)}},sB=function(e,t){if(e&&void 0!==t){var n=e.find((function(e){return e.pos===t+1}));if(n)return n.sticky?n:void 0}},uB=new dt.PluginKey("stickyHeadersPlugin"),lB=function(e){for(var t=[],n=e.left;n<e.right;n++)t.push(n);return t},dB=function(e){for(var t=[],n=e.top;n<e.bottom;n++)t.push(n);return t};function fB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var pB=function(e){b()(n,e);var t=fB(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"isActive",(function(){var t=e.props,n=t.editorView,r=t.hoveredRows,o=t.isResizing,i=n.state.selection,a=qb(i);return!!a&&(tR(i)||r&&r.length===ub.b.get(a.node).height&&!o)})),E()(m()(e),"clearHoverSelection",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;HL()(n,r)})),E()(m()(e),"selectTable",(function(){var t=e.props.editorView,n=t.state;(0,t.dispatch)(YN(n.tr).setMeta("addToHistory",!1))})),E()(m()(e),"hoverTable",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;UL()(n,r)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.isInDanger,n=e.tableRef,r=e.isHeaderColumnEnabled,o=e.isHeaderRowEnabled;if(!n)return null;var a=this.isActive();return i.a.createElement("div",{className:Jl()(Sn.c.CORNER_CONTROLS,{active:a,sticky:void 0!==this.props.stickyTop}),style:{top:void 0!==this.props.stickyTop?"".concat(this.props.stickyTop,"px"):void 0}},i.a.createElement("button",{type:"button",className:Jl()(Sn.c.CONTROLS_CORNER_BUTTON,{danger:a&&t}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!o&&i.a.createElement("div",{className:Sn.c.CORNER_CONTROLS_INSERT_ROW_MARKER},i.a.createElement("div",{className:Sn.c.CONTROLS_INSERT_MARKER})),!r&&i.a.createElement("div",{className:Sn.c.CORNER_CONTROLS_INSERT_COLUMN_MARKER},i.a.createElement("div",{className:Sn.c.CONTROLS_INSERT_MARKER})))}}]),n}(o.Component);function hB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var mB=function(e){b()(n,e);var t=hB(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"hoverRows",(function(t){return e.props.tableActive?e.props.hoverRows([t]):null})),E()(m()(e),"selectRow",(function(t,n){var r=e.props,o=r.tableActive,i=r.editorView,a=r.selectRow;if(!o&&n.target&&n.target instanceof Node){var c=i.state,s=c.doc,u=c.selection,l=c.tr,d=i.posAtDOM(n.target,1),f=s.resolve(d),p=u.head>d?dt.Selection.near(s.resolve(d+(f.parent.nodeSize-3)),-1):dt.Selection.near(f);i.dispatch(l.setSelection(p))}a(t,n.shiftKey)})),E()(m()(e),"clearHoverSelection",(function(){var t=e.props,n=t.tableActive,r=t.editorView;if(n){var o=r.state,i=r.dispatch;HL()(o,i)}})),E()(m()(e),"getClassNames",(function(t){var n=e.props,r=n.hoveredRows,o=n.editorView,i=n.isInDanger,a=n.isResizing,c=eR(t)(o.state.selection)||-1!==(r||[]).indexOf(t)&&!a;return[Sn.c.NUMBERED_COLUMN_BUTTON,c?Sn.c.HOVERED_CELL_ACTIVE:"",c&&i?Sn.c.HOVERED_CELL_IN_DANGER:""].join(" ")})),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tableRef,r=t.hasHeaderRow,o=oR(n);return i.a.createElement("div",{className:Sn.c.NUMBERED_COLUMN,style:{marginTop:r&&void 0!==this.props.stickyTop?o[0]:void 0}},o.map((function(t,n){return i.a.createElement("div",{key:"wrapper-".concat(n),className:e.getClassNames(n),"data-index":n,style:{height:t,top:void 0!==e.props.stickyTop&&r&&0===n?"".concat(e.props.stickyTop,"px"):void 0},onClick:function(t){return e.selectRow(n,t)},onMouseOver:function(){return e.hoverRows(n)},onMouseOut:e.clearHoverSelection},r?n>0?n:null:n+1)})))}}]),n}(o.Component);function vB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var bB=function(e){b()(n,e);var t=vB(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"clearHoverSelection",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;HL()(n,r)})),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.editorView,r=t.tableRef,o=t.hoveredRows,a=t.isInDanger,c=t.isResizing;if(!r)return null;var s=n.state.selection,u=oR(r),l=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,c=e.length;a<c;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,height:o})}}return t}(u),d=r.querySelector("tr"),f=!!d&&d.getAttribute("data-header-row");return i.a.createElement("div",{className:Sn.c.ROW_CONTROLS},i.a.createElement("div",{className:Sn.c.ROW_CONTROLS_INNER},l.map((function(t,n){var r=t.startIndex,l=t.endIndex,d=t.height,p=-1;1===n&&f&&void 0!==e.props.stickyTop&&(p+=u[n-1]+jn.G);var h=void 0!==e.props.stickyTop&&0===n&&f;return i.a.createElement("div",{className:"".concat(Sn.c.ROW_CONTROLS_BUTTON_WRAP," ").concat(iR(r,s,o,a,c)," ").concat(h?"sticky":""),key:r,style:{height:d,marginTop:"".concat(p,"px"),top:h?"".concat(e.props.stickyTop+3,"px"):void 0,paddingTop:h?"".concat(jn.u,"px"):void 0}},i.a.createElement("button",{type:"button",className:"".concat(Sn.c.ROW_CONTROLS_BUTTON,"\n                  ").concat(Sn.c.CONTROLS_BUTTON,"\n                "),onClick:function(t){return e.props.selectRow(r,t.shiftKey)},onMouseOver:function(){return e.props.hoverRows([r])},onMouseOut:e.clearHoverSelection,"data-start-index":r,"data-end-index":l}),i.a.createElement("div",{className:Sn.c.CONTROLS_INSERT_MARKER}))}))))}}]),n}(o.Component);function gB(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function yB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var wB=function(e){b()(n,e);var t=OB(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"selectRow",(function(t,n){var r=e.props.editorView,o=r.state,i=r.dispatch;11===xe.a.ie_version&&r.dom.blur(),uD(t,n)(o,i)})),E()(m()(e),"hoverRows",(function(t,n){var r=e.props.editorView,o=r.state,i=r.dispatch;zL(t,n)(o,i)})),e}return p()(n,[{key:"componentDidMount",value:function(){this.tryInitResizeObserver()}},{key:"componentDidUpdate",value:function(){this.tryInitResizeObserver()}},{key:"tryInitResizeObserver",value:function(){var e,t=this,n=this.props.tableRef;(Object(oi.b)(this.props.editorView.state)||{}).tableRenderOptimization&&n&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(e){var n,r=gB(e);try{for(r.s();!(n=r.n()).done;){var o=n.value.contentRect.height;t.setState({tableHeight:o})}}catch(e){r.e(e)}finally{r.f()}})),this.resizeObserver.observe(n))}},{key:"shouldComponentUpdate",value:function(e,t){var n,r,o,i=this.props,a=i.tableRef,c=i.isInDanger,s=i.isResizing,u=i.isHeaderRowEnabled,l=i.isNumberColumnEnabled,d=i.hoveredRows,f=i.selection,p=i.tableActive,h=i.isHeaderColumnEnabled,m=i.ordering,v=i.headerRowHeight,b=i.stickyHeader,g=(Object(oi.b)(this.props.editorView.state)||{}).tableRenderOptimization,y=g?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,O=g?null==t?void 0:t.tableHeight:e.tableHeight;return m!==e.ordering||a!==e.tableRef||y!==O||p!==e.tableActive||c!==e.isInDanger||s!==e.isResizing||d!==e.hoveredRows||u!==e.isHeaderRowEnabled||h!==e.isHeaderColumnEnabled||l!==e.isNumberColumnEnabled||(r=f,!((o=e.selection)||!r)||db(r,"cell")!==db(o,"cell")||db(r,"cell")&&db(o,"cell")&&r.ranges!==o.ranges)||v!==e.headerRowHeight||b!==e.stickyHeader}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=this.props,t=e.editorView,n=e.tableRef,r=e.isInDanger,o=e.isResizing,a=e.isNumberColumnEnabled,c=e.isHeaderRowEnabled,s=e.isHeaderColumnEnabled,u=e.tableActive,l=e.hasHeaderRow,d=e.hoveredRows,f=e.stickyHeader;if(!n)return null;var p=f&&f.sticky&&l?f.top:void 0;return i.a.createElement("div",{onMouseDown:function(e){return e.preventDefault()}},a?i.a.createElement(mB,{editorView:t,hoverRows:this.hoverRows,tableRef:n,tableActive:u,hoveredRows:d,hasHeaderRow:l,isInDanger:r,isResizing:o,selectRow:this.selectRow,stickyTop:p}):null,u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(pB,{editorView:t,tableRef:n,isInDanger:r,isResizing:o,isHeaderRowEnabled:c,isHeaderColumnEnabled:s,hoveredRows:d,stickyTop:u?p:void 0}),i.a.createElement(bB,{editorView:t,tableRef:n,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:r,isResizing:o,selectRow:this.selectRow,stickyTop:u?p:void 0})))}}]),n}(o.Component);E()(wB,"displayName","TableFloatingControls");var kB=function(){function e(t,n,r){var o=this;d()(this,e),E()(this,"firstCell",null),E()(this,"lastCell",null),E()(this,"getFirstCell",(function(e,t){var n;return null===(n=o.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td":"table tbody tr th")})),E()(this,"getLastCell",(function(e,t){var n;return null===(n=o.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td:last-child":"table tbody tr th:last-child")})),E()(this,"isSticky",!1),E()(this,"stickyRowHeight",0),E()(this,"init",(function(){var e=o.table;if(o.wrapper&&e)if(o.tableIntersectionObserver);else{o.tableIntersectionObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){return function(e){var t,n;(null!==(t=e.rootBounds)&&void 0!==t&&t.height||null!==(n=e.rootBounds)&&void 0!==n&&n.width)&&(e.target!==o.firstCell&&e.target!==o.lastCell||(o.updateStickyShadowsHeightIfChanged(),o.checkIntersectionEvent(e,o.firstCell===e.target?Sn.b.SHOW_BEFORE_SHADOW:Sn.b.SHOW_AFTER_SHADOW)))}(e)}))}),{threshold:[0,1],root:o.wrapper,rootMargin:"0px ".concat(jn.y/2,"px 0px 0px")})}})),E()(this,"checkIntersectionEvent",(function(e,t){e.isIntersecting&&1===e.intersectionRatio?o.updateShadowState(t,!1):e.intersectionRatio<1&&o.updateShadowState(t,!0)})),E()(this,"observeCells",(function(e,t){var n=!!e!==o.isSticky;if(o.isSticky=!!e,o.updateStickyShadowsHeightIfChanged(),!n){var r=o.getFirstCell(e,t),i=o.getLastCell(e,t);if(!r||!i||r===o.firstCell&&i===o.lastCell)return}o.firstCell=o.getFirstCell(e,t),o.lastCell=o.getLastCell(e,t),o.tableIntersectionObserver&&o.firstCell&&o.lastCell&&(o.tableIntersectionObserver.disconnect(),o.tableIntersectionObserver.observe(o.firstCell),o.tableIntersectionObserver.observe(o.lastCell))})),E()(this,"updateStickyShadows",(function(e){var t,n,r,i,a;if(o.isSticky){var c=o.getStickyCell();if(c&&null!==(t=o.wrapper)&&void 0!==t&&t.parentElement){var s="".concat(e||c.clientHeight+1,"px"),u=null===(n=o.wrapper)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.getElementsByClassName("".concat(Sn.c.TABLE_RIGHT_SHADOW)),l=null===(i=o.wrapper)||void 0===i||null===(a=i.parentElement)||void 0===a?void 0:a.getElementsByClassName("".concat(Sn.c.TABLE_LEFT_SHADOW));tN(s,l),tN(s,u)}}})),this.updateShadowState=t,this.table=n,this.wrapper=r,this.init()}return p()(e,[{key:"updateStickyShadowsHeightIfChanged",value:function(){if(this.isSticky){var e=this.getStickyCell();if(e){var t=e.clientHeight+1;t===this.stickyRowHeight&&(this.stickyRowHeight=t,this.updateStickyShadows(this.stickyRowHeight))}}}},{key:"getStickyCell",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("tr.sticky");return t&&t.firstElementChild}},{key:"dispose",value:function(){this.tableIntersectionObserver&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver=void 0)}}]),e}();function EB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EB(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var jB=11===xe.a.ie_version,CB=function(){},TB=function(e){b()(n,e);var t=SB(n);function n(e){var r,o;d()(this,n),o=t.call(this,e),E()(m()(o),"state",(r={scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0},E()(r,Sn.b.SHOW_BEFORE_SHADOW,!1),E()(r,Sn.b.SHOW_AFTER_SHADOW,!1),r)),E()(m()(o),"updateShadowState",(function(e,t){if(o.state[e]!==t)return e===Sn.b.SHOW_BEFORE_SHADOW?o.setState(E()({},e,t)):void o.setState(E()({},e,t))})),E()(m()(o),"onStickyState",(function(e){var t=(Object(oi.b)(o.props.view.state)||{}).tableOverflowShadowsOptimization,n=o.props.getPos();if(Object(Kv.d)(n,o.props.view.state)){var r=sB(e,n);r!==o.state.stickyHeader&&(o.setState({stickyHeader:r}),t&&o.overflowShadowsObserver&&o.overflowShadowsObserver.updateStickyShadows())}})),E()(m()(o),"prevTableState",null),E()(m()(o),"getMarginLeft",(function(e){var t,n=o.props.containerWidth.lineLength;if("inherit"!==e&&n){var r=Object(Zi.e)(e);r&&(t=(n-r)/2)}return t})),E()(m()(o),"handleScroll",(function(e){if(o.wrapper&&e.target===o.wrapper){if(o.table)for(var t=o.table.querySelectorAll("tr[data-header-row]"),n=0;n<t.length;n++){var r=t[n];r.scrollLeft=o.wrapper.scrollLeft,r.style.marginRight="2px"}(Object(oi.b)(o.props.view.state)||{}).tableOverflowShadowsOptimization||o.updateShadows()}})),E()(m()(o),"handleTableResizing",(function(){var e=o.props,t=e.getNode,n=e.containerWidth,r=e.options,i=o.node,a=t(),c=i.attrs,s=c.layout!==a.attrs.layout&&c.__autoSize===a.attrs.__autoSize,u=o.getParentNodeWidth(),l=u&&u!==o.state.parentWidth,d=o.tableNodeLayoutSize(a,n.width,r),f=c.isNumberColumnEnabled!==a.attrs.isNumberColumnEnabled,p=XM(a,i);(s||l||f||d!==o.layoutSize||p)&&(f||p||o.scaleTable({parentWidth:u,layoutChanged:s}),o.updateParentWidth(u)),o.updateTableContainerWidth(),o.node=a,o.containerWidth=n,o.layoutSize=d})),E()(m()(o),"scaleTable",(function(e){var t=o.props,n=t.view,r=t.getNode,i=t.getPos,a=t.containerWidth,c=t.options,s=r(),u=n.state,l=n.dispatch,d=i();if(Object(Kv.d)(d,u)){var f=n.domAtPos.bind(n),p=a.width;o.scaleTableDebounced.cancel(),RD(o.table,xB(xB({},e),{},{node:s,prevNode:o.node||s,start:d+1,containerWidth:p,previousContainerWidth:o.containerWidth.width||p},c),f)(u,l)}})),E()(m()(o),"handleAutoSize",(function(){if(o.table){var e=o.props,t=e.view,n=e.getNode,r=e.getPos,i=e.containerWidth,a=n(),c=r();if(!Object(Kv.d)(c,t.state))return;!function(e,t,n,r,o){e.dispatch(JR(e,t,n,r,o))}(t,a,o.table,c,{containerWidth:i.width})}})),E()(m()(o),"handleWindowResize",(function(){var e=o.props,t=e.getNode,n=e.containerWidth,r=o.tableNodeLayoutSize(t());if(!(n.width>r)){var i=o.getParentNodeWidth();o.scaleTableDebounced(i)}})),E()(m()(o),"updateTableContainerWidth",(function(){var e=o.props,t=e.getNode,n=e.containerWidth,r=e.options,i=t();if(!r||!1!==r.isBreakoutEnabled){var a=Object(En.b)(i.attrs.layout,n.width);if(o.state.tableContainerWidth===a)return null;o.setState((function(e){return r&&!1===r.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:a}}))}})),E()(m()(o),"getParentNodeWidth",(function(){var e=o.props,t=e.getPos,n=e.containerWidth,r=e.options,i=e.view.state,a=t();if(Object(Kv.d)(a,i))return Object(PR.b)(a,i,n,r&&r.isFullWidthModeEnabled)})),E()(m()(o),"updateParentWidth",(function(e){o.setState({parentWidth:e})})),E()(m()(o),"tableNodeLayoutSize",(function(e,t,n){return MR(e.attrs.layout,t||o.props.containerWidth.width,n||o.props.options||{})})),E()(m()(o),"scaleTableDebounced",Object(ve.a)(o.scaleTable)),E()(m()(o),"handleTableResizingDebounced",Object(ve.a)(o.handleTableResizing)),E()(m()(o),"handleScrollDebounced",Object(ve.a)(o.handleScroll)),E()(m()(o),"handleAutoSizeDebounced",Object(ve.a)(o.handleAutoSize)),E()(m()(o),"handleWindowResizeDebounced",Object(ve.a)(o.handleWindowResize));var i=e.options,a=e.containerWidth,c=e.getNode,s=e.view;o.node=c(),o.containerWidth=a;var u=!!i&&i.wasFullWidthModeEnabled;return o.layoutSize=o.tableNodeLayoutSize(o.node,a.width,{isFullWidthModeEnabled:u}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((function(e){document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")})),(Object(oi.b)(s.state)||{}).initialRenderOptimization||requestAnimationFrame((function(){o.setState({isLoading:!1})})),o}return p()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowColumnResizing,n=e.eventDispatcher;t&&this.wrapper&&!jB&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),t&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.handleTableResizingDebounced());var r=uB.getState(this.props.view.state);r&&this.onStickyState(r),n.on(uB.key,this.onStickyState)}},{key:"componentWillUnmount",value:function(){this.wrapper&&!jB&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.scaleTableDebounced.cancel(),this.handleTableResizingDebounced.cancel(),this.handleAutoSizeDebounced.cancel(),this.handleWindowResizeDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.overflowShadowsObserver&&this.overflowShadowsObserver.dispose(),this.props.eventDispatcher.off(uB.key,this.onStickyState)}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.view,i=r.getNode,a=r.isMediaFullscreen,c=r.allowColumnResizing;(Object(oi.b)(o.state)||{}).tableOverflowShadowsOptimization?(null!==(t=this.wrapper)&&void 0!==t&&t.parentElement&&this.table&&!this.overflowShadowsObserver&&(this.overflowShadowsObserver=new kB(this.updateShadowState,this.table,this.wrapper)),this.overflowShadowsObserver&&this.overflowShadowsObserver.observeCells(null===(n=this.state.stickyHeader)||void 0===n?void 0:n.sticky,GM(i()))):this.updateShadows();var s=i();if(s.attrs.__autoSize)this.handleAutoSizeDebounced();else if(c&&this.table&&!a){var u=this.node;if(function(e,t){var n=ZM(e),r=ZM(t);return n.length!==r.length||!1===n.every((function(e,t){return e===r[t]}))}(s,u)||XM(s,u)){var l=this.props.view;TR(this.table,s),iN(l.state)}this.handleTableResizingDebounced()}}},{key:"updateShadows",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.parentElement;if(this.wrapper&&t){var n=t.querySelectorAll(".".concat(Sn.c.TABLE_RIGHT_SHADOW)),r=t.querySelectorAll(".".concat(Sn.c.TABLE_LEFT_SHADOW));nN(this.props.view.state,this.wrapper,this.table,n,r)}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.view,o=n.getNode,a=n.tableResizingPluginState,c=n.allowControls,s=void 0===c||c,u=n.isHeaderRowEnabled,l=n.ordering,d=n.isHeaderColumnEnabled,f=n.tableActive,p=n.containerWidth,h=this.state,m=h.isLoading,v=h.tableContainerWidth,b=h.showBeforeShadow,g=h.showAfterShadow,y=o(),O=SR(r.state),w=O.isInDanger,k=O.hoveredRows,x=Object(oi.b)(r.state)||{},S=x.stickyHeadersOptimization,j=x.initialRenderOptimization,C=x.tableRenderOptimization,T=x.tableOverflowShadowsOptimization,_=this.table||void 0,A=!!a&&!!a.dragging,I=_?_.querySelector("tr[data-header-row]"):void 0,M=_&&!C?_.offsetHeight:void 0,R=GM(y),N=i.a.createElement("div",{className:Sn.c.ROW_CONTROLS_WRAPPER},i.a.createElement(wB,{editorView:r,tableRef:_,tableActive:f,hoveredRows:k,isInDanger:w,isResizing:A,isNumberColumnEnabled:y.attrs.isNumberColumnEnabled,isHeaderRowEnabled:u,ordering:l,isHeaderColumnEnabled:d,hasHeaderRow:R,selection:r.state.selection,tableHeight:M,headerRowHeight:I?I.offsetHeight:void 0,stickyHeader:this.state.stickyHeader})),D=s&&(!m||j)&&f?-he.S:En.g,L=T?Object(P.a)((function(e){return{visibility:e?"visible":"hidden"}})):CB;return i.a.createElement("div",{style:{width:v,marginLeft:this.getMarginLeft(v)},className:Jl()(Sn.c.TABLE_CONTAINER,(e={},E()(e,Sn.c.WITH_CONTROLS,s&&f),E()(e,Sn.c.TABLE_STICKY,this.state.stickyHeader&&R),E()(e,Sn.c.HOVERED_DELETE_BUTTON,w),E()(e,Sn.c.TABLE_SELECTED,tR(r.state.selection)),E()(e,"less-padding",p.width<he.z),e)),"data-number-column":y.attrs.isNumberColumnEnabled,"data-layout":y.attrs.layout},S&&i.a.createElement("div",{className:Sn.c.TABLE_STICKY_SENTINEL_TOP}),s&&(!m||j)&&N,i.a.createElement("div",{style:L(b),className:Sn.c.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&i.a.createElement("div",{className:"".concat(Sn.c.TABLE_LEFT_SHADOW," ").concat(Sn.c.TABLE_STICKY_SHADOW),style:{visibility:T?b&&R?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+D+2,"px")}}),i.a.createElement("div",{className:Jl()(Sn.c.TABLE_NODE_WRAPPER),ref:function(e){if(t.wrapper=e,e){t.props.contentDOM(e);var n=e.querySelector("table");n!==t.table&&(t.table=n)}}}),i.a.createElement("div",{style:L(g),className:Sn.c.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&i.a.createElement("div",{style:{position:"absolute",right:"-2px"}},i.a.createElement("div",{className:"".concat(Sn.c.TABLE_RIGHT_SHADOW," ").concat(Sn.c.TABLE_STICKY_SHADOW),style:{visibility:T?g&&R?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+D+2,"px")}})),S&&i.a.createElement("div",{className:Sn.c.TABLE_STICKY_SENTINEL_BOTTOM}))}}]),n}(i.a.Component);E()(TB,"displayName","TableComponent");var _B=TB,AB="TABLE_DELETED";function PB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var IB=function(e){return{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,"data-table-local-id":e.attrs.localId||""}},MB=function(e){b()(n,e);var t=PB(n);function n(e){var r;return d()(this,n),r=t.call(this,e.node,e.view,e.getPos,e.portalProviderAPI,e.eventDispatcher,e),E()(m()(r),"getNode",(function(){return r.node})),E()(m()(r),"hasHoveredRows",!1),r.getPos=e.getPos,r.tableRenderOptimization=e.tableRenderOptimization,r.eventDispatcher=e.eventDispatcher,r}return p()(n,[{key:"getContentDOM",value:function(){var e,t,n,r=ya.DOMSerializer.renderSpec(document,(e=this.node,t=this.reactComponentProps,n="",t.allowColumnResizing&&(n=["colgroup",{}].concat(D()(CR(e)))),["table",IB(e),n,["tbody",0]]));return r.dom&&(this.table=r.dom),r}},{key:"setDomAttrs",value:function(e){var t=this;if(this.table){var n=IB(e);Object.keys(n).forEach((function(e){t.table.setAttribute(e,n[e])}))}}},{key:"render",value:function(e,t){var n=this;return i.a.createElement(Xa.a,{plugins:{containerWidth:tc,pluginState:zI,tableResizingPluginState:VE,mediaState:Yl.a},editorView:e.view,render:function(r){var o=r.tableResizingPluginState,a=r.pluginState,c=r.containerWidth,s=r.mediaState,u=e.getPos()===a.tablePos;return i.a.createElement(_B,{view:e.view,allowColumnResizing:e.allowColumnResizing,eventDispatcher:e.eventDispatcher,getPos:e.getPos,isMediaFullscreen:null==s?void 0:s.isFullscreen,options:e.options,allowControls:a.pluginConfig.allowControls,isHeaderRowEnabled:a.isHeaderRowEnabled,isHeaderColumnEnabled:a.isHeaderColumnEnabled,tableActive:u,ordering:a.ordering,tableResizingPluginState:o,getNode:n.getNode,containerWidth:c,contentDOM:t})}})}},{key:"viewShouldUpdate",value:function(e){if(this.tableRenderOptimization){var t=SR(this.view.state).hoveredRows,r=!(null==t||!t.length)!==this.hasHoveredRows;if(e.attrs.isNumberColumnEnabled&&r)return this.hasHoveredRows=!(null==t||!t.length),!0;var o=this.getNode();if(gt()(o.attrs)!==gt()(e.attrs))return!0;var i=Object.keys(o.attrs),a=Object.keys(e.attrs);if(i.length!==a.length)return!0;var c=ub.b.get(o),s=ub.b.get(e);return c.width!==s.width||i.some((function(t){return o.attrs[t]!==e.attrs[t]}))}return NE()(w()(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"ignoreMutation",value:function(){return!0}},{key:"destroy",value:function(){var e;this.resizeObserver&&this.resizeObserver.disconnect(),null===(e=this.eventDispatcher)||void 0===e||e.emit(AB,this.node),NE()(w()(n.prototype),"destroy",this).call(this)}}]),n}(pE),RB=function(e,t,n){if(tR(e.selection)){var r=qb(e.selection);if(r){var o="string"==typeof t?new ya.Slice(ya.Fragment.from(e.schema.text(t)),0,0):t,i=e.tr.replace(r.pos,r.pos+r.node.nodeSize,o);i.setSelection(dt.TextSelection.create(i.doc,r.pos+o.size+1));var a=uN(e.selection),c=a.totalRowCount,s=a.totalColumnCount;return Object(Ot.a)(e,i,{action:HN.a.REPLACED,actionSubject:wt.b.TABLE,attributes:{totalColumnCount:s,totalRowCount:c,inputMethod:n},eventType:wt.e.TRACK}),i}}return e.tr},NB=function(e){var t=e.type.schema;if(e.type===t.nodes.table){var n=[],r=t.nodes,o=r.tableCell,i=r.tableHeader;return e.descendants((function(e){return e.type!==o&&e.type!==i||n.push.apply(n,D()(Object(Qi.flatten)(e,!1).map((function(e){return e.node})))),!0})),n}return e};var DB=function(){function e(t,n,r,o){d()(this,e),this.view=n,this.node=t;var i=ya.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t)),a=i.dom,c=i.contentDOM;this.getPos=r,this.dom=a,this.contentDOM=c;var s=(Object(oi.b)(n.state)||{}).mouseMoveOptimization;s&&o&&(this.contentDOM.id=mT()(),this.mouseMoveOptimization=s,this.observer=o,o.observe(this.contentDOM))}return p()(e,[{key:"updateNodeView",value:function(e){var t=this;if(this.node.type!==e.type)return!1;var n=Object(AI.b)(this.node),r=Object(AI.b)(e),o=Object(AI.a)(this.dom),i=o.colspan,a=o.rowspan;if(i!==(e.attrs.colspan||1)||a!==(e.attrs.rowspan||1))return!1;var c=Object.entries(r).filter((function(e){var t=mr()(e,2),r=t[0],o=t[1];return n[r]!==o})),s=Object.keys(n).filter((function(e){return!r.hasOwnProperty(e)}));return c.length||s.length?(c.forEach((function(e){var n=mr()(e,2),r=n[0],o=n[1];return t.dom.setAttribute(r,o||"")})),s.forEach((function(e){return t.dom.removeAttribute(e)})),!0):!!this.node.sameMarkup(e)}},{key:"update",value:function(e){var t=this.updateNodeView(e);return this.node=e,t}},{key:"destroy",value:function(){this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}]),e}();function LB(e){var t=vm(ya.Fragment.from(e),(function(e){return function(e){return e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn}(e)?e.content:e})),n=[];return t.forEach((function(e){return n.push(e)})),n}function BB(e,t){return 0===t?LB(e):e}function FB(e,t,n){return t===n.childCount-1?LB(e):e}var zB=n(300),UB=n(110),HB=n(142),WB=n(479);function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VB(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GB,KB,$B,YB=function(e,t,n,r,o){switch(e){case"extension":return t.nodes.extension.createChecked(n,r,o);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n,r,o);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,r,o)}},XB=function(e,t,n,r,o){return function(i,a,c){if(!c)throw Error("EditorView is required to perform node update!");var s=c.state,u=c.dispatch,l=YB(e,s.schema,t,n,r);if(!l)return!1;var d=s.selection,f=s.schema.nodes,p=f.extension,h=f.inlineExtension,m=f.bodiedExtension,v=!!Object(Qi.findSelectedNodeOfType)([m])(d),b=Object(HB.c)(s),g=zB.a.CURRENT_SELECTION,y=wt.a.UPDATED,O=s.tr;if(l.type!==m||v){if(Object(Qi.findSelectedNodeOfType)([p,m,h])(d))(O=Object(Qi.replaceSelectedNode)(l)(O)).setSelection(dt.NodeSelection.create(O.doc,O.mapping.map(s.selection.anchor)));else if(b.element){var w=c.posAtDOM(b.element,-1);w>-1?((O=O.replaceWith(w,w+(n.size||0)+1,l)).setSelection(dt.Selection.near(O.doc.resolve(w))),g=zB.a.HTML_ELEMENT):y=wt.a.ERRORED}}else(O=Object(Qi.replaceParentNodeOfType)(s.schema.nodes.bodiedExtension,l)(O)).setSelection(dt.TextSelection.create(O.doc,s.selection.anchor));if(u&&O.docChanged){var k=l.attrs,E=k.extensionType,x=k.extensionKey,S=k.layout,j=k.localId;Object(Ot.a)(s,O,{action:y,actionSubject:wt.b.EXTENSION,actionSubjectId:l.type.name,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.CONFIG_PANEL,extensionType:E,extensionKey:x,layout:S,localId:j,selection:O.selection.toJSON(),targetSelectionSource:g}}),u(o?O.scrollIntoView():O)}return!0}},JB=function(e,t){return function(n,r,o){if(!o)return!1;var i=Object(HB.c)(n).localId,a=Object(UB.a)(n,i);if(!a)return!1;var c=Object(WB.b)({view:o,macroProvider:e||void 0});if(t)t.then((function(t){if(t&&o){var i=Object(WB.a)({editorView:o,editInLegacyMacroBrowser:c});(function(e,t,n){return function(){var r=u()(C.a.mark((function r(o,i,a){var c,s,u,l,d,f,p,h;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t.node,s=c.attrs,u=c.type,l=c.content,d=c.marks,o.schema.nodes[u.name]){r.next=3;break}return r.abrupt("return",!1);case 3:return f=s.parameters,r.prev=4,r.next=7,e(f,n);case 7:if(!(p=r.sent)){r.next=11;break}return h=qB(qB({},s),{},{parameters:qB(qB({},f),p)}),r.abrupt("return",XB(u.name,h,l,d,!0)(o,i,a));case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(4);case 15:return r.abrupt("return",!0);case 16:case"end":return r.stop()}}),r,null,[[4,13]])})));return function(e,t,n){return r.apply(this,arguments)}}()})(t,a,i)(n,r,o)}else t||!e||c()}));else{if(!e)return!1;c()}return!0}};function ZB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZB(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eF=function(e,t,n,r,o,i,a,c){var s;GB=i,$B=c;var u=ER(t,QB({pluginConfig:o,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,isFullWidthModeEnabled:KB=a,isHeaderRowEnabled:!!o.allowHeaderRow,isHeaderColumnEnabled:!1},cR)),l={},d=null!==(s=window)&&void 0!==s&&s.ResizeObserver?new ResizeObserver((function(e){e.forEach((function(e){e.target.id&&(l[e.target.id]=e.contentRect)}))})):void 0,f=o.tableCellOptimization?{tableCell:function(e,t,n){return new DB(e,t,n,d)},tableHeader:function(e,t,n){return new DB(e,t,n,d)}}:{},p=[],h=null;return new Za.a({state:u,key:zI,appendTransaction:function(t,n,r){var o=t.find((function(e){return"cut"===e.getMeta("uiEvent")}));if(o){var i=function(e,t,n){var r=t.tr.selection,o=n.tr;if(r instanceof Oa.a){var i=e.doc.resolve(e.mapping.map(r.$anchorCell.pos)),a=e.doc.resolve(e.mapping.map(r.$headCell.pos)),c=new Oa.a(i,a);if(o.setSelection(c),o.selection instanceof Oa.a){var s=UI(c);if(s){var u=lN(o.selection),l=u.verticalCells,d=u.horizontalCells,f=u.totalCells,p=u.totalRowCount,h=u.totalColumnCount;if((o=Object(Ot.a)(n,o,{action:HN.a.CUT,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{verticalCells:l,horizontalCells:d,totalCells:f,totalRowCount:p,totalColumnCount:h},eventType:wt.e.TRACK})).selection instanceof Oa.a)if(o.selection.isRowSelection()&&o.selection.isColSelection())o=qN(o);else if(o.selection.isRowSelection()){var m=SR(n).pluginConfig.isHeaderRowRequired;o=qD(s,m)(o)}else o.selection.isColSelection()&&(o=eL(s,jR(t))(o))}}}return o}(o,n,r);return XR(i)||i}if(t.find((function(e){return e.docChanged})))return XR(r.tr,(function(t){p.find((function(e){return e===t.tableLocalId}))||(p.push(t.tableLocalId),e({action:wt.a.INVALID_DOCUMENT_ENCOUNTERED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{nodeType:t.nodeType,reason:"".concat(t.attribute,": ").concat(t.reason),tableLocalId:t.tableLocalId,spanValue:t.spanValue}}))}))},view:function(e){var t=e.domAtPos.bind(e);return h=e,{update:function(e){var n,r,o,i=e.state,a=e.dispatch,c=i.selection,s=SR(i);if(s.editorHasFocus){var u=Object(Qi.findParentDomRefOfType)(i.schema.nodes.table,t)(c);u&&(n=u.querySelector("table")||void 0),r=qb(i.selection)}if((s.tableRef!==n&&(o=n,xR((function(e){var t=o,n=qb(e.selection),r=o&&n?n.node:void 0,i=o&&n?n.pos:void 0,a=Object(Zi.b)(t,".".concat(Sn.c.TABLE_NODE_WRAPPER))||void 0,c=r?r.attrs.layout:void 0,s=eD(e,$I(e.selection),Sn.d.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:t,tableNode:r,tablePos:i,tableWrapperTarget:a,layout:c||"default",isNumberColumnEnabled:YM(e.selection),isHeaderRowEnabled:$M(e.selection),isHeaderColumnEnabled:KM(e.selection),decorationSet:s,resizeHandleColumnIndex:void 0}}}),(function(e){return e.setMeta("addToHistory",!1)})))(i,a),s.tableNode!==r&&JL(n),s.editorHasFocus&&s.tableRef)&&i.selection.$cursor){var l=Object(Qi.findParentNodeOfType)(i.schema.nodes.tableHeader)(i.selection);l&&function(e){return function(t,n){var r=t.tr;if(Object(wa.r)(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(Bd.e)(e.node.firstChild,t.schema)){var o=t.schema.marks.strong;return r.setStoredMarks([o.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1}}(l)(i,a)}},destroy:function(){d&&d.disconnect()}}},props:{transformPasted:function(e){var t=h?h.state:null;if(!t)return e;var n=t.schema;return!Object(wa.i)(t)&&function(e){var t=SR(e);return t&&t.pluginConfig.isHeaderRowRequired}(t)&&(e=function(e,t){var n=t.nodes,r=n.table,o=n.tableHeader,i=n.tableRow;return bm(e,(function(e){if(e.type===r){var t=e.firstChild;if(t){var n=[];t.forEach((function(e){n.push(o.createChecked(e.attrs,e.content,e.marks))}));var a=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,a))}}return e}))}(e,n)),e=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return bm(e,(function(e){return!e||e.type!==r&&e.type!==o||e.content.childCount?e:e.type.createAndFill(e.attrs)||e}))}(e=function(e,t){var n=t.nodes.bodiedExtension,r=vm(e.content,(function(t,r,o){if(t.type===n&&!r){var i=e.openStart&&0===o,a=e.openEnd&&o+1===e.content.childCount;if(i||a)return t.content}return t}));return new ya.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)}(e=function(e,t){var n;if(e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table){var r,o,i,a,c,s=e;return(null===(r=e.content.firstChild)||void 0===r||null===(o=r.content)||void 0===o||null===(i=o.firstChild)||void 0===i||null===(a=i.content)||void 0===a||null===(c=a.firstChild)||void 0===c?void 0:c.type)===t.nodes.table&&(s=new ya.Slice(e.content.firstChild.content.firstChild.content,e.openStart-2,e.openEnd-2)),new ya.Slice(gm(s.content,NB),s.openStart-3,s.openEnd-3)}return e.openStart>=4&&e.content.childCount>1&&(null===(n=e.content.firstChild)||void 0===n?void 0:n.type)===t.nodes.table?new ya.Slice(e.content,1,e.openEnd):e}(e=function(e,t){return e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new ya.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e}(e=function(e,t){return e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection?new ya.Slice(gm(e.content,BB),e.openStart-2,e.openEnd-2):(e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new ya.Slice(gm(e.content,BB),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new ya.Slice(gm(e.content,FB),e.openStart,e.openEnd-2)),e)}(e=function(e,t){var n=t.nodes,r=n.paragraph,o=n.table,i=n.hardBreak,a=r.createAndFill(),c=null==i?void 0:i.createAndFill(),s=(a?a.nodeSize:0)+(c?c.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===r&&e.content.lastChild.nodeSize===s){var u=NB(e.content.firstChild);if(u instanceof Array)return new ya.Slice(ya.Fragment.from(u[0]),e.openStart,e.openEnd)}return e}(e,n),n),n),n),n),n),o.allowColumnResizing||(e=function(e,t){var n=t.nodes,r=n.tableHeader,o=n.tableCell;return bm(e,(function(e){return(e.type===o||e.type===r)&&e.attrs.colwidth?e.type.createChecked(nD(nD({},e.attrs),{},{colwidth:void 0}),e.content,e.marks):e}))}(e,n)),o.allowBackgroundColor||(e=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return bm(e,(function(e){if(e.type===r||e.type===o){var t=nD({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))}(e,n)),e},handleClick:function(e,t,n){var r=e.state,o=e.dispatch,i=rM.getState(r);if(qI(i).length&&HL()(r,o),xe.a.chrome&&n.target){var a=n.target.classList;if(a.contains(Sn.c.CONTROLS_BUTTON)||a.contains(Sn.c.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:function(e){var t=e.state.schema.nodes.tableHeader,n=Object(Qi.findParentDomRefOfType)(t,e.domAtPos.bind(e))(e.state.selection),r=Object(Zi.b)(n,"tr");return!!r&&r.classList.contains("sticky")},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=RB(o,r,wt.f.KEYBOARD);return!!a.selectionSet&&(i(a),!0)},nodeViews:QB(QB({},f),{},{table:function(e,t,o){return function(e,t,n,r,o,i){var a=SR(t.state).pluginConfig,c=MI(a).allowColumnResizing,s=(Object(oi.b)(t.state)||{}).tableRenderOptimization;return new MB({node:e,view:t,allowColumnResizing:c,portalProviderAPI:r,eventDispatcher:o,getPos:n,options:i,tableRenderOptimization:s}).init()}(e,t,o,n,r,{isBreakoutEnabled:GB,isFullWidthModeEnabled:KB,wasFullWidthModeEnabled:$B})}}),handleDOMEvents:{focus:QL,blur:ZL,mousedown:nB,mouseover:cB(tB),mouseleave:cB(oB),mouseout:cB(rB),mousemove:cB(iB,l),click:cB(eB)},handleTripleClick:aB}})};function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rF=Object(Jc.a)(uB,(function(e,t){if("UPDATE"===t.name){var n=!1,r=e.map((function(e){var r=e.pos===t.state.pos;return r&&(n=!0),r?t.state:e}));return n||r.push(t.state),r}return"REMOVE"===t.name?e.filter((function(e){return e.pos!==t.pos})):e}),{mapping:function(e,t){return e.docChanged?t.map((function(t){var n=e.mapping.mapResult(t.pos);return n?nF(nF({},t),{},{pos:n.pos}):void 0})).filter((function(e){return void 0!==e})):t}}),oF=rF.createPluginState,iF=rF.createCommand,aF=function(e){return iF({name:"UPDATE",state:e},(function(e){return e.setMeta("addToHistory",!1)}))},cF=function(e){return!e||e instanceof Window?0:e.getBoundingClientRect().top},sF=n(400),uF=n.n(sF),lF=function(e){var t=ym(e,(function(e){return"tableHeader"===e.type.name})).every(Boolean),n=ym(e,(function(e){return e.attrs.rowspan||0})).some((function(e){return e>1}));return t&&!n},dF=function(){function e(t,n,r,o){var i=this;d()(this,e),E()(this,"colControlsOffset",0),E()(this,"focused",!1),E()(this,"topPosEditorElement",0),E()(this,"stickyHeadersOptimization",!1),E()(this,"sentinels",{}),E()(this,"listening",!1),E()(this,"headerRowMouseScrollEnd",Pd()((function(){i.dom.classList.remove("no-pointer-events")}),400)),E()(this,"headerRowMouseScroll",uF()((function(){i.isSticky&&(i.dom.classList.add("no-pointer-events"),i.headerRowMouseScrollEnd())}),200)),E()(this,"onScroll",(function(){i.tree&&(i.latestDomTop=cF(i.tree.wrapper),i.nextFrame||i.loop())})),E()(this,"loop",(function(){i.nextFrame=window.requestAnimationFrame((function(){if(i.previousDomTop!==i.latestDomTop||i.previousPadding!==i.padding){var e=i.tree;e?(i.paint(e),i.previousPadding=i.padding,i.previousDomTop=i.latestDomTop,i.loop()):i.nextFrame=void 0}else i.nextFrame=void 0}))})),E()(this,"paint",(function(e){var t=e.table,n=e.wrapper;Math.abs(performance.now()-i.lastTimePainted)<10||(i.shouldHeaderStick(e)?i.makeHeaderRowSticky(e):i.makeRowHeaderNotSticky(t),i.dom.scrollLeft=n.scrollLeft,i.lastTimePainted=performance.now())})),E()(this,"onTablePluginState",(function(e){var t=e.tableRef,n=!1,r=i.tree;if(r){i.isTableInit||i.tree&&(i.makeRowHeaderNotSticky(i.tree.table),i.isTableInit=!0),e.isHeaderRowEnabled||[i.sentinels.top,i.sentinels.bottom].forEach((function(e){e&&delete e.dataset.isObserved}));var o=t===r.table;o!==i.focused&&(n=!0),i.focused=o;var a=r.wrapper.parentElement.parentElement,c=a&&a.parentElement;o?(i.colControlsOffset=jn.u,c&&c.getAttribute("data-layout-content")&&(a.style.paddingLeft="11px")):(i.colControlsOffset=0,c&&c.getAttribute("data-layout-content")&&a.style.removeProperty("padding-left")),setTimeout((function(){(!i.stickyHeadersOptimization||n&&i.isSticky)&&i.paint(r),cN(r.table)}),0)}})),E()(this,"onWidthPluginState",(function(){var e=i.tree;e&&cN(e.table)})),E()(this,"shouldHeaderStick",(function(e){var t=e.wrapper.getBoundingClientRect(),n=i.editorScrollableElement.getBoundingClientRect(),r=i.contentDOM.getBoundingClientRect(),o=!i.dom.previousElementSibling,a=!!i.dom.nextElementSibling,c=o&&a;return!!(t.top<n.top&&t.bottom>n.top&&c)||(r.top,n.top,!1)})),E()(this,"makeHeaderRowSticky",(function(e){if(!(i.stickyRowHeight&&i.stickyRowHeight>window.innerHeight/2)){var t=e.table,n=i.getCurrentTableTop(e),r=n>0?i.topPosEditorElement:i.topPosEditorElement+n;i.isSticky||(cN(t),i.dom.classList.add("sticky"),t.classList.add(Sn.c.TABLE_STICKY),i.isSticky=!0),i.dom.style.top="".concat(r,"px"),aN(t),i.emitOn(r,i.colControlsOffset)}})),E()(this,"makeRowHeaderNotSticky",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.isSticky&&e&&i.dom&&(i.dom.style.removeProperty("width"),i.dom.classList.remove("sticky"),e.classList.remove(Sn.c.TABLE_STICKY),i.isSticky=!1,i.dom.style.top="",e.style.removeProperty("margin-top"),i.emitOff(t))})),E()(this,"getWrapperoffset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?!i.focused:i.focused;return t?0:jn.u})),E()(this,"getWrapperRefTop",(function(e){return Math.round(cF(e))+i.getWrapperoffset()})),E()(this,"getScrolledTableTop",(function(e){return i.getWrapperRefTop(e)-i.topPosEditorElement})),E()(this,"getCurrentTableTop",(function(e){return i.getScrolledTableTop(e.wrapper)+e.table.clientHeight})),E()(this,"padding",0),E()(this,"top",0),E()(this,"emitOn",(function(e,t){e===i.top&&t===i.padding||(i.top=e,i.padding=t,aF({pos:i.getPos(),top:e,sticky:!0,padding:t})(i.view.state,i.view.dispatch,i.view))})),E()(this,"emitOff",(function(e){0===i.top&&0===i.padding||(i.top=0,i.padding=0,e||aF({pos:i.getPos(),sticky:!1,top:i.top,padding:i.padding})(i.view.state,i.view.dispatch,i.view))})),this.view=n,this.node=t,this.getPos=r,this.eventDispatcher=o,this.dom=document.createElement("tr"),this.contentDOM=this.dom;var a=(Object(oi.b)(n.state)||{}).stickyHeadersOptimization;this.stickyHeadersOptimization=!!a,this.lastTimePainted=0,this.isHeaderRow=lF(t),this.isSticky=!1,this.isTableInit=!1,this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}return p()(e,[{key:"tree",get:function(){return function(e){var t=e.parentElement;if(!t)return null;var n=t.parentElement;if(!n)return null;var r=n.parentElement;return r?{wrapper:r,table:n}:null}(this.dom)}},{key:"subscribe",value:function(){this.editorScrollableElement=Object(OC.c)(this.view.dom)||window,this.editorScrollableElement&&(this.stickyHeadersOptimization?this.initObservers():this.editorScrollableElement.addEventListener("scroll",this.onScroll),this.topPosEditorElement=cF(this.editorScrollableElement)),this.eventDispatcher.on(tc.key,this.onWidthPluginState),this.eventDispatcher.on(zI.key,this.onTablePluginState),this.listening=!0,this.dom.addEventListener("wheel",this.headerRowMouseScroll.bind(this)),this.dom.addEventListener("touchmove",this.headerRowMouseScroll.bind(this))}},{key:"unsubscribe",value:function(){this.listening&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.editorScrollableElement&&!this.stickyHeadersOptimization&&this.editorScrollableElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off(tc.key,this.onWidthPluginState),this.eventDispatcher.off(zI.key,this.onTablePluginState),this.listening=!1,this.dom.removeEventListener("wheel",this.headerRowMouseScroll),this.dom.removeEventListener("touchmove",this.headerRowMouseScroll))}},{key:"initObservers",value:function(){var e=this;this.dom&&!this.dom.dataset.isObserved&&(this.dom.dataset.isObserved="true",this.createIntersectionObserver(),this.createResizeObserver(),this.intersectionObserver&&this.resizeObserver&&(this.resizeObserver.observe(this.dom),window.requestAnimationFrame((function(){var t,n=null===(t=e.tree)||void 0===t?void 0:t.wrapper.closest(".".concat(Sn.c.NODEVIEW_WRAPPER));n&&(e.sentinels.top=n.getElementsByClassName(Sn.c.TABLE_STICKY_SENTINEL_TOP).item(0),e.sentinels.bottom=n.getElementsByClassName(Sn.c.TABLE_STICKY_SENTINEL_BOTTOM).item(0),[e.sentinels.top,e.sentinels.bottom].forEach((function(t){t&&!t.dataset.isObserved&&(t.dataset.isObserved="true",e.intersectionObserver.observe(t))})))}))))}},{key:"createResizeObserver",value:function(){var e=this;this.resizeObserver=new ResizeObserver((function(t){if(e.tree){var n=e.tree.table;t.forEach((function(t){var r=t.contentRect?t.contentRect.height:t.target.offsetHeight;e.sentinels.bottom&&Math.abs(r-(e.stickyRowHeight||0))>jn.k&&(e.stickyRowHeight=r,e.sentinels.bottom.style.bottom="".concat(jn.B+jn.l+r,"px"),aN(n))}))}}))}},{key:"createIntersectionObserver",value:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t,n){if(e.tree){var r=e.tree.table;t.forEach((function(t){var n,o=t.target;if(0!==(null===(n=t.rootBounds)||void 0===n?void 0:n.height)){if(o.classList.contains(Sn.c.TABLE_STICKY_SENTINEL_TOP)){var i,a=((null===(i=t.rootBounds)||void 0===i?void 0:i.bottom)||0)<t.boundingClientRect.bottom;t.isIntersecting||a?r&&e.makeRowHeaderNotSticky(r):e.tree&&e.makeHeaderRowSticky(e.tree)}if(o.classList.contains(Sn.c.TABLE_STICKY_SENTINEL_BOTTOM)){var c,s=t.boundingClientRect.top-e.dom.offsetHeight<((null===(c=t.rootBounds)||void 0===c?void 0:c.top)||0);r&&!t.isIntersecting&&s?e.makeRowHeaderNotSticky(r):t.isIntersecting&&s&&e.tree&&e.makeHeaderRowSticky(e.tree)}}}))}}),{root:this.editorScrollableElement})}},{key:"update",value:function(e){if(e===this.node)return!0;var t=lF(e);if(this.isHeaderRow!==t)return!1;if(this.node=e,!this.isHeaderRow)return!0;var n=this.dom.parentElement,r=n&&n.parentElement;return cN(r),!0}},{key:"destroy",value:function(){this.unsubscribe(),this.tree&&this.makeRowHeaderNotSticky(this.tree.table,!0),this.emitOff(!0)}},{key:"ignoreMutation",value:function(e){var t="selection"===e.type&&"TR"===e.target.nodeName,n="childList"===e.type&&"TR"===e.target.nodeName&&e.addedNodes.length;return!t&&!n}}]),e}(),fF=function(e,t,n,r,o){var i=n>0?function(e,t,n,r){if(!e.cols[t+1])return e;var o=xN(e,t+1,t,n),i=n-o.amount,a=o.state;return i>0&&(a=SN(a,t,i).state),r?gN(a,r,t):a}(e,t,n,o):n<0?function(e,t,n,r){var o=xN(e,t,t+1,-n),i=o.state,a=hN(i)>i.maxSize;if(!i.cols[t+1]&&!a)return i;var c=n+o.amount;return c<0&&(i=SN(i,t+1,c).state),r?gN(i,r,t):i}(e,t,n,o):e;return function(e,t){var n=t.querySelectorAll("col");e.cols.filter((function(e){return e&&!!e.width})).forEach((function(e,t){n[t]&&(n[t].style.width="".concat(e.width,"px"))})),cN(t)}(i,r),i},pF=function(e,t,n){var r=e.state,o=e.dispatch,i=bE.getState(r).editorDisabled,a=e.domAtPos.bind(e);if(i||null===n||!NR(r.doc.resolve(n)))return!1;t.preventDefault();var c=t.timeStamp,s=r.doc.nodeAt(n),u=r.doc.resolve(n),l=u.node(-1),d=u.start(-1),f=a(d).node;f&&"TABLE"!==f.nodeName&&(f=f.closest("table"));var p=tc.getState(r),h=Object(PR.b)(d,r,p)||MR(f.getAttribute("data-layout"),p.width,{});l.attrs.isNumberColumnEnabled&&(h-=he.P);var m=pN({minWidth:En.d,maxSize:h,table:l,tableRef:f,start:d,domAtPos:a});if(function(e){var t=e.resizeState,n=e.table,r=e.start,o=e.event;return function(e,i){if(!tR(e.selection))return!1;var a=ZE(e).lastClick,c=Date.now();if(a&&c-a.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(o,a)){var s=vN(t);return DD(null,(function(e){return RN(s,n,r)(e)}))(e,i),!0}return DD({x:o.clientX,y:o.clientY,time:c})(e,i),!1}}({resizeState:m,table:l,start:d,event:t})(r,o))return y(t),!0;var v,b,g=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t+1).node.offsetWidth,c=r||0;if(o)for(var s=0;s<(r||0);s++)o[s]&&(a-=o[s],c--);return a/c}(e,n,s.attrs);function y(t){window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",O);var n=t.clientX,r=e.state,o=e.dispatch,i=ZE(r),a=i.dragging,s=i.resizeHandlePos;if(null===s)return ND()(r,o);if(NR(r.doc.resolve(s))){var u=r.doc.resolve(s),d=u.start(-1),p=u.node(-1);if(a&&n===a.startX)return ND()(r,o);var h=r.tr;if(a){var v=a.startX;if(p.eq(l)){var b=ub.b.get(p),g=b.colCount(u.pos-d)+(u.nodeAfter?u.nodeAfter.attrs.colspan:1)-1,w=UI(r.selection),k=w?lB(w):[],E=k.indexOf(g)>-1||k.indexOf(g+1)>-1,x=fF(m,g,n-v,f,E?k:void 0);if(h=RN(x,p,d)(h),g===b.width-1){var S=t.timeStamp;h=Object(Ot.a)(r,h,{action:HN.a.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:S-c,delta:Math.abs(n-a.startX)},eventType:wt.e.UI})}}return ND(h)(r,o)}}}function O(t){var n=t.clientX,r=t.which,o=e.state,i=ZE(o),a=i.dragging,c=i.resizeHandlePos;if(!r||!a||null===c||!NR(o.doc.resolve(c)))return y(t);var s=o.doc.resolve(c),u=s.node(-1),l=ub.b.get(u).colCount(s.pos-s.start(-1))+s.nodeAfter.attrs.colspan-1;fF(m,l,n-a.startX,f),iN(o),JL(f)}return(v={startX:t.clientX,startWidth:g},XE({type:"SET_DRAGGING",data:{dragging:v}},(function(e){return b||e})))(r,o),window.addEventListener("mouseup",y),window.addEventListener("mousemove",O),!0};function hF(e,t){var n=t.lastColumnResizable,r=void 0===n||n;return new Za.a({key:VE,state:JE(e,{lastColumnResizable:r,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes:function(e){var t,n=ZE(e);return{class:Jl()(Sn.c.RESIZING_PLUGIN,(t={},E()(t,Sn.c.RESIZE_CURSOR,null!==n.resizeHandlePos),E()(t,Sn.c.IS_RESIZING,!!n.dragging),t))}},handleDOMEvents:{mousedown:function(e,t){var n=e.state,r=ZE(n).resizeHandlePos||function(e,t,n){var r=t.target;if(!Object(Zi.c)(r,Sn.c.RESIZE_HANDLE_DECORATION))return null;var o=Object(Zi.b)(r,"td, th");return o?e.posAtDOM(o,0)-1:null}(e,t),o=ZE(n).dragging;if(null!==r&&!o&&pF(e,t,r)){var i=e.state,a=e.dispatch;return function(e){return XE({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}})}(r)(i,a)}return!1}}}})}var mF=function(e,t){var n=JP(e.schema);return kD((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)},vF=Object(ko.b)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.tables.confirmDeleteLinkedModalOKButton",defaultMessage:"Remove table and data",description:"Action button label for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.tables.confirmDeleteLinkedModalMessage",defaultMessage:"Removing this table will break all the charts connected to it.",description:"Message for confirm modal when deleting a table linked to an extension."}}),bF=[];AI.f.forEach((function(e,t){var n=e.toLowerCase().replace(" ","-"),r=gp(yp,n);bF.push({value:t,label:e,border:AI.d,message:r})}));var gF=bF,yF=n(1075),OF=n(1225),wF=n(488),kF=n.n(wF),EF=n(53),xF=n(86),SF=EF.c.div.withConfig({displayName:"ItemGroup__GroupTitle",componentId:"ofbfv9-0"})(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 1 1 auto;\n  ",";\n"],(function(e){var t=e.theme;return Object(xF.c)(t[xF.e],"secondaryText","default")}),(function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(xF.c)(n[xF.e],r,"padding"),i=o.bottom,a=void 0===i?0:i,c=o.left,s=void 0===c?0:c,u=o.right,l=void 0===u?0:u,d=o.top,f=void 0===d?0:d;return Object(EF.b)(["\n    padding: ","px ","px ","px ","px;\n  "],f,l,a,s)}));SF.displayName="ItemGroupTitle";var jF=EF.c.div.withConfig({displayName:"ItemGroup__GroupTitleAfter",componentId:"ofbfv9-1"})(["\n  flex: 0 0 auto;\n  margin-right: -","px;\n"],xF.d/2);jF.displayName="ItemGroupTitleAfter";var CF=EF.c.div.withConfig({displayName:"ItemGroup__GroupTitleText",componentId:"ofbfv9-2"})(["\n  flex: 1 1 auto;\n  font-size: ","px;\n  line-height: 1;\n  text-transform: uppercase;\n  /* Required for children to truncate */\n  min-width: 0;\n"],Ze.h);function TF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}CF.displayName="ItemGroupTitleText";var _F=function(e){b()(n,e);var t=TF(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.elemAfter,o=t.isCompact,a=t.title,c=t.label,s=t.innerRef,u=t.role,l=c?kF()(c):a?kF()(a):"";return i.a.createElement("div",{"aria-label":l,role:u,ref:s},a?i.a.createElement(SF,{"aria-hidden":"true",isCompact:o},i.a.createElement(CF,null,a),r?i.a.createElement(jF,{innerRef:function(t){e.headingAfterElement=t}},r):null):null,n)}}]),n}(o.Component);E()(_F,"defaultProps",{role:"group"});var AF,PF,IF,MF=n(199);function RF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var NF=Object(T.c)(AF||(AF=S()(["\n  /* tooltip in ToolbarButton is display:block */\n  & > div > div {\n    display: flex;\n  }\n"]))),DF=Object(MF.a)(yF.a),LF=Object(T.c)(PF||(PF=S()(["\n  && > span,\n  && > span:hover {\n    background: #6c798f;\n    color: #fff;\n  }\n"]))),BF=Object(T.c)(IF||(IF=S()(["\n  margin-left: 8px;\n"]))),FF=function(e){b()(n,e);var t=RF(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{popupPlacement:["bottom","left"]}),E()(m()(e),"handleRef",(function(t){e.setState({target:t||void 0})})),E()(m()(e),"updatePopupPlacement",(function(t){var n=e.state.popupPlacement;t[0]===n[0]&&t[1]===n[1]||e.setState({popupPlacement:t})})),E()(m()(e),"handleClose",(function(){e.props.onOpenChange&&e.props.onOpenChange({isOpen:!1})})),e}return p()(n,[{key:"renderItem",value:function(e){var t=this.props,n=t.onItemActivated,r=t.onMouseEnter,o=t.onMouseLeave,i=t.shouldUseDefaultRole;if(!e.onClick&&!e.value&&!e.value.name)return Object(T.d)("span",{key:String(e.content)},e.content);var a=Object(T.d)("div",{css:e.isActive?LF:"",key:e.key||e.content},Object(T.d)(OF.a,{role:i?"button":"menuitem",elemBefore:e.elemBefore,elemAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:function(){return n&&n({item:e})},onMouseEnter:function(){return r&&r({item:e})},onMouseLeave:function(){return o&&o({item:e})},className:e.className,"aria-label":e.label||String(e.content),"aria-pressed":i?e.isActive:void 0},Object(T.d)("span",{css:e.elemBefore?BF:""},e.content)));return e.tooltipDescription?Object(T.d)(tu.a,{key:e.key||e.content,content:e.tooltipDescription,position:e.tooltipPosition},a):a}},{key:"renderDropdownMenu",value:function(){var e=this,t=this.state,n=t.target,r=t.popupPlacement,o=this.props,i=o.items,a=o.mountTo,c=o.boundariesElement,s=o.scrollableElement,u=o.offset,l=o.fitHeight,d=o.fitWidth,f=o.isOpen,p=o.zIndex,h=o.shouldUseDefaultRole;return Object(T.d)(Hd.a,{target:f?n:void 0,mountTo:a,boundariesElement:c,scrollableElement:s,onPlacementChanged:this.updatePopupPlacement,fitHeight:l,fitWidth:d,zIndex:p||he.p,offset:u},Object(T.d)(DF,{isOpen:!0,appearance:"tall",position:r.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},Object(T.d)("div",{style:{height:0,minWidth:d||0}}),i.map((function(t,n){return Object(T.d)(_F,{key:n,role:h?"group":"menu"},t.items.map((function(t){return e.renderItem(t)})))}))))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isOpen;return Object(T.d)("div",{css:NF},Object(T.d)("div",{ref:this.handleRef},t),n?this.renderDropdownMenu():null)}}]),n}(o.PureComponent);function zF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zF(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var WF=Object(ko.b)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A  Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z  A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:" You can't sort a table with merged cells",description:"Split your cells to enable this feature"},distributeColumns:{id:"fabric.editor.distributeColumns",defaultMessage:"Distribute columns",description:"Distribute widths between selected columns"}}),VF=function(e){b()(n,e);var t=HF(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{isSubmenuOpen:!1}),E()(m()(e),"handleSubMenuRef",(function(t){var n=Object(Zi.b)(e.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(n&&t){var r=n.getBoundingClientRect(),o=t.getBoundingClientRect();o.left+o.width>r.width&&(t.style.left="-".concat(o.width,"px"))}})),E()(m()(e),"createItems",(function(){var t=e.props,n=t.allowMergeCells,r=t.allowColumnSorting,o=t.allowBackgroundColor,i=t.editorView.state,a=t.isOpen,c=t.selectionRect,s=t.intl.formatMessage,u=t.editorView,l=[],d=e.state.isSubmenuOpen,f=SR(u.state),p=f.targetCellPosition,h=f.pluginConfig.allowDistributeColumns;if(o){var m,v=a&&p?i.doc.nodeAt(p):null,b=(null==v||null===(m=v.attrs)||void 0===m?void 0:m.background)||"#ffffff";l.push({content:s(WF.cellBackground),value:{name:"background"},elemAfter:Object(T.d)("div",null,Object(T.d)("div",{css:Object(xn.d)(b),className:Sn.c.CONTEXTUAL_MENU_ICON}),d&&Object(T.d)("div",{className:Sn.c.CONTEXTUAL_SUBMENU,ref:e.handleSubMenuRef},Object(T.d)(Mp.a,{cols:7,palette:gF,onClick:e.setColor,selectedColor:b})))})}l.push({content:s(vF.insertColumn),value:{name:"insert_column"},elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.addColumnAfter))}),l.push({content:s(vF.insertRow),value:{name:"insert_row"},elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.addRowAfter))});var g=c.top,y=c.bottom,O=c.right-c.left,w=y-g;if(l.push({content:s(vF.removeColumns,{0:O}),value:{name:"delete_column"}}),l.push({content:s(vF.removeRows,{0:w}),value:{name:"delete_row"}}),n&&(l.push({content:s(WF.mergeCells),value:{name:"merge"},isDisabled:!FD(i.tr)}),l.push({content:s(WF.splitCell),value:{name:"split"},isDisabled:!mF(i)})),h){var k,E=ON(c,i,u.domAtPos.bind(u)),x=null!==(k=null==E?void 0:E.changed)&&void 0!==k&&k;l.push({content:s(WF.distributeColumns),value:{name:"distribute_columns"},isDisabled:!x})}if(r){var S=DL(i.tr).length>0?{tooltipDescription:s(WF.canNotSortTable),isDisabled:!0}:{};l.push(UF({content:s(WF.sortColumnASC),value:{name:"sort_column_asc"}},S)),l.push(UF({content:s(WF.sortColumnDESC),value:{name:"sort_column_desc"}},S))}return l.push({content:s(WF.clearCells,{0:Math.max(O,w)}),value:{name:"clear"},elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.backspace))}),l.length?[{items:l}]:null})),E()(m()(e),"onMenuItemActivated",(function(t){var n=t.item,r=e.props,o=r.editorView,i=r.selectionRect,a=o.state,c=o.dispatch,s=SR(a).targetCellPosition;switch(n.value.name){case"sort_column_desc":mL(wt.f.CONTEXT_MENU,i.left,bD.DESC)(a,c),e.toggleOpen();break;case"sort_column_asc":mL(wt.f.CONTEXT_MENU,i.left,bD.ASC)(a,c),e.toggleOpen();break;case"merge":iL()(a,c),e.toggleOpen();break;case"split":aL()(a,c),e.toggleOpen();break;case"distribute_columns":var u=ON(i,a,o.domAtPos.bind(o));u&&(vL(wt.f.CONTEXT_MENU,u)(a,c),e.toggleOpen());break;case"clear":oL(wt.f.CONTEXT_MENU,s)(a,c),e.toggleOpen();break;case"insert_column":lL(wt.f.CONTEXT_MENU,i.right)(a,c,o),e.toggleOpen();break;case"insert_row":uL(wt.f.CONTEXT_MENU,{index:i.bottom,moveCursorToInsertedRow:!0})(a,c),e.toggleOpen();break;case"delete_column":fL(wt.f.CONTEXT_MENU,i)(a,c),e.toggleOpen();break;case"delete_row":var l=SR(a).pluginConfig.isHeaderRowRequired;dL(wt.f.CONTEXT_MENU,i,!!l)(a,c),e.toggleOpen()}})),E()(m()(e),"toggleOpen",(function(){var t=e.props,n=t.isOpen,r=t.editorView,o=r.state,i=r.dispatch;MD()(o,i),n||e.setState({isSubmenuOpen:!1})})),E()(m()(e),"handleOpenChange",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;MD()(n,r),e.setState({isSubmenuOpen:!1})})),E()(m()(e),"handleItemMouseEnter",(function(t){var n=t.item,r=e.props,o=r.editorView,i=o.state,a=o.dispatch,c=r.selectionRect;"background"===n.value.name&&(e.state.isSubmenuOpen||e.setState({isSubmenuOpen:!0})),"delete_column"===n.value.name&&FL(lB(c),!0)(i,a),"delete_row"===n.value.name&&zL(dB(c),!0)(i,a),["sort_column_asc","sort_column_desc"].indexOf(n.value.name)>-1&&0!==DL(i.tr).length&&BL()(i,a)})),E()(m()(e),"handleItemMouseLeave",(function(t){var n=t.item,r=e.props.editorView,o=r.state,i=r.dispatch;"background"===n.value.name&&e.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(n.value.name)>-1&&HL()(o,i)})),E()(m()(e),"closeSubmenu",(function(){e.state.isSubmenuOpen&&e.setState({isSubmenuOpen:!1})})),E()(m()(e),"setColor",(function(t){var n=e.props.editorView,r=SR(n.state).targetCellPosition,o=n.state,i=n.dispatch;cL(t,r)(o,i),e.toggleOpen()})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.mountPoint,r=e.offset,o=e.boundariesElement,i=this.createItems();return i?Object(T.d)("div",{"data-testid":"table-cell-contextual-menu",onMouseLeave:this.closeSubmenu},Object(T.d)(FF,{mountTo:n,items:i,isOpen:t,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:jn.d,boundariesElement:o,offset:r})):null}}]),n}(o.Component);E()(VF,"defaultProps",{boundariesElement:document.body});var qF=Object(Ji.c)(VF),GF=n(401),KF=n.n(GF),$F=new dt.PluginKey("copyButtonPlugin"),YF=n(693);function XF(e){var t,n,r,o=e.clipboardData;return!!o&&(t=o.types,n="Files",!(r=t).indexOf&&r.contains?t.contains(n):t.indexOf(n)>-1)}var JF,ZF=function(){return!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText},QF=function(){var e=u()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZF()){e.next=11;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Clipboard api is not supported");case 9:e.next=23;break;case 11:if(!window.clipboardData||"function"!=typeof window.clipboardData.setData){e.next=22;break}return e.prev=12,e.next=15,window.clipboardData.setData("text",t);case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(12),new Error("IE clipboard api is not supported");case 20:e.next=23;break;case 22:throw new Error("Clipboard api is not supported");case 23:case"end":return e.stop()}}),e,null,[[1,6],[12,17]])})));return function(t){return e.apply(this,arguments)}}(),ez=function(){var e=u()(C.a.mark((function e(t){var n,r,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZF()||"undefined"==typeof ClipboardItem){e.next=12;break}e.prev=1,n=new Blob([t],{type:"text/html"}),r=[new ClipboardItem({"text/html":n})],navigator.clipboard.write(r),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Clipboard api is not supported");case 10:e.next=16;break;case 12:(i=new(o=YF).DT).setData("text/html",t),o.write(i);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),tz=function(e){return function(t,n){var r=t.tr,o=t.schema,i=Object(Qi.findSelectedNodeOfType)(e)(r.selection);if(i||(i=Object(Qi.findParentNodeOfType)(e)(r.selection)),!i)return!1;var a=ya.DOMSerializer.fromSchema(o).serializeNode(i.node),c=document.createElement("div");c.appendChild(a),c.firstChild.setAttribute("data-pm-slice","0 0 []"),ez(c.innerHTML);var s=r;return s.setMeta($F,{copied:!0}),n&&n(s),!0}},nz=function(e,t){return function(n,r){var o=n.tr,i=function(e){o=e};t?t(n,i):qg(e,!1)(n,i);var a=$F.getState(n);return null!=a&&a.copied&&o.setMeta($F,{copied:!1}),r&&r(o),!0}},rz=function(e,t,n,r,o){var i=$F.getState(e);return{id:"editor.floatingToolbar.copy",type:"button",appearance:"subtle",icon:KF.a,onClick:tz(n),title:t(null!=i&&i.copied?Nc.copiedToClipboard:Nc.copyToClipboard),onMouseEnter:r||qg(n,!0,"ak-editor-selected-node"),onMouseLeave:nz(n,o),onFocus:qg(n,!0,"ak-editor-selected-node"),onBlur:qg(n,!1),hideTooltipOnClick:!1,tabIndex:null}},oz=function(e){return e&&e.plugins.find((function(e){return e.key===$F.key}))},iz=Object(ko.b)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"},collapseTable:{id:"fabric.editor.collapseTable",defaultMessage:"Collapse table",description:"Wraps table in an expand"}}),az=function(e){var t=e.selection;return db(t,"cell")?UI(t):Kb(t.$from)},cz=function(e){return function(t,n){var r=qb(t.selection),o=SR(t),i=VE.getState(t);if(r&&o.editorHasFocus){var a,c=t.schema.nodes.table,s=function(e,t,n){var r=n.formatMessage,o=[{id:"editor.table.headerRow",title:r(iz.headerRow),onClick:Object(Ot.c)((function(e){var t=uN(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=SR(e).isHeaderRowEnabled;return{action:HN.a.TOGGLED_HEADER_ROW,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:wt.e.TRACK}}))(_D),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{id:"editor.table.headerColumn",title:r(iz.headerColumn),onClick:Object(Ot.c)((function(e){var t=uN(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=SR(e).isHeaderColumnEnabled;return{action:HN.a.TOGGLED_HEADER_COLUMN,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:wt.e.TRACK}}))(AD),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{id:"editor.table.numberedColumn",title:r(iz.numberedColumn),onClick:Object(Ot.c)((function(e){var t=uN(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:HN.a.TOGGLED_NUMBER_COLUMN,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{newState:!YM(e.selection),totalRowCount:n,totalColumnCount:r},eventType:wt.e.TRACK}}))(PD),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn},{id:"editor.table.collapseTable",title:r(iz.collapseTable),onClick:Object(Ot.c)((function(e){var t=uN(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:HN.a.COLLAPSED,actionSubject:wt.b.TABLE,actionSubjectId:null,attributes:{totalRowCount:n,totalColumnCount:r},eventType:wt.e.TRACK}}))(VN),selected:!!t.isTableCollapsed,disabled:!t.canCollapseTable,hidden:!e.allowCollapse}];return{id:"editor.table.tableOptions",type:"dropdown",title:r(iz.tableOptions),hidden:o.every((function(e){return e.hidden})),options:o}}(e,o,n),u=uz(e,t,n),l=r.node.attrs.localId;l&&function(e,t){var n=!1;return e.doc.descendants((function(r){if(n)return!1;var o=r.marks.find((function(t){return t.type===e.schema.marks.dataConsumer}));return!o||!(n=(o.attrs.sources||[]).includes(t))})),n}(t,l)&&(a={okButtonLabel:n.formatMessage(vF.confirmDeleteLinkedModalOKButton),message:n.formatMessage(vF.confirmDeleteLinkedModalMessage)});return{title:"Table floating controls",getDomRef:function(e){var n,r=e.domAtPos.bind(e),o=Object(Qi.findParentDomRefOfType)(c,r)(t.selection);if(o){var i=o.querySelector("table")||void 0;i&&(n=Object(Zi.b)(i,".".concat(Sn.c.TABLE_NODE_WRAPPER))||void 0)}return n},nodeType:c,offset:[0,3],items:[s,sz(s.hidden)].concat(D()(u),[{type:"extensions-placeholder",separator:"end"}],D()(t&&oz(t)?[rz(t,n.formatMessage,c,UL(!1,!0),HL()),{type:"separator"}]:[]),[{id:"editor.table.delete",type:"button",appearance:"danger",icon:Wg.a,onClick:Object(Ot.c)((function(e){var t=e.selection;return pL(t,wt.f.FLOATING_TB)}))(aD),disabled:!!i&&!!i.dragging,onMouseEnter:UL(!0),onMouseLeave:HL(),title:n.formatMessage(Nc.remove),confirmDialog:a}])}}}},sz=function(e){return{type:"separator",hidden:e}},uz=function(e,t,n){var r=n.formatMessage;if(e.allowCellOptionsInFloatingToolbar){var o=az(t);if(o){var i=function(e,t,n){var r=n.formatMessage,o=t.top,i=t.bottom,a=t.right-t.left,c=i-o,s=[{id:"editor.table.insertColumn",title:r(vF.insertColumn),onClick:function(e,t,n){var r=az(e),o=null==r?void 0:r.right;return o&&lL(wt.f.FLOATING_TB,o)(e,t,n),!0},selected:!1,disabled:!1},{id:"editor.table.insertRow",title:r(vF.insertRow),onClick:function(e,t){var n=az(e),r=null==n?void 0:n.bottom;return r&&uL(wt.f.FLOATING_TB,{index:r,moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.removeColumns",title:r(vF.removeColumns,{0:a}),onClick:function(e,t,n){var r=az(e);return r&&fL(wt.f.FLOATING_TB,r)(e,t,n),!0},selected:!1,disabled:!1},{id:"editor.table.removeRows",title:r(vF.removeRows,{0:c}),onClick:function(e,t){var n=az(e);return n&&dL(wt.f.FLOATING_TB,n,!1)(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.mergeCells",title:r(WF.mergeCells),onClick:iL(),selected:!1,disabled:!FD(e.tr)},{id:"editor.table.splitCell",title:r(WF.splitCell),onClick:aL(),selected:!1,disabled:!mF(e)},{id:"editor.table.clearCells",title:r(WF.clearCells,{0:Math.max(a,c)}),onClick:function(e,t){var n=SR(e).targetCellPosition;return oL(wt.f.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1}];return{id:"editor.table.cellOptions",type:"dropdown",title:r(vF.cellOptions),hidden:!0,options:s}}(t,o,{formatMessage:r});return[i,sz(i.hidden)]}}return[]},lz=Object(T.c)(JF||(JF=S()(["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  && button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  && button > span {\n    margin: 0px -4px;\n  }\n  && span {\n    pointer-events: none;\n  }\n"])),Object(ot.a)("color.background.neutral",Ce.N20),Object(Ze.d)(),Object(ot.a)("color.border.inverse",Ce.N0),jn.e-2);function dz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var fz=function(e){b()(n,e);var t=dz(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleClick",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;e.props.isContextualMenuOpen||MD()(n,r)})),e}return p()(n,[{key:"render",value:function(){var e,t=this.props,n=t.mountPoint,r=t.scrollableElement,o=t.editorView,i=t.targetCellPosition,a=t.isContextualMenuOpen,c=t.intl.formatMessage,s=t.dispatchAnalyticsEvent,u=o.domAtPos.bind(o);try{e=Object(Qi.findDomRefAtPos)(i,u)}catch(e){if(console.warn(e),s)s({action:wt.a.ERRORED,actionSubject:wt.b.CONTENT_COMPONENT,eventType:wt.e.OPERATIONAL,attributes:{component:wt.d.FLOATING_CONTEXTUAL_BUTTON,selection:o.state.selection.toJSON(),position:i,docSize:o.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}})}if(!(e&&e instanceof HTMLElement))return null;var l=Object(Zi.b)(e,".".concat(Sn.c.TABLE_NODE_WRAPPER)),d=c(vF.cellOptions),f=Object(T.d)("div",{css:lz},Object(T.d)(qc.b,{className:Sn.c.CONTEXTUAL_MENU_BUTTON,selected:a,title:d,onClick:this.handleClick,iconBefore:Object(T.d)(Of.a,{label:""}),"aria-label":d})),p=e.parentElement&&e.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&p){var h=e.getBoundingClientRect();return Object(T.d)("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:he.o,left:h.left+e.clientWidth-20-3}},f)}return Object(T.d)(Hd.a,{alignX:"right",alignY:"start",target:e,mountTo:l||n,boundariesElement:e,scrollableElement:r,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:he.J},f)}},{key:"shouldComponentUpdate",value:function(e){return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}]),n}(i.a.Component);E()(fz,"displayName","FloatingContextualButton");var pz,hz=Object(Ji.c)(fz),mz=function(e){return Object(T.d)(ci,{component:wt.b.FLOATING_CONTEXTUAL_BUTTON,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,fallbackComponent:null},Object(T.d)(hz,e))},vz=Object(T.c)(pz||(pz=S()(["\n  ."," {\n    border-radius: ","px;\n    background: ",";\n    box-shadow: ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: ","px;\n    padding: 8px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    display: flex;\n\n    &::before {\n      content: '';\n      display: block;\n      border: 1px solid ",";\n      border-radius: ","px;\n      width: 20px;\n      height: 20px;\n    }\n\n    &::after {\n      content: '';\n      margin-left: 4px;\n      line-height: 20px;\n      color: ",";\n    }\n  }\n"])),Sn.c.CONTEXTUAL_SUBMENU,Object(Ze.d)(),Object(ot.a)("elevation.surface.overlay","white"),Object(ot.a)("elevation.shadow.overlay","0 4px 8px -2px ".concat(Ce.N60A,", 0 0 1px ").concat(Ce.N60A)),jn.d,Sn.c.CONTEXTUAL_MENU_ICON,AI.d,Object(Ze.d)(),Object(ot.a)("color.icon",Ce.N90)),bz=function(e,t){var n=zI.getState(t).tableRef,r=-jn.e;if(n&&e){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top-i.top;a<200&&(r-=a+2)}return[jn.e/2,r]},gz=function(e){var t=e.mountPoint,n=e.boundariesElement,r=e.scrollableElement,o=e.editorView,i=e.isOpen,a=e.pluginConfig,c=SR(o.state).targetCellPosition;if(!i||!c||o.state.doc.nodeSize<=c)return null;var s=o.state.selection,u=db(s,"cell")?UI(s):Kb(s.$from);if(!u)return null;var l=o.domAtPos.bind(o),d=Object(Qi.findDomRefAtPos)(c,l);return d?Object(T.d)(Hd.a,{alignX:"right",alignY:"top",target:d,mountTo:t,boundariesElement:n,scrollableElement:r,fitHeight:188,fitWidth:jn.d,zIndex:he.o,forcePlacement:!0,offset:[-7,0]},Object(T.d)("div",{css:vz},Object(T.d)(qF,{editorView:o,offset:bz(d,o.state),isOpen:i,targetCellPosition:c,allowColumnSorting:a&&a.allowColumnSorting,allowMergeCells:a.allowMergeCells,allowBackgroundColor:a.allowBackgroundColor,selectionRect:u,boundariesElement:n}))):null};gz.displayName="FloatingContextualMenu";var yz=gz,Oz=Object(Ji.c)((function(e){var t=e.style,n=e.onClick,r=e.onMouseEnter,o=e.onMouseLeave,a=e.removeLabel,c=e.intl.formatMessage;return i.a.createElement("div",{className:Sn.c.CONTROLS_DELETE_BUTTON_WRAP,style:t,onMouseEnter:r,onMouseLeave:o},i.a.createElement("button",{type:"button",title:c(a,{0:1}),className:Sn.c.CONTROLS_DELETE_BUTTON,onMouseDown:n,onMouseMove:function(e){return e.preventDefault()}},i.a.createElement("svg",{className:Sn.c.CONTROLS_BUTTON_ICON},i.a.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))}));function wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wz(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ez=jn.G+jn.w+jn.v;function xz(e){var t=e.left,n=e.top,r=e.selectionType,o=e.tableWrapper;switch(r){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,Ez],shouldRenderPopup:function(){if(t){var n=t.getBoundingClientRect().width+t.scrollLeft-jn.w,r=t.scrollLeft;return n-e>0&&e>r}return!0}}}(t,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:function(e){return kz(kz({},e),{},{left:-Ez})}}}(n);default:return{}}}function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sz(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Tz=function(e){b()(n,e);var t=Cz(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"wrapper",null),E()(m()(r),"updateWrapper",(function(){var e=Object(Zi.b)(r.props.tableRef,".".concat(Sn.c.TABLE_NODE_WRAPPER));e?(r.wrapper=e,r.wrapper.addEventListener("scroll",r.onWrapperScrolled),r.setState({scrollLeft:e.scrollLeft})):(r.wrapper&&(r.wrapper.removeEventListener("scroll",r.onWrapperScrolled),r.setState({scrollLeft:0})),r.wrapper=null)})),E()(m()(r),"onWrapperScrolled",(function(e){var t=e.target;r.setState({scrollLeft:t.scrollLeft})})),E()(m()(r),"handleMouseEnter",(function(){var e=r.props.editorView,t=e.state,n=e.dispatch;switch(r.state.selectionType){case"row":return zL(r.state.indexes,!0)(t,n,r.props.editorView);case"column":return FL(r.state.indexes,!0)(t,n,r.props.editorView)}return!1})),E()(m()(r),"handleMouseLeave",(function(){var e=r.props.editorView,t=e.state,n=e.dispatch;return HL()(t,n)})),E()(m()(r),"handleClick",(function(){var e=r.props.editorView,t=e.state,n=e.dispatch,o=SR(t).pluginConfig.isHeaderRowRequired,i=UI(t.selection);if(i)switch(r.state.selectionType){case"column":return void fL(wt.f.BUTTON,i)(t,n);case"row":return void dL(wt.f.BUTTON,i,!!o)(t,n)}var a=r.props.editorView;t=a.state,n=a.dispatch,HL()(t,n)})),r.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0},r}return p()(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}},{key:"componentDidMount",value:function(){this.updateWrapper()}},{key:"componentDidUpdate",value:function(){this.updateWrapper()}},{key:"componentWillUnmount",value:function(){this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}},{key:"render",value:function(){var e=this.props,t=e.mountPoint,n=e.boundariesElement,r=e.tableRef,o=this.state.selectionType;if(!o||!r)return null;var c=Object(Zi.b)(r,".".concat(Sn.c.TABLE_CONTAINER)),s=i.a.createElement(Oz,{removeLabel:"column"===o?vF.removeColumns:vF.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),u=xz({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),l=c||t;if("sticky"===this.state.position&&l){var d=r.querySelector("tr.sticky");if(d){var f=d.getBoundingClientRect(),p=(u.onPositionCalculated||function(e){return e})({left:this.state.left,top:this.state.top});return Object(a.createPortal)(i.a.createElement("div",{style:{position:"fixed",top:p.top,zIndex:jn.m,left:f.left+(p.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?he.P:0)}},s),l)}}return i.a.createElement(Hd.a,_e()({target:r,mountTo:l,boundariesElement:c||n,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},u),s)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=function(e){if(!tR(e)&&e instanceof Oa.a){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection),r=e.stickyHeaders&&e.stickyHeaders.sticky,o=UI(e.selection),i=o&&0===o.top&&1===o.bottom,a=r&&i,c=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":var s=function(e,t){var n=UI(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.left;i++){var a=e[i];a&&(o+=a-1)}for(var c=[],s=n.left;s<n.right;s++){var u=e[s];u&&(r+=u,c.push(s))}return{left:o+r/2-jn.w/2,indexes:c}}(function(e){var t=e.state.selection,n=[],r=qb(t);if(r){var o=ub.b.get(r.node),i=e.domAtPos.bind(e);n=Array.from({length:o.width});for(var a=0;a<o.width;a++){var c=rN(a)(t)[0];if(c){var s=Object(Qi.findDomRefAtPos)(c.pos,i),u=s.getBoundingClientRect();n[a]=(u?u.width:s.offsetWidth)+1,a+=c.node.attrs.colspan-1}}}return n}(e.editorView),e.editorView.state.selection);return s?jz(jz({},s),{},{top:r?e.stickyHeaders.top:0,position:r?"sticky":void 0,selectionType:n}):null;case"row":if(e.tableRef){var u=oR(e.tableRef),l=r?-u[0]:0,d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=UI(t);if(!r)return null;for(var o=0,i=n,a=0;a<r.top;a++){var c=e[a];c&&(i+=c-1)}for(var s=[],u=r.top;u<r.bottom;u++){var l=e[u];l&&(o+=l-1,s.push(u))}var d=i+o/2-jn.w/2;return{top:d,indexes:s}}(u,e.editorView.state.selection,a?c:l);if(d)return jz(jz({},d),{},{position:a?"sticky":void 0,left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}}]),n}(o.Component);E()(Tz,"displayName","FloatingDeleteButton");var _z=Tz;function Az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Az(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Iz=-jn.y/2,Mz=Iz+he.P,Rz=jn.G+jn.x,Nz=-(jn.G+jn.x+jn.y),Dz=jn.y/2;var Lz=function(e,t,n,r){switch(e){case"column":return function(e,t,n){var r={alignX:"end",alignY:"top",offset:[Iz,Rz],onPositionCalculated:function(r){var o=r.left;if(!o)return r;if(0===e)return Pz(Pz({},r),{},{left:n?Mz:Iz});var i=t?t.getBoundingClientRect():null;return Pz(Pz({},r),{},{left:i&&o>i.width?i.width:o})}};return 0===e?Pz(Pz({},r),{},{alignX:"left",alignY:"top"}):r}(t,r,n);case"row":return function(e){var t={alignX:"left",alignY:"bottom",offset:[0,Dz]};return 0===e&&(t=Pz(Pz({},t),{},{alignY:"top",offset:[0,-Dz]})),Pz(Pz({},t),{},{onPositionCalculated:function(e){return Pz(Pz({},e),{},{left:Nz})}})}(t);default:return{}}},Bz=function(e,t){var n=t?e.getBoundingClientRect().top-4*En.h-3:jn.G+3;return e.offsetHeight+n},Fz=function(e){var t=e.parentElement,n=e.offsetWidth,r=t.offsetWidth,o=t.scrollLeft,i=n-r,a=function(e){var t=Object(Zi.b)(e,".".concat(Sn.c.TABLE_CONTAINER));return t&&t.querySelector(".".concat(Sn.c.NUMBERED_COLUMN))?jn.G+he.P-1:jn.G}(e);return Math.min(n+a,r+a-Math.max(o-i,0))+4},zz=function(e){return"row"===e?vF.insertRow:vF.insertColumn},Uz=Object(Ji.c)((function(e){var t=e.onMouseDown,n=e.tableRef,r=e.type,o=e.intl.formatMessage,a=e.hasStickyHeaders,c=i.a.createElement(tu.a,{content:i.a.createElement(nu.ToolTipContent,{description:o(zz(r)),keymap:"row"===r?nu.addRowAfter:nu.addColumnAfter}),position:"top"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Sn.c.CONTROLS_INSERT_BUTTON_INNER},i.a.createElement("button",{type:"button",className:Sn.c.CONTROLS_INSERT_BUTTON,onMouseDown:t},i.a.createElement("svg",{className:Sn.c.CONTROLS_BUTTON_ICON},i.a.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),i.a.createElement("div",{className:Sn.c.CONTROLS_INSERT_LINE,style:"row"===r?{width:Fz(n)}:{height:Bz(n,a)}}))),s="column"===r?Sn.c.CONTROLS_FLOATING_BUTTON_COLUMN:Sn.c.CONTROLS_FLOATING_BUTTON_ROW;return i.a.createElement("div",{className:s},i.a.createElement("div",{className:"".concat(Sn.c.CONTROLS_INSERT_BUTTON_WRAP," ").concat(Sn.c.CONTROLS_INSERT_ROW)},c))}));function Hz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Wz=function(e){b()(n,e);var t=Hz(n);function n(e){var r;return d()(this,n),(r=t.call(this,e)).insertColumn=r.insertColumn.bind(m()(r)),r.insertRow=r.insertRow.bind(m()(r)),r}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.tableNode,n=e.editorView,r=e.insertColumnButtonIndex,o=e.insertRowButtonIndex,a=e.tableRef,c=e.mountPoint,s=e.boundariesElement,u=e.isHeaderColumnEnabled,l=e.isHeaderRowEnabled,d=e.dispatchAnalyticsEvent,f=void 0!==r?"column":void 0!==o?"row":null;if(!t||!a||!f)return null;if("column"===f&&u&&0===r||"row"===f&&l&&0===o)return null;var p=n.state.tr;if(p.selection instanceof Oa.a&&(p.selection.isColSelection()||p.selection.isRowSelection()))return null;var h=this.getCellPosition(f);if(!h)return null;var m=qb(n.state.selection);if(!m)return null;var v,b=n.domAtPos.bind(n),g=h+m.start+1;try{v=Object(Qi.findDomRefAtPos)(g,b)}catch(e){if(console.warn(e),d)d({action:wt.a.ERRORED,actionSubject:wt.b.CONTENT_COMPONENT,eventType:wt.e.OPERATIONAL,attributes:{component:wt.d.FLOATING_INSERT_BUTTON,selection:n.state.selection.toJSON(),position:g,docSize:n.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}})}if(!(v&&v instanceof HTMLElement))return null;var y="row"===f?Object(Zi.b)(v,"tr"):Object(Zi.b)(v,"td, th");if(!y)return null;var O=Object(Zi.b)(y,".".concat(Sn.c.TABLE_CONTAINER)),w=Object(Zi.b)(y,".".concat(Sn.c.TABLE_NODE_WRAPPER)),k="column"===f?r:o,E=YM(n.state.selection);return i.a.createElement(Hd.a,_e()({target:y,mountTo:O||c,boundariesElement:O||s,scrollableElement:w,forcePlacement:!0,allowOutOfBounds:!0},Lz(f,k,E,O)),i.a.createElement(Uz,{type:f,tableRef:a,onMouseDown:"column"===f?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}},{key:"getCellPosition",value:function(e){var t=this.props,n=t.tableNode,r=t.insertColumnButtonIndex,o=t.insertRowButtonIndex,i=ub.b.get(n);if("column"===e){var a=0===r?0:r-1;return a>i.width-1?null:i.positionAt(0,a,n)}var c=0===o?0:o-1;return c>i.height-1?null:i.positionAt(c,0,n)}},{key:"insertRow",value:function(e){var t=this.props,n=t.editorView,r=t.insertRowButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;uL(wt.f.BUTTON,{index:r,moveCursorToInsertedRow:!0})(o,i)}}},{key:"insertColumn",value:function(e){var t=this.props,n=t.editorView,r=t.insertColumnButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;lL(wt.f.BUTTON,r)(o,i,n)}}}]),n}(i.a.Component);E()(Wz,"displayName","FloatingInsertButton");var Vz=Object(Ji.c)(Wz);function qz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function Gz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gz(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $z=function(e){return Kz(Kz({},e),{},{top:e.top?e.top+12:void 0})},Yz=function(e){b()(n,e);var t=qz(n);function n(){var e;d()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),E()(m()(e),"stickyButtonRef",Object(o.createRef)()),E()(m()(e),"resizeObserver",new ResizeObserver((function(t){t.forEach((function(t){var n=e.stickyButtonRef.current,r=e.props.targetRef;if(n&&r){var o=r.getBoundingClientRect();n.style.left="".concat(o.right,"px")}}))}))),E()(m()(e),"handleClick",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;hL()(n,r)})),e}return p()(n,[{key:"getTitle",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.layout;return t(function(e){switch(e){case"default":return Nc.layoutWide;case"wide":return Nc.layoutFullWidth;default:return Nc.layoutFixedWidth}}(void 0===n?"default":n))}},{key:"toolbarButton",value:function(){var e=this.props,t=e.isResizing,n=e.layout,r=void 0===n?"default":n,o=this.getTitle();return i.a.createElement("div",{className:Jl()(Sn.c.LAYOUT_BUTTON,E()({},Sn.c.IS_RESIZING,t))},i.a.createElement(qc.b,{title:o,onClick:this.handleClick,iconBefore:"full-width"===r?i.a.createElement(Vd.a,{label:o}):i.a.createElement(Gd.a,{label:o})}))}},{key:"getStickyTargetRef",value:function(e){var t=this.props.editorView,n=t.domAtPos.bind(t),r=Object(Qi.findDomRefAtPos)(e,n);return r.dataset.headerRow&&r.classList.contains("sticky")?r:null}},{key:"renderSticky",value:function(e,t,n){var r=this.getTitle();if(!(t instanceof HTMLElement&&n instanceof HTMLElement))return null;var o=t.getBoundingClientRect(),a=n.getBoundingClientRect();return i.a.createElement("div",{ref:this.stickyButtonRef,"aria-label":r,style:{position:"fixed",top:o.top+22,left:a.right}},e)}},{key:"renderPopup",value:function(e){var t=this.props,n=t.mountPoint,r=t.boundariesElement,o=t.scrollableElement,a=t.targetRef;if(!a)return null;var c=this.getTitle();return i.a.createElement(Hd.a,{ariaLabel:c,target:a,alignY:"start",alignX:"end",onPositionCalculated:$z,stick:!0,mountTo:n,boundariesElement:r,scrollableElement:o,forcePlacement:!0},e)}},{key:"render",value:function(){var e=this.props.stickyHeader,t=this.toolbarButton(),n=e&&e.sticky&&e.pos?this.getStickyTargetRef(e.pos):null;return n&&this.props.targetRef?this.renderSticky(t,n,this.props.targetRef):this.renderPopup(t)}},{key:"componentDidMount",value:function(){var e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent");e instanceof HTMLElement&&this.resizeObserver.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent");e instanceof HTMLElement&&this.resizeObserver.unobserve(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.targetRef,r=t.layout,o=t.isResizing;return t.stickyHeader!==e.stickyHeader||n!==e.targetRef||r!==e.layout||o!==e.isResizing}}]),n}(i.a.Component);E()(Yz,"displayName","LayoutButton");var Xz=Object(Ji.c)(Yz),Jz=function(e){return{name:"table",nodes:function(){return[{name:"table",node:AI.c},{name:"tableHeader",node:AI.k},{name:"tableRow",node:AI.n},{name:"tableCell",node:AI.g}]},pmPlugins:function(){var t=[{name:"table",plugin:function(t){var n=t.dispatchAnalyticsEvent,r=t.dispatch,o=t.portalProviderAPI,i=t.eventDispatcher,a=e||{},c=a.fullWidthEnabled,s=a.wasFullWidthEnabled,u=a.breakoutEnabled,l=a.tableOptions;return eF(n,r,o,i,MI(l),u,c,s)}},{name:"tablePMColResizing",plugin:function(t){var n=t.dispatch,r=e||{},o=r.fullWidthEnabled,i=r.tableOptions;return MI(i).allowColumnResizing?hF(n,{lastColumnResizable:!o}):void 0}},{name:"tableEditing",plugin:function(){return new Za.a({state:{init:function(){return ft.b.empty},apply:function(e,t,n){var r=t,o=e.getMeta(zI);return o&&o.data&&o.data.decorationSet&&(r=o.data.decorationSet),e.docChanged||e.selectionSet?iM(e,r,n):r}},key:rM,props:{decorations:function(e){return oM(e)}}})}},{name:"tableKeymap",plugin:function(){return gL()}},{name:"tableSelectionKeymap",plugin:function(){return NL()}},{name:"tableEditing",plugin:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowTableNodeSelection,n=void 0!==t&&t;return new dt.Plugin({key:lI,state:{init:function(){return null},apply:function(e,t){var n=e,r=n.getMeta(lI);if(null!=r)return-1===r?null:r;if(null==t||!n.docChanged)return t;var o=n.mapping.mapResult(t),i=o.deleted,a=o.pos;return i?null:a}},props:{decorations:uI,handleDOMEvents:{mousedown:kI},createSelectionBetween:function(e){return null!=lI.getState(e.state)?e.state.selection:null},handleTripleClick:wI,handleKeyDown:vI,handlePaste:cI},appendTransaction:function(e,t,r){return mI(r,hI(r,t),n)}})}()}},{name:"tableStickyHeaders",plugin:function(t){var n=t.dispatch,r=t.eventDispatcher;return e&&e.tableOptions.stickyHeaders?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};return new Za.a({state:oF(e,n),key:uB,props:{nodeViews:{tableRow:function(e,n,r){return new dF(e,n,r,t)}}}})}(n,r):void 0}},{name:"tableLocalId",plugin:function(e){var t=e.dispatch;return LI(t)}}];return xe.a.safari&&t.push({name:"tableSafariDelayedDomSelectionSyncingWorkaround",plugin:function(){return e=null,new Za.a({key:BI,props:{handleDOMEvents:{mousedown:function(t){return e&&e(),setTimeout((function(){t.mouseDown&&(e=t.mouseDown.done.bind(t.mouseDown),t.mouseDown=null)})),!1}}}});var e}}),xe.a.safari&&t.push({name:"tableSafariDeleteCompositionTextIssueWorkaround",plugin:function(){return new Za.a({key:FI,state:{init:function(){return{renderSpan:!1,decorations:ft.b.empty}},apply:function(e,t){var n,r=e.getMeta(FI);if(void 0===r)return t;if(r){var o=e.selection.$from,i=o.before(o.depth),a=ft.a.widget(i,(function(){return document.createElement("span")}));n=ft.b.create(e.doc,[a])}else n=ft.b.empty;return{renderSpan:r,decorations:n}}},props:{decorations:function(e){return FI.getState(e).decorations},handleDOMEvents:{beforeinput:function(e,t){if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;var n=window.getSelection();if(!n||n.rangeCount<=0||"Range"!==n.type)return!1;var r=n.getRangeAt(0),o=r.startContainer,i=r.endContainer,a=r.endOffset,c=r.startOffset;if(o.nodeType===Node.TEXT_NODE&&o===i&&0===c&&a===o.length){var s=e.state.tr;s.setMeta(FI,!0),e.dispatch(s)}return!1},input:function(e,t){if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;if(!window.getSelection())return!1;var n=e.state.tr;return n.setMeta(FI,!1),e.dispatch(n),!1}}}})}}),t},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=t.popupsScrollableElement,c=t.dispatchAnalyticsEvent;return i.a.createElement(ci,{component:wt.b.TABLES_PLUGIN,dispatchAnalyticsEvent:c,fallbackComponent:null},i.a.createElement(Xa.a,{plugins:{tablePluginState:zI,tableResizingPluginState:VE,stickyHeadersState:uB},render:function(t){var s=t.tableResizingPluginState,u=t.stickyHeadersState,l=t.tablePluginState,d=n.state,f=null==s?void 0:s.dragging,p=l,h=p.tableNode,m=p.tablePos,v=p.targetCellPosition,b=p.isContextualMenuOpen,g=p.layout,y=p.tableRef,O=p.pluginConfig,w=p.insertColumnButtonIndex,k=p.insertRowButtonIndex,E=p.isHeaderColumnEnabled,x=p.isHeaderRowEnabled,S=p.tableWrapperTarget,j=O.allowControls,C=u?sB(u,m):void 0;return i.a.createElement(i.a.Fragment,null,v&&y&&!f&&e&&e.allowContextualMenu&&i.a.createElement(mz,{isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled,editorView:n,tableNode:h,mountPoint:r,targetCellPosition:v,scrollableElement:a,dispatchAnalyticsEvent:c,isContextualMenuOpen:b,layout:g,stickyHeader:C}),j&&i.a.createElement(Vz,{tableNode:h,tableRef:y,insertColumnButtonIndex:w,insertRowButtonIndex:k,isHeaderColumnEnabled:E,isHeaderRowEnabled:x,editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:a,hasStickyHeaders:C&&C.sticky,dispatchAnalyticsEvent:c}),i.a.createElement(yz,{editorView:n,mountPoint:r,boundariesElement:o,targetCellPosition:v,isOpen:Boolean(b),pluginConfig:O}),j&&i.a.createElement(_z,{editorView:n,selection:n.state.selection,tableRef:y,mountPoint:r,boundariesElement:o,scrollableElement:a,stickyHeaders:C,isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled}),function(e){var t=zI.getState(e).pluginConfig.permittedLayouts,n=e.schema.nodes,r=n.bodiedExtension,o=n.layoutSection,i=n.expand;return!Object(Qi.hasParentNodeOfType)([i,o,r])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)}(d)&&e&&e.breakoutEnabled&&i.a.createElement(Xz,{editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:a,targetRef:S,layout:g,isResizing:!!s&&!!s.dragging,stickyHeader:C}))}}))},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"table",title:t(Gv.a.table),description:t(Gv.a.tableDescription),keywords:["cell","table"],priority:600,keyshortcut:Object(nu.tooltip)(nu.toggleTable),icon:function(){return i.a.createElement(Fv,null)},action:function(e,t){var n=e(_I({schema:t.schema}));return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.TABLE,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]},floatingToolbar:cz(MI(null==e?void 0:e.tableOptions))}}},Zz=n(596),Qz=n(597),eU=n(1213),tU=new dt.PluginKey("tasksAndDecisionsPlugin"),nU=function(e,t){var n=t.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return"taskList"===e?{list:i,item:a}:{list:r,item:o}},rU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt.f.TOOLBAR,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.schema,c=function(t){var n=t.tr,r=t.list,o=t.item,i=t.listLocalId,c=t.itemLocalId;return sU(n,r,o,a,e,i,c)},s=function(e){var t=e.state,n=e.tr,r=e.item,o=e.itemLocalId,i=t.selection.$to,a=i.end(i.depth),c=a+2;return n.split(a,1,[{type:r,attrs:{localId:o}}]).setSelection(new dt.TextSelection(n.doc.resolve(c)))},u=null!=r?r:c,l=iU(e,t,n,u,s,o,i);return l?(Wm(l,["taskList","decisionList"]),l):e.tr},oU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt.f.TOOLBAR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(i,a){var c=rU(i,e,t,n,r,o);return a&&a(c),!0}},iU=function(e,t,n,r,o,i,a){var c,s,u,l=e.schema,d=nU(t,l),f=d.list,p=d.item,h=e.tr,m=e.selection.$to,v=Object(Qi.findParentNodeOfType)(f)(e.selection),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.objectId,n=e.containerId,r=t?eU.a.EDIT:eU.a.NEW;return{objectId:t,containerId:n,userContext:r}}(tU.getState(e).contextIdentifierProvider);if(v){if(m.node().textContent.length>=0){u=v.node.childCount+1,i=i||v.node.attrs.localId;var g=Object(Qi.findParentNodeOfType)(p)(e.selection);s=g?e.doc.resolve(g.pos).index()+1:0,c=o||r}}else s=0,u=1,c=r;if(i=i||Id.b.generate(),a=a||Id.b.generate(),c){var y=c({state:e,tr:h,list:f,item:p,listLocalId:i,itemLocalId:a});return y&&(y=Object(Ot.a)(e,y,function(e,t,n,r,o,i,a){var c,s,u;return t&&(c=t.containerId,s=t.objectId,u=t.userContext),{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:"taskList"===e?wt.c.ACTION:wt.c.DECISION,eventType:wt.e.TRACK,attributes:{inputMethod:n,containerAri:c,objectAri:s,userContext:u,localId:r,listLocalId:o,position:i,listSize:a}}}(t,b,n,a,i,s||0,u||0))),y}return null},aU=function(e,t){var n=e.nodes,r=n.paragraph,o=n.blockquote,i=n.decisionList,a=n.taskList;return Object(Qi.hasParentNodeOfType)([o,r,i,a])(t)},cU=function(e,t){return t.depth-e.depth},sU=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Id.b.generate(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Id.b.generate(),c=o.selection,s=c.$from,u=c.$to;if(s.parent!==u.parent)return null;var l=r.nodes,d=l.paragraph,f=l.blockquote,p=l.decisionList,h=l.taskList,m=l.decisionItem,v=l.taskItem,b=l.mediaGroup;if(s.parent.type===b)return null;var g=t.create({localId:i},[n.create({localId:a})]);if(c instanceof ra.a)return Object(Qi.safeInsert)(g)(e);if(aU(r,c)){var y=c.$from.node(),O=y.type,w=y.childCount,k=t.create({localId:Id.b.generate()},[n.create({localId:Id.b.generate()},s.node(s.depth).content)]),E=Object(Qi.findParentNodeOfType)(f)(c);if(E){var x=s.depth-1,S=new ya.NodeRange(s,u,x);e.lift(S,Object(pt.n)(S))}var j=Object(Qi.findParentNodeOfType)(h)(c)||Object(Qi.findParentNodeOfType)(p)(c),C=Object(Qi.findParentNodeOfType)(v)(c)||Object(Qi.findParentNodeOfType)(m)(c);if(j&&C){var T,_,A=c.from;return j.node.firstChild===C.node?(T=j.start-1,_=C.start+C.node.nodeSize,1===j.node.childCount&&(_=j.start+j.node.nodeSize-1)):(T=C.start-1,_=C.start+C.node.nodeSize,A+=2),e.replaceWith(T,_,k),e=Object(Qi.setTextSelection)(A)(e)}var P=[f];(O===d&&w>0||E)&&P.push(d);var I=e;I=Object(Qi.replaceParentNodeOfType)(P,k)(e);var M=cU(u,I.selection.$to);if(I!==(e=e.setSelection(new dt.TextSelection(e.doc.resolve(u.pos+M)))))return e}return Object(Qi.safeInsert)(g)(e)},uU=function(e,t){return am(e,(function(e,n,r,o){var i=e.schema.nodes.paragraph,a=nU(t,e.schema).list,c=e.doc.resolve(o),s=e.doc.resolve(c.after());return c.parent.type===i&&Object(Qi.canInsert)(s,a.createAndFill())?rU(e,t,wt.f.FORMATTING,lU(r,o)):null}))},lU=function(e,t){return function(n){var r=n.tr,o=n.state,i=n.list,a=n.item,c=n.listLocalId,s=n.itemLocalId,u=o.selection.$from,l=o.schema.nodes.hardBreak,d=u.node(u.depth).content,f=!1;if(d.forEach((function(t,n){t.type===l&&n<e&&(f=!0)})),f){var p=cU(u,r.selection.$from);r.split(u.pos).setSelection(new dt.NodeSelection(r.doc.resolve(u.pos+1))).replaceSelectionWith(i.create({localId:c},[a.create({localId:s},r.doc.nodeAt(u.pos+1).content)])).setSelection(new dt.TextSelection(r.doc.resolve(u.pos+p))).delete(e,t+1)}else r.replaceRangeWith(u.before(),u.after(),i.create({localId:c},[a.create({localId:s},d)])).delete(e+1,t+1).setSelection(new dt.TextSelection(r.doc.resolve(e+1)));return r}};var dU=function(e,t){var n=[],r=e.nodes,o=r.decisionList,i=r.decisionItem,a=r.taskList,c=r.taskItem;return o&&i&&n.push(uU(new RegExp("(^|".concat("",")\\<\\>\\s$")),"decisionList")),a&&c&&n.push(uU(new RegExp("(^|".concat("",")\\[\\]\\s$")),"taskList")),cm("tasks-and-decisions",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})},fU=n(1207),pU=function(e){var t=e.schema.nodes,n=t.decisionItem,r=t.taskItem;return Object(Qi.hasParentNodeOfType)([n,r])(e.selection)},hU=function(e){var t=e.type.schema.nodes;return[t.taskList,t.decisionList].indexOf(e.type)>-1},mU=function(e){var t=e.type.schema.nodes;return[t.taskItem,t.decisionItem].indexOf(e.type)>-1},vU=function(e){var t=e.schema.nodes.taskItem;return Object(Qi.hasParentNodeOfType)([t])(e.selection)},bU=function(e,t){var n=e.doc.type.schema.nodes.taskList,r=t.end(),o=t.doc.resolve(r+1),i=o.nodeAfter;return i&&i.type===n&&o.depth===t.depth-1&&(r+=i.nodeSize),e.blockRange(t.doc.resolve(r))},gU=function(e){var t=e.$from,n=t.doc.type.schema.nodes.taskList,r=Object(uc.b)((function(e){return e.type===n}))(t);return r?t.depth-r.depth:null},yU=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},OU=function(e,t,n){var r=bU(t,n);if(!r)return null;var o=Object(pt.n)(r);return"number"!=typeof o?null:e.lift(r,o).scrollIntoView()},wU=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=OU(e.tr,r,o);return t&&i&&t(i),!!i},kU=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=bU(r,o);if(!i)return!0;var a=Object(pt.k)(i,e.schema.nodes.taskList);return!a||(t&&t(e.tr.wrap(i,a).scrollIntoView()),!0)},EU=function(e){return function(t,n){var r=Object(Ss.c)(e);if(!r)return!1;var o=r.doc.type.schema.nodes.paragraph;if(r.nodeBefore&&hU(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===o){for(var i=r.doc.resolve(r.pos-1);!mU(i.parent);)i=t.doc.resolve(i.pos-1);var a=t.tr.doc.slice(i.pos,r.pos),c=t.tr.step(new pt.b(i.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,a,0,!0));return n&&n(c),!0}return!1}};function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var SU=function(e,t){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_INDENT,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,previousIndentationLevel:e,newIndentLevel:t===fU.a.OUTDENT?e-1:e+1,direction:t,indentType:fU.b.TASK_LIST}}},jU=function(e){var t=function(e){return e.doc.resolve(e.end()).nodeAfter}(e);return!t||mU(t)},CU=Object(Ss.b)(vU,(function(e,t){var n=gU(e.selection);return!(!n||1===n)&&Object(Ot.c)(SU(n,fU.a.OUTDENT))(Object(hm.a)(wU,["taskList"]))(e,t)})),TU=function(e){var t=gU(e.selection),n=function(e){var t=e.selection.$from,n=Object(Qi.findParentNodeClosestToPos)(t,(function(e){return"taskList"===(null==e?void 0:e.type.name)}));return t.index(n?n.depth:void 0)}(e),r=e.schema.nodes,o=r.tableCell,i=r.tableHeader,a=Object(Qi.findParentNodeOfType)([o,i])(e.selection);return!(!(1===t&&0===n||function(e){var t=e.schema.nodes.decisionItem;return Object(Qi.hasParentNodeOfType)([t])(e.selection)}(e))||!a)},_U=Object(Ss.b)(vU,(function(e,t){var n=gU(e.selection);if(!n||n>=6)return!0;var r=e.schema.nodes,o=r.taskList,i=r.taskItem,a=e.selection;return function(e,t,n){var r=Object(uc.b)((function(e){return n.indexOf(e.type)>-1}))(e);if(!r)return-1;var o=e.depth-r.depth,i=bU(e,t);if(!i)return-1;var a=e.depth;return e.doc.nodesBetween(i.start,i.end,(function(t,r,o){if(a=Math.max(e.doc.resolve(r).depth,a),n.indexOf(t.type)>-1)return!0})),o+(a-e.depth)}(a.$from,a.$to,[o,i])>=6||Object(Ot.c)(SU(n,fU.a.INDENT))(Object(hm.a)(kU,["taskList"]))(e,t)})),AU=Object(Ss.b)(Ss.f,Object(hm.a)(Object(hm.c)((function(e,t){return EU(e.selection.$from)(e,t)}),Object(Ss.b)(pU,(function(e,t){return(n=e.selection.$from,function(e,t){var r=n.doc.resolve(n.before());if(r.nodeBefore&&mU(r.nodeBefore)&&2===r.nodeBefore.nodeSize)return!1;var o=e.schema.nodes,i=o.taskList,a=o.paragraph;if(n.node(n.depth-2).type===i)return CU(e,t);if(jU(n)){if(t){var c=e.doc.slice(n.start(),n.end()).content,s=c.size?a.createChecked(void 0,c):a.createChecked();t(MU(e.tr,s,n,!0))}return!0}return!1})(e,t);var n}))),["taskList","decisionList"])),PU=Object(Ss.b)([pU,Ss.e],Object(hm.c)((function(e,t){var n=yU(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.taskItem,a=r.decisionList,c=r.decisionItem,s=r.paragraph,u=r.bulletList,l=r.orderedList,d=r.listItem;if(!Object(Qi.findParentNodeOfTypeClosestToPos)(n,[o,i,a,c])){if(n.parent.type===s)return EU(n.doc.resolve(n.pos))(e,t);if((n.parent.type===u||n.parent.type===l)&&n.parent.firstChild&&n.parent.firstChild.type===d){var f=e.doc.resolve(n.pos+1),p=OU(e.tr,f,f);return Object(hm.a)((function(e,t){return!!p&&(t&&t(p),!0)}),["bulletList","orderedList"])(e,t)}}return!1}),(function(e,t){var n=yU(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.paragraph,a=r.doc;if(!n.parent||n.parent.type===a)return!1;var c=n.doc.resolve(n.before());if(c.nodeBefore&&mU(c.nodeBefore)&&2===c.nodeBefore.nodeSize)return!1;if(n.node(n.depth-2).type===o||n.node(n.depth-1).type===o&&n.parent.type===o){var s=OU(e.tr,n,n);return t&&s&&t(s),!0}if(function(e){if(!e)return!1;var t=e.type.schema.nodes;return[t.table,t.tableHeader,t.tableCell,t.tableRow].includes(e.type)}(c.nodeBefore))return!1;if(jU(e.selection.$from)){if(t){var u=e.doc.slice(n.start(),n.end()).content,l=u.size?i.createChecked(void 0,u):[];t(MU(e.tr,l,n,!1))}return!0}return!1}))),IU=Object(hm.a)(PU,["taskList","decisionList"]),MU=function(e,t,n,r){var o=e.doc,i=n.node(n.depth-2),a=n.index(n.depth-1),c=!(!hU(i)&&0===a);c&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:Id.b.generate()}}]));var s=ya.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),s.size?new ya.Slice(s,0,0):ya.Slice.empty),r&&(e=e.setSelection(new dt.TextSelection(e.doc.resolve(n.pos+1-(c?0:2)))));var u=o.resolve(n.after());if(u.depth===n.depth-1&&u.nodeAfter&&hU(u.nodeAfter)){var l=e.mapping.map(u.pos+2),d=e.doc.resolve(l),f=bU(d,e.doc.resolve(d.after(d.depth-1)-1));f&&(e=e.lift(f,f.depth-1).scrollIntoView()),e=e.deleteRange(l-3,l-1)}return e},RU=Object(Ss.b)(pU,Object(hm.c)(Object(Ss.b)((function(e){var t=e.selection,n=e.schema,r=t.$from,o=r.node(r.depth);return o&&(o.type===n.nodes.taskItem||o.type===n.nodes.decisionItem)&&0===o.content.size}),Object(hm.c)(CU,(function(e,t){var n=e.tr,r=e.selection.$from,o=e.schema.nodes.paragraph;return!!jU(r)&&(t&&t(MU(n,o.createChecked(),r,!0)),!0)}))),(function(e,t){var n=e.selection,r=e.schema.nodes.taskItem,o=n.$from,i=n.$to,a=o.node(o.depth),c=a&&a.type,s=iU(e,c===r?"taskList":"decisionList",wt.f.KEYBOARD,(function(e){var t=e.tr,n=e.itemLocalId;if(o.pos===i.pos&&0===o.parentOffset){var r=c.createAndFill({localId:n});if(r)return t.insert(o.pos-1,r)}return t.split(o.pos,1,[{type:c,attrs:{localId:n}}])}));return s&&t&&(s.scrollIntoView(),t(s)),!0})));var NU,DU,LU,BU,FU,zU,UU=function(e,t,n){var r={"Shift-Tab":Object(Ss.b)([pU,function(e){return!TU(e)}],(function(e,t){return CU(e,t)||!!n})),Tab:Object(Ss.b)([pU,function(e){return!TU(e)}],(function(e,t){return _U(e,t)||!!n}))};return dp(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xU(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Backspace:AU,Delete:IU,Enter:RU},t?r:n?{"Shift-Tab":pU,Tab:pU}:{}))},HU=n(296),WU=n.n(HU),VU=EF.c.span(NU||(NU=S()(["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 4px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"])),(function(e){return e.showPlaceholder?Object(ot.a)("color.icon.subtle",Ce.N100):Object(Zn.a)({light:Object(ot.a)("color.icon.success",Ce.G400),dark:Object(ot.a)("color.icon.success",Ce.G200)})}),1.5*Object(Ze.i)()),qU=EF.c.div(DU||(DU=S()(["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"]))),GU=EF.c.div(LU||(LU=S()(["\n  display: flex;\n  flex-direction: row;\n  padding: 6px 3px;\n  position: relative;\n"]))),KU=EF.c.div(BU||(BU=S()(["\n  display: flex;\n  flex-direction: row;\n  margin: ","px 0 0 0;\n  padding: ","px;\n  padding-left: ","px;\n  border-radius: ","px;\n  background-color: ",";\n  position: relative;\n\n  .decision-item {\n    cursor: initial;\n  }\n"])),Object(Ze.i)(),Object(Ze.i)(),1.5*Object(Ze.i)(),Object(Ze.d)(),Object(Zn.a)({light:Object(ot.a)("color.background.neutral",Ce.N20A),dark:Object(ot.a)("color.background.neutral",Ce.DN50)})),$U=(EF.c.div(FU||(FU=S()(["\n  margin: -2px 8px;\n"]))),EF.c.span(zU||(zU=S()(["\n  margin: ",";\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"])),(function(e){return"0 0 0 ".concat(e.offset,"px;")}),Object(ot.a)("color.text.subtlest",Ce.N100)));function YU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var XU=function(e){b()(n,e);var t=YU(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"renderPlaceholder",value:function(){var e=this.props,t=e.children,n=e.placeholder,r=e.showPlaceholder,o=e.itemType;if(!r||!n||t)return null;var a=Object(Ze.i)()*("TASK"===o?3:3.5);return i.a.createElement($U,{contentEditable:!1,offset:a},n)}},{key:"renderMessageAppearance",value:function(){var e=this.props,t=e.contentRef,n=e.children,r=e.icon,o=e.itemType,a=e.dataAttributes,c=e.checkBoxId;return"TASK"===o?i.a.createElement(GU,{id:"".concat(c,"-wrapper")},r,this.renderPlaceholder(),i.a.createElement(qU,_e()({},a,{innerRef:t}),n)):"DECISION"===o?i.a.createElement(KU,{"data-decision-wrapper":"true"},r,this.renderPlaceholder(),i.a.createElement(qU,_e()({},a,{innerRef:t}),n)):null}},{key:"render",value:function(){return this.renderMessageAppearance()}}]),n}(o.PureComponent);function JU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(XU,"defaultProps",{appearance:"inline"});var ZU=function(e){b()(n,e);var t=JU(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.children,r=e.contentRef,o=e.placeholder,a=e.showPlaceholder,c=e.dataAttributes,s=i.a.createElement(VU,{showPlaceholder:a},i.a.createElement(WU.a,{label:"Decision",size:"large"}));return i.a.createElement(XU,{appearance:t,contentRef:r,icon:s,placeholder:o,showPlaceholder:a,itemType:"DECISION",dataAttributes:c},n)}}]),n}(o.PureComponent);function QU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(ZU,"defaultProps",{appearance:"inline"});var eH=Object(ko.b)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision",description:"Placeholder description for an empty decision in the editor"}}),tH=function(e){b()(n,e);var t=QU(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.contentRef,n=e.showPlaceholder,r=(0,e.intl.formatMessage)(eH.placeholder);return i.a.createElement(ZU,{contentRef:t,placeholder:r,showPlaceholder:n})}}]),n}(i.a.Component);E()(tH,"displayName","Decision");var nH=Object(Ji.c)(tH);function rH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var oH,iH,aH=function(e){b()(n,e);var t=rH(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="decision-item",{dom:e}}},{key:"render",value:function(e,t){return i.a.createElement(nH,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)&&!kT(this.view.state)})}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(e,t){var r=this;return NE()(w()(n.prototype),"update",this).call(this,e,t,void 0,(function(e,t){return!r.isContentEmpty(t)}))}}]),n}(pE),cH=function(e,t){return function(n,r,o){return new aH(n,r,o,e,t,{},void 0,void 0,void 0,!0).init()}},sH=n(1174),uH=EF.c.span(oH||(oH=S()(["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 4px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    width: 16px;\n    height: 16px;\n    z-index: 1;\n    cursor: pointer;\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + div {\n      box-sizing: border-box;\n      display: inline;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ",";\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ",";\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:focus-visible + div:after {\n      ","\n    }\n    &:not([disabled]):hover + div::after {\n      background: ",";\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + div {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + div::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n      }\n      &:not([disabled]):hover + div::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"])),Object(Ze.i)(),Object(Zn.a)({light:Object(ot.a)("color.background.input",Ce.N0),dark:Object(ot.a)("color.background.input",Ce.DN100)}),Object(Zn.a)({light:Object(ot.a)("color.border",Ce.N90),dark:Object(ot.a)("color.border",Ce.DN200)}),(function(e){return e.isRenderer?Object(EF.b)(iH||(iH=S()(["\n              outline: 2px solid\n                ",";\n            "])),Object(Zn.a)({light:Object(ot.a)("color.border.focused",Ce.B300),dark:Object(ot.a)("color.border.focused",Ce.B75)})):""}),Object(Zn.a)({light:Object(ot.a)("color.background.input",Ce.N30),dark:Object(ot.a)("color.background.input",Ce.B75)})),lH=n(496),dH=Object(lH.a)("fabric-elements");function fH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var pH=0,hH=function(e){return"".concat(e,"-").concat(pH++)},mH=function(e){b()(n,e);var t=fH(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"handleOnChange",(function(e){var t=r.props,n=t.onChange,o=t.taskId,i=t.isDone,a=t.createAnalyticsEvent,c=!i;n&&n(o,c),a&&dH({action:c?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:o}})(a)})),E()(m()(r),"handleOnKeyPress",(function(e){"Enter"===e.key&&r.handleOnChange(e)})),r.checkBoxId=hH(e.taskId),r}return p()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.taskId!==this.props.taskId&&(this.checkBoxId=hH(e.taskId))}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.isDone,r=e.isRenderer,o=e.contentRef,a=e.children,c=e.placeholder,s=e.showPlaceholder,u=e.disabled,l=e.dataAttributes,d=i.a.createElement(uH,{contentEditable:!1,isRenderer:r},i.a.createElement("input",{id:this.checkBoxId,"aria-labelledby":"".concat(this.checkBoxId,"-wrapper"),name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!n,disabled:!!u,suppressHydrationWarning:!0,onKeyPress:this.handleOnKeyPress}),i.a.createElement("div",null));return i.a.createElement(XU,{appearance:t,contentRef:o,icon:d,placeholder:c,showPlaceholder:s,itemType:"TASK",dataAttributes:l,checkBoxId:this.checkBoxId},a)}}]),n}(o.PureComponent);E()(mH,"defaultProps",{appearance:"inline"});var vH=Object(G.a)()(mH);function bH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bH(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var OH=function(e){b()(n,e);var t=yH(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"mounted",!1),E()(m()(r),"onUpdate",(function(e){r.setState({isDone:"DONE"===e})})),E()(m()(r),"handleOnChange",(function(e,t){var n=r.props,o=n.taskDecisionProvider,i=n.objectAri,a=n.onChange;r.setState({isDone:t}),o&&i?o.then((function(n){r.mounted&&(n.toggleTask({localId:e,objectAri:i},t?"DONE":"TODO"),a&&a(e,t))})):a&&a(e,t)})),r.state={isDone:e.isDone},r}return p()(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.mounted=!1}},{key:"subscribe",value:function(e,t,n){var r=this;e&&t&&e.then((function(e){if(r.mounted){var o=r.props.taskId,i=gH(gH({},{localId:o,objectAri:t}),{},{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:o,objectAri:t},r.onUpdate,i)}}))}},{key:"unsubscribe",value:function(){var e=this,t=this.props,n=t.taskDecisionProvider,r=t.taskId,o=t.objectAri;n&&o&&n.then((function(t){t.unsubscribe({localId:r,objectAri:o},e.onUpdate)}))}},{key:"render",value:function(){var e=this.state.isDone,t=this.props,n=t.appearance,r=t.children,o=t.contentRef,a=t.objectAri,c=t.showPlaceholder,s=t.placeholder,u=t.taskId,l=t.disabled,d=t.dataAttributes,f=t.isRenderer;return i.a.createElement(me.f,{data:{objectAri:a}},i.a.createElement(vH,{isDone:e,isRenderer:f,taskId:u,onChange:this.handleOnChange,appearance:n,contentRef:o,showPlaceholder:c,placeholder:s,disabled:l,dataAttributes:d},r))}}]),n}(o.PureComponent);E()(OH,"defaultProps",{appearance:"inline"});var wH=["contextIdentifierProvider"];function kH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var EH=function(e){b()(r,e);var t,n=kH(r);function r(){var e;d()(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),E()(m()(e),"state",{resolvedContextProvider:void 0}),E()(m()(e),"mounted",!1),e}return p()(r,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}},{key:"updateContextIdentifierProvider",value:(t=u()(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contextIdentifierProvider){e.next=13;break}return e.prev=1,e.next=4,t.contextIdentifierProvider;case 4:n=e.sent,this.mounted&&this.setState({resolvedContextProvider:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.mounted&&this.setState({resolvedContextProvider:void 0});case 11:e.next=14;break;case 13:this.setState({resolvedContextProvider:void 0});case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.contextIdentifierProvider,wo()(e,wH)),n=(this.state.resolvedContextProvider||{}).objectId,r=n?"edit":"new";return i.a.createElement(me.f,{data:{userContext:r}},i.a.createElement(OH,_e()({},t,{objectAri:n})))}}]),r}(o.Component);E()(EH,"displayName","TaskItemWithProviders");var xH=["providers","intl"];function SH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var jH=Object(ko.b)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}}),CH=function(e){b()(n,e);var t=SH(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"renderWithProvider",(function(e){var t=r.props,n=(t.providers,t.intl.formatMessage),o=wo()(t,xH),a=e.taskDecisionProvider,c=e.contextIdentifierProvider,s=n(jH.placeholder);return i.a.createElement(EH,_e()({},o,{placeholder:s,taskDecisionProvider:a,contextIdentifierProvider:c}))})),r.providerFactory=e.providers||new q,r}return p()(n,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return i.a.createElement(Ak.a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(o.PureComponent);E()(CH,"displayName","TaskItem");var TH=Object(Ji.c)(CH);function _H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_H(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var IH=function(e){b()(n,e);var t=PH(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleOnChange",(function(t,n){var r=e.view.state.tr,o=e.getPos();r.setNodeMarkup(o,void 0,{state:n?"DONE":"TODO",localId:t}),e.view.dispatch(r)})),E()(m()(e),"addListAnalyticsData",(function(t){try{var n=e.view.state.doc.resolve(e.getPos()),r=n.index(),o=n.parent.childCount,i=n.parent.attrs.localId;t.update((function(e){var t=e.attributes,n=void 0===t?{}:t;return"action"!==e.actionSubject?e:AH(AH({},e),{},{attributes:AH(AH({},n),{},{position:r,listSize:o,listLocalId:i})})}))}catch(e){}})),e}return p()(n,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("div");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="task-item",{dom:e}}},{key:"render",value:function(e,t){var n=this,r=this.node.attrs,o=r.localId,a=r.state;return i.a.createElement(sH.a,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},i.a.createElement(Xa.a,{plugins:{taskDecisionPlugin:tU},render:function(){return i.a.createElement(TH,{taskId:o,contentRef:t,isDone:"DONE"===a,onChange:n.handleOnChange,showPlaceholder:n.isContentEmpty(n.node)&&!kT(n.view.state),providers:e.providerFactory})}}))}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(e,t){var r=this;return NE()(w()(n.prototype),"update",this).call(this,e,t,void 0,(function(e,t){return!(r.isContentEmpty(t)||e.attrs.state!==t.attrs.state)}))}}]),n}(pE);function MH(e,t,n){return function(r,o,i){return new IH(r,o,i,e,t,{providerFactory:n},void 0,void 0,void 0,!0).init()}}var RH,NH=["localId"];function DH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DH(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(RH||(RH={}));var BH=function(e){return function(t,n){return n&&n(t.tr.setMeta(tU,{action:RH.SET_CONTEXT_PROVIDER,data:e})),!0}};function FH(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Za.a({props:{nodeViews:{taskItem:MH(e,t,n),decisionItem:cH(e,t)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.tr;return o.selection instanceof dt.NodeSelection&&o.selection.node.type===e.state.schema.nodes.decisionItem&&(o.selection.replace(a),a.insertText(r),i&&i(a),!0)},handleClickOn:gb(["decisionItem"],(function(e){return e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")}),{useLongPressSelection:o})},state:{init:function(){return{insideTaskDecisionItem:!1}},apply:function(e,t){var n=e.getMeta(tU)||{action:null,data:null},o=n.action,i=n.data,a=t;switch(o){case RH.SET_CONTEXT_PROVIDER:a=LH(LH({},t),{},{contextIdentifierProvider:i})}return r(tU,a),a}},view:function(e){return n.subscribe("contextIdentifierProvider",(function(t,n){"contextIdentifierProvider"===t&&(n?n.then((function(t){BH(t)(e.state,e.dispatch)})):BH(void 0)(e.state,e.dispatch))})),{}},key:tU,appendTransaction:function(e,t,n){var r=n.tr,o=!1;if(e.forEach((function(e){e.docChanged&&Object(uc.l)(e,(function(e,t){var i=n.schema.nodes,a=i.decisionList,c=i.decisionItem,s=i.taskList,u=i.taskItem;if(e.type&&(e.type===a||e.type===c||e.type===s||e.type===u)){var l=e.attrs,d=l.localId,f=wo()(l,NH);null!=d&&""!==d||(r.step(new WO.a(t,LH({localId:Id.b.generate()},f))),o=!0)}}))})),o)return r.setMeta("addToHistory",!1)}})}function zH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var UH=function(e){b()(n,e);var t=zH(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{disabled:!1}),E()(m()(e),"handleInsertDecision",(function(){var t=e.props.editorView;return!!t&&(oU("decisionList")(t.state,t.dispatch),!0)})),e}return p()(n,[{key:"render",value:function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Gv.a.decision);return i.a.createElement(qc.b,{buttonId:qc.a.DECISION_LIST,onClick:this.handleInsertDecision,disabled:e||n,spacing:r?"none":"default",title:"".concat(o," <>"),iconBefore:i.a.createElement(WU.a,{label:o})})}}]),n}(o.PureComponent),HH=Object(Ji.c)(UH),WH=n(412),VH=n.n(WH);function qH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var GH,KH=function(e){b()(n,e);var t=qH(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{disabled:!1}),E()(m()(e),"handleInsertTask",(function(){var t=e.props.editorView;return!!t&&(oU("taskList")(t.state,t.dispatch),!0)})),e}return p()(n,[{key:"render",value:function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Gv.a.action);return i.a.createElement(qc.b,{buttonId:qc.a.TASK_LIST,onClick:this.handleInsertTask,disabled:e||n,spacing:r?"none":"default",title:"".concat(o," []"),iconBefore:i.a.createElement(VH.a,{label:o})})}}]),n}(o.PureComponent),$H=Object(Ji.c)(KH),YH=Object(T.c)(GH||(GH=S()(["\n  display: flex;\n"]))),XH=function(e,t,n){return function(r){var o=r.listLocalId,i=r.itemLocalId,a=nU(t,n),c=a.list,s=a.item;return e(c.createChecked({localId:o},s.createChecked({localId:i})))}},JH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowNestedTasks,n=e.consumeTabs,r=e.useLongPressSelection;return{name:"taskDecision",nodes:function(){return[{name:"decisionList",node:ge.a},{name:"decisionItem",node:Zz.a},{name:"taskList",node:be.a},{name:"taskItem",node:Qz.a}]},pmPlugins:function(){return[{name:"tasksAndDecisions",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory;return FH(t,e.eventDispatcher,n,e.dispatch,r)}},{name:"tasksAndDecisionsInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return dU(t,n)}},{name:"tasksAndDecisionsKeyMap",plugin:function(e){var r=e.schema;return UU(r,t,n)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return Object(T.d)("div",{css:YH},Object(T.d)(HH,{editorView:t,isDisabled:n,isReducedSpacing:!0}),Object(T.d)($H,{editorView:t,isDisabled:n,isReducedSpacing:!0}))},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"action",title:t(Gv.a.action),description:t(Gv.a.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:function(){return Object(T.d)(Ov,null)},action:function(e,t){return rU(t,"taskList",wt.f.QUICK_INSERT,XH(e,"taskList",t.schema))}},{id:"decision",title:t(Gv.a.decision),description:t(Gv.a.decisionDescription),priority:900,keyshortcut:"<>",icon:function(){return Object(T.d)(Ev,null)},action:function(e,t){return rU(t,"decisionList",wt.f.QUICK_INSERT,XH(e,"decisionList",t.schema))}}]}}}},ZH=function(e,t){var n,r="",o="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var c=i[a];if(c.r.test(e)){r=c.s;break}}switch(/Windows/.test(r)&&(o=(n=/Windows (.*)/.exec(r))&&n[1],r="Windows"),r){case"Mac OS X":o=(n=/Mac OS X (10[\.\_\d]+)/.exec(e))&&n[1];break;case"Android":o=(n=/Android ([\.\_\d]+)/.exec(e))&&n[1];break;case"iOS":o=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&n[1]+"."+n[2]+"."+(n[3]||0)}return"".concat(r," ").concat(o)},QH=function(e){var t,n,r,o,i;return-1!==(o=e.indexOf("OPR/"))?(t="Opera",n=e.substring(o+4)):-1!==(o=e.indexOf("Opera"))?(t="Opera",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+6)):-1!==(o=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(t="Safari",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+7)):-1!==(o=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(o+8)):(r=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))?(t=e.substring(r,o),n=e.substring(o+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),"".concat(t," ").concat(n)},eW=function(e,t,n,r,o,i,a){return new Promise(function(){var c=u()(C.a.mark((function c(s,u){return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){"function"==typeof e?s(e):u("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:e||[],customfield_11712:"version: ".concat(t,"@").concat(r," (").concat(n,")\n              Browser: ").concat(QH(navigator.userAgent),"\n              OS: ").concat(ZH(navigator.userAgent,navigator.appVersion))},environment:{"Editor Package":t,"Editor Version":r,"Editor Core Version":n,sessionId:o,contentId:i,tabId:a},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):u("jQuery is not defined");case 1:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())};function tW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tW(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}new dt.PluginKey("feedbackDialogPlugin");var rW,oW,iW,aW=function(e){var t=e.product,n=e.packageName,r=e.packageVersion,o=e.labels;return[t,n,r].concat(D()(o||[])).join("|")},cW=function(){var e=u()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=u()(C.a.mark((function e(n,r){var o,i,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=nW(nW(nW({},{product:"n/a",labels:[],packageName:"",packageVersion:"",sessionId:"",contentId:"",tabId:""}),iW),t),i=aW(o),rW&&oW===i){e.next=13;break}return e.prev=3,e.next=6,eW([o.product].concat(D()(o.labels)),o.packageName,Y_.b,o.packageVersion,o.sessionId,o.contentId,o.tabId);case 6:rW=e.sent,oW=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r(e.t0);case 13:a=window.setTimeout(rW,0),n(a);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sW=function(e){return iW=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"feedbackdialog",title:n(Gv.a.feedbackDialog),description:n(Gv.a.feedbackDialogDescription),priority:400,keywords:["bug"],icon:function(){return i.a.createElement(Hv,null)},action:function(t,n){var r=t("");return cW(e),Object(Ot.a)(n,r,{action:wt.a.OPENED,actionSubject:wt.b.FEEDBACK_DIALOG,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]}}}},uW=gv()({loader:function(){return n.e(34).then(n.bind(null,2110)).then((function(e){return e.default}))},loading:function(){return null}}),lW=new dt.PluginKey("quickInsertPluginKey"),dW=n(232),fW=n.n(dW),pW=n(480),hW=n(206);function mW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mW(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bW=function(){var e={};return nu.bindKeymapWithCommand(nu.openHelp.common,(function(e,t){var n=e.tr;return n.getMeta(hW.a)||(n=Object(Ot.a)(e,n,{action:wt.a.CLICKED,actionSubject:wt.b.BUTTON,actionSubjectId:wt.c.BUTTON_HELP,attributes:{inputMethod:wt.f.SHORTCUT},eventType:wt.e.UI}),Object(pW.b)(n,t)),!0}),e),dp(e)},gW=function(e){return{name:"helpDialog",pmPlugins:function(){return[{name:"helpDialog",plugin:function(t){return function(e,t){return new Za.a({key:hW.a,state:{init:function(){return{isVisible:!1,imageEnabled:t}},apply:function(t,n,r){var o=t.getMeta(hW.a),i=hW.a.getState(r);if(void 0!==o&&o!==i.isVisible){var a=vW(vW({},i),{},{isVisible:o});return e(hW.a,a),a}return i}}})}(t.dispatch,!!e)}},{name:"helpDialogKeymap",plugin:function(){return bW()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"helpdialog",title:t(Gv.a.help),description:t(Gv.a.helpDescription),keywords:["?"],priority:4e3,keyshortcut:Object(nu.tooltip)(nu.openHelp),icon:function(){return i.a.createElement(fW.a,{label:""})},action:function(e,t){var n=e("");return Object(pW.b)(n),Object(Ot.a)(t,n,{action:wt.a.HELP_OPENED,actionSubject:wt.b.HELP,actionSubjectId:wt.c.HELP_QUICK_INSERT,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]}},contentComponent:function(e){var t=e.editorView;return i.a.createElement(Xa.a,{plugins:{helpDialog:hW.a,quickInsert:lW},render:function(e){var n=e.helpDialog,r=void 0===n?{}:n,o=e.quickInsert;return i.a.createElement(uW,{editorView:t,isVisible:r.isVisible,quickInsertEnabled:!!o,imageEnabled:r.imageEnabled})}})}}};function yW(e,t){if(t)return dp({Enter:function(n,r,o){return!!function(e){var t=e.state.selection.$cursor,n=e.state.schema.nodes,r=n.decisionItem,o=n.paragraph,i=n.taskItem;return!t||t.parent.type===o&&1===t.depth||t.parent.type===r&&!OW(t)||t.parent.type===i&&!OW(t)}(o)&&(e(ii.a,wW(n)),t(o),!0)}})}function OW(e){var t=e.parent.content;return!(t&&t.size)}var wW=function(e){return{payload:{action:wt.a.STOPPED,actionSubject:wt.b.EDITOR,actionSubjectId:wt.c.SAVE,attributes:{inputMethod:wt.f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:wt.e.UI}}},kW=function(e){return{name:"saveOnEnter",pmPlugins:function(){return[{name:"saveOnEnter",plugin:function(t){return yW(t.dispatch,e)}}]}}};function EW(e){var t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}var xW=function(e){var t=e.schema.nodes.mediaSingle,n=e.selection.$to;if(t)for(var r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},SW=function(e,t){var n=t.nodes,r=n.media,o=n.mediaSingle;if(!r||!o)return null;var i=r.createChecked({type:"external",url:e});return o.createChecked({},i)},jW=new dt.PluginKey("imageUploadPlugin"),CW=function(e){return function(t){return function(e,t){return e.setMeta(jW,t)}(t,{name:"START_UPLOAD",event:e})}},TW=function(e){return function(t,n){return!!jW.getState(t).enabled&&(n&&n(CW(e)(t.tr)),!0)}};function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_W(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PW=function(e,t){return function(t,n){return!!e(n)&&(n.preventDefault(),n.stopPropagation(),TW(n)(t.state,t.dispatch),!0)}},IW=function(e){var t,n=e.dispatch,r=e.providerFactory;return new Za.a({state:{init:function(e,t){return{active:!1,enabled:xW(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}},apply:function(e,t,r,o){var i,a,c=(a=(i=o).schema.nodes.media,i.selection instanceof dt.NodeSelection&&i.selection.node.type===a),s=xW(o),u=function(e,t){var n=e.getMeta(jW);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload}(e,t);if(c!==t.active||s!==t.enabled||u!==t.activeUpload){var l=AW(AW({},t),{},{active:c,enabled:s,activeUpload:u});return n(jW,l),l}return t}},key:jW,view:function(){var e=function(){var e=u()(C.a.mark((function e(n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("imageUploadProvider"===n&&r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r;case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t=void 0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return r.subscribe("imageUploadProvider",e),{update:function(e,n){var r=e.state,o=jW.getState(r),i=jW.getState(n);o.activeUpload!==i.activeUpload&&o.activeUpload&&t&&t(o.activeUpload.event,(function(t){return function(e){return function(t,n){if(!jW.getState(t).enabled||!e.src)return!1;var r=SW(e.src,t.schema);return!!r&&(n&&n(Object(Qi.safeInsert)(r,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)}}(t)(e.state,e.dispatch)}))},destroy:function(){r.unsubscribe("imageUploadProvider",e)}}},props:{handleDOMEvents:{drop:PW(EW),paste:PW(XF)}}})};var MW=function(e,t){if(e.nodes.media&&e.nodes.mediaSingle){var n=am(/!\[(.*)\]\((\S+)\)$/,(function(e,t,n,r){var o=e.schema,i={src:t[2],alt:t[1]},a=SW(i.src,o);return a?e.tr.replaceWith(n,r,a):null}));return cm("image-upload",[n],{useUnpredictableInputRule:t.useUnpredictableInputRule})}},RW=function(){return{name:"imageUpload",pmPlugins:function(){return[{name:"imageUpload",plugin:IW},{name:"imageUploadInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return MW(t,n)}}]}}};class NW{constructor(e,t,n){this.step=e,this.inverted=t,this.origin=n}}class DW{constructor(e,t){this.version=e,this.unconfirmed=t}}const LW=new dt.PluginKey("collab");function BW(e={}){let t={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID};return new dt.Plugin({key:LW,state:{init:()=>new DW(t.version,[]),apply(e,t){let n=e.getMeta(LW);return n||(e.docChanged?new DW(t.version,t.unconfirmed.concat(function(e){let t=[];for(let n=0;n<e.steps.length;n++)t.push(new NW(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:t,historyPreserveItems:!0})}function FW(e,t,n,r={}){let o=LW.getState(e),i=o.version+t.length,a=LW.get(e).spec.config.clientID,c=0;for(;c<n.length&&n[c]==a;)++c;let s=o.unconfirmed.slice(c);if(!(t=c?t.slice(c):t).length)return e.tr.setMeta(LW,new DW(i,s));let u=s.length,l=e.tr;if(u)s=function(e,t,n){for(let t=e.length-1;t>=0;t--)n.step(e[t].inverted);for(let e=0;e<t.length;e++)n.step(t[e]);let r=[];for(let t=0,o=e.length;t<e.length;t++){let i=e[t].step.map(n.mapping.slice(o));o--,i&&!n.maybeStep(i).failed&&(n.mapping.setMirror(o,n.steps.length-1),r.push(new NW(i,i.invert(n.docs[n.docs.length-1]),e[t].origin)))}return r}(s,t,l);else{for(let e=0;e<t.length;e++)l.step(t[e]);s=[]}let d=new DW(i,s);return r&&r.mapSelectionBackward&&e.selection instanceof dt.TextSelection&&(l.setSelection(dt.TextSelection.between(l.doc.resolve(l.mapping.map(e.selection.anchor,-1)),l.doc.resolve(l.mapping.map(e.selection.head,-1)),-1)),l.updated&=-2),l.setMeta("rebased",u).setMeta("addToHistory",!1).setMeta(LW,d)}var zW=function(e,t,n){var r=e.doc,o=e.json,i=e.version,a=e.reserveCursor;if(r){var c=function(e,t,n,r,o){var i=t.schema,a=t.tr,c=(e.content||[]).map((function(e){return i.nodeFromJSON(e)}));if(!!c.length){a.setMeta("addToHistory",!1),a.replaceWith(0,t.doc.nodeSize-2,c);var s=t.selection;if(o){if(s.to<a.doc.content.size-2){var u=a.doc.resolve(s.from),l=a.doc.resolve(s.to),d=new dt.TextSelection(u,l);a.setSelection(d)}}else a.setSelection(dt.Selection.atStart(a.doc));if(a.setMeta("replaceDocument",!0),void 0!==gt()(n)&&r&&r.useNativePlugin){var f={version:n,unconfirmed:[]};a.setMeta("collab$",f)}}return a}(r,t.state,i,n,a);c.setMeta("isRemote",!0),t.dispatch(c)}else o&&UW(o,void 0,t)},UW=function(e,t,n,r){if(e&&e.length){var o,i=n.state,a=n.state.schema,c=e.map((function(e){return pt.d.fromJSON(a,e)}));if(r&&r.useNativePlugin&&t?o=FW(i,c,t):(o=i.tr,c.forEach((function(e){return o.step(e)}))),o){o.setMeta("addToHistory",!1),o.setMeta("isRemote",!0);var s=i.selection,u=s.from,l=s.to,d=mr()(e,1)[0];i.tr.storedMarks&&o.setStoredMarks(i.tr.storedMarks),u===d.from&&l===d.to&&o.setSelection(i.selection.map(o.doc,o.mapping)),n.dispatch(o)}}};function HW(e){return e instanceof dt.AllSelection}function WW(e){return e instanceof dt.NodeSelection}var VW={nodes:{doc:"doc",paragraph:"p",text:"t",bulletList:"ul",orderedList:"ol",listItem:"li",heading:"h",blockquote:"blockq",codeBlock:"codebl",panel:"pnl",rule:"rl",hardBreak:"br",mention:"ment",emoji:"emj",image:"img",caption:"cap",media:"media",mediaGroup:"mediag",mediaSingle:"medias",plain:"pln",table:"table",tableCell:"td",tableHeader:"th",tableRow:"tr",decisionList:"dl",decisionItem:"di",taskList:"tl",taskItem:"ti",extension:"ext",inlineExtension:"exti",bodiedExtension:"extb",status:"sts",placeholder:"plh",inlineCard:"cardi",blockCard:"cardb",embedCard:"carde",expand:"exp",nestedExpand:"expn",unsupportedBlock:"unsupb",unsupportedInline:"unsupi",unknownBlock:"unkb",date:"date"},marks:{em:"em",strong:"strong",code:"code",strike:"strike",underline:"undline",link:"lnk",subsup:"subsup",textColor:"txtclr",unsupportedMark:"unsupmrk",unsupportedNodeAttribute:"unsupnattr",annotation:"anno"}};function qW(e,t){var n=VW[t?"marks":"nodes"][e];return n||e}var GW=function(e,t){try{var n=KW(e,0);return null!=t&&t.compact?function e(t){var n,r,o,i=!t.content,a="text"===(null==t?void 0:t.type),c=null===(n=t.marks)||void 0===n?void 0:n.length,s=Array.isArray(t.content);return a?r=String(t.nodeSize):i?r="":s&&(r=t.content.map((function(t){return e(t)})).join(",")),o="".concat(qW(t.type,!1),"(").concat(r,")"),c?t.marks.reduce((function(e,t){return"".concat(qW(t,!0),"(").concat(e,")")}),o):o}(n):n}catch(e){return"Error logging document structure: ".concat(e)}},KW=function(e,t){var n={type:e.type.name,pos:t,nodeSize:e.nodeSize},r=$W(e.content,t);r.length>0&&(n.content=r);var o=XW(e);return o.length>0&&(n.marks=o),n},$W=function(e,t){if(!e||!e.content||!e.content.length)return[];var n=[],r=e.content;if(r[0].isBlock){var o;n=r.map((function(e){return t+=o?o.nodeSize:1,o=e,KW(e,t)}))}else{var i=YW(r,t);n=i.inlineNodes,t=i.pos}return n},YW=function(e,t){return{inlineNodes:e.map((function(e){var n=e.nodeSize,r={type:e.type.name,pos:t,nodeSize:n},o=XW(e);return o.length>0&&(r.marks=o),t+=n,r})),pos:t}},XW=function(e){return e.marks.map((function(e){return e.type.name}))};function JW(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ZW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZW(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ZW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var QW="grammarly-extension, grammarly-popups, [data-grammarly-shadow-root]",eV=[{name:"grammarly",fns:{sync:function(){var e;return Boolean(null===(e=document)||void 0===e?void 0:e.querySelector(QW))},async:function(e,t){var n;Boolean(null===(n=document)||void 0===n?void 0:n.querySelector(QW))&&e();var r=[],o=function(){var t,n=JW(r);try{for(n.s();!(t=n.n()).done;){var o,i=JW(t.value);try{for(i.s();!(o=i.n()).done;){var a,c=o.value;if("childList"===(null==c?void 0:c.type)&&null!=c&&null!==(a=c.addedNodes)&&void 0!==a&&a.length)Array.from(c.addedNodes).some((function(e){var t;return null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(QW)}))&&e()}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}r=[]},i=setInterval((function(){"function"==typeof window.requestIdleCallback?window.requestIdleCallback(o):window.requestAnimationFrame(o)}),1e3),a=new MutationObserver((function(e){r.push(e)}));t((function(){r=[],clearInterval(i),null==a||a.disconnect()})),a.observe(document.documentElement,{childList:!0,subtree:!0})}}}];function tV(e){try{var t=function(e,t){return t.filter((function(t){return e.includes(t.name)})).map((function(e){return{name:e.name,state:{detected:!1},fns:{async:e.fns.async,sync:e.fns.sync}}}))}(e.extensions,eV);if(!0===e.async){var n=[],r=Promise.all(t.map((function(e){return new Promise((function(t){"function"==typeof e.fns.async?e.fns.async((function(){e.state.detected=!0,t()}),(function(e){n.push(e)})):(e.state.detected=!1,t())}))}))),o=new Promise((function(t){return setTimeout(t,e.asyncTimeoutMs,"race_complete")}));return Promise.race([r,o]).then((function(){return t.filter((function(e){return e.state.detected})).map((function(e){return e.name}))})).catch((function(){return[]})).finally((function(){return n.map((function(e){return e()}))}))}return t.filter((function(e){var t,n;return null===(t=(n=e.fns).sync)||void 0===t?void 0:t.call(n)})).map((function(e){return e.name}))}catch(t){return e.async?Promise.resolve([]):[]}}var nV,rV,oV,iV=function(e,t){return function(n){var r=tV({extensions:["grammarly"]}),o={action:wt.a.SYNCHRONY_ERROR,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{error:n,browserExtensions:r}};return Object(oi.b)(e).synchronyErrorDocStructure&&(o.attributes.docStructure=GW(e.doc,{compact:!0})),Object(Ot.a)(e,t,o)}},aV=function(e,t){return function(n){return Object(Ot.a)(e,t,{action:"error"===n?wt.a.SYNCHRONY_ENTITY_ERROR:wt.a.SYNCHRONY_DISCONNECTED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{onLine:navigator.onLine,visibilityState:document.visibilityState}})}},cV=function(e,t){var n,r;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r&&t(n,i)||(r=e.apply(void 0,i),n=i),r}}((function(e,t,n,r){var o,i=function(){aV(e.state,e.state.tr)("disconnected")},a=function(){aV(e.state,e.state.tr)("error")},c=function(){o&&(o.off("disconnected",i),o.off("error",a))},s=function(t){e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),zW(t,e,n)},u=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("sessionId",e))}(t,e)},l=function(t){return function(e,t,n){var r=e.json,o=e.userIds;r&&UW(r,void 0===o?[]:o,t,n)}(t,e,n)},d=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("presence",e))}(t,e)},f=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("telepointer",e))}(t,e)},p=function(t){var n=t.steps,r=e.state.tr;n.forEach((function(e){return r.step(e)})),e.dispatch(r)},h=function(t){iV(e.state,e.state.tr)(t)},m=function(e){var t=e.entity;c(),n.EXPERIMENTAL_allowInternalErrorAnalytics&&(t.on("disconnected",i),t.on("error",a),o=t)};return t.on("init",s).on("connected",u).on("data",l).on("presence",d).on("telepointer",f).on("local-steps",p).on("error",h).on("entity",m),function(){c(),t.off("init",s).off("connected",u).off("data",l).off("presence",d).off("telepointer",f).off("local-steps",p).off("error",h).off("entity",m)}}),(function(e,t){return t&&t.every((function(t,n){return t===e[n]}))})),sV=Object(P.a)((function(e,t){e.initialize&&e.initialize((function(){return t.state}),(function(e){return pt.d.fromJSON(t.state.schema,e)}))})),uV=function(e,t,n,r){var o=Object(_j.a)(null==r?void 0:r.createAnalyticsEvent);return new Za.a({key:Mc.a,state:{init:function(e){return vn.init(e)},apply:function(t,n,r,o){var i=n.apply(t);return e(Mc.a,i),i}},props:{decorations:function(e){return this.getState(e).decorations}},filterTransaction:function(e,t){var n=Mc.a.getState(t);return!!e.getMeta("collabInitialised")||!(!n.isReady&&e.docChanged)},view:function(e){var i=iV(e.state,e.state.tr);r.onSyncUpError=function(e){o({payload:{action:wt.a.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:e}})};var a=n(function(e){var t=e.options,n=e.providerFactory,r=e.view;return function(e){var o;return Mc.a.getState(r.state).isReady&&o&&o(),o=cV(r,e,t,n),t.useNativePlugin?function(e,t,n){e.setup({getState:function(){return t.state},onSyncUpError:n})}(e,r,t.onSyncUpError):sV(e,r),o}}({view:e,options:r,providerFactory:t}),i);return{destroy:function(){t.unsubscribeAll("collabEditProvider"),a&&a.then((function(e){e&&e()}))}}}})},lV=function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,o=e.newEditorState,i=e.useNativePlugin;return function(e){var a=n.find((function(e){return e.docChanged})),c=Mc.a.getState(o);if(c.isReady){var s=!t.getMeta("isRemote")&&!t.getMeta("scaleTable")&&a;(i||s)&&e.send(a,r,o);var u=Mc.a.getState(r).activeParticipants,l=c.activeParticipants,d=c.sessionId,f=!r.selection.eq(o.selection),p=!u.eq(l);if(d&&f&&!a||d&&p){var h={type:"telepointer",selection:function(e){return{type:"textSelection",anchor:e.anchor,head:HW(e)||WW(e)?e.head-1:e.head}}(o.selection),sessionId:d};e.sendMessage(h)}}}},dV=n(383),fV=function(e){var t=function(){},n=new Promise((function(e){t=e})),r=function(e){return function(){var t=u()(C.a.mark((function t(n,r){var o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:if(!(o=t.sent)){t.next=6;break}return t.abrupt("return",n(o));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r?r(t.t0):console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(n);return{name:"collabEdit",pmPlugins:function(){var o=e||{},i=o.useNativePlugin,a=void 0!==i&&i,c=o.userId,s=void 0===c?null:c;return[].concat(D()(a?[{name:"pmCollab",plugin:function(){return BW({clientID:s})}},{name:"nativeCollabProviderPlugin",plugin:function(){return Object(dV.b)({providerPromise:n})}}]:[]),[{name:"collab",plugin:function(n){var o=n.dispatch,i=n.providerFactory;return i&&i.subscribe("collabEditProvider",(function(e,n){n&&n.then((function(e){return t(e)}))})),uV(o,i,r,e)}}])},onEditorViewStateUpdated:function(t){var n=iV(t.newEditorState,t.newEditorState.tr);r(lV({originalTransaction:t.originalTransaction,transactions:t.transactions,oldEditorState:t.oldEditorState,newEditorState:t.newEditorState,useNativePlugin:e&&e.useNativePlugin}),n)}}},pV=n(593),hV=n(661),mV=Object(T.c)(nV||(nV=S()(["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"])),Object(ot.a)("color.background.neutral",Ce.N30),Object(ot.a)("color.border",Ce.N50),Object(Ze.d)(),Object(he.db)(13),Object(ot.a)("color.background.selected",Ce.N50)),vV=Object(T.c)(rV||(rV=S()(["\n  display: inline-block;\n  color: ",";\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: ",";\n    content: 'JIRA | ';\n  }\n"])),Object(ot.a)("color.text.subtlest","#707070"),Object(ot.a)("color.text","black")),bV=Object(T.c)(oV||(oV=S()(["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"])));function gV(e){var t=e.node.attrs.issueKey;return Object(T.d)("span",{css:mV,"data-testid":"jira-issue-node"},Object(T.d)("span",{css:bV},Object(T.d)(hV.JiraIcon,{size:"small"})),Object(T.d)("span",{css:vV},t))}var yV=new dt.PluginKey("jiraIssuePlugin"),OV=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher;return new Za.a({key:yV,props:{nodeViews:{confluenceJiraIssue:pE.fromComponent(gV,t,n)}}})},wV=function(){return{name:"confluenceJiraIssue",nodes:function(){return[{name:"confluenceJiraIssue",node:pV.a}]},pmPlugins:function(){return[{name:"jiraIssue",plugin:OV}]}}},kV=n(719);function EV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EV(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SV=function(e,t){var n=e.schema.nodes.panel;return Object(Qi.findSelectedNodeOfType)(n)(t||e.selection)||Object(Qi.findParentNodeOfType)(n)(t||e.selection)},jV=function(e){return i.a.createElement("svg",_e()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM12 11.375C11.6685 11.375 11.3505 11.5067 11.1161 11.7411C10.8817 11.9755 10.75 12.2935 10.75 12.625V15.75C10.75 16.0815 10.8817 16.3995 11.1161 16.6339C11.3505 16.8683 11.6685 17 12 17C12.3315 17 12.6495 16.8683 12.8839 16.6339C13.1183 16.3995 13.25 16.0815 13.25 15.75V12.625C13.25 12.2935 13.1183 11.9755 12.8839 11.7411C12.6495 11.5067 12.3315 11.375 12 11.375ZM12 9.96875C12.4558 9.96875 12.893 9.78767 13.2153 9.46534C13.5377 9.14301 13.7188 8.70584 13.7188 8.25C13.7188 7.79416 13.5377 7.35699 13.2153 7.03466C12.893 6.71233 12.4558 6.53125 12 6.53125C11.5442 6.53125 11.107 6.71233 10.7847 7.03466C10.4623 7.35699 10.2812 7.79416 10.2812 8.25C10.2812 8.70584 10.4623 9.14301 10.7847 9.46534C11.107 9.78767 11.5442 9.96875 12 9.96875Z",fill:"currentColor"}))},CV=function(e){return i.a.createElement(Bp.b,_e()({glyph:jV},e))},TV=function(e){return i.a.createElement("svg",_e()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM13.705 8.295L11.015 13.4325L9.08625 11.695C8.9642 11.5852 8.82172 11.5005 8.66694 11.4457C8.51216 11.391 8.3481 11.3672 8.18415 11.3759C8.0202 11.3845 7.85955 11.4254 7.71139 11.4961C7.56322 11.5669 7.43044 11.6661 7.32063 11.7881C7.21081 11.9102 7.1261 12.0527 7.07135 12.2074C7.0166 12.3622 6.99287 12.5263 7.00152 12.6902C7.01016 12.8542 7.05102 13.0148 7.12175 13.163C7.19248 13.3112 7.2917 13.4439 7.41375 13.5538L10.5388 16.3663C10.6803 16.4938 10.8492 16.5872 11.0325 16.6395C11.2157 16.6917 11.4085 16.7014 11.596 16.6678C11.7836 16.6341 11.9609 16.558 12.1146 16.4453C12.2682 16.3326 12.3941 16.1863 12.4825 16.0175L15.92 9.455C16.0738 9.16127 16.1047 8.81847 16.0057 8.502C15.9068 8.18553 15.6862 7.92133 15.3925 7.7675C15.0988 7.61367 14.756 7.58283 14.4395 7.68176C14.123 7.78068 13.8588 8.00127 13.705 8.295V8.295Z",fill:"currentColor"}))},_V=function(e){return i.a.createElement("svg",_e()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2H17C17.663 2 18.2989 2.26339 18.7678 2.73223C19.2366 3.20107 19.5 3.83696 19.5 4.5V19.5C19.5 20.163 19.2366 20.7989 18.7678 21.2678C18.2989 21.7366 17.663 22 17 22H7C6.33696 22 5.70107 21.7366 5.23223 21.2678C4.76339 20.7989 4.5 20.163 4.5 19.5V4.5C4.5 3.83696 4.76339 3.20107 5.23223 2.73223C5.70107 2.26339 6.33696 2 7 2ZM8.875 7C8.70924 7 8.55027 7.06585 8.43306 7.18306C8.31585 7.30027 8.25 7.45924 8.25 7.625V8.875C8.25 9.04076 8.31585 9.19973 8.43306 9.31694C8.55027 9.43415 8.70924 9.5 8.875 9.5H15.125C15.2908 9.5 15.4497 9.43415 15.5669 9.31694C15.6842 9.19973 15.75 9.04076 15.75 8.875V7.625C15.75 7.45924 15.6842 7.30027 15.5669 7.18306C15.4497 7.06585 15.2908 7 15.125 7H8.875ZM8.875 12C8.70924 12 8.55027 12.0658 8.43306 12.1831C8.31585 12.3003 8.25 12.4592 8.25 12.625V13.875C8.25 14.0408 8.31585 14.1997 8.43306 14.3169C8.55027 14.4342 8.70924 14.5 8.875 14.5H12.625C12.7908 14.5 12.9497 14.4342 13.0669 14.3169C13.1842 14.1997 13.25 14.0408 13.25 13.875V12.625C13.25 12.4592 13.1842 12.3003 13.0669 12.1831C12.9497 12.0658 12.7908 12 12.625 12H8.875Z",fill:"currentColor"}))},AV=function(e){return i.a.createElement("svg",_e()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4897 4.34592L21.8561 18.8611C21.9525 19.0288 22.0021 19.2181 21.9999 19.4101C21.9977 19.6021 21.9438 19.7903 21.8435 19.9559C21.7432 20.1215 21.6001 20.2588 21.4282 20.3542C21.2563 20.4497 21.0616 20.4999 20.8636 20.5H3.13707C2.93882 20.5 2.74401 20.4498 2.57196 20.3543C2.39992 20.2588 2.25663 20.1213 2.15631 19.9556C2.05598 19.7898 2.00212 19.6015 2.00006 19.4093C1.998 19.2171 2.04782 19.0278 2.14456 18.86L10.5121 4.34592C10.6602 4.08939 10.8762 3.87577 11.1377 3.72708C11.3993 3.57838 11.6971 3.5 12.0003 3.5C12.3036 3.5 12.6013 3.57838 12.8629 3.72708C13.1245 3.87577 13.3404 4.08939 13.4885 4.34592H13.4897ZM12.0003 7.82538C11.8232 7.82537 11.6482 7.86212 11.4869 7.93317C11.3257 8.00423 11.182 8.10793 11.0656 8.2373C10.9492 8.36668 10.8627 8.51872 10.8119 8.68321C10.7611 8.8477 10.7473 9.02083 10.7713 9.19093L11.3546 13.3416C11.3754 13.4933 11.4523 13.6326 11.5711 13.7334C11.6899 13.8343 11.8424 13.8899 12.0003 13.8899C12.1582 13.8899 12.3107 13.8343 12.4295 13.7334C12.5483 13.6326 12.6253 13.4933 12.6461 13.3416L13.2293 9.19093C13.2533 9.02083 13.2395 8.8477 13.1887 8.68321C13.138 8.51872 13.0515 8.36668 12.935 8.2373C12.8186 8.10793 12.6749 8.00423 12.5137 7.93317C12.3525 7.86212 12.1774 7.82537 12.0003 7.82538V7.82538ZM12.0003 17.3369C12.3395 17.3369 12.6649 17.2062 12.9047 16.9737C13.1446 16.7412 13.2793 16.4258 13.2793 16.0969C13.2793 15.7681 13.1446 15.4527 12.9047 15.2202C12.6649 14.9877 12.3395 14.857 12.0003 14.857C11.6611 14.857 11.3358 14.9877 11.0959 15.2202C10.8561 15.4527 10.7213 15.7681 10.7213 16.0969C10.7213 16.4258 10.8561 16.7412 11.0959 16.9737C11.3358 17.2062 11.6611 17.3369 12.0003 17.3369V17.3369Z",fill:"currentColor"}))},PV=function(e){return i.a.createElement("svg",_e()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8562 11.9112L16.5088 9.26C16.7433 9.02545 16.8751 8.70733 16.8751 8.37563C16.8751 8.04392 16.7433 7.7258 16.5088 7.49125C16.2742 7.2567 15.9561 7.12493 15.6244 7.12493C15.2927 7.12493 14.9746 7.2567 14.74 7.49125L12.09 10.1438L9.4375 7.49125C9.20295 7.25686 8.8849 7.12526 8.55331 7.12537C8.22172 7.12549 7.90376 7.25732 7.66937 7.49188C7.43499 7.72643 7.30338 8.04448 7.3035 8.37607C7.30361 8.70766 7.43545 9.02561 7.67 9.26L10.32 11.91L7.67 14.5625C7.4423 14.7983 7.31631 15.114 7.31916 15.4418C7.32201 15.7695 7.45347 16.083 7.68523 16.3148C7.91699 16.5465 8.2305 16.678 8.55825 16.6808C8.88599 16.6837 9.20175 16.5577 9.4375 16.33L12.0888 13.68L14.74 16.33C14.8561 16.4461 14.9939 16.5383 15.1455 16.6012C15.2972 16.664 15.4597 16.6964 15.6239 16.6965C15.7881 16.6966 15.9507 16.6643 16.1024 16.6015C16.2541 16.5387 16.392 16.4467 16.5081 16.3306C16.6243 16.2146 16.7164 16.0768 16.7793 15.9251C16.8422 15.7734 16.8746 15.6109 16.8746 15.4467C16.8747 15.2825 16.8424 15.1199 16.7796 14.9682C16.7168 14.8165 16.6248 14.6786 16.5088 14.5625L13.8562 11.9112V11.9112ZM12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22Z",fill:"currentColor"}))},IV={info:CV,success:function(e){return i.a.createElement(Bp.b,_e()({glyph:TV},e))},note:function(e){return i.a.createElement(Bp.b,_e()({glyph:_V},e))},tip:n.n(kV).a,warning:function(e){return i.a.createElement(Bp.b,_e()({glyph:AV},e))},error:function(e){return i.a.createElement(Bp.b,_e()({glyph:PV},e))},custom:CV},MV=function(e){var t=e.allowCustomPanel,n=e.providerFactory,r=e.panelAttributes,o=r.panelType,a=r.panelIcon,c=r.panelIconId,s=r.panelIconText;if(t&&a&&o===vr.a.CUSTOM)return i.a.createElement(BP,{providers:n,shortName:a,id:c,fallback:s,showTooltip:!1,allowTextFallback:!1,fitToHeight:he.h});var u=IV[o];return i.a.createElement(u,{label:"Panel ".concat(o)})},RV=function(){function e(t,n,r,o,a){d()(this,e),this.providerFactory=a,this.pluginOptions=o,this.view=n,this.node=t;var s=ya.DOMSerializer.renderSpec(document,function(e,t){var n=e.panelColor,r=e.panelType,o=e.panelIcon,i=e.panelIconId,a=e.panelIconText,c=r===vr.a.CUSTOM&&t,s=n&&c?"background-color: ".concat(n):"",u=!c||!!o||!!i,l={class:eo.prefix,"data-panel-type":r||vr.a.INFO,style:s};n&&c&&(l=xV(xV({},l),{},{"data-panel-color":n,"data-panel-icon-id":i,"data-panel-icon-text":a}));var d=["div",{class:eo.content},0];return u?["div",l,["div",{class:eo.icon}],d]:["div",l,d]}(t.attrs,o.allowCustomPanel||!1)),u=s.dom,l=s.contentDOM;this.getPos=r,this.dom=u,this.contentDOM=l,this.icon=this.dom.querySelector(".".concat(eo.icon)),this.icon&&(this.icon.contentEditable="false",c.a.render(i.a.createElement(MV,{allowCustomPanel:o.allowCustomPanel,panelAttributes:t.attrs,providerFactory:this.providerFactory}),this.icon))}return p()(e,[{key:"ignoreMutation",value:function(e){var t=e.target===this.icon||e.target.parentNode===this.icon,n=this.icon.contains(e.target);return t||n}}]),e}(),NV=function(e,t){return function(n,r,o){return new RV(n,r,o,e,t)}},DV=new dt.PluginKey("panelPlugin"),LV=function(e,t,n){var r=n.useLongPressSelection,o=void 0!==r&&r;return new Za.a({key:DV,props:{nodeViews:{panel:NV(n,t)},handleClickOn:gb(["panel"],(function(e){return!!e.closest(".".concat(eo.prefix))}),{useLongPressSelection:o})}})},BV=n(413),FV=n.n(BV),zV=n(721),UV=n.n(zV),HV=n(537),WV=n.n(HV),VV=n(722),qV=n.n(VV),GV=n(723),KV=n.n(GV);function $V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$V(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var XV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){var i=r.schema.nodes,a=r.tr,c=SV(r);if(void 0===c)return!1;var s,u=e,l=c.node.attrs.panelType;if(n){var d=YV({color:c.node.attrs.panelColor||no(l),emoji:c.node.attrs.panelIcon,emojiId:c.node.attrs.panelIconId,emojiText:c.node.attrs.panelIconText},t);s=a.setNodeMarkup(c.pos,i.panel,{panelIcon:d.emoji,panelIconId:d.emojiId,panelIconText:d.emojiText,panelColor:d.color,panelType:e})}else s=a.setNodeMarkup(c.pos,i.panel,{panelType:e});var f={action:wt.a.CHANGED_TYPE,actionSubject:wt.b.PANEL,attributes:{newType:u,previousType:l},eventType:wt.e.TRACK},p=r.selection instanceof dt.NodeSelection&&"panel"===r.selection.node.type.name?s.setSelection(new dt.NodeSelection(a.doc.resolve(c.pos))):s,h=Object(Ot.a)(r,p,f);return h.setMeta("scrollIntoView",!1),o&&o(h),!0}},JV=n(104);function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZV(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eq,tq=[{label:"White",value:JV.a.N0},{label:"Light blue",value:JV.a.B50},{label:"Light teal",value:JV.a.T50},{label:"Light green",value:JV.a.G50},{label:"Light yellow",value:JV.a.Y50},{label:"Light red",value:JV.a.R50},{label:"Light purple",value:JV.a.P50},{label:"Light gray",value:JV.a.N20},{label:"Blue",value:JV.a.B75},{label:"Teal",value:JV.a.T75},{label:"Green",value:JV.a.G75},{label:"Yellow",value:JV.a.Y75},{label:"Red",value:JV.a.R75},{label:"Purple",value:JV.a.P75},{label:"Gray",value:JV.a.N60},{label:"Dark blue",value:JV.a.B100},{label:"Dark teal",value:JV.a.T100},{label:"Dark green",value:JV.a.G200},{label:"Dark yellow",value:JV.a.Y200},{label:"Dark red",value:JV.a.R100},{label:"Dark purple",value:JV.a.P100}].map((function(e){return QV(QV({},e),{},{border:Op.a})})),nq=([{label:"Dark gray",value:yr.DarkGray},{label:"Dark blue",value:yr.B1200S},{label:"Dark teal",value:yr.T1200S},{label:"Dark green",value:yr.G1200S},{label:"Dark yellow",value:yr.Y1200S},{label:"Dark red",value:yr.R1200S},{label:"Dark purple",value:yr.P1200S},{label:"Gray",value:yr.Gray},{label:"blue",value:yr.B900},{label:"teal",value:yr.T900},{label:"green",value:yr.G900},{label:"yellow",value:yr.Y900},{label:"red",value:yr.R900},{label:"purple",value:yr.P900},{label:"Light gray",value:yr.LightGray},{label:"Light blue",value:yr.B800S},{label:"Light teal",value:yr.T900S},{label:"Light green",value:yr.G900S},{label:"Light yellow",value:yr.Y800S},{label:"Light red",value:yr.R800S},{label:"Light purple",value:yr.P800S}].map((function(e){return QV(QV({},e),{},{border:Op.a})})),Object(ko.b)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{id:"fabric.editor.panel.emoji",defaultMessage:"Add emoji",description:"Select the panel icon"},backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}}));function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rq(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iq=(eq={},E()(eq,vr.a.INFO,{shortName:":info:",id:"atlassian-info"}),E()(eq,vr.a.NOTE,{shortName:":note:",id:"atlassian-note"}),E()(eq,vr.a.WARNING,{shortName:":warning:",id:"atlassian-warning"}),E()(eq,vr.a.ERROR,{shortName:":cross_mark:",id:"atlassian-cross_mark"}),E()(eq,vr.a.SUCCESS,{shortName:":check_mark:",id:"atlassian-check_mark"}),E()(eq,vr.a.TIP,{shortName:":tip:",id:"atlassian-tip"}),eq),aq=function(e,t,n,r,o,i,a,c,s){var u=[{id:"editor.panel.info",type:"button",icon:FV.a,onClick:XV(vr.a.INFO),selected:i===vr.a.INFO,title:e(nq.info),tabIndex:null},{id:"editor.panel.note",type:"button",icon:UV.a,onClick:XV(vr.a.NOTE),selected:i===vr.a.NOTE,title:e(nq.note),tabIndex:null},{id:"editor.panel.success",type:"button",icon:kx.a,onClick:XV(vr.a.SUCCESS),selected:i===vr.a.SUCCESS,title:e(nq.success),tabIndex:null},{id:"editor.panel.warning",type:"button",icon:WV.a,onClick:XV(vr.a.WARNING),selected:i===vr.a.WARNING,title:e(nq.warning),tabIndex:null},{id:"editor.panel.error",type:"button",icon:qV.a,onClick:XV(vr.a.ERROR),selected:i===vr.a.ERROR,title:e(nq.error),tabIndex:null}];if(n){var l=i===vr.a.CUSTOM?a||no(vr.a.INFO):no(i),d=tq.find((function(e){return e.value===l}))||{label:"Custom",value:l,border:Op.a};if(r){var f={id:"editor.panel.colorPicker",title:e(nq.backgroundColor),type:"select",selectType:"color",defaultValue:d,options:tq,onChange:function(e){return t=e.value,function(e,r){var o=SV(e);if(void 0===o)return!1;var i=o.node.attrs.panelColor||no(o.node.attrs.panelType),a=o.node.attrs.panelType,c=iq[a],s=c?{emoji:c.shortName,emojiId:c.id}:{};if(i===t)return XV(vr.a.CUSTOM,oq({color:t},s),n)(e,r),!1;var u={action:wt.a.CHANGED_BACKGROUND_COLOR,actionSubject:wt.b.PANEL,actionSubjectId:wt.c.PANEL,attributes:{newColor:t,previousColor:i},eventType:wt.e.TRACK};return Object(Ot.c)(u)(XV(vr.a.CUSTOM,oq({color:t},s),n))(e,r),!1};var t}},p={id:"editor.panel.emojiPicker",title:e(nq.emoji),type:"select",selectType:"emoji",options:[],selected:i===vr.a.CUSTOM&&!!c,onChange:function(e){return function(e){return function(t,n){var r=SV(t);if(void 0===r)return!1;var o=r.node.attrs.panelIcon||"";if(o===e.shortName)return XV(vr.a.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0)(t,n),!1;var i={action:wt.a.CHANGED_ICON,actionSubject:wt.b.PANEL,actionSubjectId:wt.c.PANEL,attributes:{newIcon:e.shortName,previousIcon:o},eventType:wt.e.TRACK};return Object(Ot.c)(i)(XV(vr.a.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0))(t,n),!1}}(e)}},h={id:"editor.panel.removeEmoji",type:"button",icon:KV.a,onClick:function(e,t){var r=SV(e);if(i===vr.a.CUSTOM&&!c)return!1;if(void 0===r)return!1;var o={action:wt.a.REMOVE_ICON,actionSubject:wt.b.PANEL,actionSubjectId:wt.c.PANEL,attributes:{icon:r.node.attrs.panelIcon},eventType:wt.e.TRACK};return Object(Ot.c)(o)(XV(vr.a.CUSTOM,{emoji:void 0,emojiId:void 0,emojiText:void 0},n))(e,t),!1},title:e(Nc.removeEmoji),disabled:!c};u.push(p,h,{type:"separator"},f)}}return s&&oz(s)&&u.push({type:"separator"},rz(s,e,t)),u.push({type:"separator"},{id:"editor.panel.delete",type:"button",appearance:"danger",icon:Wg.a,onClick:function(e,t){var n=e.schema.nodes,r=e.tr,o={action:wt.a.DELETED,actionSubject:wt.b.PANEL,attributes:{inputMethod:wt.f.TOOLBAR},eventType:wt.e.TRACK},i=r;return Object(Qi.findSelectedNodeOfType)(n.panel)(r.selection)?i=Object(Qi.removeSelectedNode)(r):Object(Qi.findParentNodeOfType)(n.panel)(r.selection)&&(i=Object(Qi.removeParentNodeOfType)(n.panel)(r)),!!i&&(t&&t(Object(Ot.a)(e,i,o)),!0)},onMouseEnter:qg(t,!0),onMouseLeave:qg(t,!1),onFocus:qg(t,!0),onBlur:qg(t,!1),title:e(Nc.remove),tabIndex:null}),u},cq=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.formatMessage,o=SV(e);if(o){var i=e.schema.nodes.panel,a=o.node.attrs,c=a.panelType,s=a.panelColor,u=a.panelIcon,l=function(e){return e!==vr.a.CUSTOM?e:void 0},d=aq(r,i,n.allowCustomPanel||!1,n.allowCustomPanel&&n.allowCustomPanelEdit||!1,0,c,n.allowCustomPanel?s:void 0,n.allowCustomPanel?u||l(c):void 0,e),f=function(e){var t=e.domAtPos.bind(e);return Object(Qi.findDomRefAtPos)(o.pos,t)};return{title:"Panel floating controls",getDomRef:f,nodeType:i,items:d}}};function sq(e,t,n){var r=function(e,t){var n=Object(Qi.findParentNodeOfType)(t)(e);return n?n.node:null}(e,t);return r&&Object(wa.l)(n)(r)}var uq=function(){return dp({Backspace:function(e,t){var n=e.selection,r=e.schema.nodes,o=e.tr,i=r.panel,a=r.blockquote,c=n.$from,s=n.$to;if(c.pos!==s.pos)return!1;if(0!==c.parentOffset)return!1;var u=o.doc.resolve(Math.max(0,c.before(c.depth)-1)),l=u.pos>0&&u.parent&&u.parent.type,d=c.parent.type;if(l===i&&!(d===i)||sq(n,i,e.schema)||sq(n,a,e.schema)){var f=c.node(c.depth).content,p=u.pos-1;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(c,o).insert(p,f),t&&t(Object(Qi.setTextSelection)(p)(o).scrollIntoView()),!0}return c.node().type===i}})},lq=n(80),dq=n(720),fq=function(e,t,n){var r=n(pq(e,t));return r&&Object(Ot.a)(t,r,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.PANEL,attributes:{inputMethod:wt.f.QUICK_INSERT,panelType:e.panelType},eventType:wt.e.TRACK}),r},pq=function(e,t){return t.schema.nodes.panel.createChecked(e,t.schema.nodes.paragraph.createChecked())},hq=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"panel",nodes:function(){return[{name:"panel",node:Object(vr.b)(!!e.allowCustomPanel)}]},pmPlugins:function(){return[{name:"panel",plugin:function(t){var n=t.providerFactory;t.dispatch;return LV(0,n,e)}},{name:"panelKeyMap",plugin:function(){return uq()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage,r=[{id:"infopanel",title:n(lq.a.infoPanel),keywords:["panel"],description:n(lq.a.infoPanelDescription),priority:800,icon:function(){return i.a.createElement(Dv,null)},action:function(e,t){return fq({panelType:vr.a.INFO},t,e)}},{id:"notepanel",title:n(lq.a.notePanel),description:n(lq.a.notePanelDescription),priority:1e3,icon:function(){return i.a.createElement(Mv,null)},action:function(e,t){return fq({panelType:vr.a.NOTE},t,e)}},{id:"successpanel",title:n(lq.a.successPanel),description:n(lq.a.successPanelDescription),keywords:["tip"],priority:1e3,icon:function(){return i.a.createElement(Rv,null)},action:function(e,t){return fq({panelType:vr.a.SUCCESS},t,e)}},{id:"warningpanel",title:n(lq.a.warningPanel),description:n(lq.a.warningPanelDescription),priority:1e3,icon:function(){return i.a.createElement(Nv,null)},action:function(e,t){return fq({panelType:vr.a.WARNING},t,e)}},{id:"errorpanel",title:n(lq.a.errorPanel),description:n(lq.a.errorPanelDescription),priority:1e3,icon:function(){return i.a.createElement(Iv,null)},action:function(e,t){return fq({panelType:vr.a.ERROR},t,e)}}];return e.allowCustomPanel&&e.allowCustomPanelEdit&&r.push({id:"custompanel",title:n(lq.a.customPanel),description:n(lq.a.customPanelDescription),priority:1e3,icon:function(){return i.a.createElement(dq.default,null)},action:function(e,t){return fq({panelType:vr.a.CUSTOM,panelIcon:":rainbow:",panelIconId:"1f308",panelIconText:"",panelColor:Ce.T50},t,e)}}),r},floatingToolbar:function(t,n,r){return cq(t,n,e,r)}}}},mq=n(601),vq=n(603),bq=n(602),gq=n(321);function yq(e,t,n){return Oq.apply(this,arguments)}function Oq(){return(Oq=u()(C.a.mark((function e(t,n,r){var o,i,a,c,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(gq.b)(r,n),i=mr()(o,2),a=i[0],c=i[1],e.next=3,t.getExtension(n,a);case 3:if(s=e.sent){e.next=6;break}throw new Error('Extension with key "'.concat(a,'" and type "').concat(n,'" not found!'));case 6:if(s.modules.nodes){e.next=8;break}throw new Error("Couldn't find any node for extension type \"".concat(n,'" and key "').concat(r,'"!'));case 8:if(u=s.modules.nodes[c]){e.next=11;break}throw new Error('Node with key "'.concat(r,'" not found on manifest for extension type "').concat(n,'" and key "').concat(r,'"!'));case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wq(e,t,n){return kq.apply(this,arguments)}function kq(){return(kq=u()(C.a.mark((function e(t,n,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yq(t,n,r);case 2:return o=e.sent,e.abrupt("return",Object.keys(o).filter((function(e){return e.startsWith("__")})).reduce((function(e,t){return e[t]=o[t],e}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eq(e){return e.error||e.timedOut?(console.error("Error rendering extension",e.error),i.a.createElement("div",null,"Error loading the extension!")):null}function xq(e,t,n){return gv()({loader:function(){return yq(e,t,n).then((function(e){return Object(gq.c)(e.render())}))},loading:Eq})}function Sq(e){return"object"===gt()(e)?e.render:e}var jq,Cq,Tq,_q,Aq=n(121),Pq=Object(T.c)(Cq||(Cq=S()(["\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children:not(.without-frame) {\n    padding: 4px 8px 8px;\n  }\n  &.without-frame {\n    padding: 0;\n  }\n"])),Aq.c/2,Aq.c/2,Aq.c/4),Iq=function(e){return Object(T.c)(Tq||(Tq=S()(["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  cursor: initial;\n"])),Aq.c,Object(Zn.a)({light:Object(ot.a)("elevation.surface","white"),dark:Object(ot.a)("elevation.surface",Ce.DN30)})(e),Object(Zn.a)({dark:Object(ot.a)("color.text",Ce.DN900)})(e),Object(ot.a)("color.border",Ce.N30),Object(Ze.d)())},Mq=Object(T.c)(_q||(_q=S()(["\n  padding: 0 ","px ","px;\n"])),Aq.c,Aq.c),Rq=n(381),Nq=n.n(Rq),Dq=function(e){var t=e.node,n=e.type;if(t.attrs.parameters){var r,o=t.attrs.parameters.macroMetadata;if(o&&o.placeholder)return o.placeholder.forEach((function(e){e.type===n&&e.data&&e.data.url&&(r=e.data)})),r}},Lq=["url"];function Bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var zq,Uq,Hq,Wq=function(e){b()(n,e);var t=Fq(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props.node,t=Dq({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);var n=Dq({node:e,type:"icon"});return this.renderFallback(n)}},{key:"renderImage",value:function(e){var t=this.props.node.attrs.extensionKey,n=e.url,r=wo()(e,Lq);return Object(T.d)("img",_e()({css:Aq.f,src:n},r,{alt:t}))}},{key:"renderFallback",value:function(e){var t,n=this.props.node.attrs,r=n.parameters,o=n.extensionKey,i=this.props.node.type.name,a=r&&r.macroParams,c=r&&r.extensionTitle||r&&r.macroMetadata&&r.macroMetadata.title||o,s="extension"===i;return Object(T.d)("div",{css:Aq.d},e&&!s?this.renderImage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bq(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:24,width:24},e)):Object(T.d)(Nq.a,{label:c}),Object(T.d)("span",{className:"extension-title"},(t=c).charAt(0).toUpperCase()+t.slice(1)),a&&!s&&Object(T.d)("span",{css:Aq.e},Object.keys(a).map((function(e){return e&&" | ".concat(e," = ").concat(a[e].value)}))))}}]),n}(o.Component),Vq=(zq=function(e){var t=e.node,n=e.handleContentDOMRef,r=e.children,o=e.view,i=e.handleRef,a=e.shadowClassNames,c=e.hideFrame,s=e.editorAppearance,u="bodiedExtension"===t.type.name,l=!!r,d=c&&!("mobile"===s)&&!u||!1,f=Jl()("extension-container","block",a,E()({"with-overlay":!u,"without-frame":d},"wider-layout",["full-width","wide"].includes(t.attrs.layout))),p=Jl()({"with-children":l,"without-frame":d});return Object(T.d)(Xa.a,{editorView:o,plugins:{widthState:tc},render:function(e){var o=e.widthState,a=void 0===o?{width:0}:o;return Object(T.d)("div",{ref:i,"data-layout":t.attrs.layout,className:f,css:function(e){return function(e,t){return Object(T.c)(jq||(jq=S()(["\n  ","\n\n  &.without-frame {\n    background: transparent;\n  }\n  cursor: pointer;\n  width: 100%;\n\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level */\n  .ProseMirror\n    > ","\n    > [extensiontype]\n    &.",",\n    .ProseMirror\n    > [extensiontype]\n    &."," {\n    width: ",";\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"])),Object(Aq.g)(e),'[data-mark-type="dataConsumer"]',"wider-layout","wider-layout",t)}(e,Object(Ud.b)(t.attrs.layout,a.width))}},Object(T.d)("div",{className:"extension-overflow-wrapper ".concat(u?"with-body":"")},Object(T.d)("div",{css:Aq.b,className:"extension-overlay"}),Object(T.d)("div",{css:Pq,contentEditable:!1,className:p},!d&&Object(T.d)(Wq,{node:t}),r),u&&Object(T.d)("div",{css:Mq},Object(T.d)("div",{css:Iq,ref:n,className:"extension-content block"}))))}})},Uq={overflowSelector:".extension-overflow-wrapper"},function(e){b()(n,e);var t=Re(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"overflowContainerWidth",0),E()(m()(e),"state",{showLeftShadow:!1,showRightShadow:!1}),E()(m()(e),"handleScroll",(function(t){e.overflowContainer&&t.target===e.overflowContainer&&!Uq.useShadowObserver&&e.updateShadows()})),E()(m()(e),"updateShadows",(function(){Uq.useShadowObserver||e.setState((function(t){if(e.overflowContainer){var n=e.calcOverflowDiff(),r=n>0&&n>e.overflowContainer.scrollLeft,o=e.showLeftShadow(e.overflowContainer);return o!==t.showLeftShadow||r!==e.state.showRightShadow?{showLeftShadow:o,showRightShadow:r}:null}}))})),E()(m()(e),"showLeftShadow",(function(e){return!!e&&e.scrollLeft>0})),E()(m()(e),"calcOverflowDiff",(function(){return e.overflowContainer?(e.diff=e.calcScrollableWidth(),e.diff-e.overflowContainer.offsetWidth):0})),E()(m()(e),"calcScrollableWidth",(function(){if(!e.scrollable&&e.overflowContainer)return e.overflowContainer.scrollWidth;if(!e.scrollable)return 0;for(var t=0,n=0;n<e.scrollable.length;n++)t+=e.scrollable[n].scrollWidth;return t})),E()(m()(e),"handleContainer",(function(t){t&&!e.container&&(e.container=t,e.overflowContainer=t.querySelector(Uq.overflowSelector),e.overflowContainer||(e.overflowContainer=t),Uq.useShadowObserver?e.initShadowObserver():(e.updateShadows(),e.overflowContainer.addEventListener("scroll",e.handleScroll)))})),e}return p()(n,[{key:"componentWillUnmount",value:function(){if(Uq.useShadowObserver)return this.shadowObserver&&this.shadowObserver.dispose();this.overflowContainer&&this.overflowContainer.removeEventListener("scroll",this.handleScroll),this.updateShadows()}},{key:"componentDidUpdate",value:function(){Uq.useShadowObserver||this.updateShadows()}},{key:"initShadowObserver",value:function(){var e=this;!this.shadowObserver&&this.overflowContainer&&(this.shadowObserver=new Me({scrollContainer:this.overflowContainer,onUpdateShadows:function(t){e.setState((function(e){var n=t.showLeftShadow,r=t.showRightShadow;return n!==e.showLeftShadow||r!==e.showRightShadow?{showLeftShadow:n,showRightShadow:r}:null}))}}))}},{key:"render",value:function(){var e=this.state,t=e.showLeftShadow,n=[e.showRightShadow&&De,t&&Le,Uq.useShadowObserver&&Ie].filter(Boolean).join(" ");return i.a.createElement(zq,_e()({handleRef:this.handleContainer,shadowClassNames:n},this.props))}}]),n}(i.a.Component)),qq=function(e){return Object(T.c)(Hq||(Hq=S()(["\n  ","\n\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: ",";\n  }\n"])),Object(Aq.g)(e),Object(Ze.d)(),Object(ot.a)("color.background.neutral.subtle","white"))};function Gq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Kq=function(e){b()(n,e);var t=Gq(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.children,r=!!n?"with-overlay with-children":"with-overlay";return Object(T.d)("div",{css:qq,className:"extension-container inline ".concat(r)},Object(T.d)("div",{css:Aq.b,className:"extension-overlay"}),n||Object(T.d)(Wq,{node:t}))}}]),n}(o.Component);function $q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Yq=function(e){b()(n,e);var t=$q(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"privatePropsParsed",!1),E()(m()(e),"state",{}),E()(m()(e),"mounted",!1),E()(m()(e),"getNodeRenderer",Object(P.a)(xq)),E()(m()(e),"getExtensionModuleNodePrivateProps",Object(P.a)(wq)),E()(m()(e),"setStateFromPromise",(function(t,n){n&&n.then((function(n){e.mounted&&e.setState(E()({},t,n))}))})),E()(m()(e),"parsePrivateNodePropsIfNeeded",u()(C.a.mark((function t(){var n,r,o,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.privatePropsParsed&&e.state.extensionProvider){t.next=2;break}return t.abrupt("return");case 2:return e.privatePropsParsed=!0,n=e.props.node.attrs,r=n.extensionType,o=n.extensionKey,t.prev=4,t.next=7,e.getExtensionModuleNodePrivateProps(e.state.extensionProvider,r,o);case 7:i=t.sent,e.setState({_privateProps:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Provided extension handler has thrown an error\n",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))),E()(m()(e),"handleExtension",(function(t){var n=e.props,r=n.extensionHandlers,o=n.editorView,a=t.attrs,c=a.extensionType,s=a.extensionKey,u=a.parameters,l=a.text;if(!("bodiedExtension"===t.type.name)){var d,f={type:t.type.name,extensionType:c,extensionKey:s,parameters:u,content:l,localId:t.attrs.localId};if(r&&r[c])d=Sq(r[c])(f,o.state.doc);if(!d){var p=e.state.extensionProvider&&e.getNodeRenderer(e.state.extensionProvider,c,s);if(p){var h=p;return i.a.createElement(h,{node:f,references:e.props.references})}}return d}})),e}return p()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0}},{key:"componentDidMount",value:function(){var e=this.props.extensionProvider;e&&this.setStateFromPromise("extensionProvider",e)}},{key:"componentDidUpdate",value:function(){this.parsePrivateNodePropsIfNeeded()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.extensionProvider;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}},{key:"render",value:function(){var e,t=this.props,n=t.node,r=t.handleContentDOMRef,o=t.editorView,a=t.references,c=t.editorAppearance,s=this.tryExtensionHandler();switch(n.type.name){case"extension":case"bodiedExtension":return i.a.createElement(Vq,{node:n,references:a,extensionProvider:this.state.extensionProvider,handleContentDOMRef:r,view:o,editorAppearance:c,hideFrame:null===(e=this.state._privateProps)||void 0===e?void 0:e.__hideFrame},s);case"inlineExtension":return i.a.createElement(Kq,{node:n},s);default:return null}}},{key:"tryExtensionHandler",value:function(){var e=this.props.node;try{var t=this.handleExtension(e);if(t&&i.a.isValidElement(t))return t}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}]),n}(o.Component);function Xq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Jq=function(e){b()(n,e);var t=Xq(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"renderWithProvider",(function(e){var t=e.extensionProvider,n=r.props,o=n.node,a=n.editorView,c=n.handleContentDOMRef,s=n.extensionHandlers,u=n.references,l=n.editorAppearance;return i.a.createElement(Yq,{editorView:a,node:o,references:u,extensionProvider:t,handleContentDOMRef:c,extensionHandlers:s,editorAppearance:l})})),r.providerFactory=e.providerFactory||new q,r}return p()(n,[{key:"componentWillUnmount",value:function(){this.props.providerFactory||this.providerFactory.destroy()}},{key:"render",value:function(){return i.a.createElement(Ak.a,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(o.Component);E()(Jq,"displayName","Extension");var Zq=function(e){var t=e.children,n=e.nodeType;return i.a.createElement("span",null,t,"inlineExtension"===n&&"")};function Qq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var eG=function(e){b()(n,e);var t=Qq(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"ignoreMutation",value:function(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}},{key:"getContentDOM",value:function(){if(!this.node.isInline){var e=document.createElement("div");return e.className="".concat(this.node.type.name,"-content-dom-wrapper"),{dom:e}}}},{key:"render",value:function(e,t){var n;return i.a.createElement(Zq,{nodeType:this.node.type.name},i.a.createElement(Jq,{editorView:this.view,node:this.node,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers,editorAppearance:null===(n=e.extensionNodeViewOptions)||void 0===n?void 0:n.appearance}))}}]),n}(pE);function tG(e,t,n,r,o){return function(i,a,c){return new eG(i,a,c,e,t,{providerFactory:n,extensionHandlers:r,extensionNodeViewOptions:o},void 0,void 0,void 0,!0).init()}}var nG=n(99),rG=n(212),oG=function(){var e=u()(C.a.mark((function e(t,n){var r,o,i,a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(UB.f)(t.state,!0)){e.next=3;break}throw new Error("There is no selection");case 3:return o=r.node.attrs,i=o.extensionType,a=o.extensionKey,e.next=6,yq(n,i,a);case 6:if(c=e.sent,!(s=Object(UB.f)(t.state,!0))||s.node.attrs.extensionType!==i||s.node.attrs.extensionKey!==a||s.pos!==r.pos||!c){e.next=10;break}return e.abrupt("return",c.update);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),iG=function(){var e=u()(C.a.mark((function e(t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oG(t,n);case 3:return r=e.sent,Object(nG.f)({showEditButton:!!r,updateExtension:r&&Promise.resolve(r)||void 0})(t.state,t.dispatch),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),aG=function(e,t){var n=!e&&!t||"function"==typeof e,r="object"===gt()(e)&&"function"==typeof e.update;return!(!n&&!r)},cG=function(){var e=u()(C.a.mark((function e(t,n,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"object"!==gt()(n)){e.next=4;break}return e.abrupt("return",n.update);case 4:if(!r){e.next=10;break}return e.next=7,iG(t,r);case 7:if(!(o=e.sent)){e.next=10;break}return e.abrupt("return",o);case 10:throw new Error("No update method available");case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),sG=function(e){return function(){var t=u()(C.a.mark((function t(n,r){var o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("extensionProvider"!==n||!r){t.next=13;break}return t.prev=1,t.next=4,r;case 4:return o=t.sent,Object(nG.f)({extensionProvider:o})(e.state,e.dispatch),t.next=8,iG(e,o);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Object(nG.f)({extensionProvider:void 0})(e.state,e.dispatch);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()},uG=function(e){return function(){var t=u()(C.a.mark((function t(n,r){var o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("contextIdentifierProvider"!==n||!r){t.next=11;break}return t.prev=1,t.next=4,r;case 4:o=t.sent,Object(nG.f)({contextIdentifierProvider:o})(e.state,e.dispatch),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Object(nG.f)({contextIdentifierProvider:void 0})(e.state,e.dispatch);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},lG=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=Object(HB.b)(e,{showEditButton:!1,showContextPanel:!1}),s={appearance:a.appearance};return new Za.a({state:c,view:function(e){var r=e.domAtPos.bind(e),o=sG(e),i=uG(e);return t.subscribe("extensionProvider",o),t.subscribe("contextIdentificationProvider",i),{update:function(e){var t=e.state,o=e.dispatch,i=Object(HB.c)(t),a=i.element,c=i.localId,s=i.extensionProvider,u=i.showContextPanel,l=Object(UB.f)(t,!0);if(l){var d=l.node,f=Object(UB.e)(t.schema,r,l);if(d.attrs.localId?c!==d.attrs.localId:a!==f){u&&Object(nG.a)(t,o);var p=d.attrs.extensionType,h=n[p],m=aG(h,s),v=cG(e,h,s).catch((function(){}));Object(nG.f)({localId:d.attrs.localId,showContextPanel:!1,element:f,showEditButton:m,updateExtension:v})(t,o)}else a!==f&&Object(nG.f)({element:f})(t,o);return!0}u&&Object(nG.a)(t,o)},destroy:function(){t.unsubscribe("extensionProvider",o),t.unsubscribe("contextIdentificationProvider",i)}}},key:rG.a,props:{nodeViews:{extension:tG(r,o,t,n,s),bodiedExtension:tG(r,o,t,n,s),inlineExtension:tG(r,o,t,n,s)},handleClickOn:gb(["extension","bodiedExtension"],(function(e){return!e.closest(".extension-content")}),{useLongPressSelection:i})}})};function dG(){var e={};return nu.bindKeymapWithCommand(nu.escape.common,(function(e,t){return!!Object(HB.c)(e).showContextPanel&&Object(nG.a)(e,t)}),e),dp(e)}function fG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fG(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hG,mG,vG,bG=new dt.PluginKey("extensionUniqueIdPlugin"),gG=function(){return new Za.a({appendTransaction:function(e,t,n){var r=n.tr,o=r.selection.getBookmark(),i=!1,a=n.schema.nodes,c=a.extension,s=a.bodiedExtension,u=a.inlineExtension,l=new Set([c,s,u]),d=new Set;if(e.forEach((function(e){e.docChanged&&(e.steps.some((function(e){return ms(e,l)}))&&n.doc.descendants((function(e,t){var n=e.attrs.localId;return!e.type||!l.has(e.type)||(n&&!d.has(n)?d.add(n):n&&!d.has(n)||(i=!0,r.setNodeMarkup(t,void 0,pG(pG({},e.attrs),{},{localId:Id.b.generate()}))),e.type===s)})))})),i)return r.setSelection(o.resolve(r.doc))},key:bG})},yG=n(725),OG=n.n(yG),wG=n(724),kG=n.n(wG),EG=n(160),xG=Object(ko.b)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),SG=function(e,t,n,r){var o=Object(UB.f)(e,!0);if(o&&r&&function(e,t){var n=e.schema.nodes,r=n.bodiedExtension,o=n.extension,i=n.layoutSection,a=n.table,c=n.expand,s=e.selection;return!!t&&!(t.node.type!==r&&(t.node.type!==o||Object(Qi.hasParentNodeOfType)([r,a,c].filter(Boolean))(s))||Object(Qi.hasParentNodeOfType)([i])(s))}(e,o)){var i=o.node.attrs.layout;return[{type:"button",icon:kG.a,onClick:Object(nG.e)("default"),selected:"default"===i,title:t(Nc.layoutFixedWidth),tabIndex:null},{type:"button",icon:uj.a,onClick:Object(nG.e)("wide"),selected:"wide"===i,title:t(Nc.layoutWide),tabIndex:null},{type:"button",icon:dj.a,onClick:Object(nG.e)("full-width"),selected:"full-width"===i,title:t(Nc.layoutFullWidth),tabIndex:null}]}return[]},jG=function(e,t){return t.showEditButton?[{id:"editor.extension.edit",type:"button",icon:OG.a,testId:"extension-toolbar-edit-button",onClick:function(e,t,n){var r=EG.a.getState(e),o=Object(HB.c)(e).updateExtension;return JB(r&&r.macroProvider,o)(e,t,n),!0},title:e(xG.edit),tabIndex:null}]:[]},CG=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n.formatMessage,o=Object(HB.c)(t);if(o&&!o.showContextPanel&&o.element){var i=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],a=jG(r,o),c=SG(t,r,0,e);return{title:"Extension floating controls",getDomRef:function(){return o.element.parentElement||void 0},nodeType:i,items:[].concat(D()(a),D()(c),[{type:"separator",hidden:0===a.length&&0===c.length},{type:"extensions-placeholder",separator:"end"},{id:"editor.extension.delete",type:"button",icon:Wg.a,appearance:"danger",onClick:Object(nG.c)(),onMouseEnter:qg(i,!0),onMouseLeave:qg(i,!1),onFocus:qg(i,!0),onBlur:qg(i,!1),title:r(Nc.remove),tabIndex:null}])}}}},TG=n(663),_G=gv()({loader:function(){return Promise.all([n.e(5),n.e(23),n.e(149)]).then(n.bind(null,2096)).then((function(e){return e.default}))},loading:TG.a}),AG=n(662),PG=n.n(AG),IG=Object(ko.b)({saveIndicator:{id:"fabric.editor.extensions.config-panel.save-indicator",defaultMessage:"All changes are always autosaved",description:"Message shown to the user to notify to them that we save the changes automatically."}}),MG=function(){},RG=Object(T.c)(hG||(hG=S()(["\n  display: flex;\n  justify-content: center;\n"]))),NG=Object(T.c)(mG||(mG=S()(["\n  position: fixed;\n  width: 256px;\n  bottom: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 12px;\n\n  background: ",";\n\n  /* E300 */\n  box-shadow: ",";\n  border-radius: 16px;\n"])),Object(ot.a)("elevation.surface.overlay",Ce.N0),Object(ot.a)("elevation.shadow.overlay","0px 8px 12px rgba(9, 30, 66, 0.15), 0px 0px 1px rgba(9, 30, 66, 0.31)")),DG=Object(T.c)(vG||(vG=S()(["\n  padding-left: 6px;\n"]))),LG=function(e){var t=e.children,n=e.duration,r=e.visible,i=void 0===r||r,a=Object(o.useState)(!1),c=mr()(a,2),s=c[0],u=c[1],l=Object(o.useRef)(!1),d=Object(o.useCallback)((function(){l.current||(u(!0),l.current=!0)}),[]);return Object(o.useEffect)((function(){if(s){var e=setTimeout((function(){u(!1)}),n);return function(){return clearTimeout(e)}}}),[s,n]),Object(T.d)(o.Fragment,null,Object(T.d)("div",null,t({onSaveStarted:d,onSaveEnded:MG})),i&&s&&Object(T.d)("div",{css:RG},Object(T.d)("div",{css:NG,"data-testid":"save-indicator-content"},Object(T.d)(PG.a,{label:"Saving",primaryColor:Object(ot.a)("color.icon.success",Ce.G300),size:"small"}),Object(T.d)("span",{css:DG},Object(T.d)(oa.a,IG.saveIndicator)))))};function BG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BG(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zG=function(e,t){if("object"===gt()(e)&&"object"===gt()(t)&&null!==e&&null!==t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}return e===t},UG=function(e){return function(t){var n=Object(UB.f)(t,!0);if(n){var r=Object(HB.c)(t),o=r.autoSaveResolve,a=r.autoSaveReject,c=r.showContextPanel,s=r.extensionProvider,l=r.processParametersBefore,d=r.processParametersAfter;if(r&&c&&s&&d){var f=n.node.attrs,p=f.extensionType,h=f.extensionKey,m=f.parameters,v=Object(gq.b)(h,p),b=mr()(v,2),g=b[0],y=b[1],O=l?l(m||{}):m;return i.a.createElement(LG,{duration:5e3,visible:e},(function(t){var r=t.onSaveStarted,c=t.onSaveEnded;return i.a.createElement(oc,{render:function(t){var l=t._privateGetEditorView();return l?i.a.createElement(_G,{showHeader:!0,closeOnEsc:!0,extensionType:p,extensionKey:g,nodeKey:y,extensionParameters:m,parameters:O,extensionProvider:s,autoSave:e,autoSaveTrigger:o,autoSaveReject:a,onChange:function(){var t=u()(C.a.mark((function t(i){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HG(l,i,m,n,r);case 2:c(),o&&o(),e||Object(nG.a)(l.state,l.dispatch);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:u()(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return t.prev=1,t.next=4,new Promise((function(e,t){Object(nG.b)(e,t)(l.state,l.dispatch)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Autosave failed with error",t.t0);case 9:Object(nG.a)(l.state,l.dispatch);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))}):null}})}))}}}};function HG(e){return WG.apply(this,arguments)}function WG(){return(WG=u()(C.a.mark((function e(t){var n,r,o,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,x=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x.length>1&&void 0!==x[1]?x[1]:{},r=x.length>2&&void 0!==x[2]?x[2]:{},o=x.length>3?x[3]:void 0,i=x.length>4?x[4]:void 0,a=Object(HB.c)(t.state),c=a.processParametersAfter,s=a.processParametersBefore,c){e.next=7;break}return e.abrupt("return");case 7:if(u=s?s(r):r,!zG(u,n)){e.next=10;break}return e.abrupt("return");case 10:return i&&i(),l=Date.now(),d=Object(HB.c)(t.state),f=d.positions,e.next=15,Object(nG.f)({positions:FG(FG({},f),{},E()({},l,o.pos))})(t.state,t.dispatch);case 15:return e.next=17,c(n);case 17:if(p=e.sent,h=Object(HB.c)(t.state),m=h.positions){e.next=21;break}return e.abrupt("return");case 21:if(l in m){e.next=23;break}return e.abrupt("return");case 23:if(v=o.node,b=YB(o.node.toJSON().type,t.state.schema,FG(FG({},v.attrs),{},{parameters:FG(FG({},r),p)}),v.content,v.marks)){e.next=27;break}return e.abrupt("return");case 27:return g=m[l],y=t.state.tr.replaceWith(g,g+b.nodeSize,b),(O=t.state.selection).eq(y.selection)||(w=Object(Kv.a)(O,y.doc))&&y.setSelection(w),delete(k=FG({},Object(HB.c)(t.state).positions))[l],e.next=35,Object(nG.f)({positions:k})(t.state,t.dispatch);case 35:t.dispatch(y);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VG,qG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"extension",nodes:function(){return[{name:"extension",node:mq.a},{name:"bodiedExtension",node:vq.a},{name:"inlineExtension",node:bq.a}]},pmPlugins:function(){return[{name:"extension",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.portalProviderAPI,i=t.eventDispatcher,a=e.extensionHandlers||{};return lG(n,r,a,o,i,e.useLongPressSelection,{appearance:e.appearance})}},{name:"extensionKeymap",plugin:dG},{name:"extensionUniqueId",plugin:function(){return gG()}}]},pluginsOptions:{floatingToolbar:CG(e.breakoutEnabled),contextPanel:UG(e.allowAutoSave)}}},GG=n(466),KG=n(1186),$G=n(127);!function(e){e.COMPONENT="component",e.CONSUMER="consumer",e.ORPHANED="orphaned"}(VG||(VG={}));var YG=n(85);function XG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var JG=function(e){b()(n,e);var t=XG(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"createDomRef",value:function(){return document.createElement("span")}},{key:"getContentDOM",value:function(){var e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}},{key:"render",value:function(e,t){var n=this;return i.a.createElement(Xa.a,{plugins:{inlineCommentState:YG.i},editorView:this.view,render:function(e){var r=e.inlineCommentState;if(null==r||!r.isVisible)return i.a.createElement("span",{ref:t});var o=r.annotations,a=r.selectedAnnotations,c=n.node.attrs.id,s=!1===o[c],u=a.some((function(e){return e.id===c})),l=ZG(s,u);return i.a.createElement("span",{className:l,ref:t})}})}}]),n}(pE),ZG=function(e,t){if(e)return t?Je.a.focus:Je.a.blur},QG=n(194),eK=function(){var e=u()(C.a.mark((function e(t,n){var r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getState(n);case 2:return r=e.sent,o={},r.forEach((function(e){e.annotationType===KG.a.INLINE_COMMENT&&(o[e.id]=e.state.resolved)})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tK=function(){var e=u()(C.a.mark((function e(t,n,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,eK(t,n);case 4:o=e.sent,r.dispatch&&Object($G.g)(o)(r.state,r.dispatch);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),nK=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:e,isVisible:!0}},rK=function(e){var t=e.provider,n=e.portalProviderAPI,r=e.eventDispatcher;return new Za.a({key:YG.i,state:Object(QG.b)(e.dispatch,nK(t.disallowOnWhitespace)),view:function(e){tK(t,Object(YG.d)(e.state.doc),e);var n=function(t){return(n=e.state,r=e.dispatch,function(e){Object($G.g)(E()({},e,!0),VG.CONSUMER)(n,r)})(t);var n,r},r=function(t){return(n=e.state,r=e.dispatch,function(e){Object($G.g)(E()({},e,!1))(n,r)})(t);var n,r},o=function(t){return(n=e.state,r=e.dispatch,function(e){Object(YG.g)(n).mouseData.isSelecting&&Object($G.h)({isSelecting:!1})(n,r)})(t);var n,r},i=function(t){return function(e){return function(t){var n=e.state,r=e.dispatch;Object($G.f)(t)(n,r),t&&e.focus()}}(e)(t)},a=t.updateSubscriber;return a&&a.on("resolve",n).on("delete",n).on("unresolve",r).on("create",r).on("setvisibility",i),e.root.addEventListener("mouseup",o),{update:function(e,n){Object(YG.g)(e.state).dirtyAnnotations&&(Object($G.a)()(e.state,e.dispatch),tK(t,Object(YG.d)(e.state.doc),e))},destroy:function(){e.root.removeEventListener("mouseup",o),a&&a.off("resolve",n).off("delete",n).off("unresolve",r).off("create",r).off("setvisibility",i)}}},props:{nodeViews:{annotation:function(e,t,o){return new JG(e,t,o,n,r).init()}},handleDOMEvents:{mousedown:function(e){var t,n;return Object(YG.g)(e.state).mouseData.isSelecting||(t=e.state,n=e.dispatch,function(){Object($G.h)({isSelecting:!0})(t,n)})(),!1}},decorations:function(e){return Object(YG.g)(e).draftDecorationSet}}})},oK=n(628);function iK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var aK=function(e){b()(n,e);var t=iK(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"componentDidMount",value:function(){var e=this.props.onViewed;e&&e()}},{key:"render",value:function(){return this.props.children}}]),n}(i.a.PureComponent),cK=n(133);function sK(e){var t,n,r,o,a,c=e.providers,s=e.editorView,u=e.dispatchAnalyticsEvent,l=c.inlineComment,d=s.state,f=s.dispatch,p=l.createComponent,h=l.viewComponent,m=Object(YG.g)(d),v=m.bookmark,b=m.selectedAnnotations,g=m.annotations,y=Object(YG.h)(d,m),O=(n=(t=y).$from,r=t.from,!((o=n.index())<n.parent.childCount&&n.parent.child(o))&&n.nodeBefore&&n.nodeBefore.isText&&n.nodeBefore.marks.find((function(e){return"annotation"===e.type.name}))?r-1:r);try{a=Object(Qi.findDomRefAtPos)(O,s.domAtPos.bind(s))}catch(e){if(console.warn(e),u){var w={action:wt.a.ERRORED,actionSubject:wt.b.CONTENT_COMPONENT,eventType:wt.e.OPERATIONAL,attributes:{component:wt.d.INLINE_COMMENT,selection:y.toJSON(),position:O,docSize:s.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}};u(w)}}if(!a)return null;if(v){if(!p)return null;var k=d.doc.textBetween(y.from,y.to);return i.a.createElement("div",{"data-testid":cK.b.floatingComponent},i.a.createElement(p,{dom:a,textSelection:k,onCreate:function(e){Object($G.c)(e)(s.state,s.dispatch),!s.hasFocus()&&s.focus()},onClose:function(){Object($G.e)(!1)(s.state,s.dispatch),!s.hasFocus()&&s.focus()}}))}var x=b.filter((function(e){return!1===g[e.id]}));if(!h||0===x.length)return null;return b?i.a.createElement(aK,{"data-testid":cK.b.floatingComponent,key:Object(YG.e)(x),onViewed:function(){if(u){var e={action:wt.a.VIEWED,actionSubject:wt.b.ANNOTATION,actionSubjectId:wt.c.INLINE_COMMENT,eventType:wt.e.TRACK,attributes:{overlap:x.length?x.length-1:0}};u(e)}}},i.a.createElement(h,{annotations:x,dom:a,onDelete:function(e){return Object($G.d)(e)(d,f)},onResolve:function(e){return Object($G.g)(E()({},e,!0),VG.COMPONENT)(s.state,s.dispatch)},onClose:function(){Object($G.b)()(s.state,s.dispatch)}})):null}var uK,lK=function(e){return{name:"annotation",marks:function(){return[{name:"annotation",mark:KG.b}]},pmPlugins:function(){return[{name:"annotation",plugin:function(t){var n=t.dispatch,r=t.portalProviderAPI,o=t.eventDispatcher;if(e)return rK({dispatch:n,portalProviderAPI:r,eventDispatcher:o,provider:e.inlineComment})}},{name:"annotationKeymap",plugin:function(){if(e)return t={},Object(nu.bindKeymapWithCommand)(nu.addInlineComment.common,Object($G.e)(!0,wt.f.SHORTCUT),t),dp(t);var t}}]},pluginsOptions:{floatingToolbar:function(t,n){if(e){var r=Object(YG.g)(t);if(r&&r.isVisible&&!r.bookmark&&!r.mouseData.isSelecting){var o=e.inlineComment.isToolbarAbove;return Object(oK.b)(t,n,o)}}}},contentComponent:function(t){var n=t.editorView,r=t.dispatchAnalyticsEvent;return e?i.a.createElement(Xa.a,{plugins:{selectionState:mE,inlineCommentState:YG.i},render:function(t){var o=t.inlineCommentState;return o&&!o.isVisible?null:i.a.createElement(sK,{providers:e,editorView:n,dispatchAnalyticsEvent:r})}}):null}}},dK=n(598),fK=n(1226),pK=new dt.PluginKey("datePlugin"),hK=n(482),mK=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o,i){var a,c=o.schema;a=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(fK.f)();var s=o.tr;t&&Object(Ot.a)(o,s,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.DATE,eventType:wt.e.TRACK,attributes:{inputMethod:t}}),n&&Object(Ot.a)(o,s,{eventType:wt.e.TRACK,action:wt.a.COMMITTED,actionSubject:wt.b.DATE,attributes:{commitMethod:n,isValid:void 0!==e,isToday:Object(hK.d)(e)}});var u=pK.getState(o).showDatePickerAt;if(!u){var l=c.nodes.date.createChecked({timestamp:a}),d=o.schema.text(" "),f=ya.Fragment.fromArray([l,d]),p=o.selection,h=p.from,m=p.to;if(Object(Qi.canInsert)(s.selection.$from,f))s.replaceWith(h,m,f).setSelection(dt.NodeSelection.create(s.doc,h));else{var v=dt.NodeSelection.create(s.doc,s.selection.from-s.selection.$anchor.parentOffset-1);s.insert(v.to,f).setSelection(dt.NodeSelection.create(s.doc,v.to+1))}return i&&i(s.scrollIntoView().setMeta(pK,{isNew:!0})),!0}return!!o.doc.nodeAt(u)&&(r&&(s=s.setSelection(dt.Selection.near(s.doc.resolve(u+2)))),s=s.setNodeMarkup(u,c.nodes.date,{timestamp:a}).setMeta(pK,{isNew:!1}).scrollIntoView(),r||(s=s.setSelection(dt.NodeSelection.create(s.doc,u))),i&&i(s),!0)}},vK=function(){return function(e,t){var n=pK.getState(e).showDatePickerAt;return!!t&&(t(n?e.tr.setMeta(pK,{showDatePickerAt:null,isNew:!1}).setSelection(dt.Selection.near(e.tr.doc.resolve(n+2))):e.tr.setMeta(pK,{isNew:!1})),!1)}},bK=EF.c.span(uK||(uK=S()(["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"])),Object(Ze.d)(),(function(e){return e.onClick?"pointer":"unset"}),(function(e){var t=Object(Zn.a)(function(e){switch(e){case"red":var t=[Object(ot.a)("color.background.accent.red.subtlest",Ce.R50),Object(ot.a)("color.text.accent.red",Ce.R500),Object(ot.a)("color.background.accent.red.subtler",Ce.R75)];return{light:t,dark:t};case"yellow":var n=[Object(ot.a)("color.background.accent.yellow.subtlest",Ce.Y50),Object(ot.a)("color.text.accent.yellow",Ce.Y500),Object(ot.a)("color.background.accent.yellow.subtler",Ce.Y75)];return{light:n,dark:n};case"blue":var r=[Object(ot.a)("color.background.accent.blue.subtlest",Ce.B50),Object(ot.a)("color.text.accent.blue",Ce.B500),Object(ot.a)("color.background.accent.blue.subtler",Ce.B75)];return{light:r,dark:r};case"green":var o=[Object(ot.a)("color.background.accent.green.subtlest",Ce.G50),Object(ot.a)("color.text.accent.green",Ce.G500),Object(ot.a)("color.background.accent.green.subtler",Ce.G75)];return{light:o,dark:o};case"purple":var i=[Object(ot.a)("color.background.accent.purple.subtlest",Ce.P50),Object(ot.a)("color.text.accent.purple",Ce.P500),Object(ot.a)("color.background.accent.purple.subtler",Ce.P75)];return{light:i,dark:i};case"grey":default:return{light:[Object(ot.a)("color.background.neutral",Ce.N30A),Object(ot.a)("color.text",Ce.N800),Object(ot.a)("color.background.neutral.hovered",Ce.N40)],dark:[Object(ot.a)("color.background.neutral",Ce.DN70),Object(ot.a)("color.text",Ce.DN800),Object(ot.a)("color.background.neutral.hovered",Ce.DN60)]}}}(e.color))(e);""===t&&(t=["","",""]);var n=t,r=mr()(n,3),o=r[0],i=r[1],a=r[2];return"\n      background: ".concat(o,";\n      color: ").concat(i,";\n      &:hover {\n        background: ").concat(a,";\n      }\n    ")}));function gK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var yK=function(e){return!!e.onClick},OK=function(e){b()(n,e);var t=gK(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleOnClick",(function(t){yK(e.props)&&e.props.onClick(e.props.value,t)})),E()(m()(e),"renderContent",(function(){return e.props.children?"function"==typeof e.props.children?e.props.children(e.props):e.props.children:Object(hS.a)(e.props.value,e.props.format||"")})),e}return p()(n,[{key:"render",value:function(){return i.a.createElement(bK,{className:this.props.className,onClick:yK(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}]),n}(i.a.Component);function wK(e){var t=e.node.attrs.timestamp,n=e.view.state,r=n.doc,o=n.schema,a=n.selection,c=e.getPos,s=Object(Cf.a)(),u=("function"==typeof c?r.resolve(c()):a.$from).parent,l=u.type===o.nodes.taskItem&&"DONE"!==u.attrs.state,d=l&&Object(fK.a)(t)?"red":void 0;return i.a.createElement("span",{className:$e,onClick:function(t){t.nativeEvent.stopImmediatePropagation();var n=e.view,r=n.state,o=n.dispatch;(i=r.selection.from,function(e,t){return t(e.tr.setMeta(pK,{showDatePickerAt:i})),!0})(r,o);var i}},i.a.createElement(OK,{color:d,value:t},l?Object(fK.d)(t,s):Object(fK.c)(t,s)))}function kK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kK(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}E()(OK,"displayName","Date"),E()(OK,"defaultProps",{format:"dd/MM/yyyy",color:"grey"});var xK=function(e){return e instanceof dt.NodeSelection&&"date"===e.node.type.name},SK=Object(Jc.a)(pK,(function(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return EK(EK({},e),{},{showDatePickerAt:null});var n=e.showDatePickerAt,r=e.isNew,o=t.showDatePickerAt;return n&&o&&n!==o&&r?EK(EK(EK({},e),t),{},{isNew:!1}):EK(EK({},e),t)}),{mapping:function(e,t){return t.showDatePickerAt?{showDatePickerAt:e.mapping.mapResult(t.showDatePickerAt).pos,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}:t},onSelectionChanged:function(e,t){return e.docChanged&&xK(e.selection)?EK(EK({},t),{},{isQuickInsertAction:!1,showDatePickerAt:e.selection.from}):xK(e.selection)||t.isQuickInsertAction?t:t.showDatePickerAt?{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}:t}}),jK=SK.createPluginState,CK=SK.getPluginState,TK=function(e){return new Za.a({state:jK(e.dispatch,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:pK,props:{nodeViews:{date:bi({pmPluginFactoryParams:e,Component:wK})}}})};var _K,AK,PK=function(){var e={};return nu.bindKeymapWithCommand(nu.enter.common,(function(e,t){var n=CK(e);return e.selection instanceof dt.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(vK()(e,t),!0):(function(e,t){var n=e.selection.$from,r=e.doc.nodeAt(n.pos);if(r&&r.type.name===e.schema.nodes.date.name){var o=n.pos;t&&t(e.tr.setMeta(pK,{showDatePickerAt:o}).setSelection(dt.NodeSelection.create(e.doc,o)))}}(e,t),!0))}),e),nu.bindKeymapWithCommand(nu.tab.common,(function(e,t){var n=CK(e);return!!(e.selection instanceof dt.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&(function(e,t){null!==pK.getState(e).showDatePickerAt&&!!t&&t(e.tr.setMeta(pK,{focusDateInput:!0}))}(e,t),!0))}),e),dp(e)},IK=gv()({loader:function(){return Promise.all([n.e(23),n.e(35)]).then(n.bind(null,2109)).then((function(e){return e.default}))},loading:function(){return null}}),MK=function(){return{name:"date",nodes:function(){return[{name:"date",node:dK.a}]},pmPlugins:function(){return[{name:"date",plugin:function(e){return IK.preload(),TK(e)}},{name:"dateKeymap",plugin:function(){return IK.preload(),PK()}}]},contentComponent:function(e){var t=e.editorView,n=e.dispatchAnalyticsEvent,r=e.popupsMountPoint,o=e.popupsBoundariesElement,a=e.popupsScrollableElement,c=t.state,s=t.dispatch,u=t.domAtPos.bind(t);return i.a.createElement(Xa.a,{plugins:{datePlugin:pK,editorDisabledPlugin:bE},render:function(e){var l=e.editorDisabledPlugin,d=e.datePlugin;if(null==d||!d.showDatePickerAt||null!=l&&l.editorDisabled)return null;var f=d.showDatePickerAt,p=d.isNew,h=d.focusDateInput,m=Object(Qi.findDomRefAtPos)(f,u),v=Object(oi.b)(c).keyboardAccessibleDatepicker;return i.a.createElement(IK,{mountTo:r,boundariesElement:o,scrollableElement:a,key:f,showTextField:v,element:m,isNew:p,autoFocus:h,onDelete:function(){!function(e,t){var n=pK.getState(e).showDatePickerAt;if(null===n)return!1;var r=e.tr.delete(n,n+1).setMeta(pK,{showDatePickerAt:null,isNew:!1});t&&t(r)}(t.state,s),t.focus()},onSelect:function(e,n){null!=e&&(mK(e,void 0,n)(t.state,s),t.focus())},onTextChanged:function(e){mK(e,void 0,void 0,!1)(t.state,s)},closeDatePicker:function(){vK()(t.state,s),t.focus()},closeDatePickerWithAnalytics:function(e){!function(e){var t=e.date;return Object(Ot.c)({eventType:wt.e.TRACK,action:wt.a.COMMITTED,actionSubject:wt.b.DATE,attributes:{commitMethod:wt.f.BLUR,isValid:void 0!==t,isToday:Object(hK.d)(t)}})(vK())}({date:e.date})(t.state,s),t.focus()},dispatchAnalyticsEvent:n})}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"date",title:t(Gv.a.date),description:t(Gv.a.dateDescription),priority:800,keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:function(){return i.a.createElement(kv,null)},action:function(e,t){var n,r=(n=!0,function(e,t){var r=t.schema.nodes.date.createChecked({timestamp:Object(fK.f)()}),o=t.schema.text(" "),i=e(ya.Fragment.from([r,o]),{selectInlineNode:!0}),a={isQuickInsertAction:n,showDatePickerAt:i.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return i.setMeta(pK,a)})(e,t);return Object(Ot.a)(t,r,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.DATE,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.QUICK_INSERT}}),r}}]}}}},RK=n(590),NK=n(415),DK=n.n(NK),LK=n(259),BK=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FK=function(e,t,n){return function(r){if(!e)return r;var o=function(e){return parseFloat(window.getComputedStyle(e,void 0).lineHeight||"")}(BK(t)),i=function(e,t,n){var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.height;return{left:e.left-o,right:e.right-o,top:e.top-(i-n)+t.scrollTop,bottom:a-(e.top-(i-n)-t.scrollTop)}}(n(),e,o);return{left:r.left?i.left:void 0,right:r.right?i.right:void 0,top:r.top?i.top:void 0,bottom:r.bottom?i.bottom:void 0}}};function zK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var UK=function(e){b()(n,e);var t=zK(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.target,o=t.offset,i=t.fitWidth,a=t.fitHeight,c=void 0===a?40:a,s=t.onPositionCalculated,u=t.popupsMountPoint,l=t.popupsBoundariesElement,d=t.className,f=t.alignX,p=t.alignY,h=t.zIndex;return r?Object(T.d)(Hd.a,{alignX:f,alignY:p,target:r,zIndex:h,mountTo:u,boundariesElement:l,offset:o,fitWidth:i,fitHeight:c,onPositionCalculated:s},Object(T.d)("div",{css:(e=c,Object(T.c)(_K||(_K=S()(["\n  border-radius: ","px;\n  box-shadow: ",";\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"])),Object(Ze.d)(),Object(ot.a)("elevation.shadow.overlay","0 12px 24px -6px ".concat(Ce.N50A,", 0 0 1px ").concat(Ce.N60A)),Object(ot.a)("color.background.input",Ce.N0),e?Object(T.c)(AK||(AK=S()(["\n        height: ","px;\n      "])),e):"")),"data-testid":"popup-container",className:d},n)):null}}]),n}(o.PureComponent);function HK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var WK=Object(ko.b)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}}),VK=function(e){b()(n,e);var t=HK(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"handleSubmit",(function(t){t?(e.props.insertPlaceholder(t),e.props.setFocusInEditor()):e.props.hidePlaceholderFloatingToolbar()})),E()(m()(e),"handleBlur",(function(){e.props.hidePlaceholderFloatingToolbar()})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.getNodeFromPos,n=e.showInsertPanelAt,r=e.editorViewDOM,o=e.popupsMountPoint,a=e.getFixedCoordinatesFromPos,c=e.popupsBoundariesElement,s=e.intl.formatMessage,u=t(n),l=function(e,t){return t?t.offsetParent:e.offsetParent}(r,o),d=FK(l,u,(function(){return a(n)}));return i.a.createElement(UK,{target:BK(u),onPositionCalculated:d,popupsMountPoint:o,popupsBoundariesElement:c,fitHeight:32,offset:[0,12]},i.a.createElement(Bx,{placeholder:s(WK.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}]),n}(i.a.Component),qK=Object(Ji.c)(VK),GK=new dt.PluginKey("placeholderTextPlugin"),KK=function(e,t){var n=e.tr;return e.selection.empty||n.deleteSelection(),n.setMeta(GK,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n),!0},$K=function(){function e(t,n,r){d()(this,e),this.node=t,this.view=n,this.getPos=r,this.dom=function(e){var t=document.createElement("span");t.classList.add("pm-placeholder"),t.classList.add("placeholderView-content-wrap"),xe.a.gecko&&t.setAttribute("contenteditable","true"),t.innerText="";var n=document.createElement("span");return n.classList.add("pm-placeholder__text"),n.dataset.placeholder=e.attrs.text,n.setAttribute("contenteditable","false"),t.appendChild(n),xe.a.safari?t.appendChild(document.createTextNode("")):t.appendChild(document.createElement("wbr")),t}(this.node),this.getPos=r}return p()(e,[{key:"stopEvent",value:function(e){if("mousedown"===e.type&&"function"==typeof this.getPos){e.preventDefault();var t=this.view,n=this.getPos(),r=t.state.tr;return r.setSelection(dt.Selection.near(r.doc.resolve(n))),t.dispatch(r),!0}return!1}},{key:"ignoreMutation",value:function(e){if("function"!=typeof this.getPos||"selection"!==e.type)return!0;var t=this.view,n=this.node,r=this.getPos(),o=this.getPos()+n.nodeSize,i=t.state.selection;if(i.from===o)return!1;var a=i.from===r,c=i.from>o;if(a||c){var s=t.state.tr;return s.setSelection(dt.Selection.near(s.doc.resolve(o))),t.dispatch(s),!0}return!0}}]),e}(),YK=function(e,t){var n={findTypeAheadHandler:XT({editorView:e}),openTypeAheadHandler:PT},r=n.findTypeAheadHandler(t);return r&&r.id?n.openTypeAheadHandler({triggerHandler:r,inputMethod:wt.f.KEYBOARD}):null};function XK(e,t){var n=!!t.allowInserting;return new Za.a({key:GK,state:{init:function(){return{showInsertPanelAt:null,allowInserting:n}},apply:function(t,r){var o=t.getMeta(GK);if(o&&void 0!==o.showInsertPanelAt){var i={showInsertPanelAt:o.showInsertPanelAt,allowInserting:n};return e(GK,i),i}if(r.showInsertPanelAt){var a={showInsertPanelAt:t.mapping.map(r.showInsertPanelAt),allowInserting:n};return e(GK,a),a}return r}},appendTransaction:function(e,t,n){if(e.some((function(e){return e.docChanged}))){var r=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,i=n.selection.$head.pos,a=n.schema.nodes.placeholder;if(o&&o.type===a&&r)if(t.selection.$head.pos<n.selection.$head.pos&&!Object(uc.j)(n.selection.$head.nodeBefore)){var c=dt.NodeSelection.create(n.doc,i),s=c.$from,u=c.$to;return n.tr.deleteRange(s.pos,u.pos)}}return!GK.getState(t).showInsertPanelAt&&GK.getState(n).showInsertPanelAt?n.tr.setSelection(new LK.a(n.selection.$from)):GK.getState(t).showInsertPanelAt&&!GK.getState(n).showInsertPanelAt&&n.selection instanceof LK.a?n.tr.setSelection(new dt.TextSelection(n.selection.$from)):void 0},props:{handleDOMEvents:{beforeinput:function(e,t){var n=e.state;if(t instanceof InputEvent&&!t.isComposing&&"insertText"===t.inputType&&function(e){if(!(e instanceof dt.TextSelection&&e.$cursor))return!1;var t=e.$cursor.doc.nodeAt(e.$cursor.pos);return"placeholder"===(null==t?void 0:t.type.name)}(e.state.selection)){t.stopPropagation(),t.preventDefault();var r=n.selection.from,o=t.data||"",i=e.state.tr;i.delete(r,r+1);var a=YK(e,o);return a?a(i):i.insertText(o),e.dispatch(i),!0}return!1}},nodeViews:{placeholder:function(e,t,n){return new $K(e,t,n)}}}})}var JK,ZK,QK=function(e){return{name:"placeholderText",nodes:function(){return[{name:"placeholder",node:RK.a}]},pmPlugins:function(){return[{name:"placeholderText",plugin:function(t){return XK(t.dispatch,e)}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=function(e){return function(e){return function(t,n){return n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(GK,{showInsertPanelAt:null}).scrollIntoView()),!0}}(e)(t.state,t.dispatch)},a=function(){return e=t.state,(0,t.dispatch)(e.tr.setMeta(GK,{showInsertPanelAt:null})),!0;var e},c=function(e){return t.domAtPos(e).node},s=function(e){return t.coordsAtPos(e)},u=function(){return t.focus()};return i.a.createElement(Xa.a,{plugins:{placeholderTextState:GK},render:function(e){var l=e.placeholderTextState,d=void 0===l?{}:l;return d.showInsertPanelAt?i.a.createElement(qK,{editorViewDOM:t.dom,popupsMountPoint:n,popupsBoundariesElement:r,getFixedCoordinatesFromPos:s,getNodeFromPos:c,hidePlaceholderFloatingToolbar:a,showInsertPanelAt:d.showInsertPanelAt,insertPlaceholder:o,setFocusInEditor:u}):null}})}}},e$=function(e){return function(e,t){return t.allowInserting?(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{id:"placeholderText",title:t(Gv.a.placeholderText),description:t(Gv.a.placeholderTextDescription),priority:1400,keywords:["placeholder"],icon:function(){return i.a.createElement(DK.a,{label:""})},action:function(e,t){var n=t.tr;return n.setMeta(GK,{showInsertPanelAt:n.selection.anchor}),Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.PLACEHOLDER_TEXT,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]}},e):e}(QK(e),e)},t$=n(367),n$=n(591);!function(e){e.SINGLE_COL="singleColumn",e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(JK||(JK={})),function(e){e.INLINE_CARD="inline",e.BLOCK_CARD="block",e.URL="url"}(ZK||(ZK={}));var r$=new dt.PluginKey("layout");function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o$(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a$=["single"],c$=["two_equal","two_left_sidebar","two_right_sidebar"],s$=["three_equal","three_with_sidebars"],u$=function(e){switch(e){case"single":return[100];case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},l$=function(e){switch(ym(e,(function(e){return e.attrs.width})).join(",")){case"100":return"single";case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},d$=function(e,t){return e&&l$(e)&&l$(e)||t},f$=function(e){var t=e.schema.nodes,n=t.layoutSection,r=t.layoutColumn,o=ya.Fragment.fromArray([r.createAndFill({width:50}),r.createAndFill({width:50})]);return n.createAndFill(void 0,o)},p$=function(e,t){return t&&t(Object(Qi.safeInsert)(f$(e))(e.tr)),!0},h$=function(e){return Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.LAYOUT,attributes:{inputMethod:e},eventType:wt.e.TRACK})(p$)};function m$(e,t){return function(n){n.replaceWith(n.mapping.map(t),n.mapping.map(t),e.nodes.layoutColumn.createAndFill())}}function v$(e,t,n){return function(r){Object(uc.g)(e)?r.replaceRange(r.mapping.map(t-1),r.mapping.map(n),ya.Slice.empty):r.replaceRange(r.mapping.map(t-1),r.mapping.map(t+1),ya.Slice.empty)}}var b$=m$,g$=m$,y$=v$,O$=v$;function w$(e,t,n,r){var o=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(c$.indexOf(r)>=0&&3===a){var c=t.content.child(2),s=i-c.nodeSize;O$(c,s,i)(o)}else if(s$.indexOf(r)>=0&&2===a)b$(e.schema,i)(o);else if(a$.indexOf(r)>=0&&2===a){var u=t.content.child(1),l=i-u.nodeSize;y$(u,l,i)(o)}else a$.indexOf(r)>=0&&3===a?function(e,t,n){var r=e.content.child(2);O$(r,n-r.nodeSize,n)(t);var o=e.content.child(1);y$(o,n-r.nodeSize-o.nodeSize,n)(t)}(t,o,i):c$.indexOf(r)>=0&&1===a?g$(e.schema,i)(o):s$.indexOf(r)>=0&&1===a&&function(e,t){return function(n){m$(e,t)(n),m$(e,t)(n)}}(e.schema,i)(o);return o}function k$(e,t,n){var r=t.nodes.layoutColumn,o=n.map((function(e){return Number(e.toFixed(2))}));return gm(e.content,(function(e,t){return e.type===r?r.create(i$(i$({},e.attrs),{},{width:o[t]}),e.content,e.marks):e}))}function E$(e,t,n,r){var o=w$(e,t,n,r),i=o.selection,a=(o=function(e,t,n,r){var o=t.doc.nodeAt(n);return o?t.replaceWith(n+1,n+o.nodeSize-1,k$(o,e.schema,u$(r))):t}(e,o,n,r)).doc.resolve(i.$from.pos);return o.setSelection(e.selection instanceof dt.NodeSelection?new dt.NodeSelection(a):new dt.TextSelection(a))}function x$(e){return!l$(e)}function S$(e,t,n){if(e.type===n.nodes.layoutSection){if(!x$(e))return;var r=2===e.childCount?"two_equal":3===e.childCount?"three_equal":"single",o=k$(e,n,u$(r));return{from:t+1,to:t+e.nodeSize-1,slice:new ya.Slice(o,0,0)}}}var j$=function(e,t){var n=r$.getState(e),r=n.pos,o=n.selectedLayout;if(null!==r){var i=e.doc.nodeAt(r);if(t){var a=e.tr.delete(r,r+i.nodeSize);t(a=Object(Ot.a)(e,a,{action:wt.a.DELETED,actionSubject:wt.b.LAYOUT,attributes:{layout:C$(o)},eventType:wt.e.TRACK}))}return!0}return!1},C$=function(e){switch(e){case"single":return JK.SINGLE_COL;case"two_equal":return JK.TWO_COLS_EQUAL;case"three_equal":return JK.THREE_COLS_EQUAL;case"two_left_sidebar":return JK.LEFT_SIDEBAR;case"two_right_sidebar":return JK.RIGHT_SIDEBAR;case"three_with_sidebars":return JK.THREE_WITH_SIDEBARS}};function T$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T$(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A$=function(e){var t=Object(Qi.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);return!!t&&e.selection.from<t.pos+t.node.nodeSize},P$=function(e,t){var n=e.selection,r=e.schema.nodes,o=r.layoutColumn,i=r.layoutSection,a=Object(Qi.findParentNodeOfType)(i)(n),c=Object(Qi.findParentNodeOfType)(o)(n);if(c.node!==a.node.lastChild){var s=e.doc.resolve(c.pos+c.node.nodeSize),u=dt.TextSelection.findFrom(s,1);t&&t(e.tr.setSelection(u))}return!0},I$=function(e){return new Za.a({key:r$,state:{init:function(t,n){return function(e,t){var n=Object(Qi.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),r=e.allowBreakout||!1,o=e.UNSAFE_addSidebarLayouts||!1,i=e.UNSAFE_allowSingleColumnLayout||!1;return{pos:n?n.pos:null,allowBreakout:r,addSidebarLayouts:o,selectedLayout:d$(n&&n.node,"two_equal"),allowSingleColumnLayout:i}}(e,n)},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=r.schema.nodes.layoutSection,i=r.selection,a=Object(Qi.findParentNodeOfType)(o)(i)||Object(Qi.findSelectedNodeOfType)([o])(i);return _$(_$({},t),{},{pos:a?a.pos:null,selectedLayout:d$(a&&a.node,t.selectedLayout)})}return t}},props:{decorations:function(e){var t,n,r=r$.getState(e);if(null!==r.pos)return ft.b.create(e.doc,(t=r.pos,n=e.doc.nodeAt(r.pos),[ft.a.node(t,t+n.nodeSize,{class:"selected"})]))},handleKeyDown:fp({Tab:Object(Ss.b)(A$,P$)}),handleClickOn:gb(["layoutColumn"],(function(e){return e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")}),{useLongPressSelection:e.useLongPressSelection||!1,getNodeSelectionPos:function(e,t){return e.doc.resolve(t).before()}})},appendTransaction:function(e,t,n){var r=[];if(e.forEach((function(e){if(r.forEach((function(t){return{from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}})),e.docChanged){var t=function(e,t){var n,r=t.schema.nodes.layoutSection,o=Object(uc.e)(e);if(o){e.doc.nodesBetween(o.from,o.to,(function(e,o){return e.type!==r||(x$(e)&&(n=S$(e,o,t.schema)),!1)}));var i=e.doc.resolve(o.to);if(i.depth>0){var a=i.after(),c=e.doc.nodeAt(a);c&&c.type===r&&x$(c)&&(n=S$(c,a,t.schema))}return n}}(e,n);t&&r.push(t)}})),r.length){var o=n.tr,i=n.selection.toJSON();if(r.forEach((function(e){o.replaceRange(e.from,e.to,e.slice)})),(o=function(e){var t=r$.getState(e),n=t.pos,r=t.selectedLayout;if(null!==n&&r){var o=e.doc.nodeAt(n);if(o&&o.childCount!==u$(r).length)return E$(e,o,n,r)}}(n)||o).docChanged)return o.setSelection(dt.Selection.fromJSON(o.doc,i)),o.setMeta("addToHistory",!1),o}}})},M$=n(727),R$=n.n(M$),N$=n(416),D$=n.n(N$),L$=n(726),B$=n.n(L$),F$=n(729),z$=n.n(F$),U$=n(728),H$=n.n(U$),W$=n(730),V$=n.n(W$),q$=Object(ko.b)({singleColumn:{id:"fabric.editor.single",defaultMessage:"Single column",description:"Layout with one single column"},twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),G$=[{id:"editor.layout.twoEquals",type:"two_equal",title:q$.twoColumns,icon:D$.a},{id:"editor.layout.threeEquals",type:"three_equal",title:q$.threeColumns,icon:B$.a}],K$=[{id:"editor.layout.singeLayout",type:"single",title:q$.singleColumn,icon:R$.a}].concat(G$),$$=[{id:"editor.layout.twoRightSidebar",type:"two_right_sidebar",title:q$.rightSidebar,icon:H$.a},{id:"editor.layout.twoLeftSidebar",type:"two_left_sidebar",title:q$.leftSidebar,icon:z$.a},{id:"editor.layout.threeWithSidebars",type:"three_with_sidebars",title:q$.threeColumnsWithSidebars,icon:V$.a}],Y$=function(e,t,n){return{id:t.id,type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:(r=t.type,function(e,t){var n=r$.getState(e),o=n.pos,i=n.selectedLayout;if(i===r||null===o)return!1;var a=e.doc.nodeAt(o);if(!a)return!1;var c=E$(e,a,o,r);return!!c&&((c=Object(Ot.a)(e,c,{action:wt.a.CHANGED_LAYOUT,actionSubject:wt.b.LAYOUT,attributes:{previousLayout:C$(i),newLayout:C$(r)},eventType:wt.e.TRACK})).setMeta("scrollIntoView",!1),t&&t(c),!0)}),selected:!!n&&n===t.type,tabIndex:null};var r},X$=function(e,t,n,r,o,i){var a=e.doc.nodeAt(n);if(a){var c=l$(a),s=e.schema.nodes.layoutSection,u={id:"editor.layout.delete",type:"button",appearance:"danger",icon:Wg.a,testId:Nc.remove.id,title:t.formatMessage(Nc.remove),onClick:j$,onMouseEnter:qg(s,!0),onMouseLeave:qg(s,!1),onFocus:qg(s,!0),onBlur:qg(s,!1),tabIndex:null},l=i?K$:G$;return{title:"Layout floating controls",getDomRef:function(e){return Object(Qi.findDomRefAtPos)(n,e.domAtPos.bind(e))},nodeType:s,items:[].concat(D()(l.map((function(e){return Y$(t,e,c)}))),D()(o?$$.map((function(e){return Y$(t,e,c)})):[]),[{type:"separator"},u])}}},J$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"layout",nodes:function(){return[{name:"layoutSection",node:t$.a},{name:"layoutColumn",node:n$.a}]},pmPlugins:function(){return[{name:"layout",plugin:function(){return I$(e)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=r$.getState(e),r=n.pos,o=(n.allowBreakout,n.addSidebarLayouts),i=n.allowSingleColumnLayout;if(null!==r)return X$(e,t,r,0,o,i)},quickInsert:function(e){var t=e.formatMessage;return[{id:"layout",title:t(Gv.a.columns),description:t(Gv.a.columnsDescription),keywords:["column","section"],priority:1100,icon:function(){return i.a.createElement(Cv,null)},action:function(e,t){var n=e(f$(t));return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.LAYOUT,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]}}}},Z$=n(604),Q$=n(605),eY=n(606);function tY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rY=function(e,t){switch(t.type){case"QUEUE":return function(e,t){return nY(nY({},e),{},{requests:e.requests.concat(t.requests)})}(e,t);case"SET_PROVIDER":return function(e,t){return nY(nY({},e),{},{provider:t.provider})}(e,t);case"RESOLVE":return function(e,t){var n=e.requests.reduce((function(e,n){return n.url!==t.url&&e.push(n),e}),[]);return nY(nY({},e),{},{requests:n})}(e,t);case"REGISTER":return function(e,t){return nY(nY({},e),{},{cards:e.cards.filter((function(e){return e.pos!==t.info.pos})).concat(t.info)})}(e,t);case"REGISTER_EVENTS":return function(e,t){return nY(nY({},e),{},{smartLinkEvents:t.smartLinkEvents})}(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return function(e,t){return nY(nY({},e),{},{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type})}(e,t)}},oY=function(e,t){return e.setMeta(gD,t)},iY=function(e){return function(t){return oY(t,{type:"RESOLVE",url:e})}},aY=function(e){return function(t){return oY(t,{type:"QUEUE",requests:e})}},cY=function(e){return function(t){return oY(t,{type:"REGISTER",info:e})}},sY=function(e){return oY(e,{type:"HIDE_LINK_TOOLBAR"})},uY=function(e){return"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0},lY=function(e){var t=e.attrs;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},dY=function(e,t){return function(e,t){return{title:t&&t.title||e.title,url:t&&t.url||e.url}}(lY(e),t)},fY=function(e){return gD.getState(e).cards.find((function(t){return t.pos===e.selection.from}))},pY=n(395),hY=n.n(pY),mY=n(317),vY=n.n(mY),bY=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},gY=function(e){return/^<\/a\s*>/i.test(e)},yY=function(e){for(var t,n=e.tokens,r=new vY.a,o=0,i=n.length;o<i;o++)if("inline"===n[o].type&&r.pretest(n[o].content))for(var a=n[o].children,c=0,s=a.length-1;s>=0;s--){var u=a[s];if("link_close"!==u.type){if("html_inline"===u.type&&(t=u.content,/^<a[>\s]/i.test(t)&&c>0&&c--,gY(u.content)&&c++),!(c>0)&&"text"===u.type&&r.test(u.content)){var l=u.content,d=Object(Uw.d)(l);d.length||(d=r.match(l)||[]);for(var f=[],p=u.level,h=0,m=$w(l),v=0;v<d.length;v++)if(!Yw(d[v].index,m)){var b=d[v].url,g=e.md.normalizeLink(b);if(e.md.validateLink(g)){var y=d[v].text;y=d[v].schema?"mailto:"!==d[v].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");var O=d[v].index;if(O>h){var w=new e.Token("text","",0);w.content=l.slice(h,O),w.level=p,f.push(w)}var k=new e.Token("link_open","a",1);k.attrs=[["href",g]],k.level=p++,k.markup="linkify",k.info="auto",f.push(k),(k=new e.Token("text","",0)).content=y,k.level=p,f.push(k),(k=new e.Token("link_close","a",-1)).level=--p,k.markup="linkify",k.info="auto",f.push(k),h=d[v].lastIndex}}if(h<l.length){var E=new e.Token("text","",0);E.content=l.slice(h),E.level=p,f.push(E)}n[o].children=a=bY(a,s,f)}}else for(s--;a[s].level!==u.level&&"link_open"!==a[s].type;)s--}},OY=hY()("zero",{html:!1});function wY(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e.marks.find((function(e){return"link"===e.type.name}));if(!r)return!1;var o=Object(Uw.e)(OY.normalizeLinkText(r.attrs.href)),i=Object(Uw.e)(OY.normalizeLinkText(e.text||""));if(t&&o!==i)return!1;if(n){var a=Object(Uw.e)(OY.normalizeLinkText(n));if(a!==o)return!1}return!0}function kY(e,t){return{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.LINK,attributes:{inputMethod:e,fromCurrentDomain:Kw(t)},eventType:wt.e.TRACK,nonPrivacySafeAttributes:{linkDomain:Gw(t)}}}OY.enable(["entity","escape","newline"]),OY.use((function(e){return e.core.ruler.push("custom-linkify",yY)}));var EY=function(e){return{action:wt.a.CLICKED,actionSubject:e===wt.c.HYPERLINK?wt.b.HYPERLINK:wt.b.SMART_LINK,actionSubjectId:wt.c.EDIT_LINK,attributes:e!==wt.c.HYPERLINK?{display:e}:{},eventType:wt.e.UI}},xY=function(e){return e===wt.c.HYPERLINK?{action:wt.a.VISITED,actionSubject:wt.b.HYPERLINK,actionSubjectId:void 0,attributes:{inputMethod:wt.f.TOOLBAR},eventType:wt.e.TRACK}:{action:wt.a.VISITED,actionSubject:wt.b.SMART_LINK,actionSubjectId:e,attributes:{inputMethod:wt.f.TOOLBAR},eventType:wt.e.TRACK}},SY=function(e){return{action:wt.a.UNLINK,actionSubject:e===wt.c.HYPERLINK?wt.b.HYPERLINK:wt.b.SMART_LINK,actionSubjectId:e===wt.c.HYPERLINK?void 0:e,attributes:{inputMethod:wt.f.TOOLBAR},eventType:wt.e.TRACK}};function jY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jY(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TY=function(e,t,n,r){return function(r,o){var i=gD.getState(r);if(!i)return!1;var a=i.requests.filter((function(t){return t.url===e})),c=r.schema,s=Object(uc.m)(c,t),u=r.tr;if(s){var l=a.map((function(e){return function(e,t,n,r){var o=n.nodes.inlineCard,i=r.url;if(Object(Uw.b)(i)){var a=e.mapping.map(r.pos),c=e.doc.resolve(a),s=e.doc.nodeAt(a);if(s&&s.type.isText)if(r.shouldReplaceLink||wY(s,r.compareLinkText,i)){var u=[t];return t.type===o&&u.push(n.text(" ")),e.replaceWith(a,a+(s.text||i).length,u),c.node(c.depth-1).type.name}}}(u,s,c,e)})).filter((function(e){return!!e}));if(l.length){var d=l.every((function(e){return e===l[0]}))?l[0]:"mixed",f=e.split("/"),p=mr()(f,3)[2];i.smartLinkEvents&&i.smartLinkEvents.insertSmartLink(p,"inline",i.createAnalyticsEvent),Object(Ot.a)(r,u,{action:n||wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.SMART_LINK,eventType:wt.e.TRACK,attributes:{inputMethod:a[0].source,nodeType:"inlineCard",nodeContext:d,domainName:p,fromCurrentDomain:Kw(e)}})}}return o&&o(iY(e)(Vh(u))),!0}},_Y=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.schema,i=o.marks.link,a=[];return Object(uc.l)(t,(function(e,t){if(!e.isText)return!0;var o=e.marks.find((function(e){return e.type===i}));if(o){if(!wY(e,r))return!1;a.push({url:o.attrs.href,pos:t,appearance:"inline",compareLinkText:r,source:n})}return!1})),aY(a)(t)},AY=function(e,t,n,r,o){return function(i,a){var c;c=r&&o?IY(i,e,t,r,o):PY(i,e,t);var s=i.selection instanceof dt.NodeSelection&&i.selection.node;if(n&&s){var u=Object(oi.b)(i).viewChangingExperimentToolbarStyle;Object(Ot.a)(i,c,{action:wt.a.CHANGED_TYPE,actionSubject:wt.b.SMART_LINK,eventType:wt.e.TRACK,attributes:{newType:ZK.URL,previousType:uY(s.type),featureFlag:u||"noChange"}})}return a&&a(c.scrollIntoView()),!0}};function PY(e,t,n){var r=e.selection instanceof dt.NodeSelection&&e.selection.node;if(!r)return e.tr;var o=e.schema.marks.link,i=r.attrs.url||r.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||i,[o.create({href:n||i})]),!1)}function IY(e,t,n,r,o){var i=e.schema.marks.link,a=r.attrs.url||r.attrs.data.url;return e.tr.replaceWith(o,o+r.nodeSize,e.schema.text(t||a,[i.create({href:n||a})]))}var MY=function(e){return function(t,n){var r=t.selection instanceof dt.NodeSelection&&t.selection.node;if(!r){var o=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.schema,i=o.marks.link,a=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,(function(e,o){var c=e.marks.find((function(e){return e.type===i}));if(c){var s={url:c.attrs.href,pos:o,appearance:n,compareLinkText:r,source:t,analyticsAction:wt.a.CHANGED_TYPE,shouldReplaceLink:!0};a.push(s)}})),aY(a)(e.tr)}(t,wt.f.MANUAL,e);return n&&n(o.scrollIntoView()),!1}if(uY(r.type)===e)return!1;var i="embed"===e?CY(CY({},r.attrs),{},{layout:"center"}):r.attrs,a=t.selection.from,c=RY(e,t.schema.nodes),s=t.tr.setNodeMarkup(a,c,i,r.marks),u=Object(oi.b)(t).viewChangingExperimentToolbarStyle;return Object(Ot.a)(t,s,{action:wt.a.CHANGED_TYPE,actionSubject:wt.b.SMART_LINK,eventType:wt.e.TRACK,attributes:{newType:e,previousType:uY(r.type),featureFlag:u||"noChange"}}),n&&n(s.scrollIntoView()),!0}},RY=function(e,t){switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}},NY=function(e,t,n){return function(r){return function(e,t){("blockCard"===(null==e?void 0:e.type)&&!t.allowBlockCards||"embedCard"===(null==e?void 0:e.type)&&!t.allowEmbeds)&&(e.type="inlineCard")}(r,n),TY(t.url,r,t.analyticsAction)(e.state,e.dispatch),r}},DY=function(e,t){return function(){var n,r;(n=t.url,r=t.source,function(e,t){if(!gD.getState(e))return!1;var o=e.tr;return Object(Ot.a)(e,o,kY(r,n)),t&&t(iY(n)(o)),!0})(e.state,e.dispatch)}},LY=function(e,t,n){t&&t.then((function(e){var t=n.state;(0,n.dispatch)(function(e){return function(t){return oY(t,{type:"SET_PROVIDER",provider:e})}}(e)(t.tr))}))};function BY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BY(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zY=function(e){return gD.getState(e)},UY=function(e,t){return e.url===t.url&&e.pos===t.pos},HY=n(1198);function WY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var VY=function(e){b()(r,e);var t=WY(r);function r(){return d()(this,r),t.apply(this,arguments)}return p()(r,[{key:"componentDidMount",value:function(){null===r.CardContent&&(this.props.importer||r.moduleImporter)(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.appearance,o=e.data,a=e.isSelected,c=e.onClick,s=e.onResolve,u=e.testId,l=e.showActions,d=e.inlinePreloaderStyle;if(!o)throw new Error("@atlaskit/smart-cards: you are trying to render a card with data, but does not provide any");return r.CardContent?i.a.createElement(r.CardContent,{id:t,inlinePreloaderStyle:d,appearance:n,data:o,isSelected:a,onClick:c,onResolve:s,testId:u,showActions:l}):i.a.createElement("div",{"data-card-with-data":!0})}}],[{key:"moduleImporter",value:function(e){Promise.all([n.e(25),n.e(104)]).then(n.bind(null,2001)).then((function(t){r.CardContent=t.CardWithDataContent,e.forceUpdate()}))}}]),r}(i.a.PureComponent);E()(VY,"CardContent",null);var qY=n(664),GY=n.n(qY),KY=n(69),$Y=n(234),YY=n(667),XY=n(1214),JY=n(538),ZY=Object(o.lazy)((function(){return Promise.all([n.e(25),n.e(157)]).then(n.bind(null,2098))}));function QY(e){var t=Object(o.useState)((function(){return e.id?e.id:GY()()})),n=mr()(t,1)[0];Object(o.useEffect)((function(){return function(){Object($Y.a)(n),Object($Y.b)(n)}}),[n]);var r=e.url,a=e.appearance,c=e.isSelected,s=e.isFrameVisible,u=e.onClick,l=e.container,d=e.onResolve,f=e.onError,p=e.testId,h=e.showActions,m=e.inheritDimensions,v=e.platform,b=e.embedIframeRef,g=e.inlinePreloaderStyle,y=e.createAnalyticsEvent,O=e.children,w=e.ui,k=e.showHoverPreview,E=e.analyticsEvents,x=e.placeholder,S=Object(o.useCallback)((function(e){e&&e.attributes&&(e.attributes.display||(e.attributes.display=a)),Object(KY.e)(e,y)}),[a,y]),j=Object(XY.a)(null!=r?r:"",S,n),C=Object(o.useCallback)((function(e,t){var r=t.componentStack;if("APIError"===e.name)throw e;var o={componentStack:r};j.ui.renderFailedEvent(a,n,e,o)}),[j.ui,a,n]);if(!r)throw new Error("@atlaskit/smart-card: url property is missing.");var T={id:n,url:r,appearance:a,onClick:u,isSelected:c,isFrameVisible:s,dispatchAnalytics:S,container:l,onResolve:d,onError:f,testId:p,showActions:h,inheritDimensions:m,platform:v,embedIframeRef:b,inlinePreloaderStyle:g,ui:w,showHoverPreview:k,analyticsEvents:E,placeholder:x};return i.a.createElement(YY.ErrorBoundary,{FallbackComponent:eX,onError:C},i.a.createElement(o.Suspense,{fallback:i.a.createElement(JY.a,T)},i.a.createElement(ZY,T,O)))}var eX=function(){return i.a.createElement("span",null)},tX=n(500),nX=n(376);function rX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var oX=function(e){b()(n,e);var t=rX(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=Object(tX.d)(this.props)?i.a.createElement(VY,this.props):i.a.createElement(QY,this.props);return this.props.intl?e:i.a.createElement(nX.b,{locale:"en"},e)}}]),n}(i.a.PureComponent),iX=Object(HY.a)(KY.d)(Object(G.a)()(Object(Ji.c)(oX,{enforceContext:!1})));function aX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function cX(e,t){var n;return n=function(n){b()(o,n);var r=aX(o);function o(){var e;d()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),E()(m()(e),"state",{isError:!1}),e}return p()(o,[{key:"render",value:function(){var n=lY(this.props.node).url;if(n&&!Object(Uw.b)(n))return i.a.createElement(t,null);if(this.state.isError)return n?i.a.createElement("a",{href:n,onClick:function(e){e.preventDefault()}},n):i.a.createElement(t,null);var r=this.context.contextAdapter?this.context.contextAdapter.card:void 0;return i.a.createElement(e,_e()({key:n,cardContext:r},this.props))}},{key:"componentDidCatch",value:function(e){var t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});var n=this.props,r=n.view,o=n.node,i=n.getPos,a=lY(o).url;if(!i||"boolean"==typeof i)return;return function(e,t,n,r,o){return function(i,a){var c;return c=r&&o?IY(i,e,t,r,o):PY(i,e,t),n&&Object(Ot.a)(i,c,{action:wt.a.ERRORED,actionSubject:wt.b.SMART_LINK,eventType:wt.e.OPERATIONAL,attributes:{error:"Smart card falling back to link."}}),a&&a(c.scrollIntoView()),!0}}(void 0,a,!0,o,i())(r.state,r.dispatch),null}this.setState({isError:!0})}}]),o}(i.a.Component),E()(n,"contextTypes",{contextAdapter:A.a.object}),n}var sX,uX=Object(ko.b)({unsupportedInlineContent:{id:"fabric.editor.unsupportedInlineContent",defaultMessage:"Unsupported content",description:"Unsupported content"},unsupportedBlockContent:{id:"fabric.editor.unsupportedBlockContent",defaultMessage:"This editor does not support displaying this content",description:"This editor does not support displaying this content"},unsupportedContentTooltip:{id:"fabric.editor.unsupportedContentTooltip",defaultMessage:"Content is not available in this editor, this will be preserved when you edit and save",description:"Content is not available in this editor, this will be preserved when you edit and save"}}),lX=n(285);function dX(e,t,n,r){var o=!0,i=r?r.locale:"en",a=e.defaultMessage;if(n&&i.startsWith("en")){var c=n.attrs.originalValue;c.text||c.attrs&&c.attrs.text?(a=c.text?c.text:c.attrs.text,o=!1):c.type&&(a="".concat(t," ").concat(c.type),o=!1)}return r&&o?r.formatMessage(e):a}var fX,pX=Object(T.c)(sX||(sX=S()(["\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: flex;\n  font-size: ",";\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  vertical-align: text-bottom;\n  min-width: 120px;\n  align-items: center;\n  justify-content: center;\n"])),Object(ot.a)("color.background.disabled",Ce.N30),Object(ot.a)("color.border.disabled",Ce.N50),Object(Ze.d)(),Object(he.db)(Object(Ze.g)())),hX=Object(Ji.c)((function(e){var t=e.node,n=e.intl,r=e.dispatchAnalyticsEvent,i=dX(uX.unsupportedBlockContent,uX.unsupportedBlockContent.defaultMessage+":",t,n),a=n.formatMessage(uX.unsupportedContentTooltip),c=Object(o.useRef)({padding:"4px"}).current,s=null==t?void 0:t.attrs.originalValue.type,u=Object(o.useCallback)((function(){return r&&Object(lX.c)(r,Z.c.ON_UNSUPPORTED_BLOCK,s)}),[r,s]);return Object(T.d)("div",{css:pX,className:"unsupported"},i,Object(T.d)(tu.a,{content:a,hideTooltipOnClick:!1,position:"bottom",onShow:u,strategy:"absolute"},Object(T.d)("span",{style:c},Object(T.d)(fW.a,{label:"?",size:"small"}))))})),mX=n(540);function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vX(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var yX=function(e){b()(n,e);var t=gX(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{offsetLeft:e.calcOffsetLeft()}),E()(m()(e),"calcNewSize",(function(t,n){var r=e.props,o=r.layout,i=r.view.state,a=100*hy(t,e.props.lineLength);e.setState({resizedPctWidth:a});var c=Object(Qi.hasParentNodeOfType)(i.schema.nodes.table)(i.selection)?o:e.calcUnwrappedLayout(a,t);return a<=100?(!e.wrappedLayout||n&&100===a||(c=o),{width:a,layout:c}):{width:e.props.pctWidth||null,layout:c}})),E()(m()(e),"calcUnwrappedLayout",(function(t,n){return t<=100?"center":n<=e.wideLayoutWidth?"wide":"full-width"})),E()(m()(e),"calcColumnLeftOffset",(function(){var t=e.state.offsetLeft;return e.insideInlineLike?fy(t,e.props.lineLength,e.props.gridSize):0})),E()(m()(e),"calcPxWidth",(function(t){var n=e.props,r=n.layout,o=n.pctWidth,i=n.lineLength,a=n.containerWidth,c=n.fullWidthMode,s=n.getPos,u=n.view.state,l=e.state.resizedPctWidth,d="function"==typeof s?s():void 0;return nO({origWidth:he.c,origHeight:he.b,pctWidth:o,state:u,containerWidth:{width:a,lineLength:i},isFullWidthModeEnabled:c,layout:t||r,pos:d,resizedPctWidth:l})})),E()(m()(e),"highlights",(function(t,n){var r=LE(t,n),o=e.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,c=o.expand,s=o.nestedExpand;if(e.$pos&&Object(Qi.findParentNodeOfTypeClosestToPos)(e.$pos,[i,a,c,s].filter(Boolean)))return[];if(r>e.wideLayoutWidth)return["full-width"];var u=e.props,l=u.layout,d=u.lineLength,f=u.gridSize,p=fy(r,d,f),h=Math.round(p),m=[];return"wrap-left"===l||"align-start"===l?m.push(0,h):"wrap-right"===l||"align-end"===l?m.push(f,f-h):e.insideInlineLike?m.push(Math.round(p+e.calcColumnLeftOffset())):m.push(Math.floor((f-h)/2),Math.ceil((f+h)/2)),m})),e}return p()(n,[{key:"componentDidUpdate",value:function(){var e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}},{key:"wrappedLayout",get:function(){return xy.indexOf(this.props.layout)>-1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(xy.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"calcOffsetLeft",value:function(){var e=0;if(this.wrapper&&this.insideInlineLike){var t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}},{key:"wideLayoutWidth",get:function(){var e=this.props.lineLength;return e?Math.ceil(e*he.Z):he.V}},{key:"calcSnapPoints",value:function(){for(var e=this.state.offsetLeft,t=this.props,n=t.containerWidth,r=t.lineLength,o=[],i=0;i<this.gridWidth;i++)o.push(dy(i,r,this.gridWidth)-e);o.push(r-e);var a=dy(this.wrappedLayout||this.insideInlineLike?1:2,r,this.props.gridSize),c=o.filter((function(e){return e>=a})),s=this.$pos;if(!s)return c;if("doc"===s.parent.type.name){c.push(this.wideLayoutWidth);var u=n-he.e;u>this.wideLayoutWidth&&c.push(u)}return c}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!Object(Qi.findParentNodeOfTypeClosestToPos)(e,[t])}},{key:"getHeightDefiningComponent",value:function(){var e,t=this.props,n=t.height,r=t.aspectRatio;return e=n?{height:"".concat(n,"px")}:{paddingBottom:"calc(".concat((1/r*100).toFixed(3),"% + ").concat(mX.i,"px)")},Object(T.d)("span",{"data-testid":"resizable-embed-card-height-definer",style:bX({display:"block",fontSize:0,lineHeight:0},e)})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.layout,o=n.pctWidth,i=n.containerWidth,a=n.fullWidthMode,c=n.children,s=this.calcPxWidth()-he.x,u={};return BE.forEach((function(e){var n="left"===e?"right":"left";u[e]=["full-width","wide","center"].concat("wrap-".concat(n)).concat("align-".concat(FE[n])).indexOf(r)>-1,"left"===e&&t.insideInlineLike&&(u[e]=!1)})),Object(T.d)("div",{css:ri,"data-testid":"resizable-embed-card-spacing"},Object(T.d)("div",{css:(e={layout:r,isResized:!!o,containerWidth:i||he.c,fullWidthMode:a},Object(T.c)(fX||(fX=S()(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n\n    > div {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n    }\n  }\n"])),wy(e)))},Object(T.d)(WE,_e()({},this.props,{width:s,enable:u,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:he.x,nodeType:"embed"}),c,this.getHeightDefiningComponent())))}}]),n}(i.a.Component);function OX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(yX,"defaultProps",{aspectRatio:he.c/he.b});var wX=function(e){b()(n,e);var t=OX(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"messageCallback",(function(t){var n=e.props.embedIframeRef,r=n.current&&t.source===n.current.contentWindow,o="string"==typeof t.data;if(r&&o)try{var i=JSON.parse(t.data);"resize"===i.method&&"number"==typeof i.height&&e.onEmbedHeightChange({height:i.height})}catch(e){}})),E()(m()(e),"onEmbedHeightChange",(function(t){(0,e.props.onHeightUpdate)(t.height+mX.i)})),e}return p()(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.messageCallback)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.messageCallback)}},{key:"render",value:function(){return this.props.children}}]),n}(i.a.Component);function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kX(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var SX=function(e){b()(n,e);var t=xX(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"embedIframeRef",i.a.createRef()),E()(m()(e),"onClick",(function(){})),E()(m()(e),"state",{hasPreview:!0}),E()(m()(e),"getPosSafely",(function(){var t=e.props.getPos;if(t&&"boolean"!=typeof t)try{return t()}catch(e){}})),E()(m()(e),"onResolve",(function(t){var n=e.props.view,r=t.title,o=t.url,i=t.aspectRatio,a=e.props.node.attrs,c=a.originalHeight,s=a.originalWidth;!i||c||s||(e.setState({initialAspectRatio:i}),e.saveOriginalDimensionsAttributes(he.b,he.b*i)),Object(ve.a)((function(){var t=e.getPosSafely();if(void 0!==t)return n.dispatch(cY({title:r,url:o,pos:t})(n.state.tr))}))();try{var u=e.context.contextAdapter?e.context.contextAdapter.card:void 0;u&&u.value.extractors.getPreview(o,e.props.platform)||e.setState({hasPreview:!1})}catch(e){}})),E()(m()(e),"updateSize",(function(t,n){var r=e.props.view,o=r.state,i=r.dispatch,a=e.getPosSafely();if(void 0!==a){var c=o.tr.setNodeMarkup(a,void 0,EX(EX({},e.props.node.attrs),{},{width:t,layout:n}));return c.setMeta("scrollIntoView",!1),i(c),!0}})),E()(m()(e),"getLineLength",(function(e,t,n){if("number"==typeof t&&rx(e,t)){var r=e.state.doc.resolve(t),o=e.nodeDOM(r.pos);if(r.nodeAfter&&nx.indexOf(r.nodeAfter.attrs.layout)>-1&&o&&o.parentElement)return o.parentElement.offsetWidth;if(o instanceof HTMLElement)return o.offsetWidth}return n})),E()(m()(e),"saveOriginalDimensionsAttributes",(function(t,n){var r=e.props.view,o=VE.getState(r.state);null!=o&&o.dragging||Object(ve.a)((function(){var o=e.getPosSafely();void 0!==o&&r.dispatch(r.state.tr.step(new WO.a(o,{originalHeight:t,originalWidth:n})).setMeta("addToHistory",!1))}))()})),E()(m()(e),"onHeightUpdate",(function(t){e.setState({liveHeight:t}),e.saveOriginalDimensionsAttributes(t,void 0)})),e}return p()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=Object(OC.c)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this,t=this.props,n=t.node,r=t.cardContext,o=t.platform,a=t.allowResizing,c=t.fullWidthMode,s=t.view,u=t.dispatchAnalyticsEvent,l=t.getPos,d=n.attrs,f=d.url,p=d.width,h=d.layout,m=d.originalHeight,v=d.originalWidth,b=this.state,g=b.hasPreview,y=b.liveHeight,O=b.initialAspectRatio,w=null!=y?y:!v&&m||void 0,k=!w&&(O||m&&v&&v/m)||void 0,E={layout:h,pctWidth:p,fullWidthMode:c},x=i.a.createElement(wX,{embedIframeRef:this.embedIframeRef,onHeightUpdate:this.onHeightUpdate},i.a.createElement(Xa.a,{editorView:s,plugins:{widthState:tc},render:function(t){var n=t.widthState,r=(null==n?void 0:n.lineLength)||0,c=(null==n?void 0:n.width)||0,d=e.getPosSafely();if(void 0===d)return null;var p=e.getLineLength(s,d,r),h=rx(s,d)?p:c,m=i.a.createElement(iX,{key:f,url:f,appearance:"embed",onClick:e.onClick,onResolve:e.onResolve,showActions:"web"===o,isFrameVisible:!0,inheritDimensions:!0,platform:o,container:e.scrollContainer,embedIframeRef:e.embedIframeRef});if(!a||!g){var v=he.c/he.b,b=1,y=k||v;return w&&(b=w,y=void 0),i.a.createElement(jy,_e()({},E,{height:b,width:y,nodeType:"embedCard",hasFallbackContainer:g,lineLength:p,containerWidth:h}),m)}return i.a.createElement(yX,_e()({},E,{height:w,aspectRatio:k,view:e.props.view,getPos:l,lineLength:p,gridSize:12,containerWidth:h,displayGrid:Jg(e.props.eventDispatcher),updateSize:e.updateSize,dispatchAnalyticsEvent:u}),m)}}));return i.a.createElement(i.a.Fragment,null,r&&r.value?i.a.createElement(r.Provider,{value:r.value},x):null)}}]),n}(i.a.PureComponent);E()(SX,"contextTypes",{contextAdapter:A.a.object});var jX=cX(SX,hX),CX=function(e){b()(n,e);var t=xX(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||NE()(w()(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"createDomRef",value:function(){var e=document.createElement("div");return xe.a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){var e=this.reactComponentProps,t=e.eventDispatcher,n=e.allowResizing,r=e.platform,o=e.fullWidthMode,a=e.dispatchAnalyticsEvent;return i.a.createElement(jX,{node:this.node,view:this.view,eventDispatcher:t,getPos:this.getPos,allowResizing:n,platform:r,fullWidthMode:o,dispatchAnalyticsEvent:a})}}]),n}(PC);function TX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var _X=function(e){b()(n,e);var t=TX(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onClick",(function(){})),E()(m()(e),"onResolve",(function(t){var n=e.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=t.title,a=t.url;Object(ve.a)((function(){return o.dispatch(cY({title:i,url:a,pos:r()})(o.state.tr))}))()}})),E()(m()(e),"gapCursorSpan",(function(){if(!(xe.a.ie&&xe.a.ie_version<79))return i.a.createElement("span",{contentEditable:!0})})),e}return p()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=Object(OC.c)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.cardContext,r=e.platform,o=t.attrs,a=o.url,c=o.data,s=i.a.createElement(i.a.Fragment,null,i.a.createElement(iX,{key:a,url:a,data:c,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===r,platform:r}),this.gapCursorSpan());return i.a.createElement("div",null,n&&n.value?i.a.createElement(n.Provider,{value:n.value},s):c?s:null)}}]),n}(i.a.PureComponent);E()(_X,"contextTypes",{contextAdapter:A.a.object});var AX,PX=cX(_X,hX),IX=function(e){b()(n,e);var t=TX(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return xe.a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){return i.a.createElement(PX,{node:this.node,view:this.view,getPos:this.getPos,platform:this.reactComponentProps.platform})}}]),n}(pE),MX=Object(T.c)(AX||(AX=S()(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  vertical-align: middle;\n  white-space: nowrap;\n"])),Object(ot.a)("color.background.disabled",Ce.N30),Object(ot.a)("color.border.disabled",Ce.N50),Object(Ze.d)(),Object(he.db)(Object(Ze.g)())),RX=Object(Ji.c)((function(e){var t=e.node,n=e.intl,r=e.dispatchAnalyticsEvent,i=dX(uX.unsupportedInlineContent,"Unsupported",t,n),a=n.formatMessage(uX.unsupportedContentTooltip),c=Object(o.useRef)({padding:"4px"}).current,s=null==t?void 0:t.attrs.originalValue.type,u=Object(o.useCallback)((function(){return r&&Object(lX.c)(r,Z.c.ON_UNSUPPORTED_INLINE,s)}),[r,s]);return Object(T.d)("span",{css:MX},i,Object(T.d)(tu.a,{content:a,hideTooltipOnClick:!1,position:"bottom",onShow:u,strategy:"absolute"},Object(T.d)("span",{style:c},Object(T.d)(fW.a,{label:"?",size:"small"}))))}));function NX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var DX=function(e){b()(n,e);var t=NX(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"onClick",(function(){})),E()(m()(e),"onResolve",(function(t){var n=e.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=t.title,a=t.url;Object(ve.a)((function(){return o.dispatch(cY({title:i,url:a,pos:r()})(o.state.tr))}))()}})),e}return p()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=Object(OC.c)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.cardContext,r=e.useAlternativePreloader,o=t.attrs,a=o.url,c=o.data,s=i.a.createElement("span",{className:"card"},i.a.createElement(iX,{key:a,url:a,data:c,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve,inlinePreloaderStyle:r?"on-right-without-skeleton":void 0}));return n&&n.value?i.a.createElement(n.Provider,{value:n.value},s):c?s:null}}]),n}(i.a.PureComponent);E()(DX,"contextTypes",{contextAdapter:A.a.object});var LX=cX(DX,RX);function BX(e){var t=e.useAlternativePreloader,n=e.node,r=e.view,o=e.getPos;return i.a.createElement(LX,{node:n,view:r,getPos:o,useAlternativePreloader:t})}var FX,zX,UX=function(e){return function(t){var n=e.platform,r=e.allowResizing,o=e.useAlternativePreloader,i=e.fullWidthMode,a=e.createAnalyticsEvent;return new Za.a({state:{init:function(){var e=t.featureFlags.viewChangingExperimentToolbarStyle;return t.dispatchAnalyticsEvent({eventType:wt.e.OPERATIONAL,action:wt.a.EXPOSED,actionSubject:wt.b.FEATURE,attributes:{flagKey:"confluence.frontend.fabric.editor.view-changing-experiment-toolbar-style",value:e||"noChange"},source:"@atlaskit/feature-flag-client",tags:["measurement"]}),{requests:[],provider:null,cards:[],showLinkingToolbar:!1,smartLinkEvents:void 0,createAnalyticsEvent:a}},apply:function(e,t){var n=function(e,t){return FY(FY({},e),{},{requests:e.requests.map((function(e){return FY(FY({},e),{},{pos:t.mapping.map(e.pos)})})),cards:e.cards.map((function(e){return FY(FY({},e),{},{pos:t.mapping.map(e.pos)})}))})}(t,e),r=e.getMeta(gD);return r?rY(n,r):n}},view:function(n){var r={},o=function(e,t){return LY(0,t,n)},i=[];return t.providerFactory.subscribe("cardProvider",o),{update:function(t,n){var o=zY(t.state),a=zY(n);if(o&&o.provider){var c=function(e,t){return e?t.requests.filter((function(t){return!e.requests.find((function(e){return UY(e,t)}))})):t.requests}(a,o),s=o.provider;c.forEach((function(n){var o=Object(ve.a)((function(){return function(e,t,n,r,o){var i=!!r.shouldReplaceLink,a=n.resolve(r.url,r.appearance,i).then((function(e){return delete t[r.url],e})).then(NY(e,r,o),DY(e,r));return t[r.url]=a,a}(t,r,s,n,e)}));i.push(o.cancel),o()}))}},destroy:function(){Object.keys(r).forEach((function(e){return Promise.reject(r[e])})),i.forEach((function(e){return e()})),t.providerFactory.unsubscribe("cardProvider",o)}}},props:{nodeViews:{inlineCard:bi({pmPluginFactoryParams:t,Component:BX,extraComponentProps:{useAlternativePreloader:o}}),blockCard:function(e,r,o){var i=t.portalProviderAPI,a=t.eventDispatcher;return new IX(e,r,o,i,a,{platform:n},void 0,!0,void 0,!0).init()},embedCard:function(e,o,a){var c=t.portalProviderAPI,s=t.eventDispatcher,u=t.dispatchAnalyticsEvent;return new CX(e,o,a,c,s,{eventDispatcher:s,allowResizing:r,platform:n,fullWidthMode:i,dispatchAnalyticsEvent:u},void 0,!0,void 0,!0).init()}}},key:gD})}},HX=n(344),WX=n.n(HX),VX=n(396),qX=n.n(VX),GX=n(528),KX=n.n(GX),$X=n(630),YX=n.n($X),XX=n(631),JX=n.n(XX),ZX=n(632),QX=n.n(ZX),eJ=n(511),tJ=n.n(eJ),nJ=n(633),rJ=n.n(nJ),oJ=Object(ko.b)({hyperlinkIconIssueLabel:{id:"fabric.editor.headingLink.hyperlinkIconIssueLabel",defaultMessage:"Issue",description:"icon label for a jira issue"},hyperlinkIconBugLabel:{id:"fabric.editor.headingLink.hyperlinkIconBugLabel",defaultMessage:"Bug",description:"icon label for a jira bug"},hyperlinkIconStoryLabel:{id:"fabric.editor.headingLink.hyperlinkIconStoryLabel",defaultMessage:"Story",description:"icon label for a jira story"},hyperlinkIconTaskLabel:{id:"fabric.editor.headingLink.hyperlinkIconTaskLabel",defaultMessage:"Task",description:"icon label for a jira task"},hyperlinkIconPageLabel:{id:"fabric.editor.headingLink.hyperlinkIconPageLabel",defaultMessage:"Page",description:"icon label for a confluence page"},hyperlinkIconBlogLabel:{id:"fabric.editor.headingLink.hyperlinkIconBlogLabel",defaultMessage:"Blog",description:"icon label for a confluence blog"}}),iJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(YX.a,{label:t.formatMessage(oJ.hyperlinkIconIssueLabel)})})),aJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(JX.a,{label:t.formatMessage(oJ.hyperlinkIconBugLabel)})})),cJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(QX.a,{label:t.formatMessage(oJ.hyperlinkIconStoryLabel)})})),sJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(tJ.a,{label:t.formatMessage(oJ.hyperlinkIconTaskLabel)})})),uJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(qX.a,{label:t.formatMessage(oJ.hyperlinkIconPageLabel)})})),lJ=Object(Ji.c)((function(e){var t=e.intl;return i.a.createElement(rJ.a,{label:t.formatMessage(oJ.hyperlinkIconBlogLabel)})})),dJ={"jira.issue":i.a.createElement(iJ,null),"jira.issue.bug":i.a.createElement(aJ,null),"jira.issue.story":i.a.createElement(cJ,null),"jira.issue.task":i.a.createElement(sJ,null),"confluence.page":i.a.createElement(uJ,null),"confluence.blogpost":i.a.createElement(lJ,null)},fJ=function(e){return KX.a.createHash().update(e).digest("hex")},pJ=function(e){return e.split(" ").length};function hJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hJ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(FX||(FX={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(zX||(zX={}));var vJ=function(e,t){return function(n){if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(i)){var a=!0;return n.doc.nodesBetween(e,t,(function(e){return a=a&&!e.marks.some((function(e){return e.type.excludes(i)}))})),a}}return!1}},bJ=function(e,t){if(e){if(e.type===zX.EDIT_LINK_TOOLBAR||e.type===zX.EDIT_INSERTED_TOOLBAR){var n=t.mapping.mapResult(e.pos,1),r=n.pos,o=n.deleted,i=t.doc.nodeAt(r);return!o&&i.type.schema.marks.link.isInSet(i.marks)?i===e.node&&r===e.pos?e:mJ(mJ({},e),{},{pos:r,node:i}):void 0}return e.type===zX.INSERT_LINK_TOOLBAR?mJ(mJ({},e),{},{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},gJ=function(e,t,n){if(!e)switch(t){case FX.SHOW_INSERT_TOOLBAR:var r=n.selection,o=r.from,i=r.to;return vJ(o,i)(n)?{type:zX.INSERT_LINK_TOOLBAR,from:o,to:i}:void 0;case FX.SELECTION_CHANGE:var a=yJ(n);return a?mJ(mJ({},a),{},{type:zX.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===zX.EDIT_LINK_TOOLBAR)switch(t){case FX.EDIT_INSERTED_TOOLBAR:var c=yJ(n);return c?c.pos===e.pos&&c.node===e.node?mJ(mJ({},e),{},{type:zX.EDIT_INSERTED_TOOLBAR}):mJ(mJ({},c),{},{type:zX.EDIT_INSERTED_TOOLBAR}):void 0;case FX.SELECTION_CHANGE:var s=yJ(n);return s?s.pos===e.pos&&s.node===e.node?e:mJ(mJ({},s),{},{type:zX.EDIT_LINK_TOOLBAR}):void 0;case FX.HIDE_TOOLBAR:return;default:return e}if(e.type===zX.INSERT_LINK_TOOLBAR)switch(t){case FX.SELECTION_CHANGE:case FX.HIDE_TOOLBAR:return;default:return e}},yJ=function(e){var t=e.selection.$from;if(function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}(e)||function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}(e)){var n=t.pos-t.textOffset,r=e.doc.nodeAt(n);return r&&r.isText?{node:r,pos:n}:void 0}},OJ=function(e){var t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof dt.TextSelection?t.content.firstChild.textContent:void 0},wJ=new dt.PluginKey("hyperlinkPlugin");function kJ(e){return(null==e?void 0:e.target)instanceof HTMLElement&&"A"===e.target.tagName}function EJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EJ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SJ(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&n.isText}}function jJ(e,t,n,r){return function(o,i){var a=o.doc.resolve(n),c=o.doc.nodeAt(n);if(!c)return!1;var s=Vw(e),u=o.schema.marks.link.isInSet(c.marks),l=o.schema.marks.link,d=r&&n!==r?r:n-a.textOffset+c.nodeSize,f=o.tr;if(!s&&t)f.removeMark(n,d,l),f.insertText(t,n,d);else{if(!s)return!1;f.insertText(t,n,d);var p=xJ(xJ({},u&&u.attrs||{}),{},{href:s});f.addMark(n,n+t.length,l.create(p)),f.setMeta(wJ,{type:FX.HIDE_TOOLBAR})}return i&&i(f),!0}}function CJ(e,t,n,r,o,i){return function(a,c){var s=a.schema.marks.link,u=a.tr;if(n.trim()){var l=Vw(n),d=wJ.getState(a).activeText,f=t,p=o||r||n;return o&&o===d||(u.insertText(p,e,t),f=SJ(e)(a)?e+p.length:e+p.length+1),u.addMark(e,f,s.create({href:l})),u.setSelection(dt.Selection.near(u.doc.resolve(f))),o&&o!==n||_Y(a,u,i,!1),u.setMeta(wJ,{type:FX.HIDE_TOOLBAR}),c&&c(u),!0}return u.setMeta(wJ,{type:FX.HIDE_TOOLBAR}),c&&c(u),!1}}var TJ=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return!a||o||i?Object(Ot.c)(kY(e,r))(CJ(t,n,r,o,i,e)):CJ(t,n,r,o,i,e)};function _J(e){return function(e,t,n,r){return Object(Ss.b)(SJ(t),(function(o,i){var a=o.doc.resolve(t),c=o.doc.nodeAt(t),s=o.schema.marks.link,u=s.isInSet(c.marks),l=Vw(e);if(u&&u.attrs.href===l)return!1;var d=n&&t!==n?n:t-a.textOffset+c.nodeSize,f=o.tr.removeMark(t,d,s);return e.trim()?f.addMark(t,d,s.create(xJ(xJ({},u&&u.attrs||{}),{},{href:l}))):Object(Ot.a)(o,f,SY(wt.c.HYPERLINK)),r||f.setMeta(wJ,{type:FX.HIDE_TOOLBAR}),i&&i(f),!0}))}("",e)}function AJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.f.TOOLBAR;return function(t,n){if(n){var r=t.tr.setMeta(wJ,{type:FX.SHOW_INSERT_TOOLBAR,inputMethod:e});n(r=Object(Ot.a)(t,r,{action:wt.a.INVOKED,actionSubject:wt.b.TYPEAHEAD,actionSubjectId:wt.c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:wt.e.UI}))}return!0}}function PJ(){return function(e,t){return t&&t(e.tr.setMeta(wJ,{type:FX.HIDE_TOOLBAR})),!0}}var IJ,MJ,RJ,NJ=n(369);function DJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var LJ=Object(T.c)(IJ||(IJ=S()(["\n  cursor: pointer;\n  padding: 0;\n  margin-right: 8px;\n  color: ",";\n  background: transparent;\n  border: none;\n"])),Object(ot.a)("color.icon.subtle",Ce.N90)),BJ=Object(T.c)(MJ||(MJ=S()(["\n  ",";\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),Ux,Object(ot.a)("color.border",Ce.N30),Object(ot.a)("color.border",Ce.N30)),FJ=Object(T.c)(RJ||(RJ=S()(["\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"])),Object(ot.a)("color.icon.subtle",Ce.N80)),zJ=Object(ko.b)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"},searchLinkAriaDescription:{id:"fabric.editor.hyperlink.searchLinkAriaDescription",defaultMessage:"Suggestions will appear below as you type into the field",description:"Describes what the search field does for screen reader users."},searchLinkResults:{id:"fabric.editor.hyperlink.searchLinkResults",defaultMessage:"{count, plural, =0 {no results} one {# result} other {# results}} found",description:"Announce search results for screen-reader users."},linkAriaLabel:{id:"fabric.editor.hyperlink.linkAriaLabel",defaultMessage:"Link label",description:"aria label for a link"}}),UJ=Object(T.d)(qX.a,{label:"page"}),HJ=function(e){var t=e.name,n=e.container,r=e.iconUrl,o=e.objectId,i=e.url,a=e.viewedTimestamp;return{objectId:o,name:t,container:n,iconUrl:r,url:i,lastViewedDate:a?new Date(a):void 0,prefetch:!0}},WJ=function(e){var t=e.objectId,n=e.container,r=e.title,o=e.contentType,i=e.url,a=e.updatedTimestamp;return{objectId:t,container:n,name:r,url:i,lastUpdatedDate:a?new Date(a):void 0,icon:o&&dJ[o]||UJ,prefetch:!1}},VJ=function(e){b()(a,e);var t,n,r,o=DJ(a);function a(e){var t;return d()(this,a),t=o.call(this,e),E()(m()(t),"submitted",!1),E()(m()(t),"urlInputContainer",null),E()(m()(t),"displayTextInputContainer",null),E()(m()(t),"wrapperRef",i.a.createRef()),E()(m()(t),"quickSearchQueryVersion",0),E()(m()(t),"analyticSource","createLinkInlineDialog"),E()(m()(t),"quickSearch",function(){var e=u()(C.a.mark((function e(n,r,o){var i,a,c,s,u,l,d,f,p,h,m,v,b,g;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,c=a.searchProvider,s=a.displayUrl,u=t.props.pluginState,c){e.next=4;break}return e.abrupt("return");case 4:return l=++t.quickSearchQueryVersion,t.fireAnalytics({action:wt.a.ENTERED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.LINK_SEARCH_INPUT,attributes:{queryLength:n.length,queryVersion:l,queryHash:fJ(n),searchSessionId:null!==(i=u.searchSessionId)&&void 0!==i?i:"",wordCount:pJ(n),source:t.analyticSource},nonPrivacySafeAttributes:{query:n},eventType:wt.e.UI}),d=performance.now(),e.prev=7,e.next=10,c.quickSearch(n,o);case 10:p=e.sent,h=GJ(ps([].concat(D()(r),D()(p.map(WJ))),(function(e,t){return e.objectId===t.objectId}))),s===n&&l===t.quickSearchQueryVersion&&t.setState({items:h,isLoading:!1}),m=performance.now(),v=m-d,t.fireAnalytics({action:wt.a.INVOKED,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.QUICK_SEARCH,attributes:{duration:v,count:p.length},eventType:wt.e.OPERATIONAL}),t.fireAnalytics({action:wt.a.SHOWN,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.POST_QUERY_SEARCH_RESULTS,attributes:{source:t.analyticSource,postQueryRequestDurationMs:v,searchSessionId:null!==(f=u.searchSessionId)&&void 0!==f?f:"",resultCount:p.length,results:p.map((function(e){return{resultContentId:e.objectId,resultType:e.contentType}}))},eventType:wt.e.UI}),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),b=performance.now(),g=b-d,t.fireAnalytics({action:wt.a.INVOKED,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.QUICK_SEARCH,attributes:{duration:g,count:-1,errorCode:e.t0.status},nonPrivacySafeAttributes:{error:e.t0.message},eventType:wt.e.OPERATIONAL});case 24:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()),E()(m()(t),"updateInput",function(){var e=u()(C.a.mark((function e(n){var r,o,i,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,o=r.activityProvider,i=r.searchProvider,t.setState({displayUrl:n}),!o){e.next=23;break}if(0!==n.length){e.next=13;break}return e.t0=t,e.next=7,t.getRecentItems(o);case 7:e.t1=e.sent,e.t2=-1,e.t3={items:e.t1,selectedIndex:e.t2},e.t0.setState.call(e.t0,e.t3),e.next=23;break;case 13:if(!Object(Uw.b)(n)){e.next=17;break}t.setState({items:[],selectedIndex:-1,isLoading:!1}),e.next=23;break;case 17:return e.next=19,t.getRecentItems(o,n);case 19:a=e.sent,c=a.length<5&&!!i,t.setState({items:a,isLoading:c}),c&&t.debouncedQuickSearch(n,a,5);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(m()(t),"createClearHandler",(function(e){return u()(C.a.mark((function n(){var r,o;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.state.activityProvider){n.next=3;break}return n.abrupt("return");case 3:n.t0=e,n.next="displayUrl"===n.t0?6:"displayText"===n.t0?21:23;break;case 6:return n.t1=t,o={},E()(o,e,""),n.t2=E.a,n.t3=o,n.t4=GJ,n.next=14,r.getRecentItems();case 14:return n.t5=n.sent,n.t6=(0,n.t4)(n.t5),(0,n.t2)(n.t3,"items",n.t6),n.t7=o,n.t1.setState.call(n.t1,n.t7),t.urlInputContainer&&t.urlInputContainer.focus(),n.abrupt("break",23);case 21:t.setState(E()({},e,"")),t.displayTextInputContainer&&t.displayTextInputContainer.focus();case 23:case"end":return n.stop()}}),n)})))})),E()(m()(t),"handleClickOutside",(function(e){if(e.target instanceof Element&&t.wrapperRef.current&&!t.wrapperRef.current.contains(e.target)){var n=t.props.view;PJ()(n.state,n.dispatch)}})),E()(m()(t),"getScreenReaderText",(function(){var e=t.props.intl,n=t.state,r=n.items,o=n.selectedIndex;if(r.length&&o>-1){var i=r[o],a=i.name,c=i.container,s=i.lastUpdatedDate,u=i.lastViewedDate,l=vS(e,u,s);return"".concat(a,", ").concat(c,", ").concat(null==l?void 0:l.pageAction," ").concat(null==l?void 0:l.dateString," ").concat((null==l?void 0:l.timeSince)||"")}})),E()(m()(t),"isUrlPopulatedWithSelectedItem",(function(){var e=t.state,n=e.items,r=e.selectedIndex,o=e.displayUrl,i=n[r];return!(!i||i.url!==o)})),E()(m()(t),"handleSelected",(function(e,n){t.handleInsert(e,n,wt.f.TYPEAHEAD,"click")})),E()(m()(t),"handleInsert",(function(e,n,r,o){var i=t.props,a=i.pluginState,c=i.onSubmit,s=t.state,u=s.items,l=s.selectedIndex,d=s.displayText;if(c&&(t.submitted=!0,c(e,n,d,r)),"click"===o||t.isUrlPopulatedWithSelectedItem()){var f,p,h=u[l];t.fireAnalytics({action:wt.a.SELECTED,actionSubject:wt.b.SEARCH_RESULT,attributes:{source:t.analyticSource,searchSessionId:null!==(f=a.searchSessionId)&&void 0!==f?f:"",trigger:o,resultCount:u.length,selectedResultId:h.objectId,selectedRelativePosition:l,prefetch:null!==(p=h.prefetch)&&void 0!==p&&p},eventType:wt.e.UI})}})),E()(m()(t),"handleMouseEnterResultItem",(function(e){var n=qJ(t.state.items,(function(t){return t.objectId===e}));t.setState({selectedIndex:n})})),E()(m()(t),"handleMouseLeaveResultItem",(function(e){var n=t.state,r=n.items;n.selectedIndex===qJ(r,(function(t){return t.objectId===e}))&&t.setState({selectedIndex:-1})})),E()(m()(t),"handleSubmit",(function(){var e=t.state,n=e.displayUrl,r=e.selectedIndex,o=e.items[r];if(t.isUrlPopulatedWithSelectedItem())t.handleInsert(Vw(o.url),o.name,wt.f.TYPEAHEAD,"keyboard");else if(n&&n.length>0){var i=Vw(n);i&&t.handleInsert(i,n,wt.f.MANUAL,"notselected")}})),E()(m()(t),"handleClearTextKeyDown",(function(e){if(9!==e.keyCode);else{if(!t.submitted){var n=t.state,r=n.displayUrl,o=n.displayText,i=Vw(r);t.handleInsert(i,o||r,wt.f.MANUAL,"notselected")}e.preventDefault()}})),E()(m()(t),"handleKeyDown",(function(e){var n=t.state,r=n.items,o=n.selectedIndex,i=t.props,a=i.pluginState,c=i.view,s=e.keyCode,u=40,l=38;if(27===s)return e.preventDefault(),PJ()(c.state,c.dispatch),void c.dispatch(sY(c.state.tr));if(r&&r.length){var d,f=o;if(s===u?(e.preventDefault(),f=(o+1)%r.length):s===l&&(e.preventDefault(),f=o>0?o-1:r.length-1),[u,l].includes(s)&&r[f])t.setState({selectedIndex:f,displayUrl:r[f].url}),t.fireAnalytics({action:wt.a.HIGHLIGHTED,actionSubject:wt.b.SEARCH_RESULT,attributes:{source:t.analyticSource,searchSessionId:null!==(d=a.searchSessionId)&&void 0!==d?d:"",selectedResultId:r[f].objectId,selectedRelativePosition:f},eventType:wt.e.UI})}})),E()(m()(t),"updateTextInput",(function(e){t.setState({displayText:e})})),E()(m()(t),"handleCancel",(function(e){var n=t.props.view;e.preventDefault(),PJ()(n.state,n.dispatch)})),t.state={selectedIndex:-1,isLoading:!1,displayUrl:Vw(e.displayUrl),displayText:e.displayText,items:[]},t.handleClearText=t.createClearHandler("displayUrl"),t.handleClearDisplayText=t.createClearHandler("displayText"),t.debouncedQuickSearch=Pd()(t.quickSearch,400),t.fireCustomAnalytics=Object(_j.a)(e.createAnalyticsEvent),t}return p()(a,[{key:"componentDidMount",value:(r=u()(C.a.mark((function e(){var t,n,r,o,i,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.pluginState,document.addEventListener("mousedown",this.handleClickOutside),this.fireAnalytics({action:wt.a.VIEWED,actionSubject:wt.b.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:r.timesViewed,searchSessionId:null!==(t=r.searchSessionId)&&void 0!==t?t:"",trigger:null!==(n=r.inputMethod)&&void 0!==n?n:""},eventType:wt.e.SCREEN}),e.next=5,Promise.all([this.props.activityProvider,this.props.searchProvider]);case 5:return o=e.sent,i=mr()(o,2),a=i[0],c=i[1],this.setState({activityProvider:a,searchProvider:c}),e.next=12,this.loadInitialLinkSearchResult();case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t=this.props.pluginState;(document.removeEventListener("mousedown",this.handleClickOutside),this.submitted)||this.fireAnalytics({action:wt.a.DISMISSED,actionSubject:wt.b.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(e=t.searchSessionId)&&void 0!==e?e:"",trigger:"blur"},eventType:wt.e.UI})}},{key:"getRecentItems",value:(n=u()(C.a.mark((function e(t,n){var r,o,i,a,c,s,u,l,d;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.pluginState,o=performance.now(),e.prev=2,e.t0=GJ,!n){e.next=10;break}return e.next=7,t.searchRecent(n);case 7:e.t1=e.sent,e.next=13;break;case 10:return e.next=12,t.getRecentItems();case 12:e.t1=e.sent;case 13:return e.t2=e.t1,a=(0,e.t0)(e.t2),c=a.map(HJ),s=performance.now(),u=s-o,this.fireAnalytics({action:wt.a.INVOKED,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.RECENT_ACTIVITIES,attributes:{duration:u,count:c.length},eventType:wt.e.OPERATIONAL}),this.fireAnalytics({action:wt.a.SHOWN,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:u,searchSessionId:null!==(i=r.searchSessionId)&&void 0!==i?i:"",resultCount:c.length,results:a.map((function(e){var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},eventType:wt.e.UI}),e.abrupt("return",c);case 23:return e.prev=23,e.t3=e.catch(2),l=performance.now(),d=l-o,this.fireAnalytics({action:wt.a.INVOKED,actionSubject:wt.b.SEARCH_RESULT,actionSubjectId:wt.c.RECENT_ACTIVITIES,attributes:{duration:d,count:-1,errorCode:e.t3.status},nonPrivacySafeAttributes:{error:e.t3.message},eventType:wt.e.OPERATIONAL}),e.abrupt("return",[]);case 29:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(e,t){return n.apply(this,arguments)})},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}},{key:"loadInitialLinkSearchResult",value:(t=u()(C.a.mark((function e(){var t,n,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.displayUrl,r=t.activityProvider,e.prev=1,n||!r){e.next=8;break}return this.setState({isLoading:!0}),e.next=6,this.getRecentItems(r);case 6:o=e.sent,this.setState({items:o});case 8:return e.prev=8,this.setState({isLoading:!1}),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[1,,8,11]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.items,r=t.isLoading,o=t.selectedIndex,i=t.displayUrl,a=t.displayText,c=this.props,s=c.intl.formatMessage,u=c.activityProvider,l=s(u?Rc.placeholder:Rc.linkPlaceholder),d=s(Rc.linkAddress),f=s(zJ.clearLink),p=s(zJ.displayText),h=o>-1?"link-search-list-item-".concat(o):"",m=xe.a.safari&&this.getScreenReaderText();return Object(T.d)("div",{className:"recent-list"},Object(T.d)("div",{css:[Hx,!!u&&Wx],ref:this.wrapperRef},Object(T.d)("div",{css:Ux},Object(T.d)("span",{css:FJ},Object(T.d)(tu.a,{content:d},Object(T.d)(WX.a,{label:d}))),m&&Object(T.d)(NJ.a,{ariaLive:"assertive",text:m,ariaRelevant:"additions",delay:250}),Object(T.d)("div",{css:go,"aria-hidden":"true",id:"search-recent-links-field-description"},s(zJ.searchLinkAriaDescription)),Object(T.d)(Bx,{role:"combobox",ariaExpanded:!0,ariaActiveDescendant:h,ariaControls:"hyperlink-search-list",ariaAutoComplete:!0,describedById:"search-recent-links-field-description",ref:function(t){return e.urlInputContainer=t},placeholder:l,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,defaultValue:i,onKeyDown:this.handleKeyDown}),i&&Object(T.d)(tu.a,{content:f},Object(T.d)("button",{css:LJ,onClick:this.handleClearText},Object(T.d)(Tj.a,{label:f})))),Object(T.d)("div",{css:BJ},Object(T.d)("span",{css:FJ},Object(T.d)(tu.a,{content:p},Object(T.d)(kf.a,{label:p}))),Object(T.d)(Bx,{ref:function(t){return e.displayTextInputContainer=t},placeholder:p,ariaLabel:s(zJ.linkAriaLabel),testId:"link-label",onChange:this.updateTextInput,onCancel:this.handleCancel,defaultValue:a,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown}),a&&Object(T.d)(tu.a,{content:s(zJ.clearText)},Object(T.d)("button",{css:LJ,onClick:this.handleClearDisplayText,onKeyDown:this.handleClearTextKeyDown},Object(T.d)(Tj.a,{label:s(zJ.clearText)})))),Object(T.d)("div",{css:go,"aria-live":"polite","aria-atomic":"true",id:"fabric.editor.hyperlink.suggested.results"},i&&s(zJ.searchLinkResults,{count:n.length})),Object(T.d)(MS,{ariaControls:"fabric.editor.hyperlink.suggested.results",id:"hyperlink-search-list",role:"listbox",items:n,isLoading:r,selectedIndex:o,onSelect:this.handleSelected,onMouseEnter:this.handleMouseEnterResultItem,onMouseLeave:this.handleMouseLeaveResultItem})))}}]),a}(o.PureComponent);function qJ(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function GJ(e){return e.slice(0,5)}var KJ=Object(Ji.c)(VJ),$J=Object(G.a)()(KJ);function YJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var XJ=function(e){b()(n,e);var t=YJ(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.displayText,r=e.displayUrl,o=e.providerFactory,a=e.view;return i.a.createElement(Ak.a,{providers:["activityProvider","searchProvider"],providerFactory:o,renderNode:function(e){var o=e.activityProvider,c=e.searchProvider;return i.a.createElement(Xa.a,{editorView:a,plugins:{hyperlinkPluginState:wJ},render:function(e){var s=e.hyperlinkPluginState;return i.a.createElement($J,{activityProvider:o,searchProvider:c,onSubmit:t,displayText:n,displayUrl:r,pluginState:s,view:a})}})}})}}]),n}(i.a.PureComponent);function JJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var ZJ,QJ,eZ,tZ,nZ=function(e){b()(n,e);var t=JJ(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"componentDidUpdate",value:function(e){e.node!==this.props.node&&this.hideLinkToolbar()}},{key:"componentWillUnmount",value:function(){this.hideLinkToolbar()}},{key:"hideLinkToolbar",value:function(){var e=this.props.view;e.dispatch(sY(e.state.tr))}},{key:"render",value:function(){var e=this,t=this.props,n=t.providerFactory,r=t.url,o=t.text,a=t.view,c=t.onSubmit;return i.a.createElement(XJ,{view:a,providerFactory:n,displayUrl:r,displayText:o,onSubmit:function(t,n,r){e.hideLinkToolbar(),c&&c(t,r||n)}})}}]),n}(i.a.Component),rZ=function(e,t){var n,r="hyperlink";return e.selection instanceof dt.NodeSelection&&(r=e.selection.node.type.name),!!t&&(t(Object(Ot.a)(e,(n=e.tr,oY(n,{type:"SHOW_LINK_TOOLBAR"})),EY(r))),!0)},oZ=function(e){var t=e.providerFactory,n=e.node;return{type:"custom",fallback:[],render:function(e,r){if(!e||!t)return null;var o=dY(n,fY(e.state));return i.a.createElement(nZ,{key:r,view:e,providerFactory:t,url:o.url,text:o.title||"",node:n,onSubmit:function(t,n){var r,i=t!==o.url;return n!==o.title?AY(n,t)(e.state,e.dispatch):i?(r=t,function(e,t){if(!(e.selection instanceof dt.NodeSelection&&e.selection.node))return!1;var n=PY(e,r,r);return _Y(e,n,wt.f.MANUAL),t&&t(n.scrollIntoView()),!0})(e.state,e.dispatch):void 0}})}}},iZ={height:360,width:420,forcePlacement:!0},aZ=n(377),cZ=n(1196),sZ=n(682),uZ=n(1228),lZ=["options"],dZ=Object(T.c)({width:40,height:40,overflow:"hidden",border:"1px solid ".concat(Object(ot.a)("color.border","rgba(223, 225, 229, 0.5)")),borderRadius:Object(Ze.d)(),boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:Object(ot.a)("elevation.surface","white")}),fZ=Object(T.c)({padding:"0.75rem",alignItems:"flex-start"}),pZ=Object(T.c)({"&:active":{backgroundColor:Object(ot.a)("color.background.selected.pressed",Ce.B50),color:Object(ot.a)("color.text.selected",Ce.B400)}}),hZ=Object(T.c)({"&:hover":{backgroundColor:Object(ot.a)("color.background.neutral.subtle.hovered",Ce.N20),color:Object(ot.a)("color.text.brand","currentColor")}}),mZ=Object(T.c)({backgroundColor:Object(ot.a)("color.background.selected.pressed",Ce.B50),color:Object(ot.a)("color.text.selected","currentColor"),"&:hover":{backgroundColor:Object(ot.a)("color.background.selected.pressed",Ce.B50),color:Object(ot.a)("color.text.selected","currentColor")}}),vZ=Object(T.c)({marginTop:"0.125rem"}),bZ=function(e,t){return t?[fZ]:e?[fZ,mZ,pZ]:[fZ,hZ,pZ]},gZ=function(e){return Object(T.d)("div",_e()({},e,{tabIndex:0}))},yZ=function(e){var t=e.title,n=e.description,r=e.selected,o=e.disabled,i=e.onClick,a=e.icon,c=e.testId,s=e.tooltipContent,u=e.hide,l=Object(T.d)(cZ.a,{"aria-label":t,component:gZ,iconBefore:Object(T.d)("div",{css:dZ},Object(T.d)(a,{width:38,height:38,label:t})),css:bZ(r,o),description:n,testId:c,onClick:function(e){e.preventDefault(),o||(i(),u())},onKeyDown:function(e){"Enter"!==e.key&&"Space"!==e.key||(e.preventDefault(),o||(i(),u()))},role:"option","aria-selected":r,isSelected:r,isDisabled:o,shouldDescriptionWrap:!0},Object(T.d)("div",{css:vZ},t));return s?Object(T.d)(tu.a,{content:s},l):l},OZ=function(e){var t=e.options,n=wo()(e,lZ);return Object(T.d)(aZ.a,_e()({},n,{options:{render:function(e){var n=e.hide;return Object(T.d)(sZ.a,null,Object(T.d)("div",{role:"listbox"},Object(T.d)(uZ.a,null,t.map((function(e){return Object(T.d)(yZ,_e()({key:e.testId},e,{hide:n}))})))))},width:320,height:200}}))},wZ=["disabled"],kZ=Object(T.c)(ZJ||(ZJ=S()(["\n  pointer-events: auto;\n"]))),EZ=Object(T.c)(QJ||(QJ=S()(["\n  pointer-events: none;\n"]))),xZ=function(e){e.disabled;var t=wo()(e,wZ);return Object(T.d)("div",t)},SZ=Object(T.c)(eZ||(eZ=S()(["\n  cursor: pointer;\n"]))),jZ=Object(T.c)(tZ||(tZ=S()(["\n  cursor: not-allowed;\n"]))),CZ=function(e){var t=e.options;return Object(T.d)(Kl.a,null,t.map((function(e){var t=e.onClick,n=e.selected,r=e.disabled,o=e.testId,i=e.tooltipContent,a=e.title,c=e.icon;return Object(T.d)(xZ,{css:r?jZ:SZ,key:o,disabled:r},Object(T.d)(Fx.a,{css:r?EZ:kZ,title:a,icon:Object(T.d)(c,{size:"medium",label:a}),selected:n,onClick:t,testId:o,disabled:r,tooltipContent:i}))})))},TZ=function(e){return i.a.createElement("svg",_e()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 9c-1.10457 0-2 .89543-2 2v10c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V11c0-1.10457-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Zm-4 3c-.55228 0-1 .4477-1 1s.44772 1 1 1h14c.5523 0 1-.4477 1-1s-.4477-1-1-1H9Zm-1 4c0-.5523.44772-1 1-1h6c.5523 0 1 .4477 1 1s-.4477 1-1 1H9c-.55228 0-1-.4477-1-1Z",fill:"currentColor"}))},_Z=function(e){return i.a.createElement(Bp.b,_e()({glyph:TZ},e))},AZ=function(e){return i.a.createElement("svg",_e()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6c-1.10457 0-2 .89543-2 2v16c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V8c0-1.10457-.8954-2-2-2H8Zm1 2c-.55228 0-1 .44772-1 1v2c0 .5523.44772 1 1 1h2c.5523 0 1-.4477 1-1V9c0-.55228-.4477-1-1-1H9Zm4.5 1.5c-.2761 0-.5.22386-.5.5 0 .2761.2239.5.5.5h10c.2761 0 .5-.2239.5-.5 0-.27614-.2239-.5-.5-.5h-10ZM9 14c-.55228 0-1 .4477-1 1v8c0 .5523.44772 1 1 1h14c.5523 0 1-.4477 1-1v-8c0-.5523-.4477-1-1-1H9Zm6 2.5c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5Zm0 5.5-1-1-2 2h8v-1.8L18 19l-3 3Z",fill:"currentColor"}))},PZ=function(e){return i.a.createElement(Bp.b,_e()({glyph:AZ},e))},IZ=function(e){return i.a.createElement("svg",_e()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12c-1.10457 0-2 .8954-2 2v4c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2v-4c0-1.1046-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Z",fill:"currentColor"}))},MZ=function(e){return i.a.createElement(Bp.b,_e()({glyph:IZ},e))},RZ=function(e){return i.a.createElement("svg",_e()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.a.createElement("rect",{x:"6",y:"15",width:"20",height:"2",rx:"1",fill:"currentColor"}))},NZ=function(e){return i.a.createElement(Bp.b,_e()({glyph:RZ},e))},DZ={url:{title:Zj.urlTitle,icon:NZ},inline:{title:Zj.inlineTitle,icon:MZ},block:{title:Zj.blockTitle,icon:_Z},embed:{title:Zj.embedTitle,icon:PZ}},LZ=function(e,t,n){var r=n.disabled,o=n.onClick,i=n.selected,a=n.appearance,c=n.testId,s=n.tooltip,u=DZ[null!=a?a:"url"],l=u.title,d=u.icon;return{title:e.formatMessage(l),icon:d,onClick:function(){return t(o)},disabled:Boolean(r),tooltipContent:s||null,testId:c,selected:i}},BZ={url:{title:Zj.urlTitle,description:Zj.urlDescription,icon:NZ},inline:{title:Zj.inlineTitle,description:Zj.inlineDescription,icon:MZ},block:{title:Zj.blockTitle,description:Zj.blockDescription,icon:_Z},embed:{title:Zj.embedTitle,description:Zj.embedDescription,icon:PZ}},FZ=function(e,t,n){var r=n.disabled,o=n.onClick,i=n.selected,a=n.appearance,c=n.testId,s=n.tooltip,u=BZ[null!=a?a:"url"],l=u.title,d=u.description,f=u.icon;return{title:e.formatMessage(l),description:e.formatMessage(d),icon:f,onClick:function(){return t(o)},selected:Boolean(i),disabled:Boolean(r),tooltipContent:s,testId:c}};function zZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var UZ=function(e){b()(n,e);var t=zZ(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"renderDropdown",(function(t,n){var r=e.props,o=r.url,a=r.intl,c=r.currentAppearance,s=r.editorState,u=r.allowEmbeds,l=r.platform,d=u&&n&&o&&n.extractors.getPreview(o,l);if(o){var f,p,h=null==n||null===(f=n.store)||void 0===f?void 0:f.getState()[o];if("fatal"===(null==h||null===(p=h.error)||void 0===p?void 0:p.kind))return null}var m=Object(Bd.f)(s,ya.Fragment.from(s.schema.nodes.blockCard.createChecked({})),c),v=m?void 0:HZ(s,a),b=u&&d&&{appearance:"embed",title:a.formatMessage(Zj.embed),onClick:MY("embed"),selected:"embed"===c,hidden:!1,testId:"embed-appearance",disabled:!m,tooltip:v},g=[{title:a.formatMessage(Zj.url),onClick:function(){return AY(o,o,!0)(s,null==t?void 0:t.dispatch)},selected:!c,testId:"url-appearance"},{appearance:"inline",title:a.formatMessage(Zj.inline),onClick:MY("inline"),selected:"inline"===c,testId:"inline-appearance"},{appearance:"block",title:a.formatMessage(Zj.block),onClick:MY("block"),selected:"block"===c,testId:"block-appearance",disabled:!m,tooltip:v}],y=function(e){e&&e(s,t&&t.dispatch),t&&!t.hasFocus()&&t.focus()};b&&g.push(b);var O=Object(oi.b)(s).viewChangingExperimentToolbarStyle;if("toolbarIcons"===O)return i.a.createElement(CZ,{key:"link-toolbar-button-group",options:g.map((function(e){return LZ(a,y,e)}))});if("newDropdown"===O)return i.a.createElement(OZ,{key:"link-toolbar-icon-dropdown",title:"Change view",buttonTestId:"link-toolbar-appearance-button",dispatchCommand:y,options:g.map((function(e){return FZ(a,y,e)}))});var w=a.formatMessage(c?Zj[c]:Zj.url);return i.a.createElement(aZ.a,{key:"link-toolbar",buttonTestId:"link-toolbar-appearance-button",title:w,dispatchCommand:y,options:g})})),e}return p()(n,[{key:"render",value:function(){var e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,t=this.props.editorView;return this.renderDropdown(t,e&&e.value)}}]),n}(i.a.Component);E()(UZ,"contextTypes",{contextAdapter:A.a.object});var HZ=function(e,t){try{var n=e.selection.$from.node(1),r=t.formatMessage(Nc[n.type.name]);return t.formatMessage(Zj.displayOptionUnavailableInParentNode,{node:r})}catch(e){return t.formatMessage(Zj.displayOptionUnavailableInParentNode,{node:t.formatMessage(Nc.defaultBlockNode)})}};function WZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WZ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qZ=function(e,t){if(!(e.selection instanceof dt.NodeSelection))return!1;var n=e.selection.node.type.name,r={action:wt.a.DELETED,actionSubject:wt.b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:wt.f.TOOLBAR,displayMode:n},eventType:wt.e.TRACK};return t&&t(Object(Ot.a)(e,Object(Qi.removeSelectedNode)(e.tr),r)),!0},GZ=function(e,t){if(!(e.selection instanceof dt.NodeSelection))return!1;var n=e.selection.node.type,r=lY(e.selection.node).url;return window.open(r),t&&t(Object(Ot.a)(e,e.tr,xY(n.name))),!0},KZ=function(e,t){var n=dY(e,fY(t)),r=n.title||n.url;return r?function(e){return function(t,n){if(!(t.selection instanceof dt.NodeSelection&&t.selection.node))return!1;var r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return n&&n(Object(Ot.a)(t,r.scrollIntoView(),SY(wt.c.CARD_INLINE))),!0}}(r):function(){return!1}},$Z=function(e,t,n,r,o){return function(a){var c=lY(a).url,s={};if(c&&!Object(Uw.b)(c))return[];var u=dY(a,fY(e)).title;s={url:c,title:u};var l=gD.getState(e),d=uY(a.type);if(l.showLinkingToolbar&&"mobile"!==o)return[oZ({providerFactory:n,node:a})];var f=[{id:"editor.link.edit",type:"button",selected:!1,metadata:s,title:t.formatMessage(Rc.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:rZ},{type:"separator"},{id:"editor.link.openLink",type:"button",icon:Kj.a,metadata:s,className:"hyperlink-open-link",title:t.formatMessage($j.openLink),onClick:GZ},{type:"separator"}].concat(D()(function(e,t,n){var r=t.schema.nodes.inlineCard,o={id:"editor.link.delete",type:"button",appearance:"danger",icon:Wg.a,onMouseEnter:qg(e.type,!0),onMouseLeave:qg(e.type,!1),onFocus:qg(e.type,!0),onBlur:qg(e.type,!1),title:n.formatMessage(Nc.remove),onClick:qZ};if(e.type===r){var i=[{id:"editor.link.unlink",type:"button",title:n.formatMessage(Rc.unlink),icon:Ix.a,onClick:KZ(e,t)},{type:"separator"}];return[].concat(i,[o])}return[o]}(a,e,t)));if("embed"===d){var p=function(e,t){return Sj(e,t,e.schema.nodes.embedCard,!0,!0)}(e,t);p.length&&p.push({type:"separator"}),f.unshift.apply(f,D()(p))}var h=r.allowBlockCards,m=r.allowEmbeds;return(h||m)&&d&&f.unshift({type:"custom",fallback:[],render:function(n){return i.a.createElement(UZ,{key:"link-appearance",url:c,intl:t,currentAppearance:d,editorView:n,editorState:e,allowEmbeds:m,platform:o})}},{type:"separator"}),f}};var YZ=function(e){var t=e.editorView,n=Object(o.useMemo)((function(){return new KY.a}),[]);return Object(o.useEffect)((function(){var e;n&&t.dispatch((e=n,function(t){return oY(t,{type:"REGISTER_EVENTS",smartLinkEvents:e})})(t.state.tr))}),[n,t]),null},XZ=function(e){return function(t,n,r){if(!r||!n)return!1;var o=function(e,t,n){var r,o=e.selection,i=o.$from.parent,a=e.schema.nodes.inlineCard;if(!Object(Qi.flatten)(i,!1).some((function(e){return e.node.type===a})))return null;var c=t.coordsAtPos(o.$anchor.pos),s=null===(r=t.posAtCoords({left:c.left,top:"up"===n?c.top-10:c.bottom+10}))||void 0===r?void 0:r.pos;if(s){var u=e.doc.nodeAt(s);if(u)return u.type!==a||0===Object(Qi.findChildren)(i,(function(e){return e===u}),!1).length||u===o.node?null:s}return null}(t,r,e);return!!o&&(n(t.tr.setSelection(new dt.NodeSelection(t.doc.resolve(o)))),!0)}};function JZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JZ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var QZ=function(e){return{name:"card",nodes:function(){var t=[{name:"inlineCard",node:Z$.a},{name:"blockCard",node:Q$.a}];return e.allowEmbeds&&t.push({name:"embedCard",node:eY.a}),t},pmPlugins:function(){var t,n,r,o=null===(t=e.allowBlockCards)||void 0===t||t,i=null===(n=e.allowResizing)||void 0===n||n,a=null===(r=e.useAlternativePreloader)||void 0===r||r,c=[{name:"card",plugin:UX(ZZ(ZZ({},e),{},{allowBlockCards:o,allowResizing:i,useAlternativePreloader:a}))}];return c.push({name:"cardKeymap",plugin:function(e){return function(e){var t={};return xe.a.chrome&&xe.a.chrome_version>90&&e.chromeCursorHandlerFixedVersion&&xe.a.chrome_version<e.chromeCursorHandlerFixedVersion&&(nu.bindKeymapWithCommand(nu.moveUp.common,XZ("up"),t),nu.bindKeymapWithCommand(nu.moveDown.common,XZ("down"),t)),dp(t)}(e.featureFlags)}}),c},contentComponent:function(e){var t=e.editorView;return i.a.createElement(YZ,{editorView:t})},pluginsOptions:{floatingToolbar:(t=e,n=e.platform,function(e,r,o){var i=e.schema.nodes,a=[i.inlineCard,i.blockCard,i.embedCard],c=gD.getState(e);if(e.selection instanceof dt.NodeSelection){var s=e.selection.node;if(s){var u="embed"===uY(s.type),l=u?{offset:[0,24]}:{},d=c.showLinkingToolbar?"card-floating-toolbar--link-picker":void 0;return VZ(VZ({title:r.formatMessage(Zj.card),className:d,nodeType:a},l),{},{getDomRef:function(e){var t=Object(Qi.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e));if(t)return u?t.querySelector(".".concat("rich-media-item")):t},items:$Z(e,r,o,t,n)},c.showLinkingToolbar?iZ:{})}}})}};var t,n};function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nQ=function(e,t){switch(t.action){case"matched":return function(e,t){return tQ(tQ({},e),{},{resolving:[].concat(D()(e.resolving),[{start:t.start,end:t.end,match:t.match}])})}(e,t);case"resolved":return function(e,t){return tQ(tQ({},e),{},{matches:[].concat(D()(e.matches),[{replacement:t.replacement,matchString:t.matchString}])})}(e,t);case"finish":return function(e,t){return tQ(tQ({},e),{},{resolving:e.resolving.filter((function(e){return e.match[0]!==t.matchString})),matches:e.matches.filter((function(e){return e.matchString!==t.matchString}))})}(e,t);default:return e}},rQ=function(e,t,n,r,o){var i=e.state.doc.resolve(n);if(i.parent.type.spec.code)return!1;for(var a=i.parent.textBetween(Math.max(0,i.parentOffset-500),i.parentOffset,void 0,"")+o,c=0;c<t.length;c++){var s=void 0;if(s=o.length?t[c].matchTyping.exec(a):t[c].matchEnter.exec(a)){var u=n-(s[0].length-o.length);return t[c].handler(e,s,u,r),!0}}return!1},oQ=new dt.PluginKey("customAutoformatPlugin"),iQ=function(e,t){return e.setMeta(oQ,t)};function aQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aQ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sQ=function(e){var t=e.providerFactory,n=[];return new Za.a({state:{init:function(){return{resolving:[],matches:[]}},apply:function(e,t){if(!t)return t;var n=cQ(cQ({},t),{},{resolving:t.resolving.map((function(t){return cQ(cQ({},t),{},{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})}))}),r=e.getMeta(oQ);return r?nQ(n,r):n}},props:{handleTextInput:function(e,t,r,o){return rQ(e,n,t,r,o),!1},handleKeyDown:fp({Enter:function(e,t,r){return rQ(r,n,r.state.selection.from,r.state.selection.to,""),!1}})},view:function(){var e=function(e,t){"autoformattingProvider"===e&&t&&t.then(function(){var e=u()(C.a.mark((function e(t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRules();case 2:r=e.sent,Object.keys(r).forEach((function(e){var t,o={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s|,|\\.)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:(t=r[e],function(){var e=u()(C.a.mark((function e(n,r,o,i){var a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t(r.slice(1,r.length-1)),n.dispatch(iQ(n.state.tr,{action:"matched",match:r,start:o,end:i})),e.next=4,a;case 4:return c=e.sent,s=Object(uc.m)(n.state.schema,c),n.dispatch(iQ(n.state.tr,{action:"resolved",matchString:r[0],replacement:s})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}())};n.push(o)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return t.subscribe("autoformattingProvider",e),{update:function(e){var t,n=(t=e.state,oQ.getState(t));n&&n.matches&&function(e,t){var n=e.state.schema.nodes.inlineCard;t.matches.forEach((function(r){var o=t.resolving.filter((function(e){return e.match[0]===r.matchString})),i=e.state.tr;o.forEach((function(t){var o=t.match,a=t.start,c=t.end,s=r.replacement,u=o[1],l=c+o[o.length-1].length;s&&(s.type===n||s.isText)&&(e.state.doc.textBetween(a,l,"#","|")===o[0]&&(i=i.replaceWith(i.mapping.map(a+u.length),i.mapping.map(c,-1),s)))})),i=iQ(i,{action:"finish",matchString:r.matchString}),e.dispatch(Vh(i))}))}(e,n)},destroy:function(){t.unsubscribe("autoformattingProvider",e)}}},key:oQ})},uQ=function(){return{name:"customAutoformat",pmPlugins:function(){return[{name:"customAutoformat",plugin:sQ}]}}},lQ=n(599),dQ=new dt.PluginKey("statusPlugin");function fQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fQ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hQ={text:"",color:"neutral"},mQ=function(e){return function(t,n){var r=t.schema,o=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||Id.b.generate()}):e,i=pQ(pQ({},hQ),o),a=t.tr,c=dQ.getState(t).showStatusPickerAt;if(!c){var s=r.nodes.status.createChecked(i),u=ya.Fragment.fromArray([s,t.schema.text(" ")]);if(Object(Qi.canInsert)(a.selection.$from,u))a.insert(a.selection.from,u).setSelection(dt.NodeSelection.create(a.doc,a.selection.from-u.size));else{var l=dt.NodeSelection.create(a.doc,a.selection.from-a.selection.$anchor.parentOffset-1);a.insert(l.to,u).setSelection(dt.NodeSelection.create(a.doc,l.to+1))}return a.setMeta(dQ,{showStatusPickerAt:a.selection.from,isNew:!0}).scrollIntoView(),n&&n(a),!0}return!!t.doc.nodeAt(c)&&(a.setNodeMarkup(c,r.nodes.status,i).setSelection(dt.NodeSelection.create(a.doc,c)).setMeta(dQ,{showStatusPickerAt:c}).scrollIntoView(),n&&n(a),!0)}},vQ=function(e,t){return Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.STATUS,attributes:{inputMethod:e},eventType:wt.e.TRACK})(mQ(t))},bQ=function(){return function(e){var t=e.state,n=e.dispatch,r=dQ.getState(t).showStatusPickerAt;if(r){var o=t.tr.doc.nodeAt(r);if(o){var i=t.tr;i=i.setMeta(dQ,{showStatusPickerAt:null,isNew:!1}),o.attrs.text?i.selection.from===r&&(i=i.setSelection(dt.Selection.near(t.tr.doc.resolve(r+2)))):i=i.delete(r,r+1),n(i),e.focus()}}}},gQ=function(e){if(e&&e instanceof dt.NodeSelection&&"status"===e.node.type.name)return e.node.attrs||null;return null};function yQ(){var e={};return nu.bindKeymapWithCommand(nu.enter.common,OQ,e),nu.bindKeymapWithCommand(nu.tab.common,OQ,e),dp(e)}var OQ=function(e,t){return!!gQ(e.tr.selection)},wQ=n(491);function kQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kQ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xQ=function(e){return function(t){var n=EQ(EQ({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=wQ.a,n.attributes.packageVersion=wQ.b,n.attributes.componentName="status";var r=e(n);return r.fire("fabric-elements"),r}};function SQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var jQ={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"},CQ=function(e){b()(n,e);var t=SQ(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"hoverStartTime",0),E()(m()(e),"handleMouseEnter",(function(t){e.hoverStartTime=Date.now()})),E()(m()(e),"handleMouseLeave",(function(t){var n=e.props.onHover;Date.now()-e.hoverStartTime>=1e3&&n&&n(),e.hoverStartTime=0})),e}return p()(n,[{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.color,r=e.style,o=e.role,a=e.onClick;if(0===t.trim().length)return null;var c=jQ[n]||"default";return i.a.createElement("span",{className:"status-lozenge-span",onClick:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":n,"data-style":r,role:o},i.a.createElement(o_.a,{appearance:c,maxWidth:200},t))}}]),n}(o.PureComponent);E()(CQ,"displayName","StatusInternal");var TQ,_Q,AQ=Object(G.a)({onClick:function(e,t){var n=t.localId;return xQ(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:function(e,t){var n=t.localId;return xQ(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(CQ),PQ=Object(ko.b)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"},editText:{id:"fabric.editor.editStatusText",defaultMessage:"Edit Status",description:"Title for the input that changes the status text"},editColor:{id:"fabric.editor.editStatusColor",defaultMessage:"Edit Status Color",description:"Title for the color picker that changes the status color"}}),IQ=Object(T.c)(TQ||(TQ=S()(["\n  opacity: 1;\n"]))),MQ=Object(T.c)(_Q||(_Q=S()(["\n  opacity: 0.5;\n"]))),RQ=Object(Ji.c)((function(e){var t=e.text,n=e.color,r=e.localId,o=e.style,i=e.intl.formatMessage,a=t||i(PQ.placeholder);return Object(T.d)("span",{css:t?IQ:MQ},Object(T.d)(AQ,{text:a,color:n,localId:r,style:o,onClick:function(e){e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}}))})),NQ=function(e){var t=e.view,n=e.node.attrs,r=n.text,o=n.color,i=n.localId,a=n.style;return Object(T.d)(RQ,{view:t,text:r,color:o,style:a,localId:i})};function DQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DQ(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var BQ,FQ,zQ=function(e,t){return new Za.a({state:{init:function(){return{isNew:!1,showStatusPickerAt:null}},apply:function(t,n,r){var o=t.getMeta(dQ);if(o){var i=LQ(LQ({},n),o);return e.dispatch(dQ,i),i}if(t.docChanged&&n.showStatusPickerAt){var a=t.mapping.mapResult(n.showStatusPickerAt),c=a.pos,s=a.deleted?null:c,u=LQ(LQ({},n),{},{showStatusPickerAt:s});if(u.showStatusPickerAt!==n.showStatusPickerAt)return e.dispatch(dQ,u),u}if(t.selectionSet){var l=t.selection.from,d=t.doc.nodeAt(l),f=null;if(d&&d.type===r.schema.nodes.status&&t.selection instanceof dt.NodeSelection&&(f=l),f!==n.showStatusPickerAt){var p=LQ(LQ({},n),{},{isNew:!1,showStatusPickerAt:f});return e.dispatch(dQ,p),p}}return n}},filterTransaction:function(e,t){if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof dt.TextSelection&&t.selection instanceof dt.NodeSelection){var n=dQ.getState(t),r=n.isNew,o=n.showStatusPickerAt,i=e.doc.nodeAt(e.selection.from);if(r&&o&&i&&i.type===t.schema.nodes.status)return!1}return!0},appendTransaction:function(e,t,n){var r,o=!1,i=n.tr;if(e.find((function(e){return e.selectionSet}))){var a=gQ(t.selection),c=gQ(n.selection);if(a&&(c&&a.localId!==c.localId||!c)&&(r=a)&&(r.text&&0===r.text.trim().length||""===r.text)){var s=t.selection.from;i.delete(i.mapping.map(s),i.mapping.map(s+1)),o=!0}}return o?i:void 0},key:dQ,props:{nodeViews:{status:bi({pmPluginFactoryParams:e,Component:NQ,extraComponentProps:{options:t}})}}})},UQ=n(277),HQ=n.n(UQ),WQ=Object(ko.b)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"},statusInputLabel:{id:"fabric.status.input.label",defaultMessage:"Set a status",description:"Aria label text for the status input field"}});function VQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var qQ,GQ,KQ=Object(T.c)(BQ||(BQ=S()(["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n  overflow: hidden;\n"])),Object(ot.a)("color.background.neutral",Ce.N900),Object(ot.a)("color.border",Ce.N0)),$Q=Object(T.c)(FQ||(FQ=S()(["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),Object(ot.a)("color.border",Ce.N50)),YQ=function(e){b()(n,e);var t=VQ(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"hoverStartTime",0),E()(m()(e),"onMouseEnter",(function(){e.hoverStartTime=Date.now()})),E()(m()(e),"onMouseLeave",(function(){var t=e.props.onHover;Date.now()-e.hoverStartTime>=1e3&&t&&t(e.props.value),e.hoverStartTime=0})),E()(m()(e),"onMouseDown",(function(e){e.preventDefault()})),E()(m()(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value;t.preventDefault(),r(o)})),e}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabIndex,r=t.backgroundColor,o=t.isSelected,i=t.borderColor,a=t.value,c=t.setRef,s="1px solid ".concat(i);return Object(T.d)("span",{css:$Q},Object(T.d)(oa.a,WQ["".concat(a,"Color")],(function(t){return Object(T.d)("button",{css:KQ,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,tabIndex:n,className:"".concat(o?"selected":""),title:t[0],"aria-pressed":o,style:{backgroundColor:r||"transparent",border:s},ref:c},o&&Object(T.d)(HQ.a,{primaryColor:i,label:t[0]}))})))}},{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}}]),n}(o.PureComponent),XQ=[["neutral",Object(ot.a)("color.background.neutral",Ce.N40),Object(ot.a)("color.text",Ce.N400)],["purple",Object(ot.a)("color.background.discovery",Ce.P50),Object(ot.a)("color.text.discovery",Ce.P400)],["blue",Object(ot.a)("color.background.information",Ce.B50),Object(ot.a)("color.text.information",Ce.B400)],["red",Object(ot.a)("color.background.danger",Ce.R50),Object(ot.a)("color.text.danger",Ce.R400)],["yellow",Object(ot.a)("color.background.warning",Ce.Y75),Object(ot.a)("color.text.warning",Ce.Y400)],["green",Object(ot.a)("color.background.success",Ce.G50),Object(ot.a)("color.text.success",Ce.G400)]],JQ=Object(T.c)(qQ||(qQ=S()(["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),Object(Ze.i)(),Object(Ze.i)(),Object(Ze.i)()),ZQ=function(e){var t=e.cols,n=void 0===t?7:t,r=e.onClick,i=e.selectedColor,a=e.className,c=e.onHover,s=Object(o.useRef)([]);Object(o.useEffect)((function(){s.current=s.current.slice(0,XQ.length)}),[]);var u=Object(o.useCallback)((function(e){var t=XQ.findIndex((function(e){return mr()(e,1)[0]===i})),n=null;switch(e.keyCode){case 39:case 40:e.preventDefault(),n=t+1>XQ.length-1?0:t+1;break;case 37:case 38:e.preventDefault(),n=t-1<0?XQ.length-1:t-1}if(null!==n){var o=XQ[n][0],a=s.current[n];null==a||a.focus(),r(o)}}),[i,r,s]);return Object(T.d)("div",{css:JQ,className:a,role:"radiogroup",style:{maxWidth:32*n},onKeyDown:u},XQ.map((function(e,t){var n=mr()(e,3),o=n[0],a=n[1],u=n[2];return Object(T.d)(YQ,{key:o,value:o,backgroundColor:a,borderColor:u,onClick:r,onHover:c,isSelected:o===i,tabIndex:o===i?0:-1,setRef:function(e){return s.current[t]=e}})})))};function QQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var e0=Object(T.c)(GQ||(GQ=S()(["\n  margin: 0 ","px;\n"])),Object(Ze.i)()),t0=function(e){b()(n,e);var t=QQ(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"fieldTextWrapperKey",Math.random().toString()),E()(m()(e),"colorPaletteKey",Math.random().toString()),E()(m()(e),"onChange",(function(t){e.props.onTextChanged(t.target.value)})),E()(m()(e),"onKeyPress",(function(t){"Enter"===t.key&&e.props.onEnter()})),E()(m()(e),"handleInputRef",(function(t){t&&e.props.autoFocus&&setTimeout((function(){t.focus()}),50)})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.selectedColor,r=e.onColorClick,o=e.onColorHover,a=e.intl;return Object(T.d)(i.a.Fragment,null,Object(T.d)("div",{css:e0,key:this.fieldTextWrapperKey},Object(T.d)(Ys.a,{value:t,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off","aria-label":a.formatMessage(WQ.statusInputLabel)})),Object(T.d)(ZQ,{key:this.colorPaletteKey,onClick:r,onHover:o,selectedColor:n}))}}]),n}(o.PureComponent);E()(t0,"defaultProps",{autoFocus:!0});var n0=Object(Ji.c)(t0);function r0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r0(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i0,a0=function(e){return e?"new":"update"};function c0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var s0,u0=Object(MF.a)(Hd.a);!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(s0||(s0={}));var l0=Object(T.c)(i0||(i0=S()(["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  box-shadow: ",";\n  input {\n    text-transform: uppercase;\n  }\n"])),Object(ot.a)("elevation.surface.overlay",Ce.N0),Object(Ze.i)(),Object(Ze.d)(),Object(ot.a)("elevation.shadow.overlay","0 0 1px rgba(9, 30, 66, 0.31), 0 4px 8px -2px rgba(9, 30, 66, 0.25)")),d0=function(e){b()(n,e);var t=c0(n);function n(e){var r,o;return d()(this,n),r=t.call(this,e),E()(m()(r),"handleClickOutside",(function(e){e.preventDefault(),r.inputMethod=s0.blur,r.props.closeStatusPicker()})),E()(m()(r),"handleEscapeKeydown",(function(e){e.preventDefault(),r.inputMethod=s0.escKey,r.props.onEnter(r.state)})),E()(m()(r),"onColorHover",(function(e){r.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:r.state.localId,state:a0(r.props.isNew)}})})),E()(m()(r),"onColorClick",(function(e){var t=r.state,n=t.text,o=t.localId;e===r.state.color?(r.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:o,state:a0(r.props.isNew)}}),r.onEnter()):(r.setState({color:e}),r.props.onSelect({text:n,color:e,localId:o}))})),E()(m()(r),"onTextChanged",(function(e){var t=r.state,n=t.color,o=t.localId;r.setState({text:e}),r.props.onTextChanged({text:e,color:n,localId:o},!!r.props.isNew)})),E()(m()(r),"onEnter",(function(){r.inputMethod=s0.enterKey,r.props.onEnter(r.state)})),E()(m()(r),"handlePopupClick",(function(e){return e.nativeEvent.stopImmediatePropagation()})),r.state=r.extractStateFromProps(e),r.createStatusAnalyticsAndFireFunc=(o=e.createAnalyticsEvent,function(e){if(o&&e){var t=o0(o0({},e),{},{eventType:"ui"});t.attributes||(t.attributes={}),t.attributes.packageName=Y_.a,t.attributes.packageVersion=Y_.b,t.attributes.componentName="status",o(t).fire("fabric-elements")}}),r}return p()(n,[{key:"fireStatusPopupOpenedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:r,state:a0(o)}})}},{key:"fireStatusPopupClosedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:r,state:a0(o)}})}},{key:"reset",value:function(){this.startTime=Date.now(),this.inputMethod=s0.blur}},{key:"componentDidMount",value:function(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}},{key:"componentWillUnmount",value:function(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.target;if(e.target!==r){var o=this.extractStateFromProps(this.props);this.setState(o),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(o)}}},{key:"extractStateFromProps",value:function(e){var t=e.defaultColor,n=e.defaultText,r=e.defaultLocalId,o=e.isNew;return{color:t||hQ.color,text:n||hQ.text,localId:r,isNew:o}}},{key:"render",value:function(){var e=this.props,t=e.isNew,n=e.target,r=this.state,o=r.color,i=r.text;return n&&Object(T.d)(u0,{target:n,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:he.n,fitHeight:40},Object(T.d)("div",{css:l0,onClick:this.handlePopupClick},Object(T.d)(n0,{autoFocus:t,selectedColor:o,text:i,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}]),n}(i.a.Component),f0=Object(G.a)()(d0),p0=function(e,t){return!0===t.menuDisabled||(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{id:"status",title:t(Gv.a.status),description:t(Gv.a.statusDescription),priority:700,keywords:["lozenge"],icon:function(){return i.a.createElement(Bv,null)},action:function(e,t){return Object(Ot.a)(t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n){var r=n.schema.nodes.status.createChecked(pQ(pQ({},hQ),{},{localId:Id.b.generate()})),o=n.schema.text(" "),i=t(ya.Fragment.from([r,o]),{selectInlineNode:!0}),a=i.selection.from+e;return i.setSelection(dt.NodeSelection.create(i.doc,a)).setMeta(dQ,{showStatusPickerAt:a,isNew:!0})}}()(e,t),{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.STATUS,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]}}),e},h0=function(e){return p0(function(e){return{name:"status",nodes:function(){return[{name:"status",node:lQ.a}]},pmPlugins:function(){return[{name:"status",plugin:function(t){return zQ(t,e)}},{name:"statusKeymap",plugin:yQ}]},contentComponent:function(e){var t=e.editorView,n=t.domAtPos.bind(t);return i.a.createElement(Xa.a,{plugins:{statusState:dQ},render:function(e){var r=e.statusState,o=void 0===r?{}:r,a=o.showStatusPickerAt;if("number"!=typeof a)return null;var c=Object(Qi.findDomRefAtPos)(a,n),s=t.state.doc.nodeAt(a);if(!s||"status"!==s.type.name)return null;var u=s.attrs,l=u.text,d=u.color,f=u.localId;return i.a.createElement(f0,{isNew:o.isNew,target:c,defaultText:l,defaultColor:d,defaultLocalId:f,onSelect:function(e){mQ(e)(t.state,t.dispatch)},onTextChanged:function(e){mQ(e)(t.state,t.dispatch)},closeStatusPicker:function(){bQ()(t)},onEnter:function(){bQ()(t)}})}})}}}(e),e)},m0=n(1188),v0={paragraph:fU.b.PARAGRAPH,heading:fU.b.HEADING};function b0(e,t){return void 0===t?g0(e):!1===t?0:t.level}function g0(e){return void 0===e?0:e.level}var y0=function(e,t){var n=e.nodes,r=n.paragraph,o=n.heading,i=e.marks.alignment;return[r,o].indexOf(t.type)>-1&&(!i||!t.marks.filter((function(e){return e.type===i}))[0])};function O0(e,t){var n=function(e,t){var n=[];return{getAttrs:function(r,o){var i=e(r,o);return n.push({node:o,prevAttrs:r,newAttrs:i,options:t}),i},getAndResetAttrsChanges:function(){var e=n;return n=[],e}}}(e,{direction:t}),r=n.getAttrs,o=n.getAndResetAttrsChanges,i=function(e){return function(t,n){var r=t.schema.marks.indentation;return Da(r,e,y0)(t,n)}}(r);return function(e,t){return i(e,function(e,t,n){return function(r){var o=r;e().forEach((function(e){var n=e.node,r=e.prevAttrs,i=e.newAttrs,a=e.options.direction,c=v0[n.type.name];c&&(o=Object(Ot.a)(t,o,{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_INDENT,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,previousIndentationLevel:g0(r),newIndentLevel:b0(r,i),direction:a,indentType:c}}))})),n&&n(r)}}(o,e,t))}}var w0=O0((function(e){if(!e)return{level:1};var t=e.level;return t>=6?void 0:{level:t+1}}),fU.a.INDENT),k0=O0((function(e){if(e){var t=e.level;return!(t<=1)&&{level:t-1}}}),fU.a.OUTDENT);function E0(){var e={};return nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.indent),w0,e),nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.outdent),k0,e),nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.backspace),(function(e,t){var n=e.selection;return!(!Object(wa.r)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&k0(e,t))}),e),dp(e)}var x0,S0=function(){return{name:"indentation",marks:function(){return[{name:"indentation",mark:m0.a}]},pmPlugins:function(){return[{name:"indentationKeymap",plugin:function(){return E0()}}]}}},j0=new dt.PluginKey("scrollIntoViewPlugin"),C0=function(){return{name:"scrollIntoView",pmPlugins:function(){return[{name:"scrollIntoView",plugin:function(){return new Za.a({key:j0,appendTransaction:function(e,t,n){if(e.length){var r=e[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta("input_rule_plugin_transaction")?void 0:n.tr.scrollIntoView()}}})}}]}}};!function(e){e.UPDATE="UPDATE"}(x0||(x0={}));var T0=function(e,t){switch(t.type){case x0.UPDATE:return{canUndo:t.canUndo,canRedo:t.canRedo}}return e},_0=new dt.PluginKey("historyPlugin"),A0=function(){return{canUndo:!1,canRedo:!1}},P0=Object(Jc.a)(_0,T0),I0=P0.createPluginState,M0=P0.getPluginState,R0=function(){return{name:"history",pmPlugins:function(){return[{name:"history",plugin:function(e){return function(e){return new Za.a({state:I0(e,A0),key:_0,appendTransaction:function(e,t,n){if(e.find((function(e){return e.docChanged&&!1!==e.getMeta("addToHistory")}))){var r=function(e){var t=function(e){return e.plugins.find((function(e){return"history$"===e.key}))}(e);if(t)return t.getState(e)}(n);if(!r)return;var o=r.done.eventCount>0,i=r.undone.eventCount>0,a=M0(n),c=a.canUndo,s=a.canRedo;if(o!==c||i!==s){var u={type:x0.UPDATE,canUndo:o,canRedo:i};return n.tr.setMeta(_0,u)}}}})}(e.dispatch)}}]}}},N0=function(){return{keyboardHeight:-1,mobilePaddingTop:0,windowHeight:window.innerHeight,isExpanded:!1}},D0=function(e){var t;return new Za.a({state:vd(e,N0),key:hd,props:{scrollThreshold:{top:12,left:0,right:0,bottom:12},scrollMargin:{top:12,bottom:12,left:0,right:0}},view:function(e){var n=function(){t&&window.cancelAnimationFrame(t);var n=window.innerHeight,r=0;t=requestAnimationFrame((function o(){var i;window.innerHeight===n&&++r>=5?(t=void 0,(i=window.innerHeight,bd({type:ud.SET_WINDOW_HEIGHT,windowHeight:i}))(e.state,e.dispatch)):t=requestAnimationFrame(o),n=window.innerHeight}))};return window.addEventListener("resize",n),{destroy:function(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})},L0=function(){return{name:"mobileDimensions",pmPlugins:function(){return[{name:"mobileDimensions",plugin:function(e){var t=e.dispatch;return D0(t)}}]}}},B0=new dt.PluginKey("mobile-selection"),F0=function(e){return new Za.a({view:function(t){var n=t.domAtPos.bind(t);return{update:function(t,r){var o=t.state,i=t.state,a=i.selection,c=i.doc;if(!r.doc.eq(c)||!r.selection.eq(a)){var s=Object(Qi.findDomRefAtPos)(a.$anchor.pos,n).getBoundingClientRect(),u=s.top,l=s.left,d=function(e){var t=e.selection,n=e.doc,r=new Array,o=new Array;return n.nodesBetween(t.from,t.to,(function(e){return r.push(e.type.name),e.marks.forEach((function(e){return o.push(e.type.name)})),!0})),{nodeTypes:Array.from(r),markTypes:Array.from(o)}}(o),f=d.nodeTypes,p=d.markTypes;e(B0,{rect:{top:Math.round(u),left:Math.round(l)},selection:o.selection.toJSON(),nodeTypes:f,markTypes:p})}}}}})},z0=function(){return{name:"mobileSelection",pmPlugins:function(){return[{name:"mobileSelection",plugin:function(e){var t=e.dispatch;return F0(t)}}]}}};function U0(e){var t=e.buttonName,n=e.editorView;switch(t){case"bullet_list":!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt.f.TOOLBAR;av(t,"bulletList")(e.state,e.dispatch)}(n,wt.f.TOOLBAR);break;case"ordered_list":!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt.f.TOOLBAR;av(t,"orderedList")(e.state,e.dispatch)}(n,wt.f.TOOLBAR);break;case"indent":n.someProp("handleKeyDown",(function(e){return e(n,new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Tab",code:"Tab"}))}));break;case"outdent":n.someProp("handleKeyDown",(function(e){return e(n,new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,shiftKey:!0,key:"Tab",code:"Tab"}))}))}}var H0=n(417),W0=n.n(H0),V0=Object(ko.b)({indent:{id:"fabric.editor.indent",defaultMessage:"Indent",description:"Indent a list item, paragraph or heading"},outdent:{id:"fabric.editor.outdent",defaultMessage:"Outdent",description:"Outdent a list item, paragraph or heading"}});function q0(e){var t=Object(Cf.a)().formatMessage,n=e.disabled,r=e.isReducedSpacing,o=e.bulletListActive,a=e.orderedListActive,c=e.popupsMountPoint,s=e.popupsBoundariesElement,u=e.popupsScrollableElement,l=e.onItemActivated,d=i.a.useState(!1),f=mr()(d,2),p=f[0],h=f[1],m=t(vv.a.lists),v=function(e){h(e.isDropdownOpen)},b=function(e){var t=Object(Cf.a)().formatMessage,n=t(vv.a.unorderedList),r=t(vv.a.orderedList),o=[{key:"unorderedList",content:n,value:{name:"bullet_list"},isDisabled:e.bulletListDisabled,isActive:Boolean(e.bulletListActive),elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.toggleBulletList))},{key:"orderedList",content:r,value:{name:"ordered_list"},isDisabled:e.orderedListDisabled,isActive:Boolean(e.orderedListActive),elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.toggleOrderedList))}];if(e.showIndentationButtons){var i=t(V0.indent),a=t(V0.outdent);o.push({key:"indent",content:i,value:{name:"indent"},isDisabled:!0,isActive:!1,elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.indent))},{key:"outdent",content:a,value:{name:"outdent"},isDisabled:!0,isActive:!1,elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.outdent))})}return[{items:o}]}(e);return Object(T.d)("span",{css:xn.l},Object(T.d)(FF,{items:b,onItemActivated:function(t){var n=t.item;return h(!1),l({editorView:e.editorView,buttonName:n.value.name})},mountTo:c,boundariesElement:s,scrollableElement:u,isOpen:p,onOpenChange:v,fitHeight:188,fitWidth:175,shouldUseDefaultRole:!0},Object(T.d)(qc.b,{spacing:r?"none":"default",selected:o||a,"aria-expanded":p,"aria-haspopup":!0,"aria-label":m,disabled:n,onClick:function(){v({isDropdownOpen:!p})},title:m,iconBefore:Object(T.d)("span",{css:xn.l},Object(T.d)(W0.a,{label:m}),Object(T.d)("span",{css:xn.f},Object(T.d)(Of.a,{label:""})))})),Object(T.d)("span",{css:xn.h}))}var G0=n(731),K0=n.n(G0),$0=n(732),Y0=n.n($0),X0=n(733),J0=n.n(X0);function Z0(e){var t=Object(Cf.a)().formatMessage,n=e.disabled,r=e.isReducedSpacing,o=e.bulletListActive,i=e.bulletListDisabled,a=e.orderedListActive,c=e.orderedListDisabled,s=e.showIndentationButtons,u=e.onItemActivated,l=t(vv.a.unorderedList),d=t(vv.a.orderedList),f=function(t){return function(n){return u({editorView:e.editorView,buttonName:t})}};return Object(T.d)("span",{css:xn.c},Object(T.d)(qc.b,{buttonId:qc.a.BULLET_LIST,spacing:r?"none":"default",onClick:f("bullet_list"),selected:o,"aria-pressed":o,"aria-label":l,disabled:i||n,title:Object(T.d)(nu.ToolTipContent,{description:l,keymap:nu.toggleBulletList}),iconBefore:Object(T.d)(W0.a,{label:""})}),Object(T.d)(qc.b,{buttonId:qc.a.ORDERED_LIST,spacing:r?"none":"default",onClick:f("ordered_list"),selected:a,"aria-pressed":a,"aria-label":d,disabled:c||n,title:Object(T.d)(nu.ToolTipContent,{description:d,keymap:nu.toggleOrderedList}),iconBefore:Object(T.d)(K0.a,{label:""})}),s&&Object(T.d)(qc.b,{buttonId:qc.a.INDENT,spacing:r?"none":"default",onClick:f("indent"),iconBefore:Object(T.d)(Y0.a,{label:""}),disabled:!0,title:Object(T.d)(nu.ToolTipContent,{description:t(V0.indent),keymap:nu.indent})}),s&&Object(T.d)(qc.b,{buttonId:qc.a.OUTDENT,spacing:r?"none":"default",onClick:f("outdent"),iconBefore:Object(T.d)(J0.a,{label:""}),disabled:!0,title:Object(T.d)(nu.ToolTipContent,{description:t(V0.outdent),keymap:nu.outdent})}),Object(T.d)("span",{css:xn.h}))}function Q0(e){var t=e.disabled,n=e.isSmall,r=e.isReducedSpacing,o=e.bulletListActive,i=e.bulletListDisabled,a=e.orderedListActive,c=e.orderedListDisabled,s=e.showIndentationButtons,u=e.popupsMountPoint,l=e.popupsBoundariesElement,d=e.popupsScrollableElement;return n?Object(T.d)(q0,{editorView:e.editorView,isReducedSpacing:r,popupsMountPoint:u,popupsBoundariesElement:l,popupsScrollableElement:d,bulletListActive:o,bulletListDisabled:i,showIndentationButtons:s,orderedListActive:a,orderedListDisabled:c,disabled:t,onItemActivated:U0}):Object(T.d)(Z0,{editorView:e.editorView,isReducedSpacing:r,bulletListActive:o,bulletListDisabled:i,showIndentationButtons:s,orderedListActive:a,orderedListDisabled:c,disabled:t,onItemActivated:U0})}var e1=function(e){var t=e.showIndentationButtons;return{name:"toolbarListsIndentation",primaryToolbarComponent:function(e){var n=e.editorView,r=e.popupsMountPoint,o=e.popupsBoundariesElement,a=e.popupsScrollableElement,c=e.toolbarSize,s=e.disabled,u=e.isToolbarReducedSpacing,l=c<ku.L;return i.a.createElement(Xa.a,{plugins:{listState:kh},render:function(e){var c=e.listState;return c?i.a.createElement(Q0,{isSmall:l,isReducedSpacing:u,disabled:s,editorView:n,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:a,bulletListActive:c.bulletListActive,bulletListDisabled:c.bulletListDisabled,orderedListActive:c.orderedListActive,orderedListDisabled:c.orderedListDisabled,showIndentationButtons:!!t}):null}})}}},t1={name:"normal",title:lq.a.normal,nodeName:"paragraph",tagName:"p"},n1={name:"heading1",title:lq.a.heading1,nodeName:"heading",tagName:"h1",level:1},r1={name:"heading2",title:lq.a.heading2,nodeName:"heading",tagName:"h2",level:2},o1={name:"heading3",title:lq.a.heading3,nodeName:"heading",tagName:"h3",level:3},i1={name:"heading4",title:lq.a.heading4,nodeName:"heading",tagName:"h4",level:4},a1={name:"heading5",title:lq.a.heading5,nodeName:"heading",tagName:"h5",level:5},c1={name:"heading6",title:lq.a.heading6,nodeName:"heading",tagName:"h6",level:6},s1={name:"blockquote",title:lq.a.blockquote,nodeName:"blockquote"},u1={name:"codeblock",title:lq.a.codeblock,nodeName:"codeBlock"},l1={name:"panel",title:lq.a.infoPanel,nodeName:"panel"},d1={name:"other",title:lq.a.other,nodeName:""},f1=[t1,n1,r1,o1,i1,a1,c1],p1=[s1,u1,l1],h1=(f1.concat(p1),f1.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.level]=t),e}),{})),m1=f1.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.name]=t),e}),{});function v1(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return b1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function b1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g1(){return function(e,t){var n=e.selection,r=e.schema,o=e.tr;return(n instanceof Oa.a?n.ranges:[n]).forEach((function(e){var t=e.$from,n=e.$to;o.setBlockType(t.pos,n.pos,r.nodes.paragraph)})),t&&t(o),!0}}function y1(e){return function(t,n,r){var o,i,a=t.schema.nodes,c=a.heading,s=a.paragraph,u=v1(Object(wa.g)(t.doc,t.selection.from,t.selection.to,(function(e){return e.type===c||e.type===s})));try{for(u.s();!(i=u.n()).done;){var l=i.value,d=l.node.type===c?l.node.attrs.level:0;if(o){if(d!==o){o=void 0;break}}else o=d}}catch(e){u.e(e)}finally{u.f()}return e(o)(t,n,r)}}function O1(e){return y1((function(t){return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})(g1())}))}function w1(e){return function(t,n){var r=t.selection,o=t.schema,i=t.tr;return(r instanceof Oa.a?r.ranges:[r]).forEach((function(t){var n=t.$from,r=t.$to;i.setBlockType(n.pos,r.pos,o.nodes.heading,{level:e})})),n&&n(i),!0}}var k1=function(e,t){return y1((function(n){return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:n}})(w1(e))}))};function E1(e){return function(t,n){var r=t.schema.nodes;switch(e){case s1.name:if(r.paragraph&&r.blockquote)return S1(r.blockquote)(t,n);break;case u1.name:if(r.codeBlock)return function(e,t){var n,r=e.tr,o=e.selection,i=o.$to,a=o.$from,c=e.schema.nodes.codeBlock,s=null===(n=e.selection.$from.node(-1))||void 0===n?void 0:n.type,u=e.selection.$from.parent.type;return eb(u,s,c.createAndFill())?(r.replaceRangeWith(a.pos,i.pos,c.createAndFill()),r.setSelection(dt.Selection.near(r.doc.resolve(e.selection.to)))):Object(Qi.safeInsert)(c.createAndFill())(r).scrollIntoView(),t&&t(r),!0}(t,n);break;case l1.name:if(r.panel&&r.paragraph)return S1(r.panel)(t,n)}return!1}}var x1=function(e,t){switch(e){case s1.name:return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(E1(e));case u1.name:return Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.CODE_BLOCK,attributes:{inputMethod:t},eventType:wt.e.TRACK})(E1(e));case l1.name:return Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.PANEL,attributes:{inputMethod:t,panelType:vr.a.INFO},eventType:wt.e.TRACK})(E1(e));default:return E1(e)}};function S1(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,c=t.schema.marks,s=c.alignment,u=c.indentation;r=Object(Cp.c)(t,[s,u])||r;var l=i.blockRange(a),d=l&&Object(pt.k)(l,e);return l&&d?r.wrap(l,d).scrollIntoView():Object(Qi.safeInsert)(e.createAndFill())(r).scrollIntoView(),n&&n(r),!0}}var j1=function(e,t){var n=e.selection.$cursor;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){var r=e.tr,o=e.schema.nodes.paragraph,i=n.parent;return r.setNodeMarkup(0,o,i.attrs,[]),t&&t(r),!0}return!1},C1=n(140);function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T1(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A1=function(e,t){switch(e){case t1:return!!t.schema.nodes.paragraph;case n1:case r1:case o1:case i1:case a1:case c1:return!!t.schema.nodes.heading;case s1:return!!t.schema.nodes.blockquote;case u1:return!!t.schema.nodes.codeBlock;case l1:return!!t.schema.nodes.panel}},P1=function(e,t){if(!t.selection)return t1;var n,r=t.selection,o=r.$from,i=r.$to;return t.doc.nodesBetween(o.pos,i.pos,(function(r){var o=e.filter((function(e){return e===function(e,t){if(e.type===t.nodes.heading){var n=h1[e.attrs.level];if(n)return n}else if(e.type===t.nodes.paragraph)return t1;return d1}(r,t.schema)}));o.length>0&&(n?n!==d1&&n!==o[0]&&(n=d1):n=o[0])})),n||d1},I1=function(e,t){return 0===e?O1(wt.f.FORMATTING)(t.state,t.dispatch):k1(e,wt.f.FORMATTING)(t.state,t.dispatch),!0},M1=new dt.PluginKey("blockTypePlugin"),R1=n(231),N1=n(1215),D1=function(){return function(e,t){return t&&t(e.tr.setMeta(lW,{isElementBrowserModalOpen:!0})),!0}},L1=function(){return function(e,t){return t&&t(e.tr.setMeta(lW,{isElementBrowserModalOpen:!1})),!0}},B1=function(e){return function(t,n){var r=e.action((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qv(e,n)(t,t.tr,t.selection.head)}),t);return r&&n&&n(r),!0}};function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F1(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U1(e,t){return function(n,r){var o=n.schema.nodes.emoji;if(o&&e){var i=o.createChecked(z1(z1({},e),{},{text:e.fallback||e.shortName})),a=n.schema.text(" ");if(r){var c=ya.Fragment.fromArray([i,a]),s=Object(Qi.safeInsert)(c)(n.tr);t&&Object(Ot.a)(n,s,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.EMOJI,attributes:{inputMethod:t},eventType:wt.e.TRACK}),r(s.setSelection(dt.Selection.near(s.doc.resolve(n.selection.$from.pos+c.size))))}return!0}return!1}}var H1=n(481),W1=n.n(H1),V1=["macro-browser","slash-onboarding"],q1=function(e){return"string"==typeof e.content&&e.content.includes("macro")},G1=n(735),K1=n.n(G1),$1=n(322),Y1=n.n($1),X1=n(398),J1=n.n(X1),Z1=n(734),Q1=n.n(Z1),e2=n(739),t2=n.n(e2),n2=n(740),r2=n.n(n2),o2=n(668),i2=n.n(o2),a2=n(738),c2=n.n(a2),s2=n(736),u2=n.n(s2),l2=n(737),d2=n.n(l2),f2=function(e,t){var n=mr()(e,1)[0],r=mr()(t,1)[0],o=n,i=r;return!Object.keys(o).some((function(e){var t=e;return o[t]!==i[t]}))},p2=function(e){return{content:e.content,tooltipDescription:e.tooltipDescription,value:{name:e.name},elemBefore:Object(T.d)(e.Icon,{label:e.content}),elemAfter:e.shortcut?Object(T.d)("div",{css:xn.i},e.shortcut):void 0,"aria-label":e.content,"aria-haspopup":e["aria-haspopup"],shortcut:e.shortcut,isDisabled:e.disabled}},h2=function(e){return Object(P.a)(e,f2)},m2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"action",shortcut:"[]",Icon:VH.a})})),v2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"link",shortcut:Object(nu.tooltip)(nu.addLink),Icon:qj.a,"aria-haspopup":e["aria-haspopup"]})})),b2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"media",Icon:Y1.a})})),g2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"image upload",Icon:Y1.a})})),y2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"mention",Icon:AT.a,shortcut:"@","aria-haspopup":e["aria-haspopup"]})})),O2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"emoji",Icon:Q1.a,shortcut:":","aria-haspopup":e["aria-haspopup"]})})),w2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"table",Icon:K1.a,shortcut:Object(nu.tooltip)(nu.toggleTable)})})),k2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"layout",Icon:D$.a})})),E2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"codeblock",Icon:u2.a,shortcut:e.shortcut})})),x2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"panel",Icon:FV.a,shortcut:e.shortcut})})),S2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"blockquote",Icon:d2.a,shortcut:e.shortcut})})),j2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"decision",Icon:WU.a,shortcut:"<>"})})),C2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"horizontalrule",Icon:c2.a,shortcut:"---"})})),T2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"expand",Icon:i2.a})})),_2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"date",Icon:t2.a,shortcut:"//"})})),A2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"placeholder text",Icon:function(){return Object(T.d)(DK.a,{label:""})}})})),P2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"status",Icon:r2.a})})),I2=h2((function(e){return p2({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"macro",Icon:function(){return Object(T.d)(J1.a,{label:""})}})}));function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M2(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N2=W1()((function(e){return R2(R2({},e),{},{title:i.a.createElement(nu.ToolTipContent,{description:e.content,shortcutOverride:e.shortcut})})})),D2=Object(P.a)((function(e){return W1()((function(t){return R2(R2({},t),{},{title:i.a.createElement(nu.ToolTipContent,{description:e,shortcutOverride:"/"})})}))})),L2=Object(P.a)((function(e){var t=e.isTypeAheadAllowed,n=e.tableSupported,r=e.mediaUploadsEnabled,o=e.mediaSupported,i=e.imageUploadSupported,a=e.imageUploadEnabled,c=e.mentionsSupported,s=e.availableWrapperBlockTypes,u=e.actionSupported,l=e.decisionSupported,d=e.showElementBrowserLink,f=e.linkSupported,p=e.linkDisabled,h=e.emojiDisabled,m=e.emojiProvider,v=e.nativeStatusSupported,b=e.insertMenuItems,g=e.dateEnabled,y=e.placeholderTextEnabled,O=e.horizontalRuleEnabled,w=e.layoutSectionEnabled,k=e.expandEnabled,E=e.numberOfButtons,x=e.schema,S=e.formatMessage,j=e.isNewMenuEnabled,C=[];if(u&&C.push(m2({content:S(Gv.a.action),tooltipDescription:S(Gv.a.actionDescription),disabled:!1})),f&&C.push(v2({content:S(Gv.a.link),tooltipDescription:S(Gv.a.linkDescription),disabled:!!p,"aria-haspopup":"dialog"})),o&&r&&C.push(b2({content:S(Gv.a.filesAndImages),tooltipDescription:S(Gv.a.filesAndImagesDescription),disabled:!1})),i&&C.push(g2({content:S(Gv.a.image),disabled:!a})),c&&C.push(y2({content:S(Gv.a.mention),tooltipDescription:S(Gv.a.mentionDescription),disabled:!t,"aria-haspopup":"listbox"})),m&&C.push(O2({content:S(Gv.a.emoji),tooltipDescription:S(Gv.a.emojiDescription),disabled:h||!t,"aria-haspopup":"dialog"})),n&&C.push(w2({content:S(Gv.a.table),tooltipDescription:S(Gv.a.tableDescription),disabled:!1})),w){var T=S(Gv.a.columns);C.push(k2({content:T,tooltipDescription:S(Gv.a.columnsDescription),disabled:!1}))}var _=s||[],A=_.find((function(e){return"codeblock"===e.name})),P=_.find((function(e){return"panel"===e.name})),I=_.find((function(e){return"blockquote"===e.name}));if(A&&C.push(E2({content:S(A.title),tooltipDescription:S(lq.a.codeblockDescription),disabled:!1,shortcut:"```"})),P&&C.push(x2({content:S(P.title),tooltipDescription:S(lq.a.infoPanelDescription),disabled:!1})),I&&C.push(S2({content:S(I.title),tooltipDescription:S(lq.a.blockquoteDescription),disabled:!1,shortcut:">"})),l&&C.push(j2({content:S(Gv.a.decision),tooltipDescription:S(Gv.a.decisionDescription),disabled:!1})),O&&x.nodes.rule&&C.push(C2({content:S(Gv.a.horizontalRule),tooltipDescription:S(Gv.a.horizontalRuleDescription),disabled:!1})),k&&x.nodes.expand&&C.push(T2({content:S(Gv.a.expand),tooltipDescription:S(Gv.a.expandDescription),disabled:!1})),g){var M=S(Gv.a.date);C.push(_2({content:M,tooltipDescription:S(Gv.a.dateDescription),disabled:!1}))}if(y&&C.push(A2({content:S(Gv.a.placeholderText),disabled:!1})),v){var R=S(Gv.a.status);C.push(P2({content:R,tooltipDescription:S(Gv.a.statusDescription),disabled:!1}))}b&&C.push.apply(C,D()(b)),d&&C.push(I2({content:S(Gv.a.viewMore),disabled:!1}));var N=C.slice(0,E).map(N2),L=C.slice(E);return[N,(j?L:function(e){return e.sort((function(e,t){return V1.includes(e.value.name)&&V1.includes(t.value.name)?V1.indexOf(e.value.name)-V1.indexOf(t.value.name):V1.includes(t.value.name)?-1:V1.includes(e.value.name)||q1(e)&&!q1(t)?1:q1(t)&&!q1(e)||e.content<t.content?-1:1}))}(L)).map(D2(S(Gv.a.insertMenu)))]}),f2),B2=n(1069);function F2(e){return Array.isArray?Array.isArray(e):"[object Array]"===G2(e)}function z2(e){return"string"==typeof e}function U2(e){return"number"==typeof e}function H2(e){return!0===e||!1===e||function(e){return W2(e)&&null!==e}(e)&&"[object Boolean]"==G2(e)}function W2(e){return"object"==typeof e}function V2(e){return null!=e}function q2(e){return!e.trim().length}function G2(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const K2=Object.prototype.hasOwnProperty;class $2{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=Y2(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Y2(e){let t=null,n=null,r=null,o=1,i=null;if(z2(e)||F2(e))r=e,t=X2(e),n=J2(e);else{if(!K2.call(e,"name"))throw new Error((e=>`Missing ${e} property in key`)("name"));const a=e.name;if(r=a,K2.call(e,"weight")&&(o=e.weight,o<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(a));t=X2(a),n=J2(a),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function X2(e){return F2(e)?e:e.split(".")}function J2(e){return F2(e)?e.join("."):e}var Z2={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const o=(e,t,i)=>{if(V2(e))if(t[i]){const a=e[t[i]];if(!V2(a))return;if(i===t.length-1&&(z2(a)||U2(a)||H2(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(F2(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)o(a[e],t,i+1)}else t.length&&o(a,t,i+1)}else n.push(e)};return o(e,z2(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const Q2=/[^ ]+/g;class e3{constructor({getFn:e=Z2.getFn,fieldNormWeight:t=Z2.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(Q2).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,z2(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();z2(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!V2(e)||q2(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(V2(o))if(F2(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(V2(r))if(z2(r)&&!q2(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else F2(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}n.$[r]=e}else if(z2(o)&&!q2(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function t3(e,t,{getFn:n=Z2.getFn,fieldNormWeight:r=Z2.fieldNormWeight}={}){const o=new e3({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(Y2)),o.setSources(t),o.create(),o}function n3(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=Z2.distance,ignoreLocation:i=Z2.ignoreLocation}={}){const a=t/e.length;if(i)return a;const c=Math.abs(r-n);return o?a+c/o:c?1:a}function r3(e,t,n,{location:r=Z2.location,distance:o=Z2.distance,threshold:i=Z2.threshold,findAllMatches:a=Z2.findAllMatches,minMatchCharLength:c=Z2.minMatchCharLength,includeMatches:s=Z2.includeMatches,ignoreLocation:u=Z2.ignoreLocation}={}){if(t.length>32)throw new Error(`Pattern length exceeds max of ${32}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let p=i,h=f;const m=c>1||s,v=m?Array(d):[];let b;for(;(b=e.indexOf(t,h))>-1;){let e=n3(t,{currentLocation:b,expectedLocation:f,distance:o,ignoreLocation:u});if(p=Math.min(e,p),h=b+l,m){let e=0;for(;e<l;)v[b+e]=1,e+=1}}h=-1;let g=[],y=1,O=l+d;const w=1<<l-1;for(let r=0;r<l;r+=1){let i=0,c=O;for(;i<c;){n3(t,{errors:r,currentLocation:f+c,expectedLocation:f,distance:o,ignoreLocation:u})<=p?i=c:O=c,c=Math.floor((O-i)/2+i)}O=c;let s=Math.max(1,f-c+1),b=a?d:Math.min(f+c,d)+l,k=Array(b+2);k[b+1]=(1<<r)-1;for(let i=b;i>=s;i-=1){let a=i-1,c=n[e.charAt(a)];if(m&&(v[a]=+!!c),k[i]=(k[i+1]<<1|1)&c,r&&(k[i]|=(g[i+1]|g[i])<<1|1|g[i+1]),k[i]&w&&(y=n3(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:u}),y<=p)){if(p=y,h=a,h<=f)break;s=Math.max(1,2*f-h)}}if(n3(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:u})>p)break;g=k}const k={isMatch:h>=0,score:Math.max(.001,y)};if(m){const e=function(e=[],t=Z2.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(v,c);e.length?s&&(k.indices=e):k.isMatch=!1}return k}function o3(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class i3{constructor(e,{location:t=Z2.location,threshold:n=Z2.threshold,distance:r=Z2.distance,includeMatches:o=Z2.includeMatches,findAllMatches:i=Z2.findAllMatches,minMatchCharLength:a=Z2.minMatchCharLength,isCaseSensitive:c=Z2.isCaseSensitive,ignoreLocation:s=Z2.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:s},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:o3(e),startIndex:t})},l=this.pattern.length;if(l>32){let e=0;const t=l%32,n=l-t;for(;e<n;)u(this.pattern.substr(e,32),e),e+=32;if(t){const e=l-32;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,ignoreLocation:s}=this.options;let u=[],l=0,d=!1;this.chunks.forEach(({pattern:t,alphabet:f,startIndex:p})=>{const{isMatch:h,score:m,indices:v}=r3(e,t,f,{location:r+p,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:s});h&&(d=!0),l+=m,h&&v&&(u=[...u,...v])});let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=u),f}}class a3{constructor(e){this.pattern=e}static isMultiMatch(e){return c3(e,this.multiRegex)}static isSingleMatch(e){return c3(e,this.singleRegex)}search(){}}function c3(e,t){const n=e.match(t);return n?n[1]:null}class s3 extends a3{constructor(e,{location:t=Z2.location,threshold:n=Z2.threshold,distance:r=Z2.distance,includeMatches:o=Z2.includeMatches,findAllMatches:i=Z2.findAllMatches,minMatchCharLength:a=Z2.minMatchCharLength,isCaseSensitive:c=Z2.isCaseSensitive,ignoreLocation:s=Z2.ignoreLocation}={}){super(e),this._bitapSearch=new i3(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class u3 extends a3{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const l3=[class extends a3{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},u3,class extends a3{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends a3{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends a3{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends a3{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends a3{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},s3],d3=l3.length,f3=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const p3=new Set([s3.type,u3.type]);class h3{constructor(e,{isCaseSensitive:t=Z2.isCaseSensitive,includeMatches:n=Z2.includeMatches,minMatchCharLength:r=Z2.minMatchCharLength,ignoreLocation:o=Z2.ignoreLocation,findAllMatches:i=Z2.findAllMatches,location:a=Z2.location,threshold:c=Z2.threshold,distance:s=Z2.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:c,distance:s},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split(f3).filter(e=>e&&!!e.trim()),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<d3;){const e=l3[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<d3;){const e=l3[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,c=t.length;r<c;r+=1){const c=t[r];i.length=0,o=0;for(let t=0,r=c.length;t<r;t+=1){const r=c[t],{isMatch:s,indices:u,score:l}=r.search(e);if(!s){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;p3.has(e)?i=[...i,...u]:i.push(u)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const m3=[];function v3(e,t){for(let n=0,r=m3.length;n<r;n+=1){let r=m3[n];if(r.condition(e,t))return new r(e,t)}return new i3(e,t)}const b3="$and",g3="$or",y3="$path",O3="$val",w3=e=>!(!e[b3]&&!e[g3]),k3=e=>({[b3]:Object.keys(e).map(t=>({[t]:e[t]}))});function E3(e,t,{auto:n=!0}={}){const r=e=>{let o=Object.keys(e);const i=(e=>!!e[y3])(e);if(!i&&o.length>1&&!w3(e))return r(k3(e));if((e=>!F2(e)&&W2(e)&&!w3(e))(e)){const r=i?e[y3]:o[0],a=i?e[O3]:e[r];if(!z2(a))throw new Error((e=>"Invalid value for key "+e)(r));const c={keyId:J2(r),pattern:a};return n&&(c.searcher=v3(a,t)),c}let a={children:[],operator:o[0]};return o.forEach(t=>{const n=e[t];F2(n)&&n.forEach(e=>{a.children.push(r(e))})}),a};return w3(e)||(e=k3(e)),r(e)}function x3(e,t){const n=e.matches;t.matches=[],V2(n)&&n.forEach(e=>{if(!V2(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)})}function S3(e,t){t.score=e.score}class j3{constructor(e,t={},n){this.options={...Z2,...t},this.options.useExtendedSearch,this._keyStore=new $2(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof e3))throw new Error("Incorrect 'index' type");this._myIndex=t||t3(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){V2(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=z2(e)?z2(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Z2.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))}),e.score=n})}(c,{ignoreFieldNorm:a}),o&&c.sort(i),U2(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=Z2.includeMatches,includeScore:r=Z2.includeScore}={}){const o=[];return n&&o.push(x3),r&&o.push(S3),e.map(e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach(t=>{t(e,r)}),r})}(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=v3(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:o})=>{if(!V2(e))return;const{isMatch:i,score:a,indices:c}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:c}]})}),r}_searchLogical(e){const t=E3(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],c=n(a,t,r);if(c.length)o.push(...c);else if(e.operator===b3)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach(({$:e,i:r})=>{if(V2(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach(({matches:e})=>{o[r].matches.push(...e)}))}}),i}_searchObjectList(e){const t=v3(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:e,i:r})=>{if(!V2(e))return;let i=[];n.forEach((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),i.length&&o.push({idx:r,item:e,matches:i})}),o}_findMatches({key:e,value:t,searcher:n}){if(!V2(t))return[];let r=[];if(F2(t))t.forEach(({v:t,i:o,n:i})=>{if(!V2(t))return;const{isMatch:a,score:c,indices:s}=n.searchIn(t);a&&r.push({score:c,key:e,value:t,idx:o,norm:i,indices:s})});else{const{v:o,n:i}=t,{isMatch:a,score:c,indices:s}=n.searchIn(o);a&&r.push({score:c,key:e,value:o,norm:i,indices:s})}return r}}j3.version="6.6.2",j3.createIndex=t3,j3.parseIndex=function(e,{getFn:t=Z2.getFn,fieldNormWeight:n=Z2.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new e3({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},j3.config=Z2,j3.parseQuery=E3,function(...e){m3.push(...e)}(h3);var C3={threshold:.3,keys:[{name:"title",weight:.57},{name:"priority",weight:.3},{name:"keywords",weight:.08},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};var T3,_3,A3,P3,I3,M3,R3=function(e,t){return function(n,r){var o=t&&t.disableDefaultItems?[]:e.lazyDefaultItems(),i=e.providedItems,a=i?Object(wa.f)([].concat(D()(o),D()(i)),(function(e){return e.title})):o;return function(e,t){var n=new j3(t,C3);return""===e?t.slice(0).sort((function(e,t){return(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY)})):n.search(e).map((function(e){return e.item}))}(n||"","all"!==r&&r?a.filter((function(e){return e.categories&&e.categories.includes(r)})):a)}},N3=Object(T.c)(T3||(T3=S()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),D3=gv()({loader:function(){return n.e(151).then(n.bind(null,2101)).then((function(e){return e.default}))},loading:function(){return Object(T.d)("div",{css:N3},Object(T.d)(Vx.a,{size:"medium"}))}}),L3=n(267),B3=["children"],F3=function(e){var t=e.item;return Object(T.d)(uZ.a,{hasSeparator:!0},Object(T.d)(B2.a,{onClick:t.action,iconBefore:Object(T.d)("div",{css:H3},t.icon()),"aria-describedby":t.title,"data-testid":"view-more-elements-item",css:Object(T.c)(_3||(_3=S()(["\n          padding: 0px 12px;\n        "])))},t.title))},z3=function(e){var t=e.name,n={codeblock:wv,panel:Dv,blockquote:Lv,decision:Ev,horizontalrule:xv,expand:Wv,date:kv,status:Bv}[t];return n?Object(T.d)(n,{label:""}):void 0},U3=function(e,t){return Object(T.c)(A3||(A3=S()(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n"])),function(e){var t=e.itemCount;return t>0&&t<6?t*L3.b+112:560}({itemCount:t}),Object(Zn.a)({light:Object(ot.a)("elevation.surface.overlay",Ce.N0),dark:Object(ot.a)("elevation.surface.overlay",Ce.DN50)})(e),Object(Ze.d)(),Object(ot.a)("elevation.shadow.overlay","0 0 0 1px ".concat(Ce.N30A,",\n    0 2px 1px ").concat(Ce.N30A,",\n    0 0 20px -6px ").concat(Ce.N60A)))},H3=Object(T.c)(P3||(P3=S()(["\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: ","px;\n"])),Object(Ze.i)()/2),W3=Object(T.c)(I3||(I3=S()(["\n  display: flex;\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n"]))),V3=Object(MF.a)((function(e){var t=e.children,n=wo()(e,B3);return Object(T.d)("div",_e()({css:W3},n),t)})),q3=function(e){var t=e.editorView,n=e.dropdownItems,r=e.onInsert,i=e.toggleVisiblity,a=Object(o.useState)(0),c=mr()(a,2),s=c[0],u=c[1],l=Object(o.useCallback)((function(e){return{title:e.content,description:e.tooltipDescription,keyshortcut:e.shortcut,icon:function(){return z3({name:e.value.name})||e.elemBefore},action:function(){return r({item:e})},onClick:e.onClick,value:e.value}}),[r]),d=n.map(l),f=d.pop(),p=Object(o.useCallback)((function(e){i(),t.hasFocus()||t.focus(),B1(e)(t.state,t.dispatch)}),[t,i]),h=Object(o.useCallback)((function(e){return function(t,n){var r;return r=t?R3(e,{})(t,n):d.concat(function(e,t){var n=e.providedItems,r=e.lazyDefaultItems;return function(){var e=t&&t.disableDefaultItems?[]:r();return(n?Object(wa.f)([].concat(D()(e),D()(n)),(function(e){return e.title})):e).filter((function(e){return e.featured}))}}(e,{})()),u(r.length),r}}),[d]),m=Object(o.useCallback)((function(e){var t=e.quickInsertState;return Object(T.d)(V3,{handleClickOutside:i,handleEscapeKeydown:i},Object(T.d)(D3,{mode:"inline",getItems:h(t),emptyStateHandler:null==t?void 0:t.emptyStateHandler,onInsertItem:p,showSearch:!0,showCategories:!1,key:d.length}))}),[h,p,d.length,i]);return Object(T.d)("div",{css:function(e){return U3(e,s)}},Object(T.d)(Xa.a,{plugins:{quickInsertState:lW},render:m}),s>0&&f&&Object(T.d)(F3,{item:f}))},G3=Object(T.c)(M3||(M3=S()(["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"]))),K3=i.a.memo((function(e){return Object(T.d)("span",{css:G3},Object(T.d)(Vc.a,{label:e.label}),Object(T.d)("span",{css:xn.f},Object(T.d)(Of.a,{label:""})))})),$3=i.a.memo((function(e){return Object(T.d)(qc.b,{ref:e.handleRef,selected:e.selected,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-label":e.label,iconBefore:Object(T.d)(K3,{label:""}),title:Object(T.d)(nu.ToolTipContent,{description:e.label,shortcutOverride:"/"})})})),Y3=function(e){return i.a.createElement(i.a.Fragment,null,e.open&&i.a.createElement(Hd.a,{target:e.plusButtonRef,fitHeight:500,fitWidth:350,offset:[0,3],mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement},i.a.createElement(q3,{editorView:e.editorView,dropdownItems:e.items,onInsert:e.onInsert,toggleVisiblity:e.togglePlusMenuVisibility})),i.a.createElement($3,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label}))},X3=function(e){var t=e.items,n=i.a.useMemo((function(){return[{items:t}]}),[t]);return i.a.createElement(FF,{items:n,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,isOpen:e.open,fitHeight:188,fitWidth:175,zIndex:he.y},i.a.createElement($3,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label}))},J3=function(e){return 0===e.items.length?null:e.disabled?i.a.createElement("div",null,i.a.createElement($3,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label})):e.replacePlusMenuWithElementBrowser?i.a.createElement(Y3,{disabled:e.disabled,editorView:e.editorView,items:e.items,label:e.label,onClick:e.onClick,onInsert:e.onInsert,onRef:e.onPlusButtonRef,open:e.open,plusButtonRef:e.plusButtonRef,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing,togglePlusMenuVisibility:e.togglePlusMenuVisibility}):i.a.createElement(X3,{disabled:e.disabled,items:e.items,label:e.label,onClick:e.onClick,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,onRef:e.onRef,open:e.open,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing})};function Z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z3(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e5(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var t5=function(e){return!document.body.contains(e)},n5=function(){},r5=Object(MF.a)(N1.a),o5=function(e){b()(n,e);var t=e5(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,buttons:[],dropdownItems:[]}),E()(m()(e),"onOpenChange",(function(t){var n={isPlusMenuOpen:t.isPlusMenuOpen,emojiPickerOpen:e.state.emojiPickerOpen};e.state.emojiPickerOpen&&!t.open&&(n.emojiPickerOpen=!1),e.setState(n,(function(){var t=e.props.dispatchAnalyticsEvent;if(t)return t(e.state.isPlusMenuOpen?{action:wt.a.OPENED,actionSubject:wt.b.PLUS_MENU,eventType:wt.e.UI}:{action:wt.a.CLOSED,actionSubject:wt.b.PLUS_MENU,eventType:wt.e.UI})}))})),E()(m()(e),"togglePlusMenuVisibility",(function(){var t=e.state.isPlusMenuOpen;e.onOpenChange({isPlusMenuOpen:!t})})),E()(m()(e),"toggleEmojiPicker",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt.f.TOOLBAR;e.setState((function(e){return{emojiPickerOpen:!e.emojiPickerOpen}}),(function(){if(e.state.emojiPickerOpen){var n=e.props.dispatchAnalyticsEvent;n&&n({action:wt.a.OPENED,actionSubject:wt.b.PICKER,actionSubjectId:wt.c.PICKER_EMOJI,attributes:{inputMethod:t},eventType:wt.e.UI})}}))})),E()(m()(e),"handleEmojiPressEscape",(function(){e.toggleEmojiPicker(wt.f.KEYBOARD)})),E()(m()(e),"handleEmojiClickOutside",(function(t){t.target&&!t5(t.target)&&e.toggleEmojiPicker(wt.f.TOOLBAR)})),E()(m()(e),"handleEmojiButtonRef",(function(t){var n=c.a.findDOMNode(t);n&&(e.emojiButtonRef=n)})),E()(m()(e),"handlePlusButtonRef",(function(t){var n=c.a.findDOMNode(t);n&&(e.plusButtonRef=n)})),E()(m()(e),"handleDropDownButtonRef",(function(t){var n=c.a.findDOMNode(t);n&&(e.dropdownButtonRef=n)})),E()(m()(e),"toggleLinkPanel",(function(t){var n=e.props.editorView;return AJ(t)(n.state,n.dispatch),!0})),E()(m()(e),"insertMention",(function(t){var n=e.props.editorView;return!n||(JT(n).openMention(t),!0)})),E()(m()(e),"insertTable",(function(t){var n=e.props.editorView;return Object(Ot.c)({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.TABLE,attributes:{inputMethod:t},eventType:wt.e.TRACK})(UN())(n.state,n.dispatch)})),E()(m()(e),"createDate",(function(t){var n=e.props.editorView;return mK(void 0,t)(n.state,n.dispatch),!0})),E()(m()(e),"createPlaceholderText",(function(){var t=e.props.editorView;return KK(t.state,t.dispatch),!0})),E()(m()(e),"insertLayoutColumns",(function(t){var n=e.props.editorView;return h$(t)(n.state,n.dispatch),!0})),E()(m()(e),"createStatus",(function(t){var n=e.props.editorView;return vQ(t)(n.state,n.dispatch),!0})),E()(m()(e),"openMediaPicker",(function(t){var n=e.props,r=n.onShowMediaPicker,o=n.dispatchAnalyticsEvent;return r&&(r(),o&&o({action:wt.a.OPENED,actionSubject:wt.b.PICKER,actionSubjectId:wt.c.PICKER_CLOUD,attributes:{inputMethod:t},eventType:wt.e.UI})),!0})),E()(m()(e),"insertTaskDecision",(function(t,n){return function(){var r=e.props.editorView,o=r.state,i=r.dispatch;return oU("action"===t?"taskList":"decisionList",n)(o,i)}})),E()(m()(e),"insertHorizontalRule",(function(t){var n=e.props.editorView,r=n.state,o=n.dispatch;return ob(t)(r,o)})),E()(m()(e),"insertExpand",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;return dg(n,r)})),E()(m()(e),"insertBlockType",(function(t){return function(){var n=e.props,r=n.editorView,o=n.onInsertBlockType,i=r.state,a=r.dispatch;return o(t)(i,a),!0}})),E()(m()(e),"handleSelectedEmoji",(function(t){return e.props.editorView.focus(),U1(t,wt.f.PICKER)(e.props.editorView.state,e.props.editorView.dispatch),e.toggleEmojiPicker(),!0})),E()(m()(e),"openElementBrowser",(function(){D1()(e.props.editorView.state,e.props.editorView.dispatch)})),E()(m()(e),"onItemActivated",(function(t){var n=t.item,r=t.inputMethod,o=e.props,i=o.editorView,a=o.editorActions,c=o.handleImageUpload,s=o.expandEnabled;switch(i.hasFocus()||i.focus(),n.value.name){case"link":e.toggleLinkPanel(r);break;case"table":e.insertTable(r);break;case"image upload":if(c){var u=i.state,l=i.dispatch;c()(u,l)}break;case"media":e.openMediaPicker(r);break;case"mention":e.insertMention(r);break;case"emoji":e.toggleEmojiPicker(r);break;case"codeblock":case"blockquote":case"panel":e.insertBlockType(n.value.name)();break;case"action":case"decision":e.insertTaskDecision(n.value.name,r)();break;case"horizontalrule":e.insertHorizontalRule(r);break;case"macro":e.openElementBrowser();break;case"date":e.createDate(r);break;case"placeholder text":e.createPlaceholderText();break;case"layout":e.insertLayoutColumns(r);break;case"status":e.createStatus(r);break;case"expand":if(s){e.insertExpand();break}default:if(n&&n.onClick){n.onClick(a);break}}e.setState({isPlusMenuOpen:!1})})),E()(m()(e),"insertToolbarMenuItem",(function(t){return e.onItemActivated({item:t,inputMethod:wt.f.TOOLBAR})})),E()(m()(e),"insertInsertMenuItem",(function(t){var n=t.item;return e.onItemActivated({item:n,inputMethod:wt.f.INSERT_MENU})})),e}return p()(n,[{key:"componentDidUpdate",value:function(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})}},{key:"renderPopup",value:function(){var e=this.state.emojiPickerOpen,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.emojiProvider,a=t.replacePlusMenuWithElementBrowser,c=this.state.dropdownItems.some((function(e){return"emoji"===e.value.name})),s=a?this.plusButtonRef:this.dropdownButtonRef,u=c?s:this.emojiButtonRef;return e&&u&&i?Object(T.d)(Hd.a,{target:u,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:n,boundariesElement:r,scrollableElement:o},Object(T.d)(r5,{emojiProvider:i,onSelection:this.handleSelectedEmoji,handleClickOutside:this.handleEmojiClickOutside,handleEscapeKeydown:this.handleEmojiPressEscape})):null}},{key:"render",value:function(){var e,t,n=this,r=this.state,o=r.buttons,i=r.dropdownItems,a=this.props,c=a.isDisabled,s=a.isReducedSpacing;return 0===o.length&&0===i.length?null:Object(T.d)("span",{css:xn.c},o.map((function(e){return Object(T.d)(qc.b,{item:e,ref:"emoji"===e.value.name?n.handleEmojiButtonRef:n5,key:e.value.name,spacing:s?"none":"default",disabled:c||e.isDisabled,iconBefore:e.elemBefore,selected:e.isActive,title:e.title,"aria-label":e["aria-label"],"aria-haspopup":e["aria-haspopup"],onItemClick:n.insertToolbarMenuItem})})),Object(T.d)("span",{css:xn.l},this.renderPopup(),Object(T.d)(J3,{popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,disabled:null!==(e=this.props.isDisabled)&&void 0!==e&&e,editorView:this.props.editorView,spacing:this.props.isReducedSpacing?"none":"default",label:this.props.intl.formatMessage(Gv.a.insertMenu),open:this.state.isPlusMenuOpen,plusButtonRef:this.plusButtonRef,items:this.state.dropdownItems,onRef:this.handleDropDownButtonRef,onPlusButtonRef:this.handlePlusButtonRef,onClick:this.togglePlusMenuVisibility,onItemActivated:this.insertInsertMenuItem,onInsert:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,togglePlusMenuVisibility:this.togglePlusMenuVisibility,replacePlusMenuWithElementBrowser:null!==(t=this.props.replacePlusMenuWithElementBrowser)&&void 0!==t&&t})),this.props.showSeparator&&Object(T.d)("span",{css:xn.h}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=L2({isTypeAheadAllowed:e.isTypeAheadAllowed,tableSupported:e.tableSupported,mediaUploadsEnabled:e.mediaUploadsEnabled,mediaSupported:e.mediaSupported,imageUploadSupported:e.imageUploadSupported,imageUploadEnabled:e.imageUploadEnabled,mentionsSupported:e.mentionsSupported,actionSupported:e.actionSupported,decisionSupported:e.decisionSupported,linkSupported:e.linkSupported,linkDisabled:e.linkDisabled,emojiDisabled:e.emojiDisabled,nativeStatusSupported:e.nativeStatusSupported,dateEnabled:e.dateEnabled,placeholderTextEnabled:e.placeholderTextEnabled,horizontalRuleEnabled:e.horizontalRuleEnabled,layoutSectionEnabled:e.layoutSectionEnabled,expandEnabled:e.expandEnabled,macroProvider:e.macroProvider,showElementBrowserLink:e.showElementBrowserLink,emojiProvider:e.emojiProvider,availableWrapperBlockTypes:e.availableWrapperBlockTypes,insertMenuItems:e.insertMenuItems,schema:e.editorView.state.schema,numberOfButtons:e.buttons,formatMessage:e.intl.formatMessage,isNewMenuEnabled:e.replacePlusMenuWithElementBrowser}),r=mr()(n,2),o=r[0],i=r[1];return Q3(Q3({},t),{},{buttons:o,dropdownItems:i})}}]),n}(i.a.PureComponent),i5=Object(Ji.c)(o5),a5=function(e){switch(e){case ku.XXL:case ku.XL:case ku.L:case ku.M:return 7;case ku.S:return 2;default:return 0}};function c5(e){return x1(e,wt.f.TOOLBAR)}var s5,u5,l5=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"insertBlock",primaryToolbarComponent:function(t){var n=t.editorView,r=t.editorActions,o=t.dispatchAnalyticsEvent,a=t.providerFactory,c=t.popupsMountPoint,s=t.popupsBoundariesElement,u=t.popupsScrollableElement,l=t.toolbarSize,d=t.disabled,f=t.isToolbarReducedSpacing,p=t.isLastItem,h=a5(l);return i.a.createElement(Ak.a,{providerFactory:a,providers:["emojiProvider"],renderNode:function(t){return i.a.createElement(Xa.a,{plugins:{typeAheadState:yT,blockTypeState:M1,mediaState:Yl.a,mentionState:bA,macroState:EG.a,hyperlinkState:wJ,emojiState:XP,dateState:pK,imageUpload:jW,placeholderTextState:GK,layoutState:r$},render:function(a){var m=a.mentionState,v=a.blockTypeState,b=a.mediaState,g=a.macroState,y=void 0===g?{}:g,O=a.hyperlinkState,w=a.emojiState,k=a.dateState,E=a.imageUpload,x=a.placeholderTextState,S=a.layoutState;return i.a.createElement(i5,{buttons:h,isReducedSpacing:f,isDisabled:d,isTypeAheadAllowed:jT(n.state),editorView:n,tableSupported:!!n.state.schema.nodes.table,actionSupported:!!n.state.schema.nodes.taskItem,mentionsSupported:!(!m||!m.mentionProvider),decisionSupported:!!n.state.schema.nodes.decisionItem,dateEnabled:!!k,placeholderTextEnabled:x&&x.allowInserting,layoutSectionEnabled:!!S,expandEnabled:!!e.allowExpand,mediaUploadsEnabled:b&&b.allowsUploads,onShowMediaPicker:b&&b.showMediaPicker,mediaSupported:!!b,imageUploadSupported:!!E,imageUploadEnabled:E&&E.enabled,handleImageUpload:TW,availableWrapperBlockTypes:v&&v.availableWrapperBlockTypes,linkSupported:!!O,linkDisabled:!O||!O.canInsertLink||!!O.activeLinkMark,emojiDisabled:!w||!w.emojiProvider,emojiProvider:t.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:c5,onInsertMacroFromMacroBrowser:R1.a,macroProvider:y.macroProvider,popupsMountPoint:c,popupsBoundariesElement:s,popupsScrollableElement:u,insertMenuItems:e.insertMenuItems,editorActions:r,dispatchAnalyticsEvent:o,replacePlusMenuWithElementBrowser:e.replacePlusMenuWithElementBrowser,showElementBrowserLink:e.showElementBrowserLink,showSeparator:!p&&l<=ku.S})}})}})}}},d5=function(e){return{name:"beforePrimaryToolbar",primaryToolbarComponent:function(){return i.a.createElement(Mu,{beforePrimaryToolbarComponents:e.beforePrimaryToolbarComponents})}}},f5=Object(ko.b)({editors:{id:"fabric.editor.editors",defaultMessage:"Editors",description:"classifying the people that are currently editing the document"}}),p5=Object(T.c)(s5||(s5=S()(["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 0;\n  align-items: center;\n  & > div {\n    margin-right: 0;\n  }\n"]))),h5=Object(T.c)(u5||(u5=S()(["\n  ","\n  flex-grow: 1;\n"])),p5),m5=function(e){var t=e.dispatchAnalyticsEvent,n=Object(Cf.a)();return Object(o.useEffect)((function(){t&&t({action:wt.a.VIEWED,actionSubject:wt.b.BUTTON,actionSubjectId:wt.c.AVATAR_GROUP_PLUGIN,eventType:wt.e.UI})}),[t]),Object(T.d)("div",{"aria-label":n.formatMessage(f5.editors),"data-testid":"avatar-group-in-plugin",css:e.takeFullWidth?h5:p5},Object(T.d)($c,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected}))},v5=function(e){return{name:"avatarGroup",primaryToolbarComponent:function(t){var n=t.editorView,r=(t.popupsMountPoint,t.popupsBoundariesElement,t.popupsScrollableElement,t.disabled,t.isToolbarReducedSpacing,t.eventDispatcher),o=t.dispatchAnalyticsEvent;return i.a.createElement(m5,{dispatchAnalyticsEvent:o,editorView:n,eventDispatcher:r,collabEdit:e.collabEdit,takeFullWidth:e.takeFullWidth})}}},b5=function(){var e={};return Object(nu.bindKeymapWithCommand)(nu.find.common,(function(e,t){return Ps({triggerMethod:wt.g.SHORTCUT})(e,t),!0}),e),dp(e)},g5=function(e){return{name:"findReplace",pmPlugins:function(){return[{name:"findReplace",plugin:function(e){return function(e){return new Za.a({key:Xc,state:xs(e,(function(){return Os})),props:{decorations:function(e){var t=Es(e),n=t.isActive,r=t.findText,o=t.decorationSet;if(n&&r)return o}}})}(e.dispatch)}},{name:"findReplaceKeymap",plugin:function(){return b5()}}]},primaryToolbarComponent:function(t){var n=t.popupsBoundariesElement,r=t.popupsMountPoint,o=t.popupsScrollableElement,a=t.isToolbarReducedSpacing,c=t.editorView,s=t.containerElement,u=t.dispatchAnalyticsEvent;return e.twoLineEditorToolbar?null:i.a.createElement(Pu,{popupsBoundariesElement:n,popupsMountPoint:r,popupsScrollableElement:o,isToolbarReducedSpacing:a,editorView:c,containerElement:s,dispatchAnalyticsEvent:u,takeFullWidth:e.takeFullWidth})}}},y5=n(1067),O5=(new dt.PluginKey("fragmentMarkPlugin"),new dt.PluginKey("fragmentMarkConsistencyPlugin")),w5=function(e){var t=e.nodes;return[t.table,t.extension,t.bodiedExtension,t.inlineExtension]},k5=function(e){return new Za.a({key:O5,appendTransaction:function(e,t,n){var r=!1,o=n.tr;if(e.forEach((function(e){var t=new Set;e.docChanged&&("cut"!==e.getMeta("uiEvent")&&function(e,t){var n=w5(e);return t.steps.some((function(e){return n.some((function(t){return ms(e,new Set([t]))}))}))}(n.schema,e)&&function(e){var t=e.transaction,n=e.schema,r=e.doc,o=e.shouldRegenerateLocalId,i=n.marks.fragment,a=w5(n),c=!1;return r.descendants((function(e,n){if(!a.some((function(t){return e.type===t})))return!0;var r=e.marks.find((function(e){return e.type===i}));return!r||(o(r.attrs.localId)&&(c=!0,t.setNodeMarkup(n,void 0,e.attrs,e.marks.map((function(e){return e.type===i&&(e.attrs.localId=Id.b.generate()),e})))),!0)})),{transactionChanged:c}}({doc:n.doc,schema:n.schema,transaction:o,shouldRegenerateLocalId:function(e){return!!t.has(e)||(t.add(e),!1)}}).transactionChanged&&(r=!0))})),r)return o}})};var E5=function(){return{name:"fragmentPlugin",marks:function(){return[{name:"fragment",mark:y5.a}]},pmPlugins:function(){return[{name:"fragmentMarkConsistency",plugin:function(e){e.dispatch;return k5()}}]}}},x5=new WeakMap,S5=p()((function e(){var t=this;d()(this,e),E()(this,"update",(function(e){t.subscriptions.forEach((function(t){return t(e)}))})),E()(this,"add",(function(e){t.subscriptions.push(e)})),E()(this,"remove",(function(e){t.subscriptions=t.subscriptions.filter((function(t){return t!==e}))})),this.subscriptions=[]})),j5=new dt.PluginKey("viewUpdateSubscriptionKey"),C5=function(){var e,t={current:null,initial:null,transactions:[],queued:!1};return{name:"viewUpdateSubscription",pmPlugins:function(){return[{name:"viewUpdateSubscription",plugin:function(){return new Za.a({key:j5,view:function(t){return(e=x5.get(t))||(e=new S5,x5.set(t,e)),{}}})}}]},onEditorViewStateUpdated:function(n){var r;t.current=n,(r=t.transactions).push.apply(r,D()(n.transactions)),t.queued||(t.initial=n,t.queued=!0,queueMicrotask((function(){if(t.current&&t.initial){var n;if(e)e.update({newEditorState:t.current.newEditorState,oldEditorState:null===(n=t.initial)||void 0===n?void 0:n.oldEditorState,transactions:t.transactions});t.queued=!1,t.current=null,t.transactions=[]}})))}}},T5=Object(ko.b)({label:{id:"fabric.editor.codeBidiWarningLabel",defaultMessage:"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.",description:"Tooltip message to present to users when a bidirectional character is encountered in code."}}),_5=new dt.PluginKey("codeBidiWarningPlugin"),A5=n(1231),P5=n(327);function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I5(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R5=Object(Jc.a)(_5,(function(e,t){return e}),{onDocChanged:function(e,t){if(!e.steps.find(hs))return t;var n=L5({doc:e.doc,codeBidiWarningLabel:t.codeBidiWarningLabel,tooltipEnabled:t.tooltipEnabled});return M5(M5({},t),{},{decorationSet:n})}}),N5=R5.createPluginState,D5=R5.getPluginState;function L5(e){var t=e.doc,n=e.codeBidiWarningLabel,r=e.tooltipEnabled,o=[];return t.descendants((function(e,t){if("text"===e.type.name&&e.marks&&e.marks.some((function(e){return"code"===e.type.name})))return Object(P5.a)(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r,bidiCharacter:n})})),!1;"codeBlock"===e.type.name&&Object(P5.a)(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r+1,bidiCharacter:n})}))})),0===o.length?ft.b.empty:ft.b.create(t,o.map((function(e){var t=e.position,o=e.bidiCharacter;return ft.a.widget(t,(function(){return function(e){var t=e.bidiCharacter,n=e.codeBidiWarningLabel,r=e.tooltipEnabled,o=document.createElement("span");return c.a.render(i.a.createElement(A5.a,{bidiCharacter:t,skipChildren:!0,label:n,tooltipEnabled:r}),o),o}({bidiCharacter:o,codeBidiWarningLabel:n,tooltipEnabled:r})}))})))}var B5=function(e){var t=e.appearance;return{name:"codeBidiWarning",pmPlugins:function(){return[{name:"codeBidiWarning",plugin:function(e){return function(e,t){var n=e.dispatch,r=e.getIntl,o=t.appearance,i=r().formatMessage(T5.label);return new Za.a({key:_5,state:N5(n,(function(e){var t="mobile"!==o;return{decorationSet:L5({doc:e.doc,codeBidiWarningLabel:i,tooltipEnabled:t}),codeBidiWarningLabel:i,tooltipEnabled:t}})),props:{decorations:function(e){return D5(e).decorationSet}}})}(e,{appearance:t})}}]}}};var F5=function(){return new Za.a({state:{init:function(){return{copied:!1}},apply:function(e,t){var n=e.getMeta($F);return void 0!==(null==n?void 0:n.copied)?{copied:n.copied}:t}},key:$F})},z5=function(){return{name:"copyButton",pmPlugins:function(){return[{name:"copyButton",plugin:function(){return F5()}}]}}},U5=function(e){return hd.getState(e)};function H5(e,t){if("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return new IntersectionObserver((function(e,n){e.forEach((function(e){t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}function W5(e){var t=document.createElement("div");t.style.paddingBottom="".concat(e,"px"),t.id="#editor-scroll-gutter".substr(1);var n,r=!1,o=!1,i=null,a=!1;return{addGutter:function(e){e&&(i=e,e.appendChild(t),o=!0,n&&n.observe(t))},removeGutter:function(){i&&o&&(o=!1,i.removeChild(t),n&&n.unobserve(t))},element:function(){return t},isMounted:function(){return o},visible:function(){return n?a:o},observe:function(e){r||(r=!0,n=H5(e,(function(e){return a=e})))},destroy:function(){n&&n.disconnect(),n=void 0,this.removeGutter(),r=o=!1}}}function V5(e,t,n){var r=e.offsetHeight,o=e.getBoundingClientRect().top,i=function(){var e=window.getSelection();if(e&&e.rangeCount>0){var t=e.getRangeAt(0);if(t){var n=t.getClientRects();if(n&&n.length>0)return n[0].top;var r=t.startContainer;if(r&&r.getBoundingClientRect)return r.getBoundingClientRect().top}}}();return!!i&&(!(i-o<r-n-80)&&(t.scrollIntoView(!1),!0))}var q5=n(325),G5=n.n(q5),K5=n(690),$5=n.n(K5),Y5={};function X5(e,t,n){return Boolean("string"==typeof t&&(null==n?void 0:n.includes(e)))}function J5(e,t){return e?Object.entries(e).filter((function(e){return"boolean"==typeof e[1]||!(!X5(G5()(e[0]),e[1],null==t?void 0:t.objectFlagKeys)||!function(e){try{var t=JSON.parse(e);return"object"===gt()(t)&&null!==t}catch(e){return!1}}(e[1]))})).filter((function(e){var t=mr()(e,1)[0];return $5()(t)===t})).map((function(e){var t=mr()(e,2),n=t[0],r=t[1];return[G5()(n),r]})).reduce((function(e,n){var r=mr()(n,2),o=r[0],i=r[1];return X5(o,i,null==t?void 0:t.objectFlagKeys)&&(e[o]=JSON.parse(i)),"boolean"==typeof i&&(e[o]=i),e}),{}):Y5}function Z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z5(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e4(e){var t,n,r,o,i,a,c,s,u,l,d,f,p,h,m,v,b,g,y,O,w,k,E,x,S,j,C,T,_,A,P,I,M,R,N,D,L,B,F,z,U,H,W,V,q,G,K,$,Y,X,J,Z,Q,ee,te,ne=J5(e.featureFlags);return Q5(Q5({},ne),{},{newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!e.placeholderBracketHint,placeholderHints:Array.isArray(e.placeholderHints)&&e.placeholderHints.length>0,moreTextColors:"boolean"!=typeof e.allowTextColor&&Boolean(!0===(null===(t=e.allowTextColor)||void 0===t?void 0:t.allowMoreTextColors)),findReplace:!!e.allowFindReplace,findReplaceMatchCase:"object"===gt()(e.allowFindReplace)&&Boolean(e.allowFindReplace.allowMatchCase),keyboardAccessibleDatepicker:"boolean"==typeof e.allowKeyboardAccessibleDatepicker&&e.allowKeyboardAccessibleDatepicker,addColumnWithCustomStep:!(!e.allowTables||"boolean"==typeof e.allowTables)&&Boolean(e.allowTables.allowAddColumnWithCustomStep),singleLayout:"object"===gt()(e.allowLayouts)&&!(null===(n=e.allowLayouts)||void 0===n||!n.UNSAFE_allowSingleColumnLayout),undoRedoButtons:e.UNSAFE_allowUndoRedoButtons,catchAllTracking:null===(r=e.performanceTracking)||void 0===r||null===(o=r.catchAllTracking)||void 0===o?void 0:o.enabled,stickyHeadersOptimization:"boolean"==typeof(null===(i=e.featureFlags)||void 0===i?void 0:i.stickyHeadersOptimization)?!(null===(a=e.featureFlags)||void 0===a||!a.stickyHeadersOptimization):"object"===gt()(e.allowTables)&&!(null===(c=e.allowTables)||void 0===c||!c.stickyHeadersOptimization),initialRenderOptimization:"boolean"==typeof(null===(s=e.featureFlags)||void 0===s?void 0:s.initialRenderOptimization)?!(null===(u=e.featureFlags)||void 0===u||!u.initialRenderOptimization):"object"===gt()(e.allowTables)&&!(null===(l=e.allowTables)||void 0===l||!l.initialRenderOptimization),mouseMoveOptimization:"boolean"==typeof(null===(d=e.featureFlags)||void 0===d?void 0:d.mouseMoveOptimization)?!(null===(f=e.featureFlags)||void 0===f||!f.mouseMoveOptimization):"object"===gt()(e.allowTables)&&!(null===(p=e.allowTables)||void 0===p||!p.mouseMoveOptimization),tableRenderOptimization:"boolean"==typeof(null===(h=e.featureFlags)||void 0===h?void 0:h.tableRenderOptimization)?!(null===(m=e.featureFlags)||void 0===m||!m.tableRenderOptimization):"object"===gt()(e.allowTables)&&!(null===(v=e.allowTables)||void 0===v||!v.tableRenderOptimization),tableOverflowShadowsOptimization:"boolean"==typeof(null===(b=e.featureFlags)||void 0===b?void 0:b.tableOverflowShadowsOptimization)?!(null===(g=e.featureFlags)||void 0===g||!g.tableOverflowShadowsOptimization):"object"===gt()(e.allowTables)&&!(null===(y=e.allowTables)||void 0===y||!y.tableOverflowShadowsOptimization),extendFloatingToolbar:Boolean("object"===gt()(e.allowExtension)&&(null===(O=e.allowExtension)||void 0===O?void 0:O.allowExtendFloatingToolbars)),useUnpredictableInputRule:Boolean("boolean"==typeof(null===(w=e.featureFlags)||void 0===w?void 0:w.useUnpredictableInputRule)?!(null===(k=e.featureFlags)||void 0===k||!k.useUnpredictableInputRule):!e.UNSAFE_allowUndoRedoButtons),showAvatarGroupAsPlugin:Boolean("boolean"==typeof(null===(E=e.featureFlags)||void 0===E?void 0:E.showAvatarGroupAsPlugin)&&!(null===(x=e.featureFlags)||void 0===x||!x.showAvatarGroupAsPlugin)),errorBoundaryDocStructure:Boolean("boolean"==typeof(null===(S=e.featureFlags)||void 0===S?void 0:S.useErrorBoundaryDocStructure)&&!(null===(j=e.featureFlags)||void 0===j||!j.useErrorBoundaryDocStructure)),synchronyErrorDocStructure:Boolean("boolean"==typeof(null===(C=e.featureFlags)||void 0===C?void 0:C.synchronyErrorDocStructure)&&!(null===(T=e.featureFlags)||void 0===T||!T.synchronyErrorDocStructure)),enableViewUpdateSubscription:Boolean("boolean"==typeof(null===(_=e.featureFlags)||void 0===_?void 0:_.enableViewUpdateSubscription)&&!(null===(A=e.featureFlags)||void 0===A||!A.enableViewUpdateSubscription)),plainTextPasteLinkification:Boolean("boolean"==typeof(null===(P=e.featureFlags)||void 0===P?void 0:P.plainTextPasteLinkification)&&!(null===(I=e.featureFlags)||void 0===I||!I.plainTextPasteLinkification)),collabAvatarScroll:Boolean("boolean"==typeof(null===(M=e.featureFlags)||void 0===M?void 0:M.collabAvatarScroll)&&!(null===(R=e.featureFlags)||void 0===R||!R.collabAvatarScroll)),ufo:Boolean("boolean"==typeof(null===(N=e.featureFlags)||void 0===N?void 0:N.ufo)&&!(null===(D=e.featureFlags)||void 0===D||!D.ufo)),codeBlockSyntaxHighlighting:Boolean("boolean"==typeof ne.codeBlockSyntaxHighlighting&&(!!ne.codeBlockSyntaxHighlighting&&!xe.a.safari)),twoLineEditorToolbar:Boolean("boolean"==typeof(null===(L=e.featureFlags)||void 0===L?void 0:L.twoLineEditorToolbar)&&!(null===(B=e.featureFlags)||void 0===B||!B.twoLineEditorToolbar)),codeBidiWarnings:Boolean("boolean"!=typeof(null===(F=e.featureFlags)||void 0===F?void 0:F.codeBidiWarnings)||!(null===(z=e.featureFlags)||void 0===z||!z.codeBidiWarnings)),saferDispatchedTransactions:Boolean("boolean"==typeof ne.saferDispatchedTransactions&&!!ne.saferDispatchedTransactions||"boolean"==typeof(null===(U=e.featureFlags)||void 0===U?void 0:U.saferDispatchedTransactions)&&!(null===(H=e.featureFlags)||void 0===H||!H.saferDispatchedTransactions)),maxUnsafeChromeSpellcheckingVersion:(ee=null===(W=e.featureFlags)||void 0===W?void 0:W.maxUnsafeChromeSpellcheckingVersion,te=parseInt(ee,10),!isNaN(te)&&Number.isInteger(te)&&Number.isSafeInteger(te)?te:void 0),useNativeCollabPlugin:Boolean("boolean"==typeof(null===(V=e.collabEdit)||void 0===V?void 0:V.useNativePlugin)&&!(null===(q=e.collabEdit)||void 0===q||!q.useNativePlugin)),chromeCursorHandlerFixedVersion:"string"==typeof(null===(G=e.featureFlags)||void 0===G?void 0:G.chromeCursorHandlerFixedVersion)&&Number(e.featureFlags.chromeCursorHandlerFixedVersion)||void 0,viewChangingExperimentToolbarStyle:"string"==typeof(null===(K=e.featureFlags)||void 0===K?void 0:K["view-changing-experiment-toolbar-style"])&&e.featureFlags["view-changing-experiment-toolbar-style"]||void 0,showHoverPreview:Boolean("boolean"==typeof(null===($=e.featureFlags)||void 0===$?void 0:$.showHoverPreview)&&!(null===(Y=e.featureFlags)||void 0===Y||!Y.showHoverPreview)),indentationButtonsInTheToolbar:Boolean("boolean"==typeof(null===(X=e.featureFlags)||void 0===X?void 0:X["indentation-buttons-in-the-toolbar"])&&!(null===(J=e.featureFlags)||void 0===J||!J["indentation-buttons-in-the-toolbar"])),floatingToolbarCopyButton:Boolean("boolean"==typeof(null===(Z=e.featureFlags)||void 0===Z?void 0:Z.floatingToolbarCopyButton)&&!(null===(Q=e.featureFlags)||void 0===Q||!Q.floatingToolbarCopyButton))})}var t4=n(219),n4=n(691),r4=n.n(n4),o4=function(e,t){e.block.ruler.before("paragraph","table",r4.a,{alt:["paragraph","reference"]})},i4=n(692),a4=n.n(i4);const c4=new ya.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"==e&&null}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class s4{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:ya.Mark.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t,n=this.top(),r=n.content,o=r[r.length-1],i=this.schema.text(e,n.marks);o&&(t=function(e,t){if(e.isText&&t.isText&&ya.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(o,i))?r[r.length-1]=t:r.push(i)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,e,t)}}addNode(e,t,n){let r=this.top(),o=e.createAndFill(t,n,r?r.marks:[]);return o?(this.push(o),o):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:ya.Mark.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function u4(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function l4(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function d4(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function f4(){}class p4{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let r in t){let o=t[r];if(o.block){let t=e.nodeType(o.block);l4(o,r)?n[r]=(e,n,r,i)=>{e.openNode(t,u4(o,n,r,i)),e.addText(d4(n.content)),e.closeNode()}:(n[r+"_open"]=(e,n,r,i)=>e.openNode(t,u4(o,n,r,i)),n[r+"_close"]=e=>e.closeNode())}else if(o.node){let t=e.nodeType(o.node);n[r]=(e,n,r,i)=>e.addNode(t,u4(o,n,r,i))}else if(o.mark){let t=e.marks[o.mark];l4(o,r)?n[r]=(e,n,r,i)=>{e.openMark(t.create(u4(o,n,r,i))),e.addText(d4(n.content)),e.closeMark(t)}:(n[r+"_open"]=(e,n,r,i)=>e.openMark(t.create(u4(o,n,r,i))),n[r+"_close"]=e=>e.closeMark(t))}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));l4(o,r)?n[r]=f4:(n[r+"_open"]=f4,n[r+"_close"]=f4)}}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText("\n")),n}(e,n)}parse(e){let t,n=new s4(this.schema,this.tokenHandlers);n.parseTokens(this.tokenizer.parse(e,{}));do{t=n.closeNode()}while(n.stack.length);return t||this.schema.topNodeType.createAndFill()}}function h4(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}new p4(c4,a4()("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:h4(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:h4(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});new class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign(this.options,t);let n=new v4(this.nodes,this.marks,t);return n.renderContent(e),n.out}}({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){e.write("```"+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,t=>{let o=String(n+t);return e.repeat(" ",r-o.length)+o+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,r)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)&&(n==t.childCount-1||!e.isInSet(t.child(n+1).marks))}(t,n,r),e.inAutolink?"<":"["),close(e,t,n,r){let{inAutolink:o}=e;return e.inAutolink=void 0,o?">":"]("+t.attrs.href+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")"}},code:{open:(e,t,n,r)=>m4(n.child(r),-1),close:(e,t,n,r)=>m4(n.child(r-1),1),escape:!1}});function m4(e,t){let n,r=/`+/g,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);let i=o>0&&t>0?" `":"`";for(let e=0;e<o;e++)i+="`";return o>0&&t<0&&(i+=" "),i}class v4{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1)}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let n=1;n<e;n++)this.out+=t+"\n"}this.closed=null}}wrapBlock(e,t,n,r){let o=this.delim;this.write(t||e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split("\n");for(let e=0;e<n.length;e++)this.write(),!t&&"["==n[e][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[e],this.atBlockStart):n[e],e!=n.length-1&&(this.out+="\n")}render(e,t,n){if("number"==typeof t)throw new Error("!");if(!this.nodes[e.type.name])throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");this.nodes[e.type.name](this,e,t,n)}renderContent(e){e.forEach((t,n,r)=>this.render(t,e,r))}renderInline(e){this.atBlockStart=!0;let t=[],n="",r=(r,o,i)=>{let a=r?r.marks:[];r&&"hard_break"===r.type.name&&(a=a.filter(t=>{if(i+1==e.childCount)return!1;let n=e.child(i+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))}));let c=n;if(n="",r&&r.isText&&a.some(e=>{let t=this.marks[e.type.name];return t&&t.expelEnclosingWhitespace})){let[e,o,i,s]=/^(\s*)(.*?)(\s*)$/m.exec(r.text);c+=o,n=s,(o||s)&&((r=i?r.withText(i):null)||(a=t))}let s=a.length?a[a.length-1]:null,u=s&&!1===this.marks[s.type.name].escape,l=a.length-(u?1:0);e:for(let e=0;e<l;e++){let n=a[e];if(!this.marks[n.type.name].mixable)break;for(let r=0;r<t.length;r++){let o=t[r];if(!this.marks[o.type.name].mixable)break;if(n.eq(o)){e>r?a=a.slice(0,r).concat(n).concat(a.slice(r,e)).concat(a.slice(e+1,l)):r>e&&(a=a.slice(0,e).concat(a.slice(e+1,r)).concat(n).concat(a.slice(r,l)));continue e}}}let d=0;for(;d<Math.min(t.length,l)&&a[d].eq(t[d]);)++d;for(;d<t.length;)this.text(this.markString(t.pop(),!1,e,i),!1);if(c&&this.text(c),r){for(;t.length<l;){let n=a[t.length];t.push(n),this.text(this.markString(n,!0,e,i),!1)}u&&r.isText?this.text(this.markString(s,!0,e,i)+r.text+this.markString(s,!1,e,i+1),!1):this.render(r,e,i)}};e.forEach(r),r(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,o=this.inTightList;this.inTightList=r,e.forEach((o,i,a)=>{a&&r&&this.flushClose(1),this.wrapBlock(t,n(a),e,()=>this.render(o,e,a))}),this.inTightList=o}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,(t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t),t&&(e=e.replace(/^[:#\-*+>]/,"\\$&").replace(/^(\s*\d+)\./,"$1\\.")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}markString(e,t,n,r){let o=this.marks[e.type.name],i=t?o.open:o.close;return"string"==typeof i?i:i(this,e,n,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}}function b4(){var e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){var r=function(e){var t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){var r=n.md.normalizeLink(t.str);if(n.md.validateLink(r))return r}return""},o=function(e,t,r){if(!e||0===e.length)return[];var o=new n.Token("inline","",1);return o.content=e,o.children=[],[].concat(D()(t),[o],D()(r))},i=[],a=n.tokens.reduce((function(a,c,s,u){if("inline"===c.type&&e.test(c.content)){for(var l=[],d=s-1,f=u[d],p=[];f&&f.level>0&&-1===t.indexOf(f.type);)l.unshift(f),f=u[--d];-1===t.indexOf(f.type)?l.unshift(f):d++;var h=l.map((function(e){return new n.Token(e.type.replace("_open","_close"),e.tag,-1)})).reverse(),m=c.content.match(e),v=c.content;m.forEach((function(e){var t=v.indexOf(e),i=v.substr(0,t);v=v.substr(t+e.length),p=[].concat(D()(p),D()(o(i,l,h)),D()(function(e){var t=new n.Token("media_single_open","",1),o=new n.Token("media","",0);return o.attrs=[["url",r(e)],["type","external"]],[t,o,new n.Token("media_single_close","",-1)]}(e)))})),v.length&&(p=[].concat(D()(p),D()(o(v,l,h)))),i=[].concat(D()(i),D()(h.map((function(e){return e.type})))),a=[].concat(D()(a.slice(0,d)),D()(p))}else-1!==i.indexOf(c.type)?i.splice(i.indexOf(c.type),1):a.push(c);return a}),[]);return n.tokens=a,!0}}var g4=function(e){e.core.ruler.before("inline","media",b4())};function y4(e,t){return Object.keys(t).reduce((function(n,r){var o=t[r],i=o.block||o.node,a=o.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[r]=o),n}),{})}var O4={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},w4={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},hr:{node:"rule"},heading:{block:"heading",attrs:function(e){return{level:+e.tag.slice(1)}}},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:function(e){return{order:+e.attrGet("order")||1}}},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:function(e){return{language:e.info&&e.info.trim()||null}}},media_single:{block:"mediaSingle",attrs:function(){return{}}},media:{node:"media",attrs:function(e){return{url:e.attrGet("url"),type:"external"}}},emoji:{node:"emoji",attrs:function(e){return{shortName:":".concat(e.markup,":"),text:e.content}}},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},k4=hY()("zero",{html:!1});k4.enable(["entity","escape"]);var E4=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t4.a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k4;d()(this,e),["nodes","marks"].forEach((function(e){for(var r in O4[e])t[e][r]&&n.enable(O4[e][r])})),t.nodes.table&&n.use(o4),t.nodes.media&&t.nodes.mediaSingle&&n.use(g4),this.markdownParser=new p4(t,n,y4(t,w4))}return p()(e,[{key:"encode",value:function(e){throw new Error("This is not implemented yet")}},{key:"parse",value:function(e){return this.markdownParser.parse(e)}}]),e}(),x4=n(672);function S4(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function j4(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function C4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!0;return e.content.descendants((function(e){return n=n&&t.indexOf(e.type)>-1})),n}}function T4(e,t){return function(n){var r=e.marks,o=r.code,i=r.link,a=r.annotation;if(!Array.isArray(t)||0===t.length)return n;var c=ya.Slice.fromJSON(e,n.toJSON()||{}),s=[i,a];return c.content.descendants((function(e,n,r){return!(e.isText&&r&&r.isBlock)||(e.marks=[].concat(D()(e.marks&&!o.isInSet(t)&&e.marks.filter((function(e){return s.includes(e.type)}))||[]),D()(r.type.allowedMarks(t).filter((function(e){return e.type!==i})))),!1)})),c}}function _4(e){if(!e)return!1;var t=e.type.createAndFill();return t&&t.nodeSize===e.nodeSize&&t.content.eq(e.content)&&ya.Mark.sameSet(t.marks,e.marks)}function A4(e){if(e instanceof dt.NodeSelection&&(t=e.node,Boolean(t&&"panel"===t.type.name)))return e.node;var t,n=e.$from.doc.type.schema.nodes.panel,r=Object(Qi.findParentNodeOfType)(n)(e);return r?r.node:null}var P4=function(e){return!!e&&(e.includes("</a></a>")||e.includes('"></a><a'))},I4=new dt.PluginKey("textFormatting");function M4(e){var t=e.tr,n=e.slice,r=t.selection,o=t.selection,i=o.$to,a=o.$from,c=r.$cursor,s=A4(r),u=a.blockRange(i,nh);return!c&&u?function(e){var t=e.tr,n=e.slice,r=t.selection,o=r.$to,i=r.$from,a=r.to,c=r.from;if(i.sameParent(o)||i.depth===o.depth)return t.replaceSelection(n);var s=i.blockRange(o);if(s){var u=c,l=o.nodeAfter?a:a+2,d=t.doc.slice(l,s.end);t.deleteRange(u,s.end);var f=t.mapping.map(u);if(t.replaceRange(f,f,n),!(d.size<=0)){var p=dt.TextSelection.near(t.doc.resolve(t.mapping.map(f)),-1);d.openEnd=d.openStart,t.replaceRange(p.from,p.from,d),t.setSelection(dt.TextSelection.near(t.doc.resolve(p.from),-1))}}}({tr:t,slice:n}):s&&_4(s)&&a.node()===i.node()?function(e){return function(t){var n=t.tr,r=t.slice,o=n.selection,i=n.selection,a=i.$to,c=i.$from,s=o.from;if(!e||e.type.validContent(ya.Fragment.from(r.content))){var u=new pt.g(n.doc.type.createAndFill());u.replaceRange(0,u.doc.content.size,r);var l=u.doc.slice(0),d=e.copy(l.content),f=o instanceof dt.NodeSelection?o.node:null,p=f?s:n.doc.resolve(s).start(),h=f?s+f.nodeSize:p;n.replaceRangeWith(p,h,d),n.setSelection(dt.TextSelection.near(n.doc.resolve(c.pos+d.content.size),-1))}else{var m,v=a.pos+1;n.replaceRange(v,v,r);var b=n.doc.resolve(c.before()).node();if(b&&b.childCount>1&&"paragraph"===(null===(m=b.firstChild)||void 0===m?void 0:m.type.name)&&Object(uc.h)(b.firstChild)){var g=n.doc.resolve(c.before()).posAtIndex(0),y=n.doc.resolve(c.before()).posAtIndex(1);y-g==2&&n.delete(g,y)}n.setSelection(dt.TextSelection.near(n.doc.resolve(v+r.content.size-r.openStart-r.openEnd+1)))}}}(s)({tr:t,slice:n}):!c||u?t.replaceSelection(n):_4(t.doc.resolve(c.pos).node())?function(e){var t=e.tr,n=e.slice;t.replaceSelection(n)}({tr:t,slice:n}):function(e){return e instanceof dt.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}(r)?function(e){var t=e.tr,n=e.slice,r=t.selection.$cursor;if(r){var o=r.nodeBefore?r.after():r.before();t.replaceRange(o,o,n);var i=t.doc.resolve(Math.min(o+n.content.size-n.openEnd,t.doc.content.size));t.setSelection(dt.TextSelection.near(i,-1))}}({tr:t,slice:n}):void t.replaceSelection(n)}function R4(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N4(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function N4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D4(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B4(e){return function(t,n){var r,o,i,a=t.schema,c=t.tr.selection,s=a.marks.code,u=a.nodes,l=u.decisionItem,d=u.emoji,f=u.hardBreak,p=u.mention,h=u.paragraph,m=u.taskItem,v=u.text,b=u.panel,g=u.bulletList,y=u.orderedList,O=u.expand,w=u.heading,k=t.selection instanceof dt.NodeSelection&&["decisionList","decisionItem","taskList","taskItem"].includes(t.selection.node.type.name),E=Object(Qi.hasParentNodeOfType)([l,m,b])(t.selection),x=Object(Qi.hasParentNodeOfType)([b])(t.selection),S=null===(r=e.content.firstChild)||void 0===r?void 0:r.type,j=S===g||S===y||S===O||S===w,C=x&&(null===(o=e.content.firstChild)||void 0===o?void 0:o.type)===h&&e.openEnd<2;if(j||C||!k&&!E)return!1;var T=[qw(a)],_=c.$head.marks(),A=I4.getState(t);c instanceof dt.TextSelection&&Array.isArray(_)&&_.length>0&&C4(h,v,d,p,f)(e)&&(!s.isInSet(_)||A.codeActive)&&T.push(T4(a,c.$head.marks()));var P=wa.e.apply(null,T)(e),I=Vh(t.tr);return(P.content.firstChild.type.inlineContent||["decisionList","decisionItem","taskList","taskItem","panel"].includes(P.content.firstChild.type.name)||k)&&(1!==P.openStart||0!==P.openEnd)||(null===(i=P.content.firstChild)||void 0===i?void 0:i.type)===h?I.replaceSelection(P).scrollIntoView():Object(Qi.safeInsert)(P.content)(I).scrollIntoView(),_Y(t,I,wt.f.CLIPBOARD),n&&n(I),!0}}function F4(e){return function(t,n){var r,o=t.schema,i=t.selection,a=t.selection,c=a.from,s=a.to,u=t.tr;if(1===e.content.childCount&&Object(Bd.e)(e.content.child(0),o)){var l=e.content.child(0);if(1===l.content.childCount&&Object(Bd.g)(l.content.child(0),o)){var d=l.content.child(0);r=d.marks.find((function(e){return Object(Bd.c)(e,o)&&(e.attrs.href===d.text||decodeURI(e.attrs.href)===d.text)}))}}return!!(r&&i instanceof dt.TextSelection&&!i.empty&&vJ(c,s)(t))&&(u.addMark(c,s,r),n&&n(u),!0)}}function z4(e,t){return function(t,n,r){if(r&&r.shiftKey){var o=Vh(t.tr),i=o.selection;return(o=RB(t,e,wt.f.CLIPBOARD)).docChanged||o.replaceSelection(e),(t.storedMarks||[]).forEach((function(t){o.addMark(i.from,i.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}function U4(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks,a=i.code,c=i.link,s=r.nodes,u=s.bulletList,l=s.emoji,d=s.hardBreak,f=s.heading,p=s.listItem,h=s.mention,m=s.orderedList,v=s.paragraph,b=s.text;if(!(o instanceof dt.TextSelection))return!1;var g=o.$head.marks();if(0===g.length)return!1;var y=I4.getState(t);if(a.isInSet(g)&&!y.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===v&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===b&&c.isInSet(g)&&1===g.length){var O=Vh(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(g).scrollIntoView();return _Y(t,O,wt.f.CLIPBOARD),n&&n(O),!0}if(C4(u,d,f,p,v,b,l,h,m)(e)){var w=T4(r,g)(e),k=Vh(t.tr).replaceSelection(w).setStoredMarks(g).scrollIntoView();return _Y(t,k,wt.f.CLIPBOARD),n&&n(k),!0}return!1}}function H4(){return(H4=u()(C.a.mark((function e(t,n,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.provider){e.next=2;break}throw Error("No card provider found");case 2:return e.next=4,r.provider;case 4:return o=e.sent,e.next=7,o.resolve(t,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W4(e,t,n){if(n){var r=n.state.tr.selection,o=n.state.tr.replaceSelection(e),i=o.mapping.map(r.from,-1);return n.dispatch(o),n.dispatch(Vh(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function V4(e,t,n,r){return function(o,i,a){var c=null;if(r){var s=r(e);s&&(c=ya.Node.fromJSON(o.schema,s))}return c||(c=Object(R1.b)(o,e)),c?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(c.attrs.extensionKey)<0?W4(t,c,a):(function(e,t,n){return H4.apply(this,arguments)}(e,"inline",n).then((function(e){if(!a)throw new Error("Missing view");var t=a.state,n=t.schema,r=t.tr,o=Object(uc.m)(n,e);if(!o)throw new Error("Received invalid ADF from CardProvider");a.dispatch(function(e,t,n){var r=n.nodes.inlineCard,o=[t];return t.type===r&&o.push(n.text(" ")),e.replaceSelection(new ya.Slice(ya.Fragment.fromArray(o),0,0))}(r,o,n))})).catch((function(){return W4(t,c,a)})),!0):W4(t,c,a):!!c}}function q4(e){return function(t,n){var r=t.schema.nodes.codeBlock;if(e&&Object(Qi.hasParentNodeOfType)(r)(t.selection)){var o=Vh(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function G4(e){return function(t){return function(n,r,o){if(o){if(function(e,t){var n=e.schema.nodes.media;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return function(e,t,n){var r=e.state,o=e.dispatch,i=r.schema.nodes,a=i.mediaSingle,c=i.media;return!!a&&(!(t.type!==c||!Cy(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)&&Qy([a.create({},t)],{inputMethod:n,fileExtension:t.attrs.__fileMimeType})(r,o))}(o,t.content.firstChild,e);if(Object(wa.i)(n)&&function(e,t){var n=e.schema.nodes.mediaSingle;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){var i=n.tr.replaceSelection(t),a=i.doc.resolve(i.mapping.map(n.selection.$from.pos));return r&&r(i.setSelection(new ra.a(a,ra.c.RIGHT))),!0}}return!1}}}function K4(e){return function(t,n){if(!Object(wa.i)(t)||!function(e){var t=!1;return e.content.forEach((function(e){"expand"===e.type.name&&(t=!0)})),t}(e))return!1;var r=t.schema.nodes,o=r.expand,i=r.nestedExpand,a=t.tr,c=!1,s=bm(e,(function(e){if(e.type===o){c=!0;try{return i.createChecked(e.attrs,e.content,e.marks)}catch(t){return a=Object(Qi.safeInsert)(e,a.selection.$to.pos)(a),ya.Fragment.empty}}return e}));return!(!c||!n)&&(e.openStart>1&&e.openEnd>1?n(a.replaceSelection(s)):n(Object(Qi.safeInsert)(s.content)(a)),!0)}}function $4(e){return function(t,n){var r=Vh(t.tr);return r.replaceSelection(e),_Y(t,r,wt.f.CLIPBOARD),n&&n(r.scrollIntoView()),!0}}function Y4(e,t){if(0===t.content.size)return t;var n=e.schema,r=e.selection.$from;if(!function(e){var t=!1;return e.content.descendants((function(e){return e.marks.length>0&&(t=!0),!1})),t}(t))return t;var o=r.parent.textContent.length>0;if(1===t.content.childCount&&o)return t;var i,a=r.node(Math.max(0,r.depth-1)),c=function(e){var t=new Set;return e.content.descendants((function(e){return e.marks.map((function(e){return e.type})).forEach((function(e){return t.add(e)})),!1})),t}(t),s=[],u=R4(c);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.type.allowsMarkType(l)||s.push(l)}}catch(e){u.e(e)}finally{u.f()}if(0===s.length){var d=Math.max(0,t.openStart-1);return new ya.Slice(t.content,d,t.openEnd)}return bm(t,(function(e){return e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((function(e){return!s.includes(e.type)}))):e}))}function X4(e){if(!e.content.firstChild)return e;var t=e.content.firstChild,n=[];!function e(t,n){t.content.forEach((function(t){nh(t)||oh(t)&&nh(t.firstChild)?e(t,n):n.push(t)}))}(t,n);var r=e.content.replaceChild(0,t.type.createChecked(t.attrs,n));return new ya.Slice(r,e.openEnd,e.openEnd)}function J4(e){return function(t,n){var r,o,i,a=t.schema.nodes,c=a.codeBlock,s=a.heading,u=a.paragraph,l=a.panel,d=t.selection,f=null===(r=e.content)||void 0===r?void 0:r.firstChild,p=null===(o=e.content)||void 0===o?void 0:o.lastChild,h=t.tr;(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((function(t){return t.type===e.schema.marks.code}))})(t,e)&&function(e){var t=e.selection,n=t.$from.nodeBefore,r=t.from;n&&n.isText&&n.text.endsWith("`")&&e.delete(r-1,r)}(h),function(e,t){var n=t.content.firstChild;return n&&Object(wa.i)(e)&&nh(n)&&t.openStart>t.openEnd}(t,e)&&(e=X4(e)),Vh(h);var m=nh(f),v=nh(p),b=m||v,g=[s,u],y=d.$to.node(d.$to.depth-1),O=d.$to.node().type.validContent(e.content)||g.includes(d.$to.node().type)&&y.type.validContent(e.content),w=Object(Qi.findParentNodeOfType)(l)(h.selection),k=w&&2===(null===(i=w.node)||void 0===i?void 0:i.content.size);if(b||k)M4({tr:h,slice:e});else if(O)h.replaceSelection(e);else{var E=!1;e.content.nodesBetween(0,e.content.size,(function(t,n){if(n>=e.openStart&&n<=e.content.size-e.openEnd&&t.isBlock)return E=!0,!1})),Object(wa.j)(t)&&!E?function(e,t,n){var r=Object(Qi.findParentNodeOfType)(n)(e.selection);if(e.selection.$from===e.selection.$to&&r&&!r.node.textContent){e=Object(Qi.safeInsert)(t.content,e.selection.$to.pos)(e);var o=Object(Qi.findParentNodeOfType)(n)(e.selection);o&&e.setSelection(dt.TextSelection.near(e.doc.resolve(o.pos+o.node.nodeSize)))}else e.replaceSelection(t)}(h,e,l):h=Object(Qi.safeInsert)(e.content,h.selection.$to.pos)(h)}return h.setStoredMarks([]),h.selection.empty&&h.selection.$from.parent.type===c&&h.setSelection(dt.TextSelection.near(h.selection.$from,1)),h.scrollIntoView(),n&&n(_Y(t,h,wt.f.CLIPBOARD)),!0}}function Z4(e){return function(t,n){var r=t.schema.nodes.caption,o=t.tr;return!!Object(Qi.hasParentNodeOfType)(r)(t.selection)&&(o.replaceSelection(e).scrollIntoView(),n&&n(o),!0)}}var Q4=function(e){return function(t,n){var r=RB(t,e,wt.f.CLIPBOARD);return!!r.docChanged&&(n&&n(r),!0)}};function e6(e){var t=[];return e.forEach((function(e){if(e.type===e.type.schema.nodes.codeBlock){var n=t[t.length-1];if(n&&n.type===e.type)return t.push((r=t.pop(),o=e,i="".concat(r.textContent,"\n").concat(o.textContent),r.type.create(r.attrs,r.type.schema.text(i))))}var r,o,i;return t.push(e)})),ya.Fragment.from(t)}var t6=function(e,t){var n=e.schema.nodes.codeBlock;return Object(Qi.findSelectedNodeOfType)(n)(t||e.selection)||Object(Qi.findParentNodeOfType)(n)(t||e.selection)},n6=n(1202);function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r6(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i6={url:n6.a.url,paragraph:n6.a.text,bulletList:n6.a.bulletList,orderedList:n6.a.orderedList,heading:n6.a.heading,blockquote:n6.a.blockquote,codeBlock:n6.a.codeBlock,panel:n6.a.panel,rule:n6.a.rule,mediaSingle:n6.a.mediaSingle,mediaCard:n6.a.mediaCard,mediaGroup:n6.a.mediaGroup,table:n6.a.table,tableCells:n6.a.tableCells,tableHeader:n6.a.tableHeader,tableRow:n6.a.tableRow,decisionList:n6.a.decisionList,decisionItem:n6.a.decisionItem,taskList:n6.a.taskItem,extension:n6.a.extension,bodiedExtension:n6.a.bodiedExtension,blockCard:n6.a.blockCard,layoutSection:n6.a.layoutSection},a6={blockquote:wt.c.PASTE_BLOCKQUOTE,blockCard:wt.c.PASTE_BLOCK_CARD,bodiedExtension:wt.c.PASTE_BODIED_EXTENSION,bulletList:wt.c.PASTE_BULLET_LIST,codeBlock:wt.c.PASTE_CODE_BLOCK,decisionList:wt.c.PASTE_DECISION_LIST,extension:wt.c.PASTE_EXTENSION,heading:wt.c.PASTE_HEADING,mediaGroup:wt.c.PASTE_MEDIA_GROUP,mediaSingle:wt.c.PASTE_MEDIA_SINGLE,orderedList:wt.c.PASTE_ORDERED_LIST,panel:wt.c.PASTE_PANEL,rule:wt.c.PASTE_RULE,table:wt.c.PASTE_TABLE,tableCell:wt.c.PASTE_TABLE_CELL,tableHeader:wt.c.PASTE_TABLE_HEADER,tableRow:wt.c.PASTE_TABLE_ROW,taskList:wt.c.PASTE_TASK_LIST};function c6(e){var t=e.state,n=t.selection,r=t.schema.nodes,o=r.paragraph,i=r.listItem,a=r.taskItem,c=r.decisionItem,s=Object(Qi.findParentNode)((function(e){return e.type!==o&&e.type!==i&&e.type!==a&&e.type!==c}))(n);if(!s)return wt.c.PASTE_PARAGRAPH;var u=s.node.type,l=a6[u.name];return l||wt.c.PASTE_PARAGRAPH}function s6(e,t,n){return o6({action:wt.a.PASTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:e,eventType:wt.e.TRACK,attributes:o6({inputMethod:wt.f.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function u6(e,t,n,r){var o=t.clipboardData?t.clipboardData.getData("text/plain")||t.clipboardData.getData("text/uri-list"):"",i=c6(e),a=n.size,c=function(e,t){var n=e.schema,r=n.nodes.paragraph,o=n.marks.link,i=new Set;if(t.content.forEach((function(e){e.type===r&&0===e.content.size||("text"===e.type.name&&o.isInSet(e.marks)||e.type===r&&e.rangeHasMark(0,e.nodeSize-2,o)?i.add("url"):i.add(e.type.name))})),i.size>1)return n6.a.mixed;if(0===i.size)return n6.a.uncategorized;var a=i.values().next().value,c=i6[a];return c||n6.a.uncategorized}(e.state,n),s=[];if(c!==n6.a.url&&c!==n6.a.mixed||bm(n,(function(e){var t=e.marks.find((function(e){return"link"===e.type.name}));return t&&s.push(t.attrs.href),e})),r.asPlain)return function(e,t,n){return{action:wt.a.PASTED_AS_PLAIN,actionSubject:wt.b.DOCUMENT,actionSubjectId:e,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,pasteSize:t.length,linksInPasteCount:n}}}(i,o,s.length);var u=function(e){var t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":S4(t)?"microsoft-word":j4(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}(t);if(r.type===n6.b.plain)return s6(i,{pasteSize:o.length,type:r.type,content:n6.a.text,source:u,hyperlinkPasteOnText:!1,linksInPasteCount:s.length});var l=s.map(Gw);return s6(i,{type:r.type,pasteSize:a,content:c,source:u,hyperlinkPasteOnText:!!r.hyperlinkPasteOnText,linksInPasteCount:s.length},l)}function l6(e,t,n,r){var o=u6(e,t,n,r);e.dispatch(Object(Ot.a)(e.state,e.state.tr,o))}function d6(e,t,n,r){return Object(Ot.c)((function(){return u6(e,t,n,r)}))}var f6=function(e,t,n,r){return Object(wa.u)(U4,d6(e,t,n,{type:r}))(n)},p6=function(e,t,n,r){return Object(wa.u)(F4,d6(e,t,n,{type:r,hyperlinkPasteOnText:!0}))(n)},h6=n(188),m6=new dt.PluginKey("betterTypeHistoryPlugin"),v6=function(){return new Za.a({key:m6,appendTransaction:function(e,t,n){if(e.find((function(e){return e.getMeta(m6)})))return Vh(n.tr);var r=function(e){var t=1===e.length&&e[0];if(!(t&&t.docChanged&&t.isGeneric&&t.selection instanceof dt.TextSelection))return null;var n=t.selection,r=t.steps.filter((function(e){return e instanceof pt.c||e instanceof pt.b}));return n.$cursor&&1===r.length?r[0]:null}(e);if(r){var o=vs(r),i=n.schema;return o&&(function(e){if(!(e.size>1&&2===e.content.childCount))return!1;var t=e.content.child(0),n=e.content.child(1);return t&&n&&t.type===n.type}(o)||function(e,t){var n=ya.Fragment.from(t.text("\n"));return e.content.eq(n)}(o,i))?Vh(n.tr):void 0}}})};function b6(e){var t="";return e.content.nodesBetween(0,e.content.size,(function(e){return e.type.isBlock&&(t+="\n\n"),"paragraph"===e.type.name||("hardBreak"===e.type.name?t+="\n":"text"===e.type.name?t+=e.text:"inlineCard"===e.type.name||"blockCard"===e.type.name?t+=e.attrs.url:t+=e.textBetween(0,e.content.size,"\n\n"),!1)})),t.trim()}var g6=n(694),y6=n.n(g6),O6=function(e,t){return e%t==0},w6=function(e,t){var n,r=Array.from(e.body.querySelectorAll("th,td")),o=y6()(r,t),i=e.body.querySelector("tbody");return o.forEach((function(t){var n=e.createElement("tr");null==i||i.append(n),n.append.apply(n,D()(t))})),(null===(n=Array.from(i.querySelectorAll("tr")))||void 0===n?void 0:n.filter((function(e){return 0===e.innerHTML.trim().length}))).forEach((function(e){return e.remove()})),e.body.innerHTML},k6=function(e){var t=function(e){for(var t=e.querySelectorAll("td").length,n=e.querySelectorAll("th").length,r=e.querySelectorAll('td[colspan]:not([colspan="1"])').length,o=!1,i=e.querySelectorAll("th,td"),a=0,c=!1;a<i.length;a++){if(c&&"TH"===i[a].nodeName){o=!0;break}"TD"===i[a].nodeName&&(c=!0)}return{cellCount:t,thCount:n,mergedCellCount:r,hasThAfterTd:o,hasIncompleteRow:!(n>0&&0===t||t>0&&0===n||(O6(n,t)||O6(t,n))&&!(n>1&&1===t))}}(e),n=t.cellCount,r=t.thCount,o=t.mergedCellCount,i=t.hasThAfterTd,a=t.hasIncompleteRow;if(o||i)return e.body.innerHTML;if(!r)return w6(e,1);a&&(n=function(e,t,n){for(var r,o=0;!O6(n+o,t);)o++;var i=Array.from(Array(o)).map((function(){return e.createElement("td")})),a=e.body.querySelector("td:last-of-type");return null==a||null===(r=a.parentElement)||void 0===r||r.append.apply(r,D()(i)),{updatedCellCount:n+o}}(e,r,n).updatedCellCount);for(var c=r;c>0;c--)if(O6(r,c)&&O6(n,c))return w6(e,c);return e.body.innerHTML},E6=function(e){var t=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=t.parseFromString("<table>".concat(e,"</table>"),"text/html");return r.body.querySelectorAll("meta").forEach((function(e){r.head.prepend(e)})),{tableWrappedDoc:r,nonTableWrappedDoc:n}}(e),n=t.nonTableWrappedDoc,r=t.tableWrappedDoc,o=Boolean(!n.body.querySelector("th, td")&&r.body.querySelector("th, td")),i=r.querySelectorAll("body > table:only-child")&&!r.querySelector("body > table > tbody > tr > :not(th,td)");return o&&i?k6(r):null},x6=new dt.PluginKey("pastePlugin");function S6(e,t,n,r,o,i){var a,c,s=new E4(e,OY);function l(){return(l=u()(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("extensionProvider"===t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(x4.c)(n);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}i&&i.subscribe("extensionProvider",(function(e,t){return l.apply(this,arguments)}));var d=!1;return new Za.a({key:x6,props:{clipboardTextSerializer:b6,handleDOMEvents:{paste:function(e,t){return c=t,!1}},handlePaste:function(o,i,c){var u,l,d,f,p,h=i;if(!h.clipboardData)return!1;var m=h.clipboardData.getData("text/plain"),v=h.clipboardData.getData("text/html"),b=h.clipboardData.getData("text/uri-list");!b||m||v||(m=b,c=new ya.Slice(ya.Fragment.from(e.text(m)),1,1));var g=XF(h),y=m&&!v,O=!!v;if(g){if(!v)return!0;if(function(e){return!!e.match(/<img .*>/)&&!Object(Ty.c)(e)}(v))return!0;h.stopPropagation()}var w=o.state,k=Fd.a.getState(w);if(null==k||null===(u=k.performanceTracking)||void 0===u||null===(l=u.pasteTracking)||void 0===l?void 0:l.enabled){var E=function e(t){var n=new Set;return t.size&&t.forEach((function(t){t.content&&t.content.size&&(n=new Set([].concat(D()(n),D()(e(t.content))))),n.add(t.type.name)})),Array.from(n)}(c.content),x=mT()(),S="".concat(h6.a.PASTE,"_").concat(x);Object(jd.a)(S,(function(e){var n=function(e,t,n){var r=c6(e);return{action:wt.a.PASTED_TIMED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{pasteIntoNode:r,content:n,time:t}}}(o,e,E);n&&t(n)}))}var j=function(e){var t,n=w.schema.nodes.placeholder,r=(null===(t=w.doc.resolve(w.selection.$anchor.pos).nodeAfter)||void 0===t?void 0:t.type)===n,i=e.steps.some((function(e){var t,n=vs(e),r=!1;return null==n||null===(t=n.content)||void 0===t||t.forEach((function(e){e.type===w.schema.nodes.table&&(r=!0)})),r}));r||i||e.setMeta(m6,!0),o.dispatch(e)};c=Y4(w,c);var C,T=!0===n?qw(w.schema)(c):c;if(function(e,t,n){return Object(wa.u)(z4,d6(e,t,n,{type:n6.b.plain,asPlain:!0}))(n,t)}(o,h,T)(w,j,o))return!0;if(c=function(e,t){var n=t.nodes,r=n.mediaSingle,o=n.layoutSection,i=n.table,a=n.bulletList,c=n.orderedList,s=n.media,u=n.expand;return function(t){var n=e;return Object(Qi.hasParentNodeOfType)([o,i,a,c,u])(t)&&(n=bm(n,(function(e){var n=Object(Qi.hasParentNodeOfType)([o,i])(t)?{layout:e.attrs.layout}:{};return"mediaSingle"===e.type.name?r.createChecked(n,e.content,e.marks):e}))),n=bm(n,(function(e){return"media"===e.type.name&&"external"===e.attrs.type?s.createChecked(Xy(Xy({},e.attrs),{},{__external:!0}),e.content,e.marks):e}))}}(c,e)(w.selection),y&&(C=function(e,t,n){var r=e;r.includes(":\\\\")&&(r=r.replace(/:\\\\/g,":\\\\\\\\"));var o=s.parse(function(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,(function(e){return e.match(/^(https?|ftp):\/\/[^\s]+$/)?"<".concat(e,">"):e}))}(r));if(o&&o.content)return new ya.Slice(o.content,t,n)}(m,c.openStart,c.openEnd))){if(p6(o,h,C,n6.b.markdown)(w,j))return!0;if(V4(m,C,r,a)(w,j,o))return l6(o,h,C,{type:n6.b.markdown}),!0}c=function(e,t){var n=t.schema.nodes,r=n.blockCard,o=n.inlineCard,i=[];return ym(e.content,(function(e,n,a){e.type!==r||Object(Bd.f)(t,a)?i.push(e):i.push(o.createChecked(e.attrs,e.content,e.marks))})),new ya.Slice(ya.Fragment.fromArray(i),e.openStart,e.openEnd)}(c,w);var _=w.selection.$head.depth,A=w.selection.$head.node(_-1),P=null==A?void 0:A.type,I=[null===(d=e.nodes)||void 0===d?void 0:d.panel,null===(f=e.nodes)||void 0===f?void 0:f.taskList,null===(p=e.nodes)||void 0===p?void 0:p.decisionList];if(0===c.openStart&&A&&I.includes(P)&&(c.openStart=1),function(e,t,n,r){return Object(wa.u)(B4,d6(e,t,n,{type:r}))(n)}(o,h,c,y?n6.b.plain:n6.b.richText)(w,j))return!0;if(function(e,t,n,r){return Object(wa.u)(q4,d6(e,t,n,{type:n6.b.plain}))(r)}(o,h,c,m)(w,j))return!0;if(function(e,t,n,r){return Object(wa.u)(G4(wt.f.CLIPBOARD),d6(e,t,n,{type:r}))(n)}(o,h,c,g?n6.b.binary:n6.b.richText)(w,j,o))return!0;if(function(e,t,n){return Object(wa.u)(Q4,d6(e,t,n,{type:n6.b.richText}))(n)}(o,h,c)(w,j))return!0;if(y&&C)return!!f6(o,h,C,n6.b.markdown)(w,j)||function(e,t,n){return Object(wa.u)($4,d6(e,t,n,{type:n6.b.markdown}))(n)}(o,h,C)(w,j);if(O){if(c=qw(w.schema)(c),p6(o,h,c,n6.b.richText)(w,j))return!0;if(V4(m,c,r,a)(w,j,o))return l6(o,h,c,{type:n6.b.richText}),!0;if(cI(o,0,c))return l6(o,h,c,{type:n6.b.richText}),!0;if(c.content.size&&Object(YG.b)(c,w)&&Object(YG.k)(c,w),f6(o,h,c,n6.b.richText)(w,j))return!0;if(P!==w.schema.nodes.doc){var M=ya.Slice.fromJSON(w.schema,c.toJSON()||{});M.content.descendants((function(e){return e.marks=e.marks.filter((function(e){return"breakout"!==e.type.name})),!1})),c=M}return!!function(e,t,n){return Object(wa.u)(K4,d6(e,t,n,{type:n6.b.richText}))(n)}(o,h,c)(w,j)||(Object(wa.i)(w)||(c=function(e,t){var n=t.nodes,r=n.expand,o=n.nestedExpand,i=[];return ym(e.content,(function(e){e.type===o?i.push(r.createChecked(e.attrs,e.content,e.marks)):i.push(e)})),new ya.Slice(ya.Fragment.fromArray(i),e.openStart,e.openEnd)}(c,w.schema)),!!function(e,t,n,r){return Object(wa.u)(Z4,d6(e,t,n,{type:r}))(n)}(o,h,c,n6.b.richText)(w,j)||function(e,t,n){return Object(wa.u)(J4,d6(e,t,n,{type:n6.b.richText}))(n)}(o,h,c)(w,j))}return!1},transformPasted:function(t){return o&&(t=function(e,t){return bm(e,(function(e){if(e.type.name===t.nodes.mention.name){var n=L4(L4({},e.attrs),{},{text:""});return t.nodes.mention.create(n,e.content,e.marks)}return e}))}(t,e)),d&&(t=function(e){return e=bm(e,(function(e){return e.isBlock&&!e.isTextblock?e.copy(e6(e.content)):e})),new ya.Slice(e6(e.content),e.openStart,e.openEnd)}(t)),(t=function(e,t){return bm(e,(function(e,n){return e.type===t.nodes.paragraph?jm(e,n,t):e}))}(t=function(e,t){var n=!1;if(e.content.forEach((function(e){n=n||e.marks.some((function(e){return e.type===t.marks.code}))})),t.nodes.paragraph.validContent(e.content)&&!n){var r=Cm({fragment:e.content,schema:t});return new ya.Slice(r,e.openStart+1,e.openEnd+1)}return bm(e,(function(e){return e.type===t.nodes.paragraph?Cm({fragment:e.content,blockMarks:e.marks,schema:t}):e}))}(t=function(e,t){var n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){var r=t.nodes.decisionList.create({},n);return new ya.Slice(ya.Fragment.from(r),e.openStart,e.openEnd)}return e}(t=function(e,t){var n=t.nodes,r=n.mediaGroup,o=n.mediaSingle,i=n.media;return bm(e,(function(e,t){return t||e.type!==i?e:o&&(Cy(e.attrs.__fileMimeType)||"external"===e.attrs.type)?o.createChecked({},e):r.createChecked({},[e])}))}(t=function(e,t){if(1===e.content.childCount&&(e.openStart||e.openEnd)){var n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new ya.Slice(ya.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e}(t,e),e),e),e),e)).content.childCount&&t.content.lastChild.type===e.nodes.codeBlock&&(t=new ya.Slice(t.content.append(ya.Fragment.from(e.nodes.paragraph.createAndFill())),t.openStart,1)),t},transformPastedHTML:function(e){if(e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),c&&function(e,t){return function(e){var t,n,r;return null!==(t=null==e||null===(n=e.clipboardData)||void 0===n||null===(r=n.types)||void 0===r?void 0:r.some((function(e){return"x-tinymce/html"===e})))&&void 0!==t&&t}(e)&&!!t&&!!t.match(/class=\"\s?(confluenceTd|confluenceTh|confluenceTable).+"/gim)}(c,e)&&function(e){return!e.includes("<table ")&&(e.includes("<td ")||e.includes("<th "))}(e)){var t=E6(e);t&&(e=t)}return!S4(e)&&!j4(e)&&e.indexOf("<img ")>=0&&(e=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=t.querySelector('b[id^="docs-internal-guid-"]');n&&Object(Zi.g)(t,n);var r=t.querySelectorAll("img");return r.length?(r.forEach((function(e){var n=e.parentElement;if(n)if(qy(n)||qy(e))n.removeChild(e);else if(!(Ky(n)||n instanceof HTMLSpanElement&&n.closest('[class*="emoji-common"]'))){var r=Object(Zi.h)(n,(function(e){return e.parentElement===t||Ky(e.parentElement)}));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),n.innerText=n.innerText.trim(),Object(Zi.f)(n))}})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e}(e)),P4(e)&&(e=function(e){return P4(e)?e.split(/(?=<a)/).filter((function(e){return!(e.includes("<a")&&e.includes('"></a>')||e.includes("<a")&&!e.includes("</a>"))})).join("").replace(/<\/a><\/a>/gi,"</a>").replace(/<a>/gi,"<a"):e}(e)),d=e.indexOf('data-qa="code-line"')>=0,c=null,e}}})}var j6=function(e){var t=e.cardOptions,n=e.sanitizePrivateContent,r=e.plainTextPasteLinkification;return{name:"paste",pmPlugins:function(){return[{name:"paste",plugin:function(e){var o=e.schema,i=e.providerFactory;return S6(o,e.dispatchAnalyticsEvent,r,t,n,i)}}]}}},C6=n(583),T6=n(584),_6=n(592);function A6(e){return new Za.a({props:{handleKeyDown:function(t,n){var r=cp(n),o=n;return n.ctrlKey&&1===r.length&&/[^\u0000-\u007f]/.test(r)&&(o=new KeyboardEvent("keydown",{key:Jf[n.keyCode],code:n.code,ctrlKey:!0})),fp(e)(t,o)}}})}var P6=Object(hm.c)((e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let o,i=n[r];if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let n=e.tr,r=o.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(o.text){let t=n.doc.resolve(o.from).marks();n.replaceWith(o.from,o.to,e.schema.text(o.text,t))}else n.delete(o.from,o.to);t(n)}return!0}}return!1},$h);var I6=function(e,t,n,r,o,i){var a=e.schema.nodes,c=a.hardBreak,s=a.codeBlock,u=a.listItem,l=e.doc.resolve(r);if(l.nodeAfter.type!==c)return null;if(l.depth>1&&(t!==s||!Object(Qi.hasParentNodeOfType)(u)(e.selection)))return null;var d=e.tr.delete(r,o).split(r),f=d.doc.nodeAt(r+1),p=!1;d.doc.nodesBetween(r,r+f.nodeSize,(function(e,t){p||e.type!==c||(p=!0,d=d.split(t+1).delete(t,t+1))})),p&&(f=d.doc.nodeAt(r+1));var h,m,v=e.schema.nodes,b=v.blockquote,g=v.paragraph;t===b?(m=3,h=[g.create({},f.content)]):(m=2,h=f.content);var y=t.create(i,h);return d=d.setSelection(new dt.NodeSelection(d.doc.resolve(r+1))).replaceSelectionWith(y).setSelection(new dt.TextSelection(d.doc.resolve(r+m)))};function M6(e){return{level:e[1].length}}function R6(e){return function(e,t){return um({nodeType:t,match:e,getAttrs:{},joinPredicate:function(e,n){return n.type===t}})}(/^\s*>\s$/,e)}function N6(e){var t,n=(t=e.nodes.heading,sm({match:new RegExp("^(#{1,"+6+"})\\s$"),nodeType:t,getAttrs:M6})),r=am(new RegExp("".concat("","(#{1,6})\\s$")),(function(t,n,r,o){var i=n[1].length;return I6(t,e.nodes.heading,"heading".concat(i),r,o,{level:i})})),o=im((function(e,t){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_HEADING,attributes:{inputMethod:wt.f.FORMATTING,newHeadingLevel:M6(t).level}}}));return[o(n),o(r)]}function D6(e){var t=im({action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.CODE_BLOCK,attributes:{inputMethod:wt.f.FORMATTING},eventType:wt.e.TRACK}),n=am(/(?!\s)(`{3,})$/,(function(e,t,n,r){var o={};if(t[4]&&(o.language=t[4]),function(e){if(!e.selection)return!1;var t=e.selection.$from,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;var r=t.depth-1,o=t.node(r),i=t.index(r);return o.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e))return function(e,t,n,r){if(!e.selection.empty)return e.tr;var o=e.selection.$from,i=o.end(),a=o.start(),c=o.before(),s=bm(e.doc.slice(o.pos,i),(function(t){return t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null})),u=e.tr,l=a===t?c:t,d=e.schema.nodes.codeBlock.createChecked(r,s.content);u.replaceWith(l,Math.min(i,u.doc.content.size),d);var f=u.doc.resolve(u.mapping.map(l)+1),p=dt.TextSelection.findFrom(f,1,!0);return p?u.setSelection(p):u.setSelection(dt.TextSelection.create(u.doc,Math.min(t+o.node().nodeSize-1,u.doc.content.size)))}(e,n,0,o);var i=e.tr;i.delete(n,r);var a=i.doc.type.schema.nodes.codeBlock.createChecked();return Object(Qi.safeInsert)(a)(i),i})),r=am(new RegExp("((".concat("","`{3,})|^\\s(`{3,}))(\\S*)$")),(function(t,n,r,o){var i={};n[4]&&(i.language=n[4]);var a=Math.max(n.index+t.selection.$from.start(),1);return I6(t,e.nodes.codeBlock,0,a,o,i)}));return[t(n),t(r)]}var L6,B6,F6,z6=function(e,t){var n=[];if(e.nodes.heading&&n.push.apply(n,D()(N6(e))),e.nodes.blockquote&&n.push.apply(n,D()(function(e){var t=R6(e.nodes.blockquote),n=am(new RegExp("".concat("","\\s*>\\s$")),(function(t,n,r,o){return I6(t,e.nodes.blockquote,0,r,o)})),r=im({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:wt.f.FORMATTING}});return[r(t),r(n)]}(e))),e.nodes.codeBlock&&n.push.apply(n,D()(D6(e))),0!==n.length)return cm("block-type",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})},U6=function(e,t){var n=t?"".concat(e," { color: ").concat(Object(ot.a)("color.text.inverse","white")," !important; }"):"";return function(e){return Object(T.c)(L6||(L6=S()(["\n    ",";\n    > {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        margin-top: 0;\n      }\n    }\n    ",";\n  "])),Jn(e),n)}},H6=Object(T.c)(B6||(B6=S()(["\n  ","\n  margin-left: 16px;\n"])),xn.i),W6=Object(T.c)(F6||(F6=S()(["\n  color: ",";\n"])),Object(ot.a)("color.icon",Ce.N400)),V6=n(697),q6=n.n(V6),G6=Object(ko.b)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),K6=function(e){var t=e.formatMessage(G6.textStyles);return Object(T.d)(qc.b,{spacing:e.isReducedSpacing?"none":"default",selected:e.selected,className:"block-type-btn",disabled:e.disabled,onClick:e.onClick,title:t,"aria-label":t,"aria-haspopup":!0,"aria-expanded":e["aria-expanded"],iconAfter:Object(T.d)("span",{css:[xn.l,e.isSmall&&xn.k]},e.isSmall&&Object(T.d)(q6.a,{label:t}),Object(T.d)("span",{css:xn.f},Object(T.d)(Of.a,{label:""})))},!e.isSmall&&Object(T.d)("span",{css:[xn.b,e.isReducedSpacing&&xn.a]},Object(T.d)(oa.a,e.title||t1.title),Object(T.d)("div",{style:{overflow:"hidden",height:0}},e.children)))};function $6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Y6=function(e){b()(n,e);var t=$6(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{active:!1}),E()(m()(e),"onOpenChange",(function(t){e.setState({active:t.isOpen})})),E()(m()(e),"handleTriggerClick",(function(){e.onOpenChange({isOpen:!e.state.active})})),E()(m()(e),"createItems",(function(){var t=e.props.intl.formatMessage,n=e.props.pluginState,r=n.currentBlockType;return[{items:n.availableBlockTypes.map((function(e,n){var o=r===e,i=e.tagName||"p",a=i;return{content:Object(T.d)("div",{css:U6(i,o)},Object(T.d)(a,null,t(e.title))),value:e,label:t(e.title),key:"".concat(e.name,"-").concat(n),elemAfter:Object(T.d)("div",{css:[H6,o&&W6]},Object(nu.tooltip)(Object(nu.findKeymapByDescription)(e.title.defaultMessage))),isActive:o}}))}]})),E()(m()(e),"handleSelectBlockType",(function(t){var n=t.item.value;e.props.setBlockType(n.name),e.setState({active:!1})})),e}return p()(n,[{key:"render",value:function(){var e=this.state.active,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.isSmall,a=t.isReducedSpacing,c=t.pluginState,s=c.currentBlockType,u=c.blockTypesDisabled,l=c.availableBlockTypes,d=t.intl.formatMessage;if(!l.some((function(e){return"heading"===e.nodeName})))return null;var f=l.filter((function(e){return e.name===s.name})).map((function(e){return e.title})),p=[t1].concat(D()(l)).reduce((function(e,t){var n=d(t.title);return n.length>=e.length?n:e}),"");if(!this.props.isDisabled&&!u){var h=this.createItems();return Object(T.d)("span",{css:xn.l},Object(T.d)(FF,{items:h,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:e,mountTo:n,boundariesElement:r,scrollableElement:o,zIndex:he.y,fitHeight:360,fitWidth:106,shouldUseDefaultRole:!0},Object(T.d)(K6,{isSmall:i,isReducedSpacing:a,selected:e,disabled:!1,title:f[0],onClick:this.handleTriggerClick,formatMessage:d,"aria-expanded":e},p)),Object(T.d)("span",{css:xn.h}))}return Object(T.d)("span",{css:xn.l},Object(T.d)(K6,{isSmall:i,isReducedSpacing:a,selected:e,disabled:!0,title:f[0],onClick:this.handleTriggerClick,formatMessage:d,"aria-expanded":e},p),Object(T.d)("span",{css:xn.h}))}}]),n}(i.a.PureComponent),X6=Object(Ji.c)(Y6),J6=function(e){return{name:"blockType",nodes:function(){var t=[{name:"heading",node:C6.a},{name:"blockquote",node:T6.a},{name:"hardBreak",node:_6.a}];if(e&&e.allowBlockType){var n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((function(e){return-1===n.indexOf(e.name)}))}return t},pmPlugins:function(){return[{name:"blockType",plugin:function(t){return function(e,t){var n=0;return new Za.a({appendTransaction:function(e,n,r){if(t){var o=r.doc.resolve(r.doc.content.size-1).node(1),i=r.schema.nodes.paragraph;if(o&&o.isBlock&&o.type!==i)return r.tr.insert(r.doc.content.size,r.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init:function(e,t){var n=f1.filter((function(e){return A1(e,t)})),r=p1.filter((function(e){return A1(e,t)}));return{currentBlockType:P1(n,t),blockTypesDisabled:Object(wa.a)(t),availableBlockTypes:n,availableWrapperBlockTypes:r}},apply:function(t,n,r,o){var i=_1(_1({},n),{},{currentBlockType:P1(n.availableBlockTypes,o),blockTypesDisabled:Object(wa.a)(o)});return i.currentBlockType===n.currentBlockType&&i.blockTypesDisabled===n.blockTypesDisabled||e(M1,i),i}},key:M1,props:{handleKeyDown:function(e,t){var r=C1.b.indexOf(t.keyCode);if(r>-1&&t.altKey){if(xe.a.mac&&t.metaKey)return I1(r,e);if(!xe.a.mac&&t.ctrlKey&&n!==t.DOM_KEY_LOCATION_RIGHT)return I1(r,e)}else"Alt"===t.key?n=t.location:t.altKey||(n=0);return!1}}})}(t.dispatch,e&&e.lastNodeMustBeParagraph)}},{name:"blockTypeInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return z6(t,n)}},{name:"blockTypeKeyMap",plugin:function(e){return function(e,t){var n={};return nu.bindKeymapWithCommand(nu.insertNewLine.common,xa,n),nu.bindKeymapWithCommand(nu.moveUp.common,Sa,n),nu.bindKeymapWithCommand(nu.moveDown.common,ja,n),nu.bindKeymapWithCommand(nu.findKeyMapForBrowser(nu.redo),Yh,n),nu.bindKeymapWithCommand(nu.undo.common,t.useUnpredictableInputRule?P6:$h,n),nu.bindKeymapWithCommand(nu.backspace.common,j1,n),e.nodes[s1.nodeName]&&nu.bindKeymapWithCommand(nu.findShortcutByKeymap(nu.toggleBlockQuote),x1(s1.name,wt.f.KEYBOARD),n),A6(n)}(e.schema,e.featureFlags)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=t.popupsScrollableElement,c=t.toolbarSize,s=t.disabled,u=t.isToolbarReducedSpacing,l=t.eventDispatcher,d=e&&e.isUndoRedoButtonsEnabled?c<ku.XXL:c<ku.XL,f=function(e){return function(e,t){return function(n,r){var o=n.schema.nodes;if(e===t1.name&&o.paragraph)return O1(t)(n,r);var i=m1[e];return!!(i&&o.heading&&i.level)&&k1(i.level,t)(n,r)}}(e,wt.f.TOOLBAR)(n.state,n.dispatch)};return i.a.createElement(Xa.a,{editorView:n,eventDispatcher:l,plugins:{pluginState:M1},render:function(e){var t=e.pluginState;return i.a.createElement(X6,{isSmall:d,isDisabled:s,isReducedSpacing:u,setBlockType:f,pluginState:t,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:a})}})},pluginsOptions:{quickInsert:function(t){var n,r,o,a=e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[];return[].concat(D()((n=t,r=-1===a.indexOf("blockquote"),o=n.formatMessage,r?[{id:"blockquote",title:o(lq.a.blockquote),description:o(lq.a.blockquoteDescription),priority:1300,keyshortcut:nu.tooltip(nu.toggleBlockQuote),icon:function(){return i.a.createElement(Lv,null)},action:function(e,t){var n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(Ot.a)(t,n,{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:wt.f.QUICK_INSERT}})}}]:[])),D()(function(e,t){var n=e.formatMessage;return t?Array.from({length:6},(function(e,t){var r=t+1,o=lq.a["heading".concat(r,"Description")],a=nu.tooltip(nu["toggleHeading".concat(r)]),c="heading".concat(r);return{id:c,title:n(lq.a[c]),description:n(o),priority:1300,keywords:["h".concat(r)],keyshortcut:a,icon:function(){return i.a.createElement(Uv,{level:r})},action:function(e,t){var n=e(t.schema.nodes.heading.createChecked({level:r}));return Object(Ot.a)(t,n,{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_HEADING,attributes:{inputMethod:wt.f.QUICK_INSERT,newHeadingLevel:r}})}}})):[]}(t,-1===a.indexOf("heading"))))}}}},Z6=new dt.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function Q6(){return new Za.a({key:Z6,appendTransaction:function(e,t,n){if(!Object(uc.g)(t.doc)&&Object(uc.g)(n.doc))return n.tr.setStoredMarks([])}})}var e9=function(){return{name:"clearMarksOnEmptyDoc",pmPlugins:function(){return[{name:"clearMarksOnChange",plugin:Q6}]}}},t9=n(1175);function n9(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return am(e,(function(e,r,o,i){var a=e.schema;if(e.doc.rangeHasMark(o,i,a.marks.link))return null;var c=r,s=Vw(c.url),u=a.mark("link",{href:s}),l=e.selection.$from.nodeBefore;if(!l||!l.isText||!l.text)return null;var d=$w(l.text,o-(l.text.length-c.text.length));if(Yw(o,d)){var f=e.tr;return n&&f.insertText(" "),f}var p=o,h=Math.min(o+c.text.length,e.doc.content.size),m=e.tr.addMark(p,h,u);return(n||h===i)&&m.insertText(" "),t?m:Object(Ot.a)(e,m,kY(wt.f.AUTO_DETECT,s))}))}function r9(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e.marks.link){var r="boolean"==typeof n.useUnpredictableInputRule,o=!r||Boolean(n.useUnpredictableInputRule),i=n9(Ww.create(o),t,n.useUnpredictableInputRule),a=am(/(^|[^!])\[(.*?)\]\((\S+)\)$/,(function(e,n,r,o){var i=e.schema,a=mr()(n,4),c=a[1],s=a[2],u=Vw(a[3]).trim(),l=i.mark("link",{href:u}),d=e.tr.replaceWith(r+c.length,o,i.text((s||"").trim(),[l]));return t?d:Object(Ot.a)(e,d,kY(wt.f.FORMATTING,u))}));return cm("hyperlink",[i,a],{useUnpredictableInputRule:n.useUnpredictableInputRule})}}function o9(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};return nu.bindKeymapWithCommand(nu.addLink.common,AJ(wt.f.SHORTCUT),t),nu.bindKeymapWithCommand(nu.enter.common,i9(e),t),nu.bindKeymapWithCommand(nu.insertNewLine.common,i9(e),t),nu.bindKeymapWithCommand(nu.escape.common,(function(e,t,n){return!!wJ.getState(e).activeLinkMark&&(PJ()(e,t),n&&n.focus(),!1)}),t),dp(t)}var i9=function(e){return function(t,n){var r=t.selection.$from.nodeBefore;if(!r||!r.isText||!r.text)return!1;var o=r.text.split(" "),i=o[o.length-1],a=Object(Uw.a)(i);if(a){var c=a.raw,s=t.selection.$from.pos-c.length,u=t.selection.$from.pos;if(t.doc.rangeHasMark(s,u,t.schema.marks.link))return!1;var l=a.url,d=t.schema.mark("link",{href:l}),f=$w(r.text,s-(r.text.length-c.length));if(Yw(s,f))return!1;var p=t.tr.addMark(s,u,d);n&&n(e?p:Object(Ot.a)(t,p,kY(wt.f.AUTO_DETECT,l)))}return!1}},a9=new dt.PluginKey("fakeCursorToolbarPlugin"),c9=function(e,t){return ft.a.inline(e,t,{class:"ProseMirror-fake-text-selection"})},s9=function(e){var t=wJ.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===zX.INSERT_LINK_TOOLBAR)return t.activeLinkMark},u9=new Za.a({key:a9,state:{init:function(){return ft.b.empty},apply:function(e,t,n,r){var o,i,a=s9(n),c=s9(r);if(a&&c){var s=c.from,u=c.to,l=e.mapping.map(a.from),d=e.mapping.map(a.to);if(l===s&&d===u)return t.map(e.mapping,e.doc)}if(c){var f=c.from,p=c.to;return ft.b.create(e.doc,[f===p?(o=f,i=document.createElement("div"),i.className="ProseMirror-fake-text-cursor",ft.a.widget(o,i,{key:"hyperlink-text-cursor"})):c9(f,p)])}return ft.b.empty}},props:{decorations:function(e){return a9.getState(e)}}});function l9(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var d9=function(e){b()(n,e);var t=l9(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{supportedUrlsMap:new Map}),E()(m()(e),"getProvider",u()(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cardProvider){t.next=2;break}return t.abrupt("return",e.cardProvider);case 2:return t.abrupt("return",new Promise((function(t){e.props.providerFactory.subscribe("cardProvider",function(){var n=u()(C.a.mark((function n(r,o){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,o;case 4:e.cardProvider=n.sent,t(e.cardProvider);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t)})))),E()(m()(e),"resolveUrl",function(){var t=u()(C.a.mark((function t(n){var r,o,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.state.supportedUrlsMap).has(n)){t.next=3;break}return t.abrupt("return");case 3:return o=!1,t.prev=4,t.next=7,e.getProvider();case 7:return i=t.sent,t.next=10,i.findPattern(n);case 10:o=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),o=!1;case 16:r.set(n,o),e.setState({supportedUrlsMap:r});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}()),E()(m()(e),"componentDidMount",(function(){return e.resolveUrl(e.props.url)})),e}return p()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.url!==this.props.url&&this.resolveUrl(e.url)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.intl,r=e.editorView,o=e.editorState,a=e.cardOptions,c=e.platform;return this.state.supportedUrlsMap.get(t)?i.a.createElement(UZ,{key:"link-appearance",url:t,intl:n,editorView:r,editorState:o,allowEmbeds:null==a?void 0:a.allowEmbeds,platform:c}):null}}]),n}(o.Component);function f9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f9(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h9(e){return void 0!==e.pos}var m9=function(e,t,n,r){var o=t.formatMessage,a=wJ.getState(e);if(a&&a.activeLinkMark){var c=a.activeLinkMark,s={title:"Hyperlink floating controls",nodeType:[e.schema.nodes.text,e.schema.nodes.paragraph,e.schema.nodes.heading,e.schema.nodes.taskItem,e.schema.nodes.decisionItem,e.schema.nodes.caption].filter((function(e){return!!e})),align:"left",className:c.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(c.type){case"EDIT":var u=c.pos,l=c.node.marks.filter((function(t){return t.type===e.schema.marks.link})),d=l[0]&&l[0].attrs.href,f=Object(Uw.b)(d),p=o(f?$j.openLink:Rc.unableToOpenLink),h=o(Rc.unlink),m=o(Rc.editLink),v={url:d,title:""};return c.node.text&&(v.title=c.node.text),p9(p9({},s),{},{height:32,width:250,items:[{type:"custom",fallback:[],render:function(o){return i.a.createElement(d9,{key:"link-appearance",url:d,intl:t,editorView:o,editorState:e,cardOptions:r,providerFactory:n})}},{id:"editor.link.edit",type:"button",onClick:function(e,t){return t&&t(Object(Ot.a)(e,e.tr.setMeta(wJ,{type:FX.EDIT_INSERTED_TOOLBAR,inputMethod:wt.f.FLOATING_TB}),EY(wt.c.HYPERLINK))),!0},selected:!1,title:m,showTitle:!0,metadata:v},{type:"separator"},{id:"editor.link.openLink",type:"button",disabled:!f,target:"_blank",href:f?d:void 0,onClick:function(e,t){return t&&t(Object(Ot.a)(e,e.tr,xY(wt.c.HYPERLINK))),!0},selected:!1,title:p,icon:Kj.a,className:"hyperlink-open-link",metadata:v,tabIndex:null},{type:"separator"},{id:"editor.link.unlink",type:"button",onClick:_J(u),selected:!1,title:h,icon:Ix.a,tabIndex:null}]});case"EDIT_INSERTED":case"INSERT":var b;if(h9(c)&&c.node){var g=c.node.marks.filter((function(t){return t.type===e.schema.marks.link}));b=g[0]&&g[0].attrs.href}var y=h9(c)?function(e,t){if(e.node){var n=Vw(e.node.text),r=e.node.marks.find((function(e){return e.type===t.schema.marks.link}));if(n!==(r&&r.attrs.href))return e.node.text}}(c,e):a.activeText;return p9(p9({},s),{},{height:360,width:420,items:[{type:"custom",fallback:[],render:function(e,t){return e?i.a.createElement(XJ,{view:e,key:t,displayUrl:b,displayText:y||"",providerFactory:n,onSubmit:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;h9(c)?jJ(t,o||n,c.pos)(e.state,e.dispatch):TJ(i,c.from,c.to,t,n,o,!(!r||!r.provider))(e.state,e.dispatch),e.focus()}}):null}}]})}}},v9=function(e){return{name:"hyperlink",marks:function(){return[{name:"link",mark:t9.a}]},pmPlugins:function(){var t=!!e&&!!e.provider;return[{name:"hyperlink",plugin:function(e){return function(e){return new Za.a({state:{init:function(e,t){var n=vJ(t.selection.from,t.selection.to)(t);return{activeText:OJ(t.selection),canInsertLink:n,timesViewed:0,activeLinkMark:gJ(void 0,FX.SELECTION_CHANGE,t)}},apply:function(t,n,r,o){var i=n,a=t.getMeta(wJ)&&t.getMeta(wJ).type,c=t.getMeta(wJ)&&t.getMeta(wJ).inputMethod;if(t.docChanged&&(i={activeText:i.activeText,canInsertLink:vJ(o.selection.from,o.selection.to)(o),timesViewed:i.timesViewed,inputMethod:c,activeLinkMark:bJ(i.activeLinkMark,t)}),a){var s=[FX.SHOW_INSERT_TOOLBAR,FX.EDIT_INSERTED_TOOLBAR].includes(a)?{timesViewed:++i.timesViewed,searchSessionId:mT()()}:{timesViewed:i.timesViewed,searchSessionId:i.searchSessionId};i=mJ({activeText:i.activeText,canInsertLink:i.canInsertLink,inputMethod:c,activeLinkMark:gJ(i.activeLinkMark,a,o)},s)}var u=r.selection.from!==o.selection.from||r.selection.to!==o.selection.to;return t.selectionSet&&u&&(i={activeText:OJ(o.selection),canInsertLink:vJ(o.selection.from,o.selection.to)(o),activeLinkMark:gJ(i.activeLinkMark,FX.SELECTION_CHANGE,o),timesViewed:i.timesViewed,searchSessionId:i.searchSessionId,inputMethod:c}),Object(wa.v)(i,n)||e(wJ,i),i}},key:wJ,props:{handleDOMEvents:{mouseup:function(e,t){return!!kJ(t)&&(t.preventDefault(),!0)},mousedown:function(e,t){if(!t.shiftKey||!kJ(t))return!1;var n=e.state,r=n.selection.$anchor,o=e.posAtCoords({left:t.clientX,top:t.clientY});if(null!=(null==o?void 0:o.pos)&&o.pos!==r.pos){var i=n.tr.setSelection(dt.TextSelection.create(n.doc,r.pos,o.pos));return e.dispatch(i),!0}return!1}}}})}(e.dispatch)}},{name:"fakeCursorToolbarPlugin",plugin:function(){return u9}},{name:"hyperlinkInputRule",plugin:function(e){var n=e.schema,r=e.featureFlags;return r9(n,t,r)}},{name:"hyperlinkKeymap",plugin:function(){return o9(t)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"hyperlink",title:t(Gv.a.link),description:t(Gv.a.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:Object(nu.tooltip)(nu.addLink),icon:function(){return i.a.createElement(Tv,null)},action:function(e,t){var n=e(void 0);return n.setMeta(wJ,{type:FX.SHOW_INSERT_TOOLBAR}),Object(Ot.a)(t,n,{action:wt.a.INVOKED,actionSubject:wt.b.TYPEAHEAD,actionSubjectId:wt.c.TYPEAHEAD_LINK,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.UI})}}]},floatingToolbar:function(t,n,r){return m9(t,n,r,e)}}}},b9=n(1177),g9=n(1178),y9=n(1180),O9=n(1183),w9=n(1181),k9=n(1182),E9=function(e,t,n,r){e.forEachCell((function(e,o){t.nodesBetween(o,o+e.nodeSize,n,r)}))},x9=["heading","codeBlock","blockquote"],S9=["em","code","strike","strong","underline","textColor","subsup"],j9={em:wt.c.FORMAT_ITALIC,code:wt.c.FORMAT_CODE,strike:wt.c.FORMAT_STRIKE,strong:wt.c.FORMAT_STRONG,underline:wt.c.FORMAT_UNDERLINE,textColor:wt.c.FORMAT_COLOR,subsup:"subsup"};function C9(e){return function(e){return function(t,n){var r=t.tr,o=[];return S9.forEach((function(e){var n=r.selection,i=n.from,a=n.to,c=t.schema.marks[e];c&&(r.selection instanceof Oa.a?E9(r.selection,r.doc,(function(n,i){return n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(r.doc.rangeHasMark(i,i+n.nodeSize,c)&&(o.push(j9[e]),r.removeMark(i,i+n.nodeSize,c)),!1)})):r.doc.rangeHasMark(i,a,c)&&(o.push(j9[e]),r.removeMark(i,a,c)))})),x9.forEach((function(e){var n=t.schema.nodes[e],i=r.selection,a=i.$from,c=i.$to;r.selection instanceof Oa.a?E9(r.selection,r.doc,T9(t,r,n,e,o)):r.doc.nodesBetween(a.pos,c.pos,T9(t,r,n,e,o))})),r.setStoredMarks([]),o.length&&e&&Object(Ot.a)(t,r,{action:wt.a.FORMATTED,eventType:wt.e.TRACK,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:o}}),n&&n(r),!0}}(e)}function T9(e,t,n,r,o){return function(i,a){if(i.type===n){if(n.isTextblock)return t.setNodeMarkup(a,e.schema.nodes.paragraph),o.push(r),!1;var c=t.doc.resolve(a+1),s=t.doc.resolve(a+i.nodeSize-1),u=c.blockRange(s);if(u){var l=Object(pt.n)(u);(l||0===l)&&(o.push(r),t.lift(u,l))}}return!0}}var _9=function(e,t){var n=e.schema.marks.code,r=t>=0&&e.doc.nodeAt(t);return!!r&&!!r.marks.filter((function(e){return e.type===n})).length},A9=function(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,(function(e){i=i||t.isInSet(e.marks)})),i},P9=function(e,t){var n=e.selection,r=n.$from,o=n.from,i=n.to;if(n.empty)return!!t.isInSet(e.storedMarks||r.marks());var a=!1;return e.selection instanceof Oa.a?e.selection.forEachCell((function(n,r){var o=r,i=r+n.nodeSize;a||(a=e.doc.rangeHasMark(o,i,t))})):a=e.doc.rangeHasMark(o,i,t),a},I9=function(e){return function(e){return S9.filter((function(t){if(e.schema.marks[t]){var n=e.selection,r=n.$from,o=n.empty,i=e.schema.marks;return o?!!i[t].isInSet(e.storedMarks||r.marks()):P9(e,i[t])}return!1})).length>0}(e)||function(e){var t=e.selection,n=t.from,r=t.to,o=!1;return e.doc.nodesBetween(n,r,(function(e){return-1===x9.indexOf(e.type.name)||(o=!0,!1)})),o}(e)},M9=function(e,t){return e&&e.filter((function(e){return!t.includes(e)}))},R9=function(e,t){return e.filter((function(e){return e.content===t})).length>0},N9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_ITALIC,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.em;return!!n&&Object(Ss.i)(n)(e,t)}))},D9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_STRIKE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strike;return!!n&&Object(Ss.i)(n)(e,t)}))},L9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_STRONG,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strong;return!!n&&Object(Ss.i)(n)(e,t)}))},B9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_UNDERLINE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.underline;return!!n&&Object(Ss.i)(n)(e,t)}))},F9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_SUPER,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(Ss.i)(n,{type:"sup"})(e,t)}))},z9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_SUB,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&Object(Ss.i)(n,{type:"sub"})(e,t)}))},U9=function(e){var t=e.inputMethod;return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_CODE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.code;return!!n&&Object(Ss.i)(n)(e,t)}))},H9=function(e,t,n){return Object(Ot.c)({action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,eventType:wt.e.TRACK,actionSubjectId:wt.c.FORMAT_CODE,attributes:{inputMethod:wt.f.FORMATTING}})(function(e,t,n){return function(r,o){if(r.selection.empty){var i=r.doc.resolve(e).nodeBefore,a=r.doc.resolve(t).nodeAfter,c=i&&i.text&&i.text.endsWith("`"),s=a&&a.text&&a.text.startsWith("`");if(c&&s){var u=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(n));if(o){var l=r.schema.marks.code.create();o(u=Object(Ss.a)(u.mapping.map(e-1),u.mapping.map(t+1),!1,l,u).setStoredMarks([l]))}return!0}}return!1}}(e,t,n))},W9=function(e){var t=e.schema.marks,n=t.em,r=t.code,o=t.strike,i=t.strong,a=t.subsup,c=t.underline,s={};if(r&&(s.codeActive=P9(e,r.create()),s.codeDisabled=!Object(hm.h)(r)(e)),n&&(s.emActive=P9(e,n),s.emDisabled=!!s.codeActive||!Object(hm.h)(n)(e)),o&&(s.strikeActive=P9(e,o),s.strikeDisabled=!!s.codeActive||!Object(hm.h)(o)(e)),i&&(s.strongActive=P9(e,i),s.strongDisabled=!!s.codeActive||!Object(hm.h)(i)(e)),a){var u=a.create({type:"sub"}),l=a.create({type:"sup"});s.subscriptActive=P9(e,u),s.subscriptDisabled=!!s.codeActive||!Object(hm.h)(a,{type:"sub"})(e),s.superscriptActive=P9(e,l),s.superscriptDisabled=!!s.codeActive||!Object(hm.h)(a,{type:"sup"})(e)}return c&&(s.underlineActive=P9(e,c),s.underlineDisabled=!!s.codeActive||!Object(hm.h)(c)(e)),s},V9=function(e){return new Za.a({state:{init:function(e,t){return W9(t)},apply:function(t,n,r,o){var i=W9(o);return Object(wa.v)(n,i)?n:(e(I4,i),i)}},key:I4,props:{handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return t.key===nu.moveRight.common?function(e,t){var n=e.schema.marks.code,r=e.selection,o=r.empty,i=r.$cursor;if(!o||!i)return!1;var a=e.tr.storedMarks;if(n){var c=A9(e,n.create()),s=e.doc.rangeHasMark(i.pos,i.pos,n),u=e.doc.rangeHasMark(i.pos,i.pos+1,n),l=!(s||u||a&&!a.length),d=!s&&u&&(!a||!a.length);if(!c&&d)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&l)return t&&t(e.tr.removeStoredMark(n)),!0}return!1}(n,r):t.key===nu.moveLeft.common&&function(e,t){var n=e.schema.marks.code,r=e.selection,o=r.empty,i=r.$cursor;if(!o||!i)return!1;var a=e.tr.storedMarks;if(n){var c=n&&A9(e,n.create()),s=_9(e,i.pos),u=_9(e,i.pos-1),l=_9(e,i.pos-2),d=s&&!u&&Array.isArray(a),f=u&&!l&&(null===a||Array.isArray(a)&&!!a.length),p=(d&&Array.isArray(a)&&!a.length||!d&&null===a)&&!u&&l,h=!s&&u&&Array.isArray(a)&&!a.length;if(!c&&p){var m=e.tr.setSelection(dt.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(m.removeStoredMark(n)),!0}if(!c&&h)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&f){var v=e.tr.setSelection(dt.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(v.addStoredMark(n.create())),!0}var b=0===i.index(i.depth-1);if(c&&(d||!i.nodeBefore&&b))return t&&t(e.tr.removeStoredMark(n)),!0}return!1}(n,r)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.schema;return!!o.selection.$from.parent.type.allowsMarkType(a.marks.code)&&H9(t,n,r)(o,i)}}})},q9=new dt.PluginKey("clearFormattingPlugin"),G9=function(e){return new Za.a({state:{init:function(e,t){return{formattingIsPresent:I9(t)}},apply:function(t,n,r,o){var i=I9(o);return i!==n.formattingIsPresent?(e(q9,{formattingIsPresent:i}),{formattingIsPresent:i}):n}},key:q9})};var K9,$9,Y9=function(){var e={};return nu.bindKeymapWithCommand(nu.clearFormatting.common,C9(wt.f.SHORTCUT),e),dp(e)},X9=new Za.a({props:{handleClick:function(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;var r=e.state.schema.marks.code,o=e.state.schema.nodes.paragraph,i=e.state.doc.resolve(t),a=(i.nodeBefore?i.nodeBefore.isInline:i.nodeAfter)&&(i.nodeAfter?i.nodeAfter.isInline:i.nodeBefore)&&0===i.textOffset,c=r&&(i.nodeBefore&&r.isInSet(i.nodeBefore.marks)||i.nodeAfter&&r.isInSet(i.nodeAfter.marks)),s=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),u=e.state.doc.nodeAt(t),l=!(!u||!u.isText),d=i.parent.type===o&&0===i.textOffset&&null===i.nodeAfter;if(a&&c&&s&&(l||d)){var f=n.target.parentNode===e.domAtPos(s).node&&r.isInSet(e.state.doc.resolve(s).nodeAfter.marks),p=i.nodeBefore&&r.isInSet(i.nodeBefore.marks)?i.nodeAfter:i.nodeBefore,h=e.state.tr.setSelection(dt.TextSelection.near(i));return f?h.setStoredMarks([r.create()]):h.setStoredMarks(p?p.marks:[]),e.dispatch(h),!0}return!1}}}),J9=n(345),Z9=n.n(J9),Q9=n(394);function e8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}!function(e){e.STRONG="__",e.STRIKE="~~",e.STRONG_MARKDOWN="**",e.ITALIC_MARKDOWN="*",e.ITALIC="_",e.CODE="`"}($9||($9={}));var t8=(K9={},E()(K9,$9.STRIKE,[$9.ITALIC,$9.STRONG,$9.STRONG_MARKDOWN,$9.ITALIC_MARKDOWN]),E()(K9,$9.STRONG,[$9.STRIKE,$9.ITALIC_MARKDOWN]),E()(K9,$9.STRONG_MARKDOWN,[$9.ITALIC,$9.STRIKE]),E()(K9,$9.ITALIC_MARKDOWN,[$9.STRIKE,$9.STRONG]),E()(K9,$9.ITALIC,[$9.STRIKE,$9.STRONG_MARKDOWN]),E()(K9,$9.CODE,["( "]),K9);function n8(e,t,n){return function(t,r,o,i){var a,c,s,u=t.doc,l=t.schema,d=t.tr,f=t.doc.textBetween(o,o+n.length);if(f!==n||null!=l&&null!==(a=l.marks)&&void 0!==a&&null!==(c=a.code)&&void 0!==c&&c.isInSet(u.resolve(o+1).marks()))return null;if(u.nodesBetween(o,i,(function(e){return e.type===l.nodes.hardBreak?(s=!0,null):!s})),s)return null;var p=u.resolve(o),h=u.resolve(i);if(p.sameParent(h)&&!p.parent.type.allowsMarkType(e))return null;"code"===e.name&&Object(Q9.a)(d.mapping.map(o),d.mapping.map(i),d);var m=d.mapping.map(o),v=d.mapping.map(i);return d.addMark(m,v,e.create()),d.doc.textBetween(v-n.length,v)===n&&d.delete(v-n.length,v),Object(oi.b)(t).useUnpredictableInputRule&&(2===n.length&&d.delete(v-1,v),d.selection.empty||d.deleteSelection()),f===n&&d.delete(m,m+n.length),d.removeStoredMark(e)}}var r8=function(e){b()(n,e);var t=e8(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"exec",value:function(e){if(!e)return null;var t=D()(e).reverse().join(""),r=NE()(w()(n.prototype),"exec",this).call(this,t);if(!r)return null;for(var o=0;o<r.length;o++)r[o]&&"string"==typeof r[o]&&(r[o]=D()(r[o]).reverse().join(""));return r.input&&"string"==typeof r.input&&(r.input=D()(r.input).reverse().join("")),r.input&&r[0]&&(r.index=r.input.length-r[0].length),r}}]),n}(Z9()(RegExp)),o8=function(e){var t=e.replace(/(\W)/g,"\\$1"),n=t8[e].map((function(e){return e.replace(/(\W)/g,"\\$1")})).join("|"),r="^X(?=[^X\\s]).*?[^\\sX]X(?=[\\sOBJECT_REPLACEMENT_CHARACTER]COMBINATIONS|$)".replace("OBJECT_REPLACEMENT_CHARACTER","").replace("COMBINATIONS",n?"|".concat(n):""),o=String.prototype.hasOwnProperty("replaceAll")?r.replaceAll("X",t):r.replace(/X/g,t);return new r8(o)},i8=o8($9.STRONG),a8=o8($9.STRONG_MARKDOWN),c8=o8($9.ITALIC),s8=o8($9.ITALIC_MARKDOWN),u8=o8($9.STRIKE),l8=o8($9.CODE);var d8=function(e,t){var n=[];if(e.marks.strong&&n.push.apply(n,D()(function(e){var t=im((function(){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_STRONG,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.FORMATTING}}})),n=am(i8,n8(e.marks.strong,0,$9.STRONG)),r=am(a8,n8(e.marks.strong,0,$9.STRONG_MARKDOWN));return[t(n),t(r)]}(e))),e.marks.em&&n.push.apply(n,D()(function(e){var t=im((function(){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_ITALIC,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.FORMATTING}}})),n=am(c8,n8(e.marks.em,0,$9.ITALIC)),r=am(s8,n8(e.marks.em,0,$9.ITALIC_MARKDOWN));return[t(n),t(r)]}(e))),e.marks.strike&&n.push.apply(n,D()(function(e){return[im((function(){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_STRIKE,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.FORMATTING}}}))(am(u8,n8(e.marks.strike,0,$9.STRIKE)))]}(e))),e.marks.code&&n.push.apply(n,D()(function(e){return[im((function(){return{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_CODE,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.FORMATTING}}}))(am(l8,n8(e.marks.code,0,$9.CODE)))]}(e))),0!==n.length)return cm("text-formatting",n,{useUnpredictableInputRule:t.useUnpredictableInputRule})};function f8(e){var t={};return e.marks.strong&&nu.bindKeymapWithCommand(nu.toggleBold.common,L9({inputMethod:wt.f.SHORTCUT}),t),e.marks.em&&nu.bindKeymapWithCommand(nu.toggleItalic.common,N9({inputMethod:wt.f.SHORTCUT}),t),e.marks.code&&nu.bindKeymapWithCommand(nu.toggleCode.common,U9({inputMethod:wt.f.SHORTCUT}),t),e.marks.strike&&nu.bindKeymapWithCommand(nu.toggleStrikethrough.common,D9({inputMethod:wt.f.SHORTCUT}),t),e.marks.subsup&&nu.bindKeymapWithCommand(nu.toggleSubscript.common,z9({inputMethod:wt.f.SHORTCUT}),t),e.marks.subsup&&nu.bindKeymapWithCommand(nu.toggleSuperscript.common,F9({inputMethod:wt.f.SHORTCUT}),t),e.marks.underline&&nu.bindKeymapWithCommand(nu.toggleUnderline.common,B9({inputMethod:wt.f.SHORTCUT}),t),A6(t)}var p8=n(1205);function h8(e,t){return am(t,(n=e,function(e,t,r,o){var i=mr()(t,4),a=i[1],c=i[3],s=(a||"")+n+(c||""),u=e.tr,l=e.selection.$to;return u.replaceWith(r,o,e.schema.text(s,l.marks())),u.setSelection(dt.Selection.near(u.doc.resolve(u.selection.to))),u}));var n}function m8(e,t){return Object.keys(e).map((function(n){var r=h8(n,e[n]);return t?t(n)(r):r}))}function v8(){var e=E()({"":p8.a.DASH,"":p8.a.ELLIPSIS,"":p8.a.QUOTE_DOUBLE,"":p8.a.QUOTE_DOUBLE},p8.a.QUOTE_SINGLE,p8.a.QUOTE_SINGLE),t=function(t){return im((function(){return{action:wt.a.SUBSTITUTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.PUNC,eventType:wt.e.TRACK,attributes:{punctuation:e[t]}}}))},n=m8({"":/(\s+|^)(--)(\s)$/,"":/()(\.\.\.)$/},t),r=m8({"":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"":/"$/},t),o=[am(/(\s|^)'(\S+.*\S+)'$/,(function(e,t,n,r){var o=mr()(t,3),i=o[1],a=o[2],c=i+"",s=n+c.length+a.length;return e.tr.insertText("",s,r).insertText(c,n,n+c.length)})),h8("",/(\w+)(')(\w+)$/)];return[].concat(D()(n),D()(r),D()(o.map((function(e){return t(p8.a.QUOTE_SINGLE)(e)}))))}var b8,g8,y8=function(e){return cm("text-formatting:smart-input",[].concat(D()(m8({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(function(e){return im((function(t,n){return{action:wt.a.SUBSTITUTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.PRODUCT_NAME,eventType:wt.e.TRACK,attributes:{product:e,originalSpelling:n[2]}}}))}))),D()((t={"":p8.b.ARROW_RIGHT,"":p8.b.ARROW_LEFT,"":p8.b.ARROW_DOUBLE},m8({"":/(\s+|^)(--?>)(\s)$/,"":/(\s+|^)(<--?)(\s)$/,"":/(\s+|^)(<->?)(\s)$/},(function(e){return im((function(){return{action:wt.a.SUBSTITUTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.SYMBOL,eventType:wt.e.TRACK,attributes:{symbol:t[e]}}}))})))),D()(v8())),{useUnpredictableInputRule:e.useUnpredictableInputRule});var t},O8=n(698),w8=n.n(O8),k8=n(699),E8=n.n(k8),x8=n(126),S8=n(324);!function(e){e.strong="strong",e.em="em",e.underline="underline",e.strike="strike",e.code="code",e.subscript="subscript",e.superscript="superscript"}(b8||(b8={}));var j8,C8,T8=function(e){return e({inputMethod:wt.f.TOOLBAR})},_8={strong:{buttonId:S8.a.TEXT_FORMATTING_STRONG,command:T8(L9),message:x8.a.bold,tooltipKeymap:nu.toggleBold,component:function(){return Object(T.d)(w8.a,{label:""})}},em:{buttonId:S8.a.TEXT_FORMATTING_ITALIC,command:T8(N9),message:x8.a.italic,tooltipKeymap:nu.toggleItalic,component:function(){return Object(T.d)(E8.a,{label:""})}},underline:{command:T8(B9),message:x8.a.underline,tooltipKeymap:nu.toggleUnderline},strike:{command:T8(D9),message:x8.a.strike,tooltipKeymap:nu.toggleStrikethrough},code:{command:T8(U9),message:x8.a.code,tooltipKeymap:nu.toggleCode},subscript:{command:T8(z9),message:x8.a.subscript,tooltipKeymap:nu.toggleSubscript},superscript:{command:T8(F9),message:x8.a.superscript,tooltipKeymap:nu.toggleSuperscript}},A8=(g8={},E()(g8,b8.strong,"strong"),E()(g8,b8.em,"em"),E()(g8,b8.strike,"strike"),E()(g8,b8.code,"code"),E()(g8,b8.underline,"underline"),E()(g8,b8.superscript,"subsup"),E()(g8,b8.subscript,"subsup"),g8),P8=function(e){var t=function(e){return function(t){var n=t.schema,r=t.textFormattingPluginState,o=Boolean(r),i=A8[e],a=Boolean(n.marks[i]);if(!o)return{isActive:!1,isDisabled:!0,isHidden:!1,hasSchemaMark:a};var c=r["".concat(e,"Active")],s=r["".concat(e,"Disabled")],u=r["".concat(e,"Hidden")];return{isActive:Boolean(c),isDisabled:Boolean(s),isHidden:Boolean(u),hasSchemaMark:a}}}(e);return function(n){var r=n.schema,i=n.textFormattingPluginState,a=n.intl,c=n.isToolbarDisabled,s=t({schema:r,textFormattingPluginState:i}),u=s.isActive,l=s.isDisabled,d=s.isHidden,f=s.hasSchemaMark,p=Object(o.useMemo)((function(){return function(e){var t=e.iconType,n=e.isDisabled,r=e.isActive,o=e.intl,i=_8[t],a=o.formatMessage(i.message),c=i.tooltipKeymap;return{content:a,buttonId:i.buttonId,iconMark:t,key:t,command:i.command,iconElement:i.component?i.component():void 0,tooltipElement:c?Object(T.d)(nu.ToolTipContent,{description:a,keymap:c}):void 0,elemAfter:c?Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(c)):void 0,value:{name:t},isActive:r,isDisabled:n}}({iconType:b8[e],isDisabled:c||l,isActive:u,intl:a})}),[c,l,u,a]),h=f&&!d;return Object(o.useMemo)((function(){return h?p:null}),[h,p])}},I8=P8(b8.strong),M8=P8(b8.em),R8=P8(b8.underline),N8=P8(b8.strike),D8=P8(b8.code),L8=P8(b8.subscript),B8=P8(b8.superscript),F8=function(e){return Object(o.useMemo)((function(){return I4.getState(e)}),[e])},z8=C9(wt.f.TOOLBAR),U8=function(e){var t=e.intl,n=function(e){return Object(o.useMemo)((function(){return q9.getState(e)}),[e])}(e.editorState),r=Boolean(n),i=Boolean(null==n?void 0:n.formattingIsPresent),a=t.formatMessage(x8.a.clearFormatting);return Object(o.useMemo)((function(){return r?{key:"clearFormatting",command:z8,content:a,elemAfter:Object(T.d)("div",{css:xn.i},Object(nu.tooltip)(nu.clearFormatting)),value:{name:"clearFormatting"},isActive:!1,isDisabled:!i}:null}),[a,r,i])},H8=[b8.strong,b8.em],W8=[b8.underline,b8.strike,b8.code,b8.subscript,b8.superscript],V8=(j8={},E()(j8,ku.XXL,H8),E()(j8,ku.XL,H8),E()(j8,ku.L,H8),E()(j8,ku.M,[]),E()(j8,ku.S,[]),E()(j8,ku.XXXS,[]),j8),q8=(C8={},E()(C8,ku.XXL,W8),E()(C8,ku.XL,W8),E()(C8,ku.L,W8),E()(C8,ku.M,[b8.strong,b8.em].concat(W8)),E()(C8,ku.S,[b8.strong,b8.em].concat(W8)),E()(C8,ku.XXXS,[b8.strong,b8.em].concat(W8)),C8),G8=function(e){var t=e.icons,n=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=Object(o.useMemo)((function(){return V8[t]}),[t]);return n?r:H8}({toolbarSize:e.toolbarSize,responsivenessEnabled:e.responsivenessEnabled});return Object(o.useMemo)((function(){return t.reduce((function(e,t){return t&&t.iconMark?n.includes(t.iconMark)?{dropdownItems:e.dropdownItems,singleItems:[].concat(D()(e.singleItems),[t])}:{dropdownItems:[].concat(D()(e.dropdownItems),[t]),singleItems:e.singleItems}:e}),{dropdownItems:[],singleItems:[]})}),[t,n])},K8=i.a.memo((function(e){var t=e.items,n=e.isReducedSpacing,r=e.editorView,i=Object(o.useCallback)((function(e){return function(){return e(r.state,r.dispatch),!1}}),[r.state,r.dispatch]);return Object(T.d)("span",{css:xn.c},t.map((function(e){return Object(T.d)(qc.b,{key:e.key,buttonId:e.buttonId,spacing:n?"none":"default",onClick:i(e.command),selected:e.isActive,disabled:e.isDisabled,title:e.tooltipElement,iconBefore:e.iconElement,"aria-pressed":e.isActive,"aria-label":String(e.content)})})))})),$8=i.a.memo((function(e){var t=e.label,n=e["aria-expanded"],r=e.isReducedSpacing,o=e.isSelected,i=e.isDisabled,a=e.onClick;return Object(T.d)(qc.b,{disabled:i,selected:o,onClick:a,spacing:r?"none":"default",title:t,iconBefore:Object(T.d)("div",{css:xn.j},Object(T.d)(J1.a,{label:""})),"aria-expanded":n,"aria-label":t,"aria-haspopup":!0})})),Y8=i.a.memo((function(e){var t=e.editorView,n=e.moreButtonLabel,r=e.isReducedSpacing,a=e.items,c=e.hasFormattingActive,s=e.popupsBoundariesElement,u=e.popupsMountPoint,l=e.popupsScrollableElement,d=function(){var e=Object(o.useState)(!1),t=mr()(e,2),n=t[0],r=t[1],i=Object(o.useCallback)((function(){r(!n)}),[n]),a=Object(o.useCallback)((function(){r(!1)}),[]);return[n,i,a]}(),f=mr()(d,3),p=f[0],h=f[1],m=f[2],v=Object(o.useMemo)((function(){return[{items:a}]}),[a]),b=Object(o.useCallback)((function(e){e.item.command(t.state,t.dispatch),m()}),[t.state,t.dispatch,m]);return i.a.createElement(FF,{mountTo:u,onOpenChange:m,boundariesElement:s,scrollableElement:l,onItemActivated:b,isOpen:p,items:v,zIndex:he.y,fitHeight:188,fitWidth:136,shouldUseDefaultRole:!0},i.a.createElement($8,{isSelected:p||c,label:n,isReducedSpacing:r,isDisabled:!1,onClick:h,"aria-expanded":p}))}));function X8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var J8=function(e){var t,n,r,i,a=e.shouldUseResponsiveToolbar,c=e.popupsMountPoint,s=e.popupsBoundariesElement,u=e.popupsScrollableElement,l=e.editorView,d=e.toolbarSize,f=e.isReducedSpacing,p=e.isToolbarDisabled,h=e.intl,m=Object(o.useMemo)((function(){return l.state}),[l.state]),v=Object(o.useState)(""),b=mr()(v,2),g=b[0],y=b[1],O=function(e){var t=e.isToolbarDisabled,n=e.editorState,r=e.intl,i=F8(n),a={schema:n.schema,textFormattingPluginState:i,intl:r,isToolbarDisabled:Boolean(t)},c=I8(a),s=M8(a),u=R8(a),l=N8(a),d=D8(a),f=L8(a),p=B8(a);return Object(o.useMemo)((function(){return[c,s,u,l,d,f,p]}),[c,s,u,l,d,f,p])}({editorState:m,intl:h,isToolbarDisabled:p}),w=U8({editorState:m,intl:h}),k=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=Object(o.useMemo)((function(){return q8[t]}),[t]);return n?r:W8}({toolbarSize:d,responsivenessEnabled:a}),E=function(e){var t=e.editorState,n=e.iconTypeList,r=F8(t);return Object(o.useMemo)((function(){return!!r&&n.some((function(e){return r["".concat(e,"Active")]}))}),[r,n])}({editorState:l.state,iconTypeList:k}),x=G8({icons:O,toolbarSize:d,responsivenessEnabled:a}),S=x.dropdownItems,j=x.singleItems,C=h.formatMessage(x8.a.textFormattingOff),_=h.formatMessage(x8.a.superscriptOffSubscriptOn),A=h.formatMessage(x8.a.subscriptOffSuperscriptOn),P=[].concat(D()(S),D()(j)).filter((function(e){return e.isActive})),I=(t=P,n=Object(o.useRef)([]),Object(o.useEffect)((function(){n.current=t})),n.current),M=R9(P,"Subscript")&&R9(I,"Superscript"),R=R9(P,"Superscript")&&R9(I,"Subscript"),N="";I&&P.length>I.length?(r=M9(P,I),N=h.formatMessage(x8.a.on,{formattingType:r[0].content})):(r=M9(I,P))&&r.length&&(N=h.formatMessage(x8.a.off,{formattingType:r[0].content}),"Code"===(null===(i=P[0])||void 0===i?void 0:i.content)&&(N=h.formatMessage(x8.a.codeOn,{textFormattingOff:(null==I?void 0:I.length)>1?C:N})),M&&(N=_),R&&(N=A));(null==P||!P.length)&&(null==I?void 0:I.length)>1&&(N=C);var L=Object(o.useMemo)((function(){return w?[].concat(D()(S),[w]):S}),[w,S]),B=h.formatMessage(x8.a.moreFormatting);return Object(o.useEffect)((function(){N&&y(N)}),[N]),Object(T.d)("span",{css:xn.c},g&&Object(T.d)(NJ.a,{ariaLive:"assertive",text:g,ariaRelevant:"additions",delay:250}),Object(T.d)(K8,{items:j,editorView:l,isReducedSpacing:f}),Object(T.d)("span",{css:xn.l},p?Object(T.d)("div",null,Object(T.d)($8,{label:B,isReducedSpacing:f,isDisabled:!0,isSelected:!1,"aria-expanded":void 0,"aria-pressed":void 0})):Object(T.d)(Y8,{popupsMountPoint:c,popupsBoundariesElement:s,popupsScrollableElement:u,editorView:l,isReducedSpacing:f,moreButtonLabel:B,hasFormattingActive:E,items:L}),Object(T.d)("span",{css:xn.h})))},Z8=function(e){b()(n,e);var t=X8(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.popupsMountPoint,n=e.popupsScrollableElement,r=e.toolbarSize,o=e.isReducedSpacing,i=e.editorView,a=e.isToolbarDisabled,c=e.shouldUseResponsiveToolbar,s=e.intl;return Object(T.d)(J8,{popupsMountPoint:t,popupsScrollableElement:n,toolbarSize:r,isReducedSpacing:o,editorView:i,isToolbarDisabled:a,shouldUseResponsiveToolbar:c,intl:s})}}]),n}(i.a.PureComponent),Q8=Object(Ji.c)(Z8),e7=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"textFormatting",marks:function(){return[{name:"em",mark:b9.a},{name:"strong",mark:g9.a},{name:"strike",mark:y9.a}].concat(e.disableCode?[]:{name:"code",mark:O9.a}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:w9.a}).concat(e.disableUnderline?[]:{name:"underline",mark:k9.a})},pmPlugins:function(){return[{name:"textFormatting",plugin:function(e){var t=e.dispatch;return V9(t)}},{name:"textFormattingCursor",plugin:function(){return X9}},{name:"textFormattingInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return d8(t,n)}},{name:"textFormattingSmartRule",plugin:function(t){var n=t.featureFlags;return e.disableSmartTextCompletion?void 0:y8(n)}},{name:"textFormattingClear",plugin:function(e){var t=e.dispatch;return G9(t)}},{name:"textFormattingClearKeymap",plugin:function(){return Y9()}},{name:"textFormattingKeymap",plugin:function(e){return f8(e.schema)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsScrollableElement,a=t.isToolbarReducedSpacing,c=t.toolbarSize,s=t.disabled;return i.a.createElement(Xa.a,{plugins:{textFormattingState:I4,clearFormattingPluginState:q9},render:function(){return i.a.createElement(Q8,{editorState:n.state,popupsMountPoint:r,popupsScrollableElement:o,toolbarSize:c,isReducedSpacing:a,editorView:n,isToolbarDisabled:s,shouldUseResponsiveToolbar:Boolean(e.responsiveToolbarMenu)})}})}}},t7=n(1189),n7=n(1190),r7=n(595),o7=n(594),i7=n(608),a7=n(609),c7=function(e){return Object(T.d)(RX,e)},s7=new dt.PluginKey("unsupportedContentPlugin"),u7=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher,r=e.dispatchAnalyticsEvent;return new Za.a({key:s7,props:{nodeViews:{confluenceUnsupportedBlock:pE.fromComponent(hX,t,n,{dispatchAnalyticsEvent:r},void 0,!0),confluenceUnsupportedInline:bi({pmPluginFactoryParams:e,Component:c7,extraComponentProps:{dispatchAnalyticsEvent:r}}),unsupportedBlock:pE.fromComponent(hX,t,n,{dispatchAnalyticsEvent:r},void 0,!0),unsupportedInline:bi({pmPluginFactoryParams:e,Component:c7,extraComponentProps:{dispatchAnalyticsEvent:r}})}}})},l7=function(){return{name:"unsupportedContent",marks:function(){return[{name:"unsupportedMark",mark:t7.a},{name:"unsupportedNodeAttribute",mark:n7.a}]},nodes:function(){return[{name:"confluenceUnsupportedBlock",node:r7.a},{name:"confluenceUnsupportedInline",node:o7.a},{name:"unsupportedBlock",node:i7.a},{name:"unsupportedInline",node:a7.a}]},pmPlugins:function(){return[{name:"unsupportedContent",plugin:u7}]}}},d7=n(579),f7=n(580),p7=n(581);var h7=new dt.PluginKey("fixChromeSelectionPlugin");function m7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m7(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b7=new dt.PluginKey("contextIdentiferPlugin"),g7=function(e){var t;if(e)return null===(t=b7.getState(e))||void 0===t?void 0:t.contextIdentifierProvider},y7=new dt.PluginKey("newlinePreserveMarksPlugin"),O7=function(e){return!!e.selection.$to.parent.marks.find((function(t){return t.type===e.schema.marks.alignment}))},w7=function(e){return!yT.getState(e).active},k7=function(e,t){return t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0},E7=function(){return new Za.a({key:y7,props:{handleKeyDown:fp({Enter:Object(Ss.b)([uc.k,O7,w7],k7)})}})},x7=new dt.PluginKey("inlineCursorTargetPlugin"),S7=function(e){return e&&e.type.isInline&&!e.type.isText};function j7(e){var t=e.event,n=e.view,r=e.cursorTarget;t.stopPropagation(),t.preventDefault();var o=t.data||"",i=n.state.tr;n.someProp("handleTextInput",(function(e){return e(n,r.positions.from,r.positions.to,o)}))||(i.insertText(o),n.dispatch(i))}function C7(e){var t,n,r,o={},i={},a=e.schema.nodes,c=[null===(t=a.extension)||void 0===t?void 0:t.name,null===(n=a.inlineExtension)||void 0===n?void 0:n.name,null===(r=a.bodiedExtension)||void 0===r?void 0:r.name];return e.doc.descendants((function(e){var t,n=e.type.name;n in o?o[n]++:o[n]=1;var r,a=n;c.includes(a)&&null!==(t=e.attrs)&&void 0!==t&&t.extensionType&&((a="".concat(e.attrs.extensionType," - ").concat(null===(r=e.attrs)||void 0===r?void 0:r.extensionKey))in i?i[a]++:i[a]=1);return!0})),{nodeCount:o,extensionNodeCount:i}}var T7=function(e){return performance.now()-e},_7=function(){function e(t){var n=t.samplingRate,r=t.slowThreshold,o=t.normalThreshold,i=t.degradedThreshold,a=t.dispatchAverage,c=t.dispatchSample,s=t.onSampleStart,u=t.onSampleEnd,l=t.onSlowInput;d()(this,e),E()(this,"samples",[]),E()(this,"total",0),this.currentStart=null,this.samplingRate=n,this.slowThreshold=r,this.normalThreshold=o,this.degradedThreshold=i,this.dispatchAverage=a,this.dispatchSample=c,this.onSampleStart=s,this.onSampleEnd=u,this.onSlowInput=l}return p()(e,[{key:"start",value:function(){var e;(this.currentStart=performance.now(),this.samples.length+1===this.samplingRate)&&(null===(e=this.onSampleStart)||void 0===e||e.call(this))}},{key:"end",value:function(){if(null!==this.currentStart){var e,t,n=!1,r=T7(this.currentStart);if(this.push(r),r>this.slowThreshold)null===(e=this.onSlowInput)||void 0===e||e.call(this,r),n=!0;if(this.samples.length===this.samplingRate)this.flush(),null===(t=this.onSampleEnd)||void 0===t||t.call(this,r,{isSlow:n,severity:this.severity(r)})}}},{key:"flush",value:function(){0!==this.samples.length&&(this.dispatch(),this.samples=[],this.total=0)}},{key:"dispatch",value:function(){var e,t;null===(e=this.dispatchSample)||void 0===e||e.call(this,this.getLast(),this.severity(this.getLast()));var n=this.getMedian();null===(t=this.dispatchAverage)||void 0===t||t.call(this,{mean:this.getMean(),median:n,sampleSize:this.samples.length},this.severity(n))}},{key:"push",value:function(e){this.samples.push(e),this.total+=e}},{key:"severity",value:function(e){return Object(Z.h)(e,this.normalThreshold,this.degradedThreshold)}},{key:"getLast",value:function(){return this.samples[this.samples.length-1]}},{key:"getMean",value:function(){return this.total/this.samples.length}},{key:"getMedian",value:function(){if(1===this.samples.length)return this.samples[0];this.samples.sort((function(e,t){return e-t}));var e=(this.samples.length+1)/2,t=Math.floor(e);return 0===e%t?this.samples[e-1]:(this.samples[t-1]+this.samples[t])/2}}]),e}();function A7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A7(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I7=new dt.PluginKey("frozenEditor"),M7=function(e,t,n,r,o,i){var a,c=t.state,s=r(c);return e({action:wt.a.BROWSER_FREEZE,actionSubject:wt.b.EDITOR,attributes:P7(P7({objectId:null===(a=g7(c))||void 0===a?void 0:a.objectId,freezeTime:n,nodeSize:c.doc.nodeSize},s),{},{participants:Object(si.a)(t.state),interactionType:o,severity:i}),eventType:wt.e.OPERATIONAL})};function R7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R7(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D7,L7,B7=xe.a.chrome&&xe.a.chrome_version>=88,F7=function(e){return{name:"base",pmPlugins:function(){var t=[{name:"filterStepsPlugin",plugin:function(e){return function(e){return new Za.a({filterTransaction:function(t){return!(t.steps||[]).some((function(e){return e.from>e.to}))||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:wt.a.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:wt.b.EDITOR,attributes:{analyticsEventPayloads:Object(Ot.b)(t)},eventType:wt.e.OPERATIONAL}),!1)}})}(e.dispatchAnalyticsEvent)}}];return t.push({name:"inlineCursorTargetPlugin",plugin:function(){return e&&e.allowInlineCursorTarget?new Za.a({key:x7,state:{init:function(){return{cursorTarget:void 0}},apply:function(e){var t=e.selection,n=e.doc,r=t.$from,o=t.$to,i=e.getMeta(x7);if(t&&Object(wa.r)(t)&&!i){var a=S7(r.nodeAfter),c=S7(r.nodeBefore),s=0===r.parentOffset&&S7(r.nodeAfter),u=n.resolve(r.pos).node().lastChild===r.nodeBefore&&S7(r.nodeBefore),l=function(e){var n=document.createElement("span");return n.contentEditable="true",n.appendChild(document.createTextNode("")),n.className="cursor-target",ft.a.widget(t.from,n,{raw:!0,side:"left"===e?-1:1,key:"inlineCursor"})};if(!xe.a.safari&&(a||u)&&(c||s))return{cursorTarget:{decorations:[l("left"),l("right")],positions:{from:r.pos,to:o.pos}}};if(xe.a.safari){if(u||c&&a)return{cursorTarget:{decorations:[l("left")],positions:{from:r.pos,to:o.pos}}};if(s)return{cursorTarget:{decorations:[l("right")],positions:{from:r.pos,to:o.pos}}}}}return{cursorTarget:void 0}}},props:{decorations:function(e){var t=e.doc,n=x7.getState(e).cursorTarget;return function(e){return!(!e||e.decorations.includes(null))}(n)?ft.b.create(t,n.decorations):null},handleDOMEvents:{keydown:function(e,t){return xe.a.safari&&t instanceof KeyboardEvent&&t.shiftKey&&("ArrowLeft"===t.key||"ArrowRight"===t.key)&&e.dispatch(e.state.tr.setMeta(x7,{cursorTarget:void 0})),!1},compositionend:function(e,t){var n=t,r=e.state,o=x7.getState(r).cursorTarget;return void 0!==o&&(j7({event:n,cursorTarget:o,view:e}),!0)},beforeinput:function(e,t){var n=t,r=e.state,o=x7.getState(r).cursorTarget;return!n.isComposing&&void 0!==o&&(j7({event:n,cursorTarget:o,view:e}),!0)}}}}):void 0}}),t.push({name:"focusHandlerPlugin",plugin:function(e){return function(e){return new Za.a({key:CC,state:{init:function(){return!0},apply:function(t,n){var r=t.getMeta(CC);return"boolean"==typeof r&&r!==n?(e(CC,r),r):n}},props:{handleDOMEvents:{click:function(e){return CC.getState(e.state)||e.dispatch(e.state.tr.setMeta(CC,e.hasFocus())),!1},focus:function(e){return CC.getState(e.state)||e.dispatch(e.state.tr.setMeta(CC,!0)),!1},blur:function(e){return CC.getState(e.state)&&e.dispatch(e.state.tr.setMeta(CC,!1)),!1}}}})}(e.dispatch)}},{name:"newlinePreserveMarksPlugin",plugin:E7},{name:"reactNodeView",plugin:function(){return vE}},{name:"frozenEditor",plugin:function(t){var n,r=t.dispatchAnalyticsEvent;return null!=e&&null!==(n=e.inputTracking)&&void 0!==n&&n.enabled||null!=e&&e.ufo?function(e,t,n,r){var o,i=null;null!=n&&n.trackInteractionType&&(o=$b.a.LOADING);var a=t&&"number"==typeof t.samplingRate?t.samplingRate:100,c=t&&"number"==typeof t.slowThreshold?t.slowThreshold:300,s=t&&"number"==typeof t.freezeThreshold?t.freezeThreshold:600,u=t&&t.countNodes,l=null,d={},f=function(e){return e===l||(d=u?C7(e):{},l=e),d},p=(null==t?void 0:t.trackSeverity)||!1,h=(null==t?void 0:t.severityNormalThreshold)||100,m=(null==t?void 0:t.severityDegradedThreshold)||500;return new Za.a({key:I7,props:Object(Q.a)()?{handleTextInput:function(e){var t;return null===(t=i)||void 0===t||t.start(),null!=n&&n.trackInteractionType&&(o=$b.a.TYPING),requestAnimationFrame((function(){var e;null===(e=i)||void 0===e||e.end()})),!1},handleDOMEvents:null!=n&&n.trackInteractionType?{click:function(){return o=$b.a.CLICKING,!1},paste:function(){return o=$b.a.PASTING,!1}}:void 0}:void 0,view:function(u){if(!Object(Q.b)())return{};var l=r?se.getInstance(u):void 0;null!=t&&t.enabled&&(i=new _7({samplingRate:a,slowThreshold:c,normalThreshold:h,degradedThreshold:m,onSampleStart:function(){null==l||l.start(oe.typing)},onSampleEnd:function(e,t){var n,r=t.isSlow,o=t.severity,i=u.state,a=f(i);r&&(null==l||l.addMetadata(oe.typing,{slowInput:!0})),null==l||l.success(oe.typing,P7(P7({nodeSize:i.doc.nodeSize},a),{},{participants:Object(si.a)(i),objectId:null===(n=g7(i))||void 0===n?void 0:n.objectId,time:e,severity:p?o:void 0}))},dispatchSample:function(t,n){var r,o=u.state,i=f(o),a={action:wt.a.INPUT_PERF_SAMPLING,actionSubject:wt.b.EDITOR,attributes:P7(P7({time:t,nodeSize:o.doc.nodeSize},i),{},{participants:Object(si.a)(o),objectId:null===(r=g7(o))||void 0===r?void 0:r.objectId,severity:p?n:void 0}),eventType:wt.e.OPERATIONAL};e(a)},dispatchAverage:function(t,n){var r,o=t.mean,i=t.median,a=t.sampleSize,c=u.state,s=f(c),l={action:wt.a.INPUT_PERF_SAMPLING_AVG,actionSubject:wt.b.EDITOR,attributes:P7(P7({mean:o,median:i,sampleSize:a},s),{},{nodeSize:c.doc.nodeSize,severity:p?n:void 0,participants:Object(si.a)(c),objectId:null===(r=g7(c))||void 0===r?void 0:r.objectId}),eventType:wt.e.OPERATIONAL};e(l)},onSlowInput:function(t){var n,r=u.state,o=f(r);e({action:wt.a.SLOW_INPUT,actionSubject:wt.b.EDITOR,attributes:P7(P7({time:t,nodeSize:r.doc.nodeSize},o),{},{participants:Object(si.a)(r),objectId:null===(n=g7(r))||void 0===n?void 0:n.objectId}),eventType:wt.e.OPERATIONAL})}}));try{new PerformanceObserver((function(t){for(var r=t.getEntries(),i=0;i<r.length;i++){var a=r[i].duration;a>s&&M7(e,u,a,f,null!=n&&n.trackInteractionType?o:void 0,null!=n&&n.trackSeverity?Object(Z.h)(a,n.severityNormalThreshold||2e3,n.severityDegradedThreshold||3e3):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:function(){var e;null===(e=i)||void 0===e||e.flush()}}}})}(r,e.inputTracking,e.browserFreezeTracking,e.ufo):void 0}},{name:"decorationPlugin",plugin:function(){return new Za.a({key:Vg,state:{init:function(){return{decoration:void 0}},apply:function(e,t){t.decoration&&e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0});var n=e.getMeta(Vg);if(!n)return t;switch(n.action){case Ug.DECORATION_ADD:return{decoration:n.data};case Ug.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations:function(e){var t=e.doc,n=Vg.getState(e).decoration;return n?ft.b.create(t,[n]):null}}})}},{name:"history",plugin:function(){return Kh()}},{name:"codeBlockIndent",plugin:function(){return A6(N7(N7({},hm.b),{},{"Mod-[":function(){return!0},"Mod-]":function(){return!0}}))}},{name:"contextIdentifier",plugin:function(e){e.dispatch;return function(e,t){return new Za.a({key:b7,state:{init:function(){return{}},apply:function(e,t){return e.getMeta(b7)?e.getMeta(b7):t}},view:function(e){var n=function(t,n){n&&"contextIdentifierProvider"===t&&n.then((function(t){var n=e.state.tr.setMeta(b7,{contextIdentifierProvider:v7({},t)});e.dispatch(n)}))};return t&&t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&t.unsubscribe("contextIdentifierProvider",n)}}}})}(0,e.providerFactory)}},{name:"betterTypeHistory",plugin:function(e){e.dispatch,e.providerFactory;return v6()}}),e&&e.allowScrollGutter&&t.push({name:"scrollGutterPlugin",plugin:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getScrollElement,n=e.allowCustomScrollHandler,r=e.gutterSize,o=void 0===r?120:r;if(t){var i=W5(o),a=null;return new Za.a({props:{scrollThreshold:o/2,scrollMargin:o,handleScrollToSelection:function(){return!1!==n&&(!!(i.isMounted()&&i.visible()&&a)&&V5(a,i.element(),o))}},view:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){a=t(n);var r=n.dom,c=r.parentElement;return{destroy:function(){i.destroy(),a=c=r=null},update:function(t,n){if(a&&c){var r=t.state;if(n.selection!==r.selection){var s=i.isMounted(),u=function(){s||(i.observe(a),i.addGutter(c))};if(e.persistScrollGutter)Object(uc.g)(r.doc)?i.removeGutter():u();else{var l=U5(r),d=a.offsetHeight-(l&&l.keyboardHeight?l.keyboardHeight:0);c.offsetHeight-(s?o:0)>=d-o?u():s&&i.removeGutter()}}}}}}))})}}(e.allowScrollGutter)}}),B7&&t.push({name:"fixChrome88SelectionPlugin",plugin:function(){return new Za.a({key:h7,props:{handleDOMEvents:{focus:function(e){return"div"!==e.dom.tagName.toLowerCase()||Object(Qi.isNodeSelection)(e.state.selection)||(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1}}}})}}),t.push({name:"fixChromeSpellCheckingPlugin",plugin:function(){return new Za.a({key:new dt.PluginKey("fixChrome96SpellChecking"),props:{attributes:function(e){var t=Object(oi.b)(e);if(xe.a.chrome&&t.maxUnsafeChromeSpellcheckingVersion&&xe.a.chrome_version>=96&&xe.a.chrome_version<=t.maxUnsafeChromeSpellcheckingVersion)return{spellcheck:"false"}}}})}}),t},nodes:function(){return[{name:"doc",node:d7.a},{name:"paragraph",node:f7.a},{name:"text",node:p7.a}]}}};function z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z7(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(D7||(D7={})),function(e){e.BEFORE_TEXT_INSERTED="BEFORE_TEXT_INSERTED",e.AFTER_TEXT_INSERTED="AFTER_TEXT_INSERTED"}(L7||(L7={}));var H7,W7=function(e){var t=e.typeAheadHandlers,n=e.removeDecorations,r=e.createDecorations,o=function(e){return function(t){return t instanceof LT&&e.find((function(e){return e.trigger===t.trigger}))||null}}(t),i=function(e,t){var o=t.tr,i=t.triggerHandler,a=t.inputMethod,c=t.reopenQuery,s=t.selectedIndex;n(e.decorationSet);var u=r(o,{triggerHandler:i,inputMethod:a,reopenQuery:c}),l=u.decorationSet,d=u.decorationElement,f=u.stats;return U7(U7({},e),{},{stats:f,decorationSet:l,triggerHandler:i,decorationElement:d,inputMethod:a,selectedIndex:"number"==typeof s?s:0,items:[],query:c||""})},a=function(e){return n(e.decorationSet),U7(U7({},e),{},{inputMethod:null,query:"",decorationElement:null,decorationSet:ft.b.empty,stats:null,triggerHandler:void 0,items:[]})};return function(e,t,r){var c=e.getMeta(yT)||{},s=o(r);if(r&&s&&function(e){if(!(e instanceof LT))return!1;var t=e.isInsertionStep()&&e.stage===DT.DELETING_RAW_QUERY,n=e.isUndoingStep()&&e.stage===DT.INSERTING_ITEM;return t||n}(r))return i(t,{tr:e,triggerHandler:s,inputMethod:wt.f.KEYBOARD,reopenQuery:r.query,selectedIndex:r.selectedIndex});if(function(e){if(!(e instanceof LT))return!1;var t=e.isInsertionStep()&&e.stage===DT.INSERTING_ITEM,n=e.isUndoingStep()&&e.stage===DT.DELETING_RAW_QUERY;return t||n}(r))return a(t);var u,l=c||{},d=l.action,f=l.params,p=d===sT.OPEN_TYPEAHEAD_AT_CURSOR&&((u=null==f?void 0:f.triggerHandler)&&Object.values(gT.b).includes(u.id)&&"string"==typeof u.trigger&&"function"==typeof u.selectItem&&"function"==typeof u.getItems),h=e.selectionSet&&(e.isGeneric||Boolean(e.getMeta("pointer"))),m=[sT.CLOSE_TYPE_AHEAD,sT.INSERT_ITEM].includes(d)||h,v=d===sT.CHANGE_QUERY,b=d===sT.UPDATE_LIST_ITEMS,g=d===sT.UPDATE_SELECTED_INDEX;if(p)return i(t,{tr:e,triggerHandler:f.triggerHandler,inputMethod:f.inputMethod});if(m)return a(t);if(v)return U7(U7({},t),{},{query:f.query});if(b){var y=f.items,O=t.selectedIndex;return U7(U7({},t),{},{items:y,selectedIndex:Math.max(O>=y.length?y.length-1:O,0)})}if(g)return U7(U7({},t),{},{selectedIndex:f.selectedIndex});if(e.docChanged){var w=t.decorationSet.map(e.mapping,e.doc,{onRemove:function(){n(t.decorationSet)}});return U7(U7({},t),{},{decorationSet:w})}return t}},V7=Object(T.c)(H7||(H7=S()(["\n  outline: none;\n"]))),q7=i.a.memo((function(e){var t=e.triggerQueryPrefix,n=e.cancel,r=e.onQueryChange,i=e.onItemSelect,a=e.selectNextItem,c=e.selectPreviousItem,s=e.forceFocus,u=e.reopenQuery,l=e.onQueryFocus,d=e.onUndoRedo,f=Object(o.useRef)(document.createElement("span")),p=Object(o.useCallback)((function(){var e;return((null===(e=f.current)||void 0===e?void 0:e.textContent)||"").replace("","")}),[]),h=Object(o.useCallback)((function(e){var t=p();r(t)}),[r,p]),m=Object(o.useCallback)((function(e){var t,r=cp(e),o=document.getSelection(),s=(null===(t=f.current)||void 0===t?void 0:t.textContent)||"",u=p(),l=!1;switch(r){case" ":0===u.length&&(n({forceFocusOnEditor:!0,text:" ",addPrefixTrigger:!0,setSelectionAt:L7.AFTER_TEXT_INSERTED}),l=!0);break;case"Escape":n({text:u,forceFocusOnEditor:!0,addPrefixTrigger:!0,setSelectionAt:L7.AFTER_TEXT_INSERTED});break;case"Backspace":""!==s&&0!==s.length&&0!==(null==o?void 0:o.anchorOffset)||(e.stopPropagation(),e.preventDefault(),n({forceFocusOnEditor:!0,text:u,addPrefixTrigger:!1,setSelectionAt:L7.BEFORE_TEXT_INSERTED}));break;case"Enter":if(e.isComposing&&(229===e.which||229===e.keyCode))break;i(e.shiftKey?gT.a.SHIFT_ENTER:gT.a.ENTER);break;case"Tab":i(gT.a.TAB);break;case"ArrowDown":a();break;case"ArrowUp":c()}var h=function(e){var t=cp(e);return e.ctrlKey&&"y"===t||(e.ctrlKey||e.metaKey)&&e.shiftKey&&"Z"===t?"historyRedo":!(!e.ctrlKey&&!e.metaKey||"z"!==t)&&"historyUndo"}(e);if(d&&h&&d(h)&&(l=!0),function(e){return["Enter","Tab","ArrowDown","ArrowUp"].includes(e.key)}(e)||l)return e.stopPropagation(),e.preventDefault(),!1}),[d,i,a,n,c,p]),v=Object(o.useCallback)((function(e){var t;return e.stopPropagation(),e.preventDefault(),l(),null===(t=f.current)||void 0===t||t.focus(),!1}),[l]);return Object(o.useEffect)((function(){if(f.current){var e=f.current,t=function(e){l()},r=function(e){var t=cp(e);if(["ArrowLeft","ArrowRight"].includes(t)&&document.getSelection&&document.getSelection()){var r,o=(null===(r=f.current)||void 0===r?void 0:r.textContent)||"",i=document.getSelection(),a=i&&"ArrowRight"===t&&i.anchorOffset===o.length,c=i&&"ArrowLeft"===t&&0===i.anchorOffset;if(!a&&!c)return;return n({forceFocusOnEditor:!0,addPrefixTrigger:!0,text:p(),setSelectionAt:a?L7.AFTER_TEXT_INSERTED:L7.BEFORE_TEXT_INSERTED}),e.preventDefault(),void e.stopPropagation()}m(e)},o=function(e){var t,r=e.relatedTarget;r instanceof HTMLElement&&r.closest&&r.closest(".".concat("fabric-editor-typeahead"))||(!xe.a.chrome||"Range"===(null===(t=window.getSelection())||void 0===t?void 0:t.type)||"sourceCapabilities"in e&&e.sourceCapabilities)&&n({addPrefixTrigger:!0,text:p(),setSelectionAt:L7.BEFORE_TEXT_INSERTED,forceFocusOnEditor:!1})},i=function(){n({addPrefixTrigger:!1,text:"",forceFocusOnEditor:!0,setSelectionAt:L7.BEFORE_TEXT_INSERTED})},a=function(t){var n,r=t.target;if(!t.isComposing&&r instanceof HTMLElement){if("historyUndo"===t.inputType&&(0===(null===(n=r.textContent)||void 0===n?void 0:n.length)||""===r.textContent))return t.preventDefault(),t.stopPropagation(),void i();if(null!=t.data&&""===r.textContent&&(e.textContent="",xe.a.safari)){t.preventDefault();var o=document.createTextNode(t.data);e.appendChild(o);var a=window.getSelection(),c=document.createRange();c.setStart(o,o.length),c.collapse(!0),null==a||a.removeAllRanges(),null==a||a.addRange(c)}}};if(xe.a.safari){e.addEventListener("input",(function(e){var t,n=e.target;if(!e.isComposing&&n instanceof HTMLElement)return"historyUndo"===e.inputType&&1===(null===(t=n.textContent)||void 0===t?void 0:t.length)?(e.preventDefault(),e.stopPropagation(),void i()):void 0}))}return e.addEventListener("focusout",o),e.addEventListener("focusin",t),e.addEventListener("keydown",r),e.addEventListener("beforeinput",a),function(){e.removeEventListener("focusout",o),e.removeEventListener("focusin",t),e.removeEventListener("keydown",r),e.removeEventListener("beforeinput",a),xe.a.safari&&e.removeEventListener("input",null)}}}),[t,p,l,n,m]),Object(o.useEffect)((function(){var e="string"==typeof u&&u.trim().length>0;f.current&&s&&(f.current.textContent=e?u:"",requestAnimationFrame((function(){if(null!=f&&f.current){var t=window.getSelection();if(t&&e&&f.current.lastChild instanceof Text){var n=f.current.lastChild,r=document.createRange();r.setStart(f.current.lastChild,n.length),r.collapse(!0),t.removeAllRanges(),t.addRange(r)}f.current.focus()}})))}),[s,u]),Object(T.d)(o.Fragment,null,t,Object(T.d)("span",{css:V7,contentEditable:!0,ref:f,onKeyUp:h,onClick:v,role:"textbox",suppressContentEditableWarning:!0,"data-query-prefix":t}))}));q7.displayName="InputQuery";var G7=[],K7=function(e,t,n){var r=Object(o.useState)(G7),i=mr()(r,2),a=i[0],c=i[1],s=Object(o.useRef)(!0),u=Object(o.useRef)(t);return Object(o.useEffect)((function(){var r=null==e?void 0:e.getItems;if(r){var o={query:n||"",editorState:t.state},i=u.current;r(o).then((function(e){var t=e.length>0?e:G7;s.current&&c(t),queueMicrotask((function(){!function(e){return function(t,n){var r=t.tr;return r.setMeta(yT,{action:sT.UPDATE_LIST_ITEMS,params:{items:e}}),n&&n(r),!0}}(t)(i.state,i.dispatch)}))}))}else c(G7)}),[e,n]),Object(o.useEffect)((function(){return function(){s.current=!1}}),[]),a},$7=function(e){var t,n=e.view,r=e.setSelectionAt,o=e.text,i=e.forceFocusOnEditor,a=n.state,c=a.tr,s=a.schema;MT(c),o.length>0&&(c.replaceSelectionWith(s.text(o)),r===L7.BEFORE_TEXT_INSERTED&&(t=o,function(e){var n=e.selection.$from.pos,r=Math.max(n-t.length,0),o=e.doc.resolve(r),i=dt.TextSelection.findFrom(o,-1,!0);i&&e.setSelection(i)})(c)),n.dispatch(c),i&&n.focus()},Y7=function(e,t,n){var r=Object(o.useRef)(t),i=Object(o.useRef)(n),a=Object(o.useCallback)((function(t){var n=t.setSelectionAt,o=t.text,i=t.forceFocusOnEditor;if(e){var a=r.current;$7({view:a,setSelectionAt:n,text:o,forceFocusOnEditor:i})}}),[e]),c=Object(o.useCallback)((function(t){var n=t.mode,o=t.index,c=t.query,s=i.current;if(0!==s.length&&e){var u=s[o];if(u){var l=r.current;HT(l)({item:u,handler:e,mode:n,query:c,sourceListItem:s})}}else{var d="".concat(e.trigger).concat(c);a({forceFocusOnEditor:!0,setSelectionAt:L7.AFTER_TEXT_INSERTED,text:d})}}),[e,a]),s=Object(o.useCallback)((function(t){var n=t.mode,r=t.query,o=i.current;if(o&&o.length>1)return!1;if(1===o.length)queueMicrotask((function(){c({mode:n,query:r,index:0})}));else{var s="".concat(e.trigger).concat(r);queueMicrotask((function(){a({forceFocusOnEditor:!0,setSelectionAt:L7.AFTER_TEXT_INSERTED,text:n===gT.a.SPACE?s.concat(" "):s})}))}return!0}),[c,e,a]);return Object(o.useLayoutEffect)((function(){i.current=n}),[n]),[c,a,s]},X7=i.a.memo((function(e){var t=e.triggerHandler,n=e.editorView,r=(e.anchorElement,e.shouldFocusCursorInsideQuery),a=(e.popupsMountPoint,e.popupsBoundariesElement,e.popupsScrollableElement,e.createAnalyticsEvent,e.inputMethod,e.getDecorationPosition,e.reopenQuery),c=e.onUndoRedo,s=Object(o.useState)(!1),u=mr()(s,2),l=u[0],d=u[1],f=Object(o.useState)(a||""),p=mr()(f,2),h=p[0],m=p[1],v=Object(o.useRef)(h),b=Object(o.useRef)(n),g=K7(t,n,h);Object(o.useLayoutEffect)((function(){v.current=h}),[h]);var y=Y7(t,n,g),O=mr()(y,2),w=O[0],k=O[1],E=Object(o.useMemo)((function(){return TT({editorView:n,direction:"next"})}),[n]),x=Object(o.useMemo)((function(){return TT({editorView:n,direction:"previous"})}),[n]),S=Object(o.useCallback)((function(e){var n=e.setSelectionAt,r=e.addPrefixTrigger,o=e.text,i=e.forceFocusOnEditor;d(!0);var a=r?"".concat(t.trigger).concat(o):o;k({forceFocusOnEditor:i,setSelectionAt:n,text:a})}),[t,k]),j=Object(o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gT.a.SELECTED,t=b.current,n=ET(t.state),r=n.selectedIndex;d(!0),queueMicrotask((function(){w({mode:e,index:r,query:v.current})}))}),[w]),C=Object(o.useCallback)((function(){}),[]),T=Object(o.useCallback)((function(){d(!0)}),[]);return Object(o.useEffect)((function(){var e=b.current,t=ET(e.state);0!==h.length&&h!==t.query&&t.triggerHandler&&RT(h)(e.state,e.dispatch)}),[h,a]),function(e){var t=e.triggerHandler,n=e.items,r=e.query,i=e.editorView,a=e.closePopup,c=Object(o.useRef)(i);Object(o.useLayoutEffect)((function(){if(r&&"function"==typeof t.forceSelect){var e=t.forceSelect({items:n,query:r,editorState:c.current.state});if(e){var o=c.current;a(),queueMicrotask((function(){HT(o)({item:e,mode:gT.a.SPACE,query:r,handler:t,sourceListItem:n})}))}}}),[t,a,r,n])}({triggerHandler:t,items:g,query:h,editorView:n,closePopup:T}),l?null:i.a.createElement(q7,{triggerQueryPrefix:t.trigger,onQueryChange:m,onItemSelect:j,selectNextItem:E,selectPreviousItem:x,onQueryFocus:C,cancel:S,forceFocus:r,onUndoRedo:c,reopenQuery:a})})),J7=function(e,t){var n,r=e.find((function(e){var n;return(null===(n=e.getMeta(yT))||void 0===n?void 0:n.action)===t}));return r?null===(n=r.getMeta(yT))||void 0===n?void 0:n.params:null};function Z7(e){var t=e.reactDispatch,n=e.popupMountRef,r=e.createAnalyticsEvent,o=e.typeAheadHandlers,a=function(e){var t=e.intl,n=e.popupMountRef,r=e.createAnalyticsEvent;return{createDecorations:function(e,o){var a=o.triggerHandler,s=o.inputMethod,u=o.reopenQuery,l=e.selection;if(!(l instanceof dt.TextSelection&&l.$cursor))return{decorationSet:ft.b.empty,stats:null,decorationElement:null};var d="decoration_id_".concat("typeahead_decoration_key","_").concat(mT()()),f=l.$cursor,p=document.createElement("mark"),h=new wT,m=!0,v=ft.a.widget(f.pos,(function(e,o){var l,f,h;p.setAttribute("id",d),p.setAttribute("role","search"),p.setAttribute("aria-label","On ".concat(a.id)),p.dataset.typeAheadQuery="true",p.dataset.trigger=a.trigger,p.dataset.editorPopup="true",p.dataset.typeAhead="typeaheadDecoration",p.style.color=Object(ot.a)("color.text.accent.blue",Ce.B400),p.style.backgroundColor="transparent";return c.a.render(i.a.createElement(nX.b,{locale:t.locale||"en",messages:t.messages,formats:t.formats},i.a.createElement(X7,{triggerHandler:a,editorView:e,anchorElement:p,createAnalyticsEvent:r,inputMethod:s,getDecorationPosition:o,shouldFocusCursorInsideQuery:m,popupsMountPoint:null===(l=n.current)||void 0===l?void 0:l.popupsMountPoint,popupsBoundariesElement:null===(f=n.current)||void 0===f?void 0:f.popupsBoundariesElement,popupsScrollableElement:null===(h=n.current)||void 0===h?void 0:h.popupsScrollableElement,onUndoRedo:function(t){if(!["historyUndo","historyRedo"].includes(t))return!1;var n="string"==typeof u&&u.trim().length>0,r=ST(e.state);if(n||0===r.length){var o="historyUndo"===t?$h:Yh,i=e.state.tr,a=o(e.state,(function(e){i=e}));return a&&(MT(i),e.dispatch(i),e.focus()),a}return!1},reopenQuery:u})),p),m=!1,p}),{isTypeAheadDecoration:!0,key:d,side:0,stopEvent:function(e){var t=cp(e),n=document.getSelection();return"ArrowLeft"!==t||0!==(null==n?void 0:n.anchorOffset)},ignoreSelection:!1});return{decorationSet:ft.b.create(e.doc,[v]),decorationElement:p,stats:h}},removeDecorations:function(e){if(!e||e===ft.b.empty)return!1;var t=e.find(void 0,void 0,(function(e){return e.isTypeAheadDecoration}));return!(!t||0===t.length)&&(t.forEach((function(e){var t=e.spec;if(t.key){var n=document.querySelector("#".concat(t.key));n&&c.a.unmountComponentAtNode(n)}})),!0)}}}({intl:(0,e.getIntl)(),popupMountRef:n,createAnalyticsEvent:r}),s=a.createDecorations,u=a.removeDecorations,l=W7({createDecorations:s,removeDecorations:u,typeAheadHandlers:o,popupMountRef:n});return new Za.a({key:yT,state:{init:function(){return{typeAheadHandlers:o,query:"",decorationSet:ft.b.empty,decorationElement:null,items:[],selectedIndex:0,stats:null,inputMethod:null}},apply:function(e,n,r,o){var i=function(e){var t=e.steps.filter((function(e){return e instanceof LT}));return 1===t.length?t[0]:null}(e),a=l(e,n,i);return n!==a&&t(yT,a),a}},appendTransaction:function(e,t,n){var r=J7(e,sT.INSERT_RAW_QUERY);if(r){var o=r(n);if(o)return o}},view:function(){return{update:function(e){}}},props:{decorations:function(e){var t;return null===(t=yT.getState(e))||void 0===t?void 0:t.decorationSet},handleDOMEvents:{compositionend:function(e,t){return!1},click:function(e,t){var n=t.target;return!!(n instanceof HTMLElement&&Object(Zi.a)(n,"[data-type-ahead=".concat("typeaheadDecoration","]")))}}}})}function Q7(){return new Za.a({appendTransaction:function(e,t,n){var r=J7(e,sT.INSERT_ITEM);if(r){var o=r(n);if(o)return o}}})}var eee=n(1184);function tee(e,t,n){if(t&&0!==t.length){var r=t.reduce((function(e,t){var n=t.customRegex||t.trigger;if(!n)return e;var r=new RegExp("(^|[.!?\\s".concat("","])(").concat(n,")$"));return e.push(am(r,(function(e,n){return IT({triggerHandler:t,inputMethod:wt.f.KEYBOARD})(e.tr)}))),e}),[]);return cm("type-ahead",r,{allowInsertTextOnDocument:!1,useUnpredictableInputRule:n.useUnpredictableInputRule})}}var nee=n(257),ree=n(180);function oee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var iee=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function aee(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||iee(r)&&iee(o)))return!1;var r,o;return!0}var cee=function(e,t){var n;void 0===t&&(t=aee);var r,o=[],i=!1;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},see="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function uee(e){cancelAnimationFrame(e.id)}function lee(e,t){var n=see();var r={id:requestAnimationFrame((function o(){see()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var dee=null;function fee(e){if(void 0===e&&(e=!1),null===dee||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?dee="positive-descending":(t.scrollLeft=1,dee=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),dee}return dee}var pee=function(e,t){return e};function hee(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,a=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,u=e.initInstanceProps,l=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=u(r.props,oee(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:oee(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=cee((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=cee((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,a=o.direction,c=o.itemSize,s=o.layout,u=r._getItemStyleCache(l&&c,l&&s,l&&a);if(u.hasOwnProperty(e))t=u[e];else{var d=n(r.props,e,r._instanceProps),f=i(r.props,e,r._instanceProps),p="horizontal"===a||"horizontal"===s,h="rtl"===a,m=p?d:0;u[e]=t={position:"absolute",left:h?void 0:m,right:h?m:void 0,top:p?0:d,height:p?"100%":f,width:p?f:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=cee((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,a=o;if("rtl"===t)switch(fee()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;r.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&uee(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=lee(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}Object(Va.a)(t,e),t.getDerivedStateFromProps=function(e,t){return mee(e,t),d(e),null};var f=t.prototype;return f.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},f.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(a(this.props,e,t,r,this._instanceProps))},f.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},f.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(fee()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,c=i.scrollWidth;i.scrollLeft=c-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},f.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&uee(this._resetIsScrollingTimeoutId)},f.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,a=e.height,c=e.innerRef,s=e.innerElementType,u=e.innerTagName,l=e.itemCount,d=e.itemData,f=e.itemKey,p=void 0===f?pee:f,h=e.layout,m=e.outerElementType,v=e.outerTagName,b=e.style,g=e.useIsScrolling,y=e.width,O=this.state.isScrolling,w="horizontal"===i||"horizontal"===h,k=w?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),x=E[0],S=E[1],j=[];if(l>0)for(var C=x;C<=S;C++)j.push(Object(o.createElement)(t,{data:d,key:p(C,d),index:C,isScrolling:g?O:void 0,style:this._getItemStyle(C)}));var T=r(this.props,this._instanceProps);return Object(o.createElement)(m||v||"div",{className:n,onScroll:k,ref:this._outerRefSetter,style:Object(ree.a)({position:"relative",height:a,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},b)},Object(o.createElement)(s||u||"div",{children:j,ref:c,style:{height:w?"100%":T,pointerEvents:O?"none":void 0,width:w?T:"100%"}}))},f._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,c=i.scrollOffset,s=i.scrollUpdateWasRequested;this._callOnScroll(a,c,s)}},f._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,i=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var u=c(this.props,a,this._instanceProps),l=s(this.props,u,a,this._instanceProps),d=o&&"backward"!==i?1:Math.max(1,n),f=o&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,u-d),Math.max(0,Math.min(t-1,l+f)),u,l]},t}(o.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var mee=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},vee=function(e,t,n){var r=e.itemSize,o=n.itemMetadataMap,i=n.lastMeasuredIndex;if(t>i){var a=0;if(i>=0){var c=o[i];a=c.offset+c.size}for(var s=i+1;s<=t;s++){var u=r(s);o[s]={offset:a,size:u},a+=u}n.lastMeasuredIndex=t}return o[t]},bee=function(e,t,n,r,o){for(;r<=n;){var i=r+Math.floor((n-r)/2),a=vee(e,i,t).offset;if(a===o)return i;a<o?r=i+1:a>o&&(n=i-1)}return r>0?r-1:0},gee=function(e,t,n,r){for(var o=e.itemCount,i=1;n<o&&vee(e,n,t).offset<r;)n+=i,i*=2;return bee(e,t,Math.min(n,o-1),Math.floor(n/2),r)},yee=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,o=t.estimatedItemSize,i=t.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var c=r[i];a=c.offset+c.size}return a+(n-i-1)*o},Oee=hee({getItemOffset:function(e,t,n){return vee(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:yee,getOffsetForIndexAndAlignment:function(e,t,n,r,o){var i=e.direction,a=e.height,c=e.layout,s=e.width,u="horizontal"===i||"horizontal"===c?s:a,l=vee(e,t,o),d=yee(e,o),f=Math.max(0,Math.min(d-u,l.offset)),p=Math.max(0,l.offset-u+l.size);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?bee(e,t,o,0,n):gee(e,t,Math.max(0,o),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var o=e.direction,i=e.height,a=e.itemCount,c=e.layout,s=e.width,u="horizontal"===o||"horizontal"===c?s:i,l=vee(e,t,r),d=n+u,f=l.offset+l.size,p=t;p<a-1&&f<d;)p++,f+=vee(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var wee,kee,Eee=Object(o.createContext)(null),xee=i.a.memo((function(e){var t=e.children,n=Object(o.useMemo)((function(){return xe.a.supportsResizeObserver?new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target.onResize;t&&t(e)}))})):null}),[]);return Object(o.useEffect)((function(){return function(){n&&n.disconnect()}}),[n]),i.a.createElement(Eee.Provider,{value:n},t)})),See=function(){},jee=i.a.createContext(0),Cee=i.a.createContext({onItemClick:See,onItemHover:See}),Tee=i.a.createContext(See),_ee=function(e){var t=e.index,n=e.data,r=e.style,a=n[t],c=Object(o.useContext)(jee),s=Object(o.useContext)(Cee),u=s.onItemClick,l=s.onItemHover,d=Object(o.useContext)(Tee),f=Object(o.useRef)(document.createElement("div"));return function(e,t){var n=Object(o.useContext)(Eee);Object(o.useLayoutEffect)((function(){if(e&&e.current&&null!==n){var r=e.current;return r.onResize=t,n.observe(r),function(){n.unobserve(r),delete r.onResize}}}),[e,n,t])}(f,Object(o.useCallback)((function(e){"function"==typeof d&&d({index:t,height:e.contentRect.height})}),[d,t])),i.a.createElement("div",{style:r,"data-index":t},i.a.createElement("div",{ref:f,"data-testid":"list-item-height-observed-".concat(t)},i.a.createElement(nee.c,{key:a.title,item:a,itemIndex:t,selectedIndex:c,onItemClick:u,onItemHover:l})))},Aee=Object(ko.b)({typeAheadResultLabel:{id:"fabric.editor.typeAheadResultLabel",defaultMessage:"TypeAhead results",description:"the result of a typehead, similar to autocomplete results+"}}),Pee=nee.a+2*nee.b,Iee=i.a.memo((function(e){var t=e.items,n=e.selectedIndex,r=e.onItemHover,i=e.onItemClick,a=e.intl,c=e.fitHeight,s=Object(o.useRef)(),u=Object(o.useCallback)((function(e){s.current.resetAfterIndex(e)}),[]),l=Object(o.useRef)({overscanStartIndex:0,overscanStopIndex:0,visibleStartIndex:0,visibleStopIndex:0}),d=function(e){var t=e.redrawListAtIndex,n=e.getFirstVisibleIndex,r=e.listLength,i=e.listMaxHeight,a=e.listItemEstimatedHeight,c=Object(o.useState)(null),s=mr()(c,2),u=s[0],l=s[1],d=Object(o.useRef)([]),f=Object(o.useMemo)((function(){return uF()((function(){requestAnimationFrame((function(){var e=n();if(d.current[e]){t(e);var o=function(e){for(var t=e.startIndex,n=e.indexHeightMap,r=e.limit,o=e.listMaxHeight,i=e.listItemEstimatedHeight,a=!0,c=0,s=t;a&&s<r;){var u=n[s]||i;c<o&&(c+=u),s++,a=c<=o}return c}({startIndex:e,limit:r,indexHeightMap:d.current,listMaxHeight:i,listItemEstimatedHeight:a});o&&l(o)}}))}),16)}),[t,r,i,a,n]),p=Object(o.useCallback)((function(e){var t=e.index,n=e.height;"number"==typeof n&&(d.current[t]=n,f())}),[f]),h=Object(o.useCallback)((function(e){var t=d.current[e];return t&&"number"==typeof t?t:a}),[a]);return Object(o.useLayoutEffect)((function(){return d.current=[],function(){d.current=[]}}),[r]),{getListItemHeight:h,setListItemHeight:p,renderedListHeight:u}}({redrawListAtIndex:u,getFirstVisibleIndex:Object(o.useCallback)((function(){return l.current.overscanStartIndex}),[]),listLength:t.length,listMaxHeight:c,listItemEstimatedHeight:Pee}),f=d.getListItemHeight,p=d.setListItemHeight,h=d.renderedListHeight,m=Object(o.useCallback)((function(e){l.current=e}),[]),v=Object(o.useMemo)((function(){return{onItemClick:i,onItemHover:r}}),[i,r]),b=Object(o.useCallback)((function(e){e.scrollUpdateWasRequested&&requestAnimationFrame((function(){requestAnimationFrame((function(){var e=l.current;n>=e.visibleStartIndex&&n<=e.visibleStopIndex||s.current.scrollToItem(n)}))}))}),[n]);if(Object(o.useEffect)((function(){s.current&&s.current.scrollToItem(n)}),[n]),Object(o.useLayoutEffect)((function(){requestAnimationFrame((function(){s.current.resetAfterIndex(l.current.overscanStartIndex)}))}),[t]),!Array.isArray(t))return null;var g=t.length*Pee,y=Math.min("number"==typeof h?h:g,c);return Object(T.d)(sZ.a,{role:"listbox","aria-live":"polite","aria-label":a.formatMessage(Aee.typeAheadResultLabel),"aria-relevant":"additions removals"},Object(T.d)(xee,null,Object(T.d)(Tee.Provider,{value:p},Object(T.d)(Cee.Provider,{value:v},Object(T.d)(jee.Provider,{value:n},Object(T.d)(Oee,{useIsScrolling:!0,ref:s,itemData:t,itemCount:t.length,estimatedItemSize:Pee,onScroll:b,onItemsRendered:m,itemSize:f,width:320,height:y,overscanCount:3,css:Object(T.c)(wee||(wee=S()(["\n                    button {\n                      padding: 12px 12px 11px;\n\n                      span:last-child span:last-child {\n                        white-space: normal;\n                      }\n                    }\n                  "])))},_ee))))))})),Mee=Object(Ji.c)(Iee);Mee.displayName="TypeAheadList";var Ree=Object(T.c)(kee||(kee=S()(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"])),Object(ot.a)("elevation.surface.overlay",Ce.N0),Object(Ze.d)(),Object(ot.a)("elevation.shadow.overlay","0 0 1px ".concat(Ce.N60A,", 0 4px 8px -2px ").concat(Ce.N50A)),Object(Ze.i)()/2),Nee=function(e){var t=e.state,n=e.triggerHandler;return null!=n&&n.getHighlight?n.getHighlight(t):null},Dee=[0,8],Lee=i.a.memo((function(e){var t=e.editorView,n=e.triggerHandler,r=e.anchorElement,i=e.popupsMountPoint,a=e.popupsBoundariesElement,c=e.popupsScrollableElement,s=e.items,u=e.selectedIndex,l=e.setSelectedItem,d=e.onItemInsert,f=e.fireAnalyticsCallback,p=e.isEmptyQuery,h=Object(o.useMemo)((function(){return performance.now()}),[s,p,f,n]);Object(o.useEffect)((function(){if(f){var e=performance.now()-h;f({payload:{action:wt.a.RENDERED,actionSubject:wt.b.TYPEAHEAD,eventType:wt.e.OPERATIONAL,attributes:{time:e,items:s.length,initial:p}}})}}),[h,s,f,p,n]),Object(o.useEffect)((function(){f&&f({payload:{action:wt.a.VIEWED,actionSubject:wt.b.TYPEAHEAD_ITEM,eventType:wt.e.OPERATIONAL,attributes:{index:u,items:s.length}}})}),[s,f,u,n]);var m=Object(o.useState)(380),v=mr()(m,2),b=v[0],g=v[1],y=Object(o.useCallback)((function(){if(r&&i){var e=r.getBoundingClientRect(),t=e.top,n=e.height,o=document.body,a=o.getBoundingClientRect(),c=a.height,s=a.top,u=t-(s-o.scrollTop),l=s+c-(t+n);if(l>=380)return g(380);var d=(l>=u?l:u)-2*nee.b,f=Math.min(380,d);return g(f)}}),[r,i]),O=Object(ve.a)(y);return Object(o.useEffect)((function(){var e=c||Object(OC.c)(r);return y(),window.addEventListener("resize",O),e&&e.addEventListener("scroll",O),function(){window.removeEventListener("resize",O),e&&e.removeEventListener("scroll",O)}}),[r,c,O,y]),Object(T.d)(Hd.a,{zIndex:he.n,target:r,mountTo:i,boundariesElement:a,scrollableElement:c,fitHeight:b,fitWidth:340,offset:Dee},Object(T.d)("div",{css:Ree,tabIndex:0,className:"fabric-editor-typeahead"},Object(T.d)(Nee,{state:t.state,triggerHandler:n}),Object(T.d)(Mee,{items:s,selectedIndex:u,onItemHover:l,onItemClick:d,fitHeight:b})))}));Lee.displayName="TypeAheadPopup";var Bee=i.a.memo((function(e){var t,n,r,o=e.editorView,a=e.popupMountRef,c=e.typeAheadState,s=e.fireAnalyticsCallback,u=c.decorationSet.find().length>0,l=c.triggerHandler,d=c.items,f=c.selectedIndex,p=c.decorationElement,h=c.decorationSet,m=c.query,v=Y7(l,o,d),b=mr()(v,3),g=b[0],y=b[2],O=i.a.useCallback((function(e){var t=e.index;queueMicrotask((function(){OT(t)(o.state,o.dispatch)}))}),[o]),w=i.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gT.a.SELECTED,t=arguments.length>1?arguments[1]:void 0;queueMicrotask((function(){g({mode:e,index:t,query:m})}))}),[g,m]);return i.a.useEffect((function(){if(u&&m&&" "===m[m.length-1])y({mode:gT.a.SPACE,query:m.trim()})}),[u,m,y]),u&&l&&p instanceof HTMLElement&&0!==d.length?i.a.createElement(Lee,{editorView:o,popupsMountPoint:null===(t=a.current)||void 0===t?void 0:t.popupsMountPoint,popupsBoundariesElement:null===(n=a.current)||void 0===n?void 0:n.popupsBoundariesElement,popupsScrollableElement:null===(r=a.current)||void 0===r?void 0:r.popupsScrollableElement,anchorElement:p,triggerHandler:l,fireAnalyticsCallback:s,items:d,selectedIndex:f,setSelectedItem:O,onItemInsert:w,decorationSet:h,isEmptyQuery:!m}):null})),Fee=function(e){var t=Object(_j.a)(null==e?void 0:e.createAnalyticsEvent),n={current:null};return{name:"typeAhead",marks:function(){return[{name:"typeAheadQuery",mark:eee.a}]},pmPlugins:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"typeAhead",plugin:function(r){var o=r.dispatch;return Z7({getIntl:r.getIntl,popupMountRef:n,reactDispatch:o,typeAheadHandlers:t,createAnalyticsEvent:null==e?void 0:e.createAnalyticsEvent})}},{name:"typeAheadInsertItem",plugin:Q7},{name:"typeAheadInputRule",plugin:function(e){e.schema;var n=e.featureFlags;return tee(0,t,n)}}]},contentComponent:function(e){var r=e.editorView,o=e.containerElement,a=e.popupsMountPoint,c=e.popupsBoundariesElement,s=e.popupsScrollableElement,u=e.wrapperElement;return n.current={popupsMountPoint:a||u||void 0,popupsBoundariesElement:c,popupsScrollableElement:s||o||void 0},i.a.createElement(Xa.a,{plugins:{typeAheadState:yT},render:function(e){var o=e.typeAheadState;return o?i.a.createElement(Bee,{editorView:r,popupMountRef:n,typeAheadState:o,fireAnalyticsCallback:t}):null}})},onEditorViewStateUpdated:function(n){var r=n.originalTransaction,o=n.oldEditorState,i=n.newEditorState,a=ET(o),c=ET(i);if(a&&c){var s=a.triggerHandler,u=c.triggerHandler,l=s!==u;if(null!=s&&s.dismiss&&l){var d=r.getMeta(yT),f=d&&"INSERT_RAW_QUERY"===d.action;s.dismiss({editorState:i,query:a.query,stats:(a.stats||new wT).serialize(),wasItemInserted:f})}null!=u&&u.onOpen&&l&&u.onOpen(i),u&&l&&null!=e&&e.createAnalyticsEvent&&t({payload:{action:wt.a.INVOKED,actionSubject:wt.b.TYPEAHEAD,actionSubjectId:u.id||"not_set",attributes:{inputMethod:c.inputMethod||wt.f.KEYBOARD},eventType:wt.e.UI}})}}}};var zee=function(e){return{payload:{action:wt.a.STOPPED,actionSubject:wt.b.EDITOR,actionSubjectId:wt.c.SAVE,attributes:{inputMethod:wt.f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:wt.e.UI}}},Uee=function(e){return{name:"submitEditor",pmPlugins:function(){return[{name:"submitEditor",plugin:function(t){return function(e,t){if(t)return dp(E()({},"".concat(nu.submit.common),(function(n,r,o){var i=Yl.a.getState(n);return i&&i.waitForMediaUpload&&!i.allUploadsFinished||(e(ii.a,zee(n)),t(o)),!0})))}(t.dispatch,e)}}]}}},Hee=new dt.PluginKey("fakeTextCursorPlugin"),Wee=function(){return{name:"fakeTextCursor",pmPlugins:function(){return[{name:"fakeTextCursor",plugin:function(){return new Za.a({key:Hee,props:{decorations:LK.b}})}}]}}},Vee=n(292),qee=n(332),Gee=function(e){return new Za.a({state:Object(qee.b)(e,{}),key:Vee.a})},Kee=n(475),$ee=n(1206),Yee=n(1216),Xee=n(237),Jee=n(81),Zee=Object(MA.c)({display:"flex",padding:Jee.g,paddingBottom:"".concat(Jee.g-Jee.f,"px"),position:"relative",alignItems:"center",justifyContent:"space-between"}),Qee=function(e){var t=e.children,n=e.testId,r=Object(Xee.a)().testId,o=n||r&&"".concat(r,"--header");return Object(MA.d)("div",{css:Zee,"data-testid":o},t)},ete=n(506),tte=n.n(ete),nte=Object(MA.c)({display:"flex",minWidth:0,margin:0,alignItems:"center",fontSize:"".concat(20,"px"),fontStyle:"inherit",fontWeight:500,letterSpacing:"-0.008em",lineHeight:1}),rte=Object(MA.c)({minWidth:0,flex:"1 1 auto",wordWrap:"break-word"}),ote=Object(MA.c)({marginRight:"".concat(Jee.i,"px"),flex:"0 0 auto",alignSelf:"start"}),ite=Object(MA.c)({marginTop:"".concat(-2,"px"),marginBottom:"".concat(-2,"px"),lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),ate=Object(MA.c)({marginBottom:"".concat(-2,"px"),lineHeight:1.2}),cte=function(e){var t=e.appearance,n=e.isMultiline,r="danger"===t?xx.a:tte.a;return Object(MA.d)("span",{css:[ote,!n&&ate]},Object(MA.d)(r,{label:"".concat(t," icon"),primaryColor:Jee.d[t]}))},ste=function(e){var t=e.appearance,n=e.children,r=e.isMultiline,o=void 0===r||r,i=e.testId,a=Object(Xee.a)(),c=a.titleId,s=a.testId,u=i||s&&"".concat(s,"--title");return Object(MA.d)("h1",{css:nte,"data-testid":u},t&&Object(MA.d)(cte,{appearance:t,isMultiline:o}),Object(MA.d)("span",{id:c,css:[rte,!o&&ite],"data-testid":u&&"".concat(u,"-text")},n))},ute=n(1223),lte=Object(MA.c)({display:"flex",padding:Jee.g,paddingTop:"".concat(Jee.g-Jee.f,"px"),position:"relative",alignItems:"center",justifyContent:"flex-end",gap:"".concat(Jee.b,"px")}),dte=function(e){var t=e.children,n=e.testId,r=Object(Xee.a)().testId,o=n||r&&"".concat(r,"--footer");return Object(MA.d)("div",{css:lte,"data-testid":o},t)},fte=n(290),pte=Object(Ji.c)((function(e){var t=e.onConfirm,n=e.onClose,r=e.options,o=e.intl.formatMessage,a=e.testId,c=(null==r?void 0:r.title)||o(fte.a.confirmModalDefaultHeading),s=(null==r?void 0:r.okButtonLabel)||o(fte.a.confirmModalOK),u=(null==r?void 0:r.cancelButtonLabel)||o(fte.a.confirmModalCancel);return i.a.createElement($ee.a,null,r&&i.a.createElement(Yee.a,{onClose:n,testId:a},i.a.createElement(Qee,null,i.a.createElement(ste,{appearance:"warning"},c)),i.a.createElement(ute.a,null,i.a.createElement("p",null,r.message)),i.a.createElement(dte,null,i.a.createElement(ru.a,{appearance:"default",onClick:n,testId:a?"".concat(a,"-cancel-button"):void 0},u),i.a.createElement(ru.a,{appearance:"warning",onClick:t,testId:a?"".concat(a,"-confirm-button"):void 0},s))))})),hte=gv()({loader:function(){return Promise.all([n.e(5),n.e(150)]).then(n.bind(null,2104)).then((function(e){return e.default}))},loading:function(){return null}}),mte=n(636);function vte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vte(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gte=function(e,t){try{return Object(Qi.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e))}catch(n){if(console.warn(n),t)t({action:wt.a.ERRORED,actionSubject:wt.b.CONTENT_COMPONENT,eventType:wt.e.OPERATIONAL,attributes:{component:wt.d.FLOATING_TOOLBAR,selection:e.state.selection.toJSON(),position:e.state.selection.from,docSize:e.state.doc.nodeSize,error:n.toString(),errorStack:n.stack||void 0}})}};function yte(e){return!!e}var Ote=function(){return{name:"floatingToolbar",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"floatingToolbar",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.getIntl;return kte({floatingToolbarHandlers:e,dispatch:n,providerFactory:r,getIntl:o})}},{name:"floatingToolbarData",plugin:function(e){var t=e.dispatch;return Gee(t)}}]},contentComponent:function(e){var t=e.popupsMountPoint,n=e.popupsBoundariesElement,r=e.popupsScrollableElement,o=e.editorView,a=e.providerFactory,c=e.dispatchAnalyticsEvent;return i.a.createElement(Xa.a,{plugins:{floatingToolbarState:wte,floatingToolbarData:Vee.a,editorDisabledPlugin:bE,extensionsState:rG.a},render:function(e){var s,u,l=e.editorDisabledPlugin,d=e.floatingToolbarState,f=e.floatingToolbarData,p=e.extensionsState,h=null==d?void 0:d.getConfigWithNodeInfo(o.state);if(!h||!h.config||void 0!==(null===(s=h.config)||void 0===s?void 0:s.visible)&&(null===(u=h.config)||void 0===u||!u.visible))return null;var m,v=h.config,b=h.node,g=v.title,y=v.getDomRef,O=void 0===y?gte:y,w=v.items,k=v.align,E=void 0===k?"center":k,x=v.className,S=void 0===x?"":x,j=v.height,C=v.width,T=v.offset,_=void 0===T?[0,12]:T,A=v.forcePlacement,P=v.onPositionCalculated,I=O(o,c);if(!I||l&&l.editorDisabled)return null;var M=Array.isArray(w)?w:w(b);P&&(m=function(e){return P(o,e)});var R=function(e){return e&&e(o.state,o.dispatch,o)},N=(f||{}).confirmDialogForItem,D=N?M[N]:void 0;return i.a.createElement(ci,{component:wt.b.FLOATING_TOOLBAR_PLUGIN,componentId:G5()(g),dispatchAnalyticsEvent:c,fallbackComponent:null},i.a.createElement(Hd.a,{ariaLabel:g,offset:_,target:I,alignY:"bottom",forcePlacement:A,fitHeight:j,fitWidth:C,alignX:E,stick:!0,mountTo:t,boundariesElement:n,scrollableElement:r,onPositionCalculated:m},i.a.createElement(hte,{target:I,items:M,node:b,dispatchCommand:R,editorView:o,className:S,focusEditor:function(){return o.focus()},providerFactory:a,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,dispatchAnalyticsEvent:c,extensionsProvider:null==p?void 0:p.extensionProvider})),i.a.createElement(pte,{options:null==D?void 0:D.confirmDialog,onConfirm:function(){R(D.onClick),R(Object(Kee.a)())},onClose:function(){R(Object(Kee.a)())}}))}})}}},wte=new dt.PluginKey("floatingToolbarPluginKey");function kte(e){var t=e.floatingToolbarHandlers,n=e.dispatch,r=e.providerFactory,o=(0,e.getIntl)(),i=function(e){var n=t.map((function(t){return t(e,o,r)})).filter(yte).map((function(e){return function(e){return Array.isArray(e.nodeType)?bte(bte({},e),{},{nodeType:e.nodeType.filter(yte)}):e}(e)}));return n&&function(e,t){var n;if(t.find((function(t){var r=Object(Qi.findSelectedNodeOfType)(t.nodeType)(e);return r&&(n={node:r.node,pos:r.pos,config:t}),!!r})),n)return n;var r={};t.forEach((function(e){Array.isArray(e.nodeType)?e.nodeType.forEach((function(t){r[t.name]=e})):r[e.nodeType.name]=e}));for(var o=e.$from,i=o.depth;i>0;i--){var a=o.node(i),c=r[a.type.name];if(c)return{config:c,node:a,pos:o.pos}}if(e instanceof dt.AllSelection){var s=o.node(0),u=null,l=Object(mte.b)(s,(function(e){return!!(u=r[e.type.name])}));if(l&&u)return{config:u,node:l,pos:o.pos}}}(e.selection,n)};return new Za.a({key:wte,state:{init:function(){return hte.preload(),{getConfigWithNodeInfo:i}},apply:function(e,t){var r={getConfigWithNodeInfo:i};return n(wte,r),r}}})}var Ete=i.a.createContext([]),xte=(Ete.Provider,function(){function e(){d()(this,e),this.plugins=[]}return p()(e,[{key:"add",value:function(e){return this.plugins.push(e),this}},{key:"has",value:function(e){return this.plugins.some((function(t){return Array.isArray(t)?t[0]===e:t===e}))}},{key:"getEditorPlugins",value:function(e){var t=this.processEditorPlugins();return this.removeExcludedPlugins(t,e)}},{key:"processEditorPlugins",value:function(){var e=new Map;this.plugins.forEach((function(t){if(Array.isArray(t)){var n=mr()(t,2),r=n[0],o=n[1];e.set(r,o)}else{if(e.has(t)&&void 0===e.get(t))throw new Error("".concat(t," is already included!"));e.set(t,void 0)}}));var t=[];return e.forEach((function(e,n){t.push(n(e))})),t}},{key:"removeExcludedPlugins",value:function(e,t){return t?e.filter((function(e){return!e||!t.has(e.name)})):e}}]),e}()),Ste=new dt.PluginKey("clipboardPlugin");function jte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jte(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tte=function(e,t){var n=ya.DOMSerializer.fromSchema(e),r=new ya.DOMSerializer(n.nodes,n.marks),o=r.serializeFragment.bind(r);return r.serializeFragment=function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,c=t(),s=c.state.selection;if(!i.tableWrapperExists)for(var u=0;u<n.childCount;){var l;if("table"===(null===(l=n.maybeChild(u))||void 0===l?void 0:l.type.name)){i.tableWrapperExists=!0;break}u++}if("tableRow"===(null===(r=n.firstChild)||void 0===r?void 0:r.type.name)&&!i.tableWrapperExists){i.tableWrapperExists=!0;var d=Object(Qi.findParentNodeOfType)(e.nodes.table)(s),f=null==d?void 0:d.node.attrs,p=e.nodes.table,h=p.createChecked(Cte({},f),n),m=ya.Fragment.from(h);return o(m,i,a)}return o(n,i,a)},r},_te=function(e,t,n){var r=Ate(e.state,n);return r&&t(r),!1},Ate=function(e,t){var n=e.selection,r=e.doc,o=Ob(n)||Sb(n,r)||wb(n)||kb(e);if(o){var i=[];switch(o.actionSubjectId){case wt.c.NODE:i.push(o.attributes.node);break;case wt.c.RANGE:i.push.apply(i,D()(o.attributes.nodes));break;case wt.c.ALL:i.push("all");break;case wt.c.CELL:var a=o.attributes.selectedCells;i.push.apply(i,D()(Array(a).fill("tableCell")))}return{eventType:wt.e.TRACK,action:t,actionSubject:wt.b.DOCUMENT,attributes:{content:i}}}if(n instanceof dt.TextSelection&&n.$cursor)return{eventType:wt.e.TRACK,action:t,actionSubject:wt.b.DOCUMENT,attributes:{content:["caret"]}}},Pte=function(){return{name:"clipboard",pmPlugins:function(){return[{name:"clipboard",plugin:function(e){return r=(t=e).dispatchAnalyticsEvent,o=t.schema,new Za.a({key:Ste,view:function(e){return n=e,{update:function(e){n=e}}},props:{handleDOMEvents:{cut:function(e){return _te(e,r,wt.a.CUT)},copy:function(e){return _te(e,r,wt.a.COPIED)}},clipboardSerializer:Tte(o,(function(){return n}))}});var t,n,r,o}}]}}},Ite=new dt.PluginKey("placeholderPlugin");function Mte(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}var Rte={hasPlaceholder:!1};function Nte(e,t,n,r){var o=CC.getState(e);if(kT(e))return Rte;if(n&&Object(uc.g)(e.doc))return Mte(n);var i=t();return i&&Object(uc.i)(e)&&o?Mte(i,e.selection.$from.pos):r&&Object(uc.a)(e)&&o?Mte("  "+r,e.selection.$from.pos-1):Rte}function Dte(e,t,n){if(e||t||n){var r=function(e){var t=0;return function(){if(e&&0!==e.length){var n=e.length,r=e[t++];return t%=n,r}}}(t);return new Za.a({key:Ite,state:{init:function(t,o){return Nte(o,r,e,n)},apply:function(t,o,i,a){var c=t.getMeta(Ite);if(c){if(c.removePlaceholder)return Rte;if(c.applyPlaceholderIfEmpty)return Nte(a,r,e,n)}return Nte(a,r,e,n)}},props:{decorations:function(e){var t=function(e){return Ite.getState(e)}(e),n=t.hasPlaceholder,r=t.placeholderText,o=t.pos;if(n&&r&&void 0!==o)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("span"),o="placeholder-decoration",i=bf.getState(e);i&&"end"===i.align?o+=" align-end":i&&"center"===i.align&&(o+=" align-center"),r.className=o;var a=document.createElement("span");if(a.textContent=t,r.appendChild(a),xe.a.android&&xe.a.chrome){var c=document.createElement("span");c.setAttribute("contenteditable","true"),c.textContent=" ",r.appendChild(c)}return ft.b.create(e.doc,[ft.a.widget(n,r,{side:-1,key:"placeholder"})])}(e,r,o)}}})}}var Lte=function(e){return{name:"placeholder",pmPlugins:function(){return[{name:"placeholder",plugin:function(){return Dte(e&&e.placeholder,e&&e.placeholderHints,e&&e.placeholderBracketHint)}}]}}};function Bte(e){return[{title:e.formatMessage(Wte.all),name:"all"},{title:e.formatMessage(Wte.formatting),name:"formatting"},{title:e.formatMessage(Wte["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(Wte.media),name:"media"},{title:e.formatMessage(Wte.visuals),name:"visuals"},{title:e.formatMessage(Wte.navigation),name:"navigation"},{title:e.formatMessage(Wte["external-content"]),name:"external-content"},{title:e.formatMessage(Wte.communication),name:"communication"},{title:e.formatMessage(Wte.reporting),name:"reporting"},{title:e.formatMessage(Wte.admin),name:"admin"},{title:e.formatMessage(Wte.development),name:"development"}]}var Fte,zte,Ute,Hte,Wte=Object(ko.b)({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}}),Vte=Object(ko.b)({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}}),qte=Object(T.c)(Fte||(Fte=S()(["\n  display: inline-flex;\n  margin: 0 -4px;\n"]))),Gte=Object(T.c)(zte||(zte=S()(["\n  flex: 1 0 auto;\n  margin: 0 4px;\n"]))),Kte=Object(T.c)(Ute||(Ute=S()(["\n  display: flex;\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  padding: ","px ","px 0 10px;\n  overflow: hidden;\n  background-color: ",";\n  border-radius: ","px;\n"])),L3.g,L3.g,Object(Zn.a)({light:Object(ot.a)("elevation.surface.overlay",Ce.N0),dark:Object(ot.a)("elevation.surface.overlay",Ce.DN50)})(),Object(Ze.d)()),$te=Object(T.c)(Hte||(Hte=S()(["\n  display: flex;\n  padding: ","px;\n\n  position: relative;\n  align-items: center;\n  justify-content: space-between;\n"])),L3.g),Yte=function(e){var t=Object(o.useState)(),n=mr()(t,2),r=n[0],i=n[1],a=e.helpUrl,c=e.intl,s=Object(o.useCallback)((function(e){i(e)}),[i]),u=Object(o.useCallback)((function(t){e.onInsertItem(t)}),[e]),l=Object(o.useCallback)((function(){return Object(T.d)(Jte,{onInsert:function(){return u(r)},beforeElement:a?Zte(a,c.formatMessage(Vte.help)):void 0})}),[u,r,a,c]),d=Object(o.useCallback)((function(t){"Escape"===t.key&&e.onClose()}),[e]),f=Object(o.useCallback)((function(){return Object(T.d)("div",{css:Kte},Object(T.d)(D3,{categories:Bte(e.intl),getItems:e.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:s,onInsertItem:u,emptyStateHandler:e.emptyStateHandler}))}),[e.intl,e.getItems,s,u,e.emptyStateHandler]);return Object(T.d)("div",{"data-editor-popup":!0,onClick:Xte,onKeyDown:d},Object(T.d)($ee.a,null,e.isOpen&&Object(T.d)(Yee.a,{testId:"element-browser-modal-dialog",stackIndex:0,key:"element-browser-modal",onClose:e.onClose,height:"664px",width:"x-large",autoFocus:!1,shouldCloseOnEscapePress:!1},Object(T.d)(f,null),Object(T.d)(l,null))))};Yte.displayName="ModalElementBrowser";var Xte=function(e){return e.stopPropagation()},Jte=function(e){var t=e.onInsert,n=e.beforeElement,r=Object(Xee.a)().onClose;return Object(T.d)("div",{css:$te},n||Object(T.d)("span",null),Object(T.d)("div",{css:qte},Object(T.d)("div",{css:Gte},Object(T.d)($l.a,{appearance:"primary",onClick:t,testId:"ModalElementBrowser__insert-button"},"Insert")),Object(T.d)("div",{css:Gte},Object(T.d)($l.a,{appearance:"subtle",onClick:r,testId:"ModalElementBrowser__close-button"},"Close"))))},Zte=function(e,t){return Object(T.d)($l.a,{iconBefore:Object(T.d)(fW.a,{label:"help",size:"medium"}),appearance:"subtle-link",href:e,target:"_blank",testId:"ModalElementBrowser__help-button"},t)},Qte=Object(Ji.c)(Yte),ene=function(e){var t=e.quickInsertState,n=e.editorView,r=e.helpUrl,a=Object(o.useCallback)((function(e,n){return R3(t,{})(e,n)}),[t]),c=Object(o.useCallback)((function(){n.hasFocus()||n.focus()}),[n]),s=Object(o.useCallback)((function(e){L1()(n.state,n.dispatch),c(),B1(e)(n.state,n.dispatch)}),[n.dispatch,n.state,c]),u=Object(o.useCallback)((function(){L1()(n.state,n.dispatch),c()}),[n.dispatch,n.state,c]);return i.a.createElement(Qte,{getItems:a,onInsertItem:s,helpUrl:r,isOpen:t&&t.isElementBrowserModalOpen||!1,emptyStateHandler:t&&t.emptyStateHandler,onClose:u})},tne=function(e){var t=e.editorView,n=e.helpUrl,r=Object(o.useCallback)((function(e){var r=e.quickInsertState;return i.a.createElement(ene,{quickInsertState:r,editorView:t,helpUrl:n})}),[t,n]);return i.a.createElement(Xa.a,{plugins:{quickInsertState:lW},render:r})};function nne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nne(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var one=function(e){return{name:"quickInsert",pmPlugins:function(t){return[{name:"quickInsert",plugin:function(n){var r=n.providerFactory,o=n.getIntl,i=n.dispatch;return function(e,t,n,r,o){return new Za.a({key:lW,state:{init:function(){return{isElementBrowserModalOpen:!1,emptyStateHandler:o,lazyDefaultItems:function(){return ine(e||[],n())}}},apply:function(e,t){var n=e.getMeta(lW);if(n&&Object.keys(n).some((function(e){return t[e]!==n[e]}))){var o=rne(rne({},t),n);return r(lW,o),o}return t}},view:function(e){var n=function(){var t=u()(C.a.mark((function t(n,r){var o,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}return t.prev=1,t.next=4,r;case 4:return o=t.sent,t.next=7,o.getItems();case 7:i=t.sent,cne({provider:o,providedItems:i})(e.state,e.dispatch),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("Error getting items from quick insert provider",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}();return t.subscribe("quickInsertProvider",n),{destroy:function(){t.unsubscribe("quickInsertProvider",n)}}}})}(t,r,o,i,null==e?void 0:e.emptyStateHandler)}}]},pluginsOptions:{typeAhead:{id:gT.b.QUICK_INSERT,trigger:"/",headless:e?e.headless:void 0,getItems:function(t){var n=t.query,r=t.editorState,o=lW.getState(r);return Promise.resolve(R3(o,e)(n))},selectItem:function(e,t,n){return t.action(n,e)}}},contentComponent:function(t){var n=t.editorView;return e&&e.enableElementBrowser?i.a.createElement(tne,{editorView:n,helpUrl:e.elementBrowserHelpUrl}):null}}},ine=Object(P.a)((function(e,t,n){var r=e.reduce((function(e,n){if("function"==typeof n){var r=n(t);return e.concat(r)}return e.concat(n)}),[]);return ane(r,n)})),ane=function(e,t){return t?e.map((function(e){var n=e.id;if(n&&t[n]){var r=e.action;e.action=function(o,i){var a=r(o,i);return t[n](e),a}}return e})):e},cne=function(e){return function(t,n){return n&&n(t.tr.setMeta(lW,e)),!0}};var sne=function(e){return{decorationSet:yb(e.tr),selection:e.selection}},une=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n||"true"===t.getAttribute("contenteditable")){var r="true"===t.getAttribute("contenteditable");t.setAttribute("contenteditable","false"),requestAnimationFrame((function(){r?t.setAttribute("contenteditable","true"):t.removeAttribute("contenteditable")}))}var o=Array.from(t.children);o.forEach((function(t){return e(t)}))};var lne=function(){var e={};return Object(nu.bindKeymapWithCommand)(nu.moveRight.common,Eg,e),Object(nu.bindKeymapWithCommand)(nu.moveLeft.common,xg,e),dp(e)},dne=n(637),fne=n.n(dne),pne={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},hne=function(e,t){var n=fne()(t),r=n[0],o=n.slice(1),i=[e.getPropertyValue(r)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((function(t){i.push(e.getPropertyValue(t))}));for(var a=0,c=0;c<i.length;c++)a+=parseFloat(i[c]);return a},mne=function(e,t,n){if(function(e){return e===ra.c.LEFT}(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{var r=parseFloat(t.getPropertyValue("margin-right"));r>0?e.style.marginLeft="-".concat(Math.abs(r),"px"):e.style.paddingRight="".concat(Math.abs(r),"px")}},vne=function(e,t){var n=e.state.selection,r=n.$from,o=n.side===ra.c.RIGHT,i=o?r.nodeBefore:r.nodeAfter,a=t(),c=e.nodeDOM(a),s=document.createElement("span");if(s.className="ProseMirror-gapcursor ".concat(o?"-right":"-left"),s.appendChild(document.createElement("span")),c instanceof HTMLElement&&s.firstChild){var u=function(e){var t=Object.keys(pne).find((function(t){return e.classList.contains(t)})),n=t&&pne[t];if(n){var r=e.querySelector(n);if(r)return window.getComputedStyle(r)}}(c)||window.getComputedStyle(c),l=s.firstChild;l.style.height="".concat(function(e){return hne(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"])}(u),"px"),(0!==a||i&&"table"===i.type.name)&&(l.style.marginTop=u.getPropertyValue("margin-top"));var d=i&&la(i);d?(l.setAttribute("layout",d),l.style.width="".concat(function(e){return hne(e,["width","padding-left","padding-right","border-left-width","border-right-width"])}(u),"px")):mne(l,u,n.side)}return s},bne=new Za.a({key:ha,state:{init:function(){return!1},apply:function(e,t,n,r){return r.selection instanceof ra.a}},view:function(e){return 0===e.state.selection.anchor&&e.state.selection instanceof dt.NodeSelection&&window.requestAnimationFrame((function(){e.dispatch(e.state.tr.setSelection(new ra.a(e.state.doc.resolve(0),ra.c.LEFT)))})),{update:function(e){var t=ha.getState(e.state);e.dom.classList.toggle("ProseMirror-hide-gapcursor",t)}}},props:{decorations:function(e){var t=e.doc,n=e.selection;if(n instanceof ra.a){var r=n.$from,o=n.side,i=n.head,a=o===ra.c.RIGHT;if(a&&r.nodeBefore){var c=Object(Qi.findPositionOfNodeBefore)(n);"number"==typeof c&&(i=c)}var s=a?r.nodeBefore:r.nodeAfter,u=s&&la(s);return ft.b.create(t,[ft.a.widget(i,vne,{key:"".concat(ra.b,"-").concat(o,"-").concat(u),side:u?-1:0})])}return null},createSelectionBetween:function(e,t,n){if(!(e&&e.state&&e.state.selection instanceof Oa.a))return t.pos===n.pos&&ra.a.valid(n)?new ra.a(n):void 0},handleClick:function(e,t,n){var r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!function(e){if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="'.concat("caption-placeholder",'"]')))return!0;for(var t,n=e;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(Sn.c.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){var r=t.querySelector(".".concat(Sn.c.ROW_CONTROLS_WRAPPER)),o=e&&e.classList&&e.classList.contains(Sn.c.COLUMN_CONTROLS_DECORATIONS);return r&&r.contains(e)||o}return!!e.closest(".".concat(ct))}(n.target)){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ra.c.LEFT;return function(n,r){if(e>n.doc.content.size)return!1;var o=n.doc.resolve(e);return!!ra.a.valid(o)&&(r&&r(n.tr.setSelection(new ra.a(o,t))),!0)}}(t,n.offsetX>20?ra.c.RIGHT:ra.c.LEFT)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:function(e,t){return"deleteContentBackward"===t.inputType&&e.state.selection instanceof ra.a&&(t.preventDefault(),ba(Gi.BACKWARD)(e.state,e.dispatch))}}}});var gne=function(e){return{name:"selection",pmPlugins:function(){return[{name:"selection",plugin:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Za.a({key:bb,state:wg(e,sne),view:function(){return{update:function(e,n){var r=e.state;if(jb({oldEditorState:n,newEditorState:r})){var o=Ob(r.selection)||wb(r.selection)||!e.mouseDown&&(Sb(r.selection,r.doc)||kb(r));o&&t(o)}}}},appendTransaction:function(e,t,n){if(jb({oldEditorState:t,newEditorState:n})){var r=n.tr;return r.setMeta(bb,{type:ig.SET_DECORATIONS,selection:r.selection,decorationSet:yb(r)}),r}},filterTransaction:function(e,t){return!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof dt.NodeSelection&&!e.getMeta(bb))&&!(t.selection instanceof dt.NodeSelection&&e.selection instanceof dt.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to)},props:{decorations:function(e){return Og(e).decorationSet},handleDOMEvents:{mouseup:function(e,n){if(!n.shiftKey){var r=Sb(e.state.selection,e.state.doc)||kb(e.state);r&&t(r)}return!1},keydown:function(e,t){if(t instanceof KeyboardEvent&&t.shiftKey&&("ArrowDown"===t.key||"ArrowUp"===t.key)){var n,r=e.state;"ArrowDown"===t.key?n=r.selection.$head.after():(n=r.selection.$head.before()-1,e.nodeDOM(n)||(n=r.doc.resolve(n).before()));var o=e.nodeDOM(n);o instanceof HTMLDivElement&&o.className.includes("View-content-wrap")&&une(o,!0)}return!1}}}})}(t.dispatch,t.dispatchAnalyticsEvent,e)}},{name:"selectionKeymap",plugin:lne},{name:"gapCursorKeymap",plugin:function(){return e={},nu.bindKeymapWithCommand(nu.insertNewLine.common,(function(e,t,n){return!!(e.selection instanceof ra.a)&&Object(hm.d)(e,t)}),e),nu.bindKeymapWithCommand(nu.moveLeft.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return va(Gi.LEFT,r)(e,t,n)}),e),nu.bindKeymapWithCommand(nu.moveRight.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return va(Gi.RIGHT,r)(e,t)}),e),nu.bindKeymapWithCommand(nu.moveUp.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return va(Gi.UP,r)(e,t)}),e),nu.bindKeymapWithCommand(nu.moveDown.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return va(Gi.DOWN,r)(e,t)}),e),nu.bindKeymapWithCommand(nu.backspace.common,ba(Gi.BACKWARD),e),nu.bindKeymapWithCommand(nu.deleteKey.common,ba(Gi.FORWARD),e),dp(e);var e}},{name:"gapCursor",plugin:function(){return bne}}]}}},yne=n(446),One=new dt.PluginKey("codeBlockPlugin"),wne="SET_COPIED_TO_CLIPBOARD",kne="SET_SHOULD_IGNORE_FOLLOWING_MUTATIONS",Ene=function(e,t){var n=e.schema.nodes,r=e.tr;if(t){t(Object(Qi.findSelectedNodeOfType)(n.codeBlock)(r.selection)?Object(Qi.removeSelectedNode)(r):Object(Qi.removeParentNodeOfType)(n.codeBlock)(r))}return!0},xne=function(e){return function(t,n){var r,o=t.schema.nodes.codeBlock,i=null===(r=One.getState(t))||void 0===r?void 0:r.pos;if("number"!=typeof i)return!1;var a=t.tr.setNodeMarkup(i,o,{language:e}).setMeta("scrollIntoView",!1),c=Object(Qi.isNodeSelection)(t.selection)?dt.NodeSelection.create(a.doc,i):a.selection,s=a.setSelection(c);return n&&n(Object(Ot.a)(t,s,{action:wt.a.LANGUAGE_SELECTED,actionSubject:wt.b.CODE_BLOCK,attributes:{language:e},eventType:wt.e.TRACK})),!0}},Sne=function(e,t){var n=e.schema.nodes,r=e.tr,o=Object(Qi.findParentNodeOfType)(n.codeBlock)(r.selection),i=o&&o.node.textContent;if(i){QF(i);var a=r;a.setMeta(One,{type:wne,data:!0}),t&&t(a)}return!0},jne=function(e,t){var n=e.tr,r=One.getState(e),o=n;return r&&r.contentCopied&&(o.setMeta(One,{type:wne,data:!1}),t&&t(o)),!0},Cne=function(e,t){var n=e.tr;return n.setMeta(One,{type:kne,data:!1}),t&&t(n),!0};var Tne=function(e){return One.getState(e)},_ne=new RegExp("\n","g"),Ane=function(){function e(t,n,r){var o=this;d()(this,e),E()(this,"ensureLineNumbers",Object(ve.a)((function(){var e=1;for(o.node.forEach((function(t){t.text&&(e+=(t.text.match(_ne)||[]).length)}));o.lineNumberGutter.childElementCount<e;)o.lineNumberGutter.appendChild(document.createElement("span"));for(;o.lineNumberGutter.childElementCount>e;)o.lineNumberGutter.removeChild(o.lineNumberGutter.lastChild)})));var i=ya.DOMSerializer.renderSpec(document,["div",{class:"code-block"},["div",{class:rr.gutter,contenteditable:"false"}],["div",{class:rr.content},["code",{"data-language":t.attrs.language||"",spellcheck:"false",contenteditable:"true"},0]]]),a=i.dom,c=i.contentDOM;this.getPos=r,this.view=n,this.node=t,this.dom=a,this.contentDOM=c,this.lineNumberGutter=this.dom.querySelector(".".concat(rr.gutter)),this.ensureLineNumbers()}return p()(e,[{key:"updateDOMAndSelection",value:function(e,t){var n;if(null!==(n=this.dom)&&void 0!==n&&n.childNodes&&this.dom.childNodes.length>1){var r,o=this.dom.childNodes[1];if((null==o||null===(r=o.childNodes)||void 0===r?void 0:r.length)>0){var i=o.firstChild;i.innerHTML=e;var a=D()(i.childNodes).find((function(e){return"#text"===e.nodeName})),c=window.getSelection(),s=document.createRange();s.setStart(a,t),s.collapse(!0),null==c||c.removeAllRanges(),null==c||c.addRange(s)}}}},{key:"coalesceDOMElements",value:function(){var e;if(null!==(e=this.dom)&&void 0!==e&&e.childNodes&&this.dom.childNodes.length>1){var t=this.dom.childNodes[1];if(null!=t&&t.childNodes&&t.childNodes.length>1){for(var n="";t.childNodes.length>1;){var r=t.lastChild;n=r.innerHTML+n,t.removeChild(r)}var o=t.firstChild;n=o.innerHTML+"\n"+n;var i=o.innerHTML.length+1;setTimeout(this.updateDOMAndSelection.bind(this,n,i),20)}}}},{key:"update",value:function(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers(),xe.a.android&&(this.coalesceDOMElements(),Cne(this.view.state,this.view.dispatch))),!0)}},{key:"ignoreMutation",value:function(e){var t=Tne(this.view.state);return!(null==t||!t.shouldIgnoreFollowingMutations)||(e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter)}}]),e}(),Pne=n(1217),Ine=function(e,t){var n=e.sort((function(e,t){return e-t})),r=n.length*t,o=Math.floor(r);if(r-o>0)return n[o];var i=n[o-1],a=n[o];return void 0!==i&&void 0!==a?(i+a)/2:void 0},Mne=".".concat(rr.gutter),Rne=".".concat(rr.highlighting),Nne=".".concat(rr.content),Dne=[null,void 0,"none","plaintext"],Lne=function(){function e(t,n,r,o){var i=this;d()(this,e),E()(this,"highlighting",null),E()(this,"highlighter",null),E()(this,"measurements",[]),E()(this,"count",0),E()(this,"shouldDebounce",!1),E()(this,"timer",null),E()(this,"ensureLineNumbers",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.node,t=e.textContent.split("\n").length;i.lineNumberGutter.childElementCount<t;)i.lineNumberGutter.appendChild(document.createElement("span"));for(;i.lineNumberGutter.childElementCount>t;)i.lineNumberGutter.removeChild(i.lineNumberGutter.lastChild)}));var a=ya.DOMSerializer.renderSpec(document,["div",{class:"code-block"},["div",{class:rr.gutter,contenteditable:"false"}],["div",{class:rr.content,"data-debounce":"false"},["code",{"data-language":t.attrs.language||"",spellcheck:"false",contenteditable:"true"},0],["div",{class:rr.highlighting,contenteditable:"false"}]]]),c=a.dom,s=a.contentDOM;this.codeBidiWarningOptions=o,this.getPos=r,this.view=n,this.node=t,this.dom=c,this.contentDOM=s,this.lineNumberGutter=this.dom.querySelector(Mne),this.ensureLineNumbers(),this.highlight(t)}return p()(e,[{key:"measure",value:function(e){var t=this.count%10;this.count++,this.measurements[t]=e}},{key:"highlight",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.node,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Dne.includes(r.attrs.language)){var a,s=this.dom.querySelector(Rne),u=this.dom.querySelector(Nne);if(this.timer&&clearTimeout(this.timer),this.shouldDebounce&&!o&&u)return u.setAttribute("data-debounce","true"),void(this.timer=setTimeout((function(){return n.highlight(r,!0)}),10*(null!==(a=Ine(this.measurements,.99))&&void 0!==a?a:100)));var l=performance.now();c.a.render(i.a.createElement(Pne.a,{text:r.textContent,language:r.attrs.language,showLineNumbers:!1,codeBidiWarnings:this.codeBidiWarningOptions.enabled,codeBidiWarningLabel:this.codeBidiWarningOptions.label,codeBidiWarningTooltipEnabled:this.codeBidiWarningOptions.tooltipEnabled}),s),this.measure(performance.now()-l),null==u||u.setAttribute("data-debounce","false"),this.shouldDebounce=(null!==(e=Ine(this.measurements,.99))&&void 0!==e?e:0)>=100||(null!==(t=Ine(this.measurements,.95))&&void 0!==t?t:0)>=30}}},{key:"update",value:function(e){return e.type===this.node.type&&(e.textContent!==this.node.textContent&&this.ensureLineNumbers(e),e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),e.textContent===this.node.textContent&&e.attrs.language===this.node.attrs.language||this.highlight(e),this.node=e,!0)}},{key:"ignoreMutation",value:function(e){var t,n,r=e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter,o=null!==(t=null===(n=this.highlighting)||void 0===n?void 0:n.contains(e.target))&&void 0!==t&&t,i="attributes"===e.type&&"aria-describedby"===e.attributeName;return r||o||i}}]),e}();function Bne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bne(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zne=function(e){var t=e.useLongPressSelection,n=void 0!==t&&t,r=e.getIntl,o=e.appearance,i=e.allowCompositionInputOverride,a=void 0!==i&&i,c=r().formatMessage(T5.label),s={};return a&&(s.beforeinput=function(e,t){var n,r,o,i=t,a=i.inputType,c=i.data;return xe.a.ios&&t.composed&&"insertParagraph"===a&&t6(e.state,e.state.selection)?(t.preventDefault(),!0):xe.a.android&&t.composed&&"insertCompositionText"===a&&"\n"===c[(null==c?void 0:c.length)-1]&&t6(e.state,e.state.selection)?((t.target.outerText+"\n").endsWith(c)?setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter"}))}))}),0):(n=e.state,r=e.dispatch,(o=n.tr).setMeta(One,{type:kne,data:!0}),r&&r(o)),!0):(xe.a.android&&Cne(e.state,e.dispatch),!1)}),new Za.a({state:{init:function(e,t){var n=t6(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1,shouldIgnoreFollowingMutations:!1}},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=t6(r,e.selection);return Fne(Fne({},t),{},{pos:o?o.pos:null,isNodeSelected:e.selection instanceof dt.NodeSelection})}var i=e.getMeta(One);return(null==i?void 0:i.type)===wne?Fne(Fne({},t),{},{contentCopied:i.data}):(null==i?void 0:i.type)===kne?Fne(Fne({},t),{},{shouldIgnoreFollowingMutations:i.data}):t}},key:One,props:{nodeViews:{codeBlock:function(e,t,n){var r=Object(oi.b)(t.state),i="mobile"!==o;return(null!=r&&r.codeBlockSyntaxHighlighting?function(e){var t=e.codeBidiWarnings,n=e.codeBidiWarningLabel,r=e.codeBidiWarningTooltipEnabled;return function(e,o,i){return new Lne(e,o,i,{label:n,enabled:t,tooltipEnabled:r})}}({codeBidiWarnings:null==r?void 0:r.codeBidiWarnings,codeBidiWarningLabel:c,codeBidiWarningTooltipEnabled:i}):function(e,t,n){return new Ane(e,t,n)})(e,t,n)}},handleClickOn:gb(["codeBlock"],(function(e){return!(!e.closest(".".concat(rr.gutter))&&!e.classList.contains(rr.content))}),{useLongPressSelection:n}),handleDOMEvents:s}})},Une=n(700),Hne=[{name:"(None)",alias:["none"],value:"none"}].concat(D()(Une.a));function Wne(e){return e.alias[0]}var Vne=Object(ko.b)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),qne=Hne.sort((function(e,t){return"none"===e.alias[0]?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0})),Gne=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r,o,i=n.formatMessage,a=One.getState(t),c=null!==(r=null==a?void 0:a.pos)&&void 0!==r?r:null;if(a&&null!==c){var s=t.doc.nodeAt(c),u=t.schema.nodes.codeBlock;if((null==s?void 0:s.type)===u){var l=null==s||null===(o=s.attrs)||void 0===o?void 0:o.language,d=qne.map((function(e){return{label:e.name,value:Wne(e),alias:e.alias}})),f={id:"editor.codeBlock.languageOptions",type:"select",selectType:"list",onChange:function(e){return xne(e.value)},defaultValue:l?d.find((function(e){return e.value===l}))||d.find((function(e){return e.alias.includes(l)})):null,placeholder:i(Vne.selectLanguage),options:d,filterOption:Kne},p={type:"separator"},h=e?[{id:"editor.codeBlock.copy",type:"button",appearance:"subtle",icon:KF.a,onClick:Sne,title:i(a.contentCopied?Nc.copiedToClipboard:Nc.copyToClipboard),onMouseLeave:jne,hideTooltipOnClick:!1,disabled:a.isNodeSelected,tabIndex:null},p]:[],m={id:"editor.codeBlock.delete",type:"button",appearance:"danger",icon:Wg.a,onMouseEnter:qg(u,!0),onMouseLeave:qg(u,!1),onFocus:qg(u,!0),onBlur:qg(u,!1),onClick:Ene,title:i(Nc.remove),tabIndex:null};return{title:"CodeBlock floating controls",getDomRef:function(e){return Object(Qi.findDomRefAtPos)(c,e.domAtPos.bind(e))},nodeType:u,items:[f,p].concat(h,[m])}}}}},Kne=function(e,t){var n=e.data,r=t.toLowerCase();return n.label.toLowerCase().includes(r)||n.alias.some((function(e){return e.toLowerCase()===r}))},$ne=function(e){return function(t){return t.delete(e.before(e.depth),e.after(e.depth))}};var Yne=function(e){return dp({Backspace:function(t,n){var r,o=Object(wa.h)(t.selection),i=t.schema.nodes,a=i.paragraph,c=i.codeBlock,s=i.listItem,u=i.table,l=i.layoutColumn;if(!o||o.parent.type!==c)return!1;if(1===o.pos||Object(Qi.hasParentNodeOfType)(s)(t.selection)&&0===o.parentOffset){var d=Object(Qi.findParentNodeOfTypeClosestToPos)(o,c);return!!d&&(n(t.tr.setNodeMarkup(d.pos,d.node.type,d.node.attrs,[]).setBlockType(o.pos,o.pos,a)),!0)}if(o.node&&Object(wa.l)(e)(o.node())&&(Object(Qi.hasParentNodeOfType)(l)(t.selection)||Object(Qi.hasParentNodeOfType)(u)(t.selection))){var f=t.tr,p=o.pos;return n(Object(wa.u)($ne(o),(r=p,function(e){var t=dt.Selection.findFrom(e.doc.resolve(r),-1,!0);return t&&e.setSelection(t),e}))(f).scrollIntoView()),!0}return!!Object(wa.l)(e)(o.node())&&(n($ne(o)(null==t?void 0:t.tr)),!0)}})},Xne={"{":"}","[":"]","(":")"},Jne=function(e,t){var n=Object.keys(Xne).find((function(t){return e.endsWith(t)})),r=n?Xne[n]:void 0;return{left:n,right:r,hasTrailingMatchingBracket:!!r&&t.startsWith(r)}},Zne={"'":"'",'"':'"',"`":"`"},Qne=function(e,t){var n=Object.keys(Zne).find((function(t){return e.endsWith(t)})),r=n?Zne[n]:void 0;return{left:n,right:r,hasTrailingMatchingQuote:!!r&&t.startsWith(r)}};function ere(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ere(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ere(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nre=tre(tre({},Xne),Zne),rre=function(e){return e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock},ore=function(e){return!!Object(wa.h)(e.selection)&&rre(e)},ire=function(e){var t=e.selection.$from;if(t.nodeBefore&&t.nodeBefore.isText){var n=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(n+1),pos:t.start()+n+1}}return{text:"",pos:t.pos}},are=function(e){var t=e.selection.$to;if(t.nodeAfter&&t.nodeAfter.isText){var n=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,n>=0?n:void 0),pos:n>=0?t.pos+n:t.end()}}return{text:"",pos:t.pos}};function cre(e){var t=ire(e).pos,n=are(e).pos;return{text:e.doc.textBetween(t,n),start:t,end:n}}var sre=function(e,t){var n=0;e.split("\n").forEach((function(e){t(e,n),n+=e.length+1}))},ure={token:" ",size:2,regex:/[^ ]/},lre={token:"\t",size:1,regex:/[^\t]/},dre=function(e){var t=e.startsWith("\t")?lre:ure,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}};function fre(e,t){return 0===t||0===e.length?0:e.length/t}function pre(e,t){var n=cre(e),r=n.text,o=n.start,i=e.tr,a=e.selection;return sre(r,(function(t,n){var r=dre(t),c=r.indentText,s=r.indentToken,u=fre(c,s.size),l=s.token.repeat(s.size-c.length%s.size||s.size);i.insertText(l,i.mapping.map(o+n,-1)),Object(Ot.a)(e,i,{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_INDENT,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,previousIndentationLevel:u,newIndentLevel:u+1,direction:fU.a.INDENT,indentType:fU.b.CODE_BLOCK}}),a.empty||i.setSelection(dt.TextSelection.create(i.doc,i.mapping.map(a.from,-1),i.selection.to))})),t&&t(i),!0}function hre(e,t){var n=cre(e),r=n.text,o=n.start,i=e.tr;return sre(r,(function(t,n){var r=dre(t),a=r.indentText,c=r.indentToken;if(a){var s=fre(a,c.size),u=a.length%c.size||c.size;i.delete(i.mapping.map(o+n),i.mapping.map(o+n+u)),Object(Ot.a)(e,i,{action:wt.a.FORMATTED,actionSubject:wt.b.TEXT,actionSubjectId:wt.c.FORMAT_INDENT,eventType:wt.e.TRACK,attributes:{inputMethod:wt.f.KEYBOARD,previousIndentationLevel:s,newIndentLevel:s-1,direction:fU.a.OUTDENT,indentType:fU.b.CODE_BLOCK}})}})),t&&t(i),!0}var mre=new Za.a({props:{handleTextInput:function(e,t,n,r){var o,i=e.state,a=e.dispatch;if(ore(i)){var c=ire(i).text,s=are(i).text;if(o=s,Object.keys(nre).some((function(e){return o.startsWith(nre[e])}))&&function(e){return Object.keys(nre).some((function(t){return e===nre[t]}))}(r)&&s.startsWith(r))return a(Object(Qi.setTextSelection)(n+r.length)(i.tr)),!0;if(function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)}(0,s)){var u=Jne(c+r,s),l=u.left,d=u.right;if(l&&d){var f=i.schema.text(r+d),p=i.tr.replaceWith(t,n,f);return a(Object(Qi.setTextSelection)(t+r.length)(p)),!0}}if(function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&(!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e))}(c,s)){var h=Qne(c+r,s),m=h.left,v=h.right;if(m&&v){var b=i.schema.text(r+v),g=i.tr.replaceWith(t,n,b);return a(Object(Qi.setTextSelection)(t+r.length)(g)),!0}}}return!1},handleKeyDown:fp({Backspace:function(e,t){if(ore(e)){var n=Object(wa.h)(e.selection),r=ire(e).text,o=are(e).text,i=Jne(r,o),a=i.left,c=i.right,s=i.hasTrailingMatchingBracket;if(a&&c&&s&&t)return t(e.tr.delete(n.pos-a.length,n.pos+c.length)),!0;var u=Qne(r,o),l=u.left,d=u.right,f=u.hasTrailingMatchingQuote;if(l&&d&&f&&t)return t(e.tr.delete(n.pos-l.length,n.pos+d.length)),!0;var p=dre(r),h=p.indentToken,m=h.size,v=h.token,b=p.indentText;if(r===b&&b.endsWith(v.repeat(m))&&t)return t(e.tr.delete(n.pos-(m-b.length%m||m),n.pos)),!0}return!1},Enter:Object(Ss.b)(rre,(function(e,t){var n=ire(e).text,r=dre(n).indentText;return!(!r||!t)&&(t(e.tr.insertText("\n"+r)),!0)})),"Mod-]":Object(Ss.b)(rre,pre),"Mod-[":Object(Ss.b)(rre,hre),Tab:Object(Ss.b)(rre,(function(e,t){return!!t&&(ore(e)?function(e,t){var n=ire(e).text,r=dre(n).indentToken,o=r.token.repeat(r.size-n.length%r.size||r.size);return t(e.tr.insertText(o)),!0}(e,t):pre(e,t))})),"Shift-Tab":Object(Ss.b)(rre,hre),"Mod-a":function(e,t){if(rre(e)){var n=e.selection,r=n.$from,o=n.$to;if(!(0===r.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(dt.TextSelection.create(e.doc,r.start(),o.end()))),!0}return!1}})}}),vre=function(e,t){var n;xe.a.gecko&&e.docChanged&&"number"==typeof(null===(n=One.getState(t))||void 0===n?void 0:n.pos)&&function(){var e=window.getSelection();if(e){var t=e&&1===e.rangeCount&&e.getRangeAt(0).cloneRange();t&&(e.removeAllRanges(),e.addRange(t))}}()};function bre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bre(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yre,Ore,wre=function(e){return{name:"codeBlock",nodes:function(){return[{name:"codeBlock",node:yne.a}]},pmPlugins:function(){return[{name:"codeBlock",plugin:function(t){var n=t.getIntl;return zne(gre(gre({},e),{},{getIntl:n,appearance:e.appearance}))}},{name:"codeBlockIDEKeyBindings",plugin:function(){return mre}},{name:"codeBlockKeyMap",plugin:function(e){var t=e.schema;return Yne(t)}}]},onEditorViewStateUpdated:function(e){vre(e.originalTransaction,e.newEditorState)},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"codeblock",title:t(lq.a.codeblock),description:t(lq.a.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:function(){return i.a.createElement(wv,null)},action:function(e,t){var n=e(t.schema.nodes.codeBlock.createChecked());return Object(Ot.a)(t,n,{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.CODE_BLOCK,attributes:{inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK})}}]},floatingToolbar:Gne(e.allowCopyToClipboard)}}},kre=n(289),Ere=function(e){return function(t){return function(n,r){var o=n.tr;return t(n,(function(e){o=e})),!(!o||!o.docChanged)&&(o.setMeta(kre.a,e),r&&r(o),!0)}}};(Ore=yre||(yre={}))[Ore.TOOLBAR=wt.f.TOOLBAR]="TOOLBAR",Ore[Ore.KEYBOARD=wt.f.KEYBOARD]="KEYBOARD";var xre=Ere(yre.KEYBOARD)($h),Sre=Ere(yre.KEYBOARD)(Yh),jre=Ere(yre.TOOLBAR)($h),Cre=Ere(yre.TOOLBAR)(Yh);var Tre=n(695),_re=n.n(Tre),Are=n(696),Pre=n.n(Are),Ire=n(473);function Mre(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Rre=function(e){return function(t){!function(e){return function(t){if(e){var n=JT(e);n.isOpen()?n.close({attachCommand:t,insertCurrentQueryAsRawText:!1}):t(e.state,e.dispatch)}}}(e)(t),e.hasFocus()||e.focus()}},Nre=function(e){b()(n,e);var t=Mre(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.isReducedSpacing,r=e.historyState,o=e.editorView,i=e.intl.formatMessage,a=i(Ire.a.undo),c=i(Ire.a.redo),s=r.canUndo,u=r.canRedo;return Object(T.d)("span",{css:xn.c},Object(T.d)(qc.b,{buttonId:qc.a.UNDO,spacing:n?"none":"default",onClick:function(){Rre(o)(jre)},disabled:!s||t,"aria-label":a,title:Object(T.d)(nu.ToolTipContent,{description:a,keymap:nu.undo}),iconBefore:Object(T.d)(_re.a,{label:""}),testId:"ak-editor-toolbar-button-undo"}),Object(T.d)(qc.b,{spacing:n?"none":"default",buttonId:qc.a.REDO,onClick:function(){Rre(o)(Cre)},disabled:!u||t,title:Object(T.d)(nu.ToolTipContent,{description:c,keymap:nu.redo}),iconBefore:Object(T.d)(Pre.a,{label:""}),testId:"ak-editor-toolbar-button-redo","aria-label":c}),Object(T.d)("span",{css:xn.h}))}}]),n}(o.PureComponent),Dre=Object(Ji.c)(Nre),Lre=function(){return{name:"undoRedoPlugin",pmPlugins:function(){return[{name:"undoRedoKeyMap",plugin:function(){return e={},nu.bindKeymapWithCommand(nu.findKeyMapForBrowser(nu.redo),Sre,e),nu.bindKeymapWithCommand(nu.undo.common,xre,e),A6(e);var e}},{name:"undoRedoPlugin",plugin:function(e){return function(e){e.dispatch;return new Za.a({key:kre.a})}(e)}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled,r=e.isToolbarReducedSpacing;return i.a.createElement(Xa.a,{plugins:{historyState:_0},render:function(e){var o=e.historyState;return i.a.createElement(Dre,{isReducedSpacing:r,disabled:n,historyState:o,editorView:t})}})}}};function Bre(e){var t,n=new xte;return n.add([j6,e.paste]),n.add(Pte),n.add([F7,e.base]),null!==(t=e.featureFlags)&&void 0!==t&&t.undoRedoButtons&&n.add(Lre),n.add([J6,e.blockType]),n.add([Lte,e.placeholder]),n.add(e9),e.annotationProviders&&n.add([lK,e.annotationProviders]),n.add([v9,e.cardOptions]),n.add([e7,e.textFormatting]),n.add(nc),n.add([one,e.quickInsert]),n.add([Fee,e.typeAhead||{createAnalyticsEvent:e.createAnalyticsEvent}]),n.add(l7),n.add(wE),n.add([Uee,e.submitEditor]),n.add(Wee),n.add(Ote),n.add([oi.a,e.featureFlags||{}]),n.add([gne,e.selection]),n.add([wre,e.codeBlock||{appearance:"full-page"}]),n}function Fre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fre(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ure(e){var t=e.appearance,n=e.persistScrollGutter;return Nu(t)?{getScrollElement:function(){return document.querySelector(".fabric-editor-popup-scroll-parent")}}:"mobile"===t?{getScrollElement:function(){return document.body},allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:36}:void 0}function Hre(e,t,n){var r,o,i,a=e.appearance,c="mobile"===a,s="comment"===a,u=Nu(a),l=Bre(function(e,t){var n,r,o,i,a=e.appearance,c="mobile"===a,s=null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking;return{createAnalyticsEvent:t,typeAhead:{createAnalyticsEvent:t,isMobile:c},featureFlags:e4(e),paste:{cardOptions:e.smartLinks||e.UNSAFE_cards,sanitizePrivateContent:e.sanitizePrivateContent,plainTextPasteLinkification:!0===(null===(r=e.featureFlags)||void 0===r?void 0:r.plainTextPasteLinkification)},base:{allowInlineCursorTarget:!c,allowScrollGutter:Ure(e),inputTracking:s,browserFreezeTracking:null===(o=e.performanceTracking)||void 0===o?void 0:o.bFreezeTracking,ufo:e4(e).ufo},blockType:{lastNodeMustBeParagraph:"comment"===a||"chromeless"===a,allowBlockType:e.allowBlockType,isUndoRedoButtonsEnabled:e.UNSAFE_allowUndoRedoButtons},placeholder:{placeholder:e.placeholder,placeholderHints:e.placeholderHints,placeholderBracketHint:e.placeholderBracketHint},textFormatting:zre(zre({},e.textFormatting||{}),{},{responsiveToolbarMenu:null!=(null===(i=e.textFormatting)||void 0===i?void 0:i.responsiveToolbarMenu)?e.textFormatting.responsiveToolbarMenu:e.UNSAFE_allowUndoRedoButtons}),annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:c,headless:c,emptyStateHandler:e.elementBrowser&&e.elementBrowser.emptyStateHandler},selection:{useLongPressSelection:!1},cardOptions:e.smartLinks||e.UNSAFE_cards,codeBlock:zre(zre({},e.codeBlock),{},{useLongPressSelection:!1,appearance:e.appearance,allowCompositionInputOverride:c})}}(e,n)),d=e4(e);if(e.allowAnalyticsGASV3){var f=e.performanceTracking;l.add([Fd.b,{createAnalyticsEvent:n,performanceTracking:f}])}if(e.allowBreakout&&u&&l.add([lf,{allowBreakoutButton:"full-page"===e.appearance}]),e.allowTextAlignment&&l.add(hp),l.add(vp),e.allowTextColor&&l.add([eh,e.allowTextColor]),l.add(Vv),e.allowRule&&l.add(ab),e.allowExpand&&l.add([Kg,{allowInsertion:$g(e),useLongPressSelection:!1,appearance:e.appearance}]),e.media){l.add([ry,{shouldCalcBreakoutGridLines:u}]);var p=void 0!==e.media.alignLeftOnInsert?e.media.alignLeftOnInsert:s,h=void 0!==e.media.allowAdvancedToolBarOptions?e.media.allowAdvancedToolBarOptions:u||s;l.add([$C,zre(zre({},e.media),{},{allowLazyLoading:!c,allowBreakoutSnapPoints:u,allowAdvancedToolBarOptions:h,allowDropzoneDropLine:u,allowMediaSingleEditable:!c,allowRemoteDimensionsFetch:!c,allowMarkingUploadsAsIncomplete:c,fullWidthEnabled:"full-width"===e.appearance,uploadErrorHandler:e.uploadErrorHandler,waitForMediaUpload:e.waitForMediaUpload,isCopyPasteEnabled:!c,alignLeftOnInsert:p})]),Object(fO.c)("captions",e.media.featureFlags)&&l.add(pT)}e.mentionProvider&&l.add([oP,{createAnalyticsEvent:n,sanitizePrivateContent:e.sanitizePrivateContent,insertDisplayName:null!==(r=null===(o=e.mention)||void 0===o?void 0:o.insertDisplayName)&&void 0!==r?r:e.mentionInsertDisplayName,allowZeroWidthSpaceAfter:!c,HighlightComponent:null===(i=e.mention)||void 0===i?void 0:i.HighlightComponent}]);if(e.emojiProvider&&l.add([GP,{createAnalyticsEvent:n}]),e.allowTables){var m=e.allowTables&&"boolean"!=typeof e.allowTables?e.allowTables:{};l.add([Jz,{tableOptions:m,breakoutEnabled:"full-page"===e.appearance,allowContextualMenu:!c,fullWidthEnabled:"full-width"===e.appearance,wasFullWidthEnabled:t&&"full-width"===t.appearance}])}if((e.allowTasksAndDecisions||e.taskDecisionProvider)&&l.add([JH,{allowNestedTasks:e.allowNestedTasks,consumeTabs:u,useLongPressSelection:!1}]),e.feedbackInfo&&l.add([sW,e.feedbackInfo]),e.allowHelpDialog&&l.add([gW,e.legacyImageUploadProvider]),e.saveOnEnter&&l.add([kW,e.onSave]),e.legacyImageUploadProvider&&(l.add(RW),e.media||l.add([$C,{allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0}])),e.collabEdit||e.collabEditProvider){var v,b={sanitizePrivateContent:e.sanitizePrivateContent,createAnalyticsEvent:n};e.collabEdit&&(b=zre(zre({},e.collabEdit),b)),l.add([fV,zre(zre({},b),{},{EXPERIMENTAL_allowInternalErrorAnalytics:null!==(v=b.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==v?v:Cd()})])}if(e.maxContentSize&&l.add([xl,e.maxContentSize]),e.allowJiraIssue&&l.add(wV),e.allowPanel&&l.add([hq,{useLongPressSelection:!1,allowCustomPanel:e.allowPanel.allowCustomPanel,allowCustomPanelEdit:e.allowPanel.allowCustomPanelEdit}]),e.allowExtension){var g="object"===gt()(e.allowExtension)?e.allowExtension:{};l.add([qG,{breakoutEnabled:"full-page"===e.appearance&&!1!==g.allowBreakout,stickToolbarToBottom:g.stickToolbarToBottom,allowAutoSave:g.allowAutoSave,extensionHandlers:e.extensionHandlers,useLongPressSelection:!1,appearance:a}])}if(e.macroProvider&&l.add(GG.a),!e.annotationProviders&&e.allowConfluenceInlineComment&&l.add(lK),e.allowDate&&l.add(MK),e.allowTemplatePlaceholders){var y=!0!==e.allowTemplatePlaceholders?e.allowTemplatePlaceholders:{};l.add([e$,y])}if(e.allowLayouts&&l.add([J$,zre(zre({},"boolean"==typeof e.allowLayouts?{}:e.allowLayouts),{},{useLongPressSelection:!1,UNSAFE_allowSingleColumnLayout:e.allowLayouts.UNSAFE_allowSingleColumnLayout})]),e.smartLinks||e.UNSAFE_cards){var O="full-width"===e.appearance;l.add([QZ,zre(zre(zre({},e.UNSAFE_cards),e.smartLinks),{},{platform:c?"mobile":"web",fullWidthMode:O,createAnalyticsEvent:n})])}e.autoformattingProvider&&l.add(uQ);var w=!0;e.allowStatus&&(w="object"===gt()(e.allowStatus)&&e.allowStatus.menuDisabled,l.add([h0,{menuDisabled:w,allowZeroWidthSpaceAfter:!c}])),e.allowIndentation&&l.add(S0),u&&l.add(Ja.a),!1!==e.autoScrollIntoView&&l.add(C0),(c||e.UNSAFE_allowUndoRedoButtons)&&l.add(R0),c&&(l.add(L0),l.add(z0)),l.add([e1,{showIndentationButtons:!!d.indentationButtonsInTheToolbar}]),l.add([l5,{allowTables:!!e.allowTables,allowExpand:$g(e),insertMenuItems:e.insertMenuItems,horizontalRuleEnabled:e.allowRule,nativeStatusSupported:!w,showElementBrowserLink:e.elementBrowser&&e.elementBrowser.showModal||!1,replacePlusMenuWithElementBrowser:e.elementBrowser&&e.elementBrowser.replacePlusMenu||!1}]);var k=function(e){return!(!e||!("before"in e))&&!!e.before};k(e.primaryToolbarComponents)&&!d.twoLineEditorToolbar&&l.add([d5,{beforePrimaryToolbarComponents:e.primaryToolbarComponents.before}]),!0!==d.showAvatarGroupAsPlugin||d.twoLineEditorToolbar||l.add([v5,{collabEdit:e.collabEdit,takeFullWidth:!k(e.primaryToolbarComponents)}]),e.allowFindReplace&&l.add([g5,{takeFullWidth:!1==!!d.showAvatarGroupAsPlugin&&!k(e.primaryToolbarComponents),twoLineEditorToolbar:!!d.twoLineEditorToolbar}]),e.allowFragmentMark&&l.add(E5),d.enableViewUpdateSubscription&&l.add([C5]),d.codeBidiWarnings&&l.add([B5,{appearance:e.appearance}]),d.floatingToolbarCopyButton&&l.add(z5);var E=new Set;return function(e){return-1===(e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[]).indexOf("codeBlock")}({allowBlockType:e.allowBlockType})||E.add("codeBlock"),l.getEditorPlugins(E)}var Wre={plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","typeAhead","typeAheadInsertItem","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","list","typeAhead","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","textColor","alignmentPlugin","listInputRule","listKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","undoRedoKeyMap","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileDimensions","scrollGutterPlugin","analytics","findReplace","selection","avatarGroup","viewUpdateSubscription","beforePrimaryToolbar","inlineCode"],nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["fragment","link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","dataConsumer","unsupportedMark","unsupportedNodeAttribute"]};function Vre(e){return function(t,n){return Wre[e].indexOf(t.name)-Wre[e].indexOf(n.name)}}function qre(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Gre=function(e){b()(n,e);var t=qre(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;d()(this,n);var a=o.transactionTracking,c=void 0===a?{enabled:!1}:a,s=o.uiTracking,u=void 0===s?{enabled:!1}:s,l=o.saferDispatchedTransactions,f=void 0!==l&&l,p=o.dispatchAnalyticsEvent,h=c.enabled&&i||f;if(h&&e.state){var v=e.state.apply.bind(e.state);e.state.apply=function(e,t,n,o){var a=m()(r),s=f?new Proxy(e,_d({dispatchAnalyticsEvent:p,pluginKey:a.key})):e;if(!(null==i?void 0:i.shouldTrackTransaction(c))||!i)return v(s,t,n,o);var u=i.getMeasureHelpers(c),l=u.startMeasure,d=u.stopMeasure,h="".concat(a.key,"::apply");l(h);var b=v(s,t,n,o);return d(h),b}}if(u.enabled&&e.view){var b=e.view.bind(e);e.view=function(e){var t=m()(r),n="".concat(t.key,"::view::update"),o=b(e);if(o.update){var i=o.update;o.update=function(e,t){Object(J.b)(n),i(e,t),Object(J.c)(n,(function(){}))}}return o}}return r=t.call(this,e)}return p()(n,null,[{key:"fromPlugin",value:function(e,t,r){return new n(e.spec,t,r)}}]),n}(Za.a);function Kre(e){var t=e.reduce((function(e,t){return t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((function(n){e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e}),{});return e.reduce((function(e,n){var r,o,i;n.pmPlugins&&(r=e.pmPlugins).push.apply(r,D()(n.pmPlugins(n.name?t[n.name]:void 0)));n.nodes&&(o=e.nodes).push.apply(o,D()(n.nodes()));n.marks&&(i=e.marks).push.apply(i,D()(n.marks()));return n.contentComponent&&e.contentComponents.push(n.contentComponent),n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),n.onEditorViewStateUpdated&&e.onEditorViewStateUpdatedCallbacks.push({pluginName:n.name,callback:n.onEditorViewStateUpdated}),e}),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}var $re={enabled:!1};function Yre(e){var t=e.editorConfig,n=e.performanceTracking,r=void 0===n?{}:n,o=e.transactionTracker,i=e.featureFlags,a=e.dispatchAnalyticsEvent,c=r.uiTracking,s=void 0===c?$re:c,u=r.transactionTracking,l=void 0===u?$re:u,d=i.saferDispatchedTransactions;var f=s.enabled||l.enabled||d?function(e){return Gre.fromPlugin(e,{uiTracking:s,transactionTracking:l,saferDispatchedTransactions:d,dispatchAnalyticsEvent:a},o)}:function(e){return e};return t.pmPlugins.sort(Vre("plugins")).map((function(t){return(0,t.plugin)({schema:e.schema,dispatch:e.dispatch,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,errorReporter:e.errorReporter,portalProviderAPI:e.portalProviderAPI,reactContext:e.reactContext,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags||{},getIntl:e.getIntl})})).filter((function(e){return void 0!==e})).map(f)}var Xre=n(746);function Jre(e){var t=function(e){var t=Object.keys(e),n=new Set(t.map((function(t){return e[t].group})));return t.forEach((function(t){var r=e[t];r.excludes&&(r.excludes=r.excludes.split(" ").filter((function(e){return n.has(e)})).join(" "))})),e}(e.marks.sort(Vre("marks")).reduce((function(e,t){return e[t.name]=t.mark,e}),{})),n=Object(Xre.b)(e.nodes.sort(Vre("nodes")).reduce((function(e,t){return e[t.name]=t.node,e}),{}),t);return new ya.Schema({nodes:n,marks:t})}var Zre=function(e,t){var n=Ine(e,.25),r=Ine(e,.75);if(void 0!==n&&void 0!==r)return r+(r-n)*t},Qre=function(){},eoe=function(){function e(){var t=this;d()(this,e),E()(this,"dispatchCallCounter",0),E()(this,"measureMap",new Map),E()(this,"measureListeners",[]),E()(this,"bumpDispatchCounter",(function(e){var n=e.enabled,r=e.samplingRate,o=void 0===r?100:r;return n&&(t.dispatchCallCounter>=o&&(t.dispatchCallCounter=0),t.dispatchCallCounter++),t.dispatchCallCounter})),E()(this,"getMeasureHelpers",(function(e){var n=e.usePerformanceMarks,r=void 0!==n&&n;return t.shouldTrackTransaction(e)?{startMeasure:r?J.b:t.startMeasureSimple,stopMeasure:r?J.c:t.stopMeasureSimple}:{startMeasure:Qre,stopMeasure:Qre}})),E()(this,"startMeasureSimple",(function(e){Object(Q.a)()&&t.measureMap.set(e,performance.now())})),E()(this,"stopMeasureSimple",(function(e,n){if(Object(Q.a)()){var r=t.measureMap.get(e);if(r){var o=T7(r);t.measureMap.delete(e),n&&n(o,r),t.measureListeners.forEach((function(t){return t({name:e,duration:o,startTime:r})}))}}}))}return p()(e,[{key:"addMeasureListener",value:function(e){this.measureListeners.push(e)}},{key:"removeMeasureListener",value:function(e){var t=this.measureListeners.indexOf(e);t>-1&&this.measureListeners.splice(t,1)}},{key:"shouldTrackTransaction",value:function(e){var t=e.enabled,n=e.samplingRate,r=void 0===n?100:n;return t&&this.dispatchCallCounter===r}}]),e}();function toe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function noe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?toe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):toe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var roe=function(){function e(t){var n=this;d()(this,e),E()(this,"count",0),E()(this,"pluginNames",[]),E()(this,"nodes",{}),E()(this,"extensionNodes",{}),E()(this,"nodesDuration",0),E()(this,"plugins",{}),E()(this,"slowPlugins",{}),E()(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),E()(this,"isChild",(function(e){return e.startTime>=n.entry.startTime&&e.startTime+e.duration<=n.entry.startTime+n.entry.duration})),this.entry=t}return p()(e,[{key:"getEntryByName",value:function(e,t){return e.getEntriesByName(t).find(this.isChild)}},{key:"getMethodSum",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)}},{key:"greaterEquals",value:function(e,t){return"number"==typeof t&&e>=t}},{key:"hasOutlierMethods",value:function(e,t){return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}},{key:"trigger",get:function(){return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}},{key:"hasSlowPlugins",get:function(){return Object.keys(this.slowPlugins).length>0}},{key:"withEntryList",value:function(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e," EditorView::state::apply"),this.viewUpdated=this.getEntryByName(e," EditorView::updateState"),this.onChangeCalled=this.getEntryByName(e," ReactEditorView::onChange"),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e," EditorView::onEditorViewStateUpdated"),this.withPlugins(this.pluginNames),this}},{key:"withPlugins",value:function(e){var t=this,n={duration:0};if(this.pluginNames=e,this.plugins=e.reduce((function(e,r){var o=t.entryList&&t.getEntryByName(t.entryList,"".concat(r,"::apply"))||n,i=t.entryList&&t.getEntryByName(t.entryList,"".concat(r,"::view::update"))||n,a=t.entryList&&t.getEntryByName(t.entryList,"".concat(r,"::onEditorViewStateUpdated"))||n;return e[r]={stateApply:o.duration,viewUpdate:i.duration,onEditorViewStateUpdated:a.duration},e}),{}),this.stateApplied&&e.length>0){var r=Object.entries(this.plugins),o=Zre(r.map((function(e){return mr()(e,2)[1].stateApply})),this.options.outlierFactor),i=Zre(r.map((function(e){return mr()(e,2)[1].viewUpdate})),this.options.outlierFactor),a=this.options.outlierThreshold/r.length;this.slowPlugins=r.filter((function(e){var n=mr()(e,2)[1];return t.getMethodSum(n)>a&&t.hasOutlierMethods(n,{stateApplyOutlier:o,viewUpdateOutlier:i})})).reduce((function(e,t){var n=mr()(t,2),r=n[0],o=n[1];return noe(noe({},e),{},E()({},r,o))}),{})}return this}},{key:"withNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.nodes=e.nodeCount,this.extensionNodes=e.extensionNodeCount,this.nodesDuration=t,this}},{key:"withCount",value:function(e){return this.count=e,this}},{key:"withOptions",value:function(e){return Object.assign(this.options,e),this}},{key:"toJSON",value:function(){return{trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,extensionNodes:this.extensionNodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}],[{key:"fromEntry",value:function(t){return new e(t)}}]),e}(),ooe=[" EditorView::state::apply"," EditorView::updateState"," EditorView::onEditorViewStateUpdated"," ReactEditorView::onChange"," ReactEditorView::dispatchTransaction"],ioe=p()((function e(){var t=this;d()(this,e),E()(this,"currentBatch",[]),E()(this,"pluginNameCache",new Set),E()(this,"setPluginNames",(function(e){t.pluginNameCache=new Set(e)})),E()(this,"setOnObservation",(function(e){t.observationCallback=e})),E()(this,"createPerformanceEntry",(function(e){return{entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:function(){return JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}}})),E()(this,"convertToEntryList",(function(e){return{getEntries:function(){return e},getEntriesByName:function(t,n){return e.filter((function(e){return e.name===t}))},getEntriesByType:function(t){return e}}})),E()(this,"observed",(function(e){var n=e.name;if(n.startsWith("")){var r,o=(null===(r=n.split(":")[0])||void 0===r?void 0:r.split("")[1])||"",i=t.pluginNameCache.has(o),a=ooe.includes(n);0,(i||a)&&t.currentBatch.push(t.createPerformanceEntry(e))}if(" ReactEditorView::dispatchTransaction"===n){if(t.observationCallback){var c=t.convertToEntryList(D()(t.currentBatch));t.observationCallback(c)}t.currentBatch=[]}}))})),aoe=function(){function e(t){var n=this;d()(this,e),E()(this,"getNodeCounts",(function(){return[{nodeCount:{},extensionNodeCount:{}},0]})),E()(this,"getPlugins",(function(){return[]})),E()(this,"getOptions",(function(){return{}})),E()(this,"reportCount",0),E()(this,"simpleObserver",new ioe),E()(this,"onObserveration",(function(e){e.getEntriesByName(" ReactEditorView::dispatchTransaction").map((function(t){var r;return(r=roe.fromEntry(t).withCount(++n.reportCount).withEntryList(e)).withNodes.apply(r,D()(n.getNodeCounts())).withPlugins(n.getPlugins()).withOptions(n.getOptions()).toJSON()})).filter((function(e){return"none"!==e.trigger})).forEach((function(e){return n.callback(e)}))})),this.callback=t,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe:function(){},disconnect:function(){},takeRecords:function(){return[]}}}return p()(e,[{key:"isSimpleTracking",get:function(){var e=this.getOptions().usePerformanceMarks;return!(void 0!==e&&e)}},{key:"withNodeCounts",value:function(e){return this.getNodeCounts=function(){var t=performance.now();return[e(),performance.now()-t]},this}},{key:"withPlugins",value:function(e){return this.getPlugins=e,this}},{key:"withOptions",value:function(e){return this.getOptions=e,this}},{key:"withTransactionTracker",value:function(e){return this.getTransactionTracker=e,this}},{key:"observe",value:function(){var e=this;if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((function(t){e.onObserveration(t,e.observer)})),this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}},{key:"disconnect",value:function(){this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}},{key:"takeRecords",value:function(){return this.observer.takeRecords()}}]),e}();function coe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function soe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?coe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):coe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uoe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function loe(e){if(!e.hasFocus())return window.setTimeout((function(){e.focus()}),0)}var doe=[];var foe=function(e){b()(n,e);var t=uoe(n);function n(e,r){var o,a,c;d()(this,n),o=t.call(this,e,r),E()(m()(o),"canDispatchTransactions",!0),E()(m()(o),"onPluginObservation",(function(e,t){o.dispatchAnalyticsEvent({action:wt.a.TRANSACTION_DISPATCHED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{report:e,participants:Object(si.a)(t)}})})),E()(m()(o),"formatFullWidthAppearance",(function(e){return"full-width"===e?$b.b.FULL_WIDTH:$b.b.FIXED_WIDTH})),E()(m()(o),"resetEditorState",(function(e){var t,n,r=e.doc,i=e.shouldScrollToBottom;o.view&&(o.blur(),o.featureFlags=e4(o.props.editorProps),o.editorState=o.createEditorState({props:o.props,context:o.context,doc:r,resetting:!0,selectionAtStart:!i}),o.view.updateState(o.editorState),null===(t=(n=o.props.editorProps).onChange)||void 0===t||t.call(n,o.view,{source:"local"}))})),E()(m()(o),"blur",(function(){if(o.view){o.view.dom instanceof HTMLElement&&o.view.hasFocus()&&o.view.dom.blur();var e=o.view.root.getSelection();e&&e.removeAllRanges()}})),E()(m()(o),"reconfigureState",(function(e){if(o.view){o.blur(),o.config=Kre(o.getPlugins(e.editorProps,o.props.editorProps,o.props.createAnalyticsEvent));var t=o.editorState,n=Yre({schema:t.schema,dispatch:o.dispatch,errorReporter:o.errorReporter,editorConfig:o.config,eventDispatcher:o.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:function(){return o.context},dispatchAnalyticsEvent:o.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking,transactionTracker:o.transactionTracker,featureFlags:e4(e.editorProps),getIntl:function(){return o.props.intl}}),r=t.reconfigure({plugins:n});return o.view.updateState(r),o.view.update(soe(soe({},o.view.props),{},{state:r}))}})),E()(m()(o),"handleAnalyticsEvent",(function(e){o.props.allowAnalyticsGASV3&&Object(_j.a)(o.props.createAnalyticsEvent)(e)})),E()(m()(o),"createEditorState",(function(e){var t;if(o.view){if(!e.resetting)return console.warn("The editor does not support changing the schema dynamically."),o.editorState;t=o.view.state.schema}else o.config=Kre(o.getPlugins(e.props.editorProps,void 0,e.props.createAnalyticsEvent)),t=Jre(o.config);var n,r,i=e.props.editorProps.contentTransformerProvider,a=Yre({schema:t,dispatch:o.dispatch,errorReporter:o.errorReporter,editorConfig:o.config,eventDispatcher:o.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:o.props.portalProviderAPI,reactContext:function(){return e.context},dispatchAnalyticsEvent:o.dispatchAnalyticsEvent,performanceTracking:o.props.editorProps.performanceTracking,transactionTracker:o.transactionTracker,featureFlags:o.featureFlags,getIntl:function(){return o.props.intl}});o.contentTransformer=i?i(t):void 0,e.doc&&(n=Object(uc.m)(t,e.doc,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,o.contentTransformer,o.dispatchAnalyticsEvent)),n&&(r=e.selectionAtStart?dt.Selection.atStart(n):dt.Selection.atEnd(n));var c=r&&dt.Selection.findFrom(r.$head,-1,!0)||void 0;return dt.EditorState.create({schema:t,plugins:a,doc:n,selection:c})})),E()(m()(o),"onEditorViewStateUpdated",(function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,i=e.newEditorState,a=o.transactionTracking.enabled;o.config.onEditorViewStateUpdatedCallbacks.forEach((function(e){a&&Object(J.b)(" ".concat(e.pluginName,"::onEditorViewStateUpdated")),e.callback({originalTransaction:t,transactions:n,oldEditorState:r,newEditorState:i}),a&&Object(J.c)(" ".concat(e.pluginName,"::onEditorViewStateUpdated"))}))})),E()(m()(o),"trackValidTransactions",(function(){var e=o.props.editorProps;if(null!=e&&e.trackValidTransactions){o.validTransactionCount++;var t="object"===gt()(e.trackValidTransactions)&&e.trackValidTransactions.samplingRate||100;o.validTransactionCount>=t&&(o.dispatchAnalyticsEvent({action:wt.a.DISPATCHED_VALID_TRANSACTION,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL}),o.validTransactionCount=0)}})),E()(m()(o),"dispatchTransaction",(function(e){if(o.view){o.transactionTracker.bumpDispatchCounter(o.transactionTracking);var t,n=o.transactionTracker.getMeasureHelpers(o.transactionTracking),r=n.startMeasure,i=n.stopMeasure;if(r(" ReactEditorView::dispatchTransaction"),o.transactionTracker.shouldTrackTransaction(o.transactionTracking))null===(t=o.experienceStore)||void 0===t||t.start(oe.interaction);var a=Object(Bd.b)(e),c=Object(Bd.i)(a),s=o.featureFlags.saferDispatchedTransactions?new Proxy(e,_d({dispatchAnalyticsEvent:o.dispatchAnalyticsEvent,pluginKey:"unknown-reacteditorview"})):e;if(c){var u=o.view.state;r(" EditorView::state::apply");var l=o.view.state.applyTransaction(s),d=l.state,f=l.transactions;if(i(" EditorView::state::apply",(function(e,t){var n;null===(n=o.experienceStore)||void 0===n||n.mark(oe.interaction,"stateApply",t+e)})),o.trackValidTransactions(),d===u)return;if(r(" EditorView::updateState"),o.view.updateState(d),i(" EditorView::updateState",(function(e,t){var n;null===(n=o.experienceStore)||void 0===n||n.mark(oe.interaction,"viewUpdateState",t+e)})),r(" EditorView::onEditorViewStateUpdated"),o.onEditorViewStateUpdated({originalTransaction:s,transactions:f,oldEditorState:u,newEditorState:d}),i(" EditorView::onEditorViewStateUpdated",(function(e,t){var n;null===(n=o.experienceStore)||void 0===n||n.mark(oe.interaction,"onEditorViewStateUpdated",t+e)})),o.props.editorProps.onChange&&s.docChanged){var p=s.getMeta("isRemote")?"remote":"local";r(" ReactEditorView::onChange"),o.props.editorProps.onChange(o.view,{source:p}),i(" ReactEditorView::onChange",(function(e,t){var n,r,i;null===(n=o.experienceStore)||void 0===n||n.mark(oe.interaction,"onChange",t+e),!0===(null===(r=o.props.editorProps.performanceTracking)||void 0===r||null===(i=r.onChangeCallbackTracking)||void 0===i?void 0:i.enabled)&&o.dispatchAnalyticsEvent({action:wt.a.ON_CHANGE_CALLBACK,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{duration:e,startTime:t}})}))}o.editorState=d,i(" ReactEditorView::dispatchTransaction",(function(e,t){var n,r;null===(n=o.experienceStore)||void 0===n||n.mark(oe.interaction,"dispatchTransaction",t+e),null===(r=o.experienceStore)||void 0===r||r.success(oe.interaction)}))}else{var h,m=a.filter((function(e){return!Object(Bd.h)(e)})).map((function(e){return GW(e,{compact:!0})}));o.dispatchAnalyticsEvent({action:wt.a.DISPATCHED_INVALID_TRANSACTION,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{analyticsEventPayloads:Object(Ot.b)(s),invalidNodes:m}}),null===(h=o.experienceStore)||void 0===h||h.fail(oe.interaction,{reason:"invalid transaction",invalidNodes:m.toString()})}}})),E()(m()(o),"getDirectEditorProps",(function(e){return{state:e||o.editorState,dispatchTransaction:function(e){o.canDispatchTransactions&&o.dispatchTransaction(e)},editable:function(e){return!o.props.editorProps.disabled},attributes:{"data-gramm":"false"}}})),E()(m()(o),"createEditorView",(function(e){Object(jd.a)(h6.a.PROSEMIRROR_RENDERED,(function(e,t){var n,r,i,a,c=null===(n=o.props.editorProps)||void 0===n||null===(r=n.performanceTracking)||void 0===r?void 0:r.proseMirrorRenderedTracking,s=void 0===c&&Cd();if(o.proseMirrorRenderedSeverity=s||null!=c&&c.trackSeverity?Object(Z.h)(e,null!==(i=null==c?void 0:c.severityNormalThreshold)&&void 0!==i?i:2e3,null!==(a=null==c?void 0:c.severityDegradedThreshold)&&void 0!==a?a:3e3):void 0,o.view){var u,l,d,f=Object(uc.d)(o.view.state.doc),p=function(){if(Object(Q.a)()){var e=performance.getEntriesByType("navigation")[0];return e?e.responseEnd:void 0}}();o.dispatchAnalyticsEvent({action:wt.a.PROSEMIRROR_RENDERED,actionSubject:wt.b.EDITOR,attributes:{duration:e,startTime:t,nodes:f,ttfb:p,severity:o.proseMirrorRenderedSeverity,objectId:null===(u=g7(o.editorState))||void 0===u?void 0:u.objectId},eventType:wt.e.OPERATIONAL}),null===(l=o.experienceStore)||void 0===l||l.mark(oe.loadEditor,wt.a.PROSEMIRROR_RENDERED,t+e),null===(d=o.experienceStore)||void 0===d||d.addMetadata(oe.loadEditor,{nodes:f,ttfb:p})}})),o.view=new ft.c({mount:e},o.getDirectEditorProps())})),E()(m()(o),"handleEditorViewRef",(function(e){if(!o.view&&e){o.createEditorView(e);var t=o.view;o.props.onEditorCreated({view:t,config:o.config,eventDispatcher:o.eventDispatcher,transformer:o.contentTransformer}),o.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(o.focusTimeoutId=loe(t)),o.featureFlags.ufo&&(o.experienceStore=se.getInstance(t),o.experienceStore.start(oe.editSession),o.experienceStore.addMetadata(oe.editSession,{reliabilityInterval:3e4}),o.reliabilityInterval=window.setInterval((function(){var e,t;null===(e=o.experienceStore)||void 0===e||null===(t=e.success(oe.editSession))||void 0===t||t.finally((function(){var e,t;null===(e=o.experienceStore)||void 0===e||e.start(oe.editSession),null===(t=o.experienceStore)||void 0===t||t.addMetadata(oe.editSession,{reliabilityInterval:3e4})}));var n={action:wt.a.UFO_SESSION_COMPLETE,actionSubject:wt.b.EDITOR,attributes:{interval:3e4},eventType:wt.e.OPERATIONAL};o.dispatchAnalyticsEvent(n)}),3e4)),o.forceUpdate()}else if(o.view&&!e){o.props.onEditorDestroyed({view:o.view,config:o.config,eventDispatcher:o.eventDispatcher,transformer:o.contentTransformer});var n=o.eventDispatcher.has(Z.f,o.handleAnalyticsEvent);n||o.eventDispatcher.on(Z.f,o.handleAnalyticsEvent),o.view.destroy(),n||o.eventDispatcher.off(Z.f,o.handleAnalyticsEvent),o.view=void 0}})),E()(m()(o),"dispatchAnalyticsEvent",(function(e){o.props.allowAnalyticsGASV3&&o.eventDispatcher&&Object(Td.b)(o.eventDispatcher)(Z.f,{payload:e})})),E()(m()(o),"editor",i.a.createElement("div",{className:hoe(),key:"ProseMirror",ref:o.handleEditorViewRef,"aria-label":"Main content area",role:"textbox"})),o.eventDispatcher=new Td.a,o.dispatch=Object(Td.b)(o.eventDispatcher),o.errorReporter=(a=e.editorProps.errorReporterHandler,c=new sy,a&&(c.handler=a),c),o.transactionTracker=new eoe,o.pluginPerformanceObserver=new aoe((function(e){return o.onPluginObservation(e,o.editorState)})).withPlugins((function(){return o.getPluginNames()})).withNodeCounts((function(){return o.countNodes()})).withOptions((function(){return o.transactionTracking})).withTransactionTracker((function(){return o.transactionTracker})),o.validTransactionCount=0,o.featureFlags=e4(o.props.editorProps);var s,u=o.featureFlags?(s=o.featureFlags,Object.keys(s).filter((function(e){return!0===s[e]}))):[];return o.props.createAnalyticsEvent&&(o.props.createAnalyticsEvent.__queueAnalytics=o.featureFlags.queueAnalytics),o.eventDispatcher.on(Z.f,o.handleAnalyticsEvent),o.eventDispatcher.on("resetEditorState",o.resetEditorState),o.editorState=o.createEditorState({props:e,context:r,doc:e.editorProps.defaultValue,selectionAtStart:Nu(e.editorProps.appearance)}),o.dispatchAnalyticsEvent({action:wt.a.STARTED,actionSubject:wt.b.EDITOR,attributes:{platform:$b.d.WEB,featureFlags:u},eventType:wt.e.UI}),o}return p()(n,[{key:"transactionTracking",get:function(){var e,t;return null!==(e=null===(t=this.props.editorProps.performanceTracking)||void 0===t?void 0:t.transactionTracking)&&void 0!==e?e:{enabled:!1}}},{key:"getPluginNames",value:function(){return this.editorState.plugins.map((function(e){return e.key}))}},{key:"countNodes",value:function(){return C7(this.editorState)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.createAnalyticsEvent&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent){var t=e4(e.editorProps);e.createAnalyticsEvent.__queueAnalytics=t.queueAnalytics}this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:function(t){return!e.editorProps.disabled}}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=loe(this.view)));var n=this.props.editorProps.appearance,r=e.editorProps.appearance;(function(e,t){var n,r,o,i,a=null!==(n=null===(r=e.dangerouslyAppendPlugins)||void 0===r?void 0:r.__plugins)&&void 0!==n?n:doe,c=null!==(o=null===(i=t.dangerouslyAppendPlugins)||void 0===i?void 0:i.__plugins)&&void 0!==o?o:doe;if(c.length!==a.length||a.some((function(e){return c.some((function(t){return t.name===e.name&&t!==e}))})))return!0;var s="mobile"===e.appearance?["featureFlags","quickInsert"]:[];return["appearance","persistScrollGutter","UNSAFE_allowUndoRedoButtons","placeholder"].concat(s).reduce((function(n,r){return n||e[r]!==t[r]}),!1)})(this.props.editorProps,e.editorProps)&&this.reconfigureState(e),r!==n&&("full-width"!==r&&"full-width"!==n||this.dispatchAnalyticsEvent({action:wt.a.CHANGED_FULL_WIDTH_MODE,actionSubject:wt.b.EDITOR,eventType:wt.e.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(n),newMode:this.formatFullWidthAppearance(r)}})),this.transactionTracking.enabled||this.pluginPerformanceObserver.disconnect()}},{key:"componentDidMount",value:function(){this.canDispatchTransactions=!0,this.transactionTracking.enabled&&this.pluginPerformanceObserver.observe()}},{key:"componentWillUnmount",value:function(){if(this.canDispatchTransactions=!1,clearTimeout(this.focusTimeoutId),this.reliabilityInterval&&clearInterval(this.reliabilityInterval),this.pluginPerformanceObserver.disconnect(),this.view){var e=this.view.state;e.plugins.forEach((function(t){var n=t.getState(e);n&&n.destroy&&n.destroy()}))}this.eventDispatcher.destroy()}},{key:"getPlugins",value:function(e,t,n){var r,o,i=null!==(r=null===(o=e.dangerouslyAppendPlugins)||void 0===o?void 0:o.__plugins)&&void 0!==r?r:[],a=Hre(e,t,n);return i&&i.length>0&&a.push.apply(a,D()(i)),a}},{key:"render",value:function(){var e,t,n=null===(e=this.props.editorProps.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.reactEditorView,r=null==n?void 0:n.enabled,o=null==n?void 0:n.useShallow;return i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(Ld,{componentProps:this.props,action:wt.a.RE_RENDERED,actionSubject:wt.b.REACT_EDITOR_VIEW,handleAnalyticsEvent:this.handleAnalyticsEvent,useShallow:o}),this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):this.editor)}}]),n}(i.a.Component);E()(foe,"contextTypes",{getAtlaskitAnalyticsEventHandlers:A.a.func});var poe=Object(Ji.c)(foe);function hoe(){return xe.a.chrome?"ua-chrome":xe.a.ie?"ua-ie":xe.a.gecko?"ua-firefox":xe.a.safari?"ua-safari":""}var moe,voe=n(286),boe=n(147);function goe(e){var t=e.children,n=e.mode,r=i.a.useMemo((function(){var e;return e={},E()(e,Ze.a,{mode:n}),E()(e,"theme",E()({},Ze.a,{mode:n})),e}),[n]),o=i.a.useCallback((function(){return{mode:n}}),[n]);return i.a.createElement(EF.a,{theme:r},i.a.createElement(ye.e,{theme:r},i.a.createElement(RA.a.Provider,{value:o},t)))}function yoe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Ooe=function(e){b()(n,e);var t=yoe(n);function n(e,r,o,i){var a;return d()(this,n),a=t.call(this),E()(m()(a),"portals",new Map),E()(m()(a),"setContext",(function(e){a.context=e})),a.intl=e,a.onAnalyticsEvent=r,a.useAnalyticsContext=o,a.themeMode=i,a}return p()(n,[{key:"render",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.themeMode){var c=function(){return i.a.createElement(goe,{mode:n.themeMode},e())};this.portals.set(t,{children:c,hasAnalyticsContext:r,hasIntlContext:o});var s=this.useAnalyticsContext?i.a.createElement(joe,null,c()):c();return o&&(s=i.a.createElement(Ji.b,{value:this.intl},s)),void Object(a.unstable_renderSubtreeIntoContainer)(this.context,s,t)}this.portals.set(t,{children:e,hasAnalyticsContext:r,hasIntlContext:o});var u=this.useAnalyticsContext?i.a.createElement(joe,null,e()):e();o&&(u=i.a.createElement(Ji.b,{value:this.intl},u)),Object(a.unstable_renderSubtreeIntoContainer)(this.context,u,t)}},{key:"forceUpdate",value:function(e){var t=this,n=e.intl;this.intl=n,this.portals.forEach((function(e,n){if(e.hasAnalyticsContext||t.useAnalyticsContext||e.hasIntlContext){var r=e.children();e.hasAnalyticsContext&&t.useAnalyticsContext&&(r=i.a.createElement(joe,null,r)),e.hasIntlContext&&(r=i.a.createElement(Ji.b,{value:t.intl},r)),Object(a.unstable_renderSubtreeIntoContainer)(t.context,r,n)}}))}},{key:"remove",value:function(e){this.portals.delete(e);try{Object(a.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:wt.a.FAILED_TO_UNMOUNT,actionSubject:wt.b.EDITOR,actionSubjectId:wt.c.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:wt.e.OPERATIONAL}})}}}]),n}(Td.a),woe=function(e){b()(n,e);var t=yoe(n);function n(e){var r;return d()(this,n),(r=t.call(this,e)).portalProviderAPI=new Ooe(e.intl,e.onAnalyticsEvent,e.useAnalyticsContext,e.themeMode),r}return p()(n,[{key:"render",value:function(){return this.props.render(this.portalProviderAPI)}},{key:"componentDidUpdate",value:function(){this.portalProviderAPI.forceUpdate({intl:this.props.intl})}}]),n}(i.a.Component);E()(woe,"displayName","PortalProvider");var koe=Object(Ji.c)(woe),Eoe=function(e){var t=Object(Cf.a)(),n=Object(RA.b)();return i.a.createElement(woe,{intl:t,themeMode:n.mode,onAnalyticsEvent:e.onAnalyticsEvent,useAnalyticsContext:e.useAnalyticsContext,render:e.render})},xoe=function(e){b()(n,e);var t=yoe(n);function n(e){var r;return d()(this,n),r=t.call(this,e),E()(m()(r),"handleUpdate",(function(e){return r.setState({portals:e})})),e.portalProviderAPI.setContext(m()(r)),e.portalProviderAPI.on("update",r.handleUpdate),r.state={portals:new Map},r}return p()(n,[{key:"render",value:function(){var e=this.state.portals;return i.a.createElement(i.a.Fragment,null,Array.from(e.entries()).map((function(e){var t=mr()(e,2),n=t[0],r=t[1];return Object(a.createPortal)(r,n)})))}}]),n}(i.a.Component),Soe={getAtlaskitAnalyticsContext:function(){},getAtlaskitAnalyticsEventHandlers:function(){}},joe=(moe=function(e){b()(n,e);var t=yoe(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=(this.context.contextAdapter.analytics||{value:Soe}).value;return i.a.createElement(boe.a.Provider,{value:e},this.props.children)}}]),n}(i.a.Component),E()(moe,"contextTypes",{contextAdapter:A.a.object}),moe),Coe=n(924);function Toe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}function _oe(e){var t=i.a.useContext(e);return i.a.useMemo((function(){return{Provider:e.Provider,Consumer:e.Consumer,value:t}}),[t,e])}var Aoe=function(e){var t=e.children,n=_oe(Coe.a),r=_oe(boe.a);return i.a.createElement(Poe,{card:n,analytics:r},t)},Poe=function(e){b()(n,e);var t=Toe(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"contextState",{}),e}return p()(n,[{key:"getChildContext",value:function(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}},{key:"render",value:function(){return this.props.children}}]),n}(i.a.PureComponent);function Ioe(e,t){t&&Object(_j.a)(t)({payload:{action:wt.a.INSERTED,actionSubject:wt.b.DOCUMENT,actionSubjectId:wt.c.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:wt.f.QUICK_INSERT},eventType:wt.e.TRACK}})}function Moe(){return(Moe=u()(C.a.mark((function e(t,n,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getExtensions();case 2:return o=e.sent,e.abrupt("return",{getItems:function(){var e=Object(x4.d)(o,(function(e){var t=gv()({loader:e.icon,loading:function(){return null}});return{title:e.title,description:e.description,icon:function(){return i.a.createElement(t,{label:""})},keywords:e.keywords,featured:e.featured,categories:e.categories,action:function(t){return"function"==typeof e.node?(Object(gq.c)(e.node()).then((function(t){Ioe(e,r),t&&n.replaceSelection(t)})),t("")):(Ioe(e,r),t(e.node))}}}));return Promise.all(e)}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Roe(){return(Roe=u()(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=W(t),r=n.invokeList,e.abrupt("return",{getItems:function(){return r("getItems")}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Noe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}E()(Poe,"childContextTypes",{contextAdapter:A.a.object});var Doe=function(e){b()(n,e);var t=Noe(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),E()(m()(e),"state",{missingIntlProviderInAncestry:!1}),e}return p()(n,[{key:"componentDidCatch",value:function(e,t){if(!(null==(n=e)||null===(r=n.toString())||void 0===r?void 0:r.includes("<IntlProvider> needs to exist in the component ancestry")))throw e;var n,r;this.setState({missingIntlProviderInAncestry:!0})}},{key:"render",value:function(){return this.state.missingIntlProviderInAncestry?i.a.createElement(nX.b,{locale:"en"},this.props.children):this.props.children}}]),n}(i.a.Component);function Loe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Boe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Loe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Loe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Foe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var zoe=function(e){b()(r,e);var t,n=Foe(r);function r(e){var t;return d()(this,r),t=n.call(this,e),E()(m()(t),"browserExtensions",void 0),E()(m()(t),"state",{error:void 0}),E()(m()(t),"getFeatureFlags",Object(P.a)((function(e){return e?Object(oi.b)(e.state):{}}))),E()(m()(t),"sendErrorData",function(){var e=u()(C.a.mark((function e(n){var r,o,i,a,c,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProductName();case 2:r=e.sent,o=n.error,i=n.errorInfo,a=n.errorStack,c=mT()(),s={product:r,browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",error:o,errorInfo:i,errorId:c,browserExtensions:t.browserExtensions,docStructure:t.featureFlags.errorBoundaryDocStructure&&t.props.editorView?GW(t.props.editorView.state.doc,{compact:!0}):void 0},t.fireAnalyticsEvent({action:wt.a.EDITOR_CRASHED,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:s}),t.fireAnalyticsEvent({action:wt.a.EDITOR_CRASHED_ADDITIONAL_INFORMATION,actionSubject:wt.b.EDITOR,eventType:wt.e.OPERATIONAL,attributes:{errorStack:a,errorId:c}}),t.featureFlags.ufo&&t.props.editorView&&(null===(u=t.experienceStore)||void 0===u||u.failAll(Boe(Boe({},t.getExperienceMetadata(s)),{},{errorStack:a})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E()(m()(t),"getProductName",u()(C.a.mark((function e(){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.props.contextIdentifierProvider)){e.next=7;break}return e.next=4,n;case 4:if(!(r=e.sent).product){e.next=7;break}return e.abrupt("return",r.product);case 7:return e.abrupt("return","atlaskit");case 8:case"end":return e.stop()}}),e)})))),E()(m()(t),"fireAnalyticsEvent",(function(e){var n,r;null===(n=(r=t.props).createAnalyticsEvent)||void 0===n||n.call(r,e).fire(ii.b)})),E()(m()(t),"getExperienceMetadata",(function(e){var t;return{browserInfo:e.browserInfo,error:e.error.toString(),errorInfo:{componentStack:e.errorInfo.componentStack},errorId:e.errorId,browserExtensions:null===(t=e.browserExtensions)||void 0===t?void 0:t.toString(),docStructure:e.docStructure}})),e.editorView&&(t.experienceStore=se.getInstance(e.editorView)),t}return p()(r,[{key:"featureFlags",get:function(){return this.getFeatureFlags(this.props.editorView)}},{key:"componentDidCatch",value:function(e,t){var n=this;this.sendErrorData({error:e.toString(),errorInfo:t,errorStack:e.stack}),this.setState({error:e},(function(){if(n.props.rethrow)throw e}))}},{key:"componentDidMount",value:(t=u()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tV({extensions:["grammarly"],async:!0,asyncTimeoutMs:2e4});case 2:this.browserExtensions=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return i.a.createElement(Doe,null,this.props.children)}}]),r}(i.a.Component);E()(zoe,"defaultProps",{rethrow:!0});var Uoe,Hoe=function(e){return function(t){var n=Object(voe.b)().editorActions;return i.a.createElement(e,_e()({},t,{editorView:null==n?void 0:n._privateGetEditorView()}))}}(zoe);function Woe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Voe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Woe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Woe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qoe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var Goe=Object(T.c)(Uoe||(Uoe=S()(["\n  height: 100%;\n"]))),Koe=function(e){b()(n,e);var t=qoe(n);function n(e,r){var o,i,a,c,s,u,l,f;(d()(this,n),c=t.call(this,e),E()(m()(c),"prepareExtensionProvider",Object(P.a)((function(e){if(e)return V("function"==typeof e?e(c.editorActions):e)}))),E()(m()(c),"prepareQuickInsertProvider",(function(e,t){var n=t&&"boolean"!=typeof t&&t.provider,r=e&&function(e,t,n){return Moe.apply(this,arguments)}(e,c.editorActions,c.createAnalyticsEvent);return n&&r?function(e){return Roe.apply(this,arguments)}([n,r]):n||r})),E()(m()(c),"handleSave",(function(e){if(c.props.onSave)return c.props.onSave(e)})),E()(m()(c),"handleAnalyticsEvent",(function(e){return Object(_j.a)(c.createAnalyticsEvent)(e)})),c.providerFactory=new q,c.deprecationWarnings(e),c.onEditorCreated=c.onEditorCreated.bind(m()(c)),c.onEditorDestroyed=c.onEditorDestroyed.bind(m()(c)),c.editorActions=(r||{}).editorActions||new Sd.a,c.trackEditorActions(c.editorActions,e),c.editorSessionId=M()(),c.startTime=performance.now(),Object(J.b)(h6.a.EDITOR_MOUNTED),null!==(o=e.performanceTracking)&&void 0!==o&&null!==(i=o.ttiTracking)&&void 0!==i&&i.enabled||null!==(a=e.featureFlags)&&void 0!==a&&a.ufo)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=arguments.length>3?arguments[3]:void 0;if(Object(Q.c)()){var o,i=performance.now(),a={startTime:i,duration:0},c=1e3*n,s=new(r||PerformanceObserver)((function(e){var t=e.getEntries();t.length&&(o=a,a=t[t.length-1])}));s.observe({entryTypes:["longtask"]});var u=function n(){var r=performance.now(),u=a.startTime+a.duration,l=o?o.startTime+o.duration:u;return o?a.startTime-l>=t?(s.disconnect(),e(l,l-i,c<=0)):r-u>=t||c<=0?(s.disconnect(),e(u,u-i,c<=0)):(c=Math.max(0,c-(r-i)),setTimeout(n,t)):(s.disconnect(),e(l,0,!1))};setTimeout(u,t)}}((function(t,n,r){var o,i,a,s,u;if(null!==(o=e.performanceTracking)&&void 0!==o&&null!==(i=o.ttiTracking)&&void 0!==i&&i.enabled&&c.createAnalyticsEvent){var l,d={payload:{action:wt.a.EDITOR_TTI,actionSubject:wt.b.EDITOR,attributes:{tti:t,ttiFromInvocation:n,canceled:r},eventType:wt.e.OPERATIONAL}};if(null!==(l=e.performanceTracking.ttiTracking)&&void 0!==l&&l.trackSeverity){var f=e.performanceTracking.ttiTracking,p=function(e,t,n,r,o,i){var a,c=r||te;a=e>=(n||ee)&&e<c?Z.e.DEGRADED:e>=c?Z.e.BLOCKING:Z.e.NORMAL;var s=i||re;return{ttiSeverity:a,ttiFromInvocationSeverity:t>=(o||ne)&&t<s?Z.e.DEGRADED:t>=s?Z.e.BLOCKING:Z.e.NORMAL}}(t,n,f.ttiSeverityNormalThreshold,f.ttiSeverityDegradedThreshold,f.ttiFromInvocationSeverityNormalThreshold,f.ttiFromInvocationSeverityDegradedThreshold),h=p.ttiSeverity,m=p.ttiFromInvocationSeverity;d.payload.attributes.ttiSeverity=h,d.payload.attributes.ttiFromInvocationSeverity=m}Object(_j.a)(c.createAnalyticsEvent)(d)}null!==(a=e.featureFlags)&&void 0!==a&&a.ufo&&(null===(s=c.experienceStore)||void 0===s||s.mark(oe.loadEditor,wt.a.EDITOR_TTI,t),null===(u=c.experienceStore)||void 0===u||u.success(oe.loadEditor))}),null===(s=e.performanceTracking)||void 0===s||null===(u=s.ttiTracking)||void 0===u?void 0:u.ttiIdleThreshold,null===(l=e.performanceTracking)||void 0===l||null===(f=l.ttiTracking)||void 0===f?void 0:f.ttiCancelTimeout);var p=c.prepareExtensionProvider(e.extensionProviders),h=c.prepareQuickInsertProvider(p,e.quickInsert);return c.state={extensionProvider:p,quickInsertProvider:h},c}return p()(n,[{key:"componentDidMount",value:function(){Object(J.c)(h6.a.EDITOR_MOUNTED,this.sendDurationAnalytics(wt.a.EDITOR_MOUNTED)),this.handleProviders(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.extensionProviders,o=n.quickInsert;if(r&&r!==e.extensionProviders||o&&o!==e.quickInsert){var i=this.prepareExtensionProvider(r),a=this.prepareQuickInsertProvider(i,o);this.setState({extensionProvider:i,quickInsertProvider:a},(function(){return t.handleProviders(t.props)}))}else this.handleProviders(this.props)}},{key:"componentWillUnmount",value:function(){var e,t,n,r,o;(this.unregisterEditorFromActions(),this.providerFactory.destroy(),Object(J.a)(h6.a.EDITOR_MOUNTED),(null===(e=this.props)||void 0===e||null===(t=e.performanceTracking)||void 0===t||null===(n=t.onEditorReadyCallbackTracking)||void 0===n?void 0:n.enabled)&&Object(J.a)(h6.a.ON_EDITOR_READY_CALLBACK),null!==(r=this.props.featureFlags)&&void 0!==r&&r.ufo)&&(null===(o=this.experienceStore)||void 0===o||o.abortAll({reason:"editor component unmounted"}))}},{key:"trackEditorActions",value:function(e,t){var n,r,o=this;if(null!=t&&null!==(n=t.performanceTracking)&&void 0!==n&&null!==(r=n.contentRetrievalTracking)&&void 0!==r&&r.enabled){var i=e.getValue.bind(e);e._contentRetrievalTracking||(e._contentRetrievalTracking={samplingCounters:{success:1,failure:1},getValueTracked:!1});var a=e._contentRetrievalTracking,c=a.samplingCounters;if(!a.getValueTracked){var s=function(){var e=u()(C.a.mark((function e(){var n,r,a,s,u,l,d,f,p;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:return s=e.sent,c.success===(null!==(n=null==t||null===(r=t.performanceTracking)||void 0===r||null===(a=r.contentRetrievalTracking)||void 0===a?void 0:a.successSamplingRate)&&void 0!==n?n:100)&&(o.handleAnalyticsEvent({payload:{action:wt.a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:wt.b.EDITOR,attributes:{success:!0},eventType:wt.e.OPERATIONAL}}),c.success=0),c.success++,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),c.failure===(null!==(u=null==t||null===(l=t.performanceTracking)||void 0===l||null===(d=l.contentRetrievalTracking)||void 0===d?void 0:d.failureSamplingRate)&&void 0!==u?u:100)&&(o.handleAnalyticsEvent({payload:{action:wt.a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:wt.b.EDITOR,attributes:{success:!1,errorInfo:e.t0.toString(),errorStack:null!=t&&null!==(f=t.performanceTracking)&&void 0!==f&&null!==(p=f.contentRetrievalTracking)&&void 0!==p&&p.reportErrorStack?e.t0.stack:void 0},eventType:wt.e.OPERATIONAL}}),c.failure=0),c.failure++,e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e.getValue=s,e._contentRetrievalTracking.getValueTracked=!0}}return e}},{key:"onEditorCreated",value:function(e){var t;if(this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),null!==(t=this.props.featureFlags)&&void 0!==t&&t.ufo&&(this.experienceStore=se.getInstance(e.view),this.experienceStore.start(oe.loadEditor,this.startTime)),this.props.onEditorReady){var n,r,o,i,a=(null===(n=this.props)||void 0===n||null===(r=n.performanceTracking)||void 0===r||null===(o=r.onEditorReadyCallbackTracking)||void 0===o?void 0:o.enabled)||(null===(i=this.props.featureFlags)||void 0===i?void 0:i.ufo);a&&Object(J.b)(h6.a.ON_EDITOR_READY_CALLBACK),this.props.onEditorReady(this.editorActions),a&&Object(J.c)(h6.a.ON_EDITOR_READY_CALLBACK,this.sendDurationAnalytics(wt.a.ON_EDITOR_READY_CALLBACK))}}},{key:"sendDurationAnalytics",value:function(e){var t=this;return function(){var n=u()(C.a.mark((function n(r,o){var i,a,c,s,u;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.props.contextIdentifierProvider;case 2:a=n.sent,c=null==a?void 0:a.objectId,t.createAnalyticsEvent&&Object(_j.a)(t.createAnalyticsEvent)({payload:{action:e,actionSubject:wt.b.EDITOR,attributes:{duration:r,startTime:o,objectId:c},eventType:wt.e.OPERATIONAL}}),null!==(i=t.props.featureFlags)&&void 0!==i&&i.ufo&&(null===(s=t.experienceStore)||void 0===s||s.mark(oe.loadEditor,e,o+r),null===(u=t.experienceStore)||void 0===u||u.addMetadata(oe.loadEditor,{objectId:c}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},{key:"deprecationWarnings",value:function(e){var t=Object(R.b)(),n={allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider  <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowConfluenceInlineComment:{message:"To integrate inline comments use experimental annotationProvider  <Editor annotationProviders={{ provider }} />",type:"removed"},allowDynamicTextSizing:{message:"Dynamic text sizing has been unshipped since 2020. The prop is no longer needed.",type:"removed"}};Object.keys(n).forEach((function(r){if(e.hasOwnProperty(r)){var o=n[r],i=o.type||"enabled by default";console.warn("".concat(r," property is deprecated. ").concat(o.message||""," [Will be ").concat(i," in editor-core@").concat(t,"]"))}})),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn("Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@".concat(t,"]"))}},{key:"onEditorDestroyed",value:function(e){this.unregisterEditorFromActions(),this.props.onDestroy&&this.props.onDestroy()}},{key:"registerEditorForActions",value:function(e,t,n){this.editorActions._privateRegisterEditor(e,t,n)}},{key:"unregisterEditorFromActions",value:function(){this.editorActions&&this.editorActions._privateUnregisterEditor()}},{key:"handleProviders",value:function(e){var t=e.emojiProvider,n=e.mentionProvider,r=e.taskDecisionProvider,o=e.contextIdentifierProvider,i=e.collabEditProvider,a=e.activityProvider,c=e.presenceProvider,s=e.macroProvider,u=e.legacyImageUploadProvider,l=e.media,d=e.collabEdit,f=e.autoformattingProvider,p=e.searchProvider,h=e.UNSAFE_cards,m=e.smartLinks,v=this.state,b=v.extensionProvider,g=v.quickInsertProvider;this.providerFactory.setProvider("emojiProvider",t),this.providerFactory.setProvider("mentionProvider",n),this.providerFactory.setProvider("taskDecisionProvider",r),this.providerFactory.setProvider("contextIdentifierProvider",o),this.providerFactory.setProvider("mediaProvider",l&&l.provider),this.providerFactory.setProvider("imageUploadProvider",u),this.providerFactory.setProvider("collabEditProvider",d&&d.provider?d.provider:i),this.providerFactory.setProvider("activityProvider",a),this.providerFactory.setProvider("searchProvider",p),this.providerFactory.setProvider("presenceProvider",c),this.providerFactory.setProvider("macroProvider",s);var y=m&&m.provider||h&&h.provider;y&&this.providerFactory.setProvider("cardProvider",y),this.providerFactory.setProvider("autoformattingProvider",f),b&&this.providerFactory.setProvider("extensionProvider",Promise.resolve(b)),g&&this.providerFactory.setProvider("quickInsertProvider",g)}},{key:"getBaseFontSize",value:function(){return["comment","chromeless","mobile"].includes(this.props.appearance)?void 0:he.q}},{key:"render",value:function(){var e,t,n=this,r=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return gl;case"chromeless":return Ll;case"comment":return ld;case"mobile":return xd;default:throw new Error("Appearance '".concat(e,"' is not supported by the editor."))}}(this.props.appearance),i=Voe(Voe({},this.props),{},{onSave:this.props.onSave?this.handleSave:void 0,analyticsHandler:void 0}),a=e4(this.props),c=null===(e=this.props.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.editor,s=null==c?void 0:c.enabled,u=null==c?void 0:c.useShallow,l="undefined"!=typeof window&&"bridge"in window&&"mediaMap"in window.bridge?Eoe:koe;return Object(T.d)(me.e,{data:{packageName:R.a,packageVersion:R.c,componentName:"editorCore",appearance:Object(Z.g)(this.props.appearance),editorSessionId:this.editorSessionId}},Object(T.d)($,{render:function(e){return(n.createAnalyticsEvent=e)&&Object(T.d)(o.Fragment,null,s&&Object(T.d)(Ld,{componentProps:n.props,action:wt.a.RE_RENDERED,actionSubject:wt.b.EDITOR,handleAnalyticsEvent:n.handleAnalyticsEvent,propsToIgnore:["defaultValue"],useShallow:u}),Object(T.d)(Hoe,{createAnalyticsEvent:e,contextIdentifierProvider:n.props.contextIdentifierProvider},Object(T.d)(Y.b,{css:Goe},Object(T.d)(voe.a,{editorActions:n.editorActions},Object(T.d)(Aoe,null,Object(T.d)(l,{onAnalyticsEvent:n.handleAnalyticsEvent,useAnalyticsContext:n.props.UNSAFE_useAnalyticsContext,render:function(t){return Object(T.d)(o.Fragment,null,Object(T.d)(poe,{editorProps:i,createAnalyticsEvent:e,portalProviderAPI:t,providerFactory:n.providerFactory,onEditorCreated:n.onEditorCreated,onEditorDestroyed:n.onEditorDestroyed,allowAnalyticsGASV3:n.props.allowAnalyticsGASV3,disabled:n.props.disabled,render:function(e){var t,o,i=e.editor,c=e.view,s=e.eventDispatcher,u=e.config,l=e.dispatchAnalyticsEvent;return Object(T.d)(X.a,{baseFontSize:n.getBaseFontSize()},Object(T.d)(r,{appearance:n.props.appearance,disabled:n.props.disabled,editorActions:n.editorActions,editorDOMElement:i,editorView:c,providerFactory:n.providerFactory,eventDispatcher:s,dispatchAnalyticsEvent:l,maxHeight:n.props.maxHeight,minHeight:n.props.minHeight,onSave:n.props.onSave?n.handleSave:void 0,onCancel:n.props.onCancel,popupsMountPoint:n.props.popupsMountPoint,popupsBoundariesElement:n.props.popupsBoundariesElement,popupsScrollableElement:n.props.popupsScrollableElement,contentComponents:u.contentComponents,primaryToolbarComponents:u.primaryToolbarComponents,primaryToolbarIconBefore:n.props.primaryToolbarIconBefore,secondaryToolbarComponents:u.secondaryToolbarComponents,insertMenuItems:n.props.insertMenuItems,customContentComponents:n.props.contentComponents,customPrimaryToolbarComponents:n.props.primaryToolbarComponents,customSecondaryToolbarComponents:n.props.secondaryToolbarComponents,contextPanel:n.props.contextPanel,collabEdit:n.props.collabEdit,persistScrollGutter:n.props.persistScrollGutter,enableToolbarMinWidth:null!=(null===(t=n.props.featureFlags)||void 0===t?void 0:t.toolbarMinWidthOverflow)?!(null===(o=n.props.featureFlags)||void 0===o||!o.toolbarMinWidthOverflow):n.props.UNSAFE_allowUndoRedoButtons,useStickyToolbar:n.props.useStickyToolbar,featureFlags:a}))}}),Object(T.d)(xoe,{portalProviderAPI:t}))}}))))))}}))}}]),n}(i.a.Component);E()(Koe,"defaultProps",{appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}),E()(Koe,"propTypes",{minHeight:function(e){var t=e.appearance;return e.minHeight&&t&&!["comment","chromeless"].includes(t)?new Error("minHeight only supports editor appearance chromeless and comment"):null}}),E()(Koe,"contextTypes",{editorActions:A.a.object});var $oe=n(554);function Yoe(e,...t){0}class Xoe{constructor(e,t){this.statusCode=e,this.message=t,this.name="HttpError",this.stack=(new Error).stack}}class Joe extends n_.a{constructor(e,t){super(),this.search=new $oe.a("id"),this.mentionTypeaheadHighlightEnabled=()=>this.config.enableTeamMentionHighlight||!1,this.mentionTypeaheadCreateTeamPath=()=>"/people/search#createTeam",this.users=t,this.search.addIndex("name"),this.search.addIndex("mentionName"),this.search.addIndex("nickname"),this.search.addDocuments(t),this.config=e,this.lastReturnedSearch=0,this.productName=e.productName,this.shouldEnableInvite=!!e.shouldEnableInvite,this.inviteExperimentCohort=e.inviteExperimentCohort,this.onInviteItemClick=e.onInviteItemClick,this.userRole=e.userRole||"basic"}filter(e){const t=Date.now(),n=n=>{if(t>=this.lastReturnedSearch){this.lastReturnedSearch=t;let r={};"team"===e?r.teamMentionDuration=200:r.duration=100,this._notifyListeners(n,r)}else{new Date(t).toISOString().substr(17,6);Yoe(0)}this._notifyAllResultsListeners(n)},r=e=>{this._notifyErrorListeners(e)},o=(e,t,n)=>{this._notifyAnalyticsListeners(e,t,n)},i=this.config.minWait||0,a=(this.config.maxWait||0)-i,c=Math.random()*a+i;return setTimeout(()=>{let t;return"error"===e?(r(new Error("mock-error")),void o(PA.c,"searchUser","failed")):"401"===e||"403"===e?(r(new Xoe(parseInt(e,10),"get off my lawn")),void o(PA.c,"searchUser","failed")):(t=e?this.search.search(e):this.users,n({mentions:t,query:e}),void o(PA.c,"searchUser","succeeded"))},c+1),Promise.resolve()}recordMentionSelection(e){Yoe(e.id)}resolveMentionName(e){return Yoe(0),this.config.mentionNameResolver?this.config.mentionNameResolver.lookupName(e):{id:e,name:"",status:i_.a.UNKNOWN}}cacheMentionName(e,t){Yoe(0),this.config.mentionNameResolver&&this.config.mentionNameResolver.cacheName(e,t)}supportsMentionNameResolving(){const e=!!this.config.mentionNameResolver;return Yoe(0),e}shouldHighlightMention(e){return"oscar"===e.id}}var Zoe=Promise.resolve(e=>{const{parameters:t}=e.node,{type:n,key:r}=t,o={};return"youtube"!==n?null:(o.id=r,o.src="//www.youtube.com/embed/",i.a.createElement("div",{className:"embed-video-container"},i.a.createElement("iframe",{className:"embed-video-iframe",title:"embed-video-"+o.id,src:o.src+o.id})))});const Qoe=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var eie,tie=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};const nie={title:"Embed video",type:"embed.video.extension",key:"embed.video",description:"Insert youtube video",icons:{48:()=>Promise.resolve().then(n.t.bind(null,378,7)).then(e=>e.default)},modules:{quickInsert:[{key:"embed-video-1",title:"Embed video",description:"Insert youtube video",icon:()=>Promise.resolve().then(n.t.bind(null,378,7)).then(e=>e.default),action:()=>{const e=prompt("Input Url")||"",t=e.match(Qoe),n={};return t&&11===t[2].length&&(n.type="youtube",n.key=t[2],n.url=e),Promise.resolve({type:"extension",attrs:{extensionType:"embed.video.extension",extensionKey:"embed.video:embed-video-default",text:"Embed video",parameters:n}})}}],nodes:{"embed-video-default":{type:"extension",render:()=>Zoe}},contextualToolbars:[{context:{type:"extension",nodeType:"extension",extensionKey:"embed.video:embed-video-default",extensionType:"embed.video.extension"},toolbarItems:[{key:"item-1",display:"icon",label:"Float left",tooltip:"Float left",icon:()=>Promise.resolve().then(n.t.bind(null,717,7)).then(e=>e.default),action:(e,t)=>tie(void 0,void 0,void 0,(function*(){var n;const r=(null===(n=e.attrs)||void 0===n?void 0:n.localId)||"";t.editInContextPanel(e=>{},e=>Promise.resolve({})),t.doc.update(r,({attrs:e,marks:t})=>({attrs:{extensionType:e.extensionType,extensionKey:e.extensionKey,parameters:e.parameters,text:e.text,layout:"wrap-left"}}))}))},{key:"item-3",display:"icon",label:"Float right",tooltip:"Float right",icon:()=>Promise.resolve().then(n.t.bind(null,718,7)).then(e=>e.default),action:(e,t)=>tie(void 0,void 0,void 0,(function*(){var n;const r=(null===(n=e.attrs)||void 0===n?void 0:n.localId)||"";t.doc.update(r,({attrs:e,marks:t})=>({attrs:{extensionType:e.extensionType,extensionKey:e.extensionKey,parameters:e.parameters,text:e.text,layout:"wrap-right"}}))}))}]}]}};(null===(eie=null==nie?void 0:nie.modules)||void 0===eie?void 0:eie.nodes["embed-video-default"])&&(nie.modules.nodes["embed-video-default"].__hideFrame=!0);var rie=nie;var oie,iie=Promise.resolve(e=>{const{parameters:t}=e.node;return i.a.createElement("div",{className:"attachments__container"},i.a.createElement("div",{className:"attachments__table attachments"},i.a.createElement("div",{className:"header-row"},i.a.createElement("div",{className:"expand-column attachment-summary-toggle"}),i.a.createElement("div",{className:"filename-column"},"File"),i.a.createElement("div",{className:"modified-column"},"Uploaded")),i.a.createElement("div",{className:"attachments__table-content"},t.items&&t.items.map((function(e,t){return i.a.createElement("div",{className:"attachment-row"},i.a.createElement("div",{className:"expand-column attachment-summary-toggle"}),i.a.createElement("div",{className:"filename-column"},i.a.createElement("p",null,i.a.createElement("span",{className:"icon icon-file-image hide-icons"}),i.a.createElement("a",{className:"filename",href:e.filePath,title:"Download"},e.fileName))),i.a.createElement("div",{className:"attachment-created modified-column"},i.a.createElement("span",{className:"hide-icons"},e.fileUploadedAt),i.a.createElement("span",{className:"attachments-by"},"by"),i.a.createElement("a",{href:"",className:"url fn confluence-userlink"},e.fileOwner)))})))))}),aie=new Uint8Array(16);function cie(){if(!oie&&!(oie="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oie(aie)}var sie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var uie=function(e){return"string"==typeof e&&sie.test(e)},lie=[],die=0;die<256;++die)lie.push((die+256).toString(16).substr(1));var fie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(lie[e[t+0]]+lie[e[t+1]]+lie[e[t+2]]+lie[e[t+3]]+"-"+lie[e[t+4]]+lie[e[t+5]]+"-"+lie[e[t+6]]+lie[e[t+7]]+"-"+lie[e[t+8]]+lie[e[t+9]]+"-"+lie[e[t+10]]+lie[e[t+11]]+lie[e[t+12]]+lie[e[t+13]]+lie[e[t+14]]+lie[e[t+15]]).toLowerCase();if(!uie(n))throw TypeError("Stringified UUID is invalid");return n};var pie,hie=function(e,t,n){var r=(e=e||{}).random||(e.rng||cie)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return fie(r)},mie=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};const vie={title:"Attachments",type:"attachments.extension",key:"attachments",description:"Insert attachments",icons:{48:()=>Promise.resolve().then(n.t.bind(null,381,7)).then(e=>e.default)},modules:{quickInsert:[{key:"attachments-1",title:"Attachments",description:"Insert attachments",icon:()=>Promise.resolve().then(n.t.bind(null,381,7)).then(e=>e.default),action:()=>{var e;let t=null===(e=null===window||void 0===window?void 0:window.Laravel)||void 0===e?void 0:e.docId;t||(t="");const n={items:[]};return n.attachmentId=t+hie(),Promise.resolve({type:"extension",attrs:{extensionType:"attachments.extension",extensionKey:"attachments:attachments-default",text:"Attachments",parameters:n}})}}],nodes:{"attachments-default":{type:"extension",render:()=>iie}},contextualToolbars:[{context:{type:"extension",nodeType:"extension",extensionKey:"attachments:attachments-default",extensionType:"attachments.extension"},toolbarItems:[{key:"button-1",display:"icon",label:"Download all files",tooltip:"Download all files",icon:()=>Promise.resolve().then(n.t.bind(null,427,7)).then(e=>e.default),action:(e,t)=>mie(void 0,void 0,void 0,(function*(){var t,n,r;let o=[],i=null===(n=null===(t=document.querySelector("#edit-document-form"))||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.atlaskitDownloadAttachments,a=null===(r=document.querySelector('meta[name="csrf-token"]'))||void 0===r?void 0:r.getAttribute("content");e.attrs.parameters.items&&i&&a&&(e.attrs.parameters.items.forEach(e=>{o.push({fileName:e.fileName,filePath:e.filePath})}),fetch(i,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":a},method:"POST",body:JSON.stringify({attachmentFiles:o})}))}))},{key:"button-2",display:"icon",label:"Upload files",tooltip:"Upload files",icon:()=>n.e(167).then(n.t.bind(null,1961,7)).then(e=>e.default),action:(e,t)=>mie(void 0,void 0,void 0,(function*(){var n;const r=(null===(n=e.attrs)||void 0===n?void 0:n.localId)||"";let o=document.querySelector("#attachments-files");o&&o.remove();let i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("id","attachments-files"),i.setAttribute("multiple","true"),i.classList.add("hide"),i.addEventListener("change",()=>{var n,o,a;let c=null===(o=null===(n=document.querySelector("#edit-document-form"))||void 0===n?void 0:n.dataset)||void 0===o?void 0:o.atlaskitUploadAttachments,s=null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content");if(i.files&&c&&s){const n=new FormData;n.append("_token",s);for(const e of i.files)n.append("attachments[]",e,e.name);fetch(c,{method:"POST",body:n}).then(e=>e.json()).then(n=>{n.files&&t.doc.update(r,({attrs:t,marks:r})=>{n.files.forEach(e=>{t.parameters.items.push({fileName:e.fileName,filePath:e.filePath,fileUploadedAt:e.fileUploadedAt,fileOwner:e.fileOwner})});let o=JSON.parse(JSON.stringify(t.parameters));return console.log(111,e,t,o),{attrs:{extensionType:t.extensionType,extensionKey:t.extensionKey,text:t.text,parameters:o}}})})}i.remove()}),document.body.appendChild(i),i.value="",i.click()}))}]}]}};(null===(pie=null==vie?void 0:vie.modules)||void 0===pie?void 0:pie.nodes["attachments-default"])&&(vie.modules.nodes["attachments-default"].__hideFrame=!0);var bie=vie,gie=function(){function e(t,n){d()(this,e),this.manifestsPromise=Promise.resolve(t),this.autoConvertHandlers=n}var t,n,r;return p()(e,[{key:"getExtensions",value:function(){return this.manifestsPromise}},{key:"getExtension",value:(r=u()(C.a.mark((function e(t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.manifestsPromise;case 2:if(r=e.sent.find((function(e){return e.type===t&&e.key===n}))){e.next=5;break}throw new Error('Extension with type "'.concat(t,'" and key "').concat(n,'" not found!'));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"search",value:(n=u()(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.manifestsPromise;case 2:return n=e.sent.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getAutoConverter",value:(t=u()(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.autoConvertHandlers){e.next=2;break}return e.abrupt("return",this.autoConvertHandlers);case 2:return e.t0=x4.a,e.next=5,this.manifestsPromise;case 5:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();const yie={content:"Embed video",value:{name:"embed-video"},tooltipDescription:"Embed video",tooltipPosition:"right",elemBefore:o.createElement(tC.a,null),onClick:e=>{const t=prompt("Input Url")||"",n=t.match(Qoe),r={};if(!n||11!==n[2].length)return null;r.type="youtube",r.key=n[2],r.url=t,e.replaceSelection({type:"extension",attrs:{extensionType:"embed.video.extension",extensionKey:"embed.video:embed-video-default",text:"Embed video",parameters:r}})}};var Oie=[yie,{content:"Insert image",value:{name:"insert-image"},tooltipDescription:"Insert image",tooltipPosition:"right",elemBefore:o.createElement(Y1.a,null),onClick:e=>{var t,n,r;const o=null===(n=null===(t=document.querySelector("#edit-document-form"))||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.atlaskitUploadImage,i=null===(r=document.querySelector('meta[name="csrf-token"]'))||void 0===r?void 0:r.getAttribute("content");let a=document.querySelector("#atlaskit-image-input");a||(a=document.createElement("input"),a.setAttribute("id","atlaskit-image-input"),a.style.display="none",a.type="file",a.addEventListener("change",()=>{a.files&&o&&((e,t,n,r)=>{let o=new FormData;o.append("upload",r),o.append("_token",n),fetch(t,{method:"POST",body:o}).then(e=>e.json()).then(t=>{let n=t.originalSize.width,r=t.originalSize.height;n>760&&(r=Math.round(760*r/n),n=760),e.replaceSelection({type:"mediaSingle",content:[{type:"media",attrs:{type:"external",url:`${t.url}#media-blob-url=true&id=87bcf0a2-a269-4038-8834-65f4bd6e5a9e&collection=contentId-65651&contextId=65651&mimeType=image%2Fjpeg&name=(89).jpg&size=256698&width=${n}&height=${r}&alt=`,width:n,height:r}}]})})})(e,o,i,a.files[0])}),document.body.appendChild(a)),a.value="",a.click()}},{content:"Attachments",value:{name:"attachments"},tooltipDescription:"Attachments",tooltipPosition:"right",elemBefore:o.createElement(Nq.a,null),onClick:e=>{var t;let n=null===(t=null===window||void 0===window?void 0:window.Laravel)||void 0===t?void 0:t.docId;n||(n="");const r={items:[]};r.attachmentId=n+hie(),e.replaceSelection({type:"extension",attrs:{extensionType:"attachments.extension",extensionKey:"attachments:attachments-default",text:"Attachments",parameters:r}})}}],wie=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))};class kie extends o.Component{constructor(e){super(e),this.state={contentLoaded:!1,usersLoaded:!1,content:void 0,users:[]}}getContent(){const e="coch-org-document-"+window.Laravel.docId;fetch("https://n.coch.org/document-room/"+e).then(e=>e.json()).then(e=>{if(e.isRoomExist)this.setState({contentLoaded:!0});else{let e=document.querySelector("#edit-document-form");if(e){let t=e.dataset.getDraft;t&&fetch(t).then(e=>e.json()).then(e=>{var t;(null===(t=null==e?void 0:e.document)||void 0===t?void 0:t.content)&&this.setState({contentLoaded:!0,content:JSON.parse(e.document.content)})})}}})}getUsers(){this.setState({usersLoaded:!0,users:[]})}componentDidMount(){this.getContent(),this.getUsers()}render(){return this.state.contentLoaded&&this.state.usersLoaded?this.state.contentLoaded&&this.state.usersLoaded?o.createElement(nX.b,{locale:"en"},o.createElement(Koe,{appearance:"full-page",extensionProviders:()=>[new gie([rie,bie])],insertMenuItems:Oie,allowExtension:{allowAutoSave:!0,allowExtendFloatingToolbars:!0},defaultValue:this.state.content,placeholder:"Write something...",mentionProvider:Promise.resolve(new Joe({minWait:10,maxWait:25},this.state.users)),waitForMediaUpload:!0,allowTextColor:{allowMoreTextColors:!0},allowLayouts:!0,allowTables:{advanced:!0,allowColumnResizing:!0,allowMergeCells:!0,allowNumberColumn:!0,allowBackgroundColor:!0,allowHeaderRow:!0,allowHeaderColumn:!0,permittedLayouts:"all",stickToolbarToBottom:!0,allowColumnSorting:!0,stickyHeaders:!0,allowCollapse:!0},allowExpand:{allowInsertion:!0,allowInteractiveExpand:!0},media:{allowLinking:!0,fullWidthEnabled:!0,featureFlags:{captions:!0},allowMediaSingle:!0,isCopyPasteEnabled:!0,allowLazyLoading:!0,allowAdvancedToolBarOptions:!0,waitForMediaUpload:!0},primaryToolbarComponents:o.createElement(oc,{render:e=>o.createElement("div",null,o.createElement("button",{onClick:()=>wie(this,void 0,void 0,(function*(){let t=yield e.getValue();console.log(t);let n=document.querySelector("#current-data");n&&(n.innerHTML=JSON.stringify(t,null,4))}))},"Get data"),o.createElement("button",{id:"ak-publish-document",onClick:()=>wie(this,void 0,void 0,(function*(){var t,n;let r=yield e.getValue(),o=null===(t=document.querySelector("#edit-document-form"))||void 0===t?void 0:t.dataset.updateContent,i=null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content");if(r&&o&&i){let e={document:r,_method:"PUT"};fetch(o,{method:"POST",headers:{"X-CSRF-TOKEN":i,"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{let t=document.querySelector(".document-content-public .srm-description__content-inner");if(t){t.innerHTML=e.data.document.content,(()=>{let e=document.querySelectorAll(".document-content-public .ak-editor-expand");e&&e.forEach(e=>{let t=e.querySelector(".ak-expand-button");t&&t.addEventListener("click",()=>{e.classList.toggle("ak-editor-expand__expanded")})})})();document.querySelector(".document-content").classList.toggle("show-draft")}})}}))},"Publish"))})})):void 0:o.createElement("h2",null,"Loading...")}}var Eie=n(47),xie=n(741);var Sie=n(62),jie=n(190),Cie=n(220);n(186);const Tie=(e,t)=>{let n=0,r=0;for(;n<e.length&&n<t.length&&e[n]===t[n];)n++;for(;r+n<e.length&&r+n<t.length&&e[e.length-r-1]===t[t.length-r-1];)r++;return{index:n,remove:e.length-n-r,insert:t.slice(n,t.length-r)}};var _ie=n(95);const Aie=new dt.PluginKey("y-sync"),Pie=new dt.PluginKey("y-undo"),Iie=new dt.PluginKey("yjs-cursor");var Mie=n(89),Rie=n(165);let Nie=null;const Die=()=>{const e=Nie;Nie=null,e.forEach((e,t)=>{const n=t.state.tr,r=Aie.getState(t.state);r&&r.binding&&!r.binding.isDestroyed&&(e.forEach((e,t)=>{n.setMeta(t,e)}),t.dispatch(n))})},Lie=(e,t,n)=>{if(0===e)return Eie.s(t,0);let r=null===t._first?null:t._first.content.type;for(;null!==r&&t!==r;){if(r instanceof Eie.l){if(r._length>=e)return Eie.s(r,e);if(e-=r._length,null!==r._item&&null!==r._item.next)r=r._item.next.content.type;else{do{r=null===r._item?null:r._item.parent,e--}while(r!==t&&null!==r&&null!==r._item&&null===r._item.next);null!==r&&r!==t&&(r=null===r._item?null:r._item.next.content.type)}}else{const o=(n.get(r)||{nodeSize:0}).nodeSize;if(null!==r._first&&e<o)r=r._first.content.type,e--;else{if(1===e&&0===r._length&&o>1)return new Eie.f(null===r._item?null:r._item.id,null===r._item?Eie.w(r):null,null);if(e-=o,null!==r._item&&null!==r._item.next)r=r._item.next.content.type;else{if(0===e)return r=null===r._item?r:r._item.parent,new Eie.f(null===r._item?null:r._item.id,null===r._item?Eie.w(r):null,null);do{r=r._item.parent,e--}while(r!==t&&null===r._item.next);r!==t&&(r=r._item.next.content.type)}}}if(null===r)throw _ie.c();if(0===e&&r.constructor!==Eie.l&&r!==t)return Bie(r._item.parent,r._item)}return Eie.s(t,t._length)},Bie=(e,t)=>{let n=null,r=null;return null===e._item?r=Eie.w(e):n=Eie.q(e._item.id.client,e._item.id.clock),new Eie.f(n,r,t.id)},Fie=(e,t,n,r)=>{const o=Eie.o(n,e);if(null===o||o.type!==t&&!Eie.y(t,o.type._item))return null;let i=o.type,a=0;if(i.constructor===Eie.l)a=o.index;else if(null===i._item||!i._item.deleted){let e=i._first,t=0;for(;t<i._length&&t<o.index&&null!==e;){if(!e.deleted){const n=e.content.type;t++,n instanceof Eie.l?a+=n._length:a+=r.get(n).nodeSize}e=e.right}a+=1}for(;i!==t&&null!==i._item;){const e=i._item.parent;if(null===e._item||!e._item.deleted){a+=1;let t=e._first;for(;null!==t;){const e=t.content.type;if(e===i)break;t.deleted||(e instanceof Eie.l?a+=e._length:a+=r.get(e).nodeSize),t=t.right}}i=e}return a-1};var zie=n(331),Uie=n(221),Hie=n(106);const Wie=(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&t.sv.get(e.id.client)>e.id.clock&&!Eie.x(t.ds,e.id),Vie=[{light:"#ecd44433",dark:"#ecd444"}],qie=(e,t,n)=>{if(!e.has(n)){if(e.size<t.length){const n=Cie.a();e.forEach(e=>n.add(e)),t=t.filter(e=>!n.has(e))}e.set(n,zie.a(t))}return e.get(n)},Gie=(e,{colors:t=Vie,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:o=(()=>{})}={})=>{let i,a=!1;const c=new dt.Plugin({props:{editable:e=>{const t=Aie.getState(e);return null==t.snapshot&&null==t.prevSnapshot}},key:Aie,state:{init:(o,i)=>({type:e,doc:e.doc,binding:null,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,addToHistory:!0,colors:t,colorMapping:n,permanentUserData:r}),apply:(e,t)=>{const n=e.getMeta(Aie);if(void 0!==n){t=Object.assign({},t);for(const e in n)t[e]=n[e]}return t.addToHistory=!1!==e.getMeta("addToHistory"),t.isChangeOrigin=void 0!==n&&!!n.isChangeOrigin,null!==t.binding&&(void 0===n||null==n.snapshot&&null==n.prevSnapshot||Rie.b(0,()=>{null==t.binding||t.binding.isDestroyed||(null==n.restore?t.binding._renderSnapshot(n.snapshot,n.prevSnapshot,t):(t.binding._renderSnapshot(n.snapshot,n.snapshot,t),delete t.restore,delete t.snapshot,delete t.prevSnapshot,t.binding._prosemirrorChanged(t.binding.prosemirrorView.state.doc)))})),t}},view:t=>{const n=new $ie(e,t);return null!=i&&i.destroy(),i=Rie.b(0,()=>{n._forceRerender(),t.dispatch(t.state.tr.setMeta(Aie,{binding:n})),o()}),{update:()=>{const e=c.getState(t.state);if(null==e.snapshot&&null==e.prevSnapshot&&(a||null!==t.state.doc.content.findDiffStart(t.state.doc.type.createAndFill().content))){if(a=!0,!1===e.addToHistory&&!e.isChangeOrigin){const e=Pie.getState(t.state),n=e&&e.undoManager;n&&n.stopCapturing()}e.doc.transact(r=>{r.meta.set("addToHistory",e.addToHistory),n._prosemirrorChanged(t.state.doc)},Aie)}},destroy:()=>{i.destroy(),n.destroy()}}}});return c},Kie=(e,t)=>({anchor:Lie(t.selection.anchor,e.type,e.mapping),head:Lie(t.selection.head,e.type,e.mapping)});class $ie{constructor(e,t){this.type=e,this.prosemirrorView=t,this.mux=(()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}})(),this.isDestroyed=!1,this.mapping=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{null===this.beforeTransactionSelection&&(this.beforeTransactionSelection=Kie(this,t.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),e.observeDeep(this._observeFunction),this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return!!this.prosemirrorView.hasFocus()&&(Uie.b&&null===this._domSelectionInView&&(Rie.b(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView)}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),t=this.prosemirrorView._root.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);0===t.getClientRects().length&&t.startContainer&&t.collapsed&&t.selectNodeContents(t.startContainer);const n=t.getBoundingClientRect(),r=Hie.c.documentElement;return n.bottom>=0&&n.right>=0&&n.left<=(window.innerWidth||r.clientWidth||0)&&n.top<=(window.innerHeight||r.clientHeight||0)}renderSnapshot(e,t){t||(t=Eie.t(Eie.p(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Aie,{snapshot:e,prevSnapshot:t}))}unrenderSnapshot(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(e=>Xie(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ya.Slice(new ya.Fragment(e),0,0));t.setMeta(Aie,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(t)})}_forceRerender(){this.mapping=new Map,this.mux(()=>{const e=this.type.toArray().map(e=>Xie(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e),t=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ya.Slice(new ya.Fragment(e),0,0));this.prosemirrorView.dispatch(t.setMeta(Aie,{isChangeOrigin:!0}))})}_renderSnapshot(e,t,n){e||(e=Eie.A(this.doc)),this.mapping=new Map,this.mux(()=>{this.doc.transact(r=>{const o=n.permanentUserData;o&&o.dss.forEach(e=>{Eie.z(r,e,e=>{})});const i=(e,t)=>{const r="added"===e?o.getUserByClientId(t.client):o.getUserByDeletedId(t);return{user:r,type:e,color:qie(n.colorMapping,n.colors,r)}},a=Eie.B(this.type,new Eie.g(t.ds,e.sv)).map(n=>!n._item.deleted||Wie(n._item,e)||Wie(n._item,t)?Xie(n,this.prosemirrorView.state.schema,new Map,e,t,i):null).filter(e=>null!==e),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ya.Slice(new ya.Fragment(a),0,0));this.prosemirrorView.dispatch(c.setMeta(Aie,{isChangeOrigin:!0}))},Aie)})}_typeChanged(e,t){const n=Aie.getState(this.prosemirrorView.state);0!==e.length&&null==n.snapshot&&null==n.prevSnapshot?this.mux(()=>{const e=(e,t)=>this.mapping.delete(t);Eie.z(t,t.deleteSet,e=>e.constructor===Eie.e&&this.mapping.delete(e.content.type)),t.changed.forEach(e),t.changedParentTypes.forEach(e);const n=this.type.toArray().map(e=>Yie(e,this.prosemirrorView.state.schema,this.mapping)).filter(e=>null!==e);let r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new ya.Slice(new ya.Fragment(n),0,0));((e,t,n)=>{if(null!==t&&null!==t.anchor&&null!==t.head){const r=Fie(n.doc,n.type,t.anchor,n.mapping),o=Fie(n.doc,n.type,t.head,n.mapping);null!==r&&null!==o&&(e=e.setSelection(dt.TextSelection.create(e.doc,r,o)))}})(r,this.beforeTransactionSelection,this),r=r.setMeta(Aie,{isChangeOrigin:!0}),null!==this.beforeTransactionSelection&&this._isLocalCursorInView()&&r.scrollIntoView(),this.prosemirrorView.dispatch(r)}):this.renderSnapshot(n.snapshot,n.prevSnapshot)}_prosemirrorChanged(e){this.mux(()=>{this.doc.transact(t=>{sae(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=Kie(this,this.prosemirrorView.state)},Aie)})}destroy(){this.isDestroyed=!0,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions)}}const Yie=(e,t,n,r,o,i)=>{const a=n.get(e);if(void 0===a){if(e instanceof Eie.j)return Xie(e,t,n,r,o,i);throw _ie.b()}return a},Xie=(e,t,n,r,o,i)=>{const a=[],c=e=>{if(e.constructor===Eie.j){const c=Yie(e,t,n,r,o,i);null!==c&&a.push(c)}else{const c=Jie(e,t,n,r,o,i);null!==c&&c.forEach(e=>{null!==e&&a.push(e)})}};void 0===r||void 0===o?e.toArray().forEach(c):Eie.B(e,new Eie.g(o.ds,r.sv)).forEach(c);try{const c=e.getAttributes(r);void 0!==r&&(Wie(e._item,r)?Wie(e._item,o)||(c.ychange=i?i("added",e._item.id):{type:"added"}):c.ychange=i?i("removed",e._item.id):{type:"removed"});const s=t.node(e.nodeName,c,a);return n.set(e,s),s}catch(t){return e.doc.transact(t=>{e._item.delete(t)},Aie),n.delete(e),null}},Jie=(e,t,n,r,o,i)=>{const a=[],c=e.toDelta(r,o,i);try{for(let e=0;e<c.length;e++){const n=c[e],r=[];for(const e in n.attributes)r.push(t.mark(e,n.attributes[e]));a.push(t.text(n.insert,r))}}catch(t){return e.doc.transact(t=>{e._item.delete(t)},Aie),null}return a},Zie=(e,t)=>e instanceof Array?((e,t)=>{const n=new Eie.l,r=e.map(e=>({insert:e.text,attributes:cae(e.marks)}));return n.applyDelta(r),t.set(n,e),n})(e,t):((e,t)=>{const n=new Eie.j(e.type.name);for(const t in e.attrs){const r=e.attrs[t];null!==r&&"ychange"!==t&&n.setAttribute(t,r)}return n.insert(0,tae(e).map(e=>Zie(e,t))),t.set(n,e),n})(e,t),Qie=e=>"object"==typeof e&&null!==e,eae=(e,t)=>{const n=Object.keys(e).filter(t=>null!==e[t]);let r=n.length===Object.keys(t).filter(e=>null!==t[e]).length;for(let o=0;o<n.length&&r;o++){const i=n[o],a=e[i],c=t[i];r="ychange"===i||a===c||Qie(a)&&Qie(c)&&eae(a,c)}return r},tae=e=>{const t=e.content.content,n=[];for(let e=0;e<t.length;e++){const r=t[e];if(r.isText){const r=[];for(let n=t[e];e<t.length&&n.isText;n=t[++e])r.push(n);e--,n.push(r)}else n.push(r)}return n},nae=(e,t)=>{const n=e.toDelta();return n.length===t.length&&n.every((e,n)=>e.insert===t[n].text&&jie.c(e.attributes||{}).length===t[n].marks.length&&t[n].marks.every(t=>eae(e.attributes[t.type.name]||{},t.attrs)))},rae=(e,t)=>{if(e instanceof Eie.j&&!(t instanceof Array)&&uae(e,t)){const n=tae(t);return e._length===n.length&&eae(e.getAttributes(),t.attrs)&&e.toArray().every((e,t)=>rae(e,n[t]))}return e instanceof Eie.l&&t instanceof Array&&nae(e,t)},oae=(e,t)=>e===t||e instanceof Array&&t instanceof Array&&e.length===t.length&&e.every((e,n)=>t[n]===e),iae=(e,t,n)=>{const r=e.toArray(),o=tae(t),i=o.length,a=r.length,c=Sie.g(a,i);let s=0,u=0,l=!1;for(;s<c;s++){const e=r[s],t=o[s];if(oae(n.get(e),t))l=!0;else if(!rae(e,t))break}for(;s+u<c;u++){const e=r[a-u-1],t=o[i-u-1];if(oae(n.get(e),t))l=!0;else if(!rae(e,t))break}return{equalityFactor:s+u,foundMappedChild:l}},aae=(e,t,n)=>{n.set(e,t);const{nAttrs:r,str:o}=(e=>{let t="",n=e._start;const r={};for(;null!==n;)n.deleted||(n.countable&&n.content instanceof Eie.b?t+=n.content.str:n.content instanceof Eie.a&&(r[n.content.key]=null)),n=n.right;return{str:t,nAttrs:r}})(e),i=t.map(e=>({insert:e.text,attributes:Object.assign({},r,cae(e.marks))})),{insert:a,remove:c,index:s}=Tie(o,i.map(e=>e.insert).join(""));e.delete(s,c),e.insert(s,a),e.applyDelta(i.map(e=>({retain:e.insert.length,attributes:e.attributes})))},cae=e=>{const t={};return e.forEach(e=>{"ychange"!==e.type.name&&(t[e.type.name]=e.attrs)}),t},sae=(e,t,n,r)=>{if(t instanceof Eie.j&&t.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(t,n),t instanceof Eie.j){const e=t.getAttributes(),r=n.attrs;for(const n in r)null!==r[n]?e[n]!==r[n]&&"ychange"!==n&&t.setAttribute(n,r[n]):t.removeAttribute(n);for(const n in e)void 0===r[n]&&t.removeAttribute(n)}const o=tae(n),i=o.length,a=t.toArray(),c=a.length,s=Sie.g(i,c);let u=0,l=0;for(;u<s;u++){const e=a[u],t=o[u];if(!oae(r.get(e),t)){if(!rae(e,t))break;r.set(e,t)}}for(;l+u+1<s;l++){const e=a[c-l-1],t=o[i-l-1];if(!oae(r.get(e),t)){if(!rae(e,t))break;r.set(e,t)}}e.transact(()=>{for(;c-u-l>0&&i-u-l>0;){const n=a[u],s=o[u],d=a[c-l-1],f=o[i-l-1];if(n instanceof Eie.l&&s instanceof Array)nae(n,s)||aae(n,s,r),u+=1;else{let o=n instanceof Eie.j&&uae(n,s),i=d instanceof Eie.j&&uae(d,f);if(o&&i){const e=iae(n,s,r),t=iae(d,f,r);e.foundMappedChild&&!t.foundMappedChild?i=!1:!e.foundMappedChild&&t.foundMappedChild||e.equalityFactor<t.equalityFactor?o=!1:i=!1}o?(sae(e,n,s,r),u+=1):i?(sae(e,d,f,r),l+=1):(t.delete(u,1),t.insert(u,[Zie(s,r)]),u+=1)}}const n=c-u-l;if(1===c&&0===i&&a[0]instanceof Eie.l?a[0].delete(0,a[0].length):n>0&&t.delete(u,n),u+l<i){const e=[];for(let t=u;t<i-l;t++)e.push(Zie(o[t],r));t.insert(u,e)}},Aie)},uae=(e,t)=>!(t instanceof Array)&&e.nodeName===t.type.name;n(193);const lae=e=>{const t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style","border-color: "+e.color);const n=document.createElement("div");n.setAttribute("style","background-color: "+e.color),n.insertBefore(document.createTextNode(e.name),null);const r=document.createTextNode(""),o=document.createTextNode("");return t.insertBefore(r,null),t.insertBefore(n,null),t.insertBefore(o,null),t},dae=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),fae=/^#[0-9a-fA-F]{6}$/,pae=(e,t,n,r)=>{const o=Aie.getState(e),i=o.doc,a=[];return null!=o.snapshot||null!=o.prevSnapshot||null===o.binding?ft.b.create(e.doc,[]):(t.getStates().forEach((t,c)=>{if(c!==i.clientID&&null!=t.cursor){const s=t.user||{};null==s.color?s.color="#ffa500":fae.test(s.color)||console.warn("A user uses an unsupported color format",s),null==s.name&&(s.name="User: "+c);let u=Fie(i,o.type,Eie.r(t.cursor.anchor),o.binding.mapping),l=Fie(i,o.type,Eie.r(t.cursor.head),o.binding.mapping);if(null!==u&&null!==l){const t=Sie.f(e.doc.content.size-1,0);u=Sie.g(u,t),l=Sie.g(l,t),a.push(ft.a.widget(l,()=>n(s),{key:c+"",side:10}));const o=Sie.g(u,l),i=Sie.f(u,l);a.push(ft.a.inline(o,i,r(s),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),ft.b.create(e.doc,a))},hae=(e,{cursorBuilder:t=lae,selectionBuilder:n=dae,getSelection:r=(e=>e.selection)}={},o="cursor")=>new dt.Plugin({key:Iie,state:{init:(r,o)=>pae(o,e,t,n),apply(r,o,i,a){const c=Aie.getState(a),s=r.getMeta(Iie);return c&&c.isChangeOrigin||s&&s.awarenessUpdated?pae(a,e,t,n):o.map(r.mapping,r.doc)}},props:{decorations:e=>Iie.getState(e)},view:t=>{const n=()=>{t.docView&&((e,t,n)=>{Nie||(Nie=new Map,Rie.b(0,Die)),Mie.e(Nie,e,Mie.c).set(t,n)})(t,Iie,{awarenessUpdated:!0})},i=()=>{const n=Aie.getState(t.state),i=e.getLocalState()||{};if(null!=n.binding)if(t.hasFocus()){const a=r(t.state),c=Lie(a.anchor,n.type,n.binding.mapping),s=Lie(a.head,n.type,n.binding.mapping);null!=i.cursor&&Eie.n(Eie.r(i.cursor.anchor),c)&&Eie.n(Eie.r(i.cursor.head),s)||e.setLocalStateField(o,{anchor:c,head:s})}else null!=i.cursor&&null!==Fie(n.doc,n.type,Eie.r(i.cursor.anchor),n.binding.mapping)&&e.setLocalStateField(o,null)};return e.on("change",n),t.dom.addEventListener("focusin",i),t.dom.addEventListener("focusout",i),{update:i,destroy:()=>{t.dom.removeEventListener("focusin",i),t.dom.removeEventListener("focusout",i),e.off("change",n),e.setLocalStateField(o,null)}}}}),mae=e=>{const t=Pie.getState(e).undoManager;if(null!=t)return t.undo(),!0},vae=e=>{const t=Pie.getState(e).undoManager;if(null!=t)return t.redo(),!0},bae=new Set(["paragraph"]),gae=({protectedNodes:e=bae,trackedOrigins:t=[],undoManager:n=null}={})=>new dt.Plugin({key:Pie,state:{init:(r,o)=>{const i=Aie.getState(o),a=n||new Eie.i(i.type,{trackedOrigins:new Set([Aie].concat(t)),deleteFilter:t=>((e,t)=>!(e instanceof Eie.e&&e.content instanceof Eie.c&&(e.content.type instanceof Eie.h||e.content.type instanceof Eie.j&&t.has(e.content.type.nodeName))&&0!==e.content.type._length))(t,e),captureTransaction:e=>!1!==e.meta.get("addToHistory")});return{undoManager:a,prevSel:null,hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}},apply:(e,t,n,r)=>{const o=Aie.getState(r).binding,i=t.undoManager,a=i.undoStack.length>0,c=i.redoStack.length>0;return o?{undoManager:i,prevSel:Kie(o,n),hasUndoOps:a,hasRedoOps:c}:a!==t.hasUndoOps||c!==t.hasRedoOps?Object.assign({},t,{hasUndoOps:i.undoStack.length>0,hasRedoOps:i.redoStack.length>0}):t}},view:e=>{const t=Aie.getState(e.state),n=Pie.getState(e.state).undoManager;return n.on("stack-item-added",({stackItem:n})=>{const r=t.binding;r&&n.meta.set(r,Pie.getState(e.state).prevSel)}),n.on("stack-item-popped",({stackItem:e})=>{const n=t.binding;n&&(n.beforeTransactionSelection=e.meta.get(n)||n.beforeTransactionSelection)}),{destroy:()=>{n.destroy()}}}});window.addEventListener("load",()=>{if(window.Laravel.docId){const e=new Eie.d,t="coch-org-document-"+window.Laravel.docId,n=new xie.a("wss://n.coch.org",t,e),r=e.get("prosemirror-atlaskit",Eie.k),o=foe.prototype.getPlugins;foe.prototype.getPlugins=function(){return o.apply(this,arguments).concat([{name:"yjs-plugin",pmPlugins:function(){return[{name:"y-shared-content",plugin:function(e){return Gie(r)}},{name:"y-shared-cursors",plugin:function(e){return hae(n.awareness)}},{name:"y-undo-plugin",plugin:gae},{name:"y-undo-keymaps",plugin:()=>dp({"Mod-z":mae,"Mod-y":vae,"Mod-Shift-z":vae})}]}}])},c.a.render(i.a.createElement(kie,null),document.getElementById("atlassian-editor"))}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(144),o=n(128),i=n(111),a=n(484);function c(e,t){return t?Object.keys(e).reduce((function(n,o){var i,a;return n[o]=(i=e[o],(a=t[o])?Object(r.a)(Object(r.a)(Object(r.a)({},i||{}),a||{}),Object.keys(i).reduce((function(e,t){return e[t]=Object(r.a)(Object(r.a)({},i[t]),a[t]||{}),e}),{})):i),n}),Object(r.a)({},e)):e}function s(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var u=function(){function e(t,n,o,u){var l,d=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=d.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===a.a.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Object(a.b)(d.ast,d.locales,d.formatters,d.formats,e,void 0,d.message)},this.resolvedOptions=function(){return{locale:d.resolvedLocale.toString()}},this.getAst=function(){return d.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==u?void 0:u.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=c(e.formats,o),this.formatters=u&&u.formatters||(void 0===(l=this.formatterCache)&&(l={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:s(l.number),strategy:i.b.variadic}),getDateTimeFormat:Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:s(l.dateTime),strategy:i.b.variadic}),getPluralRules:Object(i.a)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.c)([void 0],t,!1)))}),{cache:s(l.pluralRules),strategy:i.b.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=o.m,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(1),o=n.n(r),i=n(384);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={inclusive:!1,excludes:"",attrs:{localId:{default:""},name:{default:null}},parseDOM:[{tag:'[data-mark-type="fragment"]',getAttrs:function(e){return function(e){var t;if(!Object(i.a)(e))return!1;var n=null!==(t=e.getAttribute("data-name"))&&void 0!==t?t:void 0,r=e.getAttribute("data-localId");return!!r&&{localId:r,name:n}}(e)}}],toDOM:function(e,t){return[t?"span":"div",{"data-mark-type":"fragment","data-name":e.attrs.name,"data-localId":e.attrs.localId}]}},u=function(e){return{type:e.type.name,attrs:c({localId:e.attrs.localId},e.attrs.name?{name:e.attrs.name}:{})}}},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=Object(o.c)({outline:"".concat(2,"px solid ").concat("var(--ds-border-focused, ".concat(i.B100,")")),outlineOffset:2}),c=Object(o.c)({boxShadow:"inset 0px 0px 0px ".concat(2,"px ").concat("var(--ds-border-focused, ".concat(i.B100,")")),outline:"none"}),s=Object(o.c)({"&:focus-visible":a,"@supports not selector(*:focus-visible)":{"&:focus":a},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid"}}}),u=Object(o.c)({"&:focus-visible":c,"@supports not selector(*:focus-visible)":{"&:focus":c},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid",outlineOffset:"-1px"}}});t.a=function(e){var t=e.children,n=e.isInset,i=e.focus,l=void 0===i?n?u:s:"on"===i&&(n?c:a);return Object(o.d)(o.a,null,(function(e){var n=e.css,o=e.cx;return r.Children.only(l?Object(r.cloneElement)(t,{className:o([n(l),t.props.className])}):t)}))}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n(12),u=n(139),l=n(288),d=n(287),f=["children","cssFn","description","iconAfter","iconBefore","isDisabled","isSelected","onClick","testId","overrides","onMouseDown","shouldTitleWrap","shouldDescriptionWrap"],p=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=e.children,r=e.cssFn,i=void 0===r?u.a:r,c=e.description,p=e.iconAfter,h=e.iconBefore,m=e.isDisabled,v=void 0!==m&&m,b=e.isSelected,g=void 0!==b&&b,y=e.onClick,O=e.testId,w=e.overrides,k=e.onMouseDown,E=e.shouldTitleWrap,x=e.shouldDescriptionWrap,S=a()(e,f),j=Object(d.a)(k);return n?Object(s.d)(l.a,o()({},S,{overrides:w,iconBefore:h,iconAfter:p,isDisabled:v,isSelected:g,description:c,title:n,shouldTitleWrap:E,shouldDescriptionWrap:x,css:i({isSelected:g,isDisabled:v})}),(function(e){var n=e.children,r=e.className;return Object(s.d)("button",o()({"data-testid":O},S,{className:r,ref:t,disabled:v,onClick:y,onMouseDown:j,type:"button"}),n)})):null})));t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0),g=n.n(b),y=n(90),O=n(68),w=n(73),k=n(240);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var T=function(e){l()(n,e);var t=C(n);function n(){var e,r;o()(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=t.call.apply(t,[this].concat(a)),v()(s()(r),"rafIds",new Set),v()(s()(r),"state",{validPosition:!0}),v()(s()(r),"placement",["",""]),v()(s()(r),"handleRef",(function(e){e&&r.initPopup(e)})),v()(s()(r),"cancelRequestAnimationFrames",(function(){var e,t=S(r.rafIds);try{for(t.s();!(e=t.n()).done;){var n=e.value;cancelAnimationFrame(n)}}catch(e){t.e(e)}finally{t.f()}})),v()(s()(r),"scheduledUpdatePosition",Object(y.a)((function(e){if(r.props.waitForExtraLayoutUpdates||r.updatePosition(r.props),r.props.scheduleExtraLayoutUpdates){var t=requestAnimationFrame((function(){r.updatePosition(r.props),r.rafIds.delete(t)}));r.rafIds.add(t)}}))),v()(s()(r),"onResize",(function(){return r.scheduledUpdatePosition(r.props)})),v()(s()(r),"resizeObserver",null!==(e=window)&&void 0!==e&&e.ResizeObserver?new ResizeObserver((function(){r.scheduledUpdatePosition(r.props)})):void 0),r}return a()(n,[{key:"calculatePosition",value:function(e,t){var n=e.target,r=e.fitHeight,o=e.fitWidth,i=e.boundariesElement,a=e.offset,c=e.onPositionCalculated,s=e.onPlacementChanged,u=e.alignX,l=e.alignY,d=e.stick,f=e.forcePlacement,p=e.allowOutOfBounds,h=e.rect;if(!n||!t)return{};var m=Object(k.a)(n,i||document.body,o,r,u,l,f);s&&this.placement.join("")!==m.join("")&&(s(m),this.placement=m);var v=Object(k.b)({placement:m,popup:t,target:n,stick:d,offset:a,allowOutOfBounds:p,rect:h});return{position:v=c?c(v):v,validPosition:Object(k.d)(n)}}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.popup,r=this.calculatePosition(e,n),o=r.position,i=r.validPosition;o&&i&&this.setState({position:o,validPosition:i})}},{key:"cannotSetPopup",value:function(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}},{key:"initPopup",value:function(e){var t=this.props.target,n=Object(k.c)(e);this.cannotSetPopup(e,t,n)||(this.setState({popup:e}),this.scheduledUpdatePosition(this.props))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.scheduledUpdatePosition(e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize);var e=this.props.stick;this.scrollParentElement=Object(k.c)(this.props.target),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.observe(this.scrollParentElement),this.scrollElement=e?this.scrollParentElement:this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.unobserve(this.scrollParentElement),this.scheduledUpdatePosition.cancel(),this.cancelRequestAnimationFrames()}},{key:"renderPopup",value:function(){var e=this.state.position,t=this.props.shouldRenderPopup;return t&&!t(e||{})?null:g.a.createElement("div",{ref:this.handleRef,style:x({position:"absolute",zIndex:this.props.zIndex||w.p},e),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}},{key:"render",value:function(){var e=this.props,t=e.target,n=e.mountTo,r=this.state.validPosition;return t&&r?n?Object(O.createPortal)(this.renderPopup(),n):this.renderPopup():null}}]),n}(g.a.Component);v()(T,"defaultProps",{offset:[0,0],allowOutOfBound:!1})},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(215);function o(e){return{subscribe:function(t){var n=e.subscribe(t);return{unsubscribe:function(){n.unsubscribe()}}}}}function i(e){return o(Object(r.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),o=n(303),i=function(e,t,n){var i,a;return Object(r.useEffect)((function(){return function(){Object(o.a)(e).abort()}}),[]),i=function(){Object(o.a)(e).start({samplingRate:t});var r=0===Object.keys(e.metadata).length;n&&r&&e.addMetadata(n)},(a=Object(r.useRef)(!1)).current||(i(),a.current=!0),null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e.getState()[t]||{status:"pending"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var r=n(0),o=n(387),i=n(164),a=n(68);function c(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function s(e){return e instanceof c(e).Element||e instanceof Element}function u(e){return e instanceof c(e).HTMLElement||e instanceof HTMLElement}function l(e){return"undefined"!=typeof ShadowRoot&&(e instanceof c(e).ShadowRoot||e instanceof ShadowRoot)}var d=Math.max,f=Math.min,p=Math.round;function h(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(u(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=p(n.width)/a||1),i>0&&(o=p(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function m(e){var t=c(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function v(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function g(e){return h(b(e)).left+m(e).scrollLeft}function y(e){return c(e).getComputedStyle(e)}function O(e){var t=y(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function w(e,t,n){void 0===n&&(n=!1);var r,o,i=u(t),a=u(t)&&function(e){var t=e.getBoundingClientRect(),n=p(t.width)/e.offsetWidth||1,r=p(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=b(t),l=h(e,a),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!n)&&(("body"!==v(t)||O(s))&&(d=(r=t)!==c(r)&&u(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:m(r)),u(t)?((f=h(t,!0)).x+=t.clientLeft,f.y+=t.clientTop):s&&(f.x=g(s))),{x:l.left+d.scrollLeft-f.x,y:l.top+d.scrollTop-f.y,width:l.width,height:l.height}}function k(e){var t=h(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function E(e){return"html"===v(e)?e:e.assignedSlot||e.parentNode||(l(e)?e.host:null)||b(e)}function x(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(v(t))>=0?t.ownerDocument.body:u(t)&&O(t)?t:e(E(t))}(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=c(r),a=o?[i].concat(i.visualViewport||[],O(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(x(E(a)))}function S(e){return["table","td","th"].indexOf(v(e))>=0}function j(e){return u(e)&&"fixed"!==y(e).position?e.offsetParent:null}function C(e){for(var t=c(e),n=j(e);n&&S(n)&&"static"===y(n).position;)n=j(n);return n&&("html"===v(n)||"body"===v(n)&&"static"===y(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&u(e)&&"fixed"===y(e).position)return null;var n=E(e);for(l(n)&&(n=n.host);u(n)&&["html","body"].indexOf(v(n))<0;){var r=y(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var T=n(39);function _(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var o=t.get(r);o&&e(o)}})),r.push(o)}(e)})),r}var A={placement:"bottom",modifiers:[],strategy:"absolute"};function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function I(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?A:o;return function(e,t,n){void 0===n&&(n=i);var o,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},A,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:c,setOptions:function(n){var o="function"==typeof n?n(c.options):n;f(),c.options=Object.assign({},i,c.options,o),c.scrollParents={reference:s(e)?x(e):e.contextElement?x(e.contextElement):[],popper:x(t)};var a=function(e){var t=_(e);return T.g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,c.options.modifiers)));return c.orderedModifiers=a.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:c,name:t,instance:d,options:r});u.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!l){var e=c.elements,t=e.reference,n=e.popper;if(P(t,n)){c.rects={reference:w(t,C(n),"fixed"===c.options.strategy),popper:k(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var o=c.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,u=o.name;"function"==typeof i&&(c=i({state:c,options:s,name:u,instance:d})||c)}else c.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){d.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){f(),l=!0}};if(!P(e,t))return d;function f(){u.forEach((function(e){return e()})),u=[]}return d.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var M={passive:!0};function R(e){return e.split("-")[0]}function N(e){return e.split("-")[1]}function D(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function L(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?R(o):null,a=o?N(o):null,c=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case T.m:t={x:c,y:n.y-r.height};break;case T.c:t={x:c,y:n.y+n.height};break;case T.k:t={x:n.x+n.width,y:s};break;case T.f:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var u=i?D(i):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case T.l:t[u]=t[u]-(n[l]/2-r[l]/2);break;case T.e:t[u]=t[u]+(n[l]/2-r[l]/2)}}return t}var B={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=a.x,m=void 0===h?0:h,v=a.y,g=void 0===v?0:v,O="function"==typeof d?d({x:m,y:g}):{x:m,y:g};m=O.x,g=O.y;var w=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),E=T.f,x=T.m,S=window;if(l){var j=C(n),_="clientHeight",A="clientWidth";if(j===c(n)&&"static"!==y(j=b(n)).position&&"absolute"===s&&(_="scrollHeight",A="scrollWidth"),j=j,o===T.m||(o===T.f||o===T.k)&&i===T.e)x=T.c,g-=(f&&j===S&&S.visualViewport?S.visualViewport.height:j[_])-r.height,g*=u?1:-1;if(o===T.f||(o===T.m||o===T.c)&&i===T.e)E=T.k,m-=(f&&j===S&&S.visualViewport?S.visualViewport.width:j[A])-r.width,m*=u?1:-1}var P,I=Object.assign({position:s},l&&B),M=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:p(t*r)/r||0,y:p(n*r)/r||0}}({x:m,y:g}):{x:m,y:g};return m=M.x,g=M.y,u?Object.assign({},I,((P={})[x]=k?"0":"",P[E]=w?"0":"",P.transform=(S.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",P)):Object.assign({},I,((t={})[x]=k?g+"px":"",t[E]=w?m+"px":"",t.transform="",t))}var z={left:"right",right:"left",bottom:"top",top:"bottom"};function U(e){return e.replace(/left|right|bottom|top/g,(function(e){return z[e]}))}var H={start:"end",end:"start"};function W(e){return e.replace(/start|end/g,(function(e){return H[e]}))}function V(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&l(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function q(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function G(e,t){return t===T.o?q(function(e){var t=c(e),n=b(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,s=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:o,height:i,x:a+g(e),y:s}}(e)):s(t)?function(e){var t=h(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):q(function(e){var t,n=b(e),r=m(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=d(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=d(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+g(e),s=-r.scrollTop;return"rtl"===y(o||n).direction&&(c+=d(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:c,y:s}}(b(e)))}function K(e,t,n){var r="clippingParents"===t?function(e){var t=x(E(e)),n=["absolute","fixed"].indexOf(y(e).position)>=0&&u(e)?C(e):e;return s(n)?t.filter((function(e){return s(e)&&V(e,n)&&"body"!==v(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce((function(t,n){var r=G(e,n);return t.top=d(r.top,t.top),t.right=f(r.right,t.right),t.bottom=f(r.bottom,t.bottom),t.left=d(r.left,t.left),t}),G(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Y(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function X(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.boundary,a=void 0===i?T.d:i,c=n.rootBoundary,u=void 0===c?T.o:c,l=n.elementContext,d=void 0===l?T.i:l,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,g=$("number"!=typeof v?v:Y(v,T.b)),y=d===T.i?T.j:T.i,O=e.rects.popper,w=e.elements[p?y:d],k=K(s(w)?w:w.contextElement||b(e.elements.popper),a,u),E=h(e.elements.reference),x=L({reference:E,element:O,strategy:"absolute",placement:o}),S=q(Object.assign({},O,x)),j=d===T.i?S:E,C={top:k.top-j.top+g.top,bottom:j.bottom-k.bottom+g.bottom,left:k.left-j.left+g.left,right:j.right-k.right+g.right},_=e.modifiersData.offset;if(d===T.i&&_){var A=_[o];Object.keys(C).forEach((function(e){var t=[T.k,T.c].indexOf(e)>=0?1:-1,n=[T.m,T.c].indexOf(e)>=0?"y":"x";C[e]+=A[n]*t}))}return C}function J(e,t,n){return d(e,f(t,n))}function Z(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Q(e){return[T.m,T.k,T.c,T.f].some((function(t){return e[t]>=0}))}var ee=I({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,u=c(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,M)})),s&&u.addEventListener("resize",n.update,M),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,M)})),s&&u.removeEventListener("resize",n.update,M)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=L({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,c=n.roundOffsets,s=void 0===c||c,u={placement:R(t.placement),variation:N(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,F(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,F(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];u(o)&&v(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});u(r)&&v(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=T.h.reduce((function(e,n){return e[n]=function(e,t,n){var r=R(e),o=[T.f,T.m].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],c=i[1];return a=a||0,c=(c||0)*o,[T.f,T.k].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}(n,t.rects,i),e}),{}),c=a[t.placement],s=c.x,u=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,c=void 0===a||a,s=n.fallbackPlacements,u=n.padding,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,b=R(v),g=s||(b===v||!h?[U(v)]:function(e){if(R(e)===T.a)return[];var t=U(e);return[W(e),t,W(t)]}(v)),y=[v].concat(g).reduce((function(e,n){return e.concat(R(n)===T.a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,c=n.flipVariations,s=n.allowedAutoPlacements,u=void 0===s?T.h:s,l=N(r),d=l?c?T.n:T.n.filter((function(e){return N(e)===l})):T.b,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=X(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[R(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:l,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),O=t.rects.reference,w=t.rects.popper,k=new Map,E=!0,x=y[0],S=0;S<y.length;S++){var j=y[S],C=R(j),_=N(j)===T.l,A=[T.m,T.c].indexOf(C)>=0,P=A?"width":"height",I=X(t,{placement:j,boundary:l,rootBoundary:d,altBoundary:f,padding:u}),M=A?_?T.k:T.f:_?T.c:T.m;O[P]>w[P]&&(M=U(M));var D=U(M),L=[];if(i&&L.push(I[C]<=0),c&&L.push(I[M]<=0,I[D]<=0),L.every((function(e){return e}))){x=j,E=!1;break}k.set(j,L)}if(E)for(var B=function(e){var t=y.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},F=h?3:1;F>0;F--){if("break"===B(F))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,c=void 0!==a&&a,s=n.boundary,u=n.rootBoundary,l=n.altBoundary,p=n.padding,h=n.tether,m=void 0===h||h,v=n.tetherOffset,b=void 0===v?0:v,g=X(t,{boundary:s,rootBoundary:u,padding:p,altBoundary:l}),y=R(t.placement),O=N(t.placement),w=!O,E=D(y),x="x"===E?"y":"x",S=t.modifiersData.popperOffsets,j=t.rects.reference,_=t.rects.popper,A="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,P="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(S){if(i){var L,B="y"===E?T.m:T.f,F="y"===E?T.c:T.k,z="y"===E?"height":"width",U=S[E],H=U+g[B],W=U-g[F],V=m?-_[z]/2:0,q=O===T.l?j[z]:_[z],G=O===T.l?-_[z]:-j[z],K=t.elements.arrow,$=m&&K?k(K):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=Y[B],Q=Y[F],ee=J(0,j[z],$[z]),te=w?j[z]/2-V-ee-Z-P.mainAxis:q-ee-Z-P.mainAxis,ne=w?-j[z]/2+V+ee+Q+P.mainAxis:G+ee+Q+P.mainAxis,re=t.elements.arrow&&C(t.elements.arrow),oe=re?"y"===E?re.clientTop||0:re.clientLeft||0:0,ie=null!=(L=null==I?void 0:I[E])?L:0,ae=U+ne-ie,ce=J(m?f(H,U+te-ie-oe):H,U,m?d(W,ae):W);S[E]=ce,M[E]=ce-U}if(c){var se,ue="x"===E?T.m:T.f,le="x"===E?T.c:T.k,de=S[x],fe="y"===x?"height":"width",pe=de+g[ue],he=de-g[le],me=-1!==[T.m,T.f].indexOf(y),ve=null!=(se=null==I?void 0:I[x])?se:0,be=me?pe:de-j[fe]-_[fe]-ve+P.altAxis,ge=me?de+j[fe]+_[fe]-ve-P.altAxis:he,ye=m&&me?function(e,t,n){var r=J(e,t,n);return r>n?n:r}(be,de,ge):J(m?be:pe,de,m?ge:he);S[x]=ye,M[x]=ye-de}t.modifiersData[r]=M}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,c=R(n.placement),s=D(c),u=[T.f,T.k].indexOf(c)>=0?"height":"width";if(i&&a){var l=function(e,t){return $("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Y(e,T.b))}(o.padding,n),d=k(i),f="y"===s?T.m:T.f,p="y"===s?T.c:T.k,h=n.rects.reference[u]+n.rects.reference[s]-a[s]-n.rects.popper[u],m=a[s]-n.rects.reference[s],v=C(i),b=v?"y"===s?v.clientHeight||0:v.clientWidth||0:0,g=h/2-m/2,y=l[f],O=b-d[u]-l[p],w=b/2-d[u]/2+g,E=J(y,w,O),x=s;n.modifiersData[r]=((t={})[x]=E,t.centerOffset=E-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&V(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=X(t,{elementContext:"reference"}),c=X(t,{altBoundary:!0}),s=Z(a,r),u=Z(c,o,i),l=Q(s),d=Q(u);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}}]}),te=n(524),ne=n.n(te),re=[],oe=function(){},ie=function(){return Promise.resolve(null)},ae=[];function ce(e){var t=e.placement,n=void 0===t?"bottom":t,c=e.strategy,s=void 0===c?"absolute":c,u=e.modifiers,l=void 0===u?ae:u,d=e.referenceElement,f=e.onFirstUpdate,p=e.innerRef,h=e.children,m=r.useContext(o.b),v=r.useState(null),b=v[0],g=v[1],y=r.useState(null),O=y[0],w=y[1];r.useEffect((function(){Object(i.c)(p,b)}),[p,b]);var k=r.useMemo((function(){return{placement:n,strategy:s,onFirstUpdate:f,modifiers:[].concat(l,[{name:"arrow",enabled:null!=O,options:{element:O}}])}}),[n,s,f,l,O]),E=function(e,t,n){void 0===n&&(n={});var o=r.useRef(null),c={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||re},s=r.useState({styles:{popper:{position:c.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=s[0],l=s[1],d=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);a.flushSync((function(){l({styles:Object(i.a)(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Object(i.a)(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),f=r.useMemo((function(){var e={onFirstUpdate:c.onFirstUpdate,placement:c.placement,strategy:c.strategy,modifiers:[].concat(c.modifiers,[d,{name:"applyStyles",enabled:!1}])};return ne()(o.current,e)?o.current||e:(o.current=e,e)}),[c.onFirstUpdate,c.placement,c.strategy,c.modifiers,d]),p=r.useRef();return Object(i.e)((function(){p.current&&p.current.setOptions(f)}),[f]),Object(i.e)((function(){if(null!=e&&null!=t){var r=(n.createPopper||ee)(e,t,f);return p.current=r,function(){r.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:u.styles,attributes:u.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}(d||m,b,k),x=E.state,S=E.styles,j=E.forceUpdate,C=E.update,T=r.useMemo((function(){return{ref:g,style:S.popper,placement:x?x.placement:n,hasPopperEscaped:x&&x.modifiersData.hide?x.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:x&&x.modifiersData.hide?x.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:S.arrow,ref:w},forceUpdate:j||oe,update:C||ie}}),[g,w,n,x,S,C,j]);return Object(i.d)(h)(T)}},function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0),g=n.n(b),y=n(59),O=n.n(y),w=n(53),k=n(496),E=n(1198),x=n(316),S=n(45),j=n.n(S),C=n(90),T=n(686),_=n(255),A=n.n(_),P=w.c.div.withConfig({displayName:"ScrollBlock__Blanket",componentId:"sc-1xiww8k-0"})(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n"]);function I(){return g.a.createElement(P,null,g.a.createElement(A.a,null))}var M={"top left":{position:"top-start",animation:"top"},"top center":{position:"top",animation:"top"},"top right":{position:"top-end",animation:"top"},"right top":{position:"right-start",animation:"right"},"right middle":{position:"right",animation:"right"},"right bottom":{position:"right-end",animation:"right"},"bottom left":{position:"bottom-start",animation:"bottom"},"bottom center":{position:"bottom",animation:"bottom"},"bottom right":{position:"bottom-end",animation:"bottom"},"left top":{position:"left-start",animation:"left"},"left middle":{position:"left",animation:"left"},"left bottom":{position:"left-end",animation:"left"}},R="right middle";function N(e){return function(e){return e&&M[e]?M[e].position:null}(e)||M[R].position}var D=w.c.div.withConfig({displayName:"styledContentContainer",componentId:"p0j3f7-0"})(["\n  [data-role='droplistContent'] {\n    ",";\n  }\n"],(function(e){var t=e.maxHeight;return t?"max-height: ".concat(t,"px"):""}));function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var z=w.c.div.withConfig({displayName:"Layer__FixedTarget",componentId:"qunuuz-0"})(["\n  ",";\n"],(function(e){var t=e.fixedOffset,n=e.targetRef;if(t&&n){var r=n.firstChild.getBoundingClientRect();return"\n        position: fixed;\n        top: ".concat(t.top,"px;\n        left: ").concat(t.left,"px;\n        height: ").concat(r.height,"px;\n        width: ").concat(r.width,"px;\n        z-index: -1;\n      ")}return"display: none;"}));var U=function(e){l()(n,e);var t=F(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(s()(r),"popper",void 0),v()(s()(r),"targetRef",void 0),v()(s()(r),"contentRef",void 0),v()(s()(r),"fixedRef",void 0),v()(s()(r),"extractStyles",(function(e){if(e){var t=e.offsets.popper.height,n=Math.round(e.offsets.popper.left),o="object"===j()(e.offsets.popper.position)?e.offsets.popper.position.position:e.offsets.popper.position,i=r.fixPositionTopUnderflow(e.offsets.popper.top,o),a=r.state.originalHeight||t,c=r.calculateMaxHeight(a,t,i,o);r.setState({cssPosition:o,hasExtractedStyles:!0,transform:"translate3d(".concat(n,"px, ").concat(i,"px, 0px)"),flipped:!!e.flipped,actualPosition:e.position,originalPosition:e.originalPosition,originalHeight:a,maxHeight:c})}})),r.state={hasExtractedStyles:!1,position:null,transform:null,flipped:!1,actualPosition:null,offsets:{popper:{left:-9999,top:-9999}},originalPosition:null,cssPosition:"absolute",originalHeight:null,maxHeight:null,fixedOffset:null},r.extractStyles=Object(C.a)(r.extractStyles.bind(s()(r))),r}return a()(n,[{key:"componentDidMount",value:function(){this.applyPopper(this.props),this.calculateFixedOffset(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.applyPopper(e),this.calculateFixedOffset(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.onFlippedChange,o=n.onPositioned,i=this.state,a=i.flipped,c=i.actualPosition,s=i.originalPosition,u=i.hasExtractedStyles;t.flipped!==a&&r&&r({flipped:a,actualPosition:c,originalPosition:s}),!t.hasExtractedStyles&&u&&o&&o()}},{key:"componentWillUnmount",value:function(){this.extractStyles.cancel(),this.popper&&this.popper.destroy()}},{key:"calculateMaxHeight",value:function(e,t,n,r){var o=0;if(document.documentElement&&(o=document.documentElement.clientHeight),"fixed"!==r||"viewport"!==this.props.boundariesElement)return null;var i=Math.max(o,window.innerHeight||0);return i<e&&t+n>=i-50?i-12:null}},{key:"calculateFixedOffset",value:function(e){var t=e.isAlwaysFixed;if(t&&this.targetRef){var n=this.targetRef.firstChild;this.setState({fixedOffset:{top:n.getBoundingClientRect().top,left:n.getBoundingClientRect().left}})}else t||null===this.state.fixedOffset||this.setState({fixedOffset:null})}},{key:"fixPositionTopUnderflow",value:function(e,t){return e>=0||"fixed"!==t?Math.round(e):0}},{key:"applyPopper",value:function(e){if(this.fixedRef&&this.targetRef&&this.contentRef&&(this.popper&&this.popper.destroy(),e.content)){var t=e.isAlwaysFixed?this.fixedRef:this.targetRef.firstChild,n={placement:N(e.position),onCreate:this.extractStyles,onUpdate:this.extractStyles,modifiers:{applyStyle:{enabled:!1},hide:{enabled:!1},offset:{enabled:!0,offset:this.props.offset},flip:{enabled:!!this.props.autoFlip,flipVariations:!0,boundariesElement:this.props.boundariesElement,padding:0},preventOverflow:{enabled:!!this.props.autoFlip,escapeWithReference:!("scrollParent"===this.props.boundariesElement)}},positionFixed:e.isAlwaysFixed},r=function(e){return e.position&&Array.isArray(e.autoFlip)?[e.position.split(" ")[0]].concat(e.autoFlip):null}(e);r&&(n.modifiers.flip.behavior=r),this.popper=new T.a(t,this.contentRef,n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.zIndex,r=t.lockScroll,o=this.state,i=o.cssPosition,a=o.transform,c=o.hasExtractedStyles,s=o.maxHeight,u=o.fixedOffset,l=c?{}:{opacity:0};return g.a.createElement("div",null,g.a.createElement("div",{ref:function(t){e.targetRef=t}},this.props.children),g.a.createElement(z,{targetRef:this.targetRef,fixedOffset:u},g.a.createElement("div",{style:{height:"100%",width:"100%"},ref:function(t){e.fixedRef=t}})),r&&g.a.createElement(I,null),g.a.createElement(D,{maxHeight:s},g.a.createElement("div",{ref:function(t){e.contentRef=t},style:B({top:0,left:0,position:i,transform:a,zIndex:n},l)},this.props.content)))}}]),n}(b.Component);v()(U,"defaultProps",{autoFlip:!0,boundariesElement:"viewport",children:null,content:null,offset:"0, 0",onFlippedChange:function(){},position:"right middle",zIndex:400,lockScroll:!1,isAlwaysFixed:!1,onPositioned:function(){}});var H=n(745),W=n(16),V=n(3),q=w.c.div.withConfig({displayName:"Droplist",componentId:"sc-1z05y4v-0"})(["\n  display: inline-flex;\n\n  ",";\n"],(function(e){return e.fit&&"\n    display: block;\n    flex: 1 1 auto;\n  "})),G=V.backgroundOnLayer,K=Object(w.b)(["\n  box-shadow: 0 ","px ","px -","px ",",\n    0 0 1px ",";\n"],Object(W.i)()/2,W.i,Object(W.i)()/4,V.N50A,V.N60A),$=w.c.div.withConfig({displayName:"Droplist__Content",componentId:"sc-1z05y4v-1"})(["\n  background: ",";\n  border-radius: ","px;\n  ",";\n  box-sizing: border-box;\n  overflow: auto;\n  padding: ","px 0;\n  max-height: ",";\n"],G,W.d,K,Object(W.i)()/2,(function(e){var t=e.isTall,n=e.maxHeight;if(n)return"".concat(n,"px");var r=Object(W.i)();return t?"90vh":"".concat(9.5*(17+2*r)+r/2,"px")})),Y=w.c.div.withConfig({displayName:"Droplist__SpinnerContainer",componentId:"sc-1z05y4v-2"})(["\n  display: flex;\n  justify-content: center;\n  min-width: ","px;\n  padding: ","px;\n"],20*Object(W.i)(),2.5*Object(W.i)()),X=w.c.div.withConfig({displayName:"Droplist__Trigger",componentId:"sc-1z05y4v-3"})(["\n  display: inline-flex;\n  transition-duration: 0.2s;\n  transition: box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n\n  ",";\n"],(function(e){return e.fit&&"\n    box-sizing: border-box;\n    display: block;\n  "})),J=n(86),Z=n(64),Q={bottom:W.i,left:1.5*Object(W.i)(),right:1.5*Object(W.i)(),top:W.i},ee={padding:{default:Q,compact:Q},borderRadius:function(){return 0},default:{background:Object(Z.a)({light:V.N0,dark:V.DN50}),text:Object(Z.a)({light:V.N800,dark:V.DN600}),secondaryText:Object(Z.a)({light:V.N200,dark:V.DN300})},hover:{background:Object(Z.a)({light:V.N20,dark:V.DN70}),text:Object(Z.a)({light:V.N800,dark:V.DN600}),secondaryText:Object(Z.a)({light:V.N200,dark:V.DN300})},active:{background:Object(Z.a)({light:V.B75,dark:V.B75}),text:Object(Z.a)({light:V.N800,dark:V.B400}),secondaryText:Object(Z.a)({light:V.N200,dark:V.DN300})},selected:{background:"transparent",text:Object(Z.a)({light:V.N800,dark:V.DN600}),secondaryText:Object(Z.a)({light:V.N200,dark:V.DN300})},disabled:{background:"transparent",text:Object(Z.a)({light:V.N70,dark:V.DN80}),secondaryText:Object(Z.a)({light:V.N50,dark:V.DN70})},focus:{outline:Object(Z.a)({light:V.B100,dark:V.B75})}},te=v()({},J.e,ee);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var re="0, ".concat(Object(W.i)(),"px");var oe=function(e){l()(n,e);var t=ne(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),v()(s()(e),"componentDidMount",(function(){e.setContentWidth(),document.addEventListener("click",e.handleClickOutside,!0),document.addEventListener("keydown",e.handleEsc)})),v()(s()(e),"componentDidUpdate",(function(){e.props.isOpen&&e.setContentWidth()})),v()(s()(e),"componentWillUnmount",(function(){document.removeEventListener("click",e.handleClickOutside,!0),document.removeEventListener("keydown",e.handleEsc)})),v()(s()(e),"setContentWidth",(function(){var t=s()(e),n=t.dropContentRef,r=t.triggerRef;e.props.shouldFitContainer&&n&&r&&(n.style.width="".concat(r.offsetWidth-2,"px"))})),v()(s()(e),"handleEsc",(function(t){"Escape"!==t.key&&"Esc"!==t.key||!e.props.isOpen||e.close(t)})),v()(s()(e),"handleClickOutside",(function(t){if(e.props.isOpen&&t.target instanceof Node){var n=e.triggerRef&&e.triggerRef.contains(t.target),r=e.dropContentRef&&e.dropContentRef.contains(t.target);n||r||e.close(t)}})),v()(s()(e),"close",(function(t){e.props.onOpenChange&&e.props.onOpenChange({isOpen:!1,event:t})})),v()(s()(e),"handleContentRef",(function(t){e.dropContentRef=t,t&&t.focus()})),v()(s()(e),"handleTriggerRef",(function(t){e.triggerRef=t})),e}return a()(n,[{key:"getChildContext",value:function(){return{shouldAllowMultilineItems:this.props.shouldAllowMultilineItems}}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.boundariesElement,r=e.children,o=e.isLoading,i=e.isOpen,a=e.maxHeight,c=e.onClick,s=e.onKeyDown,u=e.position,l=e.isMenuFixed,d=e.shouldFitContainer,f=e.shouldFlip,p=e.trigger,h=e.onPositioned,m=e.testId,v=i?g.a.createElement($,{"data-role":"droplistContent","data-testid":m&&"".concat(m,"--content"),isTall:"tall"===t,innerRef:this.handleContentRef,maxHeight:a},o?g.a.createElement(Y,null,g.a.createElement(H.a,{size:"small"})):g.a.createElement(w.a,{theme:te},g.a.createElement("div",null,r))):null;return g.a.createElement(q,{fit:d,onClick:c,onKeyDown:s},g.a.createElement(U,{autoFlip:f,boundariesElement:n,content:v,offset:re,position:u,isAlwaysFixed:i&&l,onPositioned:h},g.a.createElement(X,{fit:d,innerRef:this.handleTriggerRef},p)))}}]),n}(b.Component);v()(oe,"defaultProps",{appearance:"default",boundariesElement:"viewport",children:null,isLoading:!1,isOpen:!1,onClick:function(){},onKeyDown:function(){},onOpenChange:function(){},position:"bottom left",isMenuFixed:!1,shouldAllowMultilineItems:!1,shouldFitContainer:!1,shouldFlip:!0,trigger:null,onPositioned:function(){}}),v()(oe,"childContextTypes",{shouldAllowMultilineItems:O.a.bool});var ie=Object(k.a)("atlaskit");t.a=Object(E.a)({componentName:"droplist",packageName:"@atlaskit/droplist",packageVersion:"11.0.9"})(Object(x.a)({onOpenChange:ie({action:"toggled",actionSubject:"droplist",attributes:{componentName:"droplist",packageName:"@atlaskit/droplist",packageVersion:"11.0.9"}})})(oe))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(21),o=n.n(r),i=n(0),a=function(e){try{return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null}catch(e){}return null},c=["confluence","jira"],s={confluence:{newCardExperience:"confluence.frontend.media.cards.new.experience",captions:"confluence.frontend.fabric.editor.media.captions",mediaInline:"confluence.frontend.fabric.editor.media.inline",folderUploads:"confluence.frontend.media.picker.folder.uploads",observedWidth:"",timestampOnVideo:"",mediaUploadApiV2:"confluence.enable.media.upload.api.v2"},jira:{newCardExperience:"issue.details.media-cards-new-experience",captions:"issue.details.editor.media.captions",mediaInline:"",folderUploads:"issue.details.media-picker-folder-upload",observedWidth:"",timestampOnVideo:"",mediaUploadApiV2:"issue.details.enable-media-upload-api-version-2"}},u=function(){return s},l=function(e){return Object.entries(e).filter((function(e){var t=o()(e,2);t[0];return!!t[1]})).map((function(e){return o()(e,1)[0]}))},d=function(e){var t=l(e),n=[];return t.forEach((function(e){return c.forEach((function(t){return n.push(u()[t][e])}))})),n.filter((function(e){return""!==e}))},f={newCardExperience:!1,captions:!1,mediaInline:!1,folderUploads:!1,observedWidth:!1,timestampOnVideo:!1,mediaUploadApiV2:!0};function p(e,t){var n=a(e);if(null!==n)try{return JSON.parse(n)}catch(e){}return t&&e in t?t[e]:f[e]}Object.keys(f).forEach((function(e){var t=a(e);null!==t&&console.info("%c* LOCAL * MediaFeatureFlag.".concat(e," = ").concat(t),"font-weight:bold;color:cyan")}));var h=function(e){var t=Object(i.useRef)();return function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n={newCardExperience:e.newCardExperience===t.newCardExperience,captions:e.captions===t.captions,mediaInline:e.mediaInline===t.mediaInline,folderUploads:e.folderUploads===t.folderUploads,observedWidth:e.observedWidth===t.observedWidth,timestampOnVideo:e.timestampOnVideo===t.timestampOnVideo,mediaUploadApiV2:e.mediaUploadApiV2===t.mediaUploadApiV2};return Object.values(n).every((function(e){return e}))}(e,t.current)||(t.current=e),t.current}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r),i=n(21),a=n.n(i);var c=o.a.memo((function(e){var t=e.setWidth,n=e.offscreen,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.a.useRef(),n=o.a.useRef(),r=o.a.useState({inView:!1,entry:void 0,target:void 0}),i=a()(r,2),c=i[0],s=i[1],u=e.threshold,l=e.root,d=e.rootMargin,f=o.a.useCallback((function(e){n.current=new IntersectionObserver((function(t){if(t&&t.length){var n=t[0],r=n.isIntersecting,o=n.intersectionRatio;if(o>=0){var i=o>=(u||0);void 0!==r&&(i=i&&r),s({inView:i,entry:n,target:e})}}}),{threshold:u,root:l,rootMargin:d}),t.current&&n.current.unobserve(t.current),e&&n.current.observe(e),t.current=e}),[u,l,d]);return o.a.useEffect((function(){return function(){n.current&&t.current&&n.current.unobserve(t.current)}}),[]),[f,c.inView,c.target,c.entry]}({threshold:0}),i=a()(r,3),c=i[0],s=i[1],u=i[2],l=o.a.useRef((function(){return"undefined"==typeof window?null:new ResizeObserver((function(e){if(Array.isArray(e)&&e.length){var n=e[0].contentRect.width;t(Math.round(n))}}))}));return o.a.useEffect((function(){var e=(0,l.current)();if(null!==e)return u&&(s||n?e.observe(u):e.unobserve(u)),function(){e.disconnect()}}),[u,s,n]),o.a.createElement("div",{style:{display:"block",width:"100%",position:"absolute"},ref:c})})),s=o.a.memo((function(e){return o.a.createElement(c,{setWidth:e.setWidth,offscreen:e.offscreen})}))},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(1),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return e.indexOf("".concat("media-blob-url","=true"))>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},u=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},l=function(e){var t=new URL(e).hash.replace("#",""),n=new URLSearchParams(t),r=n.get("id"),o=n.get("contextId");if(r&&o)return{id:r,contextId:o,collection:u(n,"collection"),alt:u(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:u(n,"name"),mimeType:u(n,"mimeType")}},d=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n.toString()))})).join("&")},f=function(e,t){if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var n=a(a({},o()({},"media-blob-url","true")),t),r=d(n);return"".concat(e,"#").concat(r)}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return x}));var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(8),s=n.n(c),u=n(9),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(0),g=n.n(b),y=n(461),O=["mediaClientConfig"];function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var k=new Map,E=function(e,t){var n=k.get(e);return n||(n=new y.a(e,t),k.set(e,n)),n},x=function(e,t){return function(n){f()(i,n);var r=w(i);function i(){return s()(this,i),r.apply(this,arguments)}return l()(i,[{key:"render",value:function(){var n=this.props,r=n.mediaClientConfig,i=a()(n,O),c=r?E(r,t):function(e){var t={authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}};return new y.a(t,e)}(t);return g.a.createElement(e,o()({},i,{mediaClient:c}))}}]),i}(g.a.Component)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r={width:156,height:125},o={width:435,height:125},i={width:300,height:300},a=function(e){return"image"===e?r:"square"===e?i:"horizontal"===e?o:r}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m}));var r,o,i=n(7),a=n.n(i),c=n(2),s=n(16),u=n(456),l=n(612),d=n(613),f=n(323),p="media-card-inline-player",h=function(e){var t=e.dimensions,n=e.breakpointSize,o=void 0===n?"medium":n,i=e.shouldUsePointerCursor;return Object(c.c)(r||(r=a()(["\n  ","\n  ","\n      ","\n  cursor: ",";\n"])),Object(l.b)({breakpointSize:o}),function(e){return e&&e.height?"height: ".concat(Object(u.a)(e.height),"; max-height: 100%;"):""}(t),function(e){return e&&e.width?"width: ".concat(Object(u.a)(e.width),"; max-width: 100%;"):""}(t),i?"pointer":"default")};h.displayName="CardViewWrapper";var m=function(e){var t=e.dimensions,n=e.selected;return Object(c.c)(o||(o=a()(["\n  width: ",";\n  height: ",";\n  overflow: hidden;\n  border-radius: ","px;\n  position: relative;\n  max-width: 100%;\n  max-height: 100%;\n\n  ","\n\n  video {\n    width: 100%;\n    height: 100%;\n  }\n"])),Object(f.a)(t).width||"100%",Object(f.a)(t).height||"auto",Object(s.d)(),Object(d.a)(n))};m.displayName="InlinePlayerWrapper"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(25),o=Object(r.b)({click_to_join:{id:"fabric.media.click_to_join",defaultMessage:"Join {context}",description:"Allows the user join the product or service immediately"},click_to_join_description:{id:"fabric.media.click_to_join_description",defaultMessage:"You've been approved, so you can join {context} right away.",description:"Informs the user that they have access to this product, and can sign up or join right away."},request_access:{id:"fabric.media.request_access",defaultMessage:"Request access",description:"Allows the user to request access to a product or service"},request_access_description:{id:"fabric.media.request_access_description",defaultMessage:"Request access to {context} view this preview.",description:"Allows the user to request access to a product"},request_access_pending:{id:"fabric.media.request_access_pending",defaultMessage:"Access pending",description:"Allows the user to try an action again with their current account"},request_access_pending_description:{id:"fabric.media.request_access_pending_description",defaultMessage:"Your access request is pending.",description:"Informs the user that their request to view this content is pending"},forbidden_description:{id:"fabric.media.forbidden_description",defaultMessage:"You dont have access to this preview. Contact the site admin if you need access.",description:"Informs the user that they cannot view this content."},request_denied_description:{id:"fabric.media.request_denied_description",defaultMessage:"Your access request was denied. Contact the site admin if you still need access.",description:"Informs the user that their request to view this content was denied"},retry:{id:"fabric.media.retry",defaultMessage:"Retry",description:"Allows user to perform an action again"},failed_to_load:{id:"fabric.media.failed_to_load",defaultMessage:"Failed to load",description:"We show this message when we have an error loading a file"},failed_to_upload:{id:"fabric.media.failed_to_upload",defaultMessage:"Failed to upload",description:"We show this message when we have an error uploading a file"},recent_uploads:{id:"fabric.media.recent_uploads",defaultMessage:"Recent uploads",description:"Title of a section where we show the user recent uploaded files"},upload_file:{id:"fabric.media.upload_file",defaultMessage:"Upload a file",description:"Call to action that initiates the upload of a file"},drag_and_drop_your_files:{id:"fabric.media.drag_and_drop_your_files",defaultMessage:"Drag and drop your files anywhere or",description:"Used to describe the area where the user can drag and drop files to upload"},drag_and_drop_your_files_and_folders:{id:"fabric.media.drag_and_drop_your_files_and_folders",defaultMessage:"Drag and drop your files and folders anywhere or",description:"Used to describe the area where the user can drag and drop files AND folders to upload"},drop_your_files:{id:"fabric.media.drop_your_files",defaultMessage:"Drop your files to upload",description:"Indicates that the files will be uploaded when the user drops them in the drag and drop area"},upload:{id:"fabric.media.upload",defaultMessage:"Upload",description:"upload"},cancel:{id:"fabric.media.cancel",defaultMessage:"Cancel",description:"cancel"},search_all_gifs:{id:"fabric.media.search_all_gifs",defaultMessage:"Search all the GIFs!",description:"Used as input placeholder to let the user know that they can search for GIF image files"},cant_retrieve_gifs:{id:"fabric.media.cant_retrieve_gifs",defaultMessage:"Ouch! We could not retrieve any GIFs",description:"Error message when we can not find any GIF images for that text"},cant_retrieve_files:{id:"fabric.media.cant_retrieve_files",defaultMessage:"Ouch! We could not retrieve any files",description:"Error message when we can not find any files in dropbox/google drive"},check_your_network:{id:"fabric.media.check_your_network",defaultMessage:"Check your network connection",description:"Error message when network does not work"},try_again:{id:"fabric.media.try_again",defaultMessage:"Try again",description:"Allow the user to try an action again"},try_another_account:{id:"fabric.media.try_another_account",defaultMessage:"Try another account",description:"Allows the user to try an action again with a different account"},no_gifs_found:{id:"fabric.media.no_gifs_found",defaultMessage:"Hello? Was it me you're looking for?",description:"Not expected error that happens when searching for GIF images"},no_gifs_found_suggestion:{id:"fabric.media.no_gifs_found_suggestion",defaultMessage:'We couldn\'t find anything for "{query}"',description:"There are no results for GIFs matching that query"},load_more_gifs:{id:"fabric.media.load_more_gifs",defaultMessage:"Load more GIFs",description:"Used to load next page of GIF images"},add_account:{id:"fabric.media.add_account",defaultMessage:"Add account",description:"Allows to add a new account"},unlink_account:{id:"fabric.media.unlink_account",defaultMessage:"Unlink Account",description:"Allows to remove a connected account from the user"},upload_file_from:{id:"fabric.media.upload_file_from",defaultMessage:"Upload a file from {name}",description:"Allows to upload a file from different sources"},connect_to:{id:"fabric.media.connect_to",defaultMessage:"Connect to {name}",description:"Allows the user to connect with different types of external services"},connect_account_description:{id:"fabric.media.connect_account_description",defaultMessage:"We'll open a new page to help you connect your {name} account",description:"Explains what will happen when the users connects to a new account"},connect_link_account:{id:"fabric.media.connect_link_account",defaultMessage:"Connect to preview",description:"Shown when a user does not have access to a link, but can connect their external account to view the link."},connect_link_account_card:{id:"fabric.media.connect_link_account_card_view",defaultMessage:"Connect",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view."},connect_link_account_card_name:{id:"fabric.media.connect_link_account_card_view_name",defaultMessage:"Connect your {context} account",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in title."},connect_link_account_card_description:{id:"fabric.media.connect_link_account_card_view_description",defaultMessage:"To show a preview of this link, connect your {context} account.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in byline."},invalid_permissions:{id:"fabric.media.invalid_permissions",defaultMessage:"Restricted link",description:"Message shown when a user does not have permissions to view an item"},invalid_permissions_description:{id:"fabric.media.invalid_permissions_description",defaultMessage:"You'll need to request access or try a different account to view this preview.",description:"Message shown when a user does not have permissions to view an item. Displayed as description."},upload_an_avatar:{id:"fabric.media.upload_an_avatar",defaultMessage:"Upload an avatar",description:"Indicates that the user can upload a new avatar"},loading:{id:"fabric.media.loading",defaultMessage:"Loading...",description:"Indicates an element on a page is loading."},loading_file:{id:"fabric.media.loading_file",defaultMessage:"Loading file...",description:"Shown when a file is being fetched"},save:{id:"fabric.media.save",defaultMessage:"Save",description:'Just the "save" word'},or:{id:"fabric.media.or",defaultMessage:"or",description:'Just the "or" word'},upload_photo:{id:"fabric.media.upload_photo",defaultMessage:"Upload a photo",description:"Call to action for the user to upload a new photo"},default_avatars:{id:"fabric.media.default_avatars",defaultMessage:"Default avatars",description:"Showed above the default avatar list"},drag_and_drop_images_here:{id:"fabric.media.drag_and_drop_images_here",defaultMessage:"Drag and drop your images here",description:"Indicates that the user can drag and drop images in that area"},upload_image:{id:"fabric.media.upload_image",defaultMessage:"Upload image",description:"Call to action for the user to upload a new image"},image_url_invalid_error:{id:"fabric.media.image_url_invalid_error",defaultMessage:"Could not load image, the url is invalid.",description:"There was an error parsing the image url"},image_format_invalid_error:{id:"fabric.media.image_format_invalid_error",defaultMessage:"Could not load image, the format is invalid.",description:"The provided image format is not valid"},image_size_too_large_error:{id:"fabric.media.image_size_too_large_error",defaultMessage:"Image is too large, must be no larger than {MAX_SIZE_MB}Mb",description:"The provided image size is too big"},something_went_wrong:{id:"fabric.media.something_went_wrong",defaultMessage:"Something went wrong.",description:"Showed when an error happen but we dont have more info about it"},might_be_a_hiccup:{id:"fabric.media.might_be_a_hiccup",defaultMessage:"It might just be a hiccup.",description:"Used when an unknow error happens, just in a funny way of saying that we dont have more info about it"},couldnt_generate_preview:{id:"fabric.media.couldnt_generate_preview",defaultMessage:"We couldn't generate a preview for this file.",description:"Error case for when the backend cant generate a preview for that file"},couldnt_generate_encrypted_entry_preview:{id:"fabric.media.couldnt_generate_encrypted_entry_preview",defaultMessage:"We can't preview encrypted or password protected files.",description:"Error case for when an entry selected is encrypted"},cant_preview_file_type:{id:"fabric.media.cant_preview_file_type",defaultMessage:"We can't preview this file type.",description:"Error case for when we have no available preview for that file"},item_not_found_in_list:{id:"fabric.media.item_not_found_in_list",defaultMessage:"The selected item was not found on the list.",description:"Error case for when a provided item is not found within the list of items"},not_found_title:{id:"fabric.media.not_found_title",defaultMessage:"Uh oh. We can't find this link!",description:"Error case for when a provided link is not found"},not_found_description:{id:"fabric.media.not_found_description",defaultMessage:"We couldn't find the link. Check the url and try editing or paste again.",description:"Error case for when a provided item is not found within the list of items"},no_pdf_artifacts:{id:"fabric.media.no_pdf_artifacts",defaultMessage:"No PDF artifacts found for this file.",description:"Error case for when we cant preview a PDF file"},give_feedback:{id:"fabric.media.give_feedback",defaultMessage:"Give feedback",description:"Call to action that opens a popup to get feedback from the users"},try_downloading_file:{id:"fabric.media.try_downloading_file",defaultMessage:"Try downloading the file to view it.",description:"We show this message to allow users to download a file"},webgl_warning_description:{id:"fabric.media.webgl_warning_description",defaultMessage:"Your browser does not support WebGL. Use a WebGL enabled browser to annotate images.",description:"We show this error message when the browser doesnt support this feature"},unable_to_annotate_image:{id:"fabric.media.unable_to_annotate_image",defaultMessage:"You're unable to annotate this image",description:"If there is an error trying to annotate an image we show this"},learn_more:{id:"fabric.media.learn_more",defaultMessage:"Learn More",description:""},accounts:{id:"fabric.media.accounts",defaultMessage:"Accounts",description:""},actions:{id:"fabric.media.actions",defaultMessage:"Actions",description:""},error_hint_retry:{id:"fabric.media.error_hint_retry",defaultMessage:"Try again and we'll give it another shot.",description:"Generic message that we show if an action failed"},error_hint_critical:{id:"fabric.media.error_hint_critical",defaultMessage:"If the problem keeps happening contact support.",description:"We show this error message if we cant recover from the action"},close:{id:"fabric.media.close",defaultMessage:"Close",description:""},could_not_load_editor:{id:"fabric.media.could_not_load_editor",defaultMessage:"Ouch! We could not load the editor",description:"Error message to communicate that we cant load the editor"},could_not_save_image:{id:"fabric.media.could_not_save_image",defaultMessage:"Ouch! We could not save the image",description:"Error message to communicate that we cant save an image"},could_not_load_link:{id:"fabric.media.couldnt_load_link",defaultMessage:"We couldn't load this link for an unknown reason.",description:"Error case for card view - link could not be loaded."},annotate:{id:"fabric.media.annotate",defaultMessage:"Annotate",description:""},annotate_tool_arrow:{id:"fabric.media.annotate.tool.arrow",defaultMessage:"Arrow",description:""},annotate_tool_text:{id:"fabric.media.annotate.tool.text",defaultMessage:"Text",description:""},annotate_tool_shape:{id:"fabric.media.annotate.tool.shape",defaultMessage:"Shape",description:""},annotate_tool_brush:{id:"fabric.media.annotate.tool.brush",defaultMessage:"Brush",description:""},annotate_tool_blur:{id:"fabric.media.annotate.tool.blur",defaultMessage:"Blur",description:""},annotate_tool_line_thickness:{id:"fabric.media.annotate.tool.line.thickness",defaultMessage:"Line thickness",description:""},annotate_tool_color:{id:"fabric.media.annotate.tool.color",defaultMessage:"Color",description:""},annotate_confirmation_close_anyway:{id:"fabric.media.annotate.confirmation.close.anyway",defaultMessage:"Close anyway",description:""},annotate_confirmation_heading:{id:"fabric.media.annotate.confirmation.heading",defaultMessage:"Unsaved changes",description:""},annotate_confirmation_content:{id:"fabric.media.annotate.confirmation.content",defaultMessage:"You have some unsaved changes. Are you sure you want to leave?",description:""},drop_your_files_here:{id:"fabric.media.drop_your_files_here",defaultMessage:"Drop your files here",description:"Info message that we show to indicate that the user can drag and drop files"},share_files_instantly:{id:"fabric.media.share_files_instantly",defaultMessage:"We'll share them instantly",description:"It means that we will upload the files you drag and drop automatically"},insert_files:{id:"fabric.media.insert_files",defaultMessage:"Insert {0, plural, one {a file} other {{0} files}}",description:"Showed when the user selects 1 or more files to insert"},zoom_out:{id:"fabric.media.zoom_out",defaultMessage:"zoom out",description:"Indicates the user can zoom out a file"},zoom_in:{id:"fabric.media.zoom_in",defaultMessage:"zoom in",description:"Indicates the user can zoom in a file"},remove_image:{id:"fabric.media.remove_image",defaultMessage:"Remove image",description:"Allows the user to remove a file"},play:{id:"fabric.media.play",defaultMessage:"Play",description:""},pause:{id:"fabric.media.pause",defaultMessage:"Pause",description:""},disable_fullscreen:{id:"fabric.media.disable_fullscreen",defaultMessage:"disable fullscreen",description:"Hint to let the user know they can disable the fullscreen mode"},enable_fullscreen:{id:"fabric.media.enable_fullscreen",defaultMessage:"enable fullscreen",description:"Hint to let the user know they can enable the fullscreen mode"},error_loading_file:{id:"fabric.media.error_loading_file",defaultMessage:"Error loading file",description:"Message showed when we had an error trying to load the file"},error_generating_preview:{id:"fabric.media.error_generating_preview",defaultMessage:"Error generating preview",description:"Message showed when we had an error trying generate a preview for a file"},download:{id:"fabric.media.download",defaultMessage:"Download",description:""},unknown:{id:"fabric.media.unknown",defaultMessage:"unknown",description:""},document:{id:"fabric.media.document",defaultMessage:"document",description:""},audio:{id:"fabric.media.audio",defaultMessage:"audio",description:""},video:{id:"fabric.media.video",defaultMessage:"video",description:""},image:{id:"fabric.media.image",defaultMessage:"image",description:""},archive:{id:"fabric.media.archive",defaultMessage:"archive",description:""},email:{id:"fabric.media.email",defaultMessage:"email",description:""},text:{id:"fabric.media.text",defaultMessage:"text",description:""},displayThumbnail:{id:"fabric.media.display_thumbnail",defaultMessage:"Display thumbnail",description:"Display file with as a thumbnail."},search:{id:"fabric.media.search",defaultMessage:"search",description:""},view:{id:"fabric.media.view",defaultMessage:"View",description:"Go through to a piece of content to view it in its original context."},viewIn:{id:"fabric.media.srclink",defaultMessage:"View in",description:"We have a link in our preview modals to the original document. This text goes before the provider name"},viewOriginal:{id:"fabric.media.srclinkunknown",defaultMessage:"View Original",description:"We have a link in our preview modals to the original document. This is for when we don't know the provider name"},changeView:{id:"fabric.media.change_view",defaultMessage:"Change view",description:"In the context of a file, it allows the user to select a different way of displaying the file either as inline or a card"},playbackSpeed:{id:"fabric.media.playback_speed",defaultMessage:"Playback speed",description:"In the context of a video player, it allows user to switch the speed of the video"},skipBackward:{id:"fabric.media.skip_backward",defaultMessage:"Back 10 seconds",description:"In the context of a video player, it allows user to skip 10 seconds of play time backward."},skipForward:{id:"fabric.media.skip_forward",defaultMessage:"Forward 10 seconds",description:"In the context of a video player, it allows user to skip 10 seconds of play time forward."},playbackDefaultSpeed:{id:"fabric.media.playback_default_speed",defaultMessage:"Default",description:"In the context of a video player, it is a value of a default playback speed"},preview:{id:"fabric.media.preview",defaultMessage:"Preview",description:"Click to view a richer view of your content, without needing to navigate to it."},creating_preview:{id:"fabric.media.creating_preview",defaultMessage:"Creating preview...",description:"Preview is being created for a media card"},preview_unavailable:{id:"fabric.media.preview_unavailable",defaultMessage:"Preview unavailable",description:"Preview is unavailable for a media card"},preview_currently_unavailable:{id:"fabric.media.preview_currently_unavailable",defaultMessage:"Preview currently unavailable",description:"Preview is unavailable for a media card due to a temporary error"},couldnt_load_file:{id:"fabric.media.couldnt_load_file",defaultMessage:"We couldn't load the file.",description:"File is rate limited without metadata"},error_429:{id:"fabric.media.error_429",defaultMessage:"Error 429",description:"Error 429 is thrown"},close_and_reopen:{id:"fabric.media.close_and_reopen",defaultMessage:"Try closing this file and reopening.",description:"The preview is rate limited"},viewer_rateLimited:{id:"fabric.media.viewer_rateLimited",defaultMessage:"We're having difficulties loading your file.",description:"Mediaviewer has been rate limited"},zip_entry_load_fail:{id:"fabric.media.zip_entry_load_failed",defaultMessage:"We couldn't load that zip file item to preview",description:"Zip entry failed to load"}})},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(21),a=n.n(i),c=n(1),s=n.n(c),u=n(0),l=n.n(u),d=n(12),f=n(155),p=n(238),h=n(187);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=e.fn,n=e.action,r=e.componentName,o=e.packageName,i=e.packageVersion,a=e.analyticsData,c=Object(p.a)().createAnalyticsEvent,l=Object(h.a)(a),d=Object(h.a)(t);return Object(u.useCallback)((function(){var e=c({action:n,actionSubject:r,attributes:{componentName:r,packageName:o,packageVersion:i}}),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({componentName:r,packageName:o,packageVersion:i},l.current);e.context.push(t);var a=e.clone();a&&a.fire("atlaskit"),d.current(e)}),[n,r,o,i,c,l,d])}var b=n(388),g=n(493),y=n(1220),O=n(390),w=n(1194),k=n(1218),E=n(16),x=null;function S(){null!=x&&(window.clearTimeout(x),x=null)}function j(e,t){S(),x=window.setTimeout((function(){x=null,e()}),t)}var C=null;var T=n(1230);var _=n(3),A=n(280),P=n(525),I=Object(d.c)({boxSizing:"border-box",maxWidth:"240px",padding:"2px 6px",top:0,left:0,borderRadius:"".concat(Object(E.d)(),"px"),fontSize:"12px",lineHeight:1.3,overflowWrap:"break-word",wordWrap:"break-word"}),M=Object(d.c)({maxWidth:"420px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),R=Object(d.c)({backgroundColor:"var(--ds-background-neutral-bold, ".concat(_.N800,")"),color:"var(--ds-text-inverse, ".concat(_.N0,")")}),N=Object(d.c)({backgroundColor:"var(--ds-background-neutral-bold, ".concat(_.DN0,")"),color:"var(--ds-text-inverse, ".concat(_.DN600,")")}),D=Object(u.forwardRef)((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.truncate,a=e.placement,c=e.testId,s=e.onMouseOut,u=e.onMouseOver,l=e.id;return Object(d.d)(A.a.Consumer,null,(function(e){var f=e.mode;return Object(d.d)(P.a,{ref:t,style:n,className:r,placement:a,testId:c,id:l,onMouseOut:s,onMouseOver:u,css:[I,i?M:null,"light"===f?R:N]},o)}))}));D.displayName="TooltipContainer";var L=D;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=E.j.tooltip(),U={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.13"};function H(){}var W={top:"bottom",bottom:"top",left:"right",right:"left"};function V(e){var t=e.children,n=e.position,r=void 0===n?"bottom":n,i=e.mousePosition,c=void 0===i?"bottom":i,s=e.content,p=e.truncate,h=void 0!==p&&p,m=e.component,E=void 0===m?L:m,x=e.tag,_=void 0===x?"div":x,A=e.testId,P=e.delay,I=void 0===P?300:P,M=e.onShow,R=void 0===M?H:M,N=e.onHide,D=void 0===N?H:N,B=e.hideTooltipOnClick,V=void 0!==B&&B,q=e.hideTooltipOnMouseDown,G=void 0!==q&&q,K=e.analyticsContext,$=e.strategy,Y=void 0===$?"fixed":$,X="mouse"===r?c:r,J=v(F({fn:R,action:"displayed",analyticsData:K},U)),Z=v(F({fn:D,action:"hidden",analyticsData:K},U)),Q=Object(u.useRef)(null),ee=Object(u.useState)("hide"),te=a()(ee,2),ne=te[0],re=te[1],oe=Object(u.useRef)(null),ie=Object(u.useRef)(null),ae=Object(u.useCallback)((function(e){e&&("function"==typeof t?oe.current=e:(ie.current=e,oe.current=e.firstChild))}),[t]),ce=Object(u.useRef)(ne),se=Object(u.useRef)(I),ue=Object(u.useRef)({onShowHandler:J,onHideHandler:Z}),le=Object(u.useRef)(!1);Object(u.useEffect)((function(){ce.current=ne,se.current=I,ue.current={onShowHandler:J,onHideHandler:Z}}),[I,Z,J,ne]);var de=Object(u.useCallback)((function(e){Q.current=e,le.current=!1}),[]),fe=Object(u.useCallback)((function(){Q.current&&(le.current&&ue.current.onHideHandler(),Q.current=null,le.current=!1,re("hide"))}),[]),pe=Object(u.useCallback)((function(){Q.current&&(Q.current.abort(),le.current&&ue.current.onHideHandler(),Q.current=null)}),[]);Object(u.useEffect)((function(){return function(){Q.current&&pe()}}),[pe]);var he=Object(u.useCallback)((function(e){if(Q.current&&!Q.current.isActive()&&pe(),Q.current&&Q.current.isActive())Q.current.keep();else{var t=function(e){var t="waiting-to-show";function n(){return Boolean(C&&C.entry===e)}function r(){n()&&(S(),C=null)}function o(){n()&&e.done(),t="done",r()}function i(){n()&&e.hide({isImmediate:!0}),o()}function a(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(C&&C.isVisible());function r(){t="shown",e.show({isImmediate:n})}C&&(S(),C.entry.hide({isImmediate:!0}),C.entry.done(),C=null),C={entry:e,isVisible:a},n?r():(t="waiting-to-show",j(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void S()):"hide-animating"===t?(t="shown",S(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var o=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(o?i():(t="waiting-to-hide",j((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):i())},finishHideAnimation:function(){n()&&"hide-animating"===t&&o()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}({source:e,delay:se.current,show:function(e){var t=e.isImmediate;le.current||(le.current=!0,ue.current.onShowHandler()),re(t?"show-immediate":"fade-in")},hide:function(e){var t=e.isImmediate;re(t?"hide":"before-fade-out")},done:fe});de(t)}}),[pe,fe,de]),me=Object(u.useCallback)((function(){var e;null===(e=Q.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Q]);Object(b.a)({onClose:me,isDisabled:"hide"===ne||"fade-out"===ne}),Object(u.useEffect)((function(){return"hide"===ne?H:("before-fade-out"===ne&&re("fade-out"),Object(f.bind)(window,{type:"scroll",listener:function(){Q.current&&Q.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}}))}),[ne]);var ve,be,ge,ye,Oe,we=Object(u.useCallback)((function(){G&&Q.current&&Q.current.requestHide({isImmediate:!0})}),[G]),ke=Object(u.useCallback)((function(){V&&Q.current&&Q.current.requestHide({isImmediate:!0})}),[V]),Ee=Object(u.useCallback)((function(e){if(!(ie.current&&e.target===ie.current||e.defaultPrevented)){e.preventDefault();var t,n,o="mouse"===r?{type:"mouse",mouse:(t={left:e.clientX,top:e.clientY},n=t||{top:0,left:0},{getBoundingClientRect:function(){return{top:n.top,left:n.left,bottom:n.top,right:n.left,width:0,height:0}},clientWidth:0,clientHeight:0})}:{type:"keyboard"};he(o)}}),[r,he]),xe=Object(u.useCallback)((function(e){ie.current&&e.target===ie.current||e.defaultPrevented||(e.preventDefault(),Q.current&&Q.current.requestHide({isImmediate:!1}))}),[]),Se=Object(u.useCallback)((function(){Q.current&&Q.current.isActive()&&Q.current.keep()}),[]),je=Object(u.useCallback)((function(){he({type:"keyboard"})}),[he]),Ce=Object(u.useCallback)((function(){Q.current&&Q.current.requestHide({isImmediate:!1})}),[]),Te=Object(u.useCallback)((function(e){"exiting"===e&&"fade-out"===ce.current&&Q.current&&Q.current.finishHideAnimation()}),[]),_e=_,Ae="hide"!==ne&&Boolean(s),Pe="hide"!==ne&&"fade-out"!==ne,Ie=(ve="tooltip",be=Ae,ge=Object(T.b)(),be?"".concat(ge(ve)):void 0),Me={onMouseOver:Ee,onMouseOut:xe,onClick:ke,onMouseDown:we,onFocus:je,onBlur:Ce,ref:ae,"aria-describedby":Ie,"data-testid":A?"".concat(A,"--container"):void 0};return Object(d.d)(l.a.Fragment,null,"function"==typeof t?t(Me):Object(d.d)(_e,o()({},Me,{role:"presentation"}),t),Ae?Object(d.d)(k.a,{zIndex:z},Object(d.d)(w.a,{placement:X,referenceElement:(ye=Q.current,Oe=ye?ye.getInitialMouse():null,"mouse"===r&&Oe?Oe:oe.current||void 0),strategy:Y},(function(e){var t=e.ref,n=e.style,o=e.update,i=e.placement,a="mouse"===r?void 0:W[function(e){return e.split("-")[0]}(i)];return Object(d.d)(g.a,{appear:!0},Pe&&Object(d.d)(y.a,{distance:"constant",entranceDirection:a,exitDirection:a,onFinish:Te,duration:"show-immediate"===ne?0:O.b},(function(e){var r=e.className;return Object(d.d)(E,{ref:t,className:"Tooltip ".concat(r),style:n,truncate:h,placement:X,testId:A,onMouseOut:xe,onMouseOver:Se,id:Ie},"function"==typeof s?s({update:o}):s)})))}))):null)}V.displayName="Tooltip";t.a=V},function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r,o,i,a=n(8),c=n.n(a),s=n(9),u=n.n(s),l=n(13),d=n.n(l),f=n(15),p=n.n(f),h=n(6),m=n.n(h),v=n(0),b=n.n(v),g=n(323),y=n(22),O=n.n(y),w=n(2),k=n(7),E=n.n(k),x=n(335),S=n(64),j=n(3),C=Object(w.e)(r||(r=E()(["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]))),T=function(e){var t=e.dimensions,n=e.theme;return Object(w.c)(o||(o=E()(["\n  ","\n  background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n  width: ",";\n  height: ",";\n"])),x.c,Object(S.a)({light:j.N20,dark:j.DN50})({theme:n}),Object(S.a)({light:j.N50,dark:j.DN100})({theme:n}),x.b,t.width,t.height)},_=function(e){return Object(w.c)(i||(i=E()(["\n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"])),T(e),C)},A=n(280),P=function(e){var t=Object(A.b)();return Object(w.d)("div",O()({css:T({dimensions:e.dimensions,theme:t})},e),e.children)},I=function(e){var t=Object(A.b)();return Object(w.d)("div",O()({css:_({dimensions:e.dimensions,theme:t})},e),e.children)},M=n(745),R=n(703),N=n.n(R),D=n(1076);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var B=function(e){d()(n,e);var t=L(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.dimensions,n=e.testId,r=e.featureFlags,o=Object(g.a)(t);return Object(D.c)("newCardExperience",r)?b.a.createElement(P,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:o},b.a.createElement(M.a,null)):b.a.createElement(I,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:o},b.a.createElement(N.a,{label:"loading",size:"medium"}))}}]),n}(v.Component)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r="media-file-card-view",o="media-file-card-view-selected"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="new-file-experience-wrapper"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r,o=n(676),i=n(675);r=void 0!==e&&e.env.ANALYTICS_NEXT_MODERN_CONTEXT?i.a:o.a,t.a=r}).call(this,n(208))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(1),o=n.n(r),i=n(88),a=n(299);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return function(t){var n=t,r=n.getAttribute(e)||"",o={__confluenceMetadata:n.hasAttribute("__confluenceMetadata")?JSON.parse(n.getAttribute("__confluenceMetadata")||""):void 0};return!!Object(a.b)(r)&&(o.href=Object(a.e)(r),o)}},l={excludes:"".concat(i.e),group:i.e,attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"[data-block-link]",getAttrs:u("data-block-link"),contentElement:function(e){var t=e.cloneNode(!0);t.removeAttribute("data-block-link"),t.setAttribute("data-skip-paste","true");var n=document.createElement("div");return n.appendChild(t),n}},{tag:"a[href]",getAttrs:u("href")}],toDOM:function(e,t){var n,r=Object.keys(e.attrs).reduce((function(t,n){return"__confluenceMetadata"===n?null!==e.attrs[n]&&(t[n]=JSON.stringify(e.attrs[n])):t[n]="href"===n?Object(a.b)(e.attrs[n])?e.attrs[n]:void 0:e.attrs[n],t}),{});return t?["a",r]:["a",s(s({},r),{},(n={},o()(n,"data-block-link","true"),o()(n,"class","blockLink"),n)),0]}},d=["title","id","collection","occurrenceKey","__confluenceMetadata"],f=function(e){return{type:e.type.name,attrs:Object.keys(e.attrs).reduce((function(t,n){return-1!==d.indexOf(n)&&null===e.attrs[n]||(t[n]=e.attrs[n]),t}),{})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(384),o={attrs:{sources:{default:[]}},parseDOM:[{tag:'[data-mark-type="dataConsumer"]',getAttrs:function(e){return function(e){var t=Object(r.a)(e)&&e.getAttribute("data-sources");try{return!!t&&{sources:JSON.parse(t)}}catch(e){return!1}}(e)}}],toDOM:function(e,t){return[t?"span":"div",{"data-mark-type":"dataConsumer","data-sources":JSON.stringify(e.attrs.sources)}]}},i=function(e){return{type:e.type.name,attrs:Object.keys(e.attrs).filter((function(t){return"sources"===t&&e.attrs[t].length>0&&null!==e.attrs[t]})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(88),o=["em"],i={inclusive:!0,group:r.c,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(88),o=["strong"],i={inclusive:!0,group:r.c,parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{tag:"span",getAttrs:function(e){var t=e.style.fontWeight;return"string"==typeof t&&("bold"===t||"bolder"===t||/^(bold(er)?|[5-9]\d{2,})$/.test(t))&&null}}],toDOM:function(){return o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(1),o=n.n(r),i=n(21),a=n.n(i),c=n(88),s=n(55),u=[[s.o,"Light gray"],[s.r,"Purple"],[s.B,"Teal"],[s.g,"Green"],[s.w,"Red"],[s.G,"Orange"]],l=[[s.d,"Dark blue"],[s.D,"Dark teal"],[s.i,"Dark green"],[s.G,"Orange"],[s.y,"Dark red"],[s.t,"Dark purple"],[s.o,"Light gray"],[s.a,"Blue"],[s.B,"Teal"],[s.g,"Green"],[s.F,"Yellow"],[s.w,"Red"],[s.r,"Purple"],[s.k,"White"],[s.e,"Light blue"],[s.E,"Light teal"],[s.j,"Light green"],[s.I,"Light yellow"],[s.z,"Light red"],[s.s,"Light purple"]],d=new Map,f=new Map;u.forEach((function(e){var t=a()(e,2),n=t[0],r=t[1];return d.set(n.toLowerCase(),r)})),l.forEach((function(e){var t=a()(e,2),n=t[0],r=t[1];return f.set(n.toLowerCase(),r)}));var p={attrs:{color:{}},inclusive:!0,group:c.b,parseDOM:[{style:"color",getAttrs:function(e){var t,n=e;return n.match(/^rgb/i)?t=Object(s.L)(n):"#"===n[0]&&(t=n.toLowerCase()),!(!t||!d.has(t)&&!f.has(t))&&{color:t}}},{tag:".fabric-text-color-mark",getAttrs:function(e){if(!(e instanceof HTMLElement))return!1;var t=e.dataset.textCustomColor;return!(!t||!d.has(t)&&!f.has(t))&&{color:t}}}],toDOM:function(e){return["span",o()({class:"fabric-text-color-mark",style:"--custom-text-color: ".concat(e.attrs.color)},"data-text-custom-color",e.attrs.color)]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inclusive:!0,group:n(88).c,parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["s"]}}},function(e,t,n){"use strict";function r(e){if(e.style.verticalAlign){var t=e.style.verticalAlign.slice(0,3);if("sub"===t||"sup"===t)return{type:t}}return!1}n.d(t,"a",(function(){return o}));var o={inclusive:!0,group:n(88).c,attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}},{tag:"span",style:"vertical-align=super",getAttrs:function(e){return r(e)}},{tag:"span",style:"vertical-align=sub",getAttrs:function(e){return r(e)}}],toDOM:function(e){return[e.attrs.type]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={inclusive:!0,group:n(88).c,parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["u"]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(88),o={excludes:"".concat(r.c," ").concat(r.e," ").concat(r.f," ").concat(r.b),inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0,getAttrs:function(e){var t=e;return("pre"===t.style.whiteSpace||!!(t.style.fontFamily&&t.style.fontFamily.toLowerCase().indexOf("monospace")>=0))&&{}}}],toDOM:function(){return["span",{class:"code",spellcheck:"false"}]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(88),o=n(55),i={inclusive:!0,group:r.f,parseDOM:[{tag:"span[data-type-ahead-query]"}],toDOM:function(e){return["span",{"data-type-ahead-query":"true","data-trigger":e.attrs.trigger,style:"color: ".concat(o.b)}]},attrs:{trigger:{default:""}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(88),o={excludes:"alignment ".concat(r.d),group:r.a,attrs:{align:{}},parseDOM:[{tag:"div.fabric-editor-block-mark",getAttrs:function(e){var t=e.getAttribute("data-align");return!!t&&{align:t}}}],toDOM:function(e){return["div",{class:"fabric-editor-block-mark fabric-editor-align-".concat(e.attrs.align),"data-align":e.attrs.align},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}));var r,o,i=n(1),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.INLINE_COMMENT="inlineComment"}(r||(r={})),function(e){e.RESOLVED="resolved",e.ACTIVE="active"}(o||(o={}));var u={inclusive:!1,group:"annotation",excludes:"",attrs:{id:{default:""},annotationType:{default:r.INLINE_COMMENT}},parseDOM:[{tag:'span[data-mark-type="annotation"]',mark:"annotation",getAttrs:function(e){var t=e;return{id:t.getAttribute("data-id"),annotationType:t.getAttribute("data-mark-annotation-type")}}}],toDOM:function(e){return["span",s({class:"fabric-editor-annotation"},(t={id:e.attrs.id,annotationType:e.attrs.annotationType},n=t.id,r=t.annotationType,o=t.state,i={"data-mark-type":"annotation","data-mark-annotation-type":r,"data-id":n},o?s(s({},i),{},{"data-mark-annotation-state":o}):i)),0];var t,n,r,o,i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=["wide","full-width"],o={spanning:!1,inclusive:!1,parseDOM:[{tag:"div.fabric-editor-breakout-mark",getAttrs:function(e){var t=e.getAttribute("data-mode");return{mode:-1===r.indexOf(t||"")?"wide":t}}}],attrs:{mode:{default:"wide"}},toDOM:function(e){return["div",{class:"fabric-editor-breakout-mark","data-mode":e.attrs.mode},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(88),o={excludes:"indentation ".concat(r.a),group:r.d,attrs:{level:{}},parseDOM:[{tag:"div.fabric-editor-indentation-mark",getAttrs:function(e){var t=+(e.getAttribute("data-level")||"0");return{level:t>6?6:!(t<1)&&t}}}],toDOM:function(e){return["div",{class:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":e.attrs.level},0]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={toDOM:function(){return["span"]},excludes:"",attrs:{originalValue:{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={toDOM:function(){return["span"]},attrs:{type:{},unsupported:{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(20),o=n.n(r),i=n(8),a=n.n(i),c=n(9),s=n.n(c),u=n(5),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(1),g=n.n(b),y=n(27),O=n(14);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x;!function(e){e.UNDID="undid",e.REDID="redid"}(x||(x={}));var S=function(e){f()(n,e);var t=w(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return a()(this,n),r=t.call(this),g()(l()(r),"analyticsEvents",[]),g()(l()(r),"actionsToIgnore",[]),r.analyticsEvents=e,r.actionsToIgnore=o,r.pos=i,r}return s()(n,[{key:"invert",value:function(){var e=this;return new n(this.analyticsEvents.filter((function(t){return-1===e.actionsToIgnore.indexOf(t.payload.action)})).map((function(e){return(t=e).payload.action===x.UNDID||t.payload.action===x.REDID?function(e){return E(E({},e),{},{payload:E(E({},e.payload),{},{action:e.payload.action===x.UNDID?x.REDID:x.UNDID})})}(e):function(e){var t;return E(E({},e),{},{payload:{action:x.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:E(E({},e.payload.attributes),{},{actionSubjectId:e.payload.actionSubjectId,inputMethod:(null===(t=e.payload.attributes)||void 0===t?void 0:t.inputMethod)||""}),eventType:"track"}})}(e);var t})),[])}},{key:"apply",value:function(e){return y.f.ok(e)}},{key:"map",value:function(e){var t=this.pos;return"number"==typeof t&&(t=e.map(t)),new n(this.analyticsEvents,this.actionsToIgnore,t)}},{key:"getMap",value:function(){return"number"==typeof this.pos?new y.e([this.pos,0,0]):new y.e([])}},{key:"merge",value:function(e){if(e instanceof n){var t=e.analyticsEvents;return new n([].concat(o()(t),o()(this.analyticsEvents)))}return null}},{key:"toJSON",value:function(){return{stepType:"atlaskit-analytics"}}}],[{key:"fromJSON",value:function(){return new y.c(0,0,O.Slice.empty)}}]),n}(y.d);y.d.jsonID("atlaskit-analytics",S)},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r,o,i,a=n(7),c=n.n(a),s=n(2),u=n(3),l=n(64),d=n(33),f={focus:"".concat("ak-editor-annotation","-focus"),blur:"".concat("ak-editor-annotation","-blur"),draft:"".concat("ak-editor-annotation","-draft")},p=function(e){return{focus:Object(s.c)(r||(r=c()(["\n    // Background is not coming through in confluence, suspecting to be caused by some specific combination of\n    // emotion and token look up\n\n    background: ",";\n    border-bottom: 2px solid\n      ",";\n    // TODO: https://product-fabric.atlassian.net/browse/DSP-4147\n    box-shadow: ",";\n    cursor: pointer;\n  "])),Object(l.a)({light:u.Y75,dark:"rgb(111, 92, 37)"})(e),Object(l.a)({light:Object(d.a)("color.border.accent.yellow",u.Y300),dark:Object(d.a)("color.border.accent.yellow","#ffd557")})(e),Object(d.a)("elevation.shadow.overlay","1px 2px 3px ".concat(u.N60A,", -1px 2px 3px ").concat(u.N60A))),blur:Object(s.c)(o||(o=c()(["\n    background: ",";\n    border-bottom: 2px solid\n      ",";\n    cursor: pointer;\n  "])),Object(l.a)({light:"rgba(255, 240, 179, 0.5)",dark:"rgba(111, 92, 37, 0.5)"})(e),Object(l.a)({light:Object(d.a)("color.border.accent.yellow","rgba(255, 196, 0, 0.82)"),dark:Object(d.a)("color.border.accent.yellow","#82641c")})(e))}},h=function(e){return Object(s.c)(i||(i=c()(["\n  .ProseMirror {\n    ."," {\n      ",";\n    }\n\n    ."," {\n      ",";\n      cursor: initial;\n    }\n\n    ."," {\n      ",";\n    }\n  }\n"])),f.focus,p(e).focus,f.draft,p(e).focus,f.blur,p(e).blur)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n(681),i=n.n(o),a=n(387),c=n(164);function s(e){var t=e.children,n=e.innerRef,o=r.useContext(a.c),s=r.useCallback((function(e){Object(c.c)(n,e),Object(c.b)(o,e)}),[n,o]);return r.useEffect((function(){return function(){return Object(c.c)(n,null)}}),[]),r.useEffect((function(){i()(Boolean(o),"`Reference` should not be used outside of a `Manager` component.")}),[o]),Object(c.d)(t)({ref:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(20),o=n.n(r),i=n(21),a=n.n(i),c=n(0),s=n.n(c),u=n(1074),l=[{name:"flip",options:{flipVariations:!1,padding:5,boundary:"clippingParents",rootBoundary:"viewport"}},{name:"preventOverflow",options:{padding:5,rootBoundary:"document"}}];function d(){return null}var f=[0,8];function p(e){var t=e.children,n=void 0===t?d:t,r=e.offset,i=void 0===r?f:r,p=e.placement,h=void 0===p?"bottom-start":p,m=e.referenceElement,v=void 0===m?void 0:m,b=e.modifiers,g=e.strategy,y=void 0===g?"fixed":g,O=a()(i,2),w=O[0],k=O[1],E=Object(c.useMemo)((function(){return[].concat(l,[{name:"offset",options:{offset:[w,k]}}])}),[w,k]),x=Object(c.useMemo)((function(){return null==b?E:[].concat(o()(E),o()(b))}),[E,b]);return s.a.createElement(u.a,{modifiers:x,placement:h,strategy:y,referenceElement:v},n)}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n(12),u=n(139),l=n(288),d=n(287),f=["children","href","cssFn","description","iconAfter","iconBefore","isDisabled","isSelected","onClick","testId","overrides","onMouseDown","shouldTitleWrap","shouldDescriptionWrap"],p=function(e){e.preventDefault()},h=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=e.children,r=e.href,i=e.cssFn,c=void 0===i?u.a:i,h=e.description,m=e.iconAfter,v=e.iconBefore,b=e.isDisabled,g=void 0!==b&&b,y=e.isSelected,O=void 0!==y&&y,w=e.onClick,k=e.testId,E=e.overrides,x=e.onMouseDown,S=e.shouldTitleWrap,j=e.shouldDescriptionWrap,C=a()(e,f),T=Object(d.a)(x);return n?Object(s.d)(l.a,o()({},C,{overrides:E,iconBefore:v,iconAfter:m,isSelected:O,isDisabled:g,description:h,shouldTitleWrap:S,shouldDescriptionWrap:j,css:c({isSelected:O,isDisabled:g}),title:n}),(function(e){var n=e.children,i=e.className;return Object(s.d)("a",o()({"data-testid":k},C,{className:i,href:g?void 0:r,draggable:!1,onDragStart:p,onMouseDown:g?p:T,onClick:g?p:w,"aria-current":O?"page":void 0,"aria-disabled":g,ref:t}),n)})):null})));t.a=h},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n(12),u=n(139),l=n(288),d=n(287),f=["component","cssFn","isDisabled","isSelected","onClick","testId","children","description","iconAfter","iconBefore","overrides","onMouseDown","shouldTitleWrap","shouldDescriptionWrap"],p=function(e){e.preventDefault()},h=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=e.component,r=e.cssFn,i=void 0===r?u.a:r,c=e.isDisabled,h=void 0!==c&&c,m=e.isSelected,v=void 0!==m&&m,b=e.onClick,g=e.testId,y=e.children,O=e.description,w=e.iconAfter,k=e.iconBefore,E=e.overrides,x=e.onMouseDown,S=e.shouldTitleWrap,j=e.shouldDescriptionWrap,C=a()(e,f),T=Object(d.a)(x);return n?Object(s.d)(l.a,o()({},C,{overrides:E,description:O,iconAfter:w,title:y,iconBefore:k,isSelected:v,isDisabled:h,shouldTitleWrap:S,shouldDescriptionWrap:j,css:Object(s.c)(i({isDisabled:h,isSelected:v}))}),(function(e){var r=e.children,i=e.className;return Object(s.d)(n,o()({"data-testid":g},C,{className:i,ref:t,draggable:!1,onDragStart:p,onMouseDown:h?p:T,onClick:h?p:b,tabIndex:h?-1:void 0,"aria-disabled":h}),r)})):null})));t.a=h},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(21),a=n.n(i),c=n(34),s=n.n(c),u=n(0),l=n.n(u),d=n(280),f=n(424),p=n(205),h=n(392),m=["onMouseDown","onMouseUp"];function v(){}var b="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,g=l.a.memo(l.a.forwardRef((function(e,t){var n=e.onMouseDown,r=void 0===n?v:n,i=e.onMouseUp,c=void 0===i?v:i,g=s()(e,m),y=Object(d.b)().mode,O=g.appearance||"default",w=g.spacing||"default",k=Boolean(g.shouldFitContainer),E=Boolean(g.isSelected),x=Object(h.a)(g),S=Object(u.useState)(!1),j=a()(S,2),C=j[0],T=j[1],_=Object(u.useCallback)((function(e){r(e),b&&T(!0)}),[r,T]),A=Object(u.useCallback)((function(e){c(e),b&&T(!1)}),[c,T]),P=Object(u.useMemo)((function(){return Object(p.b)({appearance:O,spacing:w,mode:y,isSelected:E,shouldFitContainer:k,isOnlySingleIcon:x})}),[O,w,y,E,k,x]);return l.a.createElement(f.a,o()({},g,{ref:t,buttonCss:P,"data-firefox-is-active":!!C||void 0,onMouseDown:_,onMouseUp:A}))})));g.displayName="Button",t.a=g},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(1),a=n.n(i),c=n(34),s=n.n(c),u=n(0),l=n.n(u),d=n(673),f=["analyticsContext"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(t){var n=Object(u.forwardRef)((function(n,r){var i=n.analyticsContext,a=s()(n,f),c=Object(u.useMemo)((function(){return h(h({},e),i)}),[i]);return l.a.createElement(d.a,{data:c},l.a.createElement(t,o()({},a,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r),i=n(12),a=n(16),c={flex:"1 0 auto",display:"flex","& + &::before":{content:"''",display:"inline-block",width:"".concat(Object(a.i)()/2,"px")}};function s(e){var t=e.appearance,n=e.children;return Object(i.d)("div",{css:{display:"inline-flex"}},o.a.Children.map(n,(function(e,n){return e?Object(i.d)("div",{key:n,css:c},t?o.a.cloneElement(e,{appearance:t}):e):null})))}},function(e,t,n){"use strict";var r,o,i,a;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(r||(r={})),function(e){e.RENDERER="renderer",e.EDITOR="editor"}(o||(o={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(i||(i={})),function(e){e.LOADING="loading",e.TYPING="typing",e.CLICKING="clicking",e.PASTING="pasting"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(201);function o(e,t){if(Object(r.a)()){var n="[START]: ".concat(e),o="[END]: ".concat(e),i=performance.now();performance.mark(n),requestAnimationFrame((function(){requestAnimationFrame((function(){performance.mark(o);var r=performance.now()-i;try{performance.measure(e,n,o);var a=performance.getEntriesByName(e).pop();a?t(a.duration,a.startTime):t(r,i)}catch(e){t(r,i)}performance.clearMeasures(e),performance.clearMarks(n),performance.clearMarks(o)}))}))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},o={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"}},function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.COLLAPSED="collapsed",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn",e.REPLACED="replaced",e.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",e.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths"}(r||(r={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(8),o=n.n(r),i=n(9),a=n.n(i),c=n(5),s=n.n(c),u=n(13),l=n.n(u),d=n(15),f=n.n(d),p=n(6),h=n.n(p),m=n(1),v=n.n(m),b=n(0);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var w=function(e){l()(n,e);var t=O(n);function n(e){var r;o()(this,n),r=t.call(this,e),v()(s()(r),"handleProvider",(function(e,t){r.setState((function(n){return{providers:y(y({},n.providers),{},v()({},e,t))}}))}));var i={};return r.props.providers.forEach((function(e){i[e]=void 0})),r.state={providers:i},r}return a()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.subscribe(t,e.handleProvider)}))}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.unsubscribe(t,e.handleProvider)}))}},{key:"render",value:function(){var e=this.state;return(0,this.props.renderNode)(e.providers)}}]),n}(b.PureComponent);v()(w,"displayName","WithProviders")},function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(r||(r={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(o||(o={}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(493);t.a=function(e){return o.a.createElement(i.a,{appear:!0},e.children)}},function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(r||(r={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(o||(o={}))},function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.BACKWARD="backward",e.FORWARD="forward"}(r||(r={})),function(e){e.JOIN_SIBLINGS="joinSiblings",e.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",e.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",e.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",e.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",e.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(45),o=n.n(r),i=n(1),a=n.n(i),c=n(8),s=n.n(c),u=n(9),l=n.n(u),d=n(13),f=n.n(d),p=n(15),h=n.n(p),m=n(6),v=n.n(m),b=n(27),g=n(14);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var k=function(e){f()(n,e);var t=w(n);function n(e,r){var o;return s()(this,n),(o=t.call(this)).pos=e,o.attrs=r,o}return l()(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return b.f.fail("No node at given position");if(t.isText)return b.f.fail("Target is a text node. Attributes are not allowed.");var n=O(O({},t.attrs||{}),this.attrs||{}),r=t.type.create(n,g.Fragment.empty,t.marks),o=new g.Slice(g.Fragment.from(r),0,t.isLeaf?0:1);return b.f.fromReplace(e,this.pos,this.pos+1,o)}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return new n(this.pos,t?t.attrs:{})}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deleted?null:new n(t.pos,this.attrs)}},{key:"toJSON",value:function(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||null!==t.attrs&&"object"!==o()(t.attrs))throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new n(t.pos,t.attrs)}}]),n}(b.d);b.d.jsonID("setAttrs",k)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(21),o=n.n(r),i=n(19),a=n.n(i),c=n(8),s=n.n(c),u=n(9),l=n.n(u),d=n(5),f=n.n(d),p=n(13),h=n.n(p),m=n(15),v=n.n(m),b=n(6),g=n.n(b),y=n(1),O=n.n(y),w=n(10),k=n.n(w),E=n(0),x=n.n(E),S=n(1061),j=n(3);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var T=function(e){h()(i,e);var t,r=C(i);function i(){var e;s()(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),O()(f()(e),"state",{MediaViewer:i.MediaViewer,MediaViewerErrorBoundary:i.MediaViewerErrorBoundary}),e}return l()(i,[{key:"UNSAFE_componentWillMount",value:(t=a()(k.a.mark((function e(){var t,r,a,c,s,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.MediaViewer&&this.state.MediaViewerErrorBoundary){e.next=17;break}return e.prev=1,e.next=4,Promise.all([n.e(4).then(n.bind(null,224)),Promise.all([n.e(4),n.e(6),n.e(156)]).then(n.bind(null,1137)),n.e(72).then(n.bind(null,1097))]);case 4:t=e.sent,r=o()(t,3),a=r[0],c=r[1],s=r[2],u=a.withMediaClient(c.MediaViewer),i.MediaViewer=u,i.MediaViewerErrorBoundary=s.default,this.setState({MediaViewer:u,MediaViewerErrorBoundary:i.MediaViewerErrorBoundary}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.MediaViewer,n=e.MediaViewerErrorBoundary;return t&&n?x.a.createElement(n,null,x.a.createElement(t,this.props)):x.a.createElement(S.a,{blankedColor:j.DN30,invertSpinnerColor:!0})}}]),i}(x.a.PureComponent);O()(T,"displayName","AsyncMediaViewer")},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(3),a=n(16),c=Object(o.c)({backgroundColor:"var(--ds-background-neutral, ".concat(i.N40,")"),color:"var(--ds-text, ".concat(i.N500,")")}),s=Object(o.c)({backgroundColor:"var(--ds-background-information, ".concat(i.B50,")"),color:"var(--ds-text-information, ".concat(i.B500,")")}),u=Object(o.c)({backgroundColor:"var(--ds-background-warning, ".concat(i.Y75,")"),color:"var(--ds-text-warning, ".concat(i.N800,")")}),l=Object(o.c)({backgroundColor:"var(--ds-background-discovery, ".concat(i.P50,")"),color:"var(--ds-text-discovery, ".concat(i.P500,")")}),d=Object(o.c)({backgroundColor:"var(--ds-background-danger, ".concat(i.R50,")"),color:"var(--ds-text-danger, ".concat(i.R500,")")}),f=Object(o.c)({backgroundColor:"var(--ds-background-success, ".concat(i.G50,")"),color:"var(--ds-text-success, ".concat(i.G500,")")}),p=Object(o.c)({backgroundColor:"var(--ds-background-neutral-bold, ".concat(i.N500,")"),color:"var(--ds-text-inverse, ".concat(i.N0,")")}),h=Object(o.c)({backgroundColor:"var(--ds-background-information-bold, ".concat(i.B400,")"),color:"var(--ds-text-inverse, ".concat(i.N0,")")}),m=Object(o.c)({backgroundColor:"var(--ds-background-warning-bold, ".concat(i.Y500,")"),color:"var(--ds-text-warning-inverse, ".concat(i.N800,")")}),v=Object(o.c)({backgroundColor:"var(--ds-background-discovery-bold, ".concat(i.P400,")"),color:"var(--ds-text-inverse, ".concat(i.N0,")")}),b=Object(o.c)({backgroundColor:"var(--ds-background-danger-bold, ".concat(i.R400,")"),color:"var(--ds-text-inverse, ".concat(i.N0,")")}),g=Object(o.c)({backgroundColor:"var(--ds-background-success-bold, ".concat(i.G400,")"),color:"var(--ds-text-inverse, ".concat(i.N0,")")}),y={default:c,inprogress:s,moved:u,new:l,removed:d,success:f},O={default:p,inprogress:h,moved:m,new:v,removed:b,success:g},w=Object(o.c)({display:"inline-block",boxSizing:"border-box",width:"100%",padding:"0 ".concat(Object(a.i)()/2,"px"),overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"top",whiteSpace:"nowrap"}),k=Object(o.c)({display:"inline-block",boxSizing:"border-box",maxWidth:"100%",padding:"2px 0 3px 0",borderRadius:Object(a.d)(),fontSize:"11px",fontWeight:700,lineHeight:1,textTransform:"uppercase",verticalAlign:"baseline"}),E=Object(r.memo)((function(e){var t=e.children,n=e.testId,r=e.isBold,i=void 0!==r&&r,a=e.appearance,c=void 0===a?"default":a,s=e.maxWidth,u=void 0===s?200:s,l=e.style,d=void 0===l?{}:l;return Object(o.d)("span",{style:{backgroundColor:d.backgroundColor,color:d.color},css:[i?O[c]:y[c],k],"data-testid":n},Object(o.d)("span",{style:{maxWidth:u},css:w},t))}));E.displayName="Lozenge",t.a=E},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"a",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"o",(function(){return x})),n.d(t,"q",(function(){return S})),n.d(t,"p",(function(){return j})),n.d(t,"r",(function(){return T})),n.d(t,"t",(function(){return _})),n.d(t,"s",(function(){return A})),n.d(t,"v",(function(){return P})),n.d(t,"u",(function(){return I})),n.d(t,"d",(function(){return M})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return N})),n.d(t,"n",(function(){return D})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return B}));var r=n(1),o=n.n(r),i=n(496),a=n(489);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(i.a)("fabric-elements"),f=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{eventType:e,action:t,actionSubject:n,actionSubjectId:r,attributes:l({packageName:a.a,packageVersion:a.b},o)}},p=function(e){return f("operational","succeeded","recordEmojiSelection",void 0,{source:e})},h=function(e){return f("operational","failed","recordEmojiSelection",void 0,{source:e})},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return f("ui",e,"emojiPicker",n,t)},v=function(){return m("opened")},b=function(e){return m("closed",e)},g=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],y=function(e){if(!e)return{};var t,n=c(g);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.id,i=r.skinToneModifier;if(-1!==e.indexOf(o))return{skinToneModifier:i,baseEmojiId:e.replace(o,"")}}}catch(e){n.e(e)}finally{n.f()}return{}},O=function(e){return m("clicked",l(l({},y(e.emojiId)),e),"emoji")},w=function(e){return m("clicked",e,"category")},k=function(e){return m("searched",e,"query")},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f("ui",e,"emojiSkintoneSelector",void 0,t)},x=function(e){return E("clicked",e)},S=function(e){return E("opened",e)},j=function(){return E("cancelled")},C=function(e,t,n){return f("ui",e,"emojiUploader",t,n)},T=function(){return C("clicked","addButton")},_=function(e){return C("clicked","confirmButton",e)},A=function(){return C("clicked","cancelButton")},P=function(e){return f("operational","finished","emojiUploader",void 0,e)},I=function(e){return f("operational","failed","emojiUploader",void 0,e)},M=function(e){return f("ui","clicked","emojiPicker","deleteEmojiTrigger",e)},R=function(e){return f("ui","clicked","emojiPicker","deleteEmojiConfirm",e)},N=function(e){return f("ui","clicked","emojiPicker","deleteEmojiCancel",e)},D=function(){return f("ui","clicked","emojiUploader","selectFile")},L=function(e){return function(){e&&e.createAnalyticsEvent&&Object(i.a)("editor")(p("typeahead"))(e.createAnalyticsEvent)}},B=function(e){return function(t){return e&&e.createAnalyticsEvent&&Object(i.a)("editor")(h("typeahead"))(e.createAnalyticsEvent),Promise.reject(t)}}},function(e,t,n){"use strict";var r,o,i,a;n.d(t,"a",(function(){return r})),function(e){e.EDIT="edit",e.NEW="new"}(r||(r={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(o||(o={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(i||(i={})),function(e){e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),o=n(1073),i=n(69),a=n(352),c=n(191),s=n(268),u=n(924),l=function(e,t,n,l){var d=n||"NULL",f=Object(u.b)().store,p=f?Object(o.a)(f,e):void 0,h=p?p.details:void 0,m=Object(s.c)(h),v=Object(s.d)(h),b=Object(s.f)(h),g=Object(s.i)(h),y=Object(s.e)(h),O=Object(r.useMemo)((function(){return{authEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return t(Object(i.m)(e,n,r))},authAlternateAccountEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return t(Object(i.l)(e,n,r))},cardClickedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v,c=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:y,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:g,p=arguments.length>9?arguments[9]:void 0;return t(Object(i.n)(e,n,r,o,a,c,s,u,f,p))},actionClickedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;Object(c.c)("smart-link-action-invocation",e,{actionType:r,display:o,extensionKey:n,invokeType:a}),t(Object(i.k)(e,r,n,o))},hoverCardOpenLinkClickedEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,o=arguments.length>3?arguments[3]:void 0;t(Object(i.q)(d,e,n,r,o))},closedAuthEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;return t(Object(i.o)(e,n,r))},renderSuccessEvent:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v;Object(c.d)("smart-link-rendered",r,{extensionKey:a,display:e}),Object(c.d)("smart-link-authenticated",r,{display:e}),t(Object(i.t)(e,n,o,a))},renderFailedEvent:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;Object(c.c)("smart-link-rendered",n),Object(c.b)("smart-link-rendered",n),Object(c.b)("smart-link-authenticated",n),t(Object(i.s)(e,r,o))},hoverCardViewedEvent:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:v;return t(Object(i.r)(r,e,o,a,n))},hoverCardDismissedEvent:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:m,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:v;return t(Object(i.p)(o,e,n,a,c,r))}}}),[m,v,t,d,l,y,g]),w=Object(r.useMemo)((function(){return{invokeSucceededEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;Object(c.d)("smart-link-action-invocation",e),t(Object(i.g)(e,r,o,n))},invokeFailedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;Object(c.b)("smart-link-action-invocation",e),t(Object(i.f)(e,r,o,a,n))},connectSucceededEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;Object(c.c)("smart-link-authenticated",e,{extensionKey:r,status:"success"}),t(Object(i.c)(n,r))},connectFailedEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,o=arguments.length>3?arguments[3]:void 0;Object(c.c)("smart-link-authenticated",e,{extensionKey:r,status:o}),t(Object(i.b)(n,r,o))},instrument:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b,c=arguments.length>5?arguments[5]:void 0,s=Object(a.a)(e,n,r,o,i,c);s&&t(s)}}}),[d,b,m,v,t]),k=Object(r.useMemo)((function(){return{appAccountConnected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return t(Object(i.j)(e,n))}}}),[m,v,t]),E=Object(r.useMemo)((function(){return{authPopupEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return t(Object(i.i)(e,n))}}}),[m,v,t]);return Object(r.useMemo)((function(){return{ui:O,operational:w,track:k,screen:E}}),[O,w,k,E])}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(8),s=n.n(c),u=n(9),l=n.n(u),d=n(5),f=n.n(d),p=n(13),h=n.n(p),m=n(15),v=n.n(m),b=n(6),g=n.n(b),y=n(1),O=n.n(y),w=n(12),k=n(316),E=n(123),x=n(411),S=n(669),j=n(209),C=n(295),T=["emojiProvider"];function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var A=function(){return n.e(152).then(n.bind(null,1135)).then((function(e){return e.default}))},P=function(e){h()(n,e);var t=_(n);function n(e){var r;return s()(this,n),r=t.call(this,e,{}),O()(f()(r),"state",{asyncLoadedComponent:n.AsyncLoadedComponent}),E.d["emoji-picker-opened"].start(),r}return l()(n,[{key:"asyncLoadComponent",value:function(){var e=this;A().then((function(t){n.AsyncLoadedComponent=t,e.setAsyncState(t)}))}},{key:"renderLoading",value:function(){var e=this,t=new S.c;return E.d["emoji-picker-opened"].markFMP(),Object(w.d)("div",{css:j.h,ref:function(t){e.props.onPickerRef&&e.props.onPickerRef(t)}},t.renderItem())}},{key:"renderLoaded",value:function(e,t){var n=this.props,r=(n.emojiProvider,a()(n,T));return Object(w.d)(C.a,{experiences:[E.d["emoji-picker-opened"]]},Object(w.d)(t,o()({emojiProvider:e},r)))}}]),n}(x.a),I=Object(k.a)()(P);t.a=I},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n.n(c),u=n(12),l=n(254),d=n(180);function f(e,t){return n=t||null,r=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},(o=Object(c.useState)((function(){return{value:n,callback:r,facade:{get current(){return o.value},set current(e){var t=o.value;t!==e&&(o.value=e,o.callback(e,t))}}}}))[0]).callback=r,o.facade;var n,r,o}var p={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},h=function(e){var t=e.children;return c.createElement(c.Fragment,null,c.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:p}),t,t&&c.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:p}))};h.propTypes={},h.defaultProps={children:null};var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.create;Object.create;function v(e){return e}function b(e,t){void 0===t&&(t=v);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function g(e,t){return void 0===t&&(t=v),b(e,t)}var y=g({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),O=g(),w=g(),k=function(e){void 0===e&&(e={});var t=b(null);return t.options=m({async:!0,ssr:!1},e),t}({async:!0}),E=[],x=c.forwardRef((function(e,t){var n,r=c.useState(),o=r[0],i=r[1],a=c.useRef(),s=c.useRef(!1),u=c.useRef(null),l=e.children,h=e.disabled,m=e.noFocusGuards,v=e.persistentFocus,b=e.crossFrame,g=e.autoFocus,w=(e.allowTextSelection,e.group),x=e.className,S=e.whiteList,j=e.hasPositiveIndices,C=e.shards,T=void 0===C?E:C,_=e.as,A=void 0===_?"div":_,P=e.lockProps,I=void 0===P?{}:P,M=e.sideCar,R=e.returnFocus,N=e.focusOptions,D=e.onActivation,L=e.onDeactivation,B=c.useState({})[0],F=c.useCallback((function(){u.current=u.current||document&&document.activeElement,a.current&&D&&D(a.current),s.current=!0}),[D]),z=c.useCallback((function(){s.current=!1,L&&L(a.current)}),[L]);Object(c.useEffect)((function(){h||(u.current=null)}),[]);var U=c.useCallback((function(e){var t=u.current;if(t&&t.focus){var n="function"==typeof R?R(t):R;if(n){var r="object"==typeof n?n:void 0;u.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[R]),H=c.useCallback((function(e){s.current&&y.useMedium(e)}),[]),W=O.useMedium,V=c.useCallback((function(e){a.current!==e&&(a.current=e,i(e))}),[]);var q=Object(d.a)(((n={})["data-focus-lock-disabled"]=h&&"disabled",n["data-focus-lock"]=w,n),I),G=!0!==m,K=G&&"tail"!==m,$=f([t,V]);return c.createElement(c.Fragment,null,G&&[c.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:h?-1:0,style:p}),j?c.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:h?-1:1,style:p}):null],!h&&c.createElement(M,{id:B,sideCar:k,observed:o,disabled:h,persistentFocus:v,crossFrame:b,autoFocus:g,whiteList:S,shards:T,onActivation:F,onDeactivation:z,returnFocus:U,focusOptions:N}),c.createElement(A,Object(d.a)({ref:$},q,{className:x,onBlur:W,onFocus:H}),l),K&&c.createElement("div",{"data-focus-guard":!0,tabIndex:h?-1:0,style:p}))}));x.propTypes={},x.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var S=x,j=n(217),C=n(363);var T=function(e,t){return function(n){var r,o=[];function i(){r=e(o.map((function(e){return e.props}))),t(r)}var a=function(e){function t(){return e.apply(this,arguments)||this}Object(j.a)(t,e),t.peek=function(){return r};var a=t.prototype;return a.componentDidMount=function(){o.push(this),i()},a.componentDidUpdate=function(){i()},a.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),i()},a.render=function(){return s.a.createElement(n,this.props)},t}(c.PureComponent);return Object(C.a)(a,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),a}},_=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},A=function(e){return Array.isArray(e)?e:[e]},P=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},I=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},M=function(e,t){return!e||I(e)||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(P(e))},R=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=M(t,R.bind(void 0,e));return e.set(t,r),r},N=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=function(e,t){return!(e&&!I(e))||!!F(e)&&t(P(e))}(t,N.bind(void 0,e));return e.set(t,r),r},D=function(e){return e.dataset},L=function(e){return"INPUT"===e.tagName},B=function(e){return L(e)&&"radio"===e.type},F=function(e){var t=e.getAttribute("data-no-autofocus");return![!0,"true",""].includes(t)},z=function(e){var t;return Boolean(e&&(null===(t=D(e))||void 0===t?void 0:t.focusGuard))},U=function(e){return!z(e)},H=function(e){return Boolean(e)},W=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},V=function(e,t,n){return _(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(W)},q=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),G="".concat(q,", [data-focus-guard]"),K=function(e,t){var n;return _((null===(n=e.shadowRoot)||void 0===n?void 0:n.children)||e.children).reduce((function(e,n){return e.concat(n.matches(t?G:q)?[n]:[],K(n))}),[])},$=function(e,t){return e.reduce((function(e,n){return e.concat(K(n,t),n.parentNode?_(n.parentNode.querySelectorAll(q)).filter((function(e){return e===n})):[])}),[])},Y=function(e,t){return _(e).filter((function(e){return R(t,e)})).filter((function(e){return function(e){return!((L(e)||function(e){return"BUTTON"===e.tagName}(e))&&("hidden"===e.type||e.disabled))}(e)}))},X=function(e,t){return void 0===t&&(t=new Map),_(e).filter((function(e){return N(t,e)}))},J=function(e,t,n){return V(Y($(e,n),t),!0,n)},Z=function(e,t){return V(Y($(e),t),!1)},Q=function(e,t){return Y(function(e){var t=e.querySelectorAll("[".concat("data-autofocus-inside","]"));return _(t).map((function(e){return $([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},ee=function(e,t){return(e.shadowRoot?ee(e.shadowRoot,t):Object.getPrototypeOf(e).contains.call(e,t))||_(e.children).some((function(e){return ee(e,t)}))},te=function(e){return e.activeElement?e.activeElement.shadowRoot?te(e.activeElement.shadowRoot):e.activeElement:void 0},ne=function(){return document.activeElement?document.activeElement.shadowRoot?te(document.activeElement.shadowRoot):document.activeElement:void 0},re=function(e){return e.parentNode?re(e.parentNode):e},oe=function(e){return A(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute("data-focus-lock");return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(_(re(t).querySelectorAll("[".concat("data-focus-lock",'="').concat(n,'"]:not([').concat("data-focus-lock-disabled",'="disabled"])')))):[t]),e}),[])},ie=function(e){return Boolean(_(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))},ae=function(e){var t=document&&ne();return!(!t||t.dataset&&t.dataset.focusGuard)&&oe(e).some((function(e){return ee(e,t)||ie(e)}))},ce=function(e,t){return B(e)&&e.name?function(e,t){return t.filter(B).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},se=function(e){return e[0]&&e.length>1?ce(e[0],e):e[0]},ue=function(e,t){return e.length>1?e.indexOf(ce(e[t],e)):t},le=function(e,t,n,r){var o=e.length,i=e[0],a=e[o-1],c=z(n);if(!(n&&e.indexOf(n)>=0)){var s,u,l=void 0!==n?t.indexOf(n):-1,d=r?t.indexOf(r):l,f=r?e.indexOf(r):-1,p=l-d,h=t.indexOf(i),m=t.indexOf(a),v=(s=t,u=new Set,s.forEach((function(e){return u.add(ce(e,s))})),s.filter((function(e){return u.has(e)}))),b=(void 0!==n?v.indexOf(n):-1)-(r?v.indexOf(r):l),g=ue(e,0),y=ue(e,o-1);return-1===l||-1===f?"NEW_FOCUS":!p&&f>=0?f:l<=h&&c&&Math.abs(p)>1?y:l>=m&&c&&Math.abs(p)>1?g:p&&Math.abs(b)>1?f:l<=h?y:l>m?g:p?Math.abs(p)>1?f:(o+f+p)%o:void 0}},de=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&de(e.parentNode.host||e.parentNode,t),t},fe=function(e,t){for(var n=de(e),r=de(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},pe=function(e,t,n){var r=A(e),o=A(t),i=r[0],a=!1;return o.filter(Boolean).forEach((function(e){a=fe(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=fe(i,e);t&&(a=!a||ee(t,a)?t:fe(t,a))}))})),a},he=function(e,t){var n=document&&ne(),r=oe(e).filter(U),o=pe(n||e,e,r),i=new Map,a=Z(r,i),c=J(r,i).filter((function(e){var t=e.node;return U(t)}));if(c[0]||(c=a)[0]){var s,u,l,d,f=Z([o],i).map((function(e){return e.node})),p=(s=f,u=c,l=new Map,u.forEach((function(e){return l.set(e.node,e)})),s.map((function(e){return l.get(e)})).filter(H)),h=p.map((function(e){return e.node})),m=le(h,f,n,t);if("NEW_FOCUS"===m){var v=X(a.map((function(e){return e.node}))).filter((d=function(e,t){return e.reduce((function(e,n){return e.concat(Q(n,t))}),[])}(r,i),function(e){var t;return e.autofocus||!!(null===(t=D(e))||void 0===t?void 0:t.autofocus)||d.indexOf(e)>=0}));return{node:v&&v.length?se(v):se(X(h))}}return void 0===m?m:p[m]}},me=0,ve=!1,be=function(e,t,n){void 0===n&&(n={});var r,o,i=he(e,t);if(!ve&&i){if(me>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),ve=!0,void setTimeout((function(){ve=!1}),1);me++,r=i.node,o=n.focusOptions,"focus"in r&&r.focus(o),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),me--}},ge=function(e){var t=oe(e).filter(U),n=pe(e,e,t),r=new Map,o=J([n],r,!0),i=J(t,r).filter((function(e){var t=e.node;return U(t)})).map((function(e){return e.node}));return o.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:z(t)}}))};function ye(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var Oe=function(){return document&&document.activeElement===document.body||!!(e=document&&ne())&&_(document.querySelectorAll("[".concat("data-no-focus-lock","]"))).some((function(t){return ee(t,e)}));var e},we=null,ke=null,Ee=null,xe=!1,Se=function(){return!0};function je(e,t,n,r){var o=null,i=e;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(i!==e)return;o=null}}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var Ce=function(e){return e&&"current"in e?e.current:e},Te=function(){var e,t=!1;if(we){var n=we,r=n.observed,o=n.persistentFocus,i=n.autoFocus,a=n.shards,c=n.crossFrame,s=n.focusOptions,u=r||Ee&&Ee.portaledElement,l=document&&document.activeElement;if(u){var d=[u].concat(a.map(Ce).filter(Boolean));if(l&&!function(e){return(we.whiteList||Se)(e)}(l)||(o||(c?Boolean(xe):"meanwhile"===xe)||!Oe()||!ke&&i)&&(u&&!(ae(d)||l&&function(e,t){return t.some((function(t){return function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))}(e,t,t)}))}(l,d)||(e=l,Ee&&Ee.portaledElement===e))&&(document&&!ke&&l&&!i?(l.blur&&l.blur(),document.body.focus()):(t=be(d,ke,{focusOptions:s}),Ee={})),xe=!1,ke=document&&document.activeElement),document){var f=document&&document.activeElement,p=ge(d),h=p.map((function(e){return e.node})).indexOf(f);h>-1&&(p.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),je(h,p.length,1,p),je(h,-1,-1,p))}}}return t},_e=function(e){Te()&&e&&(e.stopPropagation(),e.preventDefault())},Ae=function(){return ye(Te)},Pe=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(Ee={observerNode:n,portaledElement:t})},Ie=function(){xe="just",setTimeout((function(){xe="meanwhile"}),0)};y.assignSyncMedium(Pe),O.assignMedium(Ae),w.assignMedium((function(e){return e({moveFocusInside:be,focusInside:ae})}));var Me=T((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!we&&(document.addEventListener("focusin",_e),document.addEventListener("focusout",Ae),window.addEventListener("blur",Ie));var n=we,r=n&&t&&t.id===n.id;we=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(ke=null,r&&n.observed===t.observed||t.onActivation(),Te(),ye(Te)):(document.removeEventListener("focusin",_e),document.removeEventListener("focusout",Ae),window.removeEventListener("blur",Ie),ke=null)}))((function(){return null})),Re=c.forwardRef((function(e,t){return c.createElement(S,Object(d.a)({sideCar:Me,ref:t},e))})),Ne=S.propTypes||{};Ne.sideCar,Object(l.a)(Ne,["sideCar"]);Re.propTypes={};var De=Re,Le=n(255),Be=n.n(Le),Fe=n(505),ze=n(1),Ue=n.n(ze),He=n(139),We=n(3),Ve=n(280),qe=n(16);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ke={componentName:"blanket",packageName:"@atlaskit/blanket",packageVersion:"12.2.14"},$e=Object(u.c)({position:"fixed",zIndex:qe.j.blanket(),top:0,right:0,bottom:0,left:0,overflowY:"auto",pointerEvents:"initial"}),Ye=Object(u.c)({pointerEvents:"none"}),Xe=Object(u.c)({backgroundColor:"transparent"}),Je={light:Object(u.c)({backgroundColor:"var(--ds-blanket, ".concat(We.N100A,")")}),dark:Object(u.c)({backgroundColor:"var(--ds-blanket, ".concat(We.DN90A,")")})},Ze=Object(c.memo)(Object(c.forwardRef)((function(e,t){var n=e.shouldAllowClickThrough,r=void 0!==n&&n,o=e.isTinted,i=void 0!==o&&o,a=e.onBlanketClicked,s=void 0===a?He.a:a,l=e.testId,d=e.children,f=e.analyticsContext,p=Object(Ve.b)().mode,h=Object(Fe.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Ue()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fn:s,action:"clicked",analyticsData:f},Ke)),m=Object(c.useCallback)((function(e){return e.currentTarget===e.target?h(e):void 0}),[h]),v=r?void 0:m;return Object(u.d)("div",{role:"presentation",css:[$e,r&&Ye,Je[p],!i&&Xe],onClick:v,"data-testid":l,ref:t},d)})));Ze.displayName="Blanket";var Qe=Ze,et=n(388),tt=n(1220),nt=n(1218),rt=n(21),ot=n.n(rt),it=n(45),at=n.n(it),ct=n(1230),st=n(370),ut=n(393),lt=n(1068),dt=n(81),ft=n(261);var pt=function(e){if(!e)return"auto";var t=-1!==dt.k.values.indexOf(e.toString())&&e;return t?"".concat(dt.k.widths[t],"px"):"number"==typeof e?"".concat(e,"px"):e},ht=n(683),mt=n(390),vt="calc(100vw - ".concat(2*dt.c,"px)"),bt="calc(100vh - ".concat(2*dt.c-1,"px)"),gt=Object(u.c)({display:"flex",width:"100%",maxWidth:"100%",height:"100%",position:"fixed",zIndex:qe.j.modal(),top:0,left:0,flexDirection:"column"}),yt=Object(u.c)({height:"auto",position:"relative","@media (min-width: 480px)":{margin:"".concat(dt.c,"px auto"),pointerEvents:"none"}}),Ot=Object(u.c)({"@media (min-width: 480px)":{maxWidth:vt,maxHeight:bt,marginRight:"auto",marginLeft:"auto",position:"absolute",top:"".concat(dt.c,"px"),right:0,left:0,pointerEvents:"none"}}),wt=Object(u.c)({transitionDuration:"".concat(mt.b,"ms"),transitionProperty:"transform",transitionTimingFunction:ht.a,"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}}),kt=Object(u.c)({transform:"translateY(var(--modal-dialog-translate-y))"}),Et=Object(u.c)({transform:"none"}),xt=function(e){var t=e.children,n=e.stackIndex,r=e.shouldScrollInViewport,o=e.testId;return Object(u.d)("div",{style:{"--modal-dialog-translate-y":"".concat(n*(dt.j/2),"px")},css:[gt,wt,n>0?kt:Et,r?yt:Ot],"data-testid":o&&"".concat(o,"--positioner")},t)},St=Object(u.c)({display:"flex",width:"100%",maxWidth:"100vw",height:"100%",minHeight:0,maxHeight:"100vh",flex:"0 1 auto",flexDirection:"column",backgroundColor:"var(--ds-surface-overlay, ".concat(We.N0,")"),color:dt.h,pointerEvents:"auto","@media (min-width: 480px)":{width:"var(--modal-dialog-width)",maxWidth:"inherit",marginRight:"inherit",marginLeft:"inherit",borderRadius:dt.a,boxShadow:"var(--ds-shadow-overlay, ".concat("0 0 0 1px ".concat(We.N30A,", 0 2px 1px ").concat(We.N30A,", 0 0 20px -6px ").concat(We.N60A),")")},"& > form:only-child":{display:"inherit",maxHeight:"inherit",flexDirection:"inherit"}}),jt=Object(u.c)({minHeight:"100vh",maxHeight:"none","@media (min-width: 480px)":{minHeight:"var(--modal-dialog-height)"}}),Ct=Object(u.c)({"@media (min-width: 480px)":{height:"var(--modal-dialog-height)",maxHeight:"inherit"}}),Tt=function(e){var t=e.width,n=void 0===t?"medium":t,r=e.shouldScrollInViewport,i=void 0!==r&&r,a=e.autoFocus,s=e.stackIndex,l=e.onClose,d=e.onCloseComplete,f=e.onOpenComplete,p=e.height,h=e.children,m=e.testId,v=Object(ct.a)(),b="modal-dialog-title-".concat(v);Object(ut.a)("object"===at()(a)?a:void 0,"object"===at()(a));var g=function(e){var t=e.onOpenComplete,n=e.onCloseComplete,r=Object(c.useRef)(null),o=Object(c.useCallback)((function(e){"entering"===e&&t&&t(r.current,!0),"exiting"===e&&n&&n(r.current)}),[t,n]);return[r,o]}({onOpenComplete:f,onCloseComplete:d}),y=ot()(g,2),O=y[0],w=y[1],k=Object(c.useMemo)((function(){return{testId:m,titleId:b,onClose:l}}),[m,b,l]);return Object(u.d)(xt,{stackIndex:s,shouldScrollInViewport:i,testId:m},Object(u.d)(ft.a.Provider,{value:k},Object(u.d)(ft.b.Provider,{value:i},Object(u.d)(tt.a,{entranceDirection:"bottom",onFinish:w},(function(e){return Object(u.d)(lt.a,null,Object(u.d)("section",o()({},e,{ref:Object(st.a)([e.ref,O]),style:{"--modal-dialog-width":pt(n),"--modal-dialog-height":(t=p,t?"number"==typeof t?"".concat(t,"px"):t:"auto")},css:[St,i?jt:Ct],role:"dialog","aria-labelledby":b,"data-testid":m,"data-modal-stack":s,tabIndex:-1,"aria-modal":!0}),h));var t})))))},_t=n(302);var At=n(399),Pt=n(493),It=[];function Mt(e){var t,n,r=e.onStackChange,o=Object(Pt.b)().isExiting,i=Object(At.a)(0),a=ot()(i,2),s=a[0],u=a[1],l=s.current,d=(t=s.current,n=Object(c.useRef)(),Object(c.useEffect)((function(){n.current=t}),[t]),n.current),f=Object(_t.a)((function(){var e=It.indexOf(f);s.current!==e&&(u(e),s.current=e)}));return Object(c.useEffect)((function(){var e=It.indexOf(f);o||-1!==e||It.unshift(f),o&&-1!==e&&It.splice(e,1),It.forEach((function(e){return e()}))}),[f,o]),Object(c.useEffect)((function(){return function(){var e=It.indexOf(f);-1!==e&&(It.splice(e,1),It.forEach((function(e){return e()})))}}),[f]),Object(c.useEffect)((function(){void 0!==d&&d!==l&&r(l)}),[r,d,l]),l}var Rt=n(155);function Nt(){var e,t;return window.pageYOffset||(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}var Dt=["autoFocus","shouldCloseOnEscapePress","shouldCloseOnOverlayClick","shouldScrollInViewport","stackIndex","onClose","onStackChange","isBlanketHidden","testId"],Lt=Object(u.c)({width:"100vw",height:"100vh",position:"fixed",top:0,left:0,overflowY:"auto",WebkitOverflowScrolling:"touch"});t.a=function(e){var t=e.autoFocus,n=void 0===t||t,r=e.shouldCloseOnEscapePress,i=void 0===r||r,s=e.shouldCloseOnOverlayClick,l=void 0===s||s,d=e.shouldScrollInViewport,f=void 0!==d&&d,p=e.stackIndex,h=e.onClose,m=void 0===h?He.a:h,v=e.onStackChange,b=void 0===v?He.a:v,g=e.isBlanketHidden,y=e.testId,O=a()(e,Dt),w=Mt({onStackChange:b}),k=p||w,E=0===k,x="boolean"==typeof n&&n,S=Object(Fe.a)({fn:m,action:"closed",componentName:"modalDialog",packageName:"@atlaskit/modal-dialog",packageVersion:"12.2.13"}),j=Object(c.useCallback)((function(e){l&&S(e)}),[l,S]);!function(){var e=Object(c.useState)(0),t=ot()(e,2),n=t[0],r=t[1];Object(c.useLayoutEffect)((function(){r(Nt())}),[]);var o=Object(c.useCallback)((function(){Nt()!==n&&window.scrollTo(window.pageXOffset,n)}),[n]);Object(c.useEffect)((function(){return Object(Rt.bind)(window,{type:"scroll",listener:o})}),[o])}(),Object(et.a)({onClose:S,isDisabled:!i||!E});var C=Object(u.d)(Qe,{isTinted:!g,onBlanketClicked:j,testId:y&&"".concat(y,"--blanket")},Object(u.d)(Tt,o()({testId:y,autoFocus:n,stackIndex:k,onClose:S,shouldScrollInViewport:f},O)));return Object(u.d)(nt.a,{zIndex:qe.j.modal()},Object(u.d)(tt.a,null,(function(e){return Object(u.d)("div",o()({},e,{css:Lt,"aria-hidden":!E}),Object(u.d)(De,{autoFocus:x,disabled:!E,returnFocus:!0},Object(u.d)(Be.a,null),f?Object(u.d)(Le.TouchScrollable,null,C):C))})))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(12),a=n(19),c=n.n(a),s=n(22),u=n.n(s),l=n(8),d=n.n(l),f=n(9),p=n.n(f),h=n(13),m=n.n(h),v=n(15),b=n.n(v),g=n(6),y=n.n(g),O=n(1),w=n.n(O),k=n(10),E=n.n(k),x=n(34),S=n.n(x),j=n(20),C=n.n(j);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={};function P(e){if(0===e.length||1===e.length)return e;var t,n,r=e.join(".");return A[r]||(A[r]=0===(n=(t=e).length)||1===n?t:2===n?[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])]:3===n?[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])]:n>=4?[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]:void 0),A[r]}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter((function(e){return"token"!==e})),o=P(r);return o.reduce((function(e,t){return _(_({},e),n[t])}),t)}function M(e){return e.join(" ")}function R(e){var t=e.node,n=e.stylesheet,r=e.style,i=void 0===r?{}:r,a=e.useInlineStyles,c=e.key,s=t.properties,l=t.type,d=t.tagName,f=t.value;if("text"===l)return f;if(d){var p,h=function(e,t){var n=0;return function(r){return n+=1,r.map((function(r,o){return R({node:r,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(o)})}))}}(n,a);if(a){var m=Object.keys(n).reduce((function(e,t){return t.split(".").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),v=s.className&&s.className.includes("token")?["token"]:[],b=s.className&&v.concat(s.className.filter((function(e){return!m.includes(e)})));p=_(_({},s),{},{className:M(b)||void 0,style:I(s.className,Object.assign({},s.style,i),n)})}else p=_(_({},s),{},{className:M(s.className)});var g=h(t.children);return o.a.createElement(d,u()({key:c},p),g)}}var N=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=/\n/g;function F(e){var t=e.codeString,n=e.codeStyle,r=e.containerStyle,i=void 0===r?{float:"left",paddingRight:"10px"}:r,a=e.numberStyle,c=void 0===a?{}:a,s=e.startingLineNumber;return o.a.createElement("code",{style:Object.assign({},n,i)},function(e){var t=e.lines,n=e.startingLineNumber,r=e.style;return t.map((function(e,t){var i=t+n;return o.a.createElement("span",{key:"line-".concat(t),className:"react-syntax-highlighter-line-number",style:"function"==typeof r?r(i):r},"".concat(i,"\n"))}))}({lines:t.replace(/\n$/,"").split("\n"),style:c,startingLineNumber:s}))}function z(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function U(e,t,n){var r,o={display:"inline-block",minWidth:(r=n,"".concat(r.toString().length,".25em")),paddingRight:"1em",textAlign:"right",userSelect:"none"},i="function"==typeof e?e(t):e;return L(L({},o),i)}function H(e){var t=e.children,n=e.lineNumber,r=e.lineNumberStyle,o=e.largestLineNumber,i=e.showInlineLineNumbers,a=e.lineProps,c=void 0===a?{}:a,s=e.className,u=void 0===s?[]:s,l=e.showLineNumbers,d=e.wrapLongLines,f="function"==typeof c?c(n):c;if(f.className=u,n&&i){var p=U(r,n,o);t.unshift(z(n,p))}return d&l&&(f.style=L(L({},f.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:f,children:t}}function W(e,t,n,r,o,i,a,c,s){var u,l=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=0;o<t.length;o++){var i=t[o];if("text"===i.type)r.push(H({children:[i],className:C()(new Set(n))}));else if(i.children){var a=n.concat(i.properties.className);e(i.children,a).forEach((function(e){return r.push(e)}))}}return r}(e.value),d=[],f=-1,p=0;function h(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return H({children:e,lineNumber:t,lineNumberStyle:c,largestLineNumber:a,showInlineLineNumbers:o,lineProps:n,className:i,showLineNumbers:r,wrapLongLines:s})}function m(e,t){if(r&&t&&o){var n=U(c,t,a);e.unshift(z(t,n))}return e}function v(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||r.length>0?h(e,n,r):m(e,n)}for(var b=function(){var e=l[p],t=e.children[0].value;if(t.match(B)){var n=t.split("\n");n.forEach((function(t,o){var a=r&&d.length+i,c={type:"text",value:"".concat(t,"\n")};if(0===o){var s=v(l.slice(f+1,p).concat(H({children:[c],className:e.properties.className})),a);d.push(s)}else if(o===n.length-1){var u=l[p+1]&&l[p+1].children&&l[p+1].children[0],h={type:"text",value:"".concat(t)};if(u){var m=H({children:[h],className:e.properties.className});l.splice(p+1,0,m)}else{var b=v([h],a,e.properties.className);d.push(b)}}else{var g=v([c],a,e.properties.className);d.push(g)}})),f=p}p++};p<l.length;)b();if(f!==l.length-1){var g=l.slice(f+1,l.length);if(g&&g.length){var y=v(g,r&&d.length+i);d.push(y)}}return t?d:(u=[]).concat.apply(u,d)}function V(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map((function(e,t){return R({node:e,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(t)})}))}function q(e){return e&&void 0!==e.highlightAuto}var G=function(e,t){return function(n){var r=n.language,i=n.children,a=n.style,c=void 0===a?t:a,s=n.customStyle,u=void 0===s?{}:s,l=n.codeTagProps,d=void 0===l?{className:r?"language-".concat(r):void 0,style:L(L({},c['code[class*="language-"]']),c['code[class*="language-'.concat(r,'"]')])}:l,f=n.useInlineStyles,p=void 0===f||f,h=n.showLineNumbers,m=void 0!==h&&h,v=n.showInlineLineNumbers,b=void 0===v||v,g=n.startingLineNumber,y=void 0===g?1:g,O=n.lineNumberContainerStyle,w=n.lineNumberStyle,k=void 0===w?{}:w,E=n.wrapLines,x=n.wrapLongLines,j=void 0!==x&&x,C=n.lineProps,T=void 0===C?{}:C,_=n.renderer,A=n.PreTag,P=void 0===A?"pre":A,I=n.CodeTag,M=void 0===I?"code":I,R=n.code,D=void 0===R?(Array.isArray(i)?i[0]:i)||"":R,B=n.astGenerator,z=S()(n,N);B=B||e;var U=m?o.a.createElement(F,{containerStyle:O,codeStyle:d.style||{},numberStyle:k,startingLineNumber:y,codeString:D}):null,H=c.hljs||c['pre[class*="language-"]']||{backgroundColor:"#fff"},G=q(B)?"hljs":"prismjs",K=p?Object.assign({},z,{style:Object.assign({},H,u)}):Object.assign({},z,{className:z.className?"".concat(G," ").concat(z.className):G,style:Object.assign({},u)});if(d.style=L(L({},d.style),{},j?{whiteSpace:"pre-wrap"}:{whiteSpace:"pre"}),!B)return o.a.createElement(P,K,U,o.a.createElement(M,d,D));(void 0===E&&_||j)&&(E=!0),_=_||V;var $=[{type:"text",value:D}],Y=function(e){var t=e.astGenerator,n=e.language,r=e.code,o=e.defaultCodeValue;if(q(t)){var i=function(e,t){return-1!==e.listLanguages().indexOf(t)}(t,n);return"text"===n?{value:o,language:"text"}:i?t.highlight(n,r):t.highlightAuto(r)}try{return n&&"text"!==n?{value:t.highlight(r,n)}:{value:o}}catch(e){return{value:o}}}({astGenerator:B,language:r,code:D,defaultCodeValue:$});null===Y.language&&(Y.value=$);var X=W(Y,E,T,m,b,y,Y.value.length+y,k,j);return o.a.createElement(P,K,o.a.createElement(M,d,!b&&U,_({rows:X,stylesheet:c,useInlineStyles:p})))}};function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var $,Y,X,J,Z,Q,ee,te=(Y=($={loader:function(){return n.e(159).then(n.t.bind(null,1990,7)).then((function(e){return e.default||e}))},noAsyncLoadingLanguages:!0,supportedLanguages:["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","bash","basic","batch","bbcode","bicep","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","clike","clojure","cmake","cobol","coffeescript","concurnas","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gherkin","git","glsl","gml","gn","go-module","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","matlab","maxscript","mel","mermaid","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stylus","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"]}).loader,X=$.isLanguageRegistered,J=$.registerLanguage,Z=$.languageLoaders,Q=$.noAsyncLoadingLanguages,ee=function(e){m()(r,e);var t,n=K(r);function r(){return d()(this,r),n.apply(this,arguments)}return p()(r,[{key:"componentDidUpdate",value:function(){!r.isRegistered(this.props.language)&&Z&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var e=this;r.astGeneratorPromise||r.loadAstGenerator(),r.astGenerator||r.astGeneratorPromise.then((function(){e.forceUpdate()})),!r.isRegistered(this.props.language)&&Z&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var e=this,t=this.props.language;"text"!==t&&r.loadLanguage(t).then((function(){return e.forceUpdate()})).catch((function(){}))}},{key:"normalizeLanguage",value:function(e){return r.isSupportedLanguage(e)?e:"text"}},{key:"render",value:function(){return o.a.createElement(r.highlightInstance,u()({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:r.astGenerator}))}}],[{key:"preload",value:function(){return r.loadAstGenerator()}},{key:"loadLanguage",value:(t=c()(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(n=Z[t])){e.next=5;break}return e.abrupt("return",n(r.registerLanguage));case 5:throw new Error("Language ".concat(t," not supported"));case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"isSupportedLanguage",value:function(e){return r.isRegistered(e)||"function"==typeof Z[e]}},{key:"loadAstGenerator",value:function(){return r.astGeneratorPromise=Y().then((function(e){r.astGenerator=e,J&&r.languages.forEach((function(t,n){return J(e,n,t)}))})),r.astGeneratorPromise}}]),r}(o.a.PureComponent),w()(ee,"astGenerator",null),w()(ee,"highlightInstance",G(null,{})),w()(ee,"astGeneratorPromise",null),w()(ee,"languages",new Map),w()(ee,"supportedLanguages",$.supportedLanguages||Object.keys(Z||{})),w()(ee,"isRegistered",(function(e){if(Q)return!0;if(!J)throw new Error("Current syntax highlighter doesn't support registration of languages");return ee.astGenerator?X(ee.astGenerator,e):ee.languages.has(e)})),w()(ee,"registerLanguage",(function(e,t){if(!J)throw new Error("Current syntax highlighter doesn't support registration of languages");if(ee.astGenerator)return J(ee.astGenerator,e,t);ee.languages.set(e,t)})),ee),ne=n(280),re=n(21),oe=n.n(re);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce={"data-ds--code--row":""},se=function(e,t){return t?ae({"data-testid":"".concat(t,"-line-").concat(e)},ce):ce},ue=n(494),le=n(96),de=n(700),fe=Object(le.a)((function(e){if(!e)return"";var t=de.a.find((function(t){return t.name===e||t.alias.includes(e)}));return t?t.value:"text"})),pe=n(1231),he=n(327);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be={};function ge(e){if(0===e.length||1===e.length)return e;var t,n,r=e.join(".");return be[r]||(be[r]=0===(n=(t=e).length)||1===n?t:2===n?[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])]:3===n?[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])]:n>=4?[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]:void 0),be[r]}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter((function(e){return"token"!==e})),o=ge(r);return o.reduce((function(e,t){return ve(ve({},e),n[t])}),t)}function Oe(e){return e.join(" ")}function we(e){var t=e.node,n=e.stylesheet,r=e.style,i=void 0===r?{}:r,a=e.useInlineStyles,c=e.codeBidiWarningConfig,s=e.key,l=t.properties,d=t.type,f=t.tagName,p=t.value;if("text"===d){var h=p+"";return Object(he.a)(h,(function(e){var t=e.bidiCharacter,n=e.index;return o.a.createElement(pe.a,{bidiCharacter:t,key:n,label:c.codeBidiWarningLabel,tooltipEnabled:c.codeBidiWarningTooltipEnabled})}))}if(f){var m,v=function(e,t,n){var r=0;return function(o){return r+=1,o.map((function(o,i){return we({node:o,stylesheet:e,useInlineStyles:t,codeBidiWarningConfig:n,key:"code-segment-".concat(r,"-").concat(i)})}))}}(n,a,c);if(a){var b=Object.keys(n).reduce((function(e,t){return t.split(".").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),g=l.className&&l.className.includes("token")?["token"]:[],y=l.className&&g.concat(l.className.filter((function(e){return!b.includes(e)})));m=ve(ve({},l),{},{className:Oe(y)||void 0,style:ye(l.className,Object.assign({},l.style,i),n)})}else m=ve(ve({},l),{},{className:Oe(l.className)});var O=v(t.children);return o.a.createElement(f,u()({key:s},m),O)}}var ke=Object(r.memo)((function(e){var t,n=e.showLineNumbers,o=void 0===n||n,a=e.language,c=void 0===a?"text":a,s=e.highlight,u=void 0===s?"":s,l=e.highlightedStartText,d=void 0===l?"Highlight start":l,f=e.highlightedEndText,p=void 0===f?"Highlight end":f,h=e.testId,m=e.text,v=e.codeBidiWarnings,b=void 0===v||v,g=e.codeBidiWarningLabel,y=e.codeBidiWarningTooltipEnabled,O=void 0===y||y,w=(m||"").split("\n").length,k=Object(ne.b)(),E=Object(r.useMemo)((function(){return Object(ue.b)(k,w)}),[k,w]),x=Object(r.useMemo)((function(){return Object(ue.a)(E)}),[E]),S=Object(r.useMemo)((function(){return x(d,p,o)}),[d,p,o,x]),j=function(e){var t=e.highlight,n=void 0===t?"":t,o=e.testId,i=Object(r.useMemo)((function(){return n&&n.split(",").map((function(e){if(e.indexOf("-")>0){var t=e.split("-").map(Number).sort((function(e,t){return e-t})),n=oe()(t,2),r=n[0],o=n[1];return Array(o+1).fill(void 0).map((function(e,t){return t})).slice(r,o+1)}return Number(e)})).reduce((function(e,t){return e.concat(t)}),[])||[]}),[n]);return{getHighlightStyles:Object(r.useCallback)((function(e,t){if(!n||0===t.length)return se(e,o);if(t.includes(e)){return ae(ae({},{"data-ds--code--row--highlight":""}),se(e,o))}return se(e,o)}),[n,o]),highlightedLines:i}}({highlight:u,testId:h}),C=j.getHighlightStyles,T=j.highlightedLines,_=Object(r.useCallback)((function(e){return C(e,T)}),[C,T]),A=Object(r.useMemo)((function(){return fe(c)}),[c]),P=m?A:"text",I=b?(t={codeBidiWarningLabel:g,codeBidiWarningTooltipEnabled:O},function(e){var n=e.rows,r=e.stylesheet,o=e.useInlineStyles;return n.map((function(e,n){return we({node:e,stylesheet:r,useInlineStyles:o,codeBidiWarningConfig:t,key:"code-segement".concat(n)})}))}):void 0;return Object(i.d)(te,{"data-testid":h,"data-code-lang":A,"data-ds--code--code-block":"",css:S,language:P,PreTag:"span",showLineNumbers:o,wrapLines:u.length>0||!!h,lineProps:_,useInlineStyles:!1,renderer:I},m)}));ke.displayName="CodeBlock";t.a=ke},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),o=n.n(r),i=n(68),a=function(){var e=document.querySelector("body > .atlaskit-portal-container");if(!e){var t=document.createElement("div");return t.className="atlaskit-portal-container",t.style.display="flex",document.body.appendChild(t),t}return e};function c(e){var t=e.zIndex,n=e.children,o=Object(r.useMemo)((function(){return function(e){var t=document.createElement("div");return t.className="atlaskit-portal",t.style.zIndex="".concat(e),t}(t)}),[t]);return function(e){e.parentElement||a().appendChild(e)}(o),Object(r.useEffect)((function(){return function(){!function(e){a().removeChild(e)}(o)}}),[o]),Object(i.createPortal)(n,o)}var s=n(21),u=n.n(s),l=function(){var e=Object(r.useState)(!1),t=u()(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){o(!0)}),[]),n},d={100:"card",200:"navigation",300:"dialog",400:"layer",500:"blanket",510:"modal",600:"flag",700:"spotlight",800:"tooltip"},f=function(e){return d.hasOwnProperty(e)?d[e]:null};function p(e,t){var n=function(e,t){var n={layer:f(Number(t)),zIndex:t};return new CustomEvent(e,{detail:n})}(e,t);window.dispatchEvent(n)}var h=function(e){var t=Number(e);Object(r.useEffect)((function(){return p("akPortalMount",t),function(){p("akPortalUnmount",t)}}),[t])};function m(e){var t=e.zIndex,n=void 0===t?0:t,r=e.children,i=l();return h(n),i?o.a.createElement(c,{zIndex:n},r):null}},function(e,t,n){"use strict";var r=n(21),o=n.n(r),i=n(22),a=n.n(i),c=n(1),s=n.n(c),u=n(0),l=n.n(u),d=n(12),f=n(1221),p=n(34),h=n.n(p),m=n(682),v=["maxWidth","minWidth"],b=function(e){var t=e.maxWidth,n=void 0===t?800:t,r=e.minWidth,o=void 0===r?320:r,i=h()(e,v);return Object(d.d)(m.a,a()({maxWidth:n,minWidth:o},i))},g=n(1228),y=n(516),O=n(16),w=n(1092),k=n(1195),E=n(1069),x=n(1196),S=["href","onClick"],j=["children"],C=function(e){var t=e.avatar,n=e.onAvatarClick,r=e.testId,o=e.index,i=t.href,c=t.onClick,s=h()(t,S),u=l.a.createElement(f.a,a()({},s,{testId:r&&"".concat(r,"--avatar"),borderColor:"transparent",size:"small",name:""})),d=c||n;return i?l.a.createElement(k.a,{href:i,target:t.target,rel:"_blank"===t.target?"noopener noreferrer":void 0,iconBefore:u,testId:r,onClick:function(e){return d&&d(e,void 0,o)}},t.name):"function"==typeof d?l.a.createElement(E.a,{onClick:function(e){return d&&d(e,void 0,o)},iconBefore:u,testId:r},t.name):l.a.createElement(x.a,{iconBefore:u,component:function(e){var t=e.children,n=h()(e,j);return l.a.createElement("span",n,t)},testId:r},t.name)},T=Object(O.i)(),_=T/2,A=Object(d.c)({display:"flex",margin:0,marginRight:-_,marginLeft:-_,padding:0,justifyContent:"flex-start",flexWrap:"wrap",lineHeight:1,listStyleType:"none !important"}),P=Object(d.c)({margin:0,marginBottom:T,paddingRight:_,paddingLeft:_}),I=function(e){var t=e.children,n=e.testId,r=e["aria-label"];return Object(d.d)("ul",{"data-testid":n,"aria-label":r,css:A},u.Children.map(t,(function(e){return e&&Object(d.d)("li",{css:P},e)})))},M=n(115),R=n(3),N=["testId","className","ref"],D={xsmall:"10px",small:"10px",medium:"11px",large:"12px",xlarge:"16px",xxlarge:"16px"},L=Object(d.c)({"&&":{backgroundColor:"var(--ds-background-selected, ".concat(R.B50,")"),boxShadow:"0 0 0 ".concat(M.d,"px ","var(--ds-border-selected, ".concat(R.B300,")")),color:"var(--ds-text-selected, ".concat(R.B400,")"),transform:"scale(".concat(M.a,")")}}),B=Object(d.c)({"&&":{backgroundColor:"var(--ds-background-neutral, ".concat(R.N20,")"),color:"var(--ds-text, ".concat(R.N500,")"),fontFamily:"inherit",fontWeight:500,"&:hover":{backgroundColor:"var(--ds-background-neutral-hovered, ".concat(R.N30,")"),color:"var(--ds-text, ".concat(R.N500,")"),"&:after":{backgroundColor:"var(--ds-background-neutral-hovered, ".concat(R.N30A,")"),opacity:1}},"&:active":{backgroundColor:"var(--ds-background-neutral-pressed, ".concat(R.B50,")"),color:"var(--ds-text, ".concat(R.B400,")"),"&:after":{backgroundColor:"transparent"}}}}),F=Object(u.forwardRef)((function(e,t){var n=e.appearance,r=void 0===n?"circle":n,o=e.borderColor,i=void 0===o?"var(--ds-border-inverse, ".concat(R.N0,")"):o,c=e.size,s=void 0===c?"medium":c,l=e.count,p=void 0===l?0:l,m=e.testId,v=e.onClick,b=e["aria-controls"],g=e["aria-expanded"],y=e["aria-haspopup"],O=e.buttonProps,w=void 0===O?{}:O,k=e.isActive,E=Object(u.useCallback)((function(e,t){w.onClick&&w.onClick(e),v(e,t)}),[w.onClick,v]);return Object(d.d)(f.a,{appearance:r,size:s,borderColor:i,ref:t,onClick:E},(function(e){e.testId;var t=e.className,n=e.ref,r=h()(e,N);return Object(d.d)("button",a()({type:"submit"},w,r,{ref:n,"data-testid":m,"aria-controls":b,"aria-expanded":g,"aria-haspopup":y,style:{fontSize:D[s]},css:[B,k&&L],className:t}),"+",p>99?99:p)}))}));F.displayName="MoreIndicator";var z=F,U=2*M.d+Object(O.i)()/2,H=Object(d.c)({display:"flex",margin:0,marginRight:U,padding:0,lineHeight:1,listStyleType:"none !important"}),W=Object(d.c)({margin:0,marginRight:-U}),V=function(e){var t=e.children,n=e.testId,r=e["aria-label"];return Object(d.d)("ul",{"data-testid":n,"aria-label":r,css:H},u.Children.map(t,(function(e){return e&&Object(d.d)("li",{css:W},e)})))},q=function(e,t){return e.key?e.key:t};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={grid:11,stack:5};function Y(e){return{AvatarGroupItem:K({render:function(e,t,n){return Object(d.d)(e,a()({},t,{key:q(t.avatar,n)}))}},e&&e.AvatarGroupItem),Avatar:K({render:function(e,t,n){return Object(d.d)(e,a()({},t,{key:q(t,n)}))}},e&&e.Avatar)}}t.a=function(e){var t=e.appearance,n=void 0===t?"stack":t,r=e.avatar,i=void 0===r?f.a:r,c=e.borderColor,s=e.boundariesElement,l=e.data,p=e.isTooltipDisabled,h=e.maxCount,m=e.onAvatarClick,v=e.onMoreClick,k=e.overrides,E=e.showMoreButtonProps,x=void 0===E?{}:E,S=e.size,j=void 0===S?"medium":S,T=e.testId,_=e.label,A=void 0===_?"avatar group":_,P=Object(u.useState)(!1),M=o()(P,2),R=M[0],N=M[1],D=Object(u.useCallback)((function(){return N(!1)}),[]);var L=void 0===h||0===h?$[n]:h,B=l.length,F=B>L?L-1:L,U="stack"===n?V:I;return Object(d.d)(U,{testId:T&&"".concat(T,"--avatar-group"),"aria-label":A},l.slice(0,F).map((function(e,t){var n=e.onClick||m,r=Y(k).Avatar.render(i,K(K({},e),{},{size:j,borderColor:c,testId:T&&"".concat(T,"--avatar-").concat(t),onClick:n?function(e,r){n(e,r,t)}:void 0,stackIndex:L-t}),t);return p||e.isDisabled?r:Object(d.d)(w.a,{key:q(e,t),content:e.name,testId:T&&"".concat(T,"--tooltip-").concat(t)},r)})),function(e,t){if(t<=e)return null;var n=function(n){return Object(d.d)(z,a()({buttonProps:x,borderColor:c,count:t-e,size:j,testId:T&&"".concat(T,"--overflow-menu--trigger"),isActive:R},n))};if("function"==typeof v)return n({onClick:v});var r="scrollParent"===s?"clippingParents":void 0,o=function(){if("scrollParent"!==s)return"window"===s?"document":"viewport"}();return Object(d.d)(y.a,{isOpen:R,onClose:D,placement:"bottom-end",boundary:r,rootBoundary:o,shouldFlip:!0,zIndex:O.j.modal(),content:function(){return Object(d.d)(b,{onClick:function(e){return e.stopPropagation()},minWidth:250,maxHeight:300},Object(d.d)(g.a,null,l.slice(e).map((function(t,n){return Y(k).AvatarGroupItem.render(C,{avatar:t,onAvatarClick:m,testId:T&&"".concat(T,"--avatar-group-item-").concat(n+e),index:n+e},n+e)}))))},trigger:function(e){return n(K(K({},e),{},{onClick:function(){return N(!R)}}))},testId:T&&"".concat(T,"--overflow-menu")})}(+F,B))}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(1),s=n.n(c),u=n(0),l=n.n(u),d=n(683),f=n(390),p=n(21),h=n.n(p),m=n(12),v=n(389),b=function(e){switch(e.cleanup){case"next-effect":return;case"unmount":default:return[]}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:"unmount"},t=Object(u.useRef)([]);return Object(u.useEffect)((function(){return function(){t.current.length&&(t.current.forEach((function(e){return clearTimeout(e)})),t.current=[])}}),b(e)),Object(u.useCallback)((function(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=setTimeout.apply(void 0,[function(){t.current=t.current.filter((function(e){return e!==a})),e()},n].concat(o));t.current.push(a)}),[])},y=n(493);"undefined"==typeof window?u.useEffect:u.useLayoutEffect;var O=Object(u.createContext)((function(){return{isReady:!0,delay:0,ref:function(){}}})),w=function(){var e,t=((e=Object(u.useRef)("")).current||(e.current="_"+(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)),e.current);return Object(u.useContext)(O)(t)};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.children,n=e.animationTimingFunction,r=e.enteringAnimation,o=e.exitingAnimation,i=e.isPaused,a=e.onFinish,c=e.duration,s=void 0===c?f.a:c,d=w(),p=Object(y.b)(),b=p.isExiting,O=p.onFinish,k=p.appear,x=g(),S=i||!d.isReady,j=b?0:d.delay,C=b?"exiting":"entering",T=Object(u.useState)(k),_=h()(T,2),A=_[0],P=_[1];return Object(u.useEffect)((function(){var e=!1;if(!S){if(k)return P(!0),x((function(){"exiting"===C&&O&&O(),e||P(!1),a&&a(C)}),b?.5*s:s+j),function(){e=!0};a&&a(C)}}),[O,C,b,s,j,S,x]),l.a.createElement(m.a,null,(function(e){var i=e.css;return t({ref:d.ref,className:A?i(E({animationName:"".concat(Object(m.e)(b&&o||r)),animationTimingFunction:n(C),animationDelay:"".concat(j,"ms"),animationFillMode:b?"forwards":"backwards",animationDuration:"".concat(b?.5*s:s,"ms"),animationPlayState:S?"paused":"running"},Object(v.b)())):""},C)}))},S=["children","duration","entranceDirection","exitDirection","distance"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={proportional:{bottom:"translate3d(0, calc(5% + 4px), 0)",left:"translate3d(calc(-5% - 4px), 0, 0)",right:"translate3d(calc(5% + 4px), 0, 0)",top:"translate3d(0, calc(-5% - 4px), 0)"},constant:{bottom:"translate3d(0, 4px, 0)",left:"translate3d(-4px, 0, 0)",right:"translate3d(4px, 0, 0)",top:"translate3d(0, -4px, 0)"}},_={top:"bottom",bottom:"top",left:"right",right:"left"},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proportional";return{from:C({opacity:0},void 0!==e&&{transform:T[t][e]}),"50%":{opacity:1},to:{transform:void 0!==e?"none":void 0}}},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proportional";return{from:{opacity:1,transform:void 0!==e?"translate3d(0, 0, 0)":void 0},to:C({opacity:0},void 0!==e&&{transform:T[t][e]})}};t.a=function(e){var t=e.children,n=e.duration,r=void 0===n?f.a:n,i=e.entranceDirection,c=e.exitDirection,s=e.distance,u=void 0===s?"proportional":s,p=a()(e,S),h=i&&_[i];return l.a.createElement(x,o()({duration:r,enteringAnimation:A(i,u),exitingAnimation:P(c||h,u),animationTimingFunction:function(){return d.a}},p),t)}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(45),a=n.n(i),c=n(7),s=n.n(c),u=n(0),l=n.n(u),d=n(12),f=n(238),p=n(3),h=n(21),m=n.n(h),v=n(679),b=n.n(v),g=n(680),y=n.n(g),O=n(115),w="var(--ds-icon-inverse, ".concat(Object(p.background)(),")"),k="var(--ds-icon-subtle, ".concat(p.N90,")"),E=Object(d.c)({display:"block",width:"100%",height:"100%",backgroundColor:k}),x=Object(d.c)({display:"flex",width:"100%",height:"100%",flex:"1 1 100%"}),S=function(e){var t=e.alt,n=void 0===t?"":t,r=e.src,o=e.appearance,i=e.size,a=e.testId,c=Object(u.useState)(!1),s=m()(c,2),l=s[0],f=s[1],p="circle"===o?"50%":"".concat(O.b[i],"px");return Object(u.useEffect)((function(){f(!1)}),[r]),!r||l?Object(d.d)("span",{css:[E,{"& svg":{width:"".concat(O.c[i],"px"),height:"".concat(O.c[i],"px")}}]},"circle"===o?Object(d.d)(b.a,{label:n,primaryColor:w,secondaryColor:k,testId:a&&"".concat(a,"--person")}):Object(d.d)(y.a,{label:n,primaryColor:w,secondaryColor:k,testId:a&&"".concat(a,"--ship")})):Object(d.d)("img",{src:r,alt:n,"data-testid":a&&"".concat(a,"--image"),css:x,style:{borderRadius:p},onError:function(){return f(!0)}})},j=Object(d.c)({display:"flex",boxSizing:"border-box",width:"100%",height:"100%",alignItems:"center",alignContent:"center",borderRadius:"50%",overflow:"hidden"}),C=function(e){var t=e.bgColor,n=void 0===t?"var(--ds-surface-overlay, ".concat(Object(p.background)(),")"):t,r=e.children;return Object(d.d)("span",{css:j,style:{border:"".concat(O.d,"px solid ").concat(n),backgroundColor:n}},r)},T=l.a.createElement(u.Fragment,null,l.a.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(p.R300,")"),cx:"4",cy:"4",r:"4"}),l.a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Object(p.background)(),")"),d:"M3.3,1.9l2.8,2.8c0.2,0.2,0.2,0.5,0,0.7L5.4,6.1c-0.2,0.2-0.5,0.2-0.7,0L1.9,3.3c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7C2.8,1.7,3.1,1.7,3.3,1.9z"})),_=l.a.createElement(u.Fragment,null,l.a.createElement("path",{fill:"var(--ds-icon-discovery, ".concat(Object(p.purple)(),")"),d:"M4,8 C1.790861,8 0,6.209139 0,4 C0,1.790861 1.790861,0 4,0 C6.209139,0 8,1.790861 8,4 C8,6.209139 6.209139,8 4,8 Z M4,6.66666667 C5.47275933,6.66666667 6.66666667,5.47275933 6.66666667,4 C6.66666667,2.52724067 5.47275933,1.33333333 4,1.33333333 C2.52724067,1.33333333 1.33333333,2.52724067 1.33333333,4 C1.33333333,5.47275933 2.52724067,6.66666667 4,6.66666667 Z M4,5.33333333 C3.26362033,5.33333333 2.66666667,4.73637967 2.66666667,4 C2.66666667,3.26362033 3.26362033,2.66666667 4,2.66666667 C4.73637967,2.66666667 5.33333333,3.26362033 5.33333333,4 C5.33333333,4.73637967 4.73637967,5.33333333 4,5.33333333 Z"})),A=l.a.createElement(u.Fragment,null,l.a.createElement("path",{fill:"var(--ds-text-subtlest, ".concat(p.N200,")"),d:"M4,8 C6.209139,8 8,6.209139 8,4 C8,1.790861 6.209139,0 4,0 C1.790861,0 0,1.790861 0,4 C0,6.209139 1.790861,8 4,8 Z M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"}),l.a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(p.N40,")"),d:"M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"})),P=l.a.createElement("circle",{fill:"var(--ds-icon-success, ".concat(p.G300,")"),cx:"4",cy:"4",r:"4"});var I=function(e){var t=e.borderColor,n=e.children,r=e.presence;return l.a.createElement(C,{bgColor:t},r?l.a.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"busy":return T;case"focus":return _;case"offline":return A;case"online":return P}}(r)):n)},M=function(e){var t=e.size,n=e.appearance,r=e.children,o=e.borderColor,i=e.presence,a=e.testId,c="square"===n?-4:O.e[t];return l.a.createElement("span",{"data-testid":a&&"".concat(a,"--presence"),style:{pointerEvents:"none",position:"absolute",bottom:"".concat(c,"px"),height:"".concat(O.f[t],"px"),right:"".concat(c,"px"),width:"".concat(O.f[t],"px")}},l.a.createElement(I,{borderColor:o,presence:!r&&i},r))},R=l.a.createElement(u.Fragment,null,l.a.createElement("circle",{fill:"var(--ds-icon-success, ".concat(p.G400,")"),cx:"4",cy:"4",r:"4"}),l.a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Object(p.background)(),")"),d:"M2.47140452,3.52859548 C2.21105499,3.26824595 1.78894501,3.26824595 1.52859548,3.52859548 C1.26824595,3.78894501 1.26824595,4.21105499 1.52859548,4.47140452 L2.86192881,5.80473785 C3.12227834,6.06508738 3.54438833,6.06508738 3.80473785,5.80473785 L6.47140452,3.13807119 C6.73175405,2.87772166 6.73175405,2.45561167 6.47140452,2.19526215 C6.21105499,1.93491262 5.78894501,1.93491262 5.52859548,2.19526215 L3.33333333,4.39052429 L2.47140452,3.52859548 Z"})),N=l.a.createElement(u.Fragment,null,l.a.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(p.R400,")"),cx:"4",cy:"4",r:"4"}),l.a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Object(p.background)(),")"),d:"M4.890661,4.0088336 L5.81806461,3.07802178 C6.06167933,2.83351177 6.06048933,2.43826992 5.81540668,2.19522442 C5.57032402,1.95217891 5.17415651,1.95336612 4.93054179,2.19787613 L4.00765946,3.12415007 L3.06906871,2.18377143 C2.82523777,1.93947602 2.42906937,1.93863765 2.18420182,2.18189887 C1.93933427,2.42516008 1.93849394,2.82040282 2.18232488,3.06469822 L3.12544091,4.00961077 L2.20275024,4.93569234 C1.95913552,5.18020236 1.96032551,5.5754442 2.20540817,5.81848971 C2.45049083,6.06153521 2.84665833,6.060348 3.09027306,5.81583799 L4.00844245,4.89429431 L4.9092123,5.79678001 C5.15304324,6.04107541 5.54921164,6.04191379 5.79407919,5.79865257 C6.03894674,5.55539135 6.03978708,5.16014862 5.79595614,4.91585321 L4.890661,4.0088336 Z"})),D=l.a.createElement(u.Fragment,null,l.a.createElement("circle",{fill:"var(--ds-text-subtlest, ".concat(p.N40,")"),cx:"4",cy:"4",r:"4"}),l.a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(p.N500,")"),d:"M4.13074827,1.21766493 L4.10368158,1.21766493 C3.36340745,1.21766493 2.76388015,1.80793503 2.76388015,2.5367787 L2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,2.54344089 C3.44054754,2.17901906 3.74031119,1.88388401 4.11044825,1.88388401 L4.1239816,1.88388401 C4.49411866,1.88388401 4.79388232,2.17901906 4.79388232,2.54344089 L4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,2.5367787 C5.47054971,1.80793503 4.8710224,1.21766493 4.13074827,1.21766493 M2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,3.88254123 L2.76388015,3.88254123 L2.76388015,3.21632216 Z M4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,3.88254123 L4.79388232,3.88254123 L4.79388232,3.21632216 Z M4.79401765,3.88254123 L3.44068287,3.88254123 L2.76401548,3.88254123 C2.39049508,3.88254123 2.08734809,4.18100738 2.08734809,4.54876031 L2.08734809,5.54808892 C2.08734809,6.10000287 2.53735205,6.54741753 3.09094491,6.54741753 L5.14375561,6.54741753 C5.69802683,6.54741753 6.14735243,6.10385072 6.14735243,5.54808892 L6.14735243,4.54876031 C6.14735243,4.18100738 5.84420544,3.88254123 5.47068504,3.88254123 L4.79401765,3.88254123 Z"}));var L,B=function(e){var t=e.borderColor,n=e.children,r=e.status;return l.a.createElement(C,{bgColor:t},r?l.a.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"approved":return R;case"declined":return N;case"locked":return D}}(r)):n)},F=function(e){var t=e.size,n=e.status,r=e.appearance,o=e.borderColor,i=e.children,a=e.testId,c="square"===r?0:O.e[t];return l.a.createElement("span",{"data-testid":a&&"".concat(a,"--status"),style:{position:"absolute",height:"".concat(O.f[t],"px"),right:"".concat(c,"px"),top:"".concat(c,"px"),width:"".concat(O.f[t],"px")}},l.a.createElement(B,{borderColor:o,status:!i&&n},i))},z=n(386);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e,t){var n=t.size,r=t.radius,o=t.appearance,i=t.borderColor,a=void 0===i?"var(--ds-surface-overlay, ".concat(p.N0,")"):i,c=t.stackIndex,u=t.isInteractive,l=t.isDisabled;return e(L||(L=s()(["\n    height: ","px;\n    width: ","px;\n    align-items: stretch;\n    background-color: ",";\n    border-radius: ",";\n    box-sizing: content-box;\n    cursor: inherit;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    outline: none;\n    overflow: hidden;\n    position: static;\n    transform: translateZ(0);\n    transition: transform 200ms, opacity 200ms;\n    box-shadow: 0 0 0 ","px ",";\n    border: none;\n    margin: ","px;\n    padding: 0;\n\n    /* Added font-size and font-family styles to fix alignment issue in firefox for interactive button avatar */\n    font-size: inherit;\n    font-family: inherit;\n\n    &::-moz-focus-inner {\n      border: 0;\n      margin: 0;\n      padding: 0;\n    }\n\n    &::after {\n      background-color: transparent;\n      bottom: 0px;\n\n      /* Added border-radius style to fix hover issue in safari */\n      border-radius: ",";\n      content: ' ';\n      left: 0px;\n      opacity: 0;\n      pointer-events: none;\n      position: absolute;\n      right: 0px;\n      top: 0px;\n      transition: opacity 200ms;\n      width: 100%;\n    }\n\n    ","\n\n    ","\n\n    ","\n  "])),n,n,a,"circle"===o?"50%":"".concat(r,"px"),O.d,a,O.d,"circle"===o?"50%":"".concat(r,"px"),c&&"position: relative;",u&&"\n      cursor: pointer;\n\n      :focus {\n        outline: none;\n        box-shadow: 0 0 0 ".concat(O.d,"px ").concat("var(--ds-border-focused, ".concat(p.B300,")"),"\n      }\n\n      :hover {\n        &::after {\n          background-color: ").concat("var(--ds-interaction-hovered, ".concat(p.N70A,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        &::after {\n          background-color: ").concat("var(--ds-interaction-pressed, ".concat(p.N70A,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        transform: scale(").concat(O.a,");\n      }\n\n      @media screen and (forced-colors: active) {\n        &:focus-visible {\n          outline: 1px solid\n        }\n      }\n    "),l&&"\n        cursor: not-allowed;\n\n        &::after {\n          opacity: 0.7;\n          pointer-events: none;\n          background-color: ".concat("var(--ds-surface, ".concat(p.N0,")"),";\n        }\n      "))},V=Object(u.forwardRef)((function(e,t){var n=e.analyticsContext,r=e.appearance,o=void 0===r?"circle":r,i=e.label,c=e.borderColor,s=e.children,l=e.href,p=e.isDisabled,h=e.name,m=e.onClick,v=e.presence,b=e.size,g=void 0===b?"medium":b,y=e.src,w=e.stackIndex,k=e.status,E=e.target,x=e.testId,j=Object(f.a)().createAnalyticsEvent,C="object"===a()(v)?v:null,T="object"===a()(k)?k:null,_="xxlarge"!==g&&"xsmall"!==g,A=Object(u.useRef)(n);Object(u.useEffect)((function(){A.current=n}),[n]);var P=Object(u.useCallback)((function(e){if(!p&&"function"==typeof m){var t=j({action:"clicked",actionSubject:"avatar",attributes:{componentName:"avatar",packageName:"@atlaskit/avatar",packageVersion:"21.0.0"}}),n=H({componentName:"avatar",packageName:"@atlaskit/avatar",packageVersion:"21.0.0"},A.current);t.context.push(n);var r=t.clone();r&&r.fire("atlaskit"),m(e,t)}}),[j,p,m]);return Object(d.d)("div",{"data-testid":x,style:{display:"inline-block",position:"relative",outline:0,zIndex:w}},Object(d.d)(d.a,null,(function(e){var n=e.css,r=H(H(H(H({className:W(n,{size:O.c[g],radius:O.b[g],appearance:o,borderColor:c,stackIndex:w,isInteractive:Boolean(l||m)&&!p,isDisabled:p})},p?{disabled:!0}:H(H({},l&&Object(z.c)(l,E)),m&&!l?Object(z.a)(P):{onClick:m})),x&&function(e,t){return t?{testId:"".concat(e,"--inner")}:{"data-testid":"".concat(e,"--inner")}}(x,s)),(m||l)&&{"aria-label":i}),{},{children:Object(d.d)(S,{alt:h,appearance:o,size:g,src:y,testId:x}),ref:t});return s?s(r):Object(u.createElement)(Object(z.b)(p,l,m),r)})),_&&v&&!k&&Object(d.d)(M,{appearance:o,size:g,presence:!C&&v,testId:x},C),_&&k&&Object(d.d)(F,{appearance:o,size:g,borderColor:c,status:!T&&k,testId:x},T))}));V.displayName="Avatar";t.a=V},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(21),a=n.n(i),c=n(1),s=n.n(c),u=n(34),l=n.n(u),d=n(0),f=n.n(d),p=n(280),h=n(424),m=n(392),v=n(745),b=["spacing"];function g(e){var t,n,r,o,i=e.spacing,a=void 0===i?"default":i,c=l()(e,b),s="default"===a?"medium":"small";return f.a.createElement(v.a,{size:s,appearance:(t=c,n=t.appearance,r=t.isDisabled,o=t.isSelected,r?"inherit":o||"primary"===n||"danger"===n?"invert":"inherit")})}var y=n(366),O=n(205);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function x(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,s=void 0!==c&&c,u=e.shouldFitContainer,l=void 0!==u&&u,d=e.iconIsOnlyChild,f=void 0!==d&&d,p=e.isLoading,h=void 0!==p&&p,m=e.state,v=Object(O.b)({appearance:n,spacing:o,mode:a,isSelected:s,shouldFitContainer:l,isOnlySingleIcon:f});v.outline="none";var b=E[m];return b&&(v=k(k({},v),v[b])),h&&(v=k(k({},v),v['&[data-has-overlay="true"]'])),Object.keys(v).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete v[e]})),v}function S(e,t){return e(t)}var j=Object(y.a)((function(e){return{buttonStyles:x(e),spinnerStyles:{}}})),C=["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,c=e.isHover,s=void 0!==c&&c,u=e.isSelected,l=void 0!==u&&u,d=e.isLoading,f=void 0!==d&&d;return n?"disabled":l&&a?"focusSelected":l?"selected":!f&&o?"active":!f&&s?"hover":a?"focus":"default"}var P={isHover:!1,isActive:!1,isFocus:!1},I=f.a.memo(f.a.forwardRef((function(e,t){var n=e.appearance,r=void 0===n?"default":n,i=e.autoFocus,c=void 0!==i&&i,s=e.isDisabled,u=void 0!==s&&s,v=e.isSelected,b=void 0!==v&&v,y=e.shouldFitContainer,O=void 0!==y&&y,w=e.spacing,k=void 0===w?"default":w,E=e.isLoading,x=void 0!==E&&E,T=e.onMouseEnter,I=e.onMouseLeave,M=e.onMouseDown,R=e.onMouseUp,N=e.onFocus,D=e.onBlur,L=e.theme,B=void 0===L?S:L,F=_({appearance:r,autoFocus:c,isDisabled:u,isSelected:b,shouldFitContainer:O,spacing:k},l()(e,C)),z=Object(d.useState)(P),U=a()(z,2),H=U[0],W=U[1],V=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isHover:!0})})),T&&T(e)}),[T]),q=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isHover:!1,isActive:!1})})),I&&I(e)}),[I]),G=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isActive:!0})})),M&&M(e)}),[M]),K=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isActive:!1})})),R&&R(e)}),[R]),$=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isFocus:!0})})),N&&N(e)}),[N]),Y=Object(d.useCallback)((function(e){W((function(e){return _(_({},e),{},{isFocus:!1})})),D&&D(e)}),[D]);return f.a.createElement(j.Provider,{value:B},f.a.createElement(p.a.Consumer,null,(function(e){var n=e.mode;return f.a.createElement(j.Consumer,o()({mode:n,state:A(_(_({},H),{},{isLoading:x,isSelected:F.isSelected,isDisabled:F.isDisabled})),iconIsOnlyChild:Object(m.a)(F),isLoading:x},F),(function(e){var n,r=e.buttonStyles;return f.a.createElement(h.a,o()({},F,{ref:t,overlay:x?f.a.createElement(g,F):null,onMouseEnter:V,onMouseLeave:q,onMouseDown:G,onMouseUp:K,onFocus:$,onBlur:Y,buttonCss:(n=r,{"&, &:hover, &:active, &:focus, &:visited, &:disabled, &[disabled]":n})}))}))})))})));I.displayName="CustomThemeButton";t.a=I},function(e,t,n){"use strict";var r=n(0),o=n(12),i=n(255),a=n(237),c=n(21),s=n.n(c),u=n(155),l=n(90),d=n(370),f=n(139),p=n(302),h=n(399),m=n(1068),v=n(81),b=Object(o.c)({display:"inherit",margin:0,flex:"inherit",flexDirection:"inherit",flexGrow:1,overflowX:"hidden",overflowY:"auto","@media (min-width: 480px)":{height:"unset",overflowY:"auto"}}),g=Object(o.c)({borderTop:"".concat(v.f,"px solid ").concat(v.e)}),y=Object(o.c)({borderBottom:"".concat(v.f,"px solid ").concat(v.e)}),O=Object(r.forwardRef)((function(e,t){var n=e.testId,i=e.children,a=Object(h.a)({previous:!1,next:!1}),c=s()(a,2),O=c[0],w=c[1],k=Object(r.useState)(!1),E=s()(k,2),x=E[0],S=E[1],j=Object(r.useState)(!1),C=s()(j,2),T=C[0],_=C[1],A=Object(r.useState)(!1),P=s()(A,2),I=P[0],M=P[1],R=Object(r.useRef)(null),N=Object(p.a)(w),D=Object(p.a)(Object(l.a)((function(){var e=R.current;e&&S(e.scrollHeight>e.clientHeight)}))),L=Object(p.a)(Object(l.a)((function(){var e=R.current;if(e){var t=e.scrollHeight-e.clientHeight;O.current.previous&&_(e.scrollTop>v.f),O.current.next&&M(e.scrollTop<=t-v.f)}})));return Object(r.useEffect)((function(){var e=R.current,t=Object(u.bind)(window,{type:"resize",listener:L}),n=e?Object(u.bind)(e,{type:"scroll",listener:L}):f.a;return D(),L(),N({previous:Boolean(null==e?void 0:e.previousElementSibling),next:Boolean(null==e?void 0:e.nextElementSibling)}),function(){t(),n()}}),[D,L,N]),Object(o.d)(m.a,{isInset:!0},Object(o.d)("div",{tabIndex:x?0:void 0,"data-testid":n&&"".concat(n,"--scrollable"),ref:Object(d.a)([t,R]),css:[b,T&&g,I&&y]},i))}));O.displayName="ScrollContainer";var w=O,k=n(261);var E=Object(o.c)({flex:"1 1 auto"}),x=Object(o.c)({padding:"".concat(v.f,"px ").concat(v.g,"px")}),S=Object(o.c)({padding:"0px ".concat(v.g,"px")});t.a=function(e){var t=e.children,n=e.testId,c=Object(a.a)().testId,s=function(){var e=Object(r.useContext)(k.b);if(null==e)throw Error("@atlaskit/modal-dialog: Scroll context unavailable  this component needs to be a child of ModalDialog.");return e}(),u=n||c&&"".concat(c,"--body");return s?Object(o.d)("div",{css:[E,S],"data-testid":u},t):Object(o.d)(i.TouchScrollable,null,Object(o.d)(w,{testId:n||c},Object(o.d)("div",{css:[E,x],"data-testid":u},t)))}},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(45),a=n.n(i),c=n(1),s=n.n(c),u=n(34),l=n.n(u),d=n(0),f=n(12),p=n(505),h=n(280),m=n(3),v=n(16),b={light:"var(--ds-background-disabled, ".concat(m.N10,")"),dark:"var(--ds-background-disabled, ".concat(m.DN10,")")},g={light:"var(--ds-background-input, ".concat(m.N10,")"),dark:"var(--ds-background-input, ".concat(m.DN10,")")},y={light:"var(--ds-background-input-pressed, ".concat(m.N0,")"),dark:"var(--ds-background-input-pressed, ".concat(m.DN10,")")},O={light:"var(--ds-background-input-hovered, ".concat(m.N30,")"),dark:"var(--ds-background-input-hovered, ".concat(m.DN30,")")},w={light:"var(--ds-background-neutral-subtle-hovered, ".concat(m.N30,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(m.DN30,")")},k={light:"var(--ds-border, ".concat(m.N40,")"),dark:"var(--ds-border, ".concat(m.DN40,")")},E={light:"var(--ds-border-focused, ".concat(m.B100,")"),dark:"var(--ds-border-focused, ".concat(m.B75,")")},x={light:"transparent",dark:"transparent"},S={light:"var(--ds-text, ".concat(m.N900,")"),dark:"var(--ds-text, ".concat(m.DN600,")")},j={light:"var(--ds-text-disabled, ".concat(m.N70,")"),dark:"var(--ds-text-disabled, ".concat(m.DN90,")")},C={light:"var(--ds-text-subtlest, ".concat(m.N100,")"),dark:"var(--ds-text-subtlest, ".concat(m.DN90,")")};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=Object(v.g)(),P=Object(v.i)(),I={light:{backgroundColor:b.light,backgroundColorHover:b.light,borderColor:b.light,textColor:j.light},dark:{backgroundColor:b.dark,backgroundColorHover:b.dark,borderColor:b.dark,textColor:j.dark}},M={light:{backgroundColor:g.light,backgroundColorHover:O.light,backgroundColorFocus:y.light,borderColor:"var(--ds-border-danger, ".concat(m.R400,")"),borderColorFocus:E.light},dark:{backgroundColor:g.dark,backgroundColorHover:O.dark,backgroundColorFocus:y.dark,borderColor:"var(--ds-border-danger, ".concat(m.R400,")"),borderColorFocus:E.dark}},R={standard:g,subtle:x,none:x},N={standard:y,subtle:y,none:x},D={standard:O,subtle:w,none:x},L={standard:k,subtle:x,none:x},B={standard:E,subtle:E,none:x},F={xsmall:80,small:160,medium:240,large:320,xlarge:480},z=function(e){return e?e in F?F[e]:+e:"100%"},U=function(e,t,n){return _(_({alignItems:"center"},function(e,t){return{backgroundColor:R[e][t],borderColor:L[e][t],color:S[t],cursor:"text","&:hover":{backgroundColor:D[e][t]},"&:focus-within":{backgroundColor:N[e][t],borderColor:B[e][t]},"&[data-disabled]":{backgroundColor:I[t].backgroundColor,borderColor:I[t].borderColor,color:I[t].textColor,cursor:"not-allowed"},"&[data-invalid]":{borderColor:M[t].borderColor},"&[data-invalid]:focus-within":{backgroundColor:M[t].backgroundColorFocus,borderColor:M[t].borderColorFocus},"@media screen and (-ms-high-contrast: active)":{"&[data-invalid]:focus-within":{borderColor:"Highlight"},"&:focus-within":{borderColor:"Highlight"},"&[data-disabled]":{borderColor:"GrayText"}}}}(e,t)),{},{borderRadius:3,borderWidth:2,borderStyle:"none"===e?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:A,justifyContent:"space-between",maxWidth:z(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"})},H=["appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","width","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className"];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={componentName:"textField",packageName:"@atlaskit/textfield",packageVersion:"5.1.12"},G=Object(d.forwardRef)((function(e,t){var n=e.appearance,r=void 0===n?"standard":n,i=e.isCompact,c=void 0!==i&&i,s=e.isDisabled,u=void 0!==s&&s,m=e.isInvalid,b=void 0!==m&&m,g=e.isRequired,y=void 0!==g&&g,O=e.isReadOnly,w=void 0!==O&&O,k=e.isMonospaced,E=void 0!==k&&k,x=e.width,S=e.elemAfterInput,j=e.elemBeforeInput,T=e.testId,_=e.onFocus,M=e.onBlur,R=e.onMouseDown,N=e.className,D=l()(e,H),L=Object(d.useRef)(null),B=Object(h.b)().mode,F=Object(p.a)(V({fn:function(e){_&&_(e)},action:"focused"},q)),z=Object(p.a)(V({fn:function(e){M&&M(e)},action:"blurred"},q)),W=Object(d.useCallback)((function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),L&&L.current&&!u&&document.activeElement!==L.current&&L.current.focus(),R&&R(e)}),[R,u]),G=Object(d.useCallback)((function(e){L.current=e,t&&("object"===a()(t)&&(t.current=e),"function"==typeof t&&t(e))}),[t]),K=Object(d.useMemo)((function(){return U(r,B,x)}),[r,B,x]),$=Object(d.useMemo)((function(){return function(e){return{backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:A,minWidth:"0",outline:"none",width:"100%",lineHeight:2.5*P/A,fontFamily:Object(v.f)(),"&[data-monospaced]":{fontFamily:Object(v.e)()},"&[data-compact]":{padding:"".concat(P/2,"px ").concat(P-2,"px"),height:"".concat((3.5*P/A).toFixed(2),"em")},"&:not([data-compact])":{padding:"".concat(P,"px ").concat(P-2,"px"),height:"".concat((4.5*P/A).toFixed(2),"em")},"&[disabled]":{WebkitTextFillColor:I[e].textColor},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&::placeholder":{color:C[e],"&:disabled":{color:I[e].textColor}},"@media screen and (-ms-high-contrast: active)":{"&[disabled]":{color:"GrayText"}}}}(B)}),[B]);return Object(f.d)("div",{"data-disabled":u||void 0,"data-invalid":b||void 0,"data-ds--text-field--container":!0,"data-testid":T&&"".concat(T,"-container"),onMouseDown:W,css:K,className:N},j,Object(f.d)("input",o()({},D,{"data-compact":c||void 0,"data-monospaced":E||void 0,"data-ds--text-field--input":!0,"data-testid":T,"aria-invalid":b||void 0,disabled:u,readOnly:w,required:y,onBlur:z,onFocus:F,ref:G,css:$})),S)}));G.displayName="Textfield";t.a=Object(d.memo)(G)},function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(8),s=n.n(c),u=n(9),l=n.n(u),d=n(5),f=n.n(d),p=n(13),h=n.n(p),m=n(15),v=n.n(m),b=n(6),g=n.n(b),y=n(1),O=n.n(y),w=n(0),k=n.n(w),E=n(53),x=n(3),S=n(86),j=function(e){return function(t){var n=t.theme,r=Object(S.c)(n[S.e],e);return Object(E.b)(["\n    background-color: ",";\n    color: ",";\n    fill: ",";\n    text-decoration: none;\n\n    &:focus {\n      color: ",";\n    }\n  "],r.background,r.text,r.background,r.text)}},C=function(e){var t=e.isCompact,n=e.theme,r=e.description,o=t?"compact":"default",i=Object(S.c)(n[S.e],o,"padding"),a=i.bottom,c=void 0===a?0:a,s=i.left,u=void 0===s?0:s,l=i.right,d=void 0===l?0:l,f=i.top,p=void 0===f?0:f,h="function"==typeof p?p():p,m="function"==typeof c?c():c;return h=Math.max(r?h-1:h,0),m=Math.max(m-1,0),Object(E.b)(["\n    padding: ","px ","px ","px ","px;\n  "],h,d,m,u)},T=function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(S.c)(n[S.e],r,"height");return o?Object(E.b)(["\n        height: ","px;\n      "],o):""},_=function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(S.c)(n[S.e],r,"width");return o?"number"==typeof o?Object(E.b)(["\n        width: ","px;\n      "],o):Object(E.b)(["\n        width: ",";\n      "],o):""},A=function(e){var t=e.theme,n=e.isDisabled,r=e.isDragging,o=e.isSelected;if(r)return Object(E.b)(["\n      "," box-shadow: 0 4px 8px -2px ",",\n        0 0 1px ",";\n    "],j("dragging"),x.N60A,x.N60A);var i=Object(E.b)(["\n    &:focus {\n      box-shadow: 0 0 0 2px\n        "," inset;\n      text-decoration: none;\n    }\n  "],Object(S.c)(t[S.e],"outline","focus"));return n?Object(E.b)(["\n      cursor: not-allowed;\n      "," ",";\n    "],j("disabled"),i):o?Object(E.b)(["\n      "," &:hover {\n        ",";\n      }\n\n      &:active {\n        ",";\n      }\n\n      ",";\n    "],j("selected"),j("hover"),j("active"),i):Object(E.b)(["\n    &:hover {\n      ",";\n    }\n\n    &:active {\n      ",";\n    }\n\n    ",";\n  "],j("hover"),j("active"),i)},P=function(e){var t=e.theme;return Object(E.b)(["\n  && {\n    align-items: center;\n    border-radius: ","px;\n    box-sizing: border-box;\n    cursor: pointer;\n    display: ",";\n    flex: none;\n    "," "," "," "," "," &:focus {\n      /* focus shadow drawn by getInteractiveStyles */\n\n      outline: none;\n      /* relative position prevents bgcolor of a hovered element from\n      obfuscating focus ring of a focused sibling element */\n      position: relative;\n    }\n  }\n"],Object(S.c)(t[S.e],"borderRadius"),(function(e){return e.isHidden?"none":"flex"}),j("default"),C,A,T,_)},I=function(e){var t=e.href,n=e.linkComponent;return n?Object(E.c)(n).withConfig({displayName:"Item",componentId:"z6qfkt-0"})(["\n      ",";\n    "],P):t?E.c.a.withConfig({displayName:"Item",componentId:"z6qfkt-1"})(["\n      ",";\n    "],P):E.c.span.withConfig({displayName:"Item",componentId:"z6qfkt-2"})(["\n    ",";\n  "],P)},M=n(16),R=(E.c.span.withConfig({displayName:"ItemParts__InputWrapper",componentId:"sc-14xek3m-0"})(["\n  display: flex;\n  margin: 0 2px;\n"]),E.c.span.withConfig({displayName:"ItemParts__BeforeAfterBase",componentId:"sc-14xek3m-1"})(["\n  align-items: center;\n  display: flex;\n  flex-shrink: 0;\n  /* Fix windows line-height issue */\n  padding-bottom: 1px;\n"])),N=Object(E.c)(R).withConfig({displayName:"ItemParts__Before",componentId:"sc-14xek3m-2"})(["\n  ",";\n"],(function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(S.c)(n[S.e],r,"beforeItemSpacing");return Object(E.b)(["\n    margin-right: ","px;\n  "],o)})),D=Object(E.c)(R).withConfig({displayName:"ItemParts__After",componentId:"sc-14xek3m-3"})(["\n  ",";\n"],(function(e){var t=e.isCompact,n=e.theme,r=t?"compact":"default",o=Object(S.c)(n[S.e],r,"afterItemSpacing");return Object(E.b)(["\n    margin-left: ","px;\n  "],o)})),L=E.c.span.withConfig({displayName:"ItemParts__ContentWrapper",componentId:"sc-14xek3m-4"})(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  margin: 0;\n  overflow: hidden;\n\n  &:first-child {\n    margin: 0;\n  }\n"]),B=E.c.span.withConfig({displayName:"ItemParts__Content",componentId:"sc-14xek3m-5"})(["\n  display: block;\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: ",";\n  line-height: ",";\n  /* Fix windows line-height issue */\n  padding-bottom: 1px;\n"],(function(e){return e.allowMultiline?"normal":"nowrap"}),16/Object(M.g)()),F=E.c.span.withConfig({displayName:"ItemParts__Description",componentId:"sc-14xek3m-6"})(["\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  "," ",";\n"],(function(e){var t=e.isDisabled,n=e.theme;return t?Object(E.b)(["\n      color: ",";\n    "],Object(S.c)(n[S.e],"secondaryText","disabled")):Object(E.b)(["\n    color: ",";\n\n    /* This detects hover on the grandparent. Saves us having to maintain isHovered\n       state in the grandparent. */\n    *:hover > * > & {\n      color: ",";\n    }\n\n    *:active > * > & {\n      color: ",";\n    }\n  "],Object(S.c)(n[S.e],"secondaryText","default"),(function(){return Object(S.c)(n[S.e],"secondaryText","hover")}),(function(){return Object(S.c)(n[S.e],"secondaryText","active")}))}),(function(e){var t=e.isCompact,n=t?S.b:Object(M.h)(),r=t?S.a:14/n;return Object(E.b)(["\n    font-size: ","px;\n    line-height: ",";\n    /* Fix windows line-height issue */\n    padding-bottom: 1px;\n  "],n,r)}));function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var U=function(e){h()(n,e);var t=z(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(f()(r),"setRef",(function(e){r.ref=e})),O()(f()(r),"href",(function(){return r.props.isDisabled?null:r.props.href})),r.rootComponent=I({href:r.href(),linkComponent:e.linkComponent}),r}return l()(n,[{key:"componentDidMount",value:function(){this.ref&&this.props.autoFocus&&this.ref.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,r=t.onKeyDown,i=t.isCompact,c=t.isDisabled,s=t.isDragging,u=t.isHidden,l=t.isSelected,d=t.onMouseEnter,f=t.onMouseLeave,p=t.role,h=t.dnd,m=a()(t,["onClick","onKeyDown","isCompact","isDisabled","isDragging","isHidden","isSelected","onMouseEnter","onMouseLeave","role","dnd"]),v=this.rootComponent,b=h&&h.dragHandleProps||null,g={onClick:function(e){e.defaultPrevented||!c&&n&&n(e)},onMouseDown:function(e){b&&b.onMouseDown&&b.onMouseDown(e),e.preventDefault()},onKeyDown:function(e){s||(b&&b.onKeyDown&&b.onKeyDown(e),e.defaultPrevented||c||r&&r(e))}};return k.a.createElement(v,o()({"aria-disabled":c,href:this.href(),isCompact:i,isDisabled:c,isDragging:s,isHidden:u,isSelected:l,onMouseEnter:d,onMouseLeave:f,role:p,tabIndex:c||u||this.props.href?null:0,target:this.props.target,title:this.props.title,innerRef:function(t){e.setRef(t),h&&h.innerRef&&h.innerRef(t)}},h&&h.draggableProps,b,g,m),!!this.props.elemBefore&&k.a.createElement(N,{isCompact:i},this.props.elemBefore),k.a.createElement(L,null,k.a.createElement(B,{allowMultiline:this.props.shouldAllowMultiline},this.props.children),!!this.props.description&&k.a.createElement(F,{isCompact:this.props.isCompact,isDisabled:this.props.isDisabled},this.props.description)),!!this.props.elemAfter&&k.a.createElement(D,{isCompact:i},this.props.elemAfter))}}]),n}(w.Component);O()(U,"defaultProps",{autoFocus:!1,description:"",isCompact:!1,isDisabled:!1,isHidden:!1,role:"button",shouldAllowMultiline:!1})},function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f}));var r,o=n(423),i=n(61),a=n(56);!function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(r||(r={}));var c=function(e){var t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},s=function(){var e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},u=function(e,t,n){if(!t||n===r.ISO_FORMAT)return l(e);var o=new Date(Number(e)),i=n===r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,a=!i;return t.formatDate(o,{timeZone:"UTC",weekday:i?"short":void 0,month:"short",day:"numeric",year:a?"numeric":void 0,formatMatcher:"best fit"})},l=function(e){var t,n=new Date(Number(e));return"".concat(n.getUTCFullYear(),"-").concat((t=n.getUTCMonth()+1,t<10?"0".concat(t):t),"-").concat(n.getUTCDate())},d=function(e){return function(e,t){Object(a.a)(2,arguments);var n=Object(i.a)(e),r=Object(i.a)(t);return n.getTime()<r.getTime()}(new Date(Number(e)),new Date(Number(s())))},f=function(e,t){var n,i=new Date(Number(s())),a=new Date(Number(e)),c=Object(o.a)(a,i),l=a.getUTCFullYear()===i.getUTCFullYear();return t&&[-1,0,1].indexOf(c)>-1?(n=t.formatRelativeTime(c,"day",{numeric:"auto"})).charAt(0).toUpperCase()+n.slice(1):u(e,t,l?r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:r.LOCALIZED_FORMAT)}},function(e,t,n){"use strict";var r,o,i,a,c,s,u,l,d=n(8),f=n.n(d),p=n(9),h=n.n(p),m=n(5),v=n.n(m),b=n(13),g=n.n(b),y=n(15),O=n.n(y),w=n(6),k=n.n(w),E=n(1),x=n.n(E),S=n(0),j=n.n(S),C=n(316),T=n(1222),_=n(274),A=n.n(_),P=n(1092),I=n(334),M=n(82),R=n(185),N=n(7),D=n.n(N),L=n(48),B=n(16),F=n(3),z=n(118),U=n(33),H=L.a.div(r||(r=D()(["\n  justify-content: flex-end;\n  margin-top: -","px; /* Negative margin is used to middle align x button with title */\n  margin-right: ","px;\n"])),.5*Object(B.i)(),.5*Object(B.i)()),W=L.a.div(o||(o=D()(["\n  ",";\n  margin-top: 0px;\n"])),z.d),V=L.a.div(i||(i=D()(["\n  margin-left: ","px;\n  margin-bottom: ","px;\n"])),2*Object(B.i)(),.5*Object(B.i)()),q=L.a.div(a||(a=D()(["\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n  overflow: hidden;\n  line-height: 21px;\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n  padding-right: 0px;\n  margin-top: -","px; /* Negative margin is used to fill the entire top of the mention dropdown with background colour of highlight */\n"])),Object(U.a)("color.background.discovery",F.P50),2*Object(B.i)(),2*Object(B.i)(),2*Object(B.i)(),.5*Object(B.i)()),G=L.a.div(c||(c=D()(["\n  max-width: 290px;\n  display: flex;\n"]))),K=L.a.div(s||(s=D()([""]))),$=L.a.div(u||(u=D()(["\n  opacity: 0.8;\n"]))),Y=L.a.div(l||(l=D()(["\n  margin-left: ","px;\n"])),2*Object(B.i)()),X=n(294);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}var Z=function(e){g()(n,e);var t=J(n);function n(e){var r;return f()(this,n),r=t.call(this,e),x()(v()(r),"onCreateTeamLinkClick",(function(){r.setState({isHighlightHidden:!0});var e=r.props.onCreateTeamLinkClick;I.a.registerCreateLinkClick(),e&&e()})),x()(v()(r),"preventClickOnCard",(function(e){r.elCloseWrapper.current&&r.elCloseWrapper.current.contains(e.target)&&r.onCloseClick(),r.elCreateTeamWrapper.current&&r.elCreateTeamWrapper.current.contains(e.target)&&r.onCreateTeamLinkClick(),e.stopPropagation(),e.stopImmediatePropagation()})),x()(v()(r),"onCloseClick",(function(){r.setState({isHighlightHidden:!0}),r.props.onClose()})),r.elWrapper=j.a.createRef(),r.elCloseWrapper=j.a.createRef(),r.elCreateTeamWrapper=j.a.createRef(),r.state={isHighlightHidden:!1},r}return h()(n,[{key:"componentDidMount",value:function(){var e=this.props.onViewed;this.addEventHandler(),I.a.isHighlightEnabled()?(I.a.registerRender(),e&&e()):this.setState({isHighlightHidden:!0})}},{key:"componentWillUnmount",value:function(){this.removeEventHandler()}},{key:"addEventHandler",value:function(){this.elWrapper.current&&this.elWrapper.current.addEventListener("click",this.preventClickOnCard)}},{key:"removeEventHandler",value:function(){this.elWrapper.current&&this.elWrapper.current.removeEventListener("click",this.preventClickOnCard)}},{key:"render",value:function(){var e=this,t=this.props.createTeamLink;return this.state.isHighlightHidden?null:j.a.createElement(X.a,null,j.a.createElement("div",{ref:this.elWrapper},j.a.createElement(q,null,j.a.createElement(G,null,j.a.createElement($,null,j.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSI2NCIgY3k9IjY0IiBmaWxsPSIjNTI0M2FhIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHI9IjY0Ii8+PHBhdGggZD0ibTgwIDY0Yy02LjYyNzQxNyAwLTEyLTUuMzcyNTgzLTEyLTEyczUuMzcyNTgzLTEyIDEyLTEyIDEyIDUuMzcyNTgzIDEyIDEyLTUuMzcyNTgzIDEyLTEyIDEyem0tMzItMTJjLTYuNjI3NDE3IDAtMTItNS4zNzI1ODMtMTItMTJzNS4zNzI1ODMtMTIgMTItMTIgMTIgNS4zNzI1ODMgMTIgMTItNS4zNzI1ODMgMTItMTIgMTJ6bTEyIDI0YzAtNC40MiAzLjU0OC04IDgtOGgyNGM0LjQyIDAgOCAzLjU0IDggOHYxNC45MmMwIDEyLjEwOC00MCAxMi4xMDgtNDAgMHptOC0xMmgtLjAxMmMtMy4xODQzNTM3LjAwNDI0LTYuMjM2NTQxIDEuMjczNTYxNS04LjQ4NDg0MjcgMy41Mjg2MTQ5LTIuMjQ4MzAxOCAyLjI1NTA1MzQtMy41MDg0NjU2IDUuMzExMDMzLTMuNTAzMTU3MyA4LjQ5NTM4NTF2MTEuMjI4Yy0xMS43ODQgMi4xMzYtMjgtLjI1Mi0yOC03LjkzNnYtMTUuMzA0YzAtNC40MjQgMy41NDgtOC4wMTIgOC04LjAxMmgyNGMyLjEyMjcwODYtLjAwMzE5MTIgNC4xNTkzOTQ2LjgzODYzODYgNS42NjAzNzggMi4zMzk2MjJzMi4zNDI4MTMyIDMuNTM3NjY5NCAyLjMzOTYyMiA1LjY2MDM3OHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjk1Ii8+PC9nPjwvc3ZnPg==",height:32})),j.a.createElement(K,null,j.a.createElement(V,null,j.a.createElement(W,null,j.a.createElement(R.f,null))),j.a.createElement(Y,null,j.a.createElement(R.d,null,(function(n){return j.a.createElement("div",null,n,j.a.createElement("span",{ref:e.elCreateTeamWrapper},j.a.createElement(R.e,null,(function(e){return j.a.createElement("a",{href:t,target:"_blank"}," ",e)}))))})))),j.a.createElement(H,null,j.a.createElement("div",{ref:this.elCloseWrapper},j.a.createElement(R.c,null,(function(e){return j.a.createElement(P.a,{content:e,position:"bottom"},j.a.createElement(T.a,{appearance:"subtle",iconBefore:j.a.createElement(A.a,{label:"Close",size:"medium"}),spacing:"none"}))}))))))))}}]),n}(j.a.Component);x()(Z,"defaultProps",{createTeamLink:"/people/search#createTeam"});var Q=Object(C.a)({onClose:function(e){Object(M.h)(e)(M.b.TEAM_MENTION_HIGHLIGHT,M.a.CLOSED,M.b.MENTION,"closeButton")},onCreateTeamLinkClick:function(e){Object(M.h)(e)(M.b.TEAM_MENTION_HIGHLIGHT,M.a.CLICKED,M.b.MENTION,"createTeamLink")},onViewed:function(e){Object(M.h)(e)(M.b.TEAM_MENTION_HIGHLIGHT,M.a.VIEWED,M.b.MENTION,void 0,I.a.getSeenCount())}})(Z);t.a=Q},function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n(12),u=n(3),l=n(16),d=n(118),f=n(139),p=["children","testId","id","cssFn"],h=2.5*Object(l.i)(),m=d.h.h100.lineHeight,v=d.h.h100.size,b=Object(s.c)({padding:"0 ".concat(h,"px"),color:"var(--ds-text-subtle, ".concat(u.N300,")"),fontSize:v,fontWeight:700,lineHeight:m/v,textTransform:"uppercase"}),g=Object(c.memo)((function(e){var t=e.children,n=e.testId,r=e.id,i=e.cssFn,c=void 0===i?f.a:i,u=a()(e,p);return Object(s.d)("div",o()({css:[b,c(void 0)],"data-testid":n,"data-ds--menu--heading-item":!0,id:r},u),t)})),y=["children","overrides","title","testId","isScrollable","hasSeparator","id"],O=Object(l.i)(),w=2.5*O,k=.75*O,E=w+(d.h.h100.lineHeight-O)-3,x=k+3,S=.75*O,j=Object(s.c)({"&::before, &::after":{display:"block",height:S,content:'""'},"& [data-ds--menu--heading-item]":{marginTop:w,marginBottom:k,"&:first-of-type":{marginTop:w-S}},"& [data-ds--menu--skeleton-heading-item]":{marginTop:E,marginBottom:x,"&:first-of-type":{marginTop:E-S}},"&:focus":{outlineOffset:-1}}),C=Object(s.c)({flexShrink:1,overflow:"auto"}),T=Object(s.c)({flexShrink:0}),_=Object(s.c)({borderTop:"2px solid var(".concat("--ds-menu-seperator-color",", ","var(--ds-border, ".concat(u.N30A,")"),")")}),A=Object(s.c)({"[data-section] + &":{marginTop:-6}}),P=Object(c.forwardRef)((function(e,t){var n=e.children,r=e.overrides,i=e.title,u=e.testId,l=e.isScrollable,d=e.hasSeparator,f=e.id,p=a()(e,y),h=void 0!==i?Object(s.d)(c.Fragment,null,Object(s.d)(g,{cssFn:r&&r.HeadingItem&&r.HeadingItem.cssFn,testId:u&&"".concat(u,"--heading"),"aria-hidden":!0},i),n):n;return Object(s.d)("div",o()({},p,{id:f,css:[j,l?C:T,d?_:A],"aria-label":i,"data-testid":u,role:"group","data-section":!0,ref:t}),h)}));t.a=P},function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r,o=n(8),i=n.n(o),a=n(9),c=n.n(a),s=n(13),u=n.n(s),l=n(15),d=n.n(l),f=n(6),p=n.n(f),h=n(0),m=n.n(h),v=n(467),b=n(745),g=n(535),y=n(7),O=n.n(y),w=n(48),k=n(152),E=Object(w.a)(k.d)(r||(r=O()(["\n  vertical-align: baseline;\n  margin-left: 2px;\n"])));function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(e){u()(n,e);var t=x(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.onClick,r=e.isSelected,o=e.inlinePreloaderStyle,i=e.testId,a=void 0===i?"media-inline-card-loading-view":i;return"on-right-without-skeleton"===o?m.a.createElement(v.a,{testId:a,onClick:n,isSelected:r},m.a.createElement(k.d,null,t,m.a.createElement(k.f,null,m.a.createElement(E,{className:"inline-loading-spinner"},m.a.createElement(b.a,{size:14}))))):m.a.createElement(v.a,{testId:a,onClick:n,isSelected:r},m.a.createElement(g.a,{title:t},m.a.createElement(E,{className:"inline-loading-spinner"},m.a.createElement(b.a,{size:14}))))}}]),n}(m.a.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(0),o=n(485),i=function(e){return void 0===e&&(e=""),{value:1,prefix:e,uid:Object(o.a)()}},a=i(),c=r.createContext(i()),s=function(){return r.useState((e=r.useContext(c),{uid:n=function(e){return e?e.prefix:""}(t=e||a)+function(e){return e.value++}(t),gen:function(e){return n+t.uid(e)}}));var e,t,n},u=function(){return s()[0].uid},l=function(){return s()[0].gen}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(22),o=n.n(r),i=n(34),a=n.n(i),c=n(0),s=n.n(c),u=n(1092),l=n(12),d=n(3),f=Object(l.c)({position:"relative",":before":{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"0 4px",fontSize:"14px",lineHeight:"18px",background:"var(--ds-background-warning, ".concat(d.Y75,")"),pointerEvents:"auto",content:'"<"attr(data-bidi-character-code)">"',color:"var(--ds-text-warning, #7F5F01)",fontStyle:"normal"},":hover:before":{color:"var(--ds-text-warning, #533F04)",background:"var(--ds-background-warning-hovered, ".concat(d.Y75,")")}});function p(e){var t=e.bidiCharacter,n=e.children,r=e.testId,o=function(e){var t,n=null===(t=e.codePointAt(0))||void 0===t?void 0:t.toString(16);return"U+".concat(n)}(t);return Object(l.d)("span",{"aria-label":o},Object(l.d)("span",{css:f,"data-testid":r,"data-bidi-character-code":o,"aria-hidden":"true"},n))}var h=["children"];function m(e){var t=e.testId,n=e.bidiCharacter,r=e.skipChildren,o=e.tooltipEnabled,i=e.label,a=void 0===i?"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.":i;return o?s.a.createElement(u.a,{content:a,tag:v},s.a.createElement(p,{testId:t,bidiCharacter:n},r?null:n)):s.a.createElement(p,{testId:t,bidiCharacter:n},r?null:n)}var v=s.a.forwardRef((function(e,t){var n=e.children,r=a()(e,h);return s.a.createElement("span",o()({},r,{ref:t}),n)}))}]);
//# sourceMappingURL=atlassianEditor.bundle.js.map